<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Python-HackerRank.md – Python HackerRank tips</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span. { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="Css/layout_toc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/javascript" src="Css/js_masonry_desandro.js"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Python HackerRank tips</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#tips">Tips</a></li>
<li><a href="#classes-tips">Classes tips</a>
<ul>
<li><a href="#string">String</a></li>
<li><a href="#list">List</a></li>
<li><a href="#dictionary">Dictionary</a></li>
<li><a href="#golf">Golf</a></li>
<li><a href="#stdin-stdout">StdIn / StdOut</a></li>
<li><a href="#sorting">Sorting</a></li>
<li><a href="#idioms">Idioms</a></li>
</ul></li>
<li><a href="#some-hackerrank-solutions">Some HackerRank solutions</a>
<ul>
<li><a href="#count-triplet">Count triplet</a></li>
<li><a href="#solution-reverse-shuffle-merge">Solution: Reverse Shuffle Merge</a></li>
<li><a href="#fraudulent-activity-notifications">Fraudulent Activity Notifications</a></li>
<li><a href="#sherlock-and-anagrams">Sherlock and Anagrams</a></li>
<li><a href="#string-sub-count">String: Sub count</a></li>
<li><a href="#string-longest-common-substring-problem">String: Longest Common substring problem</a></li>
<li><a href="#tree-swap-node">Tree: Swap Node</a></li>
<li><a href="#array-max-sum-in-subarray-max-array-sum">Array : max sum in subarray (Max Array Sum)</a></li>
<li><a href="#pairs-of-equal-difference">Pairs (of equal difference)</a></li>
<li><a href="#triple-sum-find-unique">Triple sum (find unique)</a></li>
<li><a href="#minimum-time-required">Minimum Time Required</a></li>
<li><a href="#balanced-parenthesis-stack-of-course">Balanced parenthesis (Stack of course)</a></li>
<li><a href="#maze-castle-on-the-grid">Maze: Castle on the Grid</a></li>
</ul></li>
</ul>
</nav>
<section id="tips" class="level3">
<h3>Tips</h3>
<ul>
<li><code>cur = curs.pop(0)</code> to remove first. Wanring not cur.pop()</li>
<li>In loops, you will fail at first try -&gt; print</li>
<li>Don’t hesitate to comment, especially math</li>
<li>Represent the cas of arry and not the bound : arr[0] is first case not first frontier</li>
<li><code>UNIQUE</code> &lt;- grep this keyword, then pre-uniquify anything: can fasten a lot combinatory</li>
<li><code>42.2 // 2</code> &lt;- <code>int(42.2/2)</code> or <code>math.floor(42.2/2)</code> but the result is float</li>
<li>Do not dickotomize by hand !!! Use bisect</li>
</ul>
<section id="memoize-function-return-value-cache" class="level4">
<h4>Memoize function return value (cache)</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="at">@functools.lru_cache</span>(maxsize<span class="op">=</span><span class="dv">100</span>, typed<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
</section>
<section id="increase-recursion-depth" class="level4">
<h4>Increase recursion depth</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="bu">print</span>(sys.getrecursionlimit())</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co"># gives me 1000</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>sys.setrecursionlimit(<span class="dv">3000</span>) </span></code></pre></div>
</section>
</section>
<section id="classes-tips" class="level2">
<h2>Classes tips</h2>
<section class="level2">
<section id="string" class="level3">
<h3>String</h3>
<ul>
<li><strong>repr</strong>:
<ul>
<li><strong>repr</strong> goal is to be unambiguous</li>
<li><strong>str</strong> goal is to be readable</li>
<li>Container’s <strong>str</strong> uses contained objects’ <strong>repr</strong></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co"># Reverse string</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">&quot;Hello World&quot;</span>[::<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co"># Find last char </span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">&quot;Hello&quot;</span>.rfind(<span class="st">&#39;l&#39;</span>)</span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co"># Get alphbet</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="im">from</span> string <span class="im">import</span> ascii_lowercase</span>
<span id="cb3-12"><a href="#cb3-12"></a></span>
<span id="cb3-13"><a href="#cb3-13"></a></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co"># Find all index match</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>s <span class="op">=</span> <span class="st">&quot;ababdfegtduab&quot;</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>[m.start() <span class="cf">for</span> m <span class="kw">in</span> re.finditer(<span class="vs">r&quot;ab&quot;</span>,s)]</span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co"># -&gt; [0, 2, 11]</span></span></code></pre></div>
</section>
<section id="list" class="level3">
<h3>List</h3>
<ul>
<li>deque is short for Double Ended Queue</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># Find last elt of list</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>li <span class="op">=</span> [<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;x&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;6&quot;</span>]</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">&#39;&#39;</span>.join(li).rindex(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="bu">len</span>(li) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> li[::<span class="op">-</span><span class="dv">1</span>].index(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># Find index</span></span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co"># # All of whatever condition</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>indexes <span class="op">=</span> [i <span class="cf">for</span> i,x <span class="kw">in</span> <span class="bu">enumerate</span>(xs) <span class="cf">if</span> x <span class="op">==</span> <span class="st">&#39;foo&#39;</span>]</span>
<span id="cb4-12"><a href="#cb4-12"></a></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co"># # First (surround with try catch)</span></span>
<span id="cb4-14"><a href="#cb4-14"></a>[<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;baz&quot;</span>].index(<span class="st">&quot;bar&quot;</span>)</span>
<span id="cb4-15"><a href="#cb4-15"></a></span>
<span id="cb4-16"><a href="#cb4-16"></a></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co"># Contains only hi</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="bu">all</span>(elem <span class="op">==</span> <span class="st">&quot;hi&quot;</span> <span class="cf">for</span> elem <span class="kw">in</span> bag)</span>
<span id="cb4-19"><a href="#cb4-19"></a></span>
<span id="cb4-20"><a href="#cb4-20"></a></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co"># Equality</span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="im">import</span> collections</span>
<span id="cb4-23"><a href="#cb4-23"></a>collections.Counter(x) <span class="op">==</span> collections.Counter(y)</span>
<span id="cb4-24"><a href="#cb4-24"></a></span>
<span id="cb4-25"><a href="#cb4-25"></a><span class="co"># # or</span></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="bu">sorted</span>(x) <span class="op">==</span> <span class="bu">sorted</span>(y)</span>
<span id="cb4-27"><a href="#cb4-27"></a></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="co"># # or if unique</span></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="bu">set</span>(x) <span class="op">==</span> <span class="bu">set</span>(y)</span>
<span id="cb4-30"><a href="#cb4-30"></a></span>
<span id="cb4-31"><a href="#cb4-31"></a></span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="co"># Reverse</span></span>
<span id="cb4-33"><a href="#cb4-33"></a><span class="bu">reversed</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb4-34"><a href="#cb4-34"></a></span>
<span id="cb4-35"><a href="#cb4-35"></a></span>
<span id="cb4-36"><a href="#cb4-36"></a><span class="co"># append multiple items</span></span>
<span id="cb4-37"><a href="#cb4-37"></a>l <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb4-38"><a href="#cb4-38"></a>l.extends([<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>])</span>
<span id="cb4-39"><a href="#cb4-39"></a></span>
<span id="cb4-40"><a href="#cb4-40"></a><span class="co"># &quot; Better</span></span>
<span id="cb4-41"><a href="#cb4-41"></a>l <span class="op">+=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb4-42"><a href="#cb4-42"></a></span>
<span id="cb4-43"><a href="#cb4-43"></a></span>
<span id="cb4-44"><a href="#cb4-44"></a><span class="co"># Enumerate, very usefull</span></span>
<span id="cb4-45"><a href="#cb4-45"></a></span>
<span id="cb4-46"><a href="#cb4-46"></a></span>
<span id="cb4-47"><a href="#cb4-47"></a><span class="co"># Set</span></span>
<span id="cb4-48"><a href="#cb4-48"></a></span>
<span id="cb4-49"><a href="#cb4-49"></a><span class="co"># # intersection</span></span>
<span id="cb4-50"><a href="#cb4-50"></a>z <span class="op">=</span> x.intersection(y) </span>
<span id="cb4-51"><a href="#cb4-51"></a></span>
<span id="cb4-52"><a href="#cb4-52"></a></span>
<span id="cb4-53"><a href="#cb4-53"></a><span class="co"># Copy nested list (2 dimension)</span></span>
<span id="cb4-54"><a href="#cb4-54"></a>y <span class="op">=</span> [row[:] <span class="cf">for</span> row <span class="kw">in</span> x]</span></code></pre></div>
</section>
<section id="dictionary" class="level3">
<h3>Dictionary</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co"># Add 2 dict</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>dic3 <span class="op">=</span> {<span class="op">**</span>dic1, <span class="op">**</span>dic2}</span>
<span id="cb5-4"><a href="#cb5-4"></a>z <span class="op">=</span> x.copy()</span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co"># start with x&#39;s keys and values</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>z.update(y)</span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co"># modifies z with y&#39;s keys and values &amp; returns None</span></span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co"># Auto vivication</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="im">from</span> collections <span class="im">import</span> defaultdict</span>
<span id="cb5-12"><a href="#cb5-12"></a>d <span class="op">=</span> defaultdict(<span class="bu">int</span>)</span>
<span id="cb5-13"><a href="#cb5-13"></a>d[<span class="dv">3</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co"># -&gt; defaultdict(int, {3: 1})</span></span></code></pre></div>
</section>
<section id="golf" class="level3">
<h3>Golf</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="cf">for</span> i <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]:</span>
<span id="cb6-2"><a href="#cb6-2"></a>    <span class="bu">print</span>(i)</span>
<span id="cb6-3"><a href="#cb6-3"></a>    <span class="cf">if</span> i<span class="op">==</span><span class="dv">3</span>:</span>
<span id="cb6-4"><a href="#cb6-4"></a>        <span class="cf">break</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="cf">else</span>:</span>
<span id="cb6-6"><a href="#cb6-6"></a>    <span class="bu">print</span>(<span class="st">&quot;for loop was not broken&quot;</span>)</span></code></pre></div>
</section>
<section id="stdin-stdout" class="level3">
<h3>StdIn / StdOut</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>fptr <span class="op">=</span> <span class="bu">open</span>(os.environ[<span class="st">&#39;OUTPUT_PATH&#39;</span>], <span class="st">&#39;w&#39;</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>n <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>())</span>
<span id="cb7-4"><a href="#cb7-4"></a></span>
<span id="cb7-5"><a href="#cb7-5"></a>s <span class="op">=</span> <span class="bu">input</span>()</span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a>result <span class="op">=</span> substrCount(n, s)</span>
<span id="cb7-8"><a href="#cb7-8"></a></span>
<span id="cb7-9"><a href="#cb7-9"></a>fptr.write(<span class="bu">str</span>(result) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb7-10"><a href="#cb7-10"></a></span>
<span id="cb7-11"><a href="#cb7-11"></a>fptr.close()</span></code></pre></div>
<p>Or more complex</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>fptr <span class="op">=</span> <span class="bu">open</span>(os.environ[<span class="st">&#39;OUTPUT_PATH&#39;</span>], <span class="st">&#39;w&#39;</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a></span>
<span id="cb8-3"><a href="#cb8-3"></a>q <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>().strip())</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a>queries <span class="op">=</span> []</span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(q):</span>
<span id="cb8-8"><a href="#cb8-8"></a>    queries.append(<span class="bu">list</span>(<span class="bu">map</span>(<span class="bu">int</span>, <span class="bu">input</span>().rstrip().split())))</span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a>ans <span class="op">=</span> freqQuery(queries)</span>
<span id="cb8-11"><a href="#cb8-11"></a></span>
<span id="cb8-12"><a href="#cb8-12"></a>fptr.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>.join(<span class="bu">map</span>(<span class="bu">str</span>, ans)))</span>
<span id="cb8-13"><a href="#cb8-13"></a>fptr.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb8-14"><a href="#cb8-14"></a></span>
<span id="cb8-15"><a href="#cb8-15"></a>fptr.close()</span></code></pre></div>
</section>
<section id="sorting" class="level3">
<h3>Sorting</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co"># Eumerate function</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>l1 <span class="op">=</span> [<span class="st">&quot;eat&quot;</span>,<span class="st">&quot;sleep&quot;</span>,<span class="st">&quot;repeat&quot;</span>] </span>
<span id="cb9-4"><a href="#cb9-4"></a>s1 <span class="op">=</span> <span class="st">&quot;geek&quot;</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="bu">print</span> <span class="bu">list</span>(<span class="bu">enumerate</span>(l1)) </span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co"># changing start index to 2 from 0 </span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="bu">print</span> <span class="bu">list</span>(<span class="bu">enumerate</span>(s1,<span class="dv">2</span>)) </span>
<span id="cb9-10"><a href="#cb9-10"></a></span>
<span id="cb9-11"><a href="#cb9-11"></a></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co"># Map lambda</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>new_list <span class="op">=</span> <span class="bu">map</span>(<span class="kw">lambda</span> x: x<span class="op">%</span>num, old_list)</span>
<span id="cb9-14"><a href="#cb9-14"></a>new_list <span class="op">=</span> [ x<span class="op">%</span>num <span class="cf">for</span> x <span class="kw">in</span> old_list]</span>
<span id="cb9-15"><a href="#cb9-15"></a></span>
<span id="cb9-16"><a href="#cb9-16"></a></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="co"># Swap (with &#39;tuple-unpacking&#39;)</span></span>
<span id="cb9-18"><a href="#cb9-18"></a>arr[i], arr[j] <span class="op">=</span> arr[j], arr[i]</span></code></pre></div>
</section>
<section id="idioms" class="level3">
<h3>Idioms</h3>
<ul>
<li>tuple-unpacking:</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>foo, boo, moo <span class="op">=</span> boo[<span class="dv">0</span>], moo[<span class="dv">0</span>], foo[<span class="dv">0</span>] <span class="op">=</span> moo[<span class="dv">0</span>], foo[<span class="dv">0</span>], boo[<span class="dv">0</span>] <span class="op">=</span> [<span class="dv">0</span>], [<span class="dv">0</span>], [<span class="dv">0</span>]`</span></code></pre></div>
<ul>
<li>Get from dict (of dict):</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a>value <span class="op">=</span> d.get(key, {}).get(key2, <span class="st">&quot;empty&quot;</span>)</span></code></pre></div>
</section>
</section>
</section>
<section id="some-hackerrank-solutions" class="level2">
<h2>Some HackerRank solutions</h2>
<section class="level2">
<section id="count-triplet" class="level3">
<h3>Count triplet</h3>
<p>Count number of geometric progression in array [x, x<em>k, x</em>k*k]. K is given, read the rules !</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">def</span> countTriplets(arr, r):</span>
<span id="cb12-2"><a href="#cb12-2"></a>    count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> dic1 <span class="op">=</span> {}<span class="op">;</span> dic2 <span class="op">=</span> {}</span>
<span id="cb12-3"><a href="#cb12-3"></a></span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="cf">for</span> i3 <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co"># get</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>        val3 <span class="op">=</span> arr[i3]</span>
<span id="cb12-8"><a href="#cb12-8"></a>        val2 <span class="op">=</span> val3 <span class="op">/</span> r</span>
<span id="cb12-9"><a href="#cb12-9"></a></span>
<span id="cb12-10"><a href="#cb12-10"></a></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co"># count</span></span>
<span id="cb12-12"><a href="#cb12-12"></a>        count <span class="op">+=</span> dic2.get(val2, <span class="dv">0</span>)</span>
<span id="cb12-13"><a href="#cb12-13"></a></span>
<span id="cb12-14"><a href="#cb12-14"></a></span>
<span id="cb12-15"><a href="#cb12-15"></a><span class="co"># update</span></span>
<span id="cb12-16"><a href="#cb12-16"></a>        dic2[val3] <span class="op">=</span> dic2.get(val3, <span class="dv">0</span>) <span class="op">+</span> dic1.get(val2, <span class="dv">0</span>)</span>
<span id="cb12-17"><a href="#cb12-17"></a>        dic1[val3] <span class="op">=</span> dic1.get(val3, <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-18"><a href="#cb12-18"></a></span>
<span id="cb12-19"><a href="#cb12-19"></a>    <span class="cf">return</span> count</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a><span class="im">from</span> collections <span class="im">import</span> defaultdict</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw">def</span> countTriplets(arr, r):</span>
<span id="cb13-3"><a href="#cb13-3"></a>    v2 <span class="op">=</span> defaultdict(<span class="bu">int</span>)</span>
<span id="cb13-4"><a href="#cb13-4"></a>    v3 <span class="op">=</span> defaultdict(<span class="bu">int</span>)</span>
<span id="cb13-5"><a href="#cb13-5"></a>    count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>    <span class="cf">for</span> k <span class="kw">in</span> arr:</span>
<span id="cb13-7"><a href="#cb13-7"></a>        count <span class="op">+=</span> v3[k]</span>
<span id="cb13-8"><a href="#cb13-8"></a>        v3[k<span class="op">*</span>r] <span class="op">+=</span> v2[k]</span>
<span id="cb13-9"><a href="#cb13-9"></a>        v2[k<span class="op">*</span>r] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb13-10"><a href="#cb13-10"></a></span>
<span id="cb13-11"><a href="#cb13-11"></a>    <span class="cf">return</span> count</span></code></pre></div>
</section>
<section id="solution-reverse-shuffle-merge" class="level3">
<h3>Solution: Reverse Shuffle Merge</h3>
<p>Note : I did not manage in 3h. When tired, get really bad + no paper to note =&gt; Must concentrate</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">def</span> reverseShuffleMerge(s):</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co"># Total character counts in s</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>    char_count <span class="op">=</span> Counter(s)</span>
<span id="cb14-5"><a href="#cb14-5"></a></span>
<span id="cb14-6"><a href="#cb14-6"></a></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co"># Character counts we need in our final string</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>    string_chars <span class="op">=</span> { </span>
<span id="cb14-9"><a href="#cb14-9"></a>        char: <span class="bu">int</span>(count <span class="op">/</span> <span class="dv">2</span>) <span class="cf">for</span> char, count <span class="kw">in</span> char_count.items() </span>
<span id="cb14-10"><a href="#cb14-10"></a>    }</span>
<span id="cb14-11"><a href="#cb14-11"></a></span>
<span id="cb14-12"><a href="#cb14-12"></a></span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="co"># Character counts we need in the shuffled </span></span>
<span id="cb14-14"><a href="#cb14-14"></a></span>
<span id="cb14-15"><a href="#cb14-15"></a><span class="co"># version of our original string </span></span>
<span id="cb14-16"><a href="#cb14-16"></a>    shuffled_chars <span class="op">=</span> { </span>
<span id="cb14-17"><a href="#cb14-17"></a>        char: <span class="bu">int</span>(count <span class="op">/</span> <span class="dv">2</span>) <span class="cf">for</span> char, count <span class="kw">in</span> char_count.items() </span>
<span id="cb14-18"><a href="#cb14-18"></a>    }</span>
<span id="cb14-19"><a href="#cb14-19"></a></span>
<span id="cb14-20"><a href="#cb14-20"></a>    string <span class="op">=</span> []</span>
<span id="cb14-21"><a href="#cb14-21"></a></span>
<span id="cb14-22"><a href="#cb14-22"></a>    <span class="cf">for</span> char <span class="kw">in</span> <span class="bu">reversed</span>(s):</span>
<span id="cb14-23"><a href="#cb14-23"></a>        <span class="cf">if</span> string_chars[char] <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb14-24"><a href="#cb14-24"></a></span>
<span id="cb14-25"><a href="#cb14-25"></a><span class="co"># See if this character should appear before any </span></span>
<span id="cb14-26"><a href="#cb14-26"></a></span>
<span id="cb14-27"><a href="#cb14-27"></a><span class="co"># previous ones. Basically, if this char is smaller </span></span>
<span id="cb14-28"><a href="#cb14-28"></a></span>
<span id="cb14-29"><a href="#cb14-29"></a><span class="co"># than the previous char, and the previous char </span></span>
<span id="cb14-30"><a href="#cb14-30"></a></span>
<span id="cb14-31"><a href="#cb14-31"></a><span class="co"># still occurs in the chars of the shuffled string, </span></span>
<span id="cb14-32"><a href="#cb14-32"></a></span>
<span id="cb14-33"><a href="#cb14-33"></a><span class="co"># we can the safely replace the previous char </span></span>
<span id="cb14-34"><a href="#cb14-34"></a></span>
<span id="cb14-35"><a href="#cb14-35"></a><span class="co"># with this one. That&#39;s so because we should be </span></span>
<span id="cb14-36"><a href="#cb14-36"></a></span>
<span id="cb14-37"><a href="#cb14-37"></a><span class="co"># able to still create a valid string which contains</span></span>
<span id="cb14-38"><a href="#cb14-38"></a></span>
<span id="cb14-39"><a href="#cb14-39"></a><span class="co"># both characters although the order will differs.</span></span>
<span id="cb14-40"><a href="#cb14-40"></a>            <span class="cf">while</span> string <span class="kw">and</span> string[<span class="op">-</span><span class="dv">1</span>] <span class="op">&gt;</span> char <span class="kw">and</span> shuffled_chars[string[<span class="op">-</span><span class="dv">1</span>]] <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb14-41"><a href="#cb14-41"></a>                removed <span class="op">=</span> string.pop()</span>
<span id="cb14-42"><a href="#cb14-42"></a>                string_chars[removed] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb14-43"><a href="#cb14-43"></a>                shuffled_chars[removed] <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb14-44"><a href="#cb14-44"></a></span>
<span id="cb14-45"><a href="#cb14-45"></a>            string.append(char)</span>
<span id="cb14-46"><a href="#cb14-46"></a>            string_chars[char] <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb14-47"><a href="#cb14-47"></a>        <span class="cf">else</span>:</span>
<span id="cb14-48"><a href="#cb14-48"></a>            shuffled_chars[char] <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb14-49"><a href="#cb14-49"></a></span>
<span id="cb14-50"><a href="#cb14-50"></a>    <span class="cf">return</span> <span class="st">&#39;&#39;</span>.join(string)</span></code></pre></div>
</section>
<section id="fraudulent-activity-notifications" class="level3">
<h3>Fraudulent Activity Notifications</h3>
<p>Explanation of <span class="citation" data-cites="eduasinco">@eduasinco</span>:</p>
<ol type="1">
<li>bisect_left:</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>ix <span class="op">=</span> bisect_left(v, de)</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw">del</span> v[ix]</span></code></pre></div>
<p>you could <code>remove v[de]</code> but it would take O(n) time to find de whereas bisect_left assume a sorted list and find the index in O(log(n)).</p>
<hr />
<ol start="2" type="1">
<li>enumerate</li>
</ol>
<p>gives you an index (i) used to remove the last income</p>
<hr />
<ol type="1">
<li>del</li>
</ol>
<p>This is the slow version O(n): The end of the list must be copied. Here we are lucky, please explain to me !! This also work: <code>l_sorted.remove(index)</code></p>
<hr />
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="im">from</span> bisect <span class="im">import</span> insort, bisect_left</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="kw">def</span> activityNotifications(expenditure, d):</span>
<span id="cb16-4"><a href="#cb16-4"></a></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co"># Check in</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>    <span class="cf">if</span> <span class="bu">len</span>(expenditure) <span class="op">&lt;</span> d : <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb16-7"><a href="#cb16-7"></a></span>
<span id="cb16-8"><a href="#cb16-8"></a></span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="co"># Usefull var</span></span>
<span id="cb16-10"><a href="#cb16-10"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb16-11"><a href="#cb16-11"></a>    half <span class="op">=</span> <span class="bu">int</span>(d <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb16-12"><a href="#cb16-12"></a>    is_impair <span class="op">=</span> d <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> </span>
<span id="cb16-13"><a href="#cb16-13"></a></span>
<span id="cb16-14"><a href="#cb16-14"></a></span>
<span id="cb16-15"><a href="#cb16-15"></a><span class="co"># Prepare, sort</span></span>
<span id="cb16-16"><a href="#cb16-16"></a>    l_sorted <span class="op">=</span> <span class="bu">sorted</span>(expenditure[:d])</span>
<span id="cb16-17"><a href="#cb16-17"></a></span>
<span id="cb16-18"><a href="#cb16-18"></a>    <span class="cf">for</span> i, current <span class="kw">in</span> <span class="bu">enumerate</span>(expenditure[d:]):</span>
<span id="cb16-19"><a href="#cb16-19"></a></span>
<span id="cb16-20"><a href="#cb16-20"></a><span class="co"># Add point</span></span>
<span id="cb16-21"><a href="#cb16-21"></a>        <span class="cf">if</span> is_impair: med2 <span class="op">=</span> l_sorted[half] <span class="op">+</span> l_sorted[half<span class="dv">-1</span>]</span>
<span id="cb16-22"><a href="#cb16-22"></a>        <span class="cf">else</span>: med2 <span class="op">=</span> l_sorted[half] <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb16-23"><a href="#cb16-23"></a>        <span class="cf">if</span> current <span class="op">&gt;=</span> med2:  res <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb16-24"><a href="#cb16-24"></a></span>
<span id="cb16-25"><a href="#cb16-25"></a></span>
<span id="cb16-26"><a href="#cb16-26"></a><span class="co"># Remove last</span></span>
<span id="cb16-27"><a href="#cb16-27"></a>        last <span class="op">=</span> expenditure[i]</span>
<span id="cb16-28"><a href="#cb16-28"></a>        index <span class="op">=</span> bisect_left(l_sorted, last)</span>
<span id="cb16-29"><a href="#cb16-29"></a>        <span class="kw">del</span> l_sorted[index]</span>
<span id="cb16-30"><a href="#cb16-30"></a></span>
<span id="cb16-31"><a href="#cb16-31"></a></span>
<span id="cb16-32"><a href="#cb16-32"></a><span class="co"># Add new</span></span>
<span id="cb16-33"><a href="#cb16-33"></a>        insort(l_sorted, current)</span>
<span id="cb16-34"><a href="#cb16-34"></a></span>
<span id="cb16-35"><a href="#cb16-35"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="sherlock-and-anagrams" class="level3">
<h3>Sherlock and Anagrams</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co"># Complete the sherlockAndAnagrams function below.</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="kw">def</span> sherlockAndAnagrams(s):</span>
<span id="cb17-4"><a href="#cb17-4"></a>    res <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i_l <span class="op">=</span> <span class="bu">len</span>(s)</span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="co"># Loop letter number 1 .. i_l - 1</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>    <span class="cf">for</span> i_letter <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, i_l):</span>
<span id="cb17-9"><a href="#cb17-9"></a></span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="co"># Loop i_c: 0 .. i_l - letter and sort i_c:i_c+letter</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>        a_sort1 <span class="op">=</span> <span class="bu">sorted</span>(s[:i_letter <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb17-12"><a href="#cb17-12"></a>        <span class="cf">for</span> i_c <span class="kw">in</span> <span class="bu">range</span>(i_l <span class="op">-</span> i_letter <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb17-13"><a href="#cb17-13"></a>            insort(a_sort1, s[i_c<span class="op">+</span>i_letter<span class="dv">-1</span>])</span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="co"># Loop j_c: i_c+1: i_l - letter and sort j_c:j_c+letter</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>            blacklist <span class="op">=</span> []</span>
<span id="cb17-18"><a href="#cb17-18"></a>            a_sort2 <span class="op">=</span> <span class="bu">sorted</span>(s[i_c<span class="op">+</span><span class="dv">1</span> : i_c<span class="op">+</span><span class="dv">1</span> <span class="op">+</span> i_letter<span class="dv">-1</span>])</span>
<span id="cb17-19"><a href="#cb17-19"></a>            <span class="cf">for</span> j_c <span class="kw">in</span> <span class="bu">range</span>( i_c<span class="op">+</span><span class="dv">1</span>, i_l <span class="op">-</span>i_letter <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb17-20"><a href="#cb17-20"></a>                <span class="cf">if</span> j_c <span class="kw">in</span> blacklist: <span class="cf">continue</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>                insort(a_sort2, s[j_c<span class="op">+</span>i_letter<span class="dv">-1</span>])</span>
<span id="cb17-22"><a href="#cb17-22"></a></span>
<span id="cb17-23"><a href="#cb17-23"></a></span>
<span id="cb17-24"><a href="#cb17-24"></a><span class="co"># Match</span></span>
<span id="cb17-25"><a href="#cb17-25"></a>                <span class="cf">if</span> a_sort1 <span class="op">==</span> a_sort2:</span>
<span id="cb17-26"><a href="#cb17-26"></a>                    res <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb17-27"><a href="#cb17-27"></a>                    blacklist.append(j_c)</span>
<span id="cb17-28"><a href="#cb17-28"></a></span>
<span id="cb17-29"><a href="#cb17-29"></a>                ix2 <span class="op">=</span> bisect_left(a_sort2, s[j_c])</span>
<span id="cb17-30"><a href="#cb17-30"></a>                <span class="kw">del</span> a_sort2[ix2]                </span>
<span id="cb17-31"><a href="#cb17-31"></a></span>
<span id="cb17-32"><a href="#cb17-32"></a>            ix1 <span class="op">=</span> bisect_left(a_sort1, s[i_c])</span>
<span id="cb17-33"><a href="#cb17-33"></a>            <span class="kw">del</span> a_sort1[ix1]</span>
<span id="cb17-34"><a href="#cb17-34"></a></span>
<span id="cb17-35"><a href="#cb17-35"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="string-sub-count" class="level3">
<h3>String: Sub count</h3>
<ul>
<li>Replace loop over string</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="cf">for</span> i_start <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb18-2"><a href="#cb18-2"></a>    c_start <span class="op">=</span> s[i_start]</span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a> <span class="cf">for</span> i_start, c_start <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span></code></pre></div>
<section id="my-solution-with-too-many-if" class="level4">
<h4>1 My solution with too many if</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">def</span> substrCount(n, s):</span>
<span id="cb20-2"><a href="#cb20-2"></a>    count <span class="op">=</span> n</span>
<span id="cb20-3"><a href="#cb20-3"></a></span>
<span id="cb20-4"><a href="#cb20-4"></a>    <span class="cf">for</span> i_start <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb20-5"><a href="#cb20-5"></a>        c_start <span class="op">=</span> s[i_start]</span>
<span id="cb20-6"><a href="#cb20-6"></a></span>
<span id="cb20-7"><a href="#cb20-7"></a>        i_middle <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb20-8"><a href="#cb20-8"></a>        <span class="cf">for</span> i_end <span class="kw">in</span> <span class="bu">range</span>(i_start<span class="op">+</span><span class="dv">1</span>, n):</span>
<span id="cb20-9"><a href="#cb20-9"></a>            <span class="cf">if</span> s[i_end] <span class="op">!=</span> c_start:</span>
<span id="cb20-10"><a href="#cb20-10"></a>                <span class="cf">if</span> <span class="kw">not</span> i_middle:</span>
<span id="cb20-11"><a href="#cb20-11"></a>                    i_middle <span class="op">=</span> i_end</span>
<span id="cb20-12"><a href="#cb20-12"></a>                    <span class="cf">continue</span></span>
<span id="cb20-13"><a href="#cb20-13"></a>                <span class="cf">break</span></span>
<span id="cb20-14"><a href="#cb20-14"></a></span>
<span id="cb20-15"><a href="#cb20-15"></a>            <span class="cf">if</span> <span class="kw">not</span> i_middle:</span>
<span id="cb20-16"><a href="#cb20-16"></a>                count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-17"><a href="#cb20-17"></a>                <span class="cf">continue</span></span>
<span id="cb20-18"><a href="#cb20-18"></a></span>
<span id="cb20-19"><a href="#cb20-19"></a>            <span class="cf">if</span> i_end <span class="op">-</span> i_middle <span class="op">==</span> i_middle <span class="op">-</span> i_start:</span>
<span id="cb20-20"><a href="#cb20-20"></a>                count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-21"><a href="#cb20-21"></a>                <span class="cf">break</span></span>
<span id="cb20-22"><a href="#cb20-22"></a></span>
<span id="cb20-23"><a href="#cb20-23"></a>    <span class="cf">return</span> count</span></code></pre></div>
</section>
<section id="can-be-replaced-with-regex" class="level4">
<h4>2 Can be replaced with regex !!</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a>count <span class="op">=</span> <span class="bu">len</span>(s)</span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co"># With middle</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>exp1 <span class="op">=</span> <span class="vs">r&#39;(([a-z])\2*)(?!\1)(?=[a-z]\1)&#39;</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>m <span class="op">=</span> re.finditer(exp1,s)</span>
<span id="cb21-7"><a href="#cb21-7"></a>count <span class="op">+=</span> <span class="bu">sum</span>([<span class="bu">len</span>(x.group(<span class="dv">0</span>)) <span class="cf">for</span> x <span class="kw">in</span> m])</span>
<span id="cb21-8"><a href="#cb21-8"></a></span>
<span id="cb21-9"><a href="#cb21-9"></a></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="co"># Just repeated seqs</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>exp2 <span class="op">=</span> <span class="vs">r&#39;([a-z])\1+&#39;</span></span>
<span id="cb21-12"><a href="#cb21-12"></a>m <span class="op">=</span> re.finditer(exp2,s)</span>
<span id="cb21-13"><a href="#cb21-13"></a>count <span class="op">+=</span> <span class="bu">sum</span>([triangular_number(<span class="bu">len</span>(x.group(<span class="dv">0</span>))<span class="op">-</span><span class="dv">1</span>) <span class="cf">for</span> x <span class="kw">in</span> m])</span>
<span id="cb21-14"><a href="#cb21-14"></a></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="cf">return</span> count</span>
<span id="cb21-16"><a href="#cb21-16"></a></span>
<span id="cb21-17"><a href="#cb21-17"></a><span class="kw">def</span> triangular_number(n):</span>
<span id="cb21-18"><a href="#cb21-18"></a>    <span class="co">&quot;&quot;&quot;Count xxxx for any submatch xx xxx x .. so 4 + 3 + 2 + 1&quot;&quot;&quot;</span></span>
<span id="cb21-19"><a href="#cb21-19"></a>    <span class="cf">return</span> (<span class="bu">pow</span>(n,<span class="dv">2</span>)<span class="op">+</span>n)<span class="op">//</span><span class="dv">2</span></span></code></pre></div>
</section>
<section id="can-mutualize-some-if" class="level4">
<h4>3 Can mutualize some if</h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">def</span> substrCount(n, s):</span>
<span id="cb22-2"><a href="#cb22-2"></a>    tot <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>    count_sequence <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>    prev <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>    <span class="cf">for</span> i,v <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span>
<span id="cb22-6"><a href="#cb22-6"></a></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="co"># first increase counter for all seperate characters</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>        count_sequence <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb22-9"><a href="#cb22-9"></a>        <span class="cf">if</span> i <span class="kw">and</span> (prev <span class="op">!=</span> v):</span>
<span id="cb22-10"><a href="#cb22-10"></a></span>
<span id="cb22-11"><a href="#cb22-11"></a><span class="co"># if this is not the first char in the string </span></span>
<span id="cb22-12"><a href="#cb22-12"></a></span>
<span id="cb22-13"><a href="#cb22-13"></a><span class="co"># and it is not same as previous char, </span></span>
<span id="cb22-14"><a href="#cb22-14"></a></span>
<span id="cb22-15"><a href="#cb22-15"></a><span class="co"># we should check for sequence x.x, xx.xx, xxx.xxx etc</span></span>
<span id="cb22-16"><a href="#cb22-16"></a></span>
<span id="cb22-17"><a href="#cb22-17"></a><span class="co"># and we know it cant be longer on the right side than</span></span>
<span id="cb22-18"><a href="#cb22-18"></a></span>
<span id="cb22-19"><a href="#cb22-19"></a><span class="co"># the sequence we already found on the left side.</span></span>
<span id="cb22-20"><a href="#cb22-20"></a>            j <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb22-21"><a href="#cb22-21"></a>            <span class="cf">while</span> ((i<span class="op">-</span>j) <span class="op">&gt;=</span> <span class="dv">0</span>) <span class="kw">and</span> ((i<span class="op">+</span>j) <span class="op">&lt;</span> <span class="bu">len</span>(s)) <span class="kw">and</span> j <span class="op">&lt;=</span> count_sequence:</span>
<span id="cb22-22"><a href="#cb22-22"></a></span>
<span id="cb22-23"><a href="#cb22-23"></a><span class="co"># make sure the chars to the right and left are equal</span></span>
<span id="cb22-24"><a href="#cb22-24"></a></span>
<span id="cb22-25"><a href="#cb22-25"></a><span class="co"># to the char in the previous found squence</span></span>
<span id="cb22-26"><a href="#cb22-26"></a>                <span class="cf">if</span> s[i<span class="op">-</span>j] <span class="op">==</span> prev <span class="op">==</span> s[i<span class="op">+</span>j]:</span>
<span id="cb22-27"><a href="#cb22-27"></a></span>
<span id="cb22-28"><a href="#cb22-28"></a><span class="co"># if so increase total score and step one step further out</span></span>
<span id="cb22-29"><a href="#cb22-29"></a>                    tot <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb22-30"><a href="#cb22-30"></a>                    j <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb22-31"><a href="#cb22-31"></a>                <span class="cf">else</span>:</span>
<span id="cb22-32"><a href="#cb22-32"></a></span>
<span id="cb22-33"><a href="#cb22-33"></a><span class="co"># no need to loop any further if this loop did </span></span>
<span id="cb22-34"><a href="#cb22-34"></a></span>
<span id="cb22-35"><a href="#cb22-35"></a><span class="co"># not find an x.x  pattern</span></span>
<span id="cb22-36"><a href="#cb22-36"></a>                    <span class="cf">break</span></span>
<span id="cb22-37"><a href="#cb22-37"></a></span>
<span id="cb22-38"><a href="#cb22-38"></a><span class="co">#if the current char is different from previous, reset counter to 1</span></span>
<span id="cb22-39"><a href="#cb22-39"></a>            count_sequence <span class="op">=</span> <span class="dv">1</span>  </span>
<span id="cb22-40"><a href="#cb22-40"></a>        tot <span class="op">+=</span> count_sequence            </span>
<span id="cb22-41"><a href="#cb22-41"></a>        prev <span class="op">=</span> v</span>
<span id="cb22-42"><a href="#cb22-42"></a>  <span class="cf">return</span> tot    </span></code></pre></div>
</section>
</section>
<section id="string-longest-common-substring-problem" class="level3">
<h3>String: Longest Common substring problem</h3>
<ul>
<li>https://en.wikipedia.org/wiki/Longest_common_subsequence_problem</li>
<li>Linked to the edit distance (you know, article with the snake path for yadiff)</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">def</span> commonChild(s1, s2):</span>
<span id="cb23-2"><a href="#cb23-2"></a>    m, n <span class="op">=</span> <span class="bu">len</span>(s1), <span class="bu">len</span>(s2)</span>
<span id="cb23-3"><a href="#cb23-3"></a>    prev, cur <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span>(n<span class="op">+</span><span class="dv">1</span>), [<span class="dv">0</span>]<span class="op">*</span>(n<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb23-4"><a href="#cb23-4"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, m<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb23-5"><a href="#cb23-5"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb23-6"><a href="#cb23-6"></a>            <span class="cf">if</span> s1[i<span class="dv">-1</span>] <span class="op">==</span> s2[j<span class="dv">-1</span>]:</span>
<span id="cb23-7"><a href="#cb23-7"></a>                cur[j] <span class="op">=</span> <span class="dv">1</span> <span class="op">+</span> prev[j<span class="dv">-1</span>]</span>
<span id="cb23-8"><a href="#cb23-8"></a>            <span class="cf">else</span>:</span>
<span id="cb23-9"><a href="#cb23-9"></a>                <span class="cf">if</span> cur[j<span class="dv">-1</span>] <span class="op">&gt;</span> prev[j]:</span>
<span id="cb23-10"><a href="#cb23-10"></a>                    cur[j] <span class="op">=</span> cur[j<span class="dv">-1</span>]</span>
<span id="cb23-11"><a href="#cb23-11"></a>                <span class="cf">else</span>:</span>
<span id="cb23-12"><a href="#cb23-12"></a>                    cur[j] <span class="op">=</span> prev[j]</span>
<span id="cb23-13"><a href="#cb23-13"></a>        cur, prev <span class="op">=</span> prev, cur</span>
<span id="cb23-14"><a href="#cb23-14"></a>    <span class="cf">return</span> prev[n]</span></code></pre></div>
</section>
<section id="tree-swap-node" class="level3">
<h3>Tree: Swap Node</h3>
<p>My solution:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">class</span> Tree:</span>
<span id="cb24-2"><a href="#cb24-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, i):</span>
<span id="cb24-3"><a href="#cb24-3"></a>        <span class="va">self</span>.<span class="bu">id</span> <span class="op">=</span> i</span>
<span id="cb24-4"><a href="#cb24-4"></a>        <span class="va">self</span>.left <span class="op">=</span> <span class="va">None</span></span>
<span id="cb24-5"><a href="#cb24-5"></a>        <span class="va">self</span>.right <span class="op">=</span> <span class="va">None</span></span>
<span id="cb24-6"><a href="#cb24-6"></a></span>
<span id="cb24-7"><a href="#cb24-7"></a>    <span class="at">@staticmethod</span></span>
<span id="cb24-8"><a href="#cb24-8"></a>    <span class="kw">def</span> build(<span class="bu">id</span>, nexts):</span>
<span id="cb24-9"><a href="#cb24-9"></a>        <span class="co">&quot;&quot;&quot;Helper: create a tree and if not null append to next&quot;&quot;&quot;</span></span>
<span id="cb24-10"><a href="#cb24-10"></a>        <span class="cf">if</span> <span class="bu">id</span> <span class="op">==</span> <span class="dv">-1</span>: <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb24-11"><a href="#cb24-11"></a>        tree <span class="op">=</span> Tree(<span class="bu">id</span>)</span>
<span id="cb24-12"><a href="#cb24-12"></a>        nexts.append(tree)</span>
<span id="cb24-13"><a href="#cb24-13"></a>        <span class="cf">return</span> Tree(<span class="bu">id</span>)</span>
<span id="cb24-14"><a href="#cb24-14"></a></span>
<span id="cb24-15"><a href="#cb24-15"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb24-16"><a href="#cb24-16"></a>        <span class="cf">return</span> <span class="ss">f&quot;Tree:</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span><span class="bu">id</span><span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb24-17"><a href="#cb24-17"></a></span>
<span id="cb24-18"><a href="#cb24-18"></a></span>
<span id="cb24-19"><a href="#cb24-19"></a><span class="kw">def</span> traverse(tree):</span>
<span id="cb24-20"><a href="#cb24-20"></a>    <span class="cf">if</span> tree <span class="kw">is</span> <span class="va">None</span>: <span class="cf">return</span> []</span>
<span id="cb24-21"><a href="#cb24-21"></a></span>
<span id="cb24-22"><a href="#cb24-22"></a><span class="co"># Traverse the left subtree</span></span>
<span id="cb24-23"><a href="#cb24-23"></a>    res <span class="op">=</span> traverse(tree.left)</span>
<span id="cb24-24"><a href="#cb24-24"></a></span>
<span id="cb24-25"><a href="#cb24-25"></a></span>
<span id="cb24-26"><a href="#cb24-26"></a><span class="co"># Visit root</span></span>
<span id="cb24-27"><a href="#cb24-27"></a>    res.append(tree.<span class="bu">id</span>)</span>
<span id="cb24-28"><a href="#cb24-28"></a></span>
<span id="cb24-29"><a href="#cb24-29"></a></span>
<span id="cb24-30"><a href="#cb24-30"></a><span class="co"># Traverse the right subtree</span></span>
<span id="cb24-31"><a href="#cb24-31"></a>    <span class="cf">return</span> res <span class="op">+</span> traverse(tree.right)</span>
<span id="cb24-32"><a href="#cb24-32"></a></span>
<span id="cb24-33"><a href="#cb24-33"></a></span>
<span id="cb24-34"><a href="#cb24-34"></a><span class="kw">def</span> swapNodes(indexes, queries):</span>
<span id="cb24-35"><a href="#cb24-35"></a></span>
<span id="cb24-36"><a href="#cb24-36"></a><span class="co"># Some test go far in recursion but just onces fct(fct(fct ....))</span></span>
<span id="cb24-37"><a href="#cb24-37"></a>    sys.setrecursionlimit(<span class="dv">3000</span>) </span>
<span id="cb24-38"><a href="#cb24-38"></a></span>
<span id="cb24-39"><a href="#cb24-39"></a></span>
<span id="cb24-40"><a href="#cb24-40"></a><span class="co"># Create tree</span></span>
<span id="cb24-41"><a href="#cb24-41"></a>    root <span class="op">=</span> Tree(<span class="dv">1</span>)</span>
<span id="cb24-42"><a href="#cb24-42"></a></span>
<span id="cb24-43"><a href="#cb24-43"></a><span class="co"># Memoize depth</span></span>
<span id="cb24-44"><a href="#cb24-44"></a>    depths <span class="op">=</span> []</span>
<span id="cb24-45"><a href="#cb24-45"></a></span>
<span id="cb24-46"><a href="#cb24-46"></a></span>
<span id="cb24-47"><a href="#cb24-47"></a><span class="co"># Build</span></span>
<span id="cb24-48"><a href="#cb24-48"></a>    nexs <span class="op">=</span> [root]<span class="op">;</span> curs <span class="op">=</span> []</span>
<span id="cb24-49"><a href="#cb24-49"></a>    <span class="cf">for</span> left, right <span class="kw">in</span> indexes:</span>
<span id="cb24-50"><a href="#cb24-50"></a>        <span class="cf">if</span> <span class="bu">len</span>(curs) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb24-51"><a href="#cb24-51"></a>            depths.append(nexs)</span>
<span id="cb24-52"><a href="#cb24-52"></a>            curs <span class="op">=</span> nexs.copy()</span>
<span id="cb24-53"><a href="#cb24-53"></a>            nexs <span class="op">=</span> []</span>
<span id="cb24-54"><a href="#cb24-54"></a></span>
<span id="cb24-55"><a href="#cb24-55"></a>        cur <span class="op">=</span> curs.pop(<span class="dv">0</span>)</span>
<span id="cb24-56"><a href="#cb24-56"></a>        cur.left <span class="op">=</span> Tree.build(left, nexs)</span>
<span id="cb24-57"><a href="#cb24-57"></a>        cur.right <span class="op">=</span> Tree.build(right, nexs)</span>
<span id="cb24-58"><a href="#cb24-58"></a></span>
<span id="cb24-59"><a href="#cb24-59"></a></span>
<span id="cb24-60"><a href="#cb24-60"></a></span>
<span id="cb24-61"><a href="#cb24-61"></a><span class="co"># Swap</span></span>
<span id="cb24-62"><a href="#cb24-62"></a>    res <span class="op">=</span> []</span>
<span id="cb24-63"><a href="#cb24-63"></a>    <span class="cf">for</span> query <span class="kw">in</span> queries:</span>
<span id="cb24-64"><a href="#cb24-64"></a>        <span class="cf">for</span> depth <span class="kw">in</span> <span class="bu">range</span>(query, <span class="bu">len</span>(depths), query):</span>
<span id="cb24-65"><a href="#cb24-65"></a>            <span class="cf">for</span> tree <span class="kw">in</span> depths[depth <span class="op">-</span> <span class="dv">1</span>]:</span>
<span id="cb24-66"><a href="#cb24-66"></a>                tree.left, tree.right <span class="op">=</span> tree.right, tree.left</span>
<span id="cb24-67"><a href="#cb24-67"></a>        res.append(traverse(root))</span>
<span id="cb24-68"><a href="#cb24-68"></a></span>
<span id="cb24-69"><a href="#cb24-69"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="array-max-sum-in-subarray-max-array-sum" class="level3">
<h3>Array : max sum in subarray (Max Array Sum)</h3>
<p>See <strong>Dynamic Programming:</strong> https://www.geeksforgeeks.org/dynamic-programming/</p>
<p>Max sum of non adjacent element in array</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">def</span> maxSubsetSum(arr):</span>
<span id="cb25-2"><a href="#cb25-2"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb25-3"><a href="#cb25-3"></a>    dp <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span>n</span>
<span id="cb25-4"><a href="#cb25-4"></a>    dp[<span class="dv">0</span>] <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb25-5"><a href="#cb25-5"></a>    dp[<span class="dv">1</span>] <span class="op">=</span> <span class="bu">max</span>(arr[<span class="dv">1</span>], dp[<span class="dv">0</span>])</span>
<span id="cb25-6"><a href="#cb25-6"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>,n):</span>
<span id="cb25-7"><a href="#cb25-7"></a>        dp[i] <span class="op">=</span> <span class="bu">max</span>(arr[i], dp[i<span class="dv">-1</span>], arr[i] <span class="op">+</span> dp[i<span class="dv">-2</span>])</span>
<span id="cb25-8"><a href="#cb25-8"></a>    <span class="cf">return</span> dp[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<p>Intro: Since we know it’s DP, we can solve the problem by solving subproblems of smaller size.</p>
<p>Because of the condition. No two adjacent elements can be picked. Therefore we can either take one and then skip one, or skip one and run the subroutine.</p>
<p>we can solve this problem in linear time and constant space ;)</p>
<p>Idea: store solutions for problem of size i-2 and i-1, where i is the size of the subproblem. The solution for problem of size i is either solution for problem i-1, or solution for problem i-2, or solution of problem i-2 + arr[i], or ar[i]. Iterate for every i. Start with 0, 0 for problems of size - 2 and -1</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">def</span> maxSubsetSum(coll):</span>
<span id="cb26-2"><a href="#cb26-2"></a>    a,b <span class="op">=</span> <span class="dv">0</span>,<span class="dv">0</span></span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a>    <span class="cf">for</span> val <span class="kw">in</span> coll:</span>
<span id="cb26-5"><a href="#cb26-5"></a>        a,b <span class="op">=</span> b, <span class="bu">max</span>(a, a <span class="op">+</span> val, b, val) </span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a>    <span class="cf">return</span> b</span></code></pre></div>
</section>
<section id="pairs-of-equal-difference" class="level3">
<h3>Pairs (of equal difference)</h3>
<ul>
<li>My solution</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">def</span> pairs(k, arr):</span>
<span id="cb27-2"><a href="#cb27-2"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>    ct <span class="op">=</span> Counter(arr)</span>
<span id="cb27-4"><a href="#cb27-4"></a>    <span class="cf">for</span> val1 <span class="kw">in</span> ct:</span>
<span id="cb27-5"><a href="#cb27-5"></a></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="co"># val1 - val2 = +/- k </span></span>
<span id="cb27-7"><a href="#cb27-7"></a>        res <span class="op">+=</span> ct[val1] <span class="op">*</span> (ct[val1<span class="op">-</span>k] <span class="op">+</span> ct[val1<span class="op">+</span>k])</span>
<span id="cb27-8"><a href="#cb27-8"></a>    <span class="cf">return</span> <span class="bu">int</span>(res <span class="op">/</span> <span class="dv">2</span>)</span></code></pre></div>
<ul>
<li>One liner !</li>
<li>Had to note the constraint: each integer of arr will be unique</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="cf">return</span> <span class="bu">len</span>(<span class="bu">set</span>(arr) <span class="op">&amp;</span> <span class="bu">set</span>([item <span class="op">+</span> k <span class="cf">for</span> item <span class="kw">in</span> <span class="bu">set</span>(arr)])) </span></code></pre></div>
</section>
<section id="triple-sum-find-unique" class="level3">
<h3>Triple sum (find unique)</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a><span class="im">from</span> bisect <span class="im">import</span> bisect_left</span>
<span id="cb29-2"><a href="#cb29-2"></a></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="kw">def</span> triplets(a, b, c):</span>
<span id="cb29-4"><a href="#cb29-4"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb29-5"><a href="#cb29-5"></a></span>
<span id="cb29-6"><a href="#cb29-6"></a></span>
<span id="cb29-7"><a href="#cb29-7"></a><span class="co"># Uniquely sort</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>    a <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>(a))</span>
<span id="cb29-9"><a href="#cb29-9"></a>    b <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>(b))</span>
<span id="cb29-10"><a href="#cb29-10"></a>    c <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>(c))</span>
<span id="cb29-11"><a href="#cb29-11"></a></span>
<span id="cb29-12"><a href="#cb29-12"></a></span>
<span id="cb29-13"><a href="#cb29-13"></a><span class="co"># Check if usefull to loop</span></span>
<span id="cb29-14"><a href="#cb29-14"></a>    <span class="cf">if</span> b[<span class="op">-</span><span class="dv">1</span>] <span class="op">&lt;</span> a[<span class="dv">0</span>] <span class="kw">or</span> b[<span class="op">-</span><span class="dv">1</span>] <span class="op">&lt;</span> c[<span class="dv">0</span>]:</span>
<span id="cb29-15"><a href="#cb29-15"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb29-16"><a href="#cb29-16"></a></span>
<span id="cb29-17"><a href="#cb29-17"></a></span>
<span id="cb29-18"><a href="#cb29-18"></a><span class="co"># Find possible combinations</span></span>
<span id="cb29-19"><a href="#cb29-19"></a>    lowa <span class="op">=</span> lowc <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb29-20"><a href="#cb29-20"></a><span class="co"># Fasten bisect search with low bound, known a priory</span></span>
<span id="cb29-21"><a href="#cb29-21"></a>    <span class="cf">for</span> i <span class="kw">in</span> b:</span>
<span id="cb29-22"><a href="#cb29-22"></a>        lowa <span class="op">=</span> bisect_left(a, i<span class="fl">+0.5</span>, lo<span class="op">=</span>lowa)</span>
<span id="cb29-23"><a href="#cb29-23"></a>        lowc <span class="op">=</span> bisect_left(c, i<span class="fl">+0.5</span>, lo<span class="op">=</span>lowc)</span>
<span id="cb29-24"><a href="#cb29-24"></a>        res <span class="op">+=</span> lowc <span class="op">*</span> lowa</span>
<span id="cb29-25"><a href="#cb29-25"></a></span>
<span id="cb29-26"><a href="#cb29-26"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="minimum-time-required" class="level3">
<h3>Minimum Time Required</h3>
<p>My dichotomic bad solution</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">def</span> in_day(n, ct):</span>
<span id="cb30-2"><a href="#cb30-2"></a></span>
<span id="cb30-3"><a href="#cb30-3"></a><span class="co"># in n days they build ct[val1] * int(n / val) = items</span></span>
<span id="cb30-4"><a href="#cb30-4"></a>    item <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>    <span class="cf">for</span> val <span class="kw">in</span> ct:</span>
<span id="cb30-6"><a href="#cb30-6"></a>        <span class="cf">if</span> val <span class="op">&gt;</span> n : <span class="cf">continue</span></span>
<span id="cb30-7"><a href="#cb30-7"></a>        item <span class="op">+=</span> ct[val] <span class="op">*</span> <span class="bu">int</span>(n<span class="op">/</span>val)</span>
<span id="cb30-8"><a href="#cb30-8"></a>    <span class="cf">return</span> item</span>
<span id="cb30-9"><a href="#cb30-9"></a></span>
<span id="cb30-10"><a href="#cb30-10"></a></span>
<span id="cb30-11"><a href="#cb30-11"></a><span class="co"># Complete the minTime function below.</span></span>
<span id="cb30-12"><a href="#cb30-12"></a><span class="kw">def</span> minTime(machines, goal):</span>
<span id="cb30-13"><a href="#cb30-13"></a>    ct <span class="op">=</span> Counter(machines)</span>
<span id="cb30-14"><a href="#cb30-14"></a></span>
<span id="cb30-15"><a href="#cb30-15"></a>    high <span class="op">=</span> <span class="dv">999999999999999</span></span>
<span id="cb30-16"><a href="#cb30-16"></a>    day <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb30-17"><a href="#cb30-17"></a>    low <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb30-18"><a href="#cb30-18"></a>    n1 <span class="op">=</span> <span class="dv">-1</span></span>
<span id="cb30-19"><a href="#cb30-19"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb30-20"><a href="#cb30-20"></a>        n1 <span class="op">=</span> in_day(day, ct)</span>
<span id="cb30-21"><a href="#cb30-21"></a></span>
<span id="cb30-22"><a href="#cb30-22"></a>        <span class="bu">print</span>(day, high , low , n1)</span>
<span id="cb30-23"><a href="#cb30-23"></a></span>
<span id="cb30-24"><a href="#cb30-24"></a></span>
<span id="cb30-25"><a href="#cb30-25"></a><span class="co"># Lucky</span></span>
<span id="cb30-26"><a href="#cb30-26"></a>        <span class="cf">if</span> low <span class="op">&gt;=</span> high <span class="dv">-1</span>:</span>
<span id="cb30-27"><a href="#cb30-27"></a>            <span class="cf">if</span> in_day(low, ct) <span class="op">&gt;=</span> goal:</span>
<span id="cb30-28"><a href="#cb30-28"></a>                <span class="cf">return</span> low</span>
<span id="cb30-29"><a href="#cb30-29"></a>            <span class="cf">else</span>:</span>
<span id="cb30-30"><a href="#cb30-30"></a>                <span class="cf">return</span> high</span>
<span id="cb30-31"><a href="#cb30-31"></a></span>
<span id="cb30-32"><a href="#cb30-32"></a></span>
<span id="cb30-33"><a href="#cb30-33"></a><span class="co"># May increase</span></span>
<span id="cb30-34"><a href="#cb30-34"></a>        <span class="cf">if</span> n1 <span class="op">&lt;</span> goal:</span>
<span id="cb30-35"><a href="#cb30-35"></a>            low, day <span class="op">=</span> day, day <span class="op">+</span> <span class="bu">int</span>(<span class="bu">abs</span>(day <span class="op">-</span> high) <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb30-36"><a href="#cb30-36"></a>            <span class="cf">continue</span></span>
<span id="cb30-37"><a href="#cb30-37"></a></span>
<span id="cb30-38"><a href="#cb30-38"></a></span>
<span id="cb30-39"><a href="#cb30-39"></a><span class="co"># Now find minimum</span></span>
<span id="cb30-40"><a href="#cb30-40"></a>        high, day <span class="op">=</span> day, day <span class="op">-</span> <span class="bu">int</span>(<span class="bu">abs</span>(day <span class="op">-</span> low) <span class="op">/</span> <span class="dv">2</span>)</span></code></pre></div>
<ul>
<li>Other O(log(n) x machines)</li>
<li><strong>Note:</strong> Instead of doing dichotomy by hand, use bisect left with a yielder and mindays, maxDays</li>
</ul>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1"></a><span class="im">from</span> bisect <span class="im">import</span> bisect_left</span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="kw">class</span> Yeild:</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, machines):</span>
<span id="cb31-4"><a href="#cb31-4"></a>        <span class="va">self</span>.machines_ <span class="op">=</span> machines</span>
<span id="cb31-5"><a href="#cb31-5"></a>    <span class="kw">def</span> <span class="fu">__getitem__</span>(<span class="va">self</span>, days):</span>
<span id="cb31-6"><a href="#cb31-6"></a>        production <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb31-7"><a href="#cb31-7"></a>        <span class="cf">for</span> d <span class="kw">in</span> machines:</span>
<span id="cb31-8"><a href="#cb31-8"></a>            production <span class="op">+=</span> <span class="bu">int</span>(days<span class="op">/</span>d)</span>
<span id="cb31-9"><a href="#cb31-9"></a>        <span class="cf">return</span> production</span>
<span id="cb31-10"><a href="#cb31-10"></a></span>
<span id="cb31-11"><a href="#cb31-11"></a><span class="kw">def</span> minTime(machines, goal):</span>
<span id="cb31-12"><a href="#cb31-12"></a>    machines.sort()</span>
<span id="cb31-13"><a href="#cb31-13"></a>    minDays <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb31-14"><a href="#cb31-14"></a>    maxDays <span class="op">=</span> goal <span class="op">*</span> machines[<span class="dv">0</span>]</span>
<span id="cb31-15"><a href="#cb31-15"></a>    days <span class="op">=</span> bisect_left(Yeild(machines), goal, minDays, maxDays)</span>
<span id="cb31-16"><a href="#cb31-16"></a>    <span class="cf">return</span> days</span></code></pre></div>
<ul>
<li>With harmonic mean, what I wanted first.</li>
<li>He just calculate a low bound, then add one by one: should not be so long</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a><span class="im">import</span> heapq</span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="im">import</span> statistics </span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="kw">def</span> minTime(machines, goal):</span>
<span id="cb32-4"><a href="#cb32-4"></a>    minDays <span class="op">=</span> math.ceil(goal<span class="op">*</span>statistics.harmonic_mean(machines)<span class="op">/</span><span class="bu">len</span>(machines))</span>
<span id="cb32-5"><a href="#cb32-5"></a>    totalManufactured <span class="op">=</span> <span class="bu">sum</span>([minDays<span class="op">//</span>x <span class="cf">for</span> x <span class="kw">in</span> machines])</span>
<span id="cb32-6"><a href="#cb32-6"></a>    nextTimes <span class="op">=</span> [(x<span class="op">*</span>(minDays<span class="op">//</span>x)<span class="op">+</span>x,x) <span class="cf">for</span> x <span class="kw">in</span> machines]</span>
<span id="cb32-7"><a href="#cb32-7"></a>    heapq.heapify(nextTimes)</span>
<span id="cb32-8"><a href="#cb32-8"></a>    popped<span class="op">=</span><span class="va">None</span></span>
<span id="cb32-9"><a href="#cb32-9"></a>    <span class="cf">while</span> totalManufactured<span class="op">&lt;</span>goal:</span>
<span id="cb32-10"><a href="#cb32-10"></a>        popped<span class="op">=</span> heapq.heappop(nextTimes)</span>
<span id="cb32-11"><a href="#cb32-11"></a>        heapq.heappush(nextTimes, (popped[<span class="dv">0</span>]<span class="op">+</span>popped[<span class="dv">1</span>], popped[<span class="dv">1</span>]))</span>
<span id="cb32-12"><a href="#cb32-12"></a>        totalManufactured<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb32-13"><a href="#cb32-13"></a>    <span class="cf">return</span> minDays <span class="cf">if</span> <span class="kw">not</span> popped <span class="cf">else</span> popped[<span class="dv">0</span>]</span></code></pre></div>
</section>
<section id="balanced-parenthesis-stack-of-course" class="level3">
<h3>Balanced parenthesis (Stack of course)</h3>
<ul>
<li>My first</li>
</ul>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a><span class="kw">def</span> isBalanced(s):</span>
<span id="cb33-2"><a href="#cb33-2"></a>    <span class="cf">if</span> <span class="bu">len</span>(s) <span class="op">==</span> <span class="dv">0</span>: <span class="cf">return</span> <span class="st">&quot;YES&quot;</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>    stack <span class="op">=</span> []</span>
<span id="cb33-4"><a href="#cb33-4"></a>    <span class="cf">for</span> i <span class="kw">in</span> s:</span>
<span id="cb33-5"><a href="#cb33-5"></a>        <span class="cf">if</span> i <span class="kw">in</span> (<span class="st">&#39;(&#39;</span>, <span class="st">&#39;[&#39;</span>, <span class="st">&#39;{&#39;</span>):</span>
<span id="cb33-6"><a href="#cb33-6"></a>            stack.append(i)</span>
<span id="cb33-7"><a href="#cb33-7"></a>            <span class="cf">continue</span></span>
<span id="cb33-8"><a href="#cb33-8"></a>        <span class="cf">if</span> <span class="kw">not</span> <span class="bu">len</span>(stack): <span class="cf">return</span> <span class="st">&quot;NO&quot;</span></span>
<span id="cb33-9"><a href="#cb33-9"></a>        j <span class="op">=</span> stack.pop()</span>
<span id="cb33-10"><a href="#cb33-10"></a>        <span class="cf">if</span> (j,i) <span class="kw">not</span> <span class="kw">in</span> ((<span class="st">&#39;(&#39;</span>, <span class="st">&#39;)&#39;</span>), (<span class="st">&#39;[&#39;</span>, <span class="st">&#39;]&#39;</span>), (<span class="st">&#39;{&#39;</span>, <span class="st">&#39;}&#39;</span>)):</span>
<span id="cb33-11"><a href="#cb33-11"></a>            <span class="cf">return</span> <span class="st">&quot;NO&quot;</span></span>
<span id="cb33-12"><a href="#cb33-12"></a></span>
<span id="cb33-13"><a href="#cb33-13"></a>    <span class="cf">return</span> <span class="st">&quot;YES&quot;</span> <span class="cf">if</span> <span class="bu">len</span>(stack) <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">&quot;NO&quot;</span></span></code></pre></div>
<ul>
<li>Shorter one by someone</li>
</ul>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw">def</span> isBalanced(s):</span>
<span id="cb34-2"><a href="#cb34-2"></a>    stack <span class="op">=</span> []</span>
<span id="cb34-3"><a href="#cb34-3"></a>    closer <span class="op">=</span> {<span class="st">&#39;{&#39;</span>: <span class="st">&#39;}&#39;</span>, <span class="st">&#39;[&#39;</span>: <span class="st">&#39;]&#39;</span>, <span class="st">&#39;(&#39;</span>: <span class="st">&#39;)&#39;</span>}</span>
<span id="cb34-4"><a href="#cb34-4"></a>    <span class="cf">for</span> bracket <span class="kw">in</span> s:</span>
<span id="cb34-5"><a href="#cb34-5"></a>        <span class="cf">if</span> bracket <span class="kw">in</span> {<span class="st">&#39;}&#39;</span>,<span class="st">&#39;]&#39;</span>,<span class="st">&#39;)&#39;</span>}:</span>
<span id="cb34-6"><a href="#cb34-6"></a>            <span class="cf">if</span> <span class="kw">not</span> stack <span class="kw">or</span> closer[stack.pop()] <span class="op">!=</span> bracket:</span>
<span id="cb34-7"><a href="#cb34-7"></a>                <span class="cf">return</span> <span class="st">&quot;NO&quot;</span></span>
<span id="cb34-8"><a href="#cb34-8"></a>        <span class="cf">else</span>:</span>
<span id="cb34-9"><a href="#cb34-9"></a>            stack.append(bracket)</span>
<span id="cb34-10"><a href="#cb34-10"></a>    <span class="cf">return</span> <span class="st">&quot;NO&quot;</span> <span class="cf">if</span> stack <span class="cf">else</span> <span class="st">&quot;YES&quot;</span></span></code></pre></div>
<ul>
<li>My imporvement removing duplication of ‘{’ definition</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a><span class="kw">def</span> isBalanced(s):</span>
<span id="cb35-2"><a href="#cb35-2"></a>    stack <span class="op">=</span> []</span>
<span id="cb35-3"><a href="#cb35-3"></a>    closer <span class="op">=</span> {<span class="st">&#39;{&#39;</span>: <span class="st">&#39;}&#39;</span>, <span class="st">&#39;[&#39;</span>: <span class="st">&#39;]&#39;</span>, <span class="st">&#39;(&#39;</span>: <span class="st">&#39;)&#39;</span>}</span>
<span id="cb35-4"><a href="#cb35-4"></a>    <span class="cf">for</span> bracket <span class="kw">in</span> s:</span>
<span id="cb35-5"><a href="#cb35-5"></a>        <span class="cf">if</span> bracket <span class="kw">in</span> closer:</span>
<span id="cb35-6"><a href="#cb35-6"></a>            stack.append(bracket)</span>
<span id="cb35-7"><a href="#cb35-7"></a>            <span class="cf">continue</span></span>
<span id="cb35-8"><a href="#cb35-8"></a>        <span class="cf">if</span> <span class="kw">not</span> stack <span class="kw">or</span> closer[stack.pop()] <span class="op">!=</span> bracket:</span>
<span id="cb35-9"><a href="#cb35-9"></a>                <span class="cf">return</span> <span class="st">&quot;NO&quot;</span></span>
<span id="cb35-10"><a href="#cb35-10"></a>    <span class="cf">return</span> <span class="st">&quot;NO&quot;</span> <span class="cf">if</span> stack <span class="cf">else</span> <span class="st">&quot;YES&quot;</span></span></code></pre></div>
</section>
<section id="maze-castle-on-the-grid" class="level3">
<h3>Maze: Castle on the Grid</h3>
<ul>
<li>My solution, kind of dirty: I thought you had to move until the end</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a></span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="co"># Complete the minimumMoves function below.</span></span>
<span id="cb36-3"><a href="#cb36-3"></a><span class="kw">def</span> minimumMoves(grid, startX, startY, goalX, goalY):</span>
<span id="cb36-4"><a href="#cb36-4"></a>    res <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb36-5"><a href="#cb36-5"></a></span>
<span id="cb36-6"><a href="#cb36-6"></a>    pos <span class="op">=</span> [ [startX, startY, (<span class="dv">0</span>, <span class="dv">0</span>)] ]</span>
<span id="cb36-7"><a href="#cb36-7"></a></span>
<span id="cb36-8"><a href="#cb36-8"></a></span>
<span id="cb36-9"><a href="#cb36-9"></a><span class="co"># Create visited bool array to avoid looping</span></span>
<span id="cb36-10"><a href="#cb36-10"></a>    visited <span class="op">=</span> []</span>
<span id="cb36-11"><a href="#cb36-11"></a>    <span class="cf">for</span> line <span class="kw">in</span> grid:</span>
<span id="cb36-12"><a href="#cb36-12"></a>        visited.append([<span class="va">False</span>]<span class="op">*</span> <span class="bu">len</span>(line))</span>
<span id="cb36-13"><a href="#cb36-13"></a>    next_pos <span class="op">=</span> []</span>
<span id="cb36-14"><a href="#cb36-14"></a></span>
<span id="cb36-15"><a href="#cb36-15"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb36-16"><a href="#cb36-16"></a>        <span class="cf">for</span> x0, y0, last_move <span class="kw">in</span> pos:</span>
<span id="cb36-17"><a href="#cb36-17"></a></span>
<span id="cb36-18"><a href="#cb36-18"></a><span class="co"># Check and mark as visited</span></span>
<span id="cb36-19"><a href="#cb36-19"></a>            <span class="cf">if</span> (x0, y0) <span class="op">==</span> (goalX, goalY): <span class="cf">return</span> res</span>
<span id="cb36-20"><a href="#cb36-20"></a>            <span class="cf">if</span> visited[x0][y0]: <span class="cf">continue</span></span>
<span id="cb36-21"><a href="#cb36-21"></a>            visited[x0][y0] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb36-22"><a href="#cb36-22"></a></span>
<span id="cb36-23"><a href="#cb36-23"></a></span>
<span id="cb36-24"><a href="#cb36-24"></a><span class="co"># Move any number one direction ...</span></span>
<span id="cb36-25"><a href="#cb36-25"></a>            <span class="cf">for</span> moves <span class="kw">in</span> ((<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>), (<span class="dv">0</span>, <span class="dv">1</span>), (<span class="dv">1</span>, <span class="dv">0</span>), (<span class="dv">0</span>, <span class="dv">-1</span>) ):</span>
<span id="cb36-26"><a href="#cb36-26"></a>                <span class="cf">if</span> moves <span class="kw">in</span> (last_move, (<span class="op">-</span>last_move[<span class="dv">0</span>], <span class="op">-</span>last_move[<span class="dv">1</span>])):</span>
<span id="cb36-27"><a href="#cb36-27"></a>                    <span class="cf">continue</span></span>
<span id="cb36-28"><a href="#cb36-28"></a>                x, y <span class="op">=</span> x0, y0</span>
<span id="cb36-29"><a href="#cb36-29"></a></span>
<span id="cb36-30"><a href="#cb36-30"></a></span>
<span id="cb36-31"><a href="#cb36-31"></a><span class="co"># ... any number of step</span></span>
<span id="cb36-32"><a href="#cb36-32"></a>                <span class="cf">while</span> (<span class="dv">0</span> <span class="op">&lt;=</span> x <span class="op">+</span> moves[<span class="dv">0</span>] <span class="op">&lt;</span> <span class="bu">len</span>(grid)</span>
<span id="cb36-33"><a href="#cb36-33"></a>                        <span class="kw">and</span> <span class="dv">0</span> <span class="op">&lt;=</span> y <span class="op">+</span> moves[<span class="dv">1</span>] <span class="op">&lt;</span> <span class="bu">len</span>(grid[<span class="dv">0</span>])</span>
<span id="cb36-34"><a href="#cb36-34"></a>                        <span class="kw">and</span> grid[x <span class="op">+</span> moves[<span class="dv">0</span>]][y <span class="op">+</span> moves[<span class="dv">1</span>]] <span class="op">!=</span> <span class="st">&#39;X&#39;</span></span>
<span id="cb36-35"><a href="#cb36-35"></a>                        ):</span>
<span id="cb36-36"><a href="#cb36-36"></a>                    x <span class="op">+=</span> moves[<span class="dv">0</span>]</span>
<span id="cb36-37"><a href="#cb36-37"></a>                    y <span class="op">+=</span> moves[<span class="dv">1</span>]</span>
<span id="cb36-38"><a href="#cb36-38"></a></span>
<span id="cb36-39"><a href="#cb36-39"></a></span>
<span id="cb36-40"><a href="#cb36-40"></a><span class="co"># Return ?</span></span>
<span id="cb36-41"><a href="#cb36-41"></a>                    <span class="cf">if</span> (x,y) <span class="op">==</span> (goalX, goalY): <span class="cf">return</span> res</span>
<span id="cb36-42"><a href="#cb36-42"></a></span>
<span id="cb36-43"><a href="#cb36-43"></a></span>
<span id="cb36-44"><a href="#cb36-44"></a><span class="co"># Break: comming to late: my line and col is visited already</span></span>
<span id="cb36-45"><a href="#cb36-45"></a>                    <span class="cf">if</span> visited[x][y]: <span class="cf">break</span></span>
<span id="cb36-46"><a href="#cb36-46"></a></span>
<span id="cb36-47"><a href="#cb36-47"></a></span>
<span id="cb36-48"><a href="#cb36-48"></a><span class="co"># Add this point for a next walk</span></span>
<span id="cb36-49"><a href="#cb36-49"></a>                    next_pos.append([x, y, moves])</span>
<span id="cb36-50"><a href="#cb36-50"></a></span>
<span id="cb36-51"><a href="#cb36-51"></a>        <span class="bu">print</span>(next_pos)            </span>
<span id="cb36-52"><a href="#cb36-52"></a>        pos <span class="op">=</span> next_pos</span>
<span id="cb36-53"><a href="#cb36-53"></a>        next_pos <span class="op">=</span> []</span>
<span id="cb36-54"><a href="#cb36-54"></a>        res <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<ul>
<li>Explore bfs-wise, and only increase the level when changing direction</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb37-2"><a href="#cb37-2"></a></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="kw">def</span> minimumMoves(grid, startX, startY, goalX, goalY):</span>
<span id="cb37-4"><a href="#cb37-4"></a>    <span class="co">&quot;&quot;&quot;standard bfs</span></span>
<span id="cb37-5"><a href="#cb37-5"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb37-6"><a href="#cb37-6"></a>    start, goal <span class="op">=</span> (startX, startY), (goalX, goalY)</span>
<span id="cb37-7"><a href="#cb37-7"></a></span>
<span id="cb37-8"><a href="#cb37-8"></a><span class="co"># special case: dtart == goal</span></span>
<span id="cb37-9"><a href="#cb37-9"></a>    <span class="cf">if</span> start <span class="op">==</span> goal: <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb37-10"><a href="#cb37-10"></a></span>
<span id="cb37-11"><a href="#cb37-11"></a><span class="co"># set-up bfs</span></span>
<span id="cb37-12"><a href="#cb37-12"></a>    q <span class="op">=</span> deque([(start, <span class="dv">0</span>)])</span>
<span id="cb37-13"><a href="#cb37-13"></a>    parents <span class="op">=</span> {}</span>
<span id="cb37-14"><a href="#cb37-14"></a>    moves <span class="op">=</span> {<span class="st">&#39;right&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>], n[<span class="dv">1</span>]<span class="op">+</span><span class="dv">1</span>),</span>
<span id="cb37-15"><a href="#cb37-15"></a>            <span class="st">&#39;down&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>]<span class="op">+</span><span class="dv">1</span>, n[<span class="dv">1</span>]),</span>
<span id="cb37-16"><a href="#cb37-16"></a>            <span class="st">&#39;left&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>], n[<span class="dv">1</span>]<span class="op">-</span><span class="dv">1</span>),</span>
<span id="cb37-17"><a href="#cb37-17"></a>            <span class="st">&#39;up&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>]<span class="op">-</span><span class="dv">1</span>, n[<span class="dv">1</span>])</span>
<span id="cb37-18"><a href="#cb37-18"></a>            }</span>
<span id="cb37-19"><a href="#cb37-19"></a>    <span class="kw">def</span> is_valid(node):</span>
<span id="cb37-20"><a href="#cb37-20"></a>        x, y <span class="op">=</span> node</span>
<span id="cb37-21"><a href="#cb37-21"></a>        <span class="cf">return</span> (x <span class="op">&lt;</span> <span class="bu">len</span>(grid) <span class="kw">and</span> y <span class="op">&lt;</span> <span class="bu">len</span>(grid)</span>
<span id="cb37-22"><a href="#cb37-22"></a>                <span class="kw">and</span> x <span class="op">&gt;=</span> <span class="dv">0</span> <span class="kw">and</span> y <span class="op">&gt;=</span> <span class="dv">0</span></span>
<span id="cb37-23"><a href="#cb37-23"></a>                <span class="kw">and</span> grid[x][y] <span class="op">==</span> <span class="st">&#39;.&#39;</span>)</span>
<span id="cb37-24"><a href="#cb37-24"></a>    <span class="cf">while</span> q:</span>
<span id="cb37-25"><a href="#cb37-25"></a>        current_node, level <span class="op">=</span> q.pop()</span>
<span id="cb37-26"><a href="#cb37-26"></a></span>
<span id="cb37-27"><a href="#cb37-27"></a><span class="co"># match? we are done...</span></span>
<span id="cb37-28"><a href="#cb37-28"></a>        <span class="cf">if</span> current_node <span class="op">==</span> goal: <span class="cf">return</span> level</span>
<span id="cb37-29"><a href="#cb37-29"></a></span>
<span id="cb37-30"><a href="#cb37-30"></a><span class="co"># explore... bfs wise</span></span>
<span id="cb37-31"><a href="#cb37-31"></a>        <span class="cf">for</span> move <span class="kw">in</span> <span class="st">&#39;up&#39;</span>, <span class="st">&#39;right&#39;</span>, <span class="st">&#39;down&#39;</span>, <span class="st">&#39;left&#39;</span>:</span>
<span id="cb37-32"><a href="#cb37-32"></a>            next_node <span class="op">=</span> moves[move](current_node.html)</span>
<span id="cb37-33"><a href="#cb37-33"></a>            <span class="cf">while</span> is_valid(next_node):</span>
<span id="cb37-34"><a href="#cb37-34"></a></span>
<span id="cb37-35"><a href="#cb37-35"></a><span class="co"># no revisiting...</span></span>
<span id="cb37-36"><a href="#cb37-36"></a>                <span class="cf">if</span> next_node <span class="kw">not</span> <span class="kw">in</span> parents:</span>
<span id="cb37-37"><a href="#cb37-37"></a>                    q.appendleft((next_node, level<span class="op">+</span><span class="dv">1</span>))</span>
<span id="cb37-38"><a href="#cb37-38"></a>                    parents[next_node] <span class="op">=</span> current_node</span>
<span id="cb37-39"><a href="#cb37-39"></a>                next_node <span class="op">=</span> moves[move](next_node.html)</span>
<span id="cb37-40"><a href="#cb37-40"></a>    <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&#39;unreachable&#39;</span>)</span></code></pre></div>
</section>
</section>
</section>
</body>
</html>
