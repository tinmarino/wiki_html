<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Python-HackerRank.md – Python HackerRank tips</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span. { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="Css/layout_toc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/javascript" src="Css/js_masonry_desandro.js"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Python HackerRank tips</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#contents">Contents</a>
<ul>
<li><a href="#tips">Tips</a></li>
<li><a href="#classes-tips">Classes tips</a>
<ul>
<li><a href="#string">String</a></li>
<li><a href="#list">List</a></li>
<li><a href="#dictionary">Dictionary</a></li>
<li><a href="#golf">Golf</a></li>
<li><a href="#stdin-stdout">StdIn / StdOut</a></li>
<li><a href="#sorting">Sorting</a></li>
<li><a href="#idioms">Idioms</a></li>
</ul></li>
<li><a href="#some-hackerrank-solutions">Some HackerRank solutions</a>
<ul>
<li><a href="#rotate-left-list">Rotate left list</a></li>
<li><a href="#count-triplet">Count triplet</a></li>
<li><a href="#solution-reverse-shuffle-merge">Solution: Reverse Shuffle Merge</a></li>
<li><a href="#fraudulent-activity-notifications">Fraudulent Activity Notifications</a></li>
<li><a href="#sherlock-and-anagrams">Sherlock and Anagrams</a></li>
<li><a href="#string-sub-count">String: Sub count</a></li>
<li><a href="#string-longest-common-substring-problem">String: Longest Common substring problem</a></li>
<li><a href="#tree-swap-node">Tree: Swap Node</a></li>
<li><a href="#array-max-sum-in-subarray-max-array-sum">Array : max sum in subarray (Max Array Sum)</a></li>
<li><a href="#pairs-of-equal-difference">Pairs (of equal difference)</a></li>
<li><a href="#triple-sum-find-unique">Triple sum (find unique)</a></li>
<li><a href="#minimum-time-required">Minimum Time Required</a></li>
<li><a href="#balanced-parenthesis-stack-of-course">Balanced parenthesis (Stack of course)</a></li>
<li><a href="#maze-castle-on-the-grid">Maze: Castle on the Grid</a></li>
<li><a href="#array-largest-rectangle">Array Largest rectangle</a></li>
<li><a href="#recursion-davis-staircase">Recursion: Davis’ Staircase</a></li>
<li><a href="#binary-tree-height">Binary Tree: Height</a></li>
<li><a href="#binary-tree-lowest-common-ancestor">Binary Tree: Lowest Common Ancestor</a></li>
<li><a href="#trees-is-this-a-binary-search-tree">Trees: Is This a Binary Search Tree?</a></li>
<li><a href="#tree-huffman-decoding">Tree: Huffman Decoding</a></li>
<li><a href="#dynamic-programming-abbreviation">Dynamic Programming: Abbreviation</a></li>
<li><a href="#dynamic-programming-candies">Dynamic programming: candies</a></li>
<li><a href="#find-a-sub-word-regex-list">Find A Sub-Word (Regex list)</a></li>
<li><a href="#regex-alien-username">Regex: Alien Username</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<section id="contents" class="level1">
<h1>Contents</h1>
<pre><code>- [Tips](</code></pre>
<p>#Tips) - <a href="#Tips#Memoize%20function%20return%20value%20(cache)">Memoize function return value (cache)</a> - <a href="#Tips#Increase%20recursion%20depth">Increase recursion depth</a> - <a href="#Classes%20tips">Classes tips</a> - <a href="#Classes%20tips#String">String</a> - <a href="#Classes%20tips#List">List</a> - <a href="#Classes%20tips#Dictionary">Dictionary</a> - <a href="#Classes%20tips#Golf">Golf</a> - <a href="#Classes%20tips#StdIn%20/%20StdOut">StdIn / StdOut</a> - <a href="#Classes%20tips#Sorting">Sorting</a> - <a href="#Classes%20tips#Idioms">Idioms</a> - <a href="#Some%20HackerRank%20solutions">Some HackerRank solutions</a> - <a href="#Some%20HackerRank%20solutions#Rotate%20left%20list">Rotate left list</a> - <a href="#Some%20HackerRank%20solutions#Count%20triplet">Count triplet</a> - <a href="#Some%20HackerRank%20solutions#Solution:%20Reverse%20Shuffle%20Merge">Solution: Reverse Shuffle Merge</a> - <a href="#Some%20HackerRank%20solutions#Fraudulent%20Activity%20Notifications">Fraudulent Activity Notifications</a> - <a href="#Some%20HackerRank%20solutions#Sherlock%20and%20Anagrams">Sherlock and Anagrams</a> - <a href="#Some%20HackerRank%20solutions#String:%20Sub%20count">String: Sub count</a> - <a href="#Some%20HackerRank%20solutions#String:%20Sub%20count#1%20My%20solution%20with%20too%20many%20if">1 My solution with too many if</a> - <a href="#Some%20HackerRank%20solutions#String:%20Sub%20count#2%20Can%20be%20replaced%20with%20regex%20!!">2 Can be replaced with regex !!</a> - <a href="#Some%20HackerRank%20solutions#String:%20Sub%20count#3%20Can%20mutualize%20some%20if">3 Can mutualize some if</a> - <a href="#Some%20HackerRank%20solutions#String:%20Longest%20Common%20substring%20problem">String: Longest Common substring problem</a> - <a href="#Some%20HackerRank%20solutions#Tree:%20Swap%20Node">Tree: Swap Node</a> - <a href="#Some%20HackerRank%20solutions#Array%20:%20max%20sum%20in%20subarray%20(Max%20Array%20Sum)">Array : max sum in subarray (Max Array Sum)</a> - <a href="#Some%20HackerRank%20solutions#Pairs%20(of%20equal%20difference)">Pairs (of equal difference)</a> - <a href="#Some%20HackerRank%20solutions#Triple%20sum%20(find%20unique)">Triple sum (find unique)</a> - <a href="#Some%20HackerRank%20solutions#Minimum%20Time%20Required">Minimum Time Required</a> - <a href="#Some%20HackerRank%20solutions#Balanced%20parenthesis%20(Stack%20of%20course)">Balanced parenthesis (Stack of course)</a> - <a href="#Some%20HackerRank%20solutions#Maze:%20Castle%20on%20the%20Grid">Maze: Castle on the Grid</a> - <a href="#Some%20HackerRank%20solutions#Array%20Largest%20rectangle">Array Largest rectangle</a> - <a href="#Some%20HackerRank%20solutions#Recursion:%20Davis&#39;%20Staircase">Recursion: Davis’ Staircase</a> - <a href="#Some%20HackerRank%20solutions#Binary%20Tree:%20Height">Binary Tree: Height</a> - <a href="#Some%20HackerRank%20solutions#Binary%20Tree:%20Lowest%20Common%20Ancestor">Binary Tree: Lowest Common Ancestor</a> - <a href="#Some%20HackerRank%20solutions#Trees:%20Is%20This%20a%20Binary%20Search%20Tree?">Trees: Is This a Binary Search Tree?</a> - <a href="#Some%20HackerRank%20solutions#Tree:%20Huffman%20Decoding">Tree: Huffman Decoding</a> - <a href="#Some%20HackerRank%20solutions#Dynamic%20Programming:%20Abbreviation">Dynamic Programming: Abbreviation</a> - <a href="#Some%20HackerRank%20solutions#Dynamic%20programming:%20candies">Dynamic programming: candies</a> - <a href="#Some%20HackerRank%20solutions#Find%20A%20Sub-Word%20(Regex%20list)">Find A Sub-Word (Regex list)</a> - <a href="#Some%20HackerRank%20solutions#Regex:%20Alien%20Username">Regex: Alien Username</a></p>
<section class="level2">
<section id="tips" class="level3">
<h3>Tips</h3>
<ul>
<li>Dynamic programming is like fire propagation. The dp array is keeping the position of the fire</li>
<li><code>cur = curs.pop(0)</code> to remove first. Wanring not cur.pop()</li>
<li>In loops, you will fail at first try -&gt; print</li>
<li>Don’t hesitate to comment, especially math</li>
<li>Represent the case of array and not the bound : arr[0] is first case not first frontier</li>
<li><code>UNIQUE</code> &lt;- grep this keyword, then pre-uniquify anything: can fasten a lot combinatory</li>
<li><code>42.2 // 2</code> -&gt; <code>int(42.2/2)</code> or <code>math.floor(42.2/2)</code> but the result is float</li>
<li>Do not dickotomize by hand: use bisect</li>
<li>Use differential or integral of an array can sometime helps
<ul>
<li>differential can be used to work on range input</li>
<li>integral can be used to find the max of subarray % some_integer, there they are called array prefix and sum(arr[i..j]) = prefix(j) - prefix(i) which can be sorted</li>
</ul></li>
</ul>
<section id="memoize-function-return-value-cache" class="level4">
<h4>Memoize function return value (cache)</h4>
<ul>
<li>lru_cache &lt;- Least Recently Used</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="at">@functools.lru_cache</span>(maxsize<span class="op">=</span><span class="dv">100</span>, typed<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="at">@functools.lru_cache</span>(maxsize<span class="op">=</span><span class="va">None</span>)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co"># Fibonacci numbers</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="at">@lru_cache</span>(maxsize<span class="op">=</span><span class="va">None</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="kw">def</span> fib(n):</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="cf">if</span> n <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb3-6"><a href="#cb3-6"></a>        <span class="cf">return</span> n</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="cf">return</span> fib(n<span class="dv">-1</span>) <span class="op">+</span> fib(n<span class="dv">-2</span>)</span>
<span id="cb3-8"><a href="#cb3-8"></a></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>([fib(n) <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">16</span>)])</span>
<span id="cb3-10"><a href="#cb3-10"></a>[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">21</span>, <span class="dv">34</span>, <span class="dv">55</span>, <span class="dv">89</span>, <span class="dv">144</span>, <span class="dv">233</span>, <span class="dv">377</span>, <span class="dv">610</span>]</span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(fib.cache_info())</span>
<span id="cb3-13"><a href="#cb3-13"></a>CacheInfo(hits<span class="op">=</span><span class="dv">28</span>, misses<span class="op">=</span><span class="dv">16</span>, maxsize<span class="op">=</span><span class="va">None</span>, currsize<span class="op">=</span><span class="dv">16</span>)</span></code></pre></div>
</section>
<section id="increase-recursion-depth" class="level4">
<h4>Increase recursion depth</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="bu">print</span>(sys.getrecursionlimit())</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co"># gives me 1000</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>sys.setrecursionlimit(<span class="dv">3000</span>) </span></code></pre></div>
</section>
</section>
</section>
<section id="classes-tips" class="level2">
<h2>Classes tips</h2>
<section class="level2">
<section id="string" class="level3">
<h3>String</h3>
<ul>
<li><strong>repr</strong>:
<ul>
<li><strong>repr</strong> goal is to be unambiguous</li>
<li><strong>str</strong> goal is to be readable</li>
<li>Container’s <strong>str</strong> uses contained objects’ <strong>repr</strong></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co"># Reverse string</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">&quot;Hello World&quot;</span>[::<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co"># Find last char </span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">&quot;Hello&quot;</span>.rfind(<span class="st">&#39;l&#39;</span>)</span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co"># Get alphbet</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="im">from</span> string <span class="im">import</span> ascii_lowercase</span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co"># Find all index match</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>s <span class="op">=</span> <span class="st">&quot;ababdfegtduab&quot;</span></span>
<span id="cb5-16"><a href="#cb5-16"></a>[m.start() <span class="cf">for</span> m <span class="kw">in</span> re.finditer(<span class="vs">r&quot;ab&quot;</span>,s)]</span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co"># -&gt; [0, 2, 11]</span></span></code></pre></div>
</section>
<section id="list" class="level3">
<h3>List</h3>
<ul>
<li>deque is short for Double Ended Queue</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co"># Find last elt of list</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>li <span class="op">=</span> [<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;x&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;a&quot;</span>, <span class="st">&quot;6&quot;</span>]</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">&#39;&#39;</span>.join(li).rindex(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="bu">len</span>(li) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> li[::<span class="op">-</span><span class="dv">1</span>].index(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co"># Find index</span></span>
<span id="cb6-9"><a href="#cb6-9"></a></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co"># # All of whatever condition</span></span>
<span id="cb6-11"><a href="#cb6-11"></a>indexes <span class="op">=</span> [i <span class="cf">for</span> i,x <span class="kw">in</span> <span class="bu">enumerate</span>(xs) <span class="cf">if</span> x <span class="op">==</span> <span class="st">&#39;foo&#39;</span>]</span>
<span id="cb6-12"><a href="#cb6-12"></a></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co"># # First (surround with try catch)</span></span>
<span id="cb6-14"><a href="#cb6-14"></a>[<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;baz&quot;</span>].index(<span class="st">&quot;bar&quot;</span>)</span>
<span id="cb6-15"><a href="#cb6-15"></a></span>
<span id="cb6-16"><a href="#cb6-16"></a></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co"># Contains only hi</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="bu">all</span>(elem <span class="op">==</span> <span class="st">&quot;hi&quot;</span> <span class="cf">for</span> elem <span class="kw">in</span> bag)</span>
<span id="cb6-19"><a href="#cb6-19"></a></span>
<span id="cb6-20"><a href="#cb6-20"></a></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co"># Equality</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="im">import</span> collections</span>
<span id="cb6-23"><a href="#cb6-23"></a>collections.Counter(x) <span class="op">==</span> collections.Counter(y)</span>
<span id="cb6-24"><a href="#cb6-24"></a></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="co"># # or</span></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="bu">sorted</span>(x) <span class="op">==</span> <span class="bu">sorted</span>(y)</span>
<span id="cb6-27"><a href="#cb6-27"></a></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="co"># # or if unique</span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="bu">set</span>(x) <span class="op">==</span> <span class="bu">set</span>(y)</span>
<span id="cb6-30"><a href="#cb6-30"></a></span>
<span id="cb6-31"><a href="#cb6-31"></a></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="co"># Reverse</span></span>
<span id="cb6-33"><a href="#cb6-33"></a><span class="bu">reversed</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb6-34"><a href="#cb6-34"></a></span>
<span id="cb6-35"><a href="#cb6-35"></a></span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="co"># append multiple items</span></span>
<span id="cb6-37"><a href="#cb6-37"></a>l <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb6-38"><a href="#cb6-38"></a>l.extends([<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>])</span>
<span id="cb6-39"><a href="#cb6-39"></a></span>
<span id="cb6-40"><a href="#cb6-40"></a><span class="co"># &quot; Better</span></span>
<span id="cb6-41"><a href="#cb6-41"></a>l <span class="op">+=</span> [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</span>
<span id="cb6-42"><a href="#cb6-42"></a></span>
<span id="cb6-43"><a href="#cb6-43"></a></span>
<span id="cb6-44"><a href="#cb6-44"></a><span class="co"># Enumerate, very usefull</span></span>
<span id="cb6-45"><a href="#cb6-45"></a></span>
<span id="cb6-46"><a href="#cb6-46"></a></span>
<span id="cb6-47"><a href="#cb6-47"></a><span class="co"># Set</span></span>
<span id="cb6-48"><a href="#cb6-48"></a></span>
<span id="cb6-49"><a href="#cb6-49"></a><span class="co"># # intersection</span></span>
<span id="cb6-50"><a href="#cb6-50"></a>z <span class="op">=</span> x.intersection(y) </span>
<span id="cb6-51"><a href="#cb6-51"></a></span>
<span id="cb6-52"><a href="#cb6-52"></a></span>
<span id="cb6-53"><a href="#cb6-53"></a><span class="co"># Copy nested list (2 dimension)</span></span>
<span id="cb6-54"><a href="#cb6-54"></a>y <span class="op">=</span> [row[:] <span class="cf">for</span> row <span class="kw">in</span> x]</span></code></pre></div>
</section>
<section id="dictionary" class="level3">
<h3>Dictionary</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co"># Add 2 dict</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>dic3 <span class="op">=</span> {<span class="op">**</span>dic1, <span class="op">**</span>dic2}</span>
<span id="cb7-4"><a href="#cb7-4"></a>z <span class="op">=</span> x.copy()</span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co"># start with x&#39;s keys and values</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>z.update(y)</span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co"># modifies z with y&#39;s keys and values &amp; returns None</span></span>
<span id="cb7-8"><a href="#cb7-8"></a></span>
<span id="cb7-9"><a href="#cb7-9"></a></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co"># Auto vivication</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="im">from</span> collections <span class="im">import</span> defaultdict</span>
<span id="cb7-12"><a href="#cb7-12"></a>d <span class="op">=</span> defaultdict(<span class="bu">int</span>)</span>
<span id="cb7-13"><a href="#cb7-13"></a>d[<span class="dv">3</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co"># -&gt; defaultdict(int, {3: 1})</span></span></code></pre></div>
</section>
<section id="golf" class="level3">
<h3>Golf</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="cf">for</span> i <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]:</span>
<span id="cb8-2"><a href="#cb8-2"></a>    <span class="bu">print</span>(i)</span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="cf">if</span> i<span class="op">==</span><span class="dv">3</span>:</span>
<span id="cb8-4"><a href="#cb8-4"></a>        <span class="cf">break</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="cf">else</span>:</span>
<span id="cb8-6"><a href="#cb8-6"></a>    <span class="bu">print</span>(<span class="st">&quot;for loop was not broken&quot;</span>)</span></code></pre></div>
</section>
<section id="stdin-stdout" class="level3">
<h3>StdIn / StdOut</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>fptr <span class="op">=</span> <span class="bu">open</span>(os.environ[<span class="st">&#39;OUTPUT_PATH&#39;</span>], <span class="st">&#39;w&#39;</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a>n <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>())</span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a>s <span class="op">=</span> <span class="bu">input</span>()</span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a>result <span class="op">=</span> substrCount(n, s)</span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a>fptr.write(<span class="bu">str</span>(result) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb9-10"><a href="#cb9-10"></a></span>
<span id="cb9-11"><a href="#cb9-11"></a>fptr.close()</span></code></pre></div>
<p>Or more complex</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>fptr <span class="op">=</span> <span class="bu">open</span>(os.environ[<span class="st">&#39;OUTPUT_PATH&#39;</span>], <span class="st">&#39;w&#39;</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>q <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>().strip())</span>
<span id="cb10-4"><a href="#cb10-4"></a></span>
<span id="cb10-5"><a href="#cb10-5"></a>queries <span class="op">=</span> []</span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(q):</span>
<span id="cb10-8"><a href="#cb10-8"></a>    queries.append(<span class="bu">list</span>(<span class="bu">map</span>(<span class="bu">int</span>, <span class="bu">input</span>().rstrip().split())))</span>
<span id="cb10-9"><a href="#cb10-9"></a></span>
<span id="cb10-10"><a href="#cb10-10"></a>ans <span class="op">=</span> freqQuery(queries)</span>
<span id="cb10-11"><a href="#cb10-11"></a></span>
<span id="cb10-12"><a href="#cb10-12"></a>fptr.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>.join(<span class="bu">map</span>(<span class="bu">str</span>, ans)))</span>
<span id="cb10-13"><a href="#cb10-13"></a>fptr.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb10-14"><a href="#cb10-14"></a></span>
<span id="cb10-15"><a href="#cb10-15"></a>fptr.close()</span></code></pre></div>
</section>
<section id="sorting" class="level3">
<h3>Sorting</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co"># Eumerate function</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>l1 <span class="op">=</span> [<span class="st">&quot;eat&quot;</span>,<span class="st">&quot;sleep&quot;</span>,<span class="st">&quot;repeat&quot;</span>] </span>
<span id="cb11-4"><a href="#cb11-4"></a>s1 <span class="op">=</span> <span class="st">&quot;geek&quot;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="bu">print</span> <span class="bu">list</span>(<span class="bu">enumerate</span>(l1)) </span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co"># changing start index to 2 from 0 </span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="bu">print</span> <span class="bu">list</span>(<span class="bu">enumerate</span>(s1,<span class="dv">2</span>)) </span>
<span id="cb11-10"><a href="#cb11-10"></a></span>
<span id="cb11-11"><a href="#cb11-11"></a></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co"># Map lambda</span></span>
<span id="cb11-13"><a href="#cb11-13"></a>new_list <span class="op">=</span> <span class="bu">map</span>(<span class="kw">lambda</span> x: x<span class="op">%</span>num, old_list)</span>
<span id="cb11-14"><a href="#cb11-14"></a>new_list <span class="op">=</span> [ x<span class="op">%</span>num <span class="cf">for</span> x <span class="kw">in</span> old_list]</span>
<span id="cb11-15"><a href="#cb11-15"></a></span>
<span id="cb11-16"><a href="#cb11-16"></a></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="co"># Swap (with &#39;tuple-unpacking&#39;)</span></span>
<span id="cb11-18"><a href="#cb11-18"></a>arr[i], arr[j] <span class="op">=</span> arr[j], arr[i]</span></code></pre></div>
</section>
<section id="idioms" class="level3">
<h3>Idioms</h3>
<ul>
<li>tuple-unpacking:</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>foo, boo, moo <span class="op">=</span> boo[<span class="dv">0</span>], moo[<span class="dv">0</span>], foo[<span class="dv">0</span>] <span class="op">=</span> moo[<span class="dv">0</span>], foo[<span class="dv">0</span>], boo[<span class="dv">0</span>] <span class="op">=</span> [<span class="dv">0</span>], [<span class="dv">0</span>], [<span class="dv">0</span>]`</span></code></pre></div>
<ul>
<li>Get from dict (of dict):</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>value <span class="op">=</span> d.get(key, {}).get(key2, <span class="st">&quot;empty&quot;</span>)</span></code></pre></div>
</section>
</section>
</section>
<section id="some-hackerrank-solutions" class="level2">
<h2>Some HackerRank solutions</h2>
<section class="level2">
<section id="rotate-left-list" class="level3">
<h3>Rotate left list</h3>
<ul>
<li>Using modular arithmetic to calculate new pos</li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">for</span>(<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; lengthOfArray; i++){</span>
<span id="cb14-2"><a href="#cb14-2"></a>    <span class="dt">int</span> newLocation = (i + (lengthOfArray - shiftAmount)) % lengthOfArray;</span>
<span id="cb14-3"><a href="#cb14-3"></a>    a[newLocation] = in.<span class="fu">nextInt</span>();</span>
<span id="cb14-4"><a href="#cb14-4"></a>}</span></code></pre></div>
<ul>
<li>Slicing</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">def</span> rotLeft(a, d): <span class="cf">return</span> a[d:]<span class="op">+</span>a[:d]</span></code></pre></div>
<ul>
<li>Deque in python support that</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="kw">def</span> rotLeft(a, d):</span>
<span id="cb16-4"><a href="#cb16-4"></a>    deq <span class="op">=</span> deque(a)</span>
<span id="cb16-5"><a href="#cb16-5"></a>    deq.rotate(<span class="op">-</span>d)</span>
<span id="cb16-6"><a href="#cb16-6"></a>    <span class="cf">return</span> <span class="bu">list</span>(deq)</span></code></pre></div>
</section>
<section id="count-triplet" class="level3">
<h3>Count triplet</h3>
<p>Count number of geometric progression in array [x, x<em>k, x</em>k*k]. K is given, read the rules !</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">def</span> countTriplets(arr, r):</span>
<span id="cb17-2"><a href="#cb17-2"></a>    count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> dic1 <span class="op">=</span> {}<span class="op">;</span> dic2 <span class="op">=</span> {}</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a>    <span class="cf">for</span> i3 <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="co"># get</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>        val3 <span class="op">=</span> arr[i3]</span>
<span id="cb17-8"><a href="#cb17-8"></a>        val2 <span class="op">=</span> val3 <span class="op">/</span> r</span>
<span id="cb17-9"><a href="#cb17-9"></a></span>
<span id="cb17-10"><a href="#cb17-10"></a></span>
<span id="cb17-11"><a href="#cb17-11"></a><span class="co"># count</span></span>
<span id="cb17-12"><a href="#cb17-12"></a>        count <span class="op">+=</span> dic2.get(val2, <span class="dv">0</span>)</span>
<span id="cb17-13"><a href="#cb17-13"></a></span>
<span id="cb17-14"><a href="#cb17-14"></a></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="co"># update</span></span>
<span id="cb17-16"><a href="#cb17-16"></a>        dic2[val3] <span class="op">=</span> dic2.get(val3, <span class="dv">0</span>) <span class="op">+</span> dic1.get(val2, <span class="dv">0</span>)</span>
<span id="cb17-17"><a href="#cb17-17"></a>        dic1[val3] <span class="op">=</span> dic1.get(val3, <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb17-18"><a href="#cb17-18"></a></span>
<span id="cb17-19"><a href="#cb17-19"></a>    <span class="cf">return</span> count</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="im">from</span> collections <span class="im">import</span> defaultdict</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw">def</span> countTriplets(arr, r):</span>
<span id="cb18-3"><a href="#cb18-3"></a>    v2 <span class="op">=</span> defaultdict(<span class="bu">int</span>)</span>
<span id="cb18-4"><a href="#cb18-4"></a>    v3 <span class="op">=</span> defaultdict(<span class="bu">int</span>)</span>
<span id="cb18-5"><a href="#cb18-5"></a>    count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>    <span class="cf">for</span> k <span class="kw">in</span> arr:</span>
<span id="cb18-7"><a href="#cb18-7"></a>        count <span class="op">+=</span> v3[k]</span>
<span id="cb18-8"><a href="#cb18-8"></a>        v3[k<span class="op">*</span>r] <span class="op">+=</span> v2[k]</span>
<span id="cb18-9"><a href="#cb18-9"></a>        v2[k<span class="op">*</span>r] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb18-10"><a href="#cb18-10"></a></span>
<span id="cb18-11"><a href="#cb18-11"></a>    <span class="cf">return</span> count</span></code></pre></div>
</section>
<section id="solution-reverse-shuffle-merge" class="level3">
<h3>Solution: Reverse Shuffle Merge</h3>
<p>Note : I did not manage in 3h. When tired, get really bad + no paper to note =&gt; Must concentrate</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a><span class="kw">def</span> reverseShuffleMerge(s):</span>
<span id="cb19-2"><a href="#cb19-2"></a></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co"># Total character counts in s</span></span>
<span id="cb19-4"><a href="#cb19-4"></a>    char_count <span class="op">=</span> Counter(s)</span>
<span id="cb19-5"><a href="#cb19-5"></a></span>
<span id="cb19-6"><a href="#cb19-6"></a></span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="co"># Character counts we need in our final string</span></span>
<span id="cb19-8"><a href="#cb19-8"></a>    string_chars <span class="op">=</span> { </span>
<span id="cb19-9"><a href="#cb19-9"></a>        char: <span class="bu">int</span>(count <span class="op">/</span> <span class="dv">2</span>) <span class="cf">for</span> char, count <span class="kw">in</span> char_count.items() </span>
<span id="cb19-10"><a href="#cb19-10"></a>    }</span>
<span id="cb19-11"><a href="#cb19-11"></a></span>
<span id="cb19-12"><a href="#cb19-12"></a></span>
<span id="cb19-13"><a href="#cb19-13"></a><span class="co"># Character counts we need in the shuffled </span></span>
<span id="cb19-14"><a href="#cb19-14"></a></span>
<span id="cb19-15"><a href="#cb19-15"></a><span class="co"># version of our original string </span></span>
<span id="cb19-16"><a href="#cb19-16"></a>    shuffled_chars <span class="op">=</span> { </span>
<span id="cb19-17"><a href="#cb19-17"></a>        char: <span class="bu">int</span>(count <span class="op">/</span> <span class="dv">2</span>) <span class="cf">for</span> char, count <span class="kw">in</span> char_count.items() </span>
<span id="cb19-18"><a href="#cb19-18"></a>    }</span>
<span id="cb19-19"><a href="#cb19-19"></a></span>
<span id="cb19-20"><a href="#cb19-20"></a>    string <span class="op">=</span> []</span>
<span id="cb19-21"><a href="#cb19-21"></a></span>
<span id="cb19-22"><a href="#cb19-22"></a>    <span class="cf">for</span> char <span class="kw">in</span> <span class="bu">reversed</span>(s):</span>
<span id="cb19-23"><a href="#cb19-23"></a>        <span class="cf">if</span> string_chars[char] <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb19-24"><a href="#cb19-24"></a></span>
<span id="cb19-25"><a href="#cb19-25"></a><span class="co"># See if this character should appear before any </span></span>
<span id="cb19-26"><a href="#cb19-26"></a></span>
<span id="cb19-27"><a href="#cb19-27"></a><span class="co"># previous ones. Basically, if this char is smaller </span></span>
<span id="cb19-28"><a href="#cb19-28"></a></span>
<span id="cb19-29"><a href="#cb19-29"></a><span class="co"># than the previous char, and the previous char </span></span>
<span id="cb19-30"><a href="#cb19-30"></a></span>
<span id="cb19-31"><a href="#cb19-31"></a><span class="co"># still occurs in the chars of the shuffled string, </span></span>
<span id="cb19-32"><a href="#cb19-32"></a></span>
<span id="cb19-33"><a href="#cb19-33"></a><span class="co"># we can the safely replace the previous char </span></span>
<span id="cb19-34"><a href="#cb19-34"></a></span>
<span id="cb19-35"><a href="#cb19-35"></a><span class="co"># with this one. That&#39;s so because we should be </span></span>
<span id="cb19-36"><a href="#cb19-36"></a></span>
<span id="cb19-37"><a href="#cb19-37"></a><span class="co"># able to still create a valid string which contains</span></span>
<span id="cb19-38"><a href="#cb19-38"></a></span>
<span id="cb19-39"><a href="#cb19-39"></a><span class="co"># both characters although the order will differs.</span></span>
<span id="cb19-40"><a href="#cb19-40"></a>            <span class="cf">while</span> string <span class="kw">and</span> string[<span class="op">-</span><span class="dv">1</span>] <span class="op">&gt;</span> char <span class="kw">and</span> shuffled_chars[string[<span class="op">-</span><span class="dv">1</span>]] <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb19-41"><a href="#cb19-41"></a>                removed <span class="op">=</span> string.pop()</span>
<span id="cb19-42"><a href="#cb19-42"></a>                string_chars[removed] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb19-43"><a href="#cb19-43"></a>                shuffled_chars[removed] <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb19-44"><a href="#cb19-44"></a></span>
<span id="cb19-45"><a href="#cb19-45"></a>            string.append(char)</span>
<span id="cb19-46"><a href="#cb19-46"></a>            string_chars[char] <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb19-47"><a href="#cb19-47"></a>        <span class="cf">else</span>:</span>
<span id="cb19-48"><a href="#cb19-48"></a>            shuffled_chars[char] <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb19-49"><a href="#cb19-49"></a></span>
<span id="cb19-50"><a href="#cb19-50"></a>    <span class="cf">return</span> <span class="st">&#39;&#39;</span>.join(string)</span></code></pre></div>
</section>
<section id="fraudulent-activity-notifications" class="level3">
<h3>Fraudulent Activity Notifications</h3>
<p>Explanation of <span class="citation" data-cites="eduasinco">@eduasinco</span>:</p>
<ol type="1">
<li>bisect_left:</li>
</ol>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a>ix <span class="op">=</span> bisect_left(v, de)</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="kw">del</span> v[ix]</span></code></pre></div>
<p>you could <code>remove v[de]</code> but it would take O(n) time to find de whereas bisect_left assume a sorted list and find the index in O(log(n)).</p>
<hr />
<ol start="2" type="1">
<li>enumerate</li>
</ol>
<p>gives you an index (i) used to remove the last income</p>
<hr />
<ol start="3" type="1">
<li>del</li>
</ol>
<p>This is the slow version O(n): The end of the list must be copied. Here we are lucky, please explain to me !! This also work: <code>l_sorted.remove(index)</code></p>
<hr />
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a><span class="im">from</span> bisect <span class="im">import</span> insort, bisect_left</span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="kw">def</span> activityNotifications(expenditure, d):</span>
<span id="cb21-4"><a href="#cb21-4"></a></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="co"># Check in</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>    <span class="cf">if</span> <span class="bu">len</span>(expenditure) <span class="op">&lt;</span> d : <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb21-7"><a href="#cb21-7"></a></span>
<span id="cb21-8"><a href="#cb21-8"></a></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="co"># Usefull var</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>    half <span class="op">=</span> <span class="bu">int</span>(d <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb21-12"><a href="#cb21-12"></a>    is_impair <span class="op">=</span> d <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> </span>
<span id="cb21-13"><a href="#cb21-13"></a></span>
<span id="cb21-14"><a href="#cb21-14"></a></span>
<span id="cb21-15"><a href="#cb21-15"></a><span class="co"># Prepare, sort</span></span>
<span id="cb21-16"><a href="#cb21-16"></a>    l_sorted <span class="op">=</span> <span class="bu">sorted</span>(expenditure[:d])</span>
<span id="cb21-17"><a href="#cb21-17"></a></span>
<span id="cb21-18"><a href="#cb21-18"></a>    <span class="cf">for</span> i, current <span class="kw">in</span> <span class="bu">enumerate</span>(expenditure[d:]):</span>
<span id="cb21-19"><a href="#cb21-19"></a></span>
<span id="cb21-20"><a href="#cb21-20"></a><span class="co"># Add point</span></span>
<span id="cb21-21"><a href="#cb21-21"></a>        <span class="cf">if</span> is_impair: med2 <span class="op">=</span> l_sorted[half] <span class="op">+</span> l_sorted[half<span class="dv">-1</span>]</span>
<span id="cb21-22"><a href="#cb21-22"></a>        <span class="cf">else</span>: med2 <span class="op">=</span> l_sorted[half] <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb21-23"><a href="#cb21-23"></a>        <span class="cf">if</span> current <span class="op">&gt;=</span> med2:  res <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb21-24"><a href="#cb21-24"></a></span>
<span id="cb21-25"><a href="#cb21-25"></a></span>
<span id="cb21-26"><a href="#cb21-26"></a><span class="co"># Remove last</span></span>
<span id="cb21-27"><a href="#cb21-27"></a>        last <span class="op">=</span> expenditure[i]</span>
<span id="cb21-28"><a href="#cb21-28"></a>        index <span class="op">=</span> bisect_left(l_sorted, last)</span>
<span id="cb21-29"><a href="#cb21-29"></a>        <span class="kw">del</span> l_sorted[index]</span>
<span id="cb21-30"><a href="#cb21-30"></a></span>
<span id="cb21-31"><a href="#cb21-31"></a></span>
<span id="cb21-32"><a href="#cb21-32"></a><span class="co"># Add new</span></span>
<span id="cb21-33"><a href="#cb21-33"></a>        insort(l_sorted, current)</span>
<span id="cb21-34"><a href="#cb21-34"></a></span>
<span id="cb21-35"><a href="#cb21-35"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="sherlock-and-anagrams" class="level3">
<h3>Sherlock and Anagrams</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co"># Complete the sherlockAndAnagrams function below.</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="kw">def</span> sherlockAndAnagrams(s):</span>
<span id="cb22-4"><a href="#cb22-4"></a>    res <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i_l <span class="op">=</span> <span class="bu">len</span>(s)</span>
<span id="cb22-5"><a href="#cb22-5"></a></span>
<span id="cb22-6"><a href="#cb22-6"></a></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="co"># Loop letter number 1 .. i_l - 1</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>    <span class="cf">for</span> i_letter <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, i_l):</span>
<span id="cb22-9"><a href="#cb22-9"></a></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="co"># Loop i_c: 0 .. i_l - letter and sort i_c:i_c+letter</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>        a_sort1 <span class="op">=</span> <span class="bu">sorted</span>(s[:i_letter <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb22-12"><a href="#cb22-12"></a>        <span class="cf">for</span> i_c <span class="kw">in</span> <span class="bu">range</span>(i_l <span class="op">-</span> i_letter <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb22-13"><a href="#cb22-13"></a>            insort(a_sort1, s[i_c<span class="op">+</span>i_letter<span class="dv">-1</span>])</span>
<span id="cb22-14"><a href="#cb22-14"></a></span>
<span id="cb22-15"><a href="#cb22-15"></a></span>
<span id="cb22-16"><a href="#cb22-16"></a><span class="co"># Loop j_c: i_c+1: i_l - letter and sort j_c:j_c+letter</span></span>
<span id="cb22-17"><a href="#cb22-17"></a>            blacklist <span class="op">=</span> []</span>
<span id="cb22-18"><a href="#cb22-18"></a>            a_sort2 <span class="op">=</span> <span class="bu">sorted</span>(s[i_c<span class="op">+</span><span class="dv">1</span> : i_c<span class="op">+</span><span class="dv">1</span> <span class="op">+</span> i_letter<span class="dv">-1</span>])</span>
<span id="cb22-19"><a href="#cb22-19"></a>            <span class="cf">for</span> j_c <span class="kw">in</span> <span class="bu">range</span>( i_c<span class="op">+</span><span class="dv">1</span>, i_l <span class="op">-</span>i_letter <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb22-20"><a href="#cb22-20"></a>                <span class="cf">if</span> j_c <span class="kw">in</span> blacklist: <span class="cf">continue</span></span>
<span id="cb22-21"><a href="#cb22-21"></a>                insort(a_sort2, s[j_c<span class="op">+</span>i_letter<span class="dv">-1</span>])</span>
<span id="cb22-22"><a href="#cb22-22"></a></span>
<span id="cb22-23"><a href="#cb22-23"></a></span>
<span id="cb22-24"><a href="#cb22-24"></a><span class="co"># Match</span></span>
<span id="cb22-25"><a href="#cb22-25"></a>                <span class="cf">if</span> a_sort1 <span class="op">==</span> a_sort2:</span>
<span id="cb22-26"><a href="#cb22-26"></a>                    res <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb22-27"><a href="#cb22-27"></a>                    blacklist.append(j_c)</span>
<span id="cb22-28"><a href="#cb22-28"></a></span>
<span id="cb22-29"><a href="#cb22-29"></a>                ix2 <span class="op">=</span> bisect_left(a_sort2, s[j_c])</span>
<span id="cb22-30"><a href="#cb22-30"></a>                <span class="kw">del</span> a_sort2[ix2]                </span>
<span id="cb22-31"><a href="#cb22-31"></a></span>
<span id="cb22-32"><a href="#cb22-32"></a>            ix1 <span class="op">=</span> bisect_left(a_sort1, s[i_c])</span>
<span id="cb22-33"><a href="#cb22-33"></a>            <span class="kw">del</span> a_sort1[ix1]</span>
<span id="cb22-34"><a href="#cb22-34"></a></span>
<span id="cb22-35"><a href="#cb22-35"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="string-sub-count" class="level3">
<h3>String: Sub count</h3>
<ul>
<li>Replace loop over string</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a><span class="cf">for</span> i_start <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb23-2"><a href="#cb23-2"></a>    c_start <span class="op">=</span> s[i_start]</span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a> <span class="cf">for</span> i_start, c_start <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span></code></pre></div>
<section id="my-solution-with-too-many-if" class="level4">
<h4>1 My solution with too many if</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">def</span> substrCount(n, s):</span>
<span id="cb25-2"><a href="#cb25-2"></a>    count <span class="op">=</span> n</span>
<span id="cb25-3"><a href="#cb25-3"></a></span>
<span id="cb25-4"><a href="#cb25-4"></a>    <span class="cf">for</span> i_start <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb25-5"><a href="#cb25-5"></a>        c_start <span class="op">=</span> s[i_start]</span>
<span id="cb25-6"><a href="#cb25-6"></a></span>
<span id="cb25-7"><a href="#cb25-7"></a>        i_middle <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb25-8"><a href="#cb25-8"></a>        <span class="cf">for</span> i_end <span class="kw">in</span> <span class="bu">range</span>(i_start<span class="op">+</span><span class="dv">1</span>, n):</span>
<span id="cb25-9"><a href="#cb25-9"></a>            <span class="cf">if</span> s[i_end] <span class="op">!=</span> c_start:</span>
<span id="cb25-10"><a href="#cb25-10"></a>                <span class="cf">if</span> <span class="kw">not</span> i_middle:</span>
<span id="cb25-11"><a href="#cb25-11"></a>                    i_middle <span class="op">=</span> i_end</span>
<span id="cb25-12"><a href="#cb25-12"></a>                    <span class="cf">continue</span></span>
<span id="cb25-13"><a href="#cb25-13"></a>                <span class="cf">break</span></span>
<span id="cb25-14"><a href="#cb25-14"></a></span>
<span id="cb25-15"><a href="#cb25-15"></a>            <span class="cf">if</span> <span class="kw">not</span> i_middle:</span>
<span id="cb25-16"><a href="#cb25-16"></a>                count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb25-17"><a href="#cb25-17"></a>                <span class="cf">continue</span></span>
<span id="cb25-18"><a href="#cb25-18"></a></span>
<span id="cb25-19"><a href="#cb25-19"></a>            <span class="cf">if</span> i_end <span class="op">-</span> i_middle <span class="op">==</span> i_middle <span class="op">-</span> i_start:</span>
<span id="cb25-20"><a href="#cb25-20"></a>                count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb25-21"><a href="#cb25-21"></a>                <span class="cf">break</span></span>
<span id="cb25-22"><a href="#cb25-22"></a></span>
<span id="cb25-23"><a href="#cb25-23"></a>    <span class="cf">return</span> count</span></code></pre></div>
</section>
<section id="can-be-replaced-with-regex" class="level4">
<h4>2 Can be replaced with regex !!</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>count <span class="op">=</span> <span class="bu">len</span>(s)</span>
<span id="cb26-2"><a href="#cb26-2"></a></span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a><span class="co"># With middle</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>exp1 <span class="op">=</span> <span class="vs">r&#39;(([a-z])\2*)(?!\1)(?=[a-z]\1)&#39;</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>m <span class="op">=</span> re.finditer(exp1,s)</span>
<span id="cb26-7"><a href="#cb26-7"></a>count <span class="op">+=</span> <span class="bu">sum</span>([<span class="bu">len</span>(x.group(<span class="dv">0</span>)) <span class="cf">for</span> x <span class="kw">in</span> m])</span>
<span id="cb26-8"><a href="#cb26-8"></a></span>
<span id="cb26-9"><a href="#cb26-9"></a></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="co"># Just repeated seqs</span></span>
<span id="cb26-11"><a href="#cb26-11"></a>exp2 <span class="op">=</span> <span class="vs">r&#39;([a-z])\1+&#39;</span></span>
<span id="cb26-12"><a href="#cb26-12"></a>m <span class="op">=</span> re.finditer(exp2,s)</span>
<span id="cb26-13"><a href="#cb26-13"></a>count <span class="op">+=</span> <span class="bu">sum</span>([triangular_number(<span class="bu">len</span>(x.group(<span class="dv">0</span>))<span class="op">-</span><span class="dv">1</span>) <span class="cf">for</span> x <span class="kw">in</span> m])</span>
<span id="cb26-14"><a href="#cb26-14"></a></span>
<span id="cb26-15"><a href="#cb26-15"></a><span class="cf">return</span> count</span>
<span id="cb26-16"><a href="#cb26-16"></a></span>
<span id="cb26-17"><a href="#cb26-17"></a><span class="kw">def</span> triangular_number(n):</span>
<span id="cb26-18"><a href="#cb26-18"></a>    <span class="co">&quot;&quot;&quot;Count xxxx for any submatch xx xxx x .. so 4 + 3 + 2 + 1&quot;&quot;&quot;</span></span>
<span id="cb26-19"><a href="#cb26-19"></a>    <span class="cf">return</span> (<span class="bu">pow</span>(n,<span class="dv">2</span>)<span class="op">+</span>n)<span class="op">//</span><span class="dv">2</span></span></code></pre></div>
</section>
<section id="can-mutualize-some-if" class="level4">
<h4>3 Can mutualize some if</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">def</span> substrCount(n, s):</span>
<span id="cb27-2"><a href="#cb27-2"></a>    tot <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>    count_sequence <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb27-4"><a href="#cb27-4"></a>    prev <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
<span id="cb27-5"><a href="#cb27-5"></a>    <span class="cf">for</span> i,v <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span>
<span id="cb27-6"><a href="#cb27-6"></a></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="co"># first increase counter for all seperate characters</span></span>
<span id="cb27-8"><a href="#cb27-8"></a>        count_sequence <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb27-9"><a href="#cb27-9"></a>        <span class="cf">if</span> i <span class="kw">and</span> (prev <span class="op">!=</span> v):</span>
<span id="cb27-10"><a href="#cb27-10"></a></span>
<span id="cb27-11"><a href="#cb27-11"></a><span class="co"># if this is not the first char in the string </span></span>
<span id="cb27-12"><a href="#cb27-12"></a></span>
<span id="cb27-13"><a href="#cb27-13"></a><span class="co"># and it is not same as previous char, </span></span>
<span id="cb27-14"><a href="#cb27-14"></a></span>
<span id="cb27-15"><a href="#cb27-15"></a><span class="co"># we should check for sequence x.x, xx.xx, xxx.xxx etc</span></span>
<span id="cb27-16"><a href="#cb27-16"></a></span>
<span id="cb27-17"><a href="#cb27-17"></a><span class="co"># and we know it cant be longer on the right side than</span></span>
<span id="cb27-18"><a href="#cb27-18"></a></span>
<span id="cb27-19"><a href="#cb27-19"></a><span class="co"># the sequence we already found on the left side.</span></span>
<span id="cb27-20"><a href="#cb27-20"></a>            j <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb27-21"><a href="#cb27-21"></a>            <span class="cf">while</span> ((i<span class="op">-</span>j) <span class="op">&gt;=</span> <span class="dv">0</span>) <span class="kw">and</span> ((i<span class="op">+</span>j) <span class="op">&lt;</span> <span class="bu">len</span>(s)) <span class="kw">and</span> j <span class="op">&lt;=</span> count_sequence:</span>
<span id="cb27-22"><a href="#cb27-22"></a></span>
<span id="cb27-23"><a href="#cb27-23"></a><span class="co"># make sure the chars to the right and left are equal</span></span>
<span id="cb27-24"><a href="#cb27-24"></a></span>
<span id="cb27-25"><a href="#cb27-25"></a><span class="co"># to the char in the previous found squence</span></span>
<span id="cb27-26"><a href="#cb27-26"></a>                <span class="cf">if</span> s[i<span class="op">-</span>j] <span class="op">==</span> prev <span class="op">==</span> s[i<span class="op">+</span>j]:</span>
<span id="cb27-27"><a href="#cb27-27"></a></span>
<span id="cb27-28"><a href="#cb27-28"></a><span class="co"># if so increase total score and step one step further out</span></span>
<span id="cb27-29"><a href="#cb27-29"></a>                    tot <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb27-30"><a href="#cb27-30"></a>                    j <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb27-31"><a href="#cb27-31"></a>                <span class="cf">else</span>:</span>
<span id="cb27-32"><a href="#cb27-32"></a></span>
<span id="cb27-33"><a href="#cb27-33"></a><span class="co"># no need to loop any further if this loop did </span></span>
<span id="cb27-34"><a href="#cb27-34"></a></span>
<span id="cb27-35"><a href="#cb27-35"></a><span class="co"># not find an x.x  pattern</span></span>
<span id="cb27-36"><a href="#cb27-36"></a>                    <span class="cf">break</span></span>
<span id="cb27-37"><a href="#cb27-37"></a></span>
<span id="cb27-38"><a href="#cb27-38"></a><span class="co">#if the current char is different from previous, reset counter to 1</span></span>
<span id="cb27-39"><a href="#cb27-39"></a>            count_sequence <span class="op">=</span> <span class="dv">1</span>  </span>
<span id="cb27-40"><a href="#cb27-40"></a>        tot <span class="op">+=</span> count_sequence            </span>
<span id="cb27-41"><a href="#cb27-41"></a>        prev <span class="op">=</span> v</span>
<span id="cb27-42"><a href="#cb27-42"></a>  <span class="cf">return</span> tot    </span></code></pre></div>
</section>
</section>
<section id="string-longest-common-substring-problem" class="level3">
<h3>String: Longest Common substring problem</h3>
<ul>
<li>https://en.wikipedia.org/wiki/Longest_common_subsequence_problem</li>
<li>Linked to the edit distance (you know, article with the snake path for yadiff)</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="kw">def</span> commonChild(s1, s2):</span>
<span id="cb28-2"><a href="#cb28-2"></a>    m, n <span class="op">=</span> <span class="bu">len</span>(s1), <span class="bu">len</span>(s2)</span>
<span id="cb28-3"><a href="#cb28-3"></a>    prev, cur <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span>(n<span class="op">+</span><span class="dv">1</span>), [<span class="dv">0</span>]<span class="op">*</span>(n<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb28-4"><a href="#cb28-4"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, m<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb28-5"><a href="#cb28-5"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb28-6"><a href="#cb28-6"></a>            <span class="cf">if</span> s1[i<span class="dv">-1</span>] <span class="op">==</span> s2[j<span class="dv">-1</span>]:</span>
<span id="cb28-7"><a href="#cb28-7"></a>                cur[j] <span class="op">=</span> <span class="dv">1</span> <span class="op">+</span> prev[j<span class="dv">-1</span>]</span>
<span id="cb28-8"><a href="#cb28-8"></a>            <span class="cf">else</span>:</span>
<span id="cb28-9"><a href="#cb28-9"></a>                <span class="cf">if</span> cur[j<span class="dv">-1</span>] <span class="op">&gt;</span> prev[j]:</span>
<span id="cb28-10"><a href="#cb28-10"></a>                    cur[j] <span class="op">=</span> cur[j<span class="dv">-1</span>]</span>
<span id="cb28-11"><a href="#cb28-11"></a>                <span class="cf">else</span>:</span>
<span id="cb28-12"><a href="#cb28-12"></a>                    cur[j] <span class="op">=</span> prev[j]</span>
<span id="cb28-13"><a href="#cb28-13"></a>        cur, prev <span class="op">=</span> prev, cur</span>
<span id="cb28-14"><a href="#cb28-14"></a>    <span class="cf">return</span> prev[n]</span></code></pre></div>
</section>
<section id="tree-swap-node" class="level3">
<h3>Tree: Swap Node</h3>
<p>My solution:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a><span class="kw">class</span> Tree:</span>
<span id="cb29-2"><a href="#cb29-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, i):</span>
<span id="cb29-3"><a href="#cb29-3"></a>        <span class="va">self</span>.<span class="bu">id</span> <span class="op">=</span> i</span>
<span id="cb29-4"><a href="#cb29-4"></a>        <span class="va">self</span>.left <span class="op">=</span> <span class="va">None</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>        <span class="va">self</span>.right <span class="op">=</span> <span class="va">None</span></span>
<span id="cb29-6"><a href="#cb29-6"></a></span>
<span id="cb29-7"><a href="#cb29-7"></a>    <span class="at">@staticmethod</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>    <span class="kw">def</span> build(<span class="bu">id</span>, nexts):</span>
<span id="cb29-9"><a href="#cb29-9"></a>        <span class="co">&quot;&quot;&quot;Helper: create a tree and if not null append to next&quot;&quot;&quot;</span></span>
<span id="cb29-10"><a href="#cb29-10"></a>        <span class="cf">if</span> <span class="bu">id</span> <span class="op">==</span> <span class="dv">-1</span>: <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb29-11"><a href="#cb29-11"></a>        tree <span class="op">=</span> Tree(<span class="bu">id</span>)</span>
<span id="cb29-12"><a href="#cb29-12"></a>        nexts.append(tree)</span>
<span id="cb29-13"><a href="#cb29-13"></a>        <span class="cf">return</span> Tree(<span class="bu">id</span>)</span>
<span id="cb29-14"><a href="#cb29-14"></a></span>
<span id="cb29-15"><a href="#cb29-15"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb29-16"><a href="#cb29-16"></a>        <span class="cf">return</span> <span class="ss">f&quot;Tree:</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span><span class="bu">id</span><span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb29-17"><a href="#cb29-17"></a></span>
<span id="cb29-18"><a href="#cb29-18"></a></span>
<span id="cb29-19"><a href="#cb29-19"></a><span class="kw">def</span> traverse(tree):</span>
<span id="cb29-20"><a href="#cb29-20"></a>    <span class="cf">if</span> tree <span class="kw">is</span> <span class="va">None</span>: <span class="cf">return</span> []</span>
<span id="cb29-21"><a href="#cb29-21"></a></span>
<span id="cb29-22"><a href="#cb29-22"></a><span class="co"># Traverse the left subtree</span></span>
<span id="cb29-23"><a href="#cb29-23"></a>    res <span class="op">=</span> traverse(tree.left)</span>
<span id="cb29-24"><a href="#cb29-24"></a></span>
<span id="cb29-25"><a href="#cb29-25"></a></span>
<span id="cb29-26"><a href="#cb29-26"></a><span class="co"># Visit root</span></span>
<span id="cb29-27"><a href="#cb29-27"></a>    res.append(tree.<span class="bu">id</span>)</span>
<span id="cb29-28"><a href="#cb29-28"></a></span>
<span id="cb29-29"><a href="#cb29-29"></a></span>
<span id="cb29-30"><a href="#cb29-30"></a><span class="co"># Traverse the right subtree</span></span>
<span id="cb29-31"><a href="#cb29-31"></a>    <span class="cf">return</span> res <span class="op">+</span> traverse(tree.right)</span>
<span id="cb29-32"><a href="#cb29-32"></a></span>
<span id="cb29-33"><a href="#cb29-33"></a></span>
<span id="cb29-34"><a href="#cb29-34"></a><span class="kw">def</span> swapNodes(indexes, queries):</span>
<span id="cb29-35"><a href="#cb29-35"></a></span>
<span id="cb29-36"><a href="#cb29-36"></a><span class="co"># Some test go far in recursion but just onces fct(fct(fct ....))</span></span>
<span id="cb29-37"><a href="#cb29-37"></a>    sys.setrecursionlimit(<span class="dv">3000</span>) </span>
<span id="cb29-38"><a href="#cb29-38"></a></span>
<span id="cb29-39"><a href="#cb29-39"></a></span>
<span id="cb29-40"><a href="#cb29-40"></a><span class="co"># Create tree</span></span>
<span id="cb29-41"><a href="#cb29-41"></a>    root <span class="op">=</span> Tree(<span class="dv">1</span>)</span>
<span id="cb29-42"><a href="#cb29-42"></a></span>
<span id="cb29-43"><a href="#cb29-43"></a><span class="co"># Memoize depth</span></span>
<span id="cb29-44"><a href="#cb29-44"></a>    depths <span class="op">=</span> []</span>
<span id="cb29-45"><a href="#cb29-45"></a></span>
<span id="cb29-46"><a href="#cb29-46"></a></span>
<span id="cb29-47"><a href="#cb29-47"></a><span class="co"># Build</span></span>
<span id="cb29-48"><a href="#cb29-48"></a>    nexs <span class="op">=</span> [root]<span class="op">;</span> curs <span class="op">=</span> []</span>
<span id="cb29-49"><a href="#cb29-49"></a>    <span class="cf">for</span> left, right <span class="kw">in</span> indexes:</span>
<span id="cb29-50"><a href="#cb29-50"></a>        <span class="cf">if</span> <span class="bu">len</span>(curs) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb29-51"><a href="#cb29-51"></a>            depths.append(nexs)</span>
<span id="cb29-52"><a href="#cb29-52"></a>            curs <span class="op">=</span> nexs.copy()</span>
<span id="cb29-53"><a href="#cb29-53"></a>            nexs <span class="op">=</span> []</span>
<span id="cb29-54"><a href="#cb29-54"></a></span>
<span id="cb29-55"><a href="#cb29-55"></a>        cur <span class="op">=</span> curs.pop(<span class="dv">0</span>)</span>
<span id="cb29-56"><a href="#cb29-56"></a>        cur.left <span class="op">=</span> Tree.build(left, nexs)</span>
<span id="cb29-57"><a href="#cb29-57"></a>        cur.right <span class="op">=</span> Tree.build(right, nexs)</span>
<span id="cb29-58"><a href="#cb29-58"></a></span>
<span id="cb29-59"><a href="#cb29-59"></a></span>
<span id="cb29-60"><a href="#cb29-60"></a></span>
<span id="cb29-61"><a href="#cb29-61"></a><span class="co"># Swap</span></span>
<span id="cb29-62"><a href="#cb29-62"></a>    res <span class="op">=</span> []</span>
<span id="cb29-63"><a href="#cb29-63"></a>    <span class="cf">for</span> query <span class="kw">in</span> queries:</span>
<span id="cb29-64"><a href="#cb29-64"></a>        <span class="cf">for</span> depth <span class="kw">in</span> <span class="bu">range</span>(query, <span class="bu">len</span>(depths), query):</span>
<span id="cb29-65"><a href="#cb29-65"></a>            <span class="cf">for</span> tree <span class="kw">in</span> depths[depth <span class="op">-</span> <span class="dv">1</span>]:</span>
<span id="cb29-66"><a href="#cb29-66"></a>                tree.left, tree.right <span class="op">=</span> tree.right, tree.left</span>
<span id="cb29-67"><a href="#cb29-67"></a>        res.append(traverse(root))</span>
<span id="cb29-68"><a href="#cb29-68"></a></span>
<span id="cb29-69"><a href="#cb29-69"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="array-max-sum-in-subarray-max-array-sum" class="level3">
<h3>Array : max sum in subarray (Max Array Sum)</h3>
<p>See <strong>Dynamic Programming:</strong> https://www.geeksforgeeks.org/dynamic-programming/</p>
<p>Max sum of non adjacent element in array</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">def</span> maxSubsetSum(arr):</span>
<span id="cb30-2"><a href="#cb30-2"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb30-3"><a href="#cb30-3"></a>    dp <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span>n</span>
<span id="cb30-4"><a href="#cb30-4"></a>    dp[<span class="dv">0</span>] <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb30-5"><a href="#cb30-5"></a>    dp[<span class="dv">1</span>] <span class="op">=</span> <span class="bu">max</span>(arr[<span class="dv">1</span>], dp[<span class="dv">0</span>])</span>
<span id="cb30-6"><a href="#cb30-6"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>,n):</span>
<span id="cb30-7"><a href="#cb30-7"></a>        dp[i] <span class="op">=</span> <span class="bu">max</span>(arr[i], dp[i<span class="dv">-1</span>], arr[i] <span class="op">+</span> dp[i<span class="dv">-2</span>])</span>
<span id="cb30-8"><a href="#cb30-8"></a>    <span class="cf">return</span> dp[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<p>Intro: Since we know it’s DP, we can solve the problem by solving subproblems of smaller size.</p>
<p>Because of the condition. No two adjacent elements can be picked. Therefore we can either take one and then skip one, or skip one and run the subroutine.</p>
<p>we can solve this problem in linear time and constant space ;)</p>
<p>Idea: store solutions for problem of size i-2 and i-1, where i is the size of the subproblem. The solution for problem of size i is either solution for problem i-1, or solution for problem i-2, or solution of problem i-2 + arr[i], or ar[i]. Iterate for every i. Start with 0, 0 for problems of size - 2 and -1</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1"></a><span class="kw">def</span> maxSubsetSum(coll):</span>
<span id="cb31-2"><a href="#cb31-2"></a>    a,b <span class="op">=</span> <span class="dv">0</span>,<span class="dv">0</span></span>
<span id="cb31-3"><a href="#cb31-3"></a></span>
<span id="cb31-4"><a href="#cb31-4"></a>    <span class="cf">for</span> val <span class="kw">in</span> coll:</span>
<span id="cb31-5"><a href="#cb31-5"></a>        a,b <span class="op">=</span> b, <span class="bu">max</span>(a, a <span class="op">+</span> val, b, val) </span>
<span id="cb31-6"><a href="#cb31-6"></a></span>
<span id="cb31-7"><a href="#cb31-7"></a>    <span class="cf">return</span> b</span></code></pre></div>
</section>
<section id="pairs-of-equal-difference" class="level3">
<h3>Pairs (of equal difference)</h3>
<ul>
<li>My solution</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw">def</span> pairs(k, arr):</span>
<span id="cb32-2"><a href="#cb32-2"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>    ct <span class="op">=</span> Counter(arr)</span>
<span id="cb32-4"><a href="#cb32-4"></a>    <span class="cf">for</span> val1 <span class="kw">in</span> ct:</span>
<span id="cb32-5"><a href="#cb32-5"></a></span>
<span id="cb32-6"><a href="#cb32-6"></a><span class="co"># val1 - val2 = +/- k </span></span>
<span id="cb32-7"><a href="#cb32-7"></a>        res <span class="op">+=</span> ct[val1] <span class="op">*</span> (ct[val1<span class="op">-</span>k] <span class="op">+</span> ct[val1<span class="op">+</span>k])</span>
<span id="cb32-8"><a href="#cb32-8"></a>    <span class="cf">return</span> <span class="bu">int</span>(res <span class="op">/</span> <span class="dv">2</span>)</span></code></pre></div>
<ul>
<li>One liner !</li>
<li>Had to note the constraint: each integer of arr will be unique</li>
</ul>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a><span class="cf">return</span> <span class="bu">len</span>(<span class="bu">set</span>(arr) <span class="op">&amp;</span> <span class="bu">set</span>([item <span class="op">+</span> k <span class="cf">for</span> item <span class="kw">in</span> <span class="bu">set</span>(arr)])) </span></code></pre></div>
</section>
<section id="triple-sum-find-unique" class="level3">
<h3>Triple sum (find unique)</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a><span class="im">from</span> bisect <span class="im">import</span> bisect_left</span>
<span id="cb34-2"><a href="#cb34-2"></a></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="kw">def</span> triplets(a, b, c):</span>
<span id="cb34-4"><a href="#cb34-4"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb34-5"><a href="#cb34-5"></a></span>
<span id="cb34-6"><a href="#cb34-6"></a></span>
<span id="cb34-7"><a href="#cb34-7"></a><span class="co"># Uniquely sort</span></span>
<span id="cb34-8"><a href="#cb34-8"></a>    a <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>(a))</span>
<span id="cb34-9"><a href="#cb34-9"></a>    b <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>(b))</span>
<span id="cb34-10"><a href="#cb34-10"></a>    c <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">set</span>(c))</span>
<span id="cb34-11"><a href="#cb34-11"></a></span>
<span id="cb34-12"><a href="#cb34-12"></a></span>
<span id="cb34-13"><a href="#cb34-13"></a><span class="co"># Check if usefull to loop</span></span>
<span id="cb34-14"><a href="#cb34-14"></a>    <span class="cf">if</span> b[<span class="op">-</span><span class="dv">1</span>] <span class="op">&lt;</span> a[<span class="dv">0</span>] <span class="kw">or</span> b[<span class="op">-</span><span class="dv">1</span>] <span class="op">&lt;</span> c[<span class="dv">0</span>]:</span>
<span id="cb34-15"><a href="#cb34-15"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb34-16"><a href="#cb34-16"></a></span>
<span id="cb34-17"><a href="#cb34-17"></a></span>
<span id="cb34-18"><a href="#cb34-18"></a><span class="co"># Find possible combinations</span></span>
<span id="cb34-19"><a href="#cb34-19"></a>    lowa <span class="op">=</span> lowc <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb34-20"><a href="#cb34-20"></a><span class="co"># Fasten bisect search with low bound, known a priory</span></span>
<span id="cb34-21"><a href="#cb34-21"></a>    <span class="cf">for</span> i <span class="kw">in</span> b:</span>
<span id="cb34-22"><a href="#cb34-22"></a>        lowa <span class="op">=</span> bisect_left(a, i<span class="fl">+0.5</span>, lo<span class="op">=</span>lowa)</span>
<span id="cb34-23"><a href="#cb34-23"></a>        lowc <span class="op">=</span> bisect_left(c, i<span class="fl">+0.5</span>, lo<span class="op">=</span>lowc)</span>
<span id="cb34-24"><a href="#cb34-24"></a>        res <span class="op">+=</span> lowc <span class="op">*</span> lowa</span>
<span id="cb34-25"><a href="#cb34-25"></a></span>
<span id="cb34-26"><a href="#cb34-26"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="minimum-time-required" class="level3">
<h3>Minimum Time Required</h3>
<p>My dichotomic bad solution</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a><span class="kw">def</span> in_day(n, ct):</span>
<span id="cb35-2"><a href="#cb35-2"></a></span>
<span id="cb35-3"><a href="#cb35-3"></a><span class="co"># in n days they build ct[val1] * int(n / val) = items</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>    item <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>    <span class="cf">for</span> val <span class="kw">in</span> ct:</span>
<span id="cb35-6"><a href="#cb35-6"></a>        <span class="cf">if</span> val <span class="op">&gt;</span> n : <span class="cf">continue</span></span>
<span id="cb35-7"><a href="#cb35-7"></a>        item <span class="op">+=</span> ct[val] <span class="op">*</span> <span class="bu">int</span>(n<span class="op">/</span>val)</span>
<span id="cb35-8"><a href="#cb35-8"></a>    <span class="cf">return</span> item</span>
<span id="cb35-9"><a href="#cb35-9"></a></span>
<span id="cb35-10"><a href="#cb35-10"></a></span>
<span id="cb35-11"><a href="#cb35-11"></a><span class="co"># Complete the minTime function below.</span></span>
<span id="cb35-12"><a href="#cb35-12"></a><span class="kw">def</span> minTime(machines, goal):</span>
<span id="cb35-13"><a href="#cb35-13"></a>    ct <span class="op">=</span> Counter(machines)</span>
<span id="cb35-14"><a href="#cb35-14"></a></span>
<span id="cb35-15"><a href="#cb35-15"></a>    high <span class="op">=</span> <span class="dv">999999999999999</span></span>
<span id="cb35-16"><a href="#cb35-16"></a>    day <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb35-17"><a href="#cb35-17"></a>    low <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb35-18"><a href="#cb35-18"></a>    n1 <span class="op">=</span> <span class="dv">-1</span></span>
<span id="cb35-19"><a href="#cb35-19"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb35-20"><a href="#cb35-20"></a>        n1 <span class="op">=</span> in_day(day, ct)</span>
<span id="cb35-21"><a href="#cb35-21"></a></span>
<span id="cb35-22"><a href="#cb35-22"></a>        <span class="bu">print</span>(day, high , low , n1)</span>
<span id="cb35-23"><a href="#cb35-23"></a></span>
<span id="cb35-24"><a href="#cb35-24"></a></span>
<span id="cb35-25"><a href="#cb35-25"></a><span class="co"># Lucky</span></span>
<span id="cb35-26"><a href="#cb35-26"></a>        <span class="cf">if</span> low <span class="op">&gt;=</span> high <span class="dv">-1</span>:</span>
<span id="cb35-27"><a href="#cb35-27"></a>            <span class="cf">if</span> in_day(low, ct) <span class="op">&gt;=</span> goal:</span>
<span id="cb35-28"><a href="#cb35-28"></a>                <span class="cf">return</span> low</span>
<span id="cb35-29"><a href="#cb35-29"></a>            <span class="cf">else</span>:</span>
<span id="cb35-30"><a href="#cb35-30"></a>                <span class="cf">return</span> high</span>
<span id="cb35-31"><a href="#cb35-31"></a></span>
<span id="cb35-32"><a href="#cb35-32"></a></span>
<span id="cb35-33"><a href="#cb35-33"></a><span class="co"># May increase</span></span>
<span id="cb35-34"><a href="#cb35-34"></a>        <span class="cf">if</span> n1 <span class="op">&lt;</span> goal:</span>
<span id="cb35-35"><a href="#cb35-35"></a>            low, day <span class="op">=</span> day, day <span class="op">+</span> <span class="bu">int</span>(<span class="bu">abs</span>(day <span class="op">-</span> high) <span class="op">/</span> <span class="dv">2</span>)</span>
<span id="cb35-36"><a href="#cb35-36"></a>            <span class="cf">continue</span></span>
<span id="cb35-37"><a href="#cb35-37"></a></span>
<span id="cb35-38"><a href="#cb35-38"></a></span>
<span id="cb35-39"><a href="#cb35-39"></a><span class="co"># Now find minimum</span></span>
<span id="cb35-40"><a href="#cb35-40"></a>        high, day <span class="op">=</span> day, day <span class="op">-</span> <span class="bu">int</span>(<span class="bu">abs</span>(day <span class="op">-</span> low) <span class="op">/</span> <span class="dv">2</span>)</span></code></pre></div>
<ul>
<li>Other O(log(n) x machines)</li>
<li><strong>Note:</strong> Instead of doing dichotomy by hand, use bisect left with a yielder and mindays, maxDays</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a><span class="im">from</span> bisect <span class="im">import</span> bisect_left</span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="kw">class</span> Yeild:</span>
<span id="cb36-3"><a href="#cb36-3"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, machines):</span>
<span id="cb36-4"><a href="#cb36-4"></a>        <span class="va">self</span>.machines_ <span class="op">=</span> machines</span>
<span id="cb36-5"><a href="#cb36-5"></a>    <span class="kw">def</span> <span class="fu">__getitem__</span>(<span class="va">self</span>, days):</span>
<span id="cb36-6"><a href="#cb36-6"></a>        production <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb36-7"><a href="#cb36-7"></a>        <span class="cf">for</span> d <span class="kw">in</span> machines:</span>
<span id="cb36-8"><a href="#cb36-8"></a>            production <span class="op">+=</span> <span class="bu">int</span>(days<span class="op">/</span>d)</span>
<span id="cb36-9"><a href="#cb36-9"></a>        <span class="cf">return</span> production</span>
<span id="cb36-10"><a href="#cb36-10"></a></span>
<span id="cb36-11"><a href="#cb36-11"></a><span class="kw">def</span> minTime(machines, goal):</span>
<span id="cb36-12"><a href="#cb36-12"></a>    machines.sort()</span>
<span id="cb36-13"><a href="#cb36-13"></a>    minDays <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb36-14"><a href="#cb36-14"></a>    maxDays <span class="op">=</span> goal <span class="op">*</span> machines[<span class="dv">0</span>]</span>
<span id="cb36-15"><a href="#cb36-15"></a>    days <span class="op">=</span> bisect_left(Yeild(machines), goal, minDays, maxDays)</span>
<span id="cb36-16"><a href="#cb36-16"></a>    <span class="cf">return</span> days</span></code></pre></div>
<ul>
<li>With harmonic mean, what I wanted first.</li>
<li>He just calculate a low bound, then add one by one: should not be so long</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1"></a><span class="im">import</span> heapq</span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="im">import</span> statistics </span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="kw">def</span> minTime(machines, goal):</span>
<span id="cb37-4"><a href="#cb37-4"></a>    minDays <span class="op">=</span> math.ceil(goal<span class="op">*</span>statistics.harmonic_mean(machines)<span class="op">/</span><span class="bu">len</span>(machines))</span>
<span id="cb37-5"><a href="#cb37-5"></a>    totalManufactured <span class="op">=</span> <span class="bu">sum</span>([minDays<span class="op">//</span>x <span class="cf">for</span> x <span class="kw">in</span> machines])</span>
<span id="cb37-6"><a href="#cb37-6"></a>    nextTimes <span class="op">=</span> [(x<span class="op">*</span>(minDays<span class="op">//</span>x)<span class="op">+</span>x,x) <span class="cf">for</span> x <span class="kw">in</span> machines]</span>
<span id="cb37-7"><a href="#cb37-7"></a>    heapq.heapify(nextTimes)</span>
<span id="cb37-8"><a href="#cb37-8"></a>    popped<span class="op">=</span><span class="va">None</span></span>
<span id="cb37-9"><a href="#cb37-9"></a>    <span class="cf">while</span> totalManufactured<span class="op">&lt;</span>goal:</span>
<span id="cb37-10"><a href="#cb37-10"></a>        popped<span class="op">=</span> heapq.heappop(nextTimes)</span>
<span id="cb37-11"><a href="#cb37-11"></a>        heapq.heappush(nextTimes, (popped[<span class="dv">0</span>]<span class="op">+</span>popped[<span class="dv">1</span>], popped[<span class="dv">1</span>]))</span>
<span id="cb37-12"><a href="#cb37-12"></a>        totalManufactured<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb37-13"><a href="#cb37-13"></a>    <span class="cf">return</span> minDays <span class="cf">if</span> <span class="kw">not</span> popped <span class="cf">else</span> popped[<span class="dv">0</span>]</span></code></pre></div>
</section>
<section id="balanced-parenthesis-stack-of-course" class="level3">
<h3>Balanced parenthesis (Stack of course)</h3>
<ul>
<li>My first</li>
</ul>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a><span class="kw">def</span> isBalanced(s):</span>
<span id="cb38-2"><a href="#cb38-2"></a>    <span class="cf">if</span> <span class="bu">len</span>(s) <span class="op">==</span> <span class="dv">0</span>: <span class="cf">return</span> <span class="st">&quot;YES&quot;</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>    stack <span class="op">=</span> []</span>
<span id="cb38-4"><a href="#cb38-4"></a>    <span class="cf">for</span> i <span class="kw">in</span> s:</span>
<span id="cb38-5"><a href="#cb38-5"></a>        <span class="cf">if</span> i <span class="kw">in</span> (<span class="st">&#39;(&#39;</span>, <span class="st">&#39;[&#39;</span>, <span class="st">&#39;{&#39;</span>):</span>
<span id="cb38-6"><a href="#cb38-6"></a>            stack.append(i)</span>
<span id="cb38-7"><a href="#cb38-7"></a>            <span class="cf">continue</span></span>
<span id="cb38-8"><a href="#cb38-8"></a>        <span class="cf">if</span> <span class="kw">not</span> <span class="bu">len</span>(stack): <span class="cf">return</span> <span class="st">&quot;NO&quot;</span></span>
<span id="cb38-9"><a href="#cb38-9"></a>        j <span class="op">=</span> stack.pop()</span>
<span id="cb38-10"><a href="#cb38-10"></a>        <span class="cf">if</span> (j,i) <span class="kw">not</span> <span class="kw">in</span> ((<span class="st">&#39;(&#39;</span>, <span class="st">&#39;)&#39;</span>), (<span class="st">&#39;[&#39;</span>, <span class="st">&#39;]&#39;</span>), (<span class="st">&#39;{&#39;</span>, <span class="st">&#39;}&#39;</span>)):</span>
<span id="cb38-11"><a href="#cb38-11"></a>            <span class="cf">return</span> <span class="st">&quot;NO&quot;</span></span>
<span id="cb38-12"><a href="#cb38-12"></a></span>
<span id="cb38-13"><a href="#cb38-13"></a>    <span class="cf">return</span> <span class="st">&quot;YES&quot;</span> <span class="cf">if</span> <span class="bu">len</span>(stack) <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">&quot;NO&quot;</span></span></code></pre></div>
<ul>
<li>Shorter one by someone</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a><span class="kw">def</span> isBalanced(s):</span>
<span id="cb39-2"><a href="#cb39-2"></a>    stack <span class="op">=</span> []</span>
<span id="cb39-3"><a href="#cb39-3"></a>    closer <span class="op">=</span> {<span class="st">&#39;{&#39;</span>: <span class="st">&#39;}&#39;</span>, <span class="st">&#39;[&#39;</span>: <span class="st">&#39;]&#39;</span>, <span class="st">&#39;(&#39;</span>: <span class="st">&#39;)&#39;</span>}</span>
<span id="cb39-4"><a href="#cb39-4"></a>    <span class="cf">for</span> bracket <span class="kw">in</span> s:</span>
<span id="cb39-5"><a href="#cb39-5"></a>        <span class="cf">if</span> bracket <span class="kw">in</span> closer:</span>
<span id="cb39-6"><a href="#cb39-6"></a>            stack.append(bracket)</span>
<span id="cb39-7"><a href="#cb39-7"></a>            <span class="cf">continue</span></span>
<span id="cb39-8"><a href="#cb39-8"></a>        <span class="cf">if</span> <span class="kw">not</span> stack <span class="kw">or</span> closer[stack.pop()] <span class="op">!=</span> bracket:</span>
<span id="cb39-9"><a href="#cb39-9"></a>            <span class="cf">return</span> <span class="st">&quot;NO&quot;</span></span>
<span id="cb39-10"><a href="#cb39-10"></a>    <span class="cf">return</span> <span class="st">&quot;NO&quot;</span> <span class="cf">if</span> stack <span class="cf">else</span> <span class="st">&quot;YES&quot;</span></span></code></pre></div>
</section>
<section id="maze-castle-on-the-grid" class="level3">
<h3>Maze: Castle on the Grid</h3>
<ul>
<li>My solution, kind of dirty: I thought you had to move until the end</li>
</ul>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a></span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="co"># Complete the minimumMoves function below.</span></span>
<span id="cb40-3"><a href="#cb40-3"></a><span class="kw">def</span> minimumMoves(grid, startX, startY, goalX, goalY):</span>
<span id="cb40-4"><a href="#cb40-4"></a>    res <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb40-5"><a href="#cb40-5"></a></span>
<span id="cb40-6"><a href="#cb40-6"></a>    pos <span class="op">=</span> [ [startX, startY, (<span class="dv">0</span>, <span class="dv">0</span>)] ]</span>
<span id="cb40-7"><a href="#cb40-7"></a></span>
<span id="cb40-8"><a href="#cb40-8"></a></span>
<span id="cb40-9"><a href="#cb40-9"></a><span class="co"># Create visited bool array to avoid looping</span></span>
<span id="cb40-10"><a href="#cb40-10"></a>    visited <span class="op">=</span> []</span>
<span id="cb40-11"><a href="#cb40-11"></a>    <span class="cf">for</span> line <span class="kw">in</span> grid:</span>
<span id="cb40-12"><a href="#cb40-12"></a>        visited.append([<span class="va">False</span>]<span class="op">*</span> <span class="bu">len</span>(line))</span>
<span id="cb40-13"><a href="#cb40-13"></a>    next_pos <span class="op">=</span> []</span>
<span id="cb40-14"><a href="#cb40-14"></a></span>
<span id="cb40-15"><a href="#cb40-15"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb40-16"><a href="#cb40-16"></a>        <span class="cf">for</span> x0, y0, last_move <span class="kw">in</span> pos:</span>
<span id="cb40-17"><a href="#cb40-17"></a></span>
<span id="cb40-18"><a href="#cb40-18"></a><span class="co"># Check and mark as visited</span></span>
<span id="cb40-19"><a href="#cb40-19"></a>            <span class="cf">if</span> (x0, y0) <span class="op">==</span> (goalX, goalY): <span class="cf">return</span> res</span>
<span id="cb40-20"><a href="#cb40-20"></a>            <span class="cf">if</span> visited[x0][y0]: <span class="cf">continue</span></span>
<span id="cb40-21"><a href="#cb40-21"></a>            visited[x0][y0] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb40-22"><a href="#cb40-22"></a></span>
<span id="cb40-23"><a href="#cb40-23"></a></span>
<span id="cb40-24"><a href="#cb40-24"></a><span class="co"># Move any number one direction ...</span></span>
<span id="cb40-25"><a href="#cb40-25"></a>            <span class="cf">for</span> moves <span class="kw">in</span> ((<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>), (<span class="dv">0</span>, <span class="dv">1</span>), (<span class="dv">1</span>, <span class="dv">0</span>), (<span class="dv">0</span>, <span class="dv">-1</span>) ):</span>
<span id="cb40-26"><a href="#cb40-26"></a>                <span class="cf">if</span> moves <span class="kw">in</span> (last_move, (<span class="op">-</span>last_move[<span class="dv">0</span>], <span class="op">-</span>last_move[<span class="dv">1</span>])):</span>
<span id="cb40-27"><a href="#cb40-27"></a>                    <span class="cf">continue</span></span>
<span id="cb40-28"><a href="#cb40-28"></a>                x, y <span class="op">=</span> x0, y0</span>
<span id="cb40-29"><a href="#cb40-29"></a></span>
<span id="cb40-30"><a href="#cb40-30"></a></span>
<span id="cb40-31"><a href="#cb40-31"></a><span class="co"># ... any number of step</span></span>
<span id="cb40-32"><a href="#cb40-32"></a>                <span class="cf">while</span> (<span class="dv">0</span> <span class="op">&lt;=</span> x <span class="op">+</span> moves[<span class="dv">0</span>] <span class="op">&lt;</span> <span class="bu">len</span>(grid)</span>
<span id="cb40-33"><a href="#cb40-33"></a>                        <span class="kw">and</span> <span class="dv">0</span> <span class="op">&lt;=</span> y <span class="op">+</span> moves[<span class="dv">1</span>] <span class="op">&lt;</span> <span class="bu">len</span>(grid[<span class="dv">0</span>])</span>
<span id="cb40-34"><a href="#cb40-34"></a>                        <span class="kw">and</span> grid[x <span class="op">+</span> moves[<span class="dv">0</span>]][y <span class="op">+</span> moves[<span class="dv">1</span>]] <span class="op">!=</span> <span class="st">&#39;X&#39;</span></span>
<span id="cb40-35"><a href="#cb40-35"></a>                        ):</span>
<span id="cb40-36"><a href="#cb40-36"></a>                    x <span class="op">+=</span> moves[<span class="dv">0</span>]</span>
<span id="cb40-37"><a href="#cb40-37"></a>                    y <span class="op">+=</span> moves[<span class="dv">1</span>]</span>
<span id="cb40-38"><a href="#cb40-38"></a></span>
<span id="cb40-39"><a href="#cb40-39"></a></span>
<span id="cb40-40"><a href="#cb40-40"></a><span class="co"># Return ?</span></span>
<span id="cb40-41"><a href="#cb40-41"></a>                    <span class="cf">if</span> (x,y) <span class="op">==</span> (goalX, goalY): <span class="cf">return</span> res</span>
<span id="cb40-42"><a href="#cb40-42"></a></span>
<span id="cb40-43"><a href="#cb40-43"></a></span>
<span id="cb40-44"><a href="#cb40-44"></a><span class="co"># Break: comming to late: my line and col is visited already</span></span>
<span id="cb40-45"><a href="#cb40-45"></a>                    <span class="cf">if</span> visited[x][y]: <span class="cf">break</span></span>
<span id="cb40-46"><a href="#cb40-46"></a></span>
<span id="cb40-47"><a href="#cb40-47"></a></span>
<span id="cb40-48"><a href="#cb40-48"></a><span class="co"># Add this point for a next walk</span></span>
<span id="cb40-49"><a href="#cb40-49"></a>                    next_pos.append([x, y, moves])</span>
<span id="cb40-50"><a href="#cb40-50"></a></span>
<span id="cb40-51"><a href="#cb40-51"></a>        <span class="bu">print</span>(next_pos)            </span>
<span id="cb40-52"><a href="#cb40-52"></a>        pos <span class="op">=</span> next_pos</span>
<span id="cb40-53"><a href="#cb40-53"></a>        next_pos <span class="op">=</span> []</span>
<span id="cb40-54"><a href="#cb40-54"></a>        res <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<ul>
<li>Explore bfs-wise, and only increase the level when changing direction</li>
</ul>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a><span class="im">from</span> collections <span class="im">import</span> deque</span>
<span id="cb41-2"><a href="#cb41-2"></a></span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="kw">def</span> minimumMoves(grid, startX, startY, goalX, goalY):</span>
<span id="cb41-4"><a href="#cb41-4"></a>    <span class="co">&quot;&quot;&quot;standard bfs</span></span>
<span id="cb41-5"><a href="#cb41-5"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb41-6"><a href="#cb41-6"></a>    start, goal <span class="op">=</span> (startX, startY), (goalX, goalY)</span>
<span id="cb41-7"><a href="#cb41-7"></a></span>
<span id="cb41-8"><a href="#cb41-8"></a><span class="co"># special case: dtart == goal</span></span>
<span id="cb41-9"><a href="#cb41-9"></a>    <span class="cf">if</span> start <span class="op">==</span> goal: <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb41-10"><a href="#cb41-10"></a></span>
<span id="cb41-11"><a href="#cb41-11"></a><span class="co"># set-up bfs</span></span>
<span id="cb41-12"><a href="#cb41-12"></a>    q <span class="op">=</span> deque([(start, <span class="dv">0</span>)])</span>
<span id="cb41-13"><a href="#cb41-13"></a>    parents <span class="op">=</span> {}</span>
<span id="cb41-14"><a href="#cb41-14"></a>    moves <span class="op">=</span> {<span class="st">&#39;right&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>], n[<span class="dv">1</span>]<span class="op">+</span><span class="dv">1</span>),</span>
<span id="cb41-15"><a href="#cb41-15"></a>            <span class="st">&#39;down&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>]<span class="op">+</span><span class="dv">1</span>, n[<span class="dv">1</span>]),</span>
<span id="cb41-16"><a href="#cb41-16"></a>            <span class="st">&#39;left&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>], n[<span class="dv">1</span>]<span class="op">-</span><span class="dv">1</span>),</span>
<span id="cb41-17"><a href="#cb41-17"></a>            <span class="st">&#39;up&#39;</span>:<span class="kw">lambda</span> n: (n[<span class="dv">0</span>]<span class="op">-</span><span class="dv">1</span>, n[<span class="dv">1</span>])</span>
<span id="cb41-18"><a href="#cb41-18"></a>            }</span>
<span id="cb41-19"><a href="#cb41-19"></a>    <span class="kw">def</span> is_valid(node):</span>
<span id="cb41-20"><a href="#cb41-20"></a>        x, y <span class="op">=</span> node</span>
<span id="cb41-21"><a href="#cb41-21"></a>        <span class="cf">return</span> (x <span class="op">&lt;</span> <span class="bu">len</span>(grid) <span class="kw">and</span> y <span class="op">&lt;</span> <span class="bu">len</span>(grid)</span>
<span id="cb41-22"><a href="#cb41-22"></a>                <span class="kw">and</span> x <span class="op">&gt;=</span> <span class="dv">0</span> <span class="kw">and</span> y <span class="op">&gt;=</span> <span class="dv">0</span></span>
<span id="cb41-23"><a href="#cb41-23"></a>                <span class="kw">and</span> grid[x][y] <span class="op">==</span> <span class="st">&#39;.&#39;</span>)</span>
<span id="cb41-24"><a href="#cb41-24"></a>    <span class="cf">while</span> q:</span>
<span id="cb41-25"><a href="#cb41-25"></a>        current_node, level <span class="op">=</span> q.pop()</span>
<span id="cb41-26"><a href="#cb41-26"></a></span>
<span id="cb41-27"><a href="#cb41-27"></a><span class="co"># match? we are done...</span></span>
<span id="cb41-28"><a href="#cb41-28"></a>        <span class="cf">if</span> current_node <span class="op">==</span> goal: <span class="cf">return</span> level</span>
<span id="cb41-29"><a href="#cb41-29"></a></span>
<span id="cb41-30"><a href="#cb41-30"></a><span class="co"># explore... bfs wise</span></span>
<span id="cb41-31"><a href="#cb41-31"></a>        <span class="cf">for</span> move <span class="kw">in</span> <span class="st">&#39;up&#39;</span>, <span class="st">&#39;right&#39;</span>, <span class="st">&#39;down&#39;</span>, <span class="st">&#39;left&#39;</span>:</span>
<span id="cb41-32"><a href="#cb41-32"></a>            next_node <span class="op">=</span> moves[move](current_node.html)</span>
<span id="cb41-33"><a href="#cb41-33"></a>            <span class="cf">while</span> is_valid(next_node):</span>
<span id="cb41-34"><a href="#cb41-34"></a></span>
<span id="cb41-35"><a href="#cb41-35"></a><span class="co"># no revisiting...</span></span>
<span id="cb41-36"><a href="#cb41-36"></a>                <span class="cf">if</span> next_node <span class="kw">not</span> <span class="kw">in</span> parents:</span>
<span id="cb41-37"><a href="#cb41-37"></a>                    q.appendleft((next_node, level<span class="op">+</span><span class="dv">1</span>))</span>
<span id="cb41-38"><a href="#cb41-38"></a>                    parents[next_node] <span class="op">=</span> current_node</span>
<span id="cb41-39"><a href="#cb41-39"></a>                next_node <span class="op">=</span> moves[move](next_node.html)</span>
<span id="cb41-40"><a href="#cb41-40"></a>    <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&#39;unreachable&#39;</span>)</span></code></pre></div>
</section>
<section id="array-largest-rectangle" class="level3">
<h3>Array Largest rectangle</h3>
<ul>
<li>A rectangle in min(arr[i…j]) * j - i</li>
<li>Solution, cut at the min, or return full size * min</li>
</ul>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a><span class="kw">def</span> largestRectangle(h):</span>
<span id="cb42-2"><a href="#cb42-2"></a>    <span class="cf">if</span>(<span class="bu">len</span>(h)<span class="op">==</span><span class="dv">0</span>):<span class="cf">return</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>    <span class="cf">if</span>(<span class="bu">len</span>(h)<span class="op">==</span><span class="dv">1</span>):</span>
<span id="cb42-4"><a href="#cb42-4"></a>        <span class="cf">if</span>(h[<span class="dv">0</span>]<span class="op">&gt;</span>largestRectangle.<span class="bu">max</span>):</span>
<span id="cb42-5"><a href="#cb42-5"></a>            largestRectangle.<span class="bu">max</span><span class="op">=</span>n</span>
<span id="cb42-6"><a href="#cb42-6"></a>        <span class="cf">return</span></span>
<span id="cb42-7"><a href="#cb42-7"></a>    v<span class="op">=</span><span class="bu">min</span>(h)</span>
<span id="cb42-8"><a href="#cb42-8"></a>    <span class="cf">if</span>(v<span class="op">*</span><span class="bu">len</span>(h)<span class="op">&gt;</span>largestRectangle.<span class="bu">max</span>):</span>
<span id="cb42-9"><a href="#cb42-9"></a>        largestRectangle.<span class="bu">max</span><span class="op">=</span><span class="bu">len</span>(h)<span class="op">*</span>v</span>
<span id="cb42-10"><a href="#cb42-10"></a>    largestRectangle(h[<span class="dv">0</span>:h.index(v)])</span>
<span id="cb42-11"><a href="#cb42-11"></a>    largestRectangle(h[h.index(v)<span class="op">+</span><span class="dv">1</span>:<span class="bu">len</span>(h)])</span>
<span id="cb42-12"><a href="#cb42-12"></a>    <span class="cf">return</span> largestRectangle.<span class="bu">max</span></span>
<span id="cb42-13"><a href="#cb42-13"></a></span>
<span id="cb42-14"><a href="#cb42-14"></a>largestRectangle.<span class="bu">max</span><span class="op">=</span><span class="dv">0</span></span></code></pre></div>
<ul>
<li>For each cell, extend the left and right</li>
<li>Only one cell, should be smallest and never stop</li>
</ul>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a><span class="kw">def</span> largestRectangle(h):</span>
<span id="cb43-2"><a href="#cb43-2"></a></span>
<span id="cb43-3"><a href="#cb43-3"></a>    x<span class="op">=</span>[]</span>
<span id="cb43-4"><a href="#cb43-4"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(h)):</span>
<span id="cb43-5"><a href="#cb43-5"></a>        l<span class="op">=</span><span class="dv">1</span></span>
<span id="cb43-6"><a href="#cb43-6"></a>        b<span class="op">=</span><span class="dv">0</span></span>
<span id="cb43-7"><a href="#cb43-7"></a>        c<span class="op">=</span>h[i]</span>
<span id="cb43-8"><a href="#cb43-8"></a>        <span class="cf">while</span>(i<span class="op">-</span>b<span class="dv">-1</span><span class="op">&gt;=</span><span class="dv">0</span> <span class="kw">and</span> h[i<span class="op">-</span>b<span class="dv">-1</span>]<span class="op">&gt;=</span>c):</span>
<span id="cb43-9"><a href="#cb43-9"></a>            b<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb43-10"><a href="#cb43-10"></a>        <span class="cf">while</span>(i<span class="op">+</span>l<span class="op">&lt;</span><span class="bu">len</span>(h)<span class="kw">and</span> h[i<span class="op">+</span>l]<span class="op">&gt;</span>c):</span>
<span id="cb43-11"><a href="#cb43-11"></a>            l<span class="op">+=</span><span class="dv">1</span></span>
<span id="cb43-12"><a href="#cb43-12"></a>        l<span class="op">=</span>l<span class="op">+</span>b</span>
<span id="cb43-13"><a href="#cb43-13"></a>        s<span class="op">=</span>l<span class="op">*</span>c</span>
<span id="cb43-14"><a href="#cb43-14"></a>        x.append(s)</span>
<span id="cb43-15"><a href="#cb43-15"></a>    <span class="cf">return</span> <span class="bu">max</span>(x)</span></code></pre></div>
<ul>
<li>Even the n^2 works here ! Meaning my solution was even worse -&gt; start simple</li>
</ul>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a><span class="kw">def</span> largestRectangle(h):</span>
<span id="cb44-2"><a href="#cb44-2"></a>    sumi, maxi <span class="op">=</span> <span class="dv">0</span>, <span class="dv">0</span></span>
<span id="cb44-3"><a href="#cb44-3"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(h)):</span>
<span id="cb44-4"><a href="#cb44-4"></a>        sumi <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb44-5"><a href="#cb44-5"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i, <span class="bu">len</span>(h)):</span>
<span id="cb44-6"><a href="#cb44-6"></a>            <span class="cf">if</span> h[j] <span class="op">&gt;=</span> h[i]:</span>
<span id="cb44-7"><a href="#cb44-7"></a>                sumi <span class="op">+=</span> h[i]</span>
<span id="cb44-8"><a href="#cb44-8"></a>            <span class="cf">else</span>:</span>
<span id="cb44-9"><a href="#cb44-9"></a>                <span class="cf">break</span></span>
<span id="cb44-10"><a href="#cb44-10"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i<span class="dv">-1</span>, <span class="dv">-1</span>, <span class="dv">-1</span>):</span>
<span id="cb44-11"><a href="#cb44-11"></a>            <span class="cf">if</span> h[j] <span class="op">&gt;=</span> h[i]:</span>
<span id="cb44-12"><a href="#cb44-12"></a>                sumi <span class="op">+=</span> h[i]</span>
<span id="cb44-13"><a href="#cb44-13"></a>            <span class="cf">else</span>:</span>
<span id="cb44-14"><a href="#cb44-14"></a>                <span class="cf">break</span></span>
<span id="cb44-15"><a href="#cb44-15"></a>        maxi <span class="op">=</span> <span class="bu">max</span>(maxi, sumi)</span>
<span id="cb44-16"><a href="#cb44-16"></a>    <span class="cf">return</span> maxi</span></code></pre></div>
</section>
<section id="recursion-davis-staircase" class="level3">
<h3>Recursion: Davis’ Staircase</h3>
<ul>
<li>Close to combinations (my first solution)</li>
</ul>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a><span class="im">from</span> math <span class="im">import</span> factorial</span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="kw">def</span> comb(k, n):</span>
<span id="cb45-3"><a href="#cb45-3"></a>    <span class="cf">return</span> factorial(n) <span class="op">//</span> factorial(k) <span class="op">//</span> factorial(n<span class="op">-</span>k)</span>
<span id="cb45-4"><a href="#cb45-4"></a></span>
<span id="cb45-5"><a href="#cb45-5"></a></span>
<span id="cb45-6"><a href="#cb45-6"></a><span class="co"># Complete the stepPerms function below.</span></span>
<span id="cb45-7"><a href="#cb45-7"></a><span class="kw">def</span> stepPerms(n):</span>
<span id="cb45-8"><a href="#cb45-8"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span> : <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb45-9"><a href="#cb45-9"></a>    res <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb45-10"><a href="#cb45-10"></a>    trees <span class="op">=</span> (n <span class="op">//</span> <span class="dv">3</span>)</span>
<span id="cb45-11"><a href="#cb45-11"></a>    <span class="cf">for</span> tree <span class="kw">in</span> <span class="bu">range</span>(trees<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb45-12"><a href="#cb45-12"></a>        tree_rest <span class="op">=</span> n <span class="op">-</span> tree <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb45-13"><a href="#cb45-13"></a>        twos <span class="op">=</span> tree_rest <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb45-14"><a href="#cb45-14"></a>        <span class="cf">for</span> two <span class="kw">in</span> <span class="bu">range</span>(twos<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb45-15"><a href="#cb45-15"></a>            one <span class="op">=</span> tree_rest <span class="op">-</span> two <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb45-16"><a href="#cb45-16"></a>            res <span class="op">+=</span> comb(tree, tree <span class="op">+</span> two)</span>
<span id="cb45-17"><a href="#cb45-17"></a></span>
<span id="cb45-18"><a href="#cb45-18"></a>    <span class="cf">return</span> res <span class="op">%</span> <span class="dv">10000000007</span></span></code></pre></div>
<ul>
<li>Recursive</li>
</ul>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a><span class="im">from</span> functools <span class="im">import</span> lru_cache</span>
<span id="cb46-2"><a href="#cb46-2"></a><span class="at">@lru_cache</span>(<span class="va">None</span>)</span>
<span id="cb46-3"><a href="#cb46-3"></a><span class="kw">def</span> stepPerms(n):</span>
<span id="cb46-4"><a href="#cb46-4"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>: <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb46-5"><a href="#cb46-5"></a><span class="co"># NA</span></span>
<span id="cb46-6"><a href="#cb46-6"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">1</span>: <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb46-7"><a href="#cb46-7"></a><span class="co"># 1</span></span>
<span id="cb46-8"><a href="#cb46-8"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">2</span>: <span class="cf">return</span> <span class="dv">2</span></span>
<span id="cb46-9"><a href="#cb46-9"></a><span class="co"># 2 / 1,1</span></span>
<span id="cb46-10"><a href="#cb46-10"></a></span>
<span id="cb46-11"><a href="#cb46-11"></a></span>
<span id="cb46-12"><a href="#cb46-12"></a><span class="co"># 3 / 2, .. / 1, ..</span></span>
<span id="cb46-13"><a href="#cb46-13"></a>    <span class="cf">return</span>  stepPerms(n<span class="dv">-3</span>) <span class="op">+</span> stepPerms(n<span class="dv">-2</span>) <span class="op">+</span> stepPerms(n<span class="dv">-1</span>)</span></code></pre></div>
<ul>
<li>Iterativ, Dynamic programming</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a><span class="kw">def</span> stepPerms(n):</span>
<span id="cb47-2"><a href="#cb47-2"></a>    dp <span class="op">=</span> []</span>
<span id="cb47-3"><a href="#cb47-3"></a>    dp.append(<span class="dv">1</span>)</span>
<span id="cb47-4"><a href="#cb47-4"></a><span class="co"># NA</span></span>
<span id="cb47-5"><a href="#cb47-5"></a>    dp.append(<span class="dv">1</span>)</span>
<span id="cb47-6"><a href="#cb47-6"></a><span class="co"># 1</span></span>
<span id="cb47-7"><a href="#cb47-7"></a>    dp.append(<span class="dv">2</span>)</span>
<span id="cb47-8"><a href="#cb47-8"></a><span class="co"># 2 / 1,1</span></span>
<span id="cb47-9"><a href="#cb47-9"></a></span>
<span id="cb47-10"><a href="#cb47-10"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>, n<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb47-11"><a href="#cb47-11"></a>        dp.append(dp[i<span class="dv">-3</span>] <span class="op">+</span> dp[i<span class="dv">-2</span>] <span class="op">+</span> dp[i<span class="dv">-1</span>])</span>
<span id="cb47-12"><a href="#cb47-12"></a></span>
<span id="cb47-13"><a href="#cb47-13"></a>    <span class="cf">return</span> dp[n]</span></code></pre></div>
<ul>
<li>Dynamic progaming keeping just last values (reduce space complexity)</li>
</ul>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a><span class="kw">def</span> stepPerms(n):</span>
<span id="cb48-2"><a href="#cb48-2"></a>    dp <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="co"># NA, 1, 2 / 1.1</span></span>
<span id="cb48-4"><a href="#cb48-4"></a></span>
<span id="cb48-5"><a href="#cb48-5"></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>, n<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb48-6"><a href="#cb48-6"></a>        new <span class="op">=</span> dp[<span class="dv">2</span>] <span class="op">+</span> dp[<span class="dv">1</span>] <span class="op">+</span> dp[<span class="dv">0</span>]</span>
<span id="cb48-7"><a href="#cb48-7"></a>        dp[<span class="dv">0</span>], dp[<span class="dv">1</span>], dp[<span class="dv">2</span>] <span class="op">=</span> dp[<span class="dv">1</span>], dp[<span class="dv">2</span>], new</span>
<span id="cb48-8"><a href="#cb48-8"></a>    <span class="cf">return</span> dp[n] <span class="cf">if</span> n <span class="op">&lt;</span> <span class="dv">3</span> <span class="cf">else</span> dp[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
</section>
<section id="binary-tree-height" class="level3">
<h3>Binary Tree: Height</h3>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a><span class="kw">def</span> height(root):</span>
<span id="cb49-2"><a href="#cb49-2"></a>    <span class="cf">if</span> root <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> root.left <span class="kw">is</span> <span class="va">None</span> <span class="kw">and</span> root.right <span class="kw">is</span> <span class="va">None</span> : <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>    <span class="cf">return</span> <span class="dv">1</span> <span class="op">+</span> <span class="bu">max</span>(height(root.left), height(root.right))</span></code></pre></div>
</section>
<section id="binary-tree-lowest-common-ancestor" class="level3">
<h3>Binary Tree: Lowest Common Ancestor</h3>
<p>My sol</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>sol <span class="op">=</span> <span class="va">None</span></span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="kw">def</span> who_in(root, v1, v2):</span>
<span id="cb50-3"><a href="#cb50-3"></a>    <span class="co">&quot;&quot;&quot;Reeturns list [], [v1, v2]&quot;&quot;&quot;</span></span>
<span id="cb50-4"><a href="#cb50-4"></a>    <span class="kw">global</span> sol</span>
<span id="cb50-5"><a href="#cb50-5"></a>    <span class="cf">if</span> root <span class="op">==</span> <span class="va">None</span>: <span class="cf">return</span> []</span>
<span id="cb50-6"><a href="#cb50-6"></a></span>
<span id="cb50-7"><a href="#cb50-7"></a></span>
<span id="cb50-8"><a href="#cb50-8"></a><span class="co"># print(&#39;Visiting&#39;, root.info)</span></span>
<span id="cb50-9"><a href="#cb50-9"></a></span>
<span id="cb50-10"><a href="#cb50-10"></a>    res <span class="op">=</span> []</span>
<span id="cb50-11"><a href="#cb50-11"></a>    <span class="cf">if</span> root.info <span class="kw">in</span> (v1, v2):</span>
<span id="cb50-12"><a href="#cb50-12"></a>        res.append(root.info)</span>
<span id="cb50-13"><a href="#cb50-13"></a>    res.extend(who_in(root.left, v1, v2))</span>
<span id="cb50-14"><a href="#cb50-14"></a>    res.extend(who_in(root.right, v1, v2))</span>
<span id="cb50-15"><a href="#cb50-15"></a></span>
<span id="cb50-16"><a href="#cb50-16"></a></span>
<span id="cb50-17"><a href="#cb50-17"></a><span class="co"># print(&quot;  res&quot;, res)</span></span>
<span id="cb50-18"><a href="#cb50-18"></a>    <span class="cf">if</span> sol <span class="kw">is</span> <span class="va">None</span> <span class="kw">and</span> v1 <span class="kw">in</span> res <span class="kw">and</span> v2 <span class="kw">in</span> res:</span>
<span id="cb50-19"><a href="#cb50-19"></a>        sol <span class="op">=</span> root</span>
<span id="cb50-20"><a href="#cb50-20"></a>    <span class="cf">return</span> res</span>
<span id="cb50-21"><a href="#cb50-21"></a></span>
<span id="cb50-22"><a href="#cb50-22"></a></span>
<span id="cb50-23"><a href="#cb50-23"></a><span class="kw">def</span> lca(root, v1, v2):</span>
<span id="cb50-24"><a href="#cb50-24"></a>    who_in(root, v1, v2)</span>
<span id="cb50-25"><a href="#cb50-25"></a>    <span class="cf">return</span> sol</span></code></pre></div>
<p>Solution understanding that values are ordered (lower, highter), hence the binary search</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a><span class="kw">def</span> lca(root, v1, v2):</span>
<span id="cb51-2"><a href="#cb51-2"></a>    cur <span class="op">=</span> root</span>
<span id="cb51-3"><a href="#cb51-3"></a>    <span class="cf">while</span> cur:</span>
<span id="cb51-4"><a href="#cb51-4"></a>        <span class="cf">if</span> v1<span class="op">&lt;</span>cur.info <span class="kw">and</span> v2<span class="op">&lt;</span>cur.info:</span>
<span id="cb51-5"><a href="#cb51-5"></a>            cur <span class="op">=</span> cur.left</span>
<span id="cb51-6"><a href="#cb51-6"></a>        <span class="cf">elif</span> v1<span class="op">&gt;</span>cur.info <span class="kw">and</span> v2<span class="op">&gt;</span>cur.info:</span>
<span id="cb51-7"><a href="#cb51-7"></a>            cur <span class="op">=</span> cur.right</span>
<span id="cb51-8"><a href="#cb51-8"></a>        <span class="cf">elif</span> <span class="bu">max</span>(v1, v2)<span class="op">&gt;=</span>cur.info <span class="kw">and</span> cur.info<span class="op">&gt;=</span><span class="bu">min</span>(v1,v2):</span>
<span id="cb51-9"><a href="#cb51-9"></a>            <span class="cf">return</span> cur</span></code></pre></div>
<p>Problem tester code</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="co"># Python 3 iterative solution</span></span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="kw">def</span> lca(root , v1 , v2):</span>
<span id="cb52-4"><a href="#cb52-4"></a></span>
<span id="cb52-5"><a href="#cb52-5"></a><span class="co"># make sure v2 &gt; v1</span></span>
<span id="cb52-6"><a href="#cb52-6"></a>    <span class="cf">if</span> v1 <span class="op">&gt;</span> v2: v1, v2 <span class="op">=</span> v2, v1</span>
<span id="cb52-7"><a href="#cb52-7"></a></span>
<span id="cb52-8"><a href="#cb52-8"></a><span class="co"># traverse until terminal</span></span>
<span id="cb52-9"><a href="#cb52-9"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb52-10"><a href="#cb52-10"></a>        <span class="cf">if</span> v1 <span class="op">&lt;</span> root.info <span class="kw">and</span> v2 <span class="op">&lt;</span> root.info:</span>
<span id="cb52-11"><a href="#cb52-11"></a>            root <span class="op">=</span> root.left</span>
<span id="cb52-12"><a href="#cb52-12"></a>        <span class="cf">elif</span> v1 <span class="op">&gt;</span> root.info <span class="kw">and</span> v2 <span class="op">&gt;</span> root.info:</span>
<span id="cb52-13"><a href="#cb52-13"></a>            root <span class="op">=</span> root.right</span>
<span id="cb52-14"><a href="#cb52-14"></a>        <span class="cf">else</span>:</span>
<span id="cb52-15"><a href="#cb52-15"></a>            <span class="cf">return</span>(root)</span></code></pre></div>
<p>Tree class and parser (from problem itself</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a><span class="kw">class</span> Node:</span>
<span id="cb53-2"><a href="#cb53-2"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, info): </span>
<span id="cb53-3"><a href="#cb53-3"></a>        <span class="va">self</span>.info <span class="op">=</span> info  </span>
<span id="cb53-4"><a href="#cb53-4"></a>        <span class="va">self</span>.left <span class="op">=</span> <span class="va">None</span>  </span>
<span id="cb53-5"><a href="#cb53-5"></a>        <span class="va">self</span>.right <span class="op">=</span> <span class="va">None</span> </span>
<span id="cb53-6"><a href="#cb53-6"></a>        <span class="va">self</span>.level <span class="op">=</span> <span class="va">None</span> </span>
<span id="cb53-7"><a href="#cb53-7"></a></span>
<span id="cb53-8"><a href="#cb53-8"></a>    <span class="kw">def</span> <span class="fu">__str__</span>(<span class="va">self</span>):</span>
<span id="cb53-9"><a href="#cb53-9"></a>        <span class="cf">return</span> <span class="bu">str</span>(<span class="va">self</span>.info) </span>
<span id="cb53-10"><a href="#cb53-10"></a></span>
<span id="cb53-11"><a href="#cb53-11"></a><span class="kw">class</span> BinarySearchTree:</span>
<span id="cb53-12"><a href="#cb53-12"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>): </span>
<span id="cb53-13"><a href="#cb53-13"></a>        <span class="va">self</span>.root <span class="op">=</span> <span class="va">None</span></span>
<span id="cb53-14"><a href="#cb53-14"></a></span>
<span id="cb53-15"><a href="#cb53-15"></a>    <span class="kw">def</span> create(<span class="va">self</span>, val):  </span>
<span id="cb53-16"><a href="#cb53-16"></a>        <span class="cf">if</span> <span class="va">self</span>.root <span class="op">==</span> <span class="va">None</span>:</span>
<span id="cb53-17"><a href="#cb53-17"></a>            <span class="va">self</span>.root <span class="op">=</span> Node(val)</span>
<span id="cb53-18"><a href="#cb53-18"></a>        <span class="cf">else</span>:</span>
<span id="cb53-19"><a href="#cb53-19"></a>            current <span class="op">=</span> <span class="va">self</span>.root</span>
<span id="cb53-20"><a href="#cb53-20"></a></span>
<span id="cb53-21"><a href="#cb53-21"></a>            <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb53-22"><a href="#cb53-22"></a>                <span class="cf">if</span> val <span class="op">&lt;</span> current.info:</span>
<span id="cb53-23"><a href="#cb53-23"></a>                    <span class="cf">if</span> current.left:</span>
<span id="cb53-24"><a href="#cb53-24"></a>                        current <span class="op">=</span> current.left</span>
<span id="cb53-25"><a href="#cb53-25"></a>                    <span class="cf">else</span>:</span>
<span id="cb53-26"><a href="#cb53-26"></a>                        current.left <span class="op">=</span> Node(val)</span>
<span id="cb53-27"><a href="#cb53-27"></a>                        <span class="cf">break</span></span>
<span id="cb53-28"><a href="#cb53-28"></a>                <span class="cf">elif</span> val <span class="op">&gt;</span> current.info:</span>
<span id="cb53-29"><a href="#cb53-29"></a>                    <span class="cf">if</span> current.right:</span>
<span id="cb53-30"><a href="#cb53-30"></a>                        current <span class="op">=</span> current.right</span>
<span id="cb53-31"><a href="#cb53-31"></a>                    <span class="cf">else</span>:</span>
<span id="cb53-32"><a href="#cb53-32"></a>                        current.right <span class="op">=</span> Node(val)</span>
<span id="cb53-33"><a href="#cb53-33"></a>                        <span class="cf">break</span></span>
<span id="cb53-34"><a href="#cb53-34"></a>                <span class="cf">else</span>:</span>
<span id="cb53-35"><a href="#cb53-35"></a>                    <span class="cf">break</span></span>
<span id="cb53-36"><a href="#cb53-36"></a></span>
<span id="cb53-37"><a href="#cb53-37"></a></span>
<span id="cb53-38"><a href="#cb53-38"></a><span class="co"># Enter your code here. Read input from STDIN. Print output to STDOUT</span></span>
<span id="cb53-39"><a href="#cb53-39"></a><span class="co">&#39;&#39;&#39;</span></span>
<span id="cb53-40"><a href="#cb53-40"></a><span class="co">class Node:</span></span>
<span id="cb53-41"><a href="#cb53-41"></a><span class="co">      def __init__(self,info): </span></span>
<span id="cb53-42"><a href="#cb53-42"></a><span class="co">          self.info = info  </span></span>
<span id="cb53-43"><a href="#cb53-43"></a><span class="co">          self.left = None  </span></span>
<span id="cb53-44"><a href="#cb53-44"></a><span class="co">          self.right = None </span></span>
<span id="cb53-45"><a href="#cb53-45"></a></span>
<span id="cb53-46"><a href="#cb53-46"></a></span>
<span id="cb53-47"><a href="#cb53-47"></a><span class="co">       // this is a node of the tree , which contains info as data, left , right</span></span>
<span id="cb53-48"><a href="#cb53-48"></a><span class="co">&#39;&#39;&#39;</span></span>
<span id="cb53-49"><a href="#cb53-49"></a></span>
<span id="cb53-50"><a href="#cb53-50"></a>tree <span class="op">=</span> BinarySearchTree()</span>
<span id="cb53-51"><a href="#cb53-51"></a>t <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>())</span>
<span id="cb53-52"><a href="#cb53-52"></a></span>
<span id="cb53-53"><a href="#cb53-53"></a>arr <span class="op">=</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="bu">int</span>, <span class="bu">input</span>().split()))</span>
<span id="cb53-54"><a href="#cb53-54"></a></span>
<span id="cb53-55"><a href="#cb53-55"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(t):</span>
<span id="cb53-56"><a href="#cb53-56"></a>    tree.create(arr[i])</span>
<span id="cb53-57"><a href="#cb53-57"></a></span>
<span id="cb53-58"><a href="#cb53-58"></a>v <span class="op">=</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="bu">int</span>, <span class="bu">input</span>().split()))</span>
<span id="cb53-59"><a href="#cb53-59"></a></span>
<span id="cb53-60"><a href="#cb53-60"></a>ans <span class="op">=</span> lca(tree.root, v[<span class="dv">0</span>], v[<span class="dv">1</span>])</span>
<span id="cb53-61"><a href="#cb53-61"></a><span class="bu">print</span> (ans.info)</span></code></pre></div>
</section>
<section id="trees-is-this-a-binary-search-tree" class="level3">
<h3>Trees: Is This a Binary Search Tree?</h3>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1"></a><span class="kw">def</span> checkBST(root, i_left<span class="op">=-</span><span class="dv">1</span>, i_right<span class="op">=</span><span class="dv">10001</span>):</span>
<span id="cb54-2"><a href="#cb54-2"></a>    <span class="cf">if</span> root <span class="kw">is</span> <span class="va">None</span>: <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb54-3"><a href="#cb54-3"></a>    <span class="cf">if</span> root.data <span class="op">&gt;=</span> i_right <span class="kw">or</span> root.data <span class="op">&lt;=</span> i_left: <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb54-4"><a href="#cb54-4"></a>    res <span class="op">=</span> checkBST(root.left, i_left, root.data)</span>
<span id="cb54-5"><a href="#cb54-5"></a>    res <span class="op">&amp;=</span> checkBST(root.right, root.data, i_right)</span>
<span id="cb54-6"><a href="#cb54-6"></a>    <span class="cf">return</span> res</span></code></pre></div>
</section>
<section id="tree-huffman-decoding" class="level3">
<h3>Tree: Huffman Decoding</h3>
<p>My solution, note that reading a String + Visiting a tree, the recursive solution could not be the shortest: because you have to pass many variables (at least 2) and one is often unchanged, or changed together so why bother: just reloop + I know when it is finished: when the string_in is completely consumed</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a><span class="kw">def</span> readChar(sub, s):</span>
<span id="cb55-2"><a href="#cb55-2"></a></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="co"># Finish</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>    <span class="cf">if</span> sub.data <span class="op">!=</span> <span class="st">&#39;</span><span class="ch">\0</span><span class="st">&#39;</span>:</span>
<span id="cb55-5"><a href="#cb55-5"></a>        <span class="cf">return</span> (sub.data, <span class="dv">0</span>)</span>
<span id="cb55-6"><a href="#cb55-6"></a></span>
<span id="cb55-7"><a href="#cb55-7"></a></span>
<span id="cb55-8"><a href="#cb55-8"></a><span class="co"># Go deeper, I know s is not null </span></span>
<span id="cb55-9"><a href="#cb55-9"></a>    sub <span class="op">=</span> sub.left <span class="cf">if</span> s[<span class="dv">0</span>] <span class="op">==</span> <span class="st">&#39;0&#39;</span> <span class="cf">else</span> sub.right</span>
<span id="cb55-10"><a href="#cb55-10"></a>    s_new, i_more <span class="op">=</span> readChar(sub, s[<span class="dv">1</span>:])</span>
<span id="cb55-11"><a href="#cb55-11"></a>    <span class="cf">return</span> s_new, i_more <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb55-12"><a href="#cb55-12"></a></span>
<span id="cb55-13"><a href="#cb55-13"></a></span>
<span id="cb55-14"><a href="#cb55-14"></a></span>
<span id="cb55-15"><a href="#cb55-15"></a><span class="co"># Enter your code here. Read input from STDIN. Print output to STDOUT</span></span>
<span id="cb55-16"><a href="#cb55-16"></a><span class="kw">def</span> decodeHuff(root, s, p<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb55-17"><a href="#cb55-17"></a>    <span class="cf">if</span> root <span class="kw">is</span> <span class="va">None</span> <span class="kw">or</span> <span class="bu">len</span>(s) <span class="op">==</span> <span class="dv">0</span>: <span class="cf">return</span> <span class="st">&#39;&#39;</span></span>
<span id="cb55-18"><a href="#cb55-18"></a></span>
<span id="cb55-19"><a href="#cb55-19"></a></span>
<span id="cb55-20"><a href="#cb55-20"></a><span class="co"># Get char and res</span></span>
<span id="cb55-21"><a href="#cb55-21"></a>    res, i_more <span class="op">=</span> readChar(root, s)</span>
<span id="cb55-22"><a href="#cb55-22"></a>    res <span class="op">+=</span> decodeHuff(root, s[i_more:], p<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb55-23"><a href="#cb55-23"></a></span>
<span id="cb55-24"><a href="#cb55-24"></a></span>
<span id="cb55-25"><a href="#cb55-25"></a><span class="co"># Print is called by the test program</span></span>
<span id="cb55-26"><a href="#cb55-26"></a>    <span class="cf">if</span> p: <span class="bu">print</span>(res)</span>
<span id="cb55-27"><a href="#cb55-27"></a>    <span class="cf">return</span> res</span></code></pre></div>
<p>Keep reading</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb56-1"><a href="#cb56-1"></a><span class="dt">void</span> <span class="fu">decode</span>(<span class="bu">String</span> S, <span class="bu">Node</span> root)</span>
<span id="cb56-2"><a href="#cb56-2"></a>{</span>
<span id="cb56-3"><a href="#cb56-3"></a>    <span class="bu">StringBuilder</span> sb = <span class="kw">new</span> <span class="bu">StringBuilder</span>();</span>
<span id="cb56-4"><a href="#cb56-4"></a>    <span class="bu">Node</span> c = root;</span>
<span id="cb56-5"><a href="#cb56-5"></a>    <span class="kw">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; S.<span class="fu">length</span>(); i++) {</span>
<span id="cb56-6"><a href="#cb56-6"></a>        c = S.<span class="fu">charAt</span>(i) == <span class="ch">&#39;1&#39;</span> ? c.<span class="fu">right</span> : c.<span class="fu">left</span>;</span>
<span id="cb56-7"><a href="#cb56-7"></a>        <span class="kw">if</span> (c.<span class="fu">left</span> == <span class="kw">null</span> &amp;&amp; c.<span class="fu">right</span> == <span class="kw">null</span>) {</span>
<span id="cb56-8"><a href="#cb56-8"></a>            sb.<span class="fu">append</span>(c.<span class="fu">data</span>);</span>
<span id="cb56-9"><a href="#cb56-9"></a>            c = root;</span>
<span id="cb56-10"><a href="#cb56-10"></a>        }</span>
<span id="cb56-11"><a href="#cb56-11"></a>    }</span>
<span id="cb56-12"><a href="#cb56-12"></a>    <span class="bu">System</span>.<span class="fu">out</span>.<span class="fu">print</span>(sb);</span>
<span id="cb56-13"><a href="#cb56-13"></a>}</span></code></pre></div>
<p>Or in python, a simple, visiting loop, restoring root when getting a char</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="kw">def</span> decodeHuff(root, s):</span>
<span id="cb57-2"><a href="#cb57-2"></a>    ans<span class="op">=</span><span class="st">&#39;&#39;</span></span>
<span id="cb57-3"><a href="#cb57-3"></a>    curr<span class="op">=</span>root</span>
<span id="cb57-4"><a href="#cb57-4"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,<span class="bu">len</span>(s)):</span>
<span id="cb57-5"><a href="#cb57-5"></a>        <span class="cf">if</span>(s[i]<span class="op">==</span><span class="st">&#39;0&#39;</span>):</span>
<span id="cb57-6"><a href="#cb57-6"></a>            curr<span class="op">=</span>curr.left</span>
<span id="cb57-7"><a href="#cb57-7"></a>        <span class="cf">else</span>:</span>
<span id="cb57-8"><a href="#cb57-8"></a>            curr<span class="op">=</span>curr.right</span>
<span id="cb57-9"><a href="#cb57-9"></a>        <span class="cf">if</span>(curr.left<span class="op">==</span> <span class="va">None</span> <span class="kw">and</span> curr.right<span class="op">==</span> <span class="va">None</span>):</span>
<span id="cb57-10"><a href="#cb57-10"></a>            ans<span class="op">=</span>ans<span class="op">+</span>curr.data</span>
<span id="cb57-11"><a href="#cb57-11"></a>            curr<span class="op">=</span>root</span>
<span id="cb57-12"><a href="#cb57-12"></a>    <span class="bu">print</span>(ans)</span></code></pre></div>
<p>Solution from Team</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb58-1"><a href="#cb58-1"></a><span class="dt">void</span> decode_huff(node * root,string s)</span>
<span id="cb58-2"><a href="#cb58-2"></a>{</span>
<span id="cb58-3"><a href="#cb58-3"></a>    string ans=<span class="st">&quot;&quot;</span>;</span>
<span id="cb58-4"><a href="#cb58-4"></a>    node *curr=root;</span>
<span id="cb58-5"><a href="#cb58-5"></a>    <span class="cf">for</span>(<span class="dt">int</span> i=<span class="dv">0</span>;i&lt;s.size();i++){</span>
<span id="cb58-6"><a href="#cb58-6"></a>        <span class="cf">if</span>(s[i]==<span class="ch">&#39;0&#39;</span>) curr = curr-&gt;left;</span>
<span id="cb58-7"><a href="#cb58-7"></a>        <span class="cf">else</span> curr = curr-&gt;right;</span>
<span id="cb58-8"><a href="#cb58-8"></a>        <span class="cf">if</span>(!curr-&gt;left <span class="kw">and</span> !curr-&gt;right){ <span class="co">//reached leaf node</span></span>
<span id="cb58-9"><a href="#cb58-9"></a>            ans=ans + curr-&gt;data;</span>
<span id="cb58-10"><a href="#cb58-10"></a>            curr=root;</span>
<span id="cb58-11"><a href="#cb58-11"></a>        }</span>
<span id="cb58-12"><a href="#cb58-12"></a>    }</span>
<span id="cb58-13"><a href="#cb58-13"></a>    cout&lt;&lt;ans&lt;&lt;endl;</span>
<span id="cb58-14"><a href="#cb58-14"></a>}</span></code></pre></div>
</section>
<section id="dynamic-programming-abbreviation" class="level3">
<h3>Dynamic Programming: Abbreviation</h3>
<p>My timeout</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a>sys.setrecursionlimit(<span class="dv">5000</span>)</span>
<span id="cb59-2"><a href="#cb59-2"></a><span class="at">@lru_cache</span>(<span class="va">None</span>)</span>
<span id="cb59-3"><a href="#cb59-3"></a><span class="kw">def</span> abbreviation_wrap(a, b):</span>
<span id="cb59-4"><a href="#cb59-4"></a>    <span class="cf">if</span> <span class="bu">len</span>(a) <span class="op">==</span> <span class="dv">0</span>: <span class="cf">return</span> <span class="bu">len</span>(b) <span class="op">==</span> <span class="dv">0</span></span>
<span id="cb59-5"><a href="#cb59-5"></a>    <span class="cf">if</span> <span class="bu">len</span>(b) <span class="op">==</span> <span class="dv">0</span>: <span class="cf">return</span> a.islower()</span>
<span id="cb59-6"><a href="#cb59-6"></a></span>
<span id="cb59-7"><a href="#cb59-7"></a>    <span class="cf">if</span> a[<span class="dv">0</span>] <span class="op">==</span> b[<span class="dv">0</span>]:</span>
<span id="cb59-8"><a href="#cb59-8"></a>        <span class="cf">return</span> abbreviation_wrap(a[<span class="dv">1</span>:], b[<span class="dv">1</span>:])</span>
<span id="cb59-9"><a href="#cb59-9"></a></span>
<span id="cb59-10"><a href="#cb59-10"></a>    <span class="cf">if</span> <span class="kw">not</span> a[<span class="dv">0</span>].islower():</span>
<span id="cb59-11"><a href="#cb59-11"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb59-12"><a href="#cb59-12"></a></span>
<span id="cb59-13"><a href="#cb59-13"></a></span>
<span id="cb59-14"><a href="#cb59-14"></a><span class="co"># Capitalize</span></span>
<span id="cb59-15"><a href="#cb59-15"></a>    res <span class="op">=</span> a[<span class="dv">0</span>].capitalize() <span class="op">==</span> b[<span class="dv">0</span>] <span class="kw">and</span> abbreviation_wrap(a[<span class="dv">1</span>:], b[<span class="dv">1</span>:])</span>
<span id="cb59-16"><a href="#cb59-16"></a>    res <span class="op">|=</span> abbreviation_wrap(a[<span class="dv">1</span>:], b)</span>
<span id="cb59-17"><a href="#cb59-17"></a>    <span class="cf">return</span> res</span></code></pre></div>
<p>This works</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1"></a><span class="kw">def</span> abbreviation(a, b):</span>
<span id="cb60-2"><a href="#cb60-2"></a>    m, n <span class="op">=</span> <span class="bu">len</span>(a), <span class="bu">len</span>(b)</span>
<span id="cb60-3"><a href="#cb60-3"></a>    dp <span class="op">=</span> [[<span class="va">False</span>]<span class="op">*</span>(m<span class="op">+</span><span class="dv">1</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n<span class="op">+</span><span class="dv">1</span>)]</span>
<span id="cb60-4"><a href="#cb60-4"></a>    dp[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="va">True</span></span>
<span id="cb60-5"><a href="#cb60-5"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb60-6"><a href="#cb60-6"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,m<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb60-7"><a href="#cb60-7"></a>            <span class="cf">if</span> a[j<span class="dv">-1</span>] <span class="op">==</span> b[i<span class="dv">-1</span>]:</span>
<span id="cb60-8"><a href="#cb60-8"></a>                dp[i][j] <span class="op">=</span> dp[i<span class="dv">-1</span>][j<span class="dv">-1</span>]</span>
<span id="cb60-9"><a href="#cb60-9"></a>            <span class="cf">elif</span> a[j<span class="dv">-1</span>].upper() <span class="op">==</span> b[i<span class="dv">-1</span>]:</span>
<span id="cb60-10"><a href="#cb60-10"></a>                dp[i][j] <span class="op">=</span> dp[i<span class="dv">-1</span>][j<span class="dv">-1</span>] <span class="kw">or</span> dp[i][j<span class="dv">-1</span>]</span>
<span id="cb60-11"><a href="#cb60-11"></a>            <span class="cf">elif</span> a[j<span class="dv">-1</span>].islower():</span>
<span id="cb60-12"><a href="#cb60-12"></a>                dp[i][j] <span class="op">=</span> dp[i][j<span class="dv">-1</span>]   </span>
<span id="cb60-13"><a href="#cb60-13"></a>    <span class="cf">return</span> <span class="st">&quot;YES&quot;</span> <span class="cf">if</span> dp[n][m] <span class="cf">else</span> <span class="st">&quot;NO&quot;</span></span></code></pre></div>
</section>
<section id="dynamic-programming-candies" class="level3">
<h3>Dynamic programming: candies</h3>
<ul>
<li>My first working shot</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1"></a><span class="kw">def</span> candies(n, arr):</span>
<span id="cb61-2"><a href="#cb61-2"></a>    <span class="cf">if</span> <span class="bu">len</span>(arr) <span class="op">&lt;</span> <span class="dv">2</span>: <span class="cf">return</span> <span class="bu">len</span>(arr)</span>
<span id="cb61-3"><a href="#cb61-3"></a>    res <span class="op">=</span> [<span class="dv">1</span>] <span class="op">*</span> n</span>
<span id="cb61-4"><a href="#cb61-4"></a></span>
<span id="cb61-5"><a href="#cb61-5"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb61-6"><a href="#cb61-6"></a></span>
<span id="cb61-7"><a href="#cb61-7"></a><span class="co"># If in valley</span></span>
<span id="cb61-8"><a href="#cb61-8"></a>        <span class="cf">if</span> ((i <span class="op">&lt;=</span> <span class="dv">0</span> <span class="kw">or</span> arr[i] <span class="op">&lt;=</span> arr[i<span class="dv">-1</span>]) </span>
<span id="cb61-9"><a href="#cb61-9"></a>                <span class="kw">and</span> (i <span class="op">&gt;=</span> <span class="bu">len</span>(arr)<span class="op">-</span><span class="dv">1</span> <span class="kw">or</span> arr[i] <span class="op">&lt;=</span> arr[i<span class="op">+</span><span class="dv">1</span>])):</span>
<span id="cb61-10"><a href="#cb61-10"></a>            <span class="bu">print</span>(<span class="st">&quot;In valley&quot;</span>, i)</span>
<span id="cb61-11"><a href="#cb61-11"></a></span>
<span id="cb61-12"><a href="#cb61-12"></a><span class="co"># up</span></span>
<span id="cb61-13"><a href="#cb61-13"></a>            j <span class="op">=</span> i</span>
<span id="cb61-14"><a href="#cb61-14"></a>            <span class="cf">while</span> j <span class="op">&lt;</span> <span class="bu">len</span>(arr)<span class="op">-</span><span class="dv">1</span> <span class="kw">and</span> arr[j<span class="op">+</span><span class="dv">1</span>] <span class="op">&gt;</span> arr[j]:</span>
<span id="cb61-15"><a href="#cb61-15"></a>                res[j<span class="op">+</span><span class="dv">1</span>] <span class="op">=</span> <span class="bu">max</span>(res[j<span class="op">+</span><span class="dv">1</span>], res[j] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb61-16"><a href="#cb61-16"></a>                j <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb61-17"><a href="#cb61-17"></a></span>
<span id="cb61-18"><a href="#cb61-18"></a></span>
<span id="cb61-19"><a href="#cb61-19"></a><span class="co"># down</span></span>
<span id="cb61-20"><a href="#cb61-20"></a>            j <span class="op">=</span> i</span>
<span id="cb61-21"><a href="#cb61-21"></a>            <span class="cf">while</span> j <span class="op">&gt;</span> <span class="dv">0</span> <span class="kw">and</span> arr[j<span class="dv">-1</span>] <span class="op">&gt;</span> arr[j]:</span>
<span id="cb61-22"><a href="#cb61-22"></a>                res[j<span class="dv">-1</span>] <span class="op">=</span> <span class="bu">max</span>(res[j<span class="dv">-1</span>], res[j] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb61-23"><a href="#cb61-23"></a>                j <span class="op">-=</span> <span class="dv">1</span></span>
<span id="cb61-24"><a href="#cb61-24"></a></span>
<span id="cb61-25"><a href="#cb61-25"></a>    <span class="bu">print</span>(res)        </span>
<span id="cb61-26"><a href="#cb61-26"></a>    <span class="cf">return</span> <span class="bu">sum</span>(res)</span></code></pre></div>
<ul>
<li>Mutualize fire up and fire down</li>
<li>Remove anti-pattern</li>
</ul>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1"></a><span class="kw">def</span> candies(n, arr):</span>
<span id="cb62-2"><a href="#cb62-2"></a>    <span class="cf">if</span> <span class="bu">len</span>(arr) <span class="op">&lt;</span> <span class="dv">2</span>: <span class="cf">return</span> <span class="bu">len</span>(arr)</span>
<span id="cb62-3"><a href="#cb62-3"></a></span>
<span id="cb62-4"><a href="#cb62-4"></a><span class="co"># Minimum 1 candy for each</span></span>
<span id="cb62-5"><a href="#cb62-5"></a>    res <span class="op">=</span> [<span class="dv">1</span>] <span class="op">*</span> n</span>
<span id="cb62-6"><a href="#cb62-6"></a></span>
<span id="cb62-7"><a href="#cb62-7"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)):</span>
<span id="cb62-8"><a href="#cb62-8"></a></span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="co"># Do Not work out of  valley</span></span>
<span id="cb62-10"><a href="#cb62-10"></a>        in_valley <span class="op">=</span> ((i <span class="op">&lt;=</span> <span class="dv">0</span> <span class="kw">or</span> arr[i] <span class="op">&lt;=</span> arr[i<span class="dv">-1</span>]) </span>
<span id="cb62-11"><a href="#cb62-11"></a>            <span class="kw">and</span> (i <span class="op">&gt;=</span> <span class="bu">len</span>(arr)<span class="op">-</span><span class="dv">1</span> <span class="kw">or</span> arr[i] <span class="op">&lt;=</span> arr[i<span class="op">+</span><span class="dv">1</span>]))</span>
<span id="cb62-12"><a href="#cb62-12"></a>        <span class="cf">if</span> <span class="kw">not</span> in_valley: <span class="cf">continue</span></span>
<span id="cb62-13"><a href="#cb62-13"></a></span>
<span id="cb62-14"><a href="#cb62-14"></a></span>
<span id="cb62-15"><a href="#cb62-15"></a><span class="co"># Fire</span></span>
<span id="cb62-16"><a href="#cb62-16"></a>        <span class="cf">for</span> sens, bound <span class="kw">in</span> ((<span class="dv">1</span>, <span class="bu">len</span>(arr) <span class="op">-</span> <span class="dv">1</span>), (<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>)):</span>
<span id="cb62-17"><a href="#cb62-17"></a>            <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i, bound, sens):</span>
<span id="cb62-18"><a href="#cb62-18"></a>                <span class="cf">if</span> arr[j<span class="op">+</span>sens] <span class="op">&lt;=</span> arr[j]: <span class="cf">break</span></span>
<span id="cb62-19"><a href="#cb62-19"></a>                res[j<span class="op">+</span>sens] <span class="op">=</span> <span class="bu">max</span>(res[j<span class="op">+</span>sens], res[j] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb62-20"><a href="#cb62-20"></a></span>
<span id="cb62-21"><a href="#cb62-21"></a></span>
<span id="cb62-22"><a href="#cb62-22"></a><span class="co"># Return total number of cadies</span></span>
<span id="cb62-23"><a href="#cb62-23"></a>    <span class="cf">return</span> <span class="bu">sum</span>(res)</span></code></pre></div>
<ul>
<li>Without dp: burn left then burn right. take advantage of 1 d propagation that is linear</li>
</ul>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1"></a><span class="kw">def</span> candies(n, arr):</span>
<span id="cb63-2"><a href="#cb63-2"></a>    <span class="co">&quot;&quot;&quot;naive approach</span></span>
<span id="cb63-3"><a href="#cb63-3"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb63-4"><a href="#cb63-4"></a>    candies <span class="op">=</span> [<span class="dv">1</span>] <span class="op">*</span> <span class="bu">len</span>(arr)</span>
<span id="cb63-5"><a href="#cb63-5"></a></span>
<span id="cb63-6"><a href="#cb63-6"></a><span class="co"># left -&gt; right</span></span>
<span id="cb63-7"><a href="#cb63-7"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(arr)<span class="op">-</span><span class="dv">1</span>):</span>
<span id="cb63-8"><a href="#cb63-8"></a>        <span class="cf">if</span> arr[i] <span class="op">&lt;</span> arr[i<span class="op">+</span><span class="dv">1</span>]:</span>
<span id="cb63-9"><a href="#cb63-9"></a>            candies[i<span class="op">+</span><span class="dv">1</span>] <span class="op">=</span> <span class="bu">max</span>(candies[i<span class="op">+</span><span class="dv">1</span>], candies[i] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb63-10"><a href="#cb63-10"></a></span>
<span id="cb63-11"><a href="#cb63-11"></a><span class="co"># right -&gt; left</span></span>
<span id="cb63-12"><a href="#cb63-12"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">reversed</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(arr))):</span>
<span id="cb63-13"><a href="#cb63-13"></a>        <span class="cf">if</span> arr[i] <span class="op">&lt;</span> arr[i<span class="dv">-1</span>]:</span>
<span id="cb63-14"><a href="#cb63-14"></a>            candies[i<span class="dv">-1</span>] <span class="op">=</span> <span class="bu">max</span>(candies[i<span class="dv">-1</span>], candies[i] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb63-15"><a href="#cb63-15"></a>    <span class="cf">return</span> <span class="bu">sum</span>(candies)</span></code></pre></div>
<p>Some definitions:</p>
<pre class="text"><code>  /           \         /\
 /   RISE      \ FALL  /  \  PEAK   \  /   VALLEY
/               \                    \/</code></pre>
</section>
<section id="find-a-sub-word-regex-list" class="level3">
<h3>Find A Sub-Word (Regex list)</h3>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1"></a></span>
<span id="cb65-2"><a href="#cb65-2"></a><span class="co"># Enter your code here. Read input from STDIN. Print output to STDOUT</span></span>
<span id="cb65-3"><a href="#cb65-3"></a><span class="im">import</span> os</span>
<span id="cb65-4"><a href="#cb65-4"></a><span class="im">import</span> re</span>
<span id="cb65-5"><a href="#cb65-5"></a></span>
<span id="cb65-6"><a href="#cb65-6"></a><span class="kw">def</span> work(ss, sq):</span>
<span id="cb65-7"><a href="#cb65-7"></a>    res <span class="op">=</span> []</span>
<span id="cb65-8"><a href="#cb65-8"></a>    <span class="cf">for</span> query <span class="kw">in</span> sq:</span>
<span id="cb65-9"><a href="#cb65-9"></a>        w <span class="op">=</span> <span class="vs">r&#39;[0-9a-zA-Z_]+&#39;</span></span>
<span id="cb65-10"><a href="#cb65-10"></a>        query <span class="op">=</span> <span class="vs">r&#39;\b&#39;</span> <span class="op">+</span> w <span class="op">+</span> query <span class="op">+</span> w <span class="op">+</span> <span class="vs">r&#39;\b&#39;</span></span>
<span id="cb65-11"><a href="#cb65-11"></a>        <span class="bu">print</span>(query, ss, re.findall(query, ss[<span class="dv">0</span>]))</span>
<span id="cb65-12"><a href="#cb65-12"></a></span>
<span id="cb65-13"><a href="#cb65-13"></a></span>
<span id="cb65-14"><a href="#cb65-14"></a><span class="co"># lambda x: </span></span>
<span id="cb65-15"><a href="#cb65-15"></a>        num <span class="op">=</span> <span class="bu">sum</span>(<span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: <span class="bu">len</span>((re.findall(query, x))),  ss)))</span>
<span id="cb65-16"><a href="#cb65-16"></a>        res.append(num)</span>
<span id="cb65-17"><a href="#cb65-17"></a>    <span class="cf">return</span> res</span>
<span id="cb65-18"><a href="#cb65-18"></a></span>
<span id="cb65-19"><a href="#cb65-19"></a></span>
<span id="cb65-20"><a href="#cb65-20"></a>fptr <span class="op">=</span> <span class="bu">open</span>(os.environ[<span class="st">&#39;OUTPUT_PATH&#39;</span>], <span class="st">&#39;w&#39;</span>)</span>
<span id="cb65-21"><a href="#cb65-21"></a>s <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>().strip())</span>
<span id="cb65-22"><a href="#cb65-22"></a>strings <span class="op">=</span> []</span>
<span id="cb65-23"><a href="#cb65-23"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(s):</span>
<span id="cb65-24"><a href="#cb65-24"></a>    strings.append(<span class="bu">input</span>())</span>
<span id="cb65-25"><a href="#cb65-25"></a>q <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>().strip())</span>
<span id="cb65-26"><a href="#cb65-26"></a>queries <span class="op">=</span> []</span>
<span id="cb65-27"><a href="#cb65-27"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(q):</span>
<span id="cb65-28"><a href="#cb65-28"></a>    queries.append(<span class="bu">input</span>())</span>
<span id="cb65-29"><a href="#cb65-29"></a></span>
<span id="cb65-30"><a href="#cb65-30"></a>ans <span class="op">=</span> work(strings, queries)</span>
<span id="cb65-31"><a href="#cb65-31"></a></span>
<span id="cb65-32"><a href="#cb65-32"></a>fptr.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>.join(<span class="bu">map</span>(<span class="bu">str</span>, ans)))</span>
<span id="cb65-33"><a href="#cb65-33"></a>fptr.write(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<ul>
<li>Minimized</li>
</ul>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1"></a></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb66-3"><a href="#cb66-3"></a></span>
<span id="cb66-4"><a href="#cb66-4"></a><span class="im">import</span> re</span>
<span id="cb66-5"><a href="#cb66-5"></a></span>
<span id="cb66-6"><a href="#cb66-6"></a>n <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>())</span>
<span id="cb66-7"><a href="#cb66-7"></a>text <span class="op">=</span> <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>.join(<span class="bu">input</span>() <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n))</span>
<span id="cb66-8"><a href="#cb66-8"></a>t <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>())</span>
<span id="cb66-9"><a href="#cb66-9"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(t):</span>
<span id="cb66-10"><a href="#cb66-10"></a>    <span class="bu">print</span>(<span class="bu">len</span>(re.findall(<span class="vs">r&#39;\w</span><span class="sc">%s</span><span class="vs">\w&#39;</span> <span class="op">%</span> <span class="bu">input</span>().strip(), text)))</span></code></pre></div>
</section>
<section id="regex-alien-username" class="level3">
<h3>Regex: Alien Username</h3>
<div class="sourceCode" id="cb67"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1"></a><span class="im">import</span> re</span>
<span id="cb67-2"><a href="#cb67-2"></a></span>
<span id="cb67-3"><a href="#cb67-3"></a>r_user <span class="op">=</span> <span class="vs">r&#39;^[_.][0-9]+[a-zA-Z]*_?$&#39;</span></span>
<span id="cb67-4"><a href="#cb67-4"></a>n <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>())</span>
<span id="cb67-5"><a href="#cb67-5"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb67-6"><a href="#cb67-6"></a>    <span class="bu">print</span>(<span class="st">&#39;VALID&#39;</span> <span class="cf">if</span> re.match(r_user, <span class="bu">input</span>()) <span class="cf">else</span> <span class="st">&#39;INVALID&#39;</span>)</span></code></pre></div>
</section>
</section>
</section>
</section>
</body>
</html>
