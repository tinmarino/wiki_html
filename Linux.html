<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Linux.md – -</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="Css/include.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<ul>
<li><a href="Apt.html">Apt</a></li>
<li><a href="Sed.html">Sed</a></li>
<li><a href="Awk.html">Awk</a></li>
<li><a href="Readline.html">Readline</a></li>
<li><a href="Tmux.html">Tmux</a></li>
<li><a href="Dialog.html">Dialog</a></li>
<li><a href="Termux.html">Termux</a></li>
<li><a href="Git.html">Git</a></li>
<li><a href="Gcc.html">Gcc</a></li>
<li><a href="Pentest.html">Pentest</a></li>
<li><a href="Emacs.html">Emacs</a></li>
<li><a href="Network.html">Network</a> : Unbound</li>
<li><a href="BusyBox.html">BusyBox</a></li>
<li><a href="W3m.html">W3m</a></li>
<li><a href="Nvidia.html">Nvidia</a></li>
<li><a href="Ubuntu.html">Ubuntu</a></li>
<li><a href="Man.html">Man</a></li>
<li><a href="Docker.html">Docker</a></li>
</ul>
<section id="program" class="level1">
<h1>Program</h1>
<ul>
<li><a href="Imagemagick.html">Imagemagick</a></li>
</ul>
</section>
<section id="not-so-used" class="level1">
<h1>Not so used</h1>
<ul>
<li><p><a href="Accronym.html">Accronym</a></p></li>
<li><p><a href="Screen.html">Screen</a></p></li>
<li><p>Trash: /home/$USER/.local/share/Trash (install trash-cli)</p></li>
<li><p>find . -type f -name "*_peaks.bed" ! -path “./tmp/<em>" ! -path "./scripts/</em>”</p></li>
<li><p>echo -e “” # beep</p></li>
<li><p>qed -&gt; ed -&gt; ex -&gt; vi -&gt; vim</p></li>
<li><pre><code>-&gt; grep -&gt; sed -&gt; awk -&gt; perl -&gt; ack -&gt; ag</code></pre></li>
<li><p>clear</p></li>
<li><p>reset</p></li>
<li><p>tmux :clear-history</p></li>
<li><p>tmux :bind -n C-k clear-history #-n to avoid prefix</p></li>
<li><p>tmux: bind b send-keys-R ; clear-history</p></li>
</ul>
</section>
<section id="files-read-get-specific-info" class="level1">
<h1>Files (Read, get specific info)</h1>
<ul>
<li><p>/proc/sys/vm/block_dump # echo 1 lgos IO; then tail -f /var/log/syslog</p></li>
<li><p>/proc/[pid]/io</p></li>
<li><p>/proc/net/dev</p></li>
<li><p>/sys/class/net/${interface}/statistics/</p></li>
<li><p>/etc/resolv.conf</p></li>
<li><p>/etc/nework/interface</p></li>
<li><p>/etc/hosts</p></li>
<li><p>/etc/mailname</p></li>
<li><p>/etc/hostname</p></li>
<li><p>Xrand redshift xrandr -q | grep " connected" # gives me LVDS1 xrandr –output LVDS1 –brightness 0.5 xbacklight -set 50 xbacklight -inc 10 xbacklight -dec 10 echo 400 | sudo tee /sys/class/backlight/intel_backlight/brightness</p></li>
<li><p>Module (kernel) depmod - handle dependency descriptions for loadable kernel modules. insmod - install loadable kernel module. lsmod - list loaded modules. modinfo - display information about a kernel module. modprobe - high level handling of loadable modules. rmmod - unload loadable modules.</p></li>
<li><p>User Rights, Capabilities visudo</p></li>
<li><p>tail -f</p></li>
<li><p>apt –allow-unauthentificated</p></li>
<li><p>cat | xargs grep</p></li>
<li><p>find . -type f -size +10M</p></li>
<li><p>grep -Po ‘[^[:digit:]]’</p></li>
<li><p>grep -A 1 print 1 line before</p></li>
<li><p>grep -B 1 print 1 line before</p></li>
<li><p>grep -C 3 print 3 lines before and after</p></li>
<li><p>grep –include=*.txt</p></li>
<li><p>cat toto.txt | grep -arnobUP “”</p></li>
<li><p>echo “conbtent” | mail -s “subject” user@email.com</p></li>
<li><p>find . -maxdepth 1 -exec grep foo {}</p></li>
<li><p>Hybernate sudo pm-hibernate sudo systemctl hibernate</p></li>
<li><p>Move mouse tmux send-key -t session:pane ls tput - initialize a terminal or query terminfo database</p>
<ul>
<li>color output xdotool - send keystrokes</li>
</ul></li>
<li><p>Screen off xset dpms force off</p></li>
<li><p>Tar<br />
tar - cvf tecmint-14-09-12.tar /home/tecmint/ tar cvzf MyImages-14-09-12.tar.gz /home/MyImages c – Creates a new .tar archive file. v – Verbosely show the .tar file progress. f – File name type of the archive file. z - Compress tar -xvf thumbnails-14-09-12.tar.gz tar -zxvf tar-archive-name.tar.gz</p></li>
<li><p>Remotely move mouse : <code>xdotool</code></p></li>
</ul>
<pre><code>#! /bin/bash
# move the mouse  x    y
xdotool mousemove 1800 500
# left click
xdotool click 1
# right click
xdotool click 3</code></pre>
<ul>
<li><p>List device UUID ls /dev:disk/by_uuid</p></li>
<li><p>Find file (and print only finle name)</p>
<ul>
<li><code>find /dir1 -type f -printf "%f\n"</code></li>
<li><code>find ./dir1 -type f -exec basename {} \;</code> # If no printf</li>
</ul></li>
<li><p>Remove windows line ending</p></li>
<li><p><code>tr -d '\15\32' &lt; winfile.txt &gt;  unixfile.txt</code></p></li>
<li><p><code>tr -d "\r" &lt; file</code></p></li>
<li><p><code>vi -c '%s/^M//g</code> # use ctrl-v ctrl-m to insert the <code>^M</code></p></li>
<li><p><code>sed 's/\x0D$//'</code></p></li>
<li><p><code>find ./ -type f -exec dos2unix {} \;</code></p></li>
<li><p><code>awk '{ sub("\r$",""); print }' dos.txt &gt; unix.txt</code></p></li>
<li><p>List signals shortcuts</p></li>
<li><p><code>stty -a</code></p></li>
<li><p>bc</p>
<ul>
<li><code>echo "ibase=16;FF" | bc</code></li>
<li></li>
</ul></li>
<li><p>expr 10 + 10</p></li>
<li><p>List all users, groups</p></li>
<li><p><code>groups</code></p></li>
<li><p><code>cut -d: -f1 /etc/passwd</code></p></li>
<li><p>Mem : If no screen</p>
<ul>
<li><code>df</code> list mount points</li>
</ul></li>
</ul>
<p><em>linux.txt</em> Linux Memories, Usefull when no screen or connection Can become ugly</p>
<p>df # list mount points</p>
<p>JOBS <em>mlinux-cd</em> <em>mlinux-jobs</em></p>
<p>This resume the work, commands I discover while trying to cd to vim’s pwd when pressing <c-z> and fg</p>
<p>JOBS ~ jobs -l</p>
<p>IPC (Inter-Process-Communication) ~ /proc/{PID}/cwd is as symlink the pwd of the current process bash local -i PID=<span class="math inline">${$</span>{<span class="math inline">${(s.:.)$</span>{(v)jobstates[1]}}[3]}%=*} cd <span class="math inline">(<em>r</em><em>e</em><em>a</em><em>d</em><em>l</em><em>i</em><em>n</em><em>k</em>/<em>p</em><em>r</em><em>o</em><em>c</em>/</span>PID/cwd) alias fg=“$VIM –remote-send ‘:cd $PWD<CR>’; fg” xdotool kill -l # to see the trap list # 20 for ctrl-z sigstp !./ttyecho -n /dev/pts/22 “echo hello” -&gt; Give to me the write to read and write at tty or ioctl disown %2 gdb retpy tmux screen to reatach :e **/palette.cpp stty -a show shell shortcut for SIGNALS kill -SIGSTOP <code>vim &gt; /dev/pts/22</code> exec vi (rplace shell by vim last shell command) REad : export PROMPT_COMMAND=“ls -a &gt; /dev/pts/23” echo -en ‘’ &gt; /dev/ttyS0 sudo chmod o-rw /dev/tty23 open /usr/share/doc/base-passwd/users-and-groups.html ( echo <br /><span class="math display">$$; echo $BASHPID )
$$</span><br /> -&gt; Expands to the process ID of the (current) shell. $! -&gt; Expands to the process ID of the most recently executed background command. ps ax | grep pts/16 ps -f ax | grep pts/16 ps –ppid $$ -o CMD PROMPT_COMMAND is the key truncate -s 0 filename &gt;filename or tail -n +2 # shell -&gt; vim alias fg=“$VIM –remote-send ‘:cd $PWD<CR>’; fg” On resume :cd $PWD $ sleep 42 &amp; [1] 5260 $ echo $! 5260</p>
<section id="jobs-and-processes" class="level3">
<h3>Jobs and Processes</h3>
<p><code>jobs -l</code><br />
<code>disown %2</code><br />
<code>kill -l</code> # to see the trap list<br />
<code>exec vi</code> # replace the shell by vim =&gt; destroy the shell) <code>tty</code> # to get my tty (of course)<br />
<code>stty -a</code> # show shell shortcut for SIGNALS<br />
<code>echo $$; echo $BASHPID</code> # Get my (shell) pid <code>$$</code> -&gt; Expands to the process ID of the (current) shell.<br />
<code>$!</code> -&gt; Expands to the process ID of the most recently executed background command.<br />
<code>$PROMPT_COMMAND</code> To automate cmds<br />
<code>disown -h %&lt;jobid&gt;</code> # After that, you can safely exit the terminal</p>
<p><code>/proc/{PID}/cwd</code> is as symlink the pwd of the current process</p>
<pre><code>&quot; Send commadn to oter terminal (shell)  
A: mkfifo mypipe  
A: eval $(cat mypipe)  
B: echo &quot;ls&quot; &gt; mypipe  
vi Mem/vim; eval $(cat /tmp/ttypipe21)  </code></pre>
<section id="ps" class="level4">
<h4>Ps</h4>
<p><code>ps ax | grep pts/16</code><br />
<code>ps -f ax | grep pts/16</code><br />
<code>ps --ppid $$ -o CMD</code></p>
</section>
<section id="change-default" class="level4">
<h4>Change default</h4>
<p>/usr/share/gnome/applications/defaults.list<br />
touch ~/.local/share/applications/defaults.list<br />
touch ~/.local/share/applications/mimeapps.list<br />
mimetype img.jpg</p>
<p>// Get current font<br />
gsettings get org.gnome.desktop.interface monospace-font-name</p>
<p>gconftool-2 –get /apps/gnome-terminal/profiles/Unnamed/font<br />
gconftool-2 –set /apps/gnome-terminal/profiles/Unnamed/font –type string “courier new 12”</p>
</section>
<section id="mouse" class="level4">
<h4>Mouse</h4>
<p>sudo modprobe -r psmouse<br />
sudo modprobe psmouse proto=imps</p>
</section>
</section>
<section id="par-format-text-with-indent-and-hard-wrap" class="level3">
<h3>Par (format text with indent and hard-wrap)</h3>
<pre><code>    w - specify line length
    r - repeat characters in bodiless lines (empty line &quot;&quot; -&gt; &quot;    &quot;
    j - justifies text (add extra spaces to end at same point)
    e - remove ‘superflous’ lines
    q - handle nested quotations in plaintext email
    f - fit: good argumnent for all lines to be good len (even th first; 
      protected one</code></pre>
</section>
</section>
</body>
</html>
