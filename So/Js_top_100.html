<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Js_top_100.md – Js &lt;- StackOverflow top 100</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #232629;
    color: #7a7c7d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
div.sourceCode
  { color: #cfcfc2; background-color: #232629; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #cfcfc2; } /* Normal */
code span.al { color: #95da4c; } /* Alert */
code span.an { color: #3f8058; } /* Annotation */
code span.at { color: #2980b9; } /* Attribute */
code span.bn { color: #f67400; } /* BaseN */
code span.bu { color: #7f8c8d; } /* BuiltIn */
code span.cf { color: #fdbc4b; } /* ControlFlow */
code span.ch { color: #3daee9; } /* Char */
code span.cn { color: #27aeae; } /* Constant */
code span.co { color: #7a7c7d; } /* Comment */
code span.cv { color: #7f8c8d; } /* CommentVar */
code span.do { color: #a43340; } /* Documentation */
code span.dt { color: #2980b9; } /* DataType */
code span.dv { color: #f67400; } /* DecVal */
code span.er { color: #da4453; } /* Error */
code span.ex { color: #0099ff; } /* Extension */
code span.fl { color: #f67400; } /* Float */
code span.fu { color: #8e44ad; } /* Function */
code span.im { color: #27ae60; } /* Import */
code span.in { color: #c45b00; } /* Information */
code span.kw { color: #cfcfc2; } /* Keyword */
code span.op { color: #cfcfc2; } /* Operator */
code span.ot { color: #27ae60; } /* Other */
code span.pp { color: #27ae60; } /* Preprocessor */
code span.re { color: #2980b9; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #da4453; } /* SpecialString */
code span.st { color: #f44f4f; } /* String */
code span.va { color: #27aeae; } /* Variable */
code span.vs { color: #da4453; } /* VerbatimString */
code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="../Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="../Css/layout_toc.css" />
  <script type="text/javascript" src="../Css/js_masonry_desandro.js"></script>
</head>
<body>
<header>
<h1 class="title">Js &lt;- StackOverflow top 100</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#how-do-i-remove-a-particular-element-from-an-array-in-javascript-score-6032283-in-2019">1: How do I remove a particular element from an array in JavaScript? (score <span>6032283</span> in 2019)</a></li>
<li><a href="#how-do-i-redirect-to-another-webpage-score-5895389-in-2018">2: How do I redirect to another webpage? (score <span>5895389</span> in 2018)</a></li>
<li><a href="#how-to-check-whether-a-string-contains-a-substring-in-javascript-score-5745859-in-2019">3: How to check whether a string contains a substring in JavaScript? (score <span>5745859</span> in 2019)</a></li>
<li><a href="#how-to-check-whether-a-checkbox-is-checked-in-jquery-score-3985774-in-2019">4: How to check whether a checkbox is checked in jQuery? (score <span>3985774</span> in 2019)</a></li>
<li><a href="#for-each-over-an-array-in-javascript-score-3880811-in-2019">5: For-each over an array in JavaScript? (score <span>3880811</span> in 2019)</a></li>
<li><a href="#get-selected-value-in-dropdown-list-using-javascript-score-3750417-in-2019">6: Get selected value in dropdown list using JavaScript (score <span>3750417</span> in 2019)</a></li>
<li><a href="#how-can-i-get-query-string-values-in-javascript-score-3549269-in-2015">7: How can I get query string values in JavaScript? (score <span>3549269</span> in 2015)</a></li>
<li><a href="#loop-through-an-array-in-javascript-score-3479539-in-2018">8: Loop through an array in JavaScript (score <span>3479539</span> in 2018)</a></li>
<li><a href="#how-to-format-a-javascript-date-score-3218299-in-2018">9: How to format a JavaScript date (score <span>3218299</span> in 2018)</a></li>
<li><a href="#setting-checked-for-a-checkbox-with-jquery-score-3137898-in-2016">10: Setting “checked” for a checkbox with jQuery? (score <span>3137898</span> in 2016)</a></li>
<li><a href="#how-to-replace-all-occurrences-of-a-string-score-3132930-in-2019">11: How to replace all occurrences of a string? (score <span>3132930</span> in 2019)</a></li>
<li><a href="#how-to-append-something-to-an-array-score-2888739-in-2017">12: How to append something to an array? (score <span>2888739</span> in 2017)</a></li>
<li><a href="#how-do-i-include-a-javascript-file-in-another-javascript-file-score-2883256-in-2017">13: How do I include a JavaScript file in another JavaScript file? (score <span>2883256</span> in 2017)</a></li>
<li><a href="#how-to-validate-an-email-address-in-javascript-score-2751724-in-2019">14: How to validate an email address in JavaScript (score <span>2751724</span> in 2019)</a></li>
<li><a href="#get-the-current-url-with-javascript-score-2692673-in-2017">15: Get the current URL with JavaScript? (score <span>2692673</span> in 2017)</a></li>
<li><a href="#how-do-you-get-a-timestamp-in-javascript-score-2691791-in-2019">16: How do you get a timestamp in JavaScript? (score <span>2691791</span> in 2019)</a></li>
<li><a href="#how-to-check-emptyundefinednull-string-in-javascript-score-2687485-in-2018">17: How to check empty/undefined/null string in JavaScript? (score <span>2687485</span> in 2018)</a></li>
<li><a href="#how-do-i-check-if-an-element-is-hidden-in-jquery-score-2524355-in-2019">18: How do I check if an element is hidden in jQuery? (score <span>2524355</span> in 2019)</a></li>
<li><a href="#how-to-change-an-elements-class-with-javascript-score-2446526-in-2019">19: How to change an element’s class with JavaScript? (score <span>2446526</span> in 2019)</a></li>
<li><a href="#how-do-i-get-the-current-date-in-javascript-score-2442657-in-2018">20: How do I get the current date in JavaScript? (score <span>2442657</span> in 2018)</a></li>
<li><a href="#how-do-i-check-if-an-array-includes-a-value-in-javascript-score-2382154-in-2019">21: How do I check if an array includes a value in JavaScript? (score <span>2382154</span> in 2019)</a></li>
<li><a href="#how-do-i-empty-an-array-in-javascript-score-2380812-in-2015">22: How do I empty an array in JavaScript? (score <span>2380812</span> in 2015)</a></li>
<li><a href="#how-can-i-refresh-a-page-with-jquery-score-2363933-in-2013">23: How can I refresh a page with jQuery? (score <span>2363933</span> in 2013)</a></li>
<li><a href="#how-to-determine-if-variable-is-undefined-or-null-score-2363523-in-2016">24: How to determine if variable is ‘undefined’ or ‘null’? (score <span>2363523</span> in 2016)</a></li>
<li><a href="#open-a-url-in-a-new-tab-and-not-a-new-window-using-javascript-score-2357996-in-2019">25: Open a URL in a new tab (and not a new window) using JavaScript (score <span>2357996</span> in 2019)</a></li>
<li><a href="#what-is-the-javascript-version-of-sleep-score-2356533-in-2018">26: What is the JavaScript version of sleep()? (score <span>2356533</span> in 2018)</a></li>
<li><a href="#jquery-scroll-to-element-score-2328481-in-2017">27: jQuery scroll to element (score <span>2328481</span> in 2017)</a></li>
<li><a href="#which-href-value-should-i-use-for-javascript-links-or-javascriptvoid0-score-2233339-in-2017">28: Which “href” value should I use for JavaScript links, “#” or “javascript:void(0)”? (score <span>2233339</span> in 2017)</a></li>
<li><a href="#how-to-check-for-undefined-in-javascript-score-2185286-in-2014">29: How to check for “undefined” in JavaScript? (score <span>2185286</span> in 2014)</a></li>
<li><a href="#round-to-at-most-2-decimal-places-only-if-necessary-score-2144234-in-2019">30: Round to at most 2 decimal places (only if necessary) (score <span>2144234</span> in 2019)</a></li>
<li><a href="#disableenable-an-input-with-jquery-score-2086518-in-2016">31: Disable/enable an input with jQuery? (score <span>2086518</span> in 2016)</a></li>
<li><a href="#how-can-i-know-which-radio-button-is-selected-via-jquery-score-2061588-in-2017">32: How can I know which radio button is selected via jQuery? (score <span>2061588</span> in 2017)</a></li>
<li><a href="#how-do-i-remove-a-property-from-a-javascript-object-score-2051539-in-2017">33: How do I remove a property from a JavaScript object? (score <span>2051539</span> in 2017)</a></li>
<li><a href="#get-current-url-with-jquery-score-2039234-in-2018">34: Get current URL with jQuery? (score <span>2039234</span> in 2018)</a></li>
<li><a href="#get-selected-text-from-a-drop-down-list-select-box-using-jquery-score-1964098-in-2018">35: Get selected text from a drop-down list (select box) using jQuery (score <span>1964098</span> in 2018)</a></li>
<li><a href="#how-can-i-add-a-keyvalue-pair-to-a-javascript-object-score-1959719-in-2015">36: How can I add a key/value pair to a JavaScript object? (score <span>1959719</span> in 2015)</a></li>
<li><a href="#how-to-get-the-value-from-the-get-parameters-score-1930107-in-2016">37: How to get the value from the GET parameters? (score <span>1930107</span> in 2016)</a></li>
<li><a href="#how-can-i-create-a-two-dimensional-array-in-javascript-score-1897981-in-2015">38: How can I create a two dimensional array in JavaScript? (score <span>1897981</span> in 2015)</a></li>
<li><a href="#how-do-i-test-for-an-empty-javascript-object-score-1881498-in-2019">39: How do I test for an empty JavaScript object? (score <span>1881498</span> in 2019)</a></li>
<li><a href="#what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript-score-1868130-in-2017">40: What is the most efficient way to deep clone an object in JavaScript? (score <span>1868130</span> in 2017)</a></li>
<li><a href="#how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript-score-1858457-in-2019">41: How do I make the first letter of a string uppercase in JavaScript? (score <span>1858457</span> in 2019)</a></li>
<li><a href="#parse-json-in-javascript-score-1857919-in-2017">42: Parse JSON in JavaScript? (score <span>1857919</span> in 2017)</a></li>
<li><a href="#compare-two-dates-with-javascript-score-1785021-in-2019">43: Compare two dates with JavaScript (score <span>1785021</span> in 2019)</a></li>
<li><a href="#checking-if-a-key-exists-in-a-javascript-object-score-1769527-in-2019">44: Checking if a key exists in a JavaScript object? (score <span>1769527</span> in 2019)</a></li>
<li><a href="#how-do-i-loop-through-or-enumerate-a-javascript-object-score-1767834-in-2018">45: How do I loop through or enumerate a JavaScript object? (score <span>1767834</span> in 2018)</a></li>
<li><a href="#how-to-get-the-children-of-the-this-selector-score-1766627-in-2017">46: How to get the children of the $(this) selector? (score <span>1766627</span> in 2017)</a></li>
<li><a href="#how-can-i-convert-a-string-to-boolean-in-javascript-score-1764203-in">47: How can I convert a string to boolean in JavaScript? (score <span>1764203</span> in )</a></li>
<li><a href="#check-if-checkbox-is-checked-with-jquery-score-1743815-in-2018">48: Check if checkbox is checked with jQuery (score <span>1743815</span> in 2018)</a></li>
<li><a href="#how-do-i-correctly-clone-a-javascript-object-score-1734289-in-2018">49: How do I correctly clone a JavaScript object? (score <span>1734289</span> in 2018)</a></li>
<li><a href="#disable-same-origin-policy-in-chrome-score-1730961-in-2019">50: Disable same origin policy in Chrome (score <span>1730961</span> in 2019)</a></li>
<li><a href="#what-does-javascriptvoid0-mean-score-1723008-in-2017">51: What does “javascript:void(0)” mean? (score <span>1723008</span> in 2017)</a></li>
<li><a href="#which-equals-operator-vs-should-be-used-in-javascript-comparisons-score-1695940-in-2017">52: Which equals operator (== vs ===) should be used in JavaScript comparisons? (score <span>1695940</span> in 2017)</a></li>
<li><a href="#how-can-i-format-numbers-as-currency-string-in-javascript-score-1687668-in-2019">53: How can I format numbers as currency string in JavaScript? (score <span>1687668</span> in 2019)</a></li>
<li><a href="#how-do-i-copy-to-the-clipboard-in-javascript-score-1678830-in-2017">54: How do I copy to the clipboard in JavaScript? (score <span>1678830</span> in 2017)</a></li>
<li><a href="#how-to-insert-an-item-into-an-array-at-a-specific-index-javascript-score-1664635-in-2019">55: How to insert an item into an array at a specific index (JavaScript)? (score <span>1664635</span> in 2019)</a></li>
<li><a href="#creating-a-div-element-in-jquery-score-1658176-in-2016">56: Creating a div element in jQuery (score <span>1658176</span> in 2016)</a></li>
<li><a href="#length-of-a-javascript-object-score-1658003-in-2019">57: Length of a JavaScript object (score <span>1658003</span> in 2019)</a></li>
<li><a href="#how-can-i-display-a-javascript-object-score-1635768-in-2016">58: How can I display a JavaScript object? (score <span>1635768</span> in 2016)</a></li>
<li><a href="#create-guid-uuid-in-javascript-score-1617271-in-2014">59: Create GUID / UUID in JavaScript? (score <span>1617271</span> in 2014)</a></li>
<li><a href="#is-there-a-standard-function-to-check-for-null-undefined-or-blank-variables-in-javascript-score-1586860-in-2012">60: Is there a standard function to check for null, undefined, or blank variables in JavaScript? (score <span>1586860</span> in 2012)</a></li>
<li><a href="#add-table-row-in-jquery-score-1585868-in-2015">61: Add table row in jQuery (score <span>1585868</span> in 2015)</a></li>
<li><a href="#determine-whether-an-array-contains-a-value-score-1581682-in-2015">62: Determine whether an array contains a value (score <span>1581682</span> in 2015)</a></li>
<li><a href="#scroll-to-the-top-of-the-page-using-javascript-score-1573088-in-2019">63: Scroll to the top of the page using JavaScript? (score <span>1573088</span> in 2019)</a></li>
<li><a href="#javascript-equivalent-to-printfstring.format-score-1572835-in-2018">64: JavaScript equivalent to printf/String.Format (score <span>1572835</span> in 2018)</a></li>
<li><a href="#javascript-chopslicetrim-off-last-character-in-string-score-1568123-in-2017">65: JavaScript chop/slice/trim off last character in string (score <span>1568123</span> in 2017)</a></li>
<li><a href="#how-to-loop-through-a-plain-javascript-object-with-the-objects-as-members-score-1555849-in-2018">66: How to loop through a plain JavaScript object with the objects as members? (score <span>1555849</span> in 2018)</a></li>
<li><a href="#how-do-i-add-a-class-to-a-given-element-score-1505892-in-2019">67: How do I add a class to a given element? (score <span>1505892</span> in 2019)</a></li>
<li><a href="#convert-js-object-to-json-string-score-1499332-in-2019">68: Convert JS object to JSON string (score <span>1499332</span> in 2019)</a></li>
<li><a href="#validate-decimal-numbers-in-javascript---isnumeric-score-1447994-in-2016">69: Validate decimal numbers in JavaScript - IsNumeric() (score <span>1447994</span> in 2016)</a></li>
<li><a href="#encode-url-in-javascript-score-1436477-in-2014">70: Encode URL in JavaScript? (score <span>1436477</span> in 2014)</a></li>
<li><a href="#what-is-the-best-way-to-detect-a-mobile-device-score-1433708-in-2019">71: What is the best way to detect a mobile device? (score <span>1433708</span> in 2019)</a></li>
<li><a href="#where-can-i-find-documentation-on-formatting-a-date-in-javascript-score-1423476-in-2018">72: Where can I find documentation on formatting a date in JavaScript? (score <span>1423476</span> in 2018)</a></li>
<li><a href="#how-do-i-completely-uninstall-node.js-and-reinstall-from-beginning-mac-os-x-score-1423100-in-2017">73: How do I completely uninstall Node.js, and reinstall from beginning (Mac OS X) (score <span>1423100</span> in 2017)</a></li>
<li><a href="#how-to-check-if-an-object-is-an-array-score-1421658-in-2019">74: How to check if an object is an array? (score <span>1421658</span> in 2019)</a></li>
<li><a href="#get-the-size-of-the-screen-current-web-page-and-browser-window-score-1416478-in-2017">75: Get the size of the screen, current web page and browser window (score <span>1416478</span> in 2017)</a></li>
<li><a href="#how-does-access-control-allow-origin-header-work-score-1414222-in-2016">76: How does Access-Control-Allow-Origin header work? (score <span>1414222</span> in 2016)</a></li>
<li><a href="#remove-element-by-id-score-1399549-in-2016">77: Remove element by id (score <span>1399549</span> in 2016)</a></li>
<li><a href="#javascript-check-if-variable-exists-is-definedinitialized-score-1385078-in-2015">78: JavaScript check if variable exists (is defined/initialized) (score <span>1385078</span> in 2015)</a></li>
<li><a href="#writing-files-in-node.js-score-1381849-in-2018">79: Writing files in Node.js (score <span>1381849</span> in 2018)</a></li>
<li><a href="#how-do-javascript-closures-work-score-1379921-in-2017">80: How do JavaScript closures work? (score <span>1379921</span> in 2017)</a></li>
<li><a href="#javascript-post-request-like-a-form-submit-score-1368289-in-2017">81: JavaScript post request like a form submit (score <span>1368289</span> in 2017)</a></li>
<li><a href="#how-to-change-the-href-for-a-hyperlink-using-jquery-score-1363581-in-2016">82: How to change the href for a hyperlink using jQuery (score <span>1363581</span> in 2016)</a></li>
<li><a href="#how-can-i-select-an-element-by-name-with-jquery-score-1362990-in-2018">83: How can I select an element by name with jQuery? (score <span>1362990</span> in 2018)</a></li>
<li><a href="#jquery-get-selected-option-from-dropdown-score-1350883-in-2017">84: jQuery Get Selected Option From Dropdown (score <span>1350883</span> in 2017)</a></li>
<li><a href="#creating-multiline-strings-in-javascript-score-1336887-in-2013">85: Creating multiline strings in JavaScript (score <span>1336887</span> in 2013)</a></li>
<li><a href="#trigger-a-button-click-with-javascript-on-the-enter-key-in-a-text-box-score-1329593-in-2015">86: Trigger a button click with JavaScript on the Enter key in a text box (score <span>1329593</span> in 2015)</a></li>
<li><a href="#deleting-array-elements-in-javascript---delete-vs-splice-score-1329284-in-2016">87: Deleting array elements in JavaScript - delete vs splice (score <span>1329284</span> in 2016)</a></li>
<li><a href="#sort-array-of-objects-by-string-property-value-score-1325247-in-2018">88: Sort array of objects by string property value (score <span>1325247</span> in 2018)</a></li>
<li><a href="#how-do-i-return-the-response-from-an-asynchronous-call-score-1313831-in-2019">89: How do I return the response from an asynchronous call? (score <span>1313831</span> in 2019)</a></li>
<li><a href="#convert-a-string-to-an-integer-score-1303678-in-2019">90: Convert a string to an integer? (score <span>1303678</span> in 2019)</a></li>
<li><a href="#generate-random-number-between-two-numbers-in-javascript-score-1293869-in-2016">91: Generate random number between two numbers in JavaScript (score <span>1293869</span> in 2016)</a></li>
<li><a href="#how-can-i-upload-files-asynchronously-score-1286681-in-2019">92: How can I upload files asynchronously? (score <span>1286681</span> in 2019)</a></li>
<li><a href="#find-object-by-id-in-an-array-of-javascript-objects-score-1282573-in-2016">93: Find object by id in an array of JavaScript objects (score <span>1282573</span> in 2016)</a></li>
<li><a href="#remove-duplicate-values-from-js-array-score-1269025-in-2018">94: Remove duplicate values from JS array (score <span>1269025</span> in 2018)</a></li>
<li><a href="#how-do-i-modify-the-url-without-reloading-the-page-score-1266619-in-2019">95: How do I modify the URL without reloading the page? (score <span>1266619</span> in 2019)</a></li>
<li><a href="#convert-a-unix-timestamp-to-time-in-javascript-score-1259520-in-2018">96: Convert a Unix timestamp to time in JavaScript (score <span>1259520</span> in 2018)</a></li>
<li><a href="#retrieve-the-position-xy-of-an-html-element-score-1258174-in-2013">97: Retrieve the position (X,Y) of an HTML element (score <span>1258174</span> in 2013)</a></li>
<li><a href="#pure-javascript-equivalent-of-jquerys-.ready---how-to-call-a-function-when-the-pagedom-is-ready-for-it-score-1254609-in-2017">98: Pure JavaScript equivalent of jQuery’s $.ready() - how to call a function when the page/DOM is ready for it (score <span>1254609</span> in 2017)</a></li>
<li><a href="#check-if-element-exists-in-jquery-score-1244831-in-2013">99: Check if element exists in jQuery (score <span>1244831</span> in 2013)</a></li>
<li><a href="#how-do-i-get-started-with-node.js-score-1227201-in-2013">100: How do I get started with Node.js (score <span>1227201</span> in 2013)</a></li>
</ul>
</nav>
<section class="level2">
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
<section id="how-do-i-remove-a-particular-element-from-an-array-in-javascript-score-6032283-in-2019" class="level3">
<h3>1: How do I remove a particular element from an array in JavaScript? (score <a href="https://stackoverflow.com/q/5767325.html">6032283</a> in 2019)</h3>
<section id="question" class="level4">
<h4>Question</h4>
<p>I have an array of numbers, and I’m using the <code>.push()</code> method to add elements to it.</p>
<p>Is there a simple way to remove a specific element from an array? The equivalent of something like <code>array.remove(number);</code>.</p>
<p>I have to use <em>core</em> JavaScript - frameworks are not allowed.</p>
</section>
<section id="answer-accepted-score-10772" class="level4">
<h4>Answer accepted (score 10772)</h4>
<p>Find the <code>index</code> of the array element you want to remove, and then remove that index with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" rel="noreferrer"><code>splice</code></a>.</p>
<blockquote>
<p>
The splice() method changes the contents of an array by removing existing elements and/or adding new elements.
</p>
</blockquote>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var array = [2, 5, 9]; console.log(array) var index = array.indexOf(5); if (index &amp;gt; -1) {   array.splice(index, 1); } // array = [2, 9] console.log(array);</code></p>
</div>
</div>
<p>The second parameter of <code>splice</code> is the number of elements to remove. Note that <code>splice</code> modifies the array in place and returns a new array containing the elements that have been removed.</p>
</section>
<section id="answer-2-score-1131" class="level4">
<h4>Answer 2 (score 1131)</h4>
<p>I don’t know how you are expecting <code>array.remove(int)</code> to behave. There are three possibilities I can think of that you might be wanting.</p>
<p>To remove an element of an array at an index <code>i</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">array</span>.<span class="at">splice</span>(i<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a></code></pre></div>
<p>If you want to remove every element with value <code>number</code> from the array:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="cf">for</span>(<span class="kw">var</span> i <span class="op">=</span> <span class="va">array</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&amp;</span>gt<span class="op">;=</span> <span class="dv">0</span><span class="op">;</span> i<span class="op">--</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="cf">if</span>(array[i] <span class="op">===</span> number) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">       <span class="va">array</span>.<span class="at">splice</span>(i<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>If you just want to make the element at index <code>i</code> no longer exist, but you don’t want the indexes of the other elements to change:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">delete</span> array[i]<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-985" class="level4">
<h4>Answer 3 (score 985)</h4>
<h5>
Edited on 2016 October
</h1>
<ul>
<li>
Do it simple, intuitive and explicit (<a href="https://en.wikipedia.org/wiki/Occam%27s_razor" rel="noreferrer">Occam’s razor</a>)
</li>
<li>
Do it immutable (original array stay unchanged)
</li>
<li>
Do it with standard JavaScript functions, if your browser don’t support them - <strong>use polyfill</strong>
</li>
</ul>
<p>In this code example I use <strong>“array.filter(…)”</strong> function to remove unwanted items from array. This function doesn’t change the original array and creates a new one. If your browser don’t support this function (e.g. Internet Explorer before version 9, or Firefox before version 1.5), consider using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter#Polyfill" rel="noreferrer"><strong>the filter polyfill from Mozilla</strong></a>.</p>
<h5>
Removing item (ECMA-262 Edition 5 code aka oldstyle JavaScript)
</h1>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">var</span> value <span class="op">=</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">var</span> arr <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5">arr <span class="op">=</span> <span class="va">arr</span>.<span class="at">filter</span>(<span class="kw">function</span>(item) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="cf">return</span> item <span class="op">!==</span> value</a>
<a class="sourceLine" id="cb4-7" title="7"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="va">console</span>.<span class="at">log</span>(arr)</a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">// [ 1, 2, 4, 5 ]</span></a></code></pre></div>
<h5>
Removing item (ECMAScript 6 code)
</h1>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">let</span> value <span class="op">=</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">let</span> arr <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5">arr <span class="op">=</span> <span class="va">arr</span>.<span class="at">filter</span>(item <span class="op">=&amp;</span>gt<span class="op">;</span> item <span class="op">!==</span> value)</a>
<a class="sourceLine" id="cb5-6" title="6"></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="va">console</span>.<span class="at">log</span>(arr)</a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">// [ 1, 2, 4, 5 ]</span></a></code></pre></div>
<p><strong>IMPORTANT</strong> ECMAScript 6 “() =&gt; {}” arrow function syntax is not supported in Internet Explorer at all, Chrome before 45 version, Firefox before 22 version, and Safari before 10 version. To use ECMAScript 6 syntax in old browsers you can use <a href="http://babeljs.io" rel="noreferrer">BabelJS</a>.</p>
<hr>
<h5>
Removing multiple items (ECMAScript 7 code)
</h1>
<p>An additional advantage of this method is that you can remove multiple items</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">let</span> forDeletion <span class="op">=</span> [<span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb6-2" title="2"></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw">let</span> arr <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5">arr <span class="op">=</span> <span class="va">arr</span>.<span class="at">filter</span>(item <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">!</span><span class="va">forDeletion</span>.<span class="at">includes</span>(item))</a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co">// !!! Read below about array.includes(...) support !!!</span></a>
<a class="sourceLine" id="cb6-7" title="7"></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="va">console</span>.<span class="at">log</span>(arr)</a>
<a class="sourceLine" id="cb6-9" title="9"><span class="co">// [ 1, 4 ]</span></a></code></pre></div>
<p><strong>IMPORTANT</strong> “array.includes(…)” function is not supported in Internet Explorer at all, Chrome before 47 version, Firefox before 43 version, Safari before 9 version, and Edge before 14 version so <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Polyfill" rel="noreferrer"><strong>here is polyfill from Mozilla</strong></a>.</p>
<h5>
Removing multiple items (in the future, maybe)
</h1>
<p>If the <a href="https://github.com/tc39/proposal-bind-operator" rel="noreferrer">“This-Binding Syntax”</a> proposal is ever accepted, you’ll be able to do this:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// array-lib.js</span></a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="im">export</span> <span class="kw">function</span> <span class="at">remove</span>(...<span class="at">forDeletion</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-4" title="4">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">filter</span>(item <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">!</span><span class="va">forDeletion</span>.<span class="at">includes</span>(item))</a>
<a class="sourceLine" id="cb7-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb7-6" title="6"></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">// main.js</span></a>
<a class="sourceLine" id="cb7-8" title="8"></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="im">import</span> <span class="op">{</span> remove <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./array-lib.js&#39;</span></a>
<a class="sourceLine" id="cb7-10" title="10"></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="kw">let</span> arr <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb7-12" title="12"></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="co">// :: This-Binding Syntax Proposal</span></a>
<a class="sourceLine" id="cb7-14" title="14"><span class="co">// using &quot;remove&quot; function as &quot;virtual method&quot;</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="co">// without extending Array.prototype</span></a>
<a class="sourceLine" id="cb7-16" title="16">arr <span class="op">=</span> arr<span class="op">::</span><span class="at">remove</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb7-17" title="17"></a>
<a class="sourceLine" id="cb7-18" title="18"><span class="va">console</span>.<span class="at">log</span>(arr)</a>
<a class="sourceLine" id="cb7-19" title="19"><span class="co">// [ 1, 4 ]</span></a></code></pre></div>
<p><a href="https://babeljs.io/repl/#?babili=false&amp;evaluate=true&amp;lineWrap=false&amp;presets=es2015%2Creact%2Cstage-0%2Cstage-2&amp;targets=&amp;browsers=chrome%20%3E%2050&amp;builtIns=false&amp;code=%20%20%20%20function%20remove(...forDeletion)%20%7B%0A%20%20%20%20%20%20%20%20return%20this.filter(item%20%3D%3E%20!forDeletion.includes(item))%0A%20%20%20%20%7D%0A%0A%20%20%20%20let%20arr%20%3D%20%5B1%2C%202%2C%203%2C%204%2C%205%2C%203%5D%0A%0A%20%20%20%20%2F%2F%20%3A%3A%20This-Binding%20Syntax%20Proposal%0A%20%20%20%20%2F%2F%20using%20remove%20function%20as%20%22virtual%20method%22%0A%20%20%20%20arr%20%3D%20arr%3A%3Aremove(2%2C%203%2C%205)%0A%0A%20%20%20%20console.log(arr)%0A%20%20%20%20%2F%2F%20%5B%201%2C%204%20%5D" rel="noreferrer"><strong>Try it yourself in BabelJS :)</strong></a></p>
<p><strong>Reference</strong></p>
<ul>
<li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes" rel="noreferrer">Array.prototype.includes</a>
</li>
<li>
<a href="https://vanslaars.io/post/create-pipe-function/" rel="noreferrer">Functional composition</a>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-redirect-to-another-webpage-score-5895389-in-2018" class="level3">
<h3>2: How do I redirect to another webpage? (score <a href="https://stackoverflow.com/q/503093.html">5895389</a> in 2018)</h3>
<section id="question-1" class="level4">
<h4>Question</h4>
<p>How can I redirect the user from one page to another using jQuery or pure JavaScript?</p>
</section>
<section id="answer-accepted-score-14310" class="level4">
<h4>Answer accepted (score 14310)</h4>
<h5>
One does not simply redirect using jQuery
</h2>
<p>jQuery is not necessary, and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/replace" rel="noreferrer"><strong><code>window.location.replace(...)</code></strong></a> will best simulate an HTTP redirect.</p>
<p><code>window.location.replace(...)</code> is better than using <code>window.location.href</code>, because <code>replace()</code> does not keep the originating page in the session history, meaning the user won’t get stuck in a never-ending back-button fiasco.</p>
<p>
If you want to simulate someone clicking on a link, use <strong><code>location.href</code></strong>
</p>
<p>If you want to simulate an HTTP redirect, use <strong><code>location.replace</code></strong></p>
<p><strong>For example:</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// similar behavior as an HTTP redirect</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="va">window</span>.<span class="va">location</span>.<span class="at">replace</span>(<span class="st">&quot;http://stackoverflow.com&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-3" title="3"></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">// similar behavior as clicking on a link</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="va">window</span>.<span class="va">location</span>.<span class="at">href</span> <span class="op">=</span> <span class="st">&quot;http://stackoverflow.com&quot;</span><span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-1627" class="level4">
<h4>Answer 2 (score 1627)</h4>
<p><strong>WARNING:</strong> This answer has merely been provided as a possible solution; it is obviously <em>not</em> the best solution, as it requires jQuery. Instead, prefer the pure JavaScript solution.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="at">$</span>(location).<span class="at">attr</span>(<span class="st">&#39;href&#39;</span><span class="op">,</span> <span class="st">&#39;http://stackoverflow.com&#39;</span>)</a></code></pre></div>
</section>
<section id="answer-3-score-622" class="level4">
<h4>Answer 3 (score 622)</h4>
<h5>
Standard “vanilla” JavaScript way to redirect a page
</h1>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="va">window</span>.<span class="va">location</span>.<span class="at">href</span> <span class="op">=</span> <span class="st">&#39;newPage.html&#39;</span><span class="op">;</span></a></code></pre></div>
<h5>
Or more simply: (since <code>window</code> is Global)
</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="va">location</span>.<span class="at">href</span> <span class="op">=</span> <span class="st">&#39;newPage.html&#39;</span><span class="op">;</span></a></code></pre></div>
<hr>
<blockquote>
<p><strong>If you are here because you are <em>losing</em> HTTP_REFERER when redirecting, keep reading:</strong></p>
(Otherwise ignore this last part)
</blockquote>
<hr>
<p>The following section is for those using <code>HTTP_REFERER</code> as one of many secure measures (although it isn’t a great protective measure). If you’re using <a href="http://en.wikipedia.org/wiki/Internet_Explorer_8" rel="noreferrer">Internet Explorer 8</a> or lower, these variables get lost when using any form of JavaScript page redirection (location.href, etc.).</p>
<p>Below we are going to implement an alternative for <strong>IE8 &amp; lower</strong> so that we don’t lose HTTP_REFERER. Otherwise you can almost always simply use <code>window.location.href</code>.</p>
<p>
Testing against <code>HTTP_REFERER</code> (URL pasting, session, etc.) <em>can</em> be helpful in telling whether a request is legitimate. <em>(<strong>Note:</strong> there are also ways to work-around / spoof these referrers, as noted by droop’s link in the comments)</em>
</p>
<hr>
<p>Simple cross-browser testing solution (fallback to window.location.href for Internet Explorer 9+ and all other browsers)</p>
<p><strong>Usage: <code>redirect('anotherpage.aspx');</code></strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">function</span> <span class="at">redirect</span> (url) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">    <span class="kw">var</span> ua        <span class="op">=</span> <span class="va">navigator</span>.<span class="va">userAgent</span>.<span class="at">toLowerCase</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb12-3" title="3">        isIE      <span class="op">=</span> <span class="va">ua</span>.<span class="at">indexOf</span>(<span class="st">&#39;msie&#39;</span>) <span class="op">!==</span> <span class="dv">-1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb12-4" title="4">        version   <span class="op">=</span> <span class="at">parseInt</span>(<span class="va">ua</span>.<span class="at">substr</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-5" title="5"></a>
<a class="sourceLine" id="cb12-6" title="6">    <span class="co">// Internet Explorer 8 and lower</span></a>
<a class="sourceLine" id="cb12-7" title="7">    <span class="cf">if</span> (isIE <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> version <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">9</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-8" title="8">        <span class="kw">var</span> link <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;a&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-9" title="9">        <span class="va">link</span>.<span class="at">href</span> <span class="op">=</span> url<span class="op">;</span></a>
<a class="sourceLine" id="cb12-10" title="10">        <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(link)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-11" title="11">        <span class="va">link</span>.<span class="at">click</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb12-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb12-13" title="13"></a>
<a class="sourceLine" id="cb12-14" title="14">    <span class="co">// All other browsers can use the standard window.location.href (they don&#39;t lose HTTP_REFERER like Internet Explorer 8 &amp;amp; lower does)</span></a>
<a class="sourceLine" id="cb12-15" title="15">    <span class="cf">else</span> <span class="op">{</span> </a>
<a class="sourceLine" id="cb12-16" title="16">        <span class="va">window</span>.<span class="va">location</span>.<span class="at">href</span> <span class="op">=</span> url<span class="op">;</span> </a>
<a class="sourceLine" id="cb12-17" title="17">    <span class="op">}</span></a>
<a class="sourceLine" id="cb12-18" title="18"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-check-whether-a-string-contains-a-substring-in-javascript-score-5745859-in-2019" class="level3">
<h3>3: How to check whether a string contains a substring in JavaScript? (score <a href="https://stackoverflow.com/q/1789945.html">5745859</a> in 2019)</h3>
<section id="question-2" class="level4">
<h4>Question</h4>
<p>Usually I would expect a <code>String.contains()</code> method, but there doesn’t seem to be one.</p>
<p>What is a reasonable way to check for this?</p>
</section>
<section id="answer-accepted-score-13188" class="level4">
<h4>Answer accepted (score 13188)</h4>
<p>ES6 introduced <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes" rel="noreferrer"><code>String.prototype.includes</code></a>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var string = “foo”, substring = “oo”;</p>
<p>console.log(string.includes(substring));```</p>
</div>
</div>
<p><code>includes</code> <a href="https://caniuse.com/#feat=es6-string-includes" rel="noreferrer">doesn’t have IE support</a>, though. In an ES5 or older environment, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf" rel="noreferrer"><code>String.prototype.indexOf</code></a>, which returns −1 when it doesn’t find the substring, can be used instead:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var string = “foo”, substring = “oo”;</p>
<p>console.log(string.indexOf(substring) !== -1);```</p>
</div>
</div>
</section>
<section id="answer-2-score-490" class="level4">
<h4>Answer 2 (score 490)</h4>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes" rel="noreferrer">There is a <code>String.prototype.includes</code> in ES6</a>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="st">&quot;potato&quot;</span>.<span class="at">includes</span>(<span class="st">&quot;to&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="op">&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a></code></pre></div>
<p>Note that this <a href="https://caniuse.com/?v=1#feat=es6-string-includes" rel="noreferrer">does not work in Internet Explorer or some other old browsers</a> with no or incomplete ES6 support. To make it work in old browsers, you may wish to use a transpiler like <a href="https://babeljs.io/" rel="noreferrer">Babel</a>, a shim library like <a href="https://github.com/paulmillr/es6-shim" rel="noreferrer">es6-shim</a>, or this <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes#Polyfill" rel="noreferrer">polyfill from MDN</a>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="cf">if</span> (<span class="op">!</span><span class="va">String</span>.<span class="va">prototype</span>.<span class="at">includes</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="va">String</span>.<span class="va">prototype</span>.<span class="at">includes</span> <span class="op">=</span> <span class="kw">function</span>(search<span class="op">,</span> start) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="st">&#39;use strict&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="cf">if</span> (<span class="kw">typeof</span> start <span class="op">!==</span> <span class="st">&#39;number&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-5" title="5">      start <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb14-7" title="7"></a>
<a class="sourceLine" id="cb14-8" title="8">    <span class="cf">if</span> (start <span class="op">+</span> <span class="va">search</span>.<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="kw">this</span>.<span class="at">length</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-9" title="9">      <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-10" title="10">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-11" title="11">      <span class="cf">return</span> <span class="kw">this</span>.<span class="at">indexOf</span>(search<span class="op">,</span> start) <span class="op">!==</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb14-13" title="13">  <span class="op">};</span></a>
<a class="sourceLine" id="cb14-14" title="14"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-19" class="level4">
<h4>Answer 3 (score 19)</h4>
<p>Another alternative is <a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm" rel="noreferrer">KMP</a>.</p>
<p>The KMP algorithm searches for a length-<em>m</em> substring in a length-<em>n</em> string in worst-case O(<em>n</em>+<em>m</em>) time, compared to a worst case of O(<em>n</em>⋅<em>m</em>) for the naive algorithm, so using KMP may be reasonable if you care about worst-case time complexity.</p>
<p>Here’s a JavaScript implementation by Project Nayuki, taken from <a href="https://www.nayuki.io/res/knuth-morris-pratt-string-matching/kmp-string-matcher.js" rel="noreferrer">https://www.nayuki.io/res/knuth-morris-pratt-string-matching/kmp-string-matcher.js</a>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="co">// Searches for the given pattern string in the given text string using the Knuth-Morris-Pratt string matching algorithm.</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="co">// If the pattern is found, this returns the index of the start of the earliest match in &#39;text&#39;. Otherwise -1 is returned.</span></a></code></pre></div>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function kmpSearch(pattern, text) { if (pattern.length == 0) return 0; // Immediate match</p>
<p>// Compute longest suffix-prefix table var lsp = [0]; // Base case for (var i = 1; i &lt; pattern.length; i++) { var j = lsp[i - 1]; // Start by assuming we’re extending the previous LSP while (j &gt; 0 &amp;&amp; pattern.charAt(i) != pattern.charAt(j)) j = lsp[j - 1]; if (pattern.charAt(i) == pattern.charAt(j)) j++; lsp.push(j); }</p>
<p>// Walk through text string var j = 0; // Number of chars matched in pattern for (var i = 0; i &lt; text.length; i++) { while (j &gt; 0 &amp;&amp; text.charAt(i) != pattern.charAt(j)) j = lsp[j - 1]; // Fall back in the pattern if (text.charAt(i) == pattern.charAt(j)) { j++; // Next char matched, increment position if (j == pattern.length) return i - (j - 1); } } return -1; // Not found }</p>
<p>console.log(kmpSearch(‘ays’, ‘haystack’) != -1) // true console.log(kmpSearch(‘asdf’, ‘haystack’) != -1) // false```</p>
</div>
</div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-check-whether-a-checkbox-is-checked-in-jquery-score-3985774-in-2019" class="level3">
<h3>4: How to check whether a checkbox is checked in jQuery? (score <a href="https://stackoverflow.com/q/901712.html">3985774</a> in 2019)</h3>
<section id="question-3" class="level4">
<h4>Question</h4>
<p>I need to check the <code>checked</code> property of a checkbox and perform an action based on the checked property using jQuery.</p>
<p>For example, if the age checkbox is checked, then I need to show a textbox to enter age, else hide the textbox.</p>
<p>But the following code returns <code>false</code> by default:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript if ($('#isAgeSelected').attr('checked')) {     $(&quot;#txtAge&quot;).show(); } else {     $(&quot;#txtAge&quot;).hide(); }</code> ```javascript &lt;script src=“https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js”&gt;&lt;/script&gt;</p>
<p>&lt;input type=“checkbox” id=“isAgeSelected”/&gt;</p>
<p>&lt;div id=“txtAge” style=“display:none”&gt; Age is selected &lt;/div&gt;```</p>
</div>
</div>
<p>How do I successfully query the <code>checked</code> property?</p>
</section>
<section id="answer-accepted-score-93" class="level4">
<h4>Answer accepted (score 93)</h4>
<p>This worked for me:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="at">$get</span>(<span class="st">&quot;isAgeSelected &quot;</span>).<span class="at">checked</span> <span class="op">==</span> <span class="kw">true</span></a></code></pre></div>
<p>Where <code>isAgeSelected</code> is the id of the control.</p>
<p>Also, <span class="citation" data-cites="karim79">@karim79</span>’s <a href="https://stackoverflow.com/questions/901712/check-checkbox-checked-property-using-jquery/901727#901727">answer</a> works fine. I am not sure what I missed at the time I tested it.</p>
<p><strong>Note, this is answer uses Microsoft Ajax, not jQuery</strong></p>
</section>
<section id="answer-2-score-3326" class="level4">
<h4>Answer 2 (score 3326)</h4>
<blockquote>
How do I successfully query the checked property?
</blockquote>
<p>The <code>checked</code> property of a checkbox DOM element will give you the <code>checked</code> state of the element.</p>
<p>Given your existing code, you could therefore do this:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="cf">if</span>(<span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;isAgeSelected&#39;</span>).<span class="at">checked</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb17-2" title="2">    <span class="at">$</span>(<span class="st">&quot;#txtAge&quot;</span>).<span class="at">show</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-4" title="4">    <span class="at">$</span>(<span class="st">&quot;#txtAge&quot;</span>).<span class="at">hide</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>However, there’s a much prettier way to do this, using <a href="http://api.jquery.com/toggle/" rel="noreferrer"><code>toggle</code></a>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p><code>javascript $('#isAgeSelected').click(function() {     $(&quot;#txtAge&quot;).toggle(this.checked); });</code> <code>javascript &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;input type=&quot;checkbox&quot; id=&quot;isAgeSelected&quot;/&amp;gt; &amp;lt;div id=&quot;txtAge&quot; style=&quot;display:none&quot;&amp;gt;Age is something&amp;lt;/div&amp;gt;</code></p>
</div>
</div>
</section>
<section id="answer-3-score-1753" class="level4">
<h4>Answer 3 (score 1753)</h4>
<p>Use jQuery’s <a href="http://api.jquery.com/is/" rel="noreferrer">is()</a> function:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="cf">if</span>(<span class="at">$</span>(<span class="st">&quot;#isAgeSelected&quot;</span>).<span class="at">is</span>(<span class="st">&#39;:checked&#39;</span>))</a>
<a class="sourceLine" id="cb18-2" title="2">    <span class="at">$</span>(<span class="st">&quot;#txtAge&quot;</span>).<span class="at">show</span>()<span class="op">;</span>  <span class="co">// checked</span></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="cf">else</span></a>
<a class="sourceLine" id="cb18-4" title="4">    <span class="at">$</span>(<span class="st">&quot;#txtAge&quot;</span>).<span class="at">hide</span>()<span class="op">;</span>  <span class="co">// unchecked</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="for-each-over-an-array-in-javascript-score-3880811-in-2019" class="level3">
<h3>5: For-each over an array in JavaScript? (score <a href="https://stackoverflow.com/q/9329446.html">3880811</a> in 2019)</h3>
<section id="question-4" class="level4">
<h4>Question</h4>
<p>How can I loop through all the entries in an array using JavaScript?</p>
<p>I thought it was something like this:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="at">forEach</span>(instance <span class="kw">in</span> theArray)</a></code></pre></div>
<p>Where <code>theArray</code> is my array, but this seems to be incorrect.</p>
</section>
<section id="answer-accepted-score-6716" class="level4">
<h4>Answer accepted (score 6716)</h4>
<p><strong>TL;DR</strong></p>
<ul>
<li>
Don’t use <code>for-in</code> unless you use it with safeguards or are at least aware of why it might bite you.
</li>
<li>
<p>
Your best bets are usually
</p>
<ul>
<li>
a <code>for-of</code> loop (ES2015+ only),
</li>
<li>
<code>Array#forEach</code> (<a href="https://tc39.github.io/ecma262/#sec-array.prototype.foreach" rel="noreferrer"><code>spec</code></a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noreferrer"><code>MDN</code></a>) (or its relatives <code>some</code> and such) (ES5+ only),
</li>
<li>
a simple old-fashioned <code>for</code> loop,
</li>
<li>
or <code>for-in</code> with safeguards.
</li>
</ul>
</li>
</ul>
<p>But there’s <strong>lots</strong> more to explore, read on…</p>
<hr>
<p>JavaScript has powerful semantics for looping through arrays and array-like objects. I’ve split the answer into two parts: Options for genuine arrays, and options for things that are just array-<em>like</em>, such as the <code>arguments</code> object, other iterable objects (ES2015+), DOM collections, and so on.</p>
<p>I’ll quickly note that you can use the ES2015 options <em>now</em>, even on ES5 engines, by <em>transpiling</em> ES2015 to ES5. Search for “ES2015 transpiling” / “ES6 transpiling” for more…</p>
<p>Okay, let’s look at our options:</p>
<h5>
For Actual Arrays
</h2>
<p>You have three options in <a href="http://ecma-international.org/ecma-262/5.1/" rel="noreferrer">ECMAScript 5</a> (“ES5”), the version most broadly supported at the moment, and two more added in <a href="http://www.ecma-international.org/ecma-262/6.0/index.html" rel="noreferrer">ECMAScript 2015</a> (“ES2015”, “ES6”):</p>
<ol>
<li>
Use <code>forEach</code> and related (ES5+)
</li>
<li>
Use a simple <code>for</code> loop
</li>
<li>
Use <code>for-in</code> <em>correctly</em>
</li>
<li>
Use <code>for-of</code> (use an iterator implicitly) (ES2015+)
</li>
<li>
Use an iterator explicitly (ES2015+)
</li>
</ol>
<p>Details:</p>
<h5>
<ol type="1">
<li>Use <code>forEach</code> and related
</h3></li>
</ol>
<p>In any vaguely-modern environment (so, not IE8) where you have access to the <code>Array</code> features added by ES5 (directly or using polyfills), you can use <code>forEach</code> (<a href="https://tc39.github.io/ecma262/#sec-array.prototype.foreach" rel="noreferrer"><code>spec</code></a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noreferrer"><code>MDN</code></a>):</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; a.forEach(function(entry) {     console.log(entry); });</code></p>
</div>
</div>
<p><code>forEach</code> accepts a callback function and, optionally, a value to use as <code>this</code> when calling that callback (not used above). The callback is called for each entry in the array, in order, skipping non-existent entries in sparse arrays. Although I only used one argument above, the callback is called with three: The value of each entry, the index of that entry, and a reference to the array you’re iterating over (in case your function doesn’t already have it handy).</p>
<p>Unless you’re supporting obsolete browsers like IE8 (which NetApps shows at just over 4% market share as of this writing in September 2016), you can happily use <code>forEach</code> in a general-purpose web page without a shim. If you do need to support obsolete browsers, shimming/polyfilling <code>forEach</code> is easily done (search for “es5 shim” for several options).</p>
<p><code>forEach</code> has the benefit that you don’t have to declare indexing and value variables in the containing scope, as they’re supplied as arguments to the iteration function, and so nicely scoped to just that iteration.</p>
<p>If you’re worried about the runtime cost of making a function call for each array entry, don’t be; <a href="http://blog.niftysnippets.org/2012/02/foreach-and-runtime-cost.html" rel="noreferrer">details</a>.</p>
<p>Additionally, <code>forEach</code> is the “loop through them all” function, but ES5 defined several other useful “work your way through the array and do things” functions, including:</p>
<ul>
<li>
<a href="https://tc39.github.io/ecma262/#sec-array.prototype.every" rel="noreferrer"><code>every</code></a> (stops looping the first time the callback returns <code>false</code> or something falsey)
</li>
<li>
<a href="https://tc39.github.io/ecma262/#sec-array.prototype.some" rel="noreferrer"><code>some</code></a> (stops looping the first time the callback returns <code>true</code> or something truthy)
</li>
<li>
<a href="https://tc39.github.io/ecma262/#sec-array.prototype.filter" rel="noreferrer"><code>filter</code></a> (creates a new array including elements where the filter function returns <code>true</code> and omitting the ones where it returns <code>false</code>)
</li>
<li>
<a href="https://tc39.github.io/ecma262/#sec-array.prototype.map" rel="noreferrer"><code>map</code></a> (creates a new array from the values returned by the callback)
</li>
<li>
<a href="https://tc39.github.io/ecma262/#sec-array.prototype.reduce" rel="noreferrer"><code>reduce</code></a> (builds up a value by repeatedly calling the callback, passing in previous values; see the spec for the details; useful for summing the contents of an array and many other things)
</li>
<li>
<a href="https://tc39.github.io/ecma262/#sec-array.prototype.reduceright" rel="noreferrer"><code>reduceRight</code></a> (like <code>reduce</code>, but works in descending rather than ascending order)
</li>
</ul>
<h5>
<ol start="2" type="1">
<li>Use a simple <code>for</code> loop
</h3></li>
</ol>
<p>Sometimes the old ways are the best:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var index; var a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; for (index = 0; index &amp;lt; a.length; ++index) {     console.log(a[index]); }</code></p>
</div>
</div>
<p>If the length of the array won’t change during the loop, and it’s in performance-sensitive code (unlikely), a slightly more complicated version grabbing the length up front might be a <strong><em>tiny</em></strong> bit faster:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var index, len; var a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; for (index = 0, len = a.length; index &amp;lt; len; ++index) {     console.log(a[index]); }</code></p>
</div>
</div>
<p>And/or counting backward:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var index; var a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; for (index = a.length - 1; index &amp;gt;= 0; --index) {     console.log(a[index]); }</code></p>
</div>
</div>
<p>But with modern JavaScript engines, it’s rare you need to eke out that last bit of juice.</p>
<p>In ES2015 and higher, you can make your index and value variables local to the <code>for</code> loop:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">let</span> a <span class="op">=</span> [<span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="cf">for</span> (<span class="kw">let</span> index <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> index <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">a</span>.<span class="at">length</span><span class="op">;</span> <span class="op">++</span>index) <span class="op">{</span></a>
<a class="sourceLine" id="cb20-3" title="3">    <span class="kw">let</span> value <span class="op">=</span> a[index]<span class="op">;</span></a>
<a class="sourceLine" id="cb20-4" title="4">    <span class="va">console</span>.<span class="at">log</span>(index<span class="op">,</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb20-6" title="6"><span class="co">//console.log(index);   // would cause &quot;ReferenceError: index is not defined&quot;</span></a>
<a class="sourceLine" id="cb20-7" title="7"><span class="co">//console.log(value);   // would cause &quot;ReferenceError: value is not defined&quot;</span></a></code></pre></div>
<p>
<div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<p><code>javascript let a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; for (let index = 0; index &amp;lt; a.length; ++index) {     let value = a[index];     console.log(index, value); } try {     console.log(index); } catch (e) {     console.error(e);   // &quot;ReferenceError: index is not defined&quot; } try {     console.log(value); } catch (e) {     console.error(e);   // &quot;ReferenceError: value is not defined&quot; }</code></p>
</div>
</div>
<p>And when you do that, not just <code>value</code> but also <code>index</code> is recreated for each loop iteration, meaning closures created in the loop body keep a reference to the <code>index</code> (and <code>value</code>) created for that specific iteration:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">let</span> divs <span class="op">=</span> <span class="va">document</span>.<span class="at">querySelectorAll</span>(<span class="st">&quot;div&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="cf">for</span> (<span class="kw">let</span> index <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> index <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">divs</span>.<span class="at">length</span><span class="op">;</span> <span class="op">++</span>index) <span class="op">{</span></a>
<a class="sourceLine" id="cb21-3" title="3">    divs[index].<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> e <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb21-4" title="4">        <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Index is: &quot;</span> <span class="op">+</span> index)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-5" title="5">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb21-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>
<div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<p><code>javascript let divs = document.querySelectorAll(&quot;div&quot;); for (let index = 0; index &amp;lt; divs.length; ++index) {     divs[index].addEventListener('click', e =&amp;gt; {         console.log(&quot;Index is: &quot; + index);     }); }</code> <code>javascript &amp;lt;div&amp;gt;zero&amp;lt;/div&amp;gt; &amp;lt;div&amp;gt;one&amp;lt;/div&amp;gt; &amp;lt;div&amp;gt;two&amp;lt;/div&amp;gt; &amp;lt;div&amp;gt;three&amp;lt;/div&amp;gt; &amp;lt;div&amp;gt;four&amp;lt;/div&amp;gt;</code></p>
</div>
</div>
<p>If you had five divs, you’d get “Index is: 0” if you clicked the first and “Index is: 4” if you clicked the last. This does <strong>not</strong> work if you use <code>var</code> instead of <code>let</code>.</p>
<h5>
<ol start="3" type="1">
<li>Use <code>for-in</code> <em>correctly</em>
</h3></li>
</ol>
<p>You’ll get people telling you to use <code>for-in</code>, but <a href="http://blog.niftysnippets.org/2010/11/myths-and-realities-of-forin.html" rel="noreferrer">that’s not what <code>for-in</code> is for</a>. <code>for-in</code> loops through the <em>enumerable properties of an object</em>, not the indexes of an array. <strong>The order is not guaranteed</strong>, not even in ES2015 (ES6). ES2015+ does define an order to object properties (via <a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-ownpropertykeys" rel="noreferrer"><code>[[OwnPropertyKeys]]</code></a>, <a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-enumerate" rel="noreferrer"><code>[[Enumerate]]</code></a>, and things that use them like <a href="https://tc39.github.io/ecma262/#sec-object.getownpropertynames" rel="noreferrer"><code>Object.getOwnPropertyKeys</code></a>), but it <strong>does not</strong> define that <code>for-in</code> will follow that order. (Details in <a href="https://stackoverflow.com/a/30919039/157247">this other answer</a>.)</p>
<p>The only real use cases for <code>for-in</code> on an array are:</p>
<ul>
<li>
It’s a <a href="http://en.wikipedia.org/wiki/Sparse_array" rel="noreferrer"><em>sparse</em> arrays</a> with <strong>massive</strong> gaps in it, or
</li>
<li>
You’re using non-element properties and you want to include them in the loop
</li>
</ul>
<p>Looking only at that first example: You can use <code>for-in</code> to visit those sparese array elements if you use appropriate safeguards:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript // `a` is a sparse array var key; var a = []; a[0] = &quot;a&quot;; a[10] = &quot;b&quot;; a[10000] = &quot;c&quot;; for (key in a) {     if (a.hasOwnProperty(key)  &amp;amp;&amp;amp;        // These checks are         /^0$|^[1-9]\d*$/.test(key) &amp;amp;&amp;amp;    // explained         key &amp;lt;= 4294967294                // below         ) {         console.log(a[key]);     } }</code></p>
</div>
</div>
<p>Note the three checks:</p>
<ol>
<li>
<p>
That the object has its <em>own</em> property by that name (not one it inherits from its prototype), and
</p>
</li>
<li>
<p>
That the key is all decimal digits (e.g., normal string form, not scientific notation), and
</p>
</li>
<li>
<p>
That the key’s value when coerced to a number is &lt;= 2^32 - 2 (which is 4,294,967,294). Where does that number come from? It’s part of the definition of an array index <a href="https://tc39.github.io/ecma262/#array-index" rel="noreferrer">in the specification</a>. Other numbers (non-integers, negative numbers, numbers greater than 2^32 - 2) are not array indexes. The reason it’s 2^32 - <strong>2</strong> is that that makes the greatest index value one lower than 2^32 - <strong>1</strong>, which is the maximum value an array’s <code>length</code> can have. (E.g., an array’s length fits in a 32-bit unsigned integer.) <em>(Props to RobG for pointing out in a comment <a href="http://blog.niftysnippets.org/2010/11/myths-and-realities-of-forin.html" rel="noreferrer">on my blog post</a> that my previous test wasn’t quite right.)</em>
</p>
</li>
</ol>
<p>You wouldn’t do that in inline code, of course. You’d write a utility function. Perhaps:</p>
<p>
<div class="snippet" data-lang="js" data-hide="true" data-console="true" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<p>``<code>javascript // Utility function for antiquated environments without</code>forEach` var hasOwn = Object.prototype.hasOwnProperty; var rexNum = /^0<span class="math inline">$|^[1-9]\d*$</span>/; function sparseEach(array, callback, thisArg) { var index; for (var key in array) { index = +key; if (hasOwn.call(a, key) &amp;&amp; rexNum.test(key) &amp;&amp; index &lt;= 4294967294 ) { callback.call(thisArg, array[key], index, array); } } }</p>
<p>var a = []; a[5] = “five”; a[10] = “ten”; a[100000] = “one hundred thousand”; a.b = “bee”;</p>
<p>sparseEach(a, function(value, index) { console.log(“Value at” + index + &quot; is &quot; + value); });```</p>
</div>
</div>
<h5>
<ol start="4" type="1">
<li>Use <code>for-of</code> (use an iterator implicitly) (ES2015+)
</h3></li>
</ol>
<p>ES2015 adds <em>iterators</em> to JavaScript. The easiest way to use iterators is the new <code>for-of</code> statement. It looks like this:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript const a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; for (const val of a) {     console.log(val); }</code></p>
</div>
</div>
<p>Under the covers, that gets an <em>iterator</em> from the array and loops through it, getting the values from it. This doesn’t have the issue that using <code>for-in</code> has, because it uses an iterator defined by the object (the array), and arrays define that their iterators iterate through their <em>entries</em> (not their properties). Unlike <code>for-in</code> in ES5, the order in which the entries are visited is the numeric order of their indexes.</p>
<h5>
<ol start="5" type="1">
<li>Use an iterator explicitly (ES2015+)
</h3></li>
</ol>
<p>Sometimes, you might want to use an iterator <em>explicitly</em>. You can do that, too, although it’s a lot clunkier than <code>for-of</code>. It looks like this:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript const a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]; const it = a.values(); let entry; while (!(entry = it.next()).done) {     console.log(entry.value); }</code></p>
</div>
</div>
<p>The iterator is an object matching the Iterator definition in the specification. Its <code>next</code> method returns a new <em>result object</em> each time you call it. The result object has a property, <code>done</code>, telling us whether it’s done, and a property <code>value</code> with the value for that iteration. (<code>done</code> is optional if it would be <code>false</code>, <code>value</code> is optional if it would be <code>undefined</code>.)</p>
<p>The meaning of <code>value</code> varies depending on the iterator; arrays support (at least) three functions that return iterators:</p>
<ul>
<li>
<code>values()</code>: This is the one I used above. It returns an iterator where each <code>value</code> is the array entry for that iteration (<code>&quot;a&quot;</code>, <code>&quot;b&quot;</code>, and <code>&quot;c&quot;</code> in the example earlier).
</li>
<li>
<code>keys()</code>: Returns an iterator where each <code>value</code> is the key for that iteration (so for our <code>a</code> above, that would be <code>&quot;0&quot;</code>, then <code>&quot;1&quot;</code>, then <code>&quot;2&quot;</code>).
</li>
<li>
<code>entries()</code>: Returns an iterator where each <code>value</code> is an array in the form <code>[key, value]</code> for that iteration.
</li>
</ul>
<h5>
For Array-Like Objects
</h2>
<p>Aside from true arrays, there are also <em>array-like</em> objects that have a <code>length</code> property and properties with numeric names: <code>NodeList</code> instances, the <code>arguments</code> object, etc. How do we loop through their contents?</p>
<h5>
Use any of the options above for arrays
</h3>
<p>At least some, and possibly most or even all, of the array approaches above frequently apply equally well to array-like objects:</p>
<ol>
<li>
<p>
<strong>Use <code>forEach</code> and related (ES5+)</strong>
</p>
<p>The various functions on <code>Array.prototype</code> are “intentionally generic” and can usually be used on array-like objects via <a href="https://tc39.github.io/ecma262/#sec-function.prototype.call" rel="noreferrer"><code>Function#call</code></a> or <a href="https://tc39.github.io/ecma262/#sec-function.prototype.apply" rel="noreferrer"><code>Function#apply</code></a>. (See the <em>Caveat for host-provided objects</em> at the end of this answer, but it’s a rare issue.)</p>
<p>Suppose you wanted to use <code>forEach</code> on a <code>Node</code>’s <code>childNodes</code> property. You’d do this:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1"><span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">forEach</span>.<span class="at">call</span>(<span class="va">node</span>.<span class="at">childNodes</span><span class="op">,</span> <span class="kw">function</span>(child) <span class="op">{</span></a>
<a class="sourceLine" id="cb22-2" title="2">    <span class="co">// Do something with `child`</span></a>
<a class="sourceLine" id="cb22-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>If you’re going to do that a lot, you might want to grab a copy of the function reference into a variable for reuse, e.g.:</p>
<p>```javascript // (This is all presumably in some scoping function) var forEach = Array.prototype.forEach;</p>
// Then later… forEach.call(node.childNodes, function(child) { // Do something with <code>child</code> }); ``<code>&lt;/li&gt; &lt;li&gt;&lt;p&gt;&lt;strong&gt;Use a simple</code>for` loop</strong>
</p>
Obviously, a simple <code>for</code> loop applies to array-like objects.
</li>
<li>
<p>
<strong>Use <code>for-in</code> <em>correctly</em></strong>
</p>
<code>for-in</code> with the same safeguards as with an array should work with array-like objects as well; the caveat for host-provided objects on #1 above may apply.
</li>
<li>
<p>
<strong>Use <code>for-of</code> (use an iterator implicitly) (ES2015+)</strong>
</p>
<code>for-of</code> will use the iterator provided by the object (if any); we’ll have to see how this plays with the various array-like objects, particularly host-provided ones. For instance, the specification for the <code>NodeList</code> from <code>querySelectorAll</code> was updated to support iteration. The spec for the <code>HTMLCollection</code> from <code>getElementsByTagName</code> was not.
</li>
<li>
<p>
<strong>Use an iterator explicitly (ES2015+)</strong>
</p>
See #4, we’ll have to see how iterators play out.
</li>
</ol>
<h5>
Create a true array
</h3>
<p>Other times, you may want to convert an array-like object into a true array. Doing that is surprisingly easy:</p>
<ol>
<li>
<p>
<strong>Use the <a href="https://tc39.github.io/ecma262/#sec-array.prototype.slice" rel="noreferrer"><code>slice</code></a> method of arrays</strong>
</p>
<p>We can use the <code>slice</code> method of arrays, which like the other methods mentioned above is “intentionally generic” and so can be used with array-like objects, like this:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">var</span> trueArray <span class="op">=</span> <span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">slice</span>.<span class="at">call</span>(arrayLikeObject)<span class="op">;</span></a></code></pre></div>
<p>So for instance, if we want to convert a <code>NodeList</code> into a true array, we could do this:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">var</span> divs <span class="op">=</span> <span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">slice</span>.<span class="at">call</span>(<span class="va">document</span>.<span class="at">querySelectorAll</span>(<span class="st">&quot;div&quot;</span>))<span class="op">;</span></a></code></pre></div>
See the <em>Caveat for host-provided objects</em> below. In particular, note that this will fail in IE8 and earlier, which don’t let you use host-provided objects as <code>this</code> like that.
</li>
<li>
<p>
<strong>Use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noreferrer">spread syntax (<code>...</code>)</a></strong>
</p>
<p>It’s also possible to use ES2015’s <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noreferrer">spread syntax</a> with JavaScript engines that support this feature:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">var</span> trueArray <span class="op">=</span> [...<span class="at">iterableObject</span>]<span class="op">;</span></a></code></pre></div>
<p>So for instance, if we want to convert a <code>NodeList</code> into a true array, with spread syntax this becomes quite succinct:</p>
<code>javascript var divs = [...document.querySelectorAll(&quot;div&quot;)];</code>
</li>
<li>
<p>
<strong>Use <code>Array.from</code></strong> <a href="https://tc39.github.io/ecma262/#sec-array.from" rel="noreferrer">(spec)</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from" rel="noreferrer">(MDN)</a>
</p>
<p><code>Array.from</code> (ES2015+, but easily polyfilled) creates an array from an array-like object, optionally passing the entries through a mapping function first. So:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">var</span> divs <span class="op">=</span> <span class="va">Array</span>.<span class="at">from</span>(<span class="va">document</span>.<span class="at">querySelectorAll</span>(<span class="st">&quot;div&quot;</span>))<span class="op">;</span></a></code></pre></div>
<p>Or if you wanted to get an array of the tag names of the elements with a given class, you’d use the mapping function:</p>
<p>```javascript // Arrow function (ES2015): var divs = Array.from(document.querySelectorAll(“.some-class”), element =&gt; element.tagName);</p>
// Standard function (since <code>Array.from</code> can be shimmed): var divs = Array.from(document.querySelectorAll(“.some-class”), function(element) { return element.tagName; }); ```
</li>
</ol>
<h5>
Caveat for host-provided objects
</h3>
<p>If you use <code>Array.prototype</code> functions with <em>host-provided</em> array-like objects (DOM lists and other things provided by the browser rather than the JavaScript engine), you need to be sure to test in your target environments to make sure the host-provided object behaves properly. <strong>Most do behave properly</strong> (now), but it’s important to test. The reason is that most of the <code>Array.prototype</code> methods you’re likely to want to use rely on the host-provided object giving an honest answer to the abstract <a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-hasproperty-p" rel="noreferrer"><code>[[HasProperty]]</code></a> operation. As of this writing, browsers do a very good job of this, but the 5.1 spec did allow for the possibility a host-provided object may not be honest. It’s in <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.6.2" rel="noreferrer">§8.6.2</a>, several paragraphs below the big table near the beginning of that section), where it says:</p>
<blockquote>
Host objects may implement these internal methods in any manner unless specified otherwise; for example, one possibility is that <code>[[Get]]</code> and <code>[[Put]]</code> for a particular host object indeed fetch and store property values but <code>[[HasProperty]]</code> always generates <strong>false</strong>.
</blockquote>
<p>(I couldn’t find the equivalent verbiage in the ES2015 spec, but it’s bound to still be the case.) Again, as of this writing the common host-provided array-like objects in modern browsers [<code>NodeList</code> instances, for instance] <strong>do</strong> handle <code>[[HasProperty]]</code> correctly, but it’s important to test.)</p>
</section>
<section id="answer-2-score-488" class="level4">
<h4>Answer 2 (score 488)</h4>
<p><strong>Note</strong>: This answer is hopelessly out-of-date. For a more modern approach, look at <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" rel="nofollow noreferrer">the methods available on an array</a>. Methods of interest might be:</p>
<ul>
<li>
forEach
</li>
<li>
map
</li>
<li>
filter
</li>
<li>
zip
</li>
<li>
reduce
</li>
<li>
every
</li>
<li>
some
</li>
</ul>
<hr>
<p>The standard way to iterate an array in <a href="http://en.wikipedia.org/wiki/JavaScript" rel="nofollow noreferrer">JavaScript</a> is a vanilla <code>for</code>-loop:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">var</span> length <span class="op">=</span> <span class="va">arr</span>.<span class="at">length</span><span class="op">,</span></a>
<a class="sourceLine" id="cb27-2" title="2">    element <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb27-3" title="3"><span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> length<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb27-4" title="4">  element <span class="op">=</span> arr[i]<span class="op">;</span></a>
<a class="sourceLine" id="cb27-5" title="5">  <span class="co">// Do something with element</span></a>
<a class="sourceLine" id="cb27-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>Note, however, that this approach is only good if you have a dense array, and each index is occupied by an element. If the array is sparse, then you can run into performance problems with this approach, since you will iterate over a lot of indices that do not <em>really</em> exist in the array. In this case, a <code>for .. in</code>-loop might be a better idea. <strong>However</strong>, you must use the appropriate safeguards to ensure that only the desired properties of the array (that is, the array elements) are acted upon, since the <code>for..in</code>-loop will also be enumerated in legacy browsers, or if the additional properties are defined as <code>enumerable</code>.</p>
<p>In <a href="https://en.wikipedia.org/wiki/ECMAScript#ECMAScript.2C_5th_Edition" rel="nofollow noreferrer">ECMAScript 5</a> there will be a forEach method on the array prototype, but it is not supported in legacy browsers. So to be able to use it consistently you must either have an environment that supports it (for example, <a href="http://en.wikipedia.org/wiki/Node.js" rel="nofollow noreferrer">Node.js</a> for server side JavaScript), or use a “Polyfill”. The Polyfill for this functionality is, however, trivial and since it makes the code easier to read, it is a good polyfill to include.</p>
</section>
<section id="answer-3-score-224" class="level4">
<h4>Answer 3 (score 224)</h4>
<p>If you’re using the <a href="http://jquery.com/" rel="noreferrer"><strong>jQuery</strong></a> library, you can use <a href="http://api.jquery.com/jQuery.each/" rel="noreferrer"><strong>jQuery.each</strong></a>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" title="1"><span class="va">$</span>.<span class="at">each</span>(yourArray<span class="op">,</span> <span class="kw">function</span>(index<span class="op">,</span> value) <span class="op">{</span></a>
<a class="sourceLine" id="cb28-2" title="2">  <span class="co">// do your stuff here</span></a>
<a class="sourceLine" id="cb28-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>EDIT :</strong></p>
<p>As per question, user want code in javascript instead of jquery so the edit is</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">var</span> length <span class="op">=</span> <span class="va">yourArray</span>.<span class="at">length</span><span class="op">;</span>   </a>
<a class="sourceLine" id="cb29-2" title="2"><span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> length<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb29-3" title="3">  <span class="co">// Do something with yourArray[i].</span></a>
<a class="sourceLine" id="cb29-4" title="4"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="get-selected-value-in-dropdown-list-using-javascript-score-3750417-in-2019" class="level3">
<h3>6: Get selected value in dropdown list using JavaScript (score <a href="https://stackoverflow.com/q/1085801.html">3750417</a> in 2019)</h3>
<section id="question-5" class="level4">
<h4>Question</h4>
<p>How do I get the selected value from a dropdown list using JavaScript?</p>
<p>I tried the methods below, but they all return the selected index instead of the value:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"><span class="kw">var</span> <span class="im">as</span> <span class="op">=</span> <span class="va">document</span>.<span class="va">form1</span>.<span class="va">ddlViewBy</span>.<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="kw">var</span> e <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;ddlViewBy&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-3" title="3"><span class="kw">var</span> strUser <span class="op">=</span> <span class="va">e</span>.<span class="at">options</span>[<span class="va">e</span>.<span class="at">selectedIndex</span>].<span class="at">value</span><span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-2722" class="level4">
<h4>Answer accepted (score 2722)</h4>
<p>If you have a select element that looks like this:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>select id<span class="op">=</span><span class="st">&quot;ddlViewBy&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb31-2" title="2">  <span class="op">&amp;</span>lt<span class="op">;</span>option value<span class="op">=</span><span class="st">&quot;1&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>test1<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb31-3" title="3"><span class="ss">  &amp;lt;option value=&quot;2&quot; selected=&quot;selected&quot;&amp;gt;test2&amp;lt;/option</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb31-4" title="4">  <span class="op">&amp;</span>lt<span class="op">;</span>option value<span class="op">=</span><span class="st">&quot;3&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>test3<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb31-5" title="5"><span class="ss">&amp;lt;/select</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>Running this code:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">var</span> e <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;ddlViewBy&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-2" title="2"><span class="kw">var</span> strUser <span class="op">=</span> <span class="va">e</span>.<span class="at">options</span>[<span class="va">e</span>.<span class="at">selectedIndex</span>].<span class="at">value</span><span class="op">;</span></a></code></pre></div>
<p>Would make <code>strUser</code> be <code>2</code>. If what you actually want is <code>test2</code>, then do this:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">var</span> e <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;ddlViewBy&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="kw">var</span> strUser <span class="op">=</span> <span class="va">e</span>.<span class="at">options</span>[<span class="va">e</span>.<span class="at">selectedIndex</span>].<span class="at">text</span><span class="op">;</span></a></code></pre></div>
<p>Which would make <code>strUser</code> be <code>test2</code></p>
</section>
<section id="answer-2-score-342" class="level4">
<h4>Answer 2 (score 342)</h4>
<p>Plain JavaScript:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">var</span> e <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;elementId&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb34-2" title="2"><span class="kw">var</span> value <span class="op">=</span> <span class="va">e</span>.<span class="at">options</span>[<span class="va">e</span>.<span class="at">selectedIndex</span>].<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb34-3" title="3"><span class="kw">var</span> text <span class="op">=</span> <span class="va">e</span>.<span class="at">options</span>[<span class="va">e</span>.<span class="at">selectedIndex</span>].<span class="at">text</span><span class="op">;</span></a></code></pre></div>
<p>jQuery:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" title="1"><span class="at">$</span>(<span class="st">&quot;#elementId :selected&quot;</span>).<span class="at">text</span>()<span class="op">;</span> <span class="co">// The text content of the selected option</span></a>
<a class="sourceLine" id="cb35-2" title="2"><span class="at">$</span>(<span class="st">&quot;#elementId :selected&quot;</span>).<span class="at">val</span>()<span class="op">;</span> <span class="co">// The value of the selected option</span></a></code></pre></div>
<p><a href="http://en.wikipedia.org/wiki/AngularJS" rel="noreferrer">AngularJS</a>: (<a href="http://jsfiddle.net/qk5wwyct" rel="noreferrer">http://jsfiddle.net/qk5wwyct</a>):</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb36-1" title="1"><span class="co">// HTML</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="op">&amp;</span>lt<span class="op">;</span>select ng<span class="op">-</span>model<span class="op">=</span><span class="st">&quot;selectItem&quot;</span> ng<span class="op">-</span>options<span class="op">=</span><span class="st">&quot;item as item.text for item in items&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb36-3" title="3"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/select&amp;gt;</span></a>
<a class="sourceLine" id="cb36-4" title="4"><span class="ss">&amp;lt;p&amp;gt;Text: {{selectItem.text}}&amp;lt;/p</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb36-5" title="5"><span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;</span>Value<span class="op">:</span> <span class="op">{{</span><span class="va">selectItem</span>.<span class="at">value</span><span class="op">}}&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb36-6" title="6"></a>
<a class="sourceLine" id="cb36-7" title="7"><span class="ss">// JavaScript</span></a>
<a class="sourceLine" id="cb36-8" title="8"><span class="ss">$scope.items = </span><span class="sc">[{</span></a>
<a class="sourceLine" id="cb36-9" title="9"><span class="sc">  value: &#39;item_1_id&#39;,</span></a>
<a class="sourceLine" id="cb36-10" title="10"><span class="sc">  text: &#39;Item 1&#39;</span></a>
<a class="sourceLine" id="cb36-11" title="11"><span class="sc">}, {</span></a>
<a class="sourceLine" id="cb36-12" title="12"><span class="sc">  value: &#39;item_2_id&#39;,</span></a>
<a class="sourceLine" id="cb36-13" title="13"><span class="sc">  text: &#39;Item 2&#39;</span></a>
<a class="sourceLine" id="cb36-14" title="14"><span class="sc">}]</span><span class="ss">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-167" class="level4">
<h4>Answer 3 (score 167)</h4>
<div class="sourceCode" id="cb37"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">var</span> strUser <span class="op">=</span> <span class="va">e</span>.<span class="at">options</span>[<span class="va">e</span>.<span class="at">selectedIndex</span>].<span class="at">value</span><span class="op">;</span></a></code></pre></div>
<p>
This is correct and should give you the value. Is it the text you’re after?
</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb38-1" title="1"><span class="kw">var</span> strUser <span class="op">=</span> <span class="va">e</span>.<span class="at">options</span>[<span class="va">e</span>.<span class="at">selectedIndex</span>].<span class="at">text</span><span class="op">;</span></a></code></pre></div>
<p>So you’re clear on the terminology:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb39-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>select<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb39-2" title="2">    <span class="op">&amp;</span>lt<span class="op">;</span>option value<span class="op">=</span><span class="st">&quot;hello&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>Hello World<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb39-3" title="3"><span class="ss">&amp;lt;/select</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>This option has:</p>
<ul>
<li>
Index = 0
</li>
<li>
Value = hello
</li>
<li>
Text = Hello World
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-get-query-string-values-in-javascript-score-3549269-in-2015" class="level3">
<h3>7: How can I get query string values in JavaScript? (score <a href="https://stackoverflow.com/q/901115.html">3549269</a> in 2015)</h3>
<section id="question-6" class="level4">
<h4>Question</h4>
<p>Is there a plugin-less way of retrieving <a href="http://en.wikipedia.org/wiki/Query_string" rel="nofollow noreferrer">query string</a> values via jQuery (or without)?</p>
<p>If so, how? If not, is there a plugin which can do so?</p>
</section>
<section id="answer-accepted-score-7925" class="level4">
<h4>Answer accepted (score 7925)</h4>
<p><strong>Update: Sep-2018</strong></p>
<p>You can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams#Browser_compatibility" rel="noreferrer">URLSearchParams</a> which is simple and has <a href="https://caniuse.com/#feat=urlsearchparams" rel="noreferrer">decent (but not complete) browser support</a>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">const</span> urlParams <span class="op">=</span> <span class="kw">new</span> <span class="at">URLSearchParams</span>(<span class="va">window</span>.<span class="va">location</span>.<span class="at">search</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb40-2" title="2"><span class="kw">const</span> myParam <span class="op">=</span> <span class="va">urlParams</span>.<span class="at">get</span>(<span class="st">&#39;myParam&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>Original</strong></p>
<p>You don’t need jQuery for that purpose. You can use just some pure JavaScript:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">function</span> <span class="at">getParameterByName</span>(name<span class="op">,</span> url) <span class="op">{</span></a>
<a class="sourceLine" id="cb41-2" title="2">    <span class="cf">if</span> (<span class="op">!</span>url) url <span class="op">=</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">href</span><span class="op">;</span></a>
<a class="sourceLine" id="cb41-3" title="3">    name <span class="op">=</span> <span class="va">name</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">[\[\]]</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">$&amp;amp;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb41-4" title="4">    <span class="kw">var</span> regex <span class="op">=</span> <span class="kw">new</span> <span class="at">RegExp</span>(<span class="st">&#39;[?&amp;amp;]&#39;</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">&#39;(=([^&amp;amp;#]*)|&amp;amp;|#|$)&#39;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb41-5" title="5">        results <span class="op">=</span> <span class="va">regex</span>.<span class="at">exec</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb41-6" title="6">    <span class="cf">if</span> (<span class="op">!</span>results) <span class="cf">return</span> <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb41-7" title="7">    <span class="cf">if</span> (<span class="op">!</span>results[<span class="dv">2</span>]) <span class="cf">return</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb41-8" title="8">    <span class="cf">return</span> <span class="at">decodeURIComponent</span>(results[<span class="dv">2</span>].<span class="at">replace</span>(<span class="ss">/</span><span class="sc">\+</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39; &#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb41-9" title="9"><span class="op">}</span></a></code></pre></div>
<p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb42-1" title="1"><span class="co">// query string: ?foo=lorem&amp;amp;bar=&amp;amp;baz</span></a>
<a class="sourceLine" id="cb42-2" title="2"><span class="kw">var</span> foo <span class="op">=</span> <span class="at">getParameterByName</span>(<span class="st">&#39;foo&#39;</span>)<span class="op">;</span> <span class="co">// &quot;lorem&quot;</span></a>
<a class="sourceLine" id="cb42-3" title="3"><span class="kw">var</span> bar <span class="op">=</span> <span class="at">getParameterByName</span>(<span class="st">&#39;bar&#39;</span>)<span class="op">;</span> <span class="co">// &quot;&quot; (present with empty value)</span></a>
<a class="sourceLine" id="cb42-4" title="4"><span class="kw">var</span> baz <span class="op">=</span> <span class="at">getParameterByName</span>(<span class="st">&#39;baz&#39;</span>)<span class="op">;</span> <span class="co">// &quot;&quot; (present with no value)</span></a>
<a class="sourceLine" id="cb42-5" title="5"><span class="kw">var</span> qux <span class="op">=</span> <span class="at">getParameterByName</span>(<span class="st">&#39;qux&#39;</span>)<span class="op">;</span> <span class="co">// null (absent)</span></a></code></pre></div>
<p>
<br> Note: If a parameter is present several times (<code>?foo=lorem&amp;amp;foo=ipsum</code>), you will get the first value (<code>lorem</code>). There is no standard about this and usages vary, see for example this question: <a href="https://stackoverflow.com/questions/1746507/authoritative-position-of-duplicate-http-get-query-keys">Authoritative position of duplicate HTTP GET query keys</a>.<br> NOTE: The function is case-sensitive. If you prefer case-insensitive parameter name, <a href="https://stackoverflow.com/questions/3939715/case-insensitive-regex-in-javascript">add ‘i’ modifier to RegExp</a>
</p>
<hr>
<p>This is an update based on the new <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" rel="noreferrer">URLSearchParams specs</a> to achieve the same result more succinctly. See answer titled “<a href="https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript/901144#12151322">URLSearchParams</a>” below.</p>
</section>
<section id="answer-2-score-1683" class="level4">
<h4>Answer 2 (score 1683)</h4>
<p>Some of the solutions posted here are inefficient. Repeating the regular expression search every time the script needs to access a parameter is completely unnecessary, one single function to split up the parameters into an associative-array style object is enough. If you’re not working with the HTML 5 History API, this is only necessary once per page load. The other suggestions here also fail to decode the URL correctly.</p>
<p>```javascript var urlParams; (window.<a href="https://developer.mozilla.org/en-US/docs/DOM/window.onpopstate" rel="noreferrer">onpopstate</a> = function () { var match, pl = /+/g, // Regex for replacing addition symbol with a space search = /([^&amp;=]+)=?([^&amp;]*)/g, decode = function (s) { return <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/decodeURIComponent" rel="noreferrer">decodeURIComponent</a>(s.replace(pl, &quot; &quot;)); }, query = window.<a href="https://developer.mozilla.org/en-US/docs/DOM/window.location" rel="noreferrer">location</a>.search.<a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/substring" rel="noreferrer">substring</a>(1);</p>
<pre><code>urlParams = {};
while (match = search.&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp/exec&quot; rel=&quot;noreferrer&quot;&gt;exec&lt;/a&gt;(query))
   urlParams[decode(match[1])] = decode(match[2]);</code></pre>
<p>})();```</p>
<p>Example querystring:</p>
<blockquote>
<code>?i=main&amp;amp;mode=front&amp;amp;sid=de8d49b78a85a322c4155015fdce22c4&amp;amp;enc=+Hello%20&amp;amp;empty</code>
</blockquote>
<p>Result:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb44-1" title="1"> urlParams <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb44-2" title="2">    <span class="dt">enc</span><span class="op">:</span> <span class="st">&quot; Hello &quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-3" title="3">    <span class="dt">i</span><span class="op">:</span> <span class="st">&quot;main&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-4" title="4">    <span class="dt">mode</span><span class="op">:</span> <span class="st">&quot;front&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-5" title="5">    <span class="dt">sid</span><span class="op">:</span> <span class="st">&quot;de8d49b78a85a322c4155015fdce22c4&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-6" title="6">    <span class="dt">empty</span><span class="op">:</span> <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb44-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb44-8" title="8"></a>
<a class="sourceLine" id="cb44-9" title="9"><span class="at">alert</span>(urlParams[<span class="st">&quot;mode&quot;</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb44-10" title="10"><span class="co">// -&amp;gt; &quot;front&quot;</span></a>
<a class="sourceLine" id="cb44-11" title="11"></a>
<a class="sourceLine" id="cb44-12" title="12"><span class="at">alert</span>(<span class="st">&quot;empty&quot;</span> <span class="kw">in</span> urlParams)<span class="op">;</span></a>
<a class="sourceLine" id="cb44-13" title="13"><span class="co">// -&amp;gt; true</span></a></code></pre></div>
<p>This could easily be improved upon to handle array-style query strings too. An example of this is <a href="http://jsbin.com/adali3/2" rel="noreferrer">here</a>, but since array-style parameters aren’t defined in <a href="http://tools.ietf.org/html/rfc3986" rel="noreferrer">RFC 3986</a> I won’t pollute this answer with the source code. <a href="https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript/23401756#23401756">For those interested in a “polluted” version, look at campbeln’s answer below</a>.</p>
<p>Also, as pointed out in the comments, <code>;</code> is a legal delimiter for <code>key=value</code> pairs. It would require a more complicated regex to handle <code>;</code> or <code>&amp;amp;</code>, which I think is unnecessary because it’s rare that <code>;</code> is used and I would say even more unlikely that both would be used. If you need to support <code>;</code> instead of <code>&amp;amp;</code>, just swap them in the regex.</p>
<p>
<hr />
If you’re using a server-side preprocessing language, you might want to use its native JSON functions to do the heavy lifting for you. For example, in PHP you can write:
</p>
<p><code>javascript &amp;lt;script&gt;var urlParams = &amp;lt;?php echo &lt;a href=&quot;http://php.net/manual/en/function.json-encode.php&quot; rel=&quot;noreferrer&quot;&gt;json_encode&lt;/a&gt;($_GET, JSON_HEX_TAG);?&gt;;&amp;lt;/script&gt;</code></p>
<p>Much simpler!</p>
</section>
<section id="answer-3-score-1260" class="level4">
<h4>Answer 3 (score 1260)</h4>
<h5>
ES2015 (ES6)
</h1>
<div class="sourceCode" id="cb45"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb45-1" title="1">getQueryStringParams <span class="op">=</span> query <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-2" title="2">    <span class="cf">return</span> query</a>
<a class="sourceLine" id="cb45-3" title="3">        <span class="op">?</span> (<span class="ss">/</span><span class="sc">^[?#]</span><span class="ss">/</span>.<span class="at">test</span>(query) <span class="op">?</span> <span class="va">query</span>.<span class="at">slice</span>(<span class="dv">1</span>) : query)</a>
<a class="sourceLine" id="cb45-4" title="4">            .<span class="at">split</span>(<span class="st">&#39;&amp;amp;&#39;</span>)</a>
<a class="sourceLine" id="cb45-5" title="5">            .<span class="at">reduce</span>((params<span class="op">,</span> param) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-6" title="6">                    <span class="kw">let</span> [key<span class="op">,</span> value] <span class="op">=</span> <span class="va">param</span>.<span class="at">split</span>(<span class="st">&#39;=&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb45-7" title="7">                    params[key] <span class="op">=</span> value <span class="op">?</span> <span class="at">decodeURIComponent</span>(<span class="va">value</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">\+</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39; &#39;</span>)) : <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb45-8" title="8">                    <span class="cf">return</span> params<span class="op">;</span></a>
<a class="sourceLine" id="cb45-9" title="9">                <span class="op">},</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb45-10" title="10">            )</a>
<a class="sourceLine" id="cb45-11" title="11">        : <span class="op">{}</span></a>
<a class="sourceLine" id="cb45-12" title="12"><span class="op">};</span></a></code></pre></div>
<hr>
<h5>
Without jQuery
</h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb46-1" title="1"><span class="kw">var</span> qs <span class="op">=</span> (<span class="kw">function</span>(a) <span class="op">{</span></a>
<a class="sourceLine" id="cb46-2" title="2">    <span class="cf">if</span> (a <span class="op">==</span> <span class="st">&quot;&quot;</span>) <span class="cf">return</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb46-3" title="3">    <span class="kw">var</span> b <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb46-4" title="4">    <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">a</span>.<span class="at">length</span><span class="op">;</span> <span class="op">++</span>i)</a>
<a class="sourceLine" id="cb46-5" title="5">    <span class="op">{</span></a>
<a class="sourceLine" id="cb46-6" title="6">        <span class="kw">var</span> p<span class="op">=</span>a[i].<span class="at">split</span>(<span class="st">&#39;=&#39;</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb46-7" title="7">        <span class="cf">if</span> (<span class="va">p</span>.<span class="at">length</span> <span class="op">==</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb46-8" title="8">            b[p[<span class="dv">0</span>]] <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb46-9" title="9">        <span class="cf">else</span></a>
<a class="sourceLine" id="cb46-10" title="10">            b[p[<span class="dv">0</span>]] <span class="op">=</span> <span class="at">decodeURIComponent</span>(p[<span class="dv">1</span>].<span class="at">replace</span>(<span class="ss">/</span><span class="sc">\+</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&quot; &quot;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb46-11" title="11">    <span class="op">}</span></a>
<a class="sourceLine" id="cb46-12" title="12">    <span class="cf">return</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb46-13" title="13"><span class="op">}</span>)(<span class="va">window</span>.<span class="va">location</span>.<span class="va">search</span>.<span class="at">substr</span>(<span class="dv">1</span>).<span class="at">split</span>(<span class="st">&#39;&amp;amp;&#39;</span>))<span class="op">;</span></a></code></pre></div>
<p>With an URL like <code>?topic=123&amp;amp;name=query+string</code>, the following will return:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb47-1" title="1">qs[<span class="st">&quot;topic&quot;</span>]<span class="op">;</span>    <span class="co">// 123</span></a>
<a class="sourceLine" id="cb47-2" title="2">qs[<span class="st">&quot;name&quot;</span>]<span class="op">;</span>     <span class="co">// query string</span></a>
<a class="sourceLine" id="cb47-3" title="3">qs[<span class="st">&quot;nothere&quot;</span>]<span class="op">;</span>  <span class="co">// undefined (object)</span></a></code></pre></div>
<hr>
<h5>
Google method
</h2>
<p>Tearing Google’s code I found the method they use: <code>getUrlParameters</code></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb48-1" title="1"><span class="kw">function</span> (b) <span class="op">{</span></a>
<a class="sourceLine" id="cb48-2" title="2">    <span class="kw">var</span> c <span class="op">=</span> <span class="kw">typeof</span> b <span class="op">===</span> <span class="st">&quot;undefined&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb48-3" title="3">    <span class="cf">if</span> (a <span class="op">!==</span> h <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> c) <span class="cf">return</span> a<span class="op">;</span></a>
<a class="sourceLine" id="cb48-4" title="4">    <span class="cf">for</span> (<span class="kw">var</span> d <span class="op">=</span> <span class="op">{},</span> b <span class="op">=</span> b <span class="op">||</span> k[B][vb]<span class="op">,</span> e <span class="op">=</span> b[p](<span class="st">&quot;?&quot;</span>)<span class="op">,</span> f <span class="op">=</span> b[p](<span class="st">&quot;#&quot;</span>)<span class="op">,</span> b <span class="op">=</span> (f <span class="op">===</span> <span class="dv">-1</span> <span class="op">?</span> b[Ya](e <span class="op">+</span> <span class="dv">1</span>) : [b[Ya](e <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> f <span class="op">-</span> e <span class="op">-</span> <span class="dv">1</span>)<span class="op">,</span> <span class="st">&quot;&amp;amp;&quot;</span><span class="op">,</span> b[Ya](f <span class="op">+</span> <span class="dv">1</span>)][K](<span class="st">&quot;&quot;</span>))[z](<span class="st">&quot;&amp;amp;&quot;</span>.<span class="at">html</span>)<span class="op">,</span> e <span class="op">=</span> <span class="va">i</span>.<span class="at">dd</span> <span class="op">?</span> ia : unescape<span class="op">,</span> f <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> g <span class="op">=</span> b[w]<span class="op">;</span> f <span class="op">&amp;</span>lt<span class="op">;</span> g<span class="op">;</span> <span class="op">++</span>f) <span class="op">{</span></a>
<a class="sourceLine" id="cb48-5" title="5">        <span class="kw">var</span> l <span class="op">=</span> b[f][p](<span class="st">&quot;=&quot;</span>.<span class="at">html</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb48-6" title="6">        <span class="cf">if</span> (l <span class="op">!==</span> <span class="dv">-1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb48-7" title="7">            <span class="kw">var</span> q <span class="op">=</span> b[f][I](<span class="dv">0</span><span class="op">,</span> <span class="va">l</span>.<span class="at">html</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb48-8" title="8">                l <span class="op">=</span> b[f][I](l <span class="op">+</span> <span class="fl">1.</span>html)<span class="op">,</span></a>
<a class="sourceLine" id="cb48-9" title="9">                l <span class="op">=</span> l[Ca](<span class="ss">/</span><span class="sc">\+</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&quot; &quot;</span>.<span class="at">html</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb48-10" title="10">            <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb48-11" title="11">                d[q] <span class="op">=</span> <span class="at">e</span>(l)</a>
<a class="sourceLine" id="cb48-12" title="12">            <span class="op">}</span> <span class="cf">catch</span> (A) <span class="op">{}</span></a>
<a class="sourceLine" id="cb48-13" title="13">        <span class="op">}</span></a>
<a class="sourceLine" id="cb48-14" title="14">    <span class="op">}</span></a>
<a class="sourceLine" id="cb48-15" title="15">    c <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> (a <span class="op">=</span> d)<span class="op">;</span></a>
<a class="sourceLine" id="cb48-16" title="16">    <span class="cf">return</span> d</a>
<a class="sourceLine" id="cb48-17" title="17"><span class="op">}</span></a></code></pre></div>
<p>It is obfuscated, but it is understandable. It does not work because some variables are undefined.</p>
<p>They start to look for parameters on the url from <code>?</code> and also from the hash <code>#</code>. Then for each parameter they split in the equal sign <code>b[f][p](&quot;=&quot;.html)</code> (which looks like <code>indexOf</code>, they use the position of the char to get the key/value). Having it split they check whether the parameter has a value or not, if it has then they store the value of <code>d</code>, otherwise they just continue.</p>
<p>In the end the object <code>d</code> is returned, handling escaping and the <code>+</code> sign. This object is just like mine, it has the same behavior.</p>
<hr>
<p>My method as a <strong>jQuery plugin</strong></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb49-1" title="1">(<span class="kw">function</span>($) <span class="op">{</span></a>
<a class="sourceLine" id="cb49-2" title="2">    <span class="va">$</span>.<span class="at">QueryString</span> <span class="op">=</span> (<span class="kw">function</span>(paramsArray) <span class="op">{</span></a>
<a class="sourceLine" id="cb49-3" title="3">        <span class="kw">let</span> params <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb49-4" title="4"></a>
<a class="sourceLine" id="cb49-5" title="5">        <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">paramsArray</span>.<span class="at">length</span><span class="op">;</span> <span class="op">++</span>i)</a>
<a class="sourceLine" id="cb49-6" title="6">        <span class="op">{</span></a>
<a class="sourceLine" id="cb49-7" title="7">            <span class="kw">let</span> param <span class="op">=</span> paramsArray[i]</a>
<a class="sourceLine" id="cb49-8" title="8">                .<span class="at">split</span>(<span class="st">&#39;=&#39;</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-9" title="9"></a>
<a class="sourceLine" id="cb49-10" title="10">            <span class="cf">if</span> (<span class="va">param</span>.<span class="at">length</span> <span class="op">!==</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb49-11" title="11">                <span class="cf">continue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-12" title="12"></a>
<a class="sourceLine" id="cb49-13" title="13">            params[param[<span class="dv">0</span>]] <span class="op">=</span> <span class="at">decodeURIComponent</span>(param[<span class="dv">1</span>].<span class="at">replace</span>(<span class="ss">/</span><span class="sc">\+</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&quot; &quot;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb49-14" title="14">        <span class="op">}</span></a>
<a class="sourceLine" id="cb49-15" title="15"></a>
<a class="sourceLine" id="cb49-16" title="16">        <span class="cf">return</span> params<span class="op">;</span></a>
<a class="sourceLine" id="cb49-17" title="17">    <span class="op">}</span>)(<span class="va">window</span>.<span class="va">location</span>.<span class="va">search</span>.<span class="at">substr</span>(<span class="dv">1</span>).<span class="at">split</span>(<span class="st">&#39;&amp;amp;&#39;</span>))</a>
<a class="sourceLine" id="cb49-18" title="18"><span class="op">}</span>)(jQuery)<span class="op">;</span></a></code></pre></div>
<p>Usage</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb50-1" title="1"><span class="co">//Get a param</span></a>
<a class="sourceLine" id="cb50-2" title="2"><span class="va">$</span>.<span class="va">QueryString</span>.<span class="at">param</span></a>
<a class="sourceLine" id="cb50-3" title="3"><span class="co">//-or-</span></a>
<a class="sourceLine" id="cb50-4" title="4"><span class="va">$</span>.<span class="at">QueryString</span>[<span class="st">&quot;param&quot;</span>]</a>
<a class="sourceLine" id="cb50-5" title="5"><span class="co">//This outputs something like...</span></a>
<a class="sourceLine" id="cb50-6" title="6"><span class="co">//&quot;val&quot;</span></a>
<a class="sourceLine" id="cb50-7" title="7"></a>
<a class="sourceLine" id="cb50-8" title="8"><span class="co">//Get all params as object</span></a>
<a class="sourceLine" id="cb50-9" title="9"><span class="va">$</span>.<span class="at">QueryString</span></a>
<a class="sourceLine" id="cb50-10" title="10"><span class="co">//This outputs something like...</span></a>
<a class="sourceLine" id="cb50-11" title="11"><span class="co">//Object { param: &quot;val&quot;, param2: &quot;val&quot; }</span></a>
<a class="sourceLine" id="cb50-12" title="12"></a>
<a class="sourceLine" id="cb50-13" title="13"><span class="co">//Set a param (only in the $.QueryString object, doesn&#39;t affect the browser&#39;s querystring)</span></a>
<a class="sourceLine" id="cb50-14" title="14"><span class="va">$</span>.<span class="va">QueryString</span>.<span class="at">param</span> <span class="op">=</span> <span class="st">&quot;newvalue&quot;</span></a>
<a class="sourceLine" id="cb50-15" title="15"><span class="co">//This doesn&#39;t output anything, it just updates the $.QueryString object</span></a>
<a class="sourceLine" id="cb50-16" title="16"></a>
<a class="sourceLine" id="cb50-17" title="17"><span class="co">//Convert object into string suitable for url a querystring (Requires jQuery)</span></a>
<a class="sourceLine" id="cb50-18" title="18"><span class="va">$</span>.<span class="at">param</span>(<span class="va">$</span>.<span class="at">QueryString</span>)</a>
<a class="sourceLine" id="cb50-19" title="19"><span class="co">//This outputs something like...</span></a>
<a class="sourceLine" id="cb50-20" title="20"><span class="co">//&quot;param=newvalue&amp;amp;param2=val&quot;</span></a>
<a class="sourceLine" id="cb50-21" title="21"></a>
<a class="sourceLine" id="cb50-22" title="22"><span class="co">//Update the url/querystring in the browser&#39;s location bar with the $.QueryString object</span></a>
<a class="sourceLine" id="cb50-23" title="23"><span class="va">history</span>.<span class="at">replaceState</span>(<span class="op">{},</span> <span class="st">&#39;&#39;</span><span class="op">,</span> <span class="st">&quot;?&quot;</span> <span class="op">+</span> <span class="va">$</span>.<span class="at">param</span>(<span class="va">$</span>.<span class="at">QueryString</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb50-24" title="24"><span class="co">//-or-</span></a>
<a class="sourceLine" id="cb50-25" title="25"><span class="va">history</span>.<span class="at">pushState</span>(<span class="op">{},</span> <span class="st">&#39;&#39;</span><span class="op">,</span> <span class="st">&quot;?&quot;</span> <span class="op">+</span> <span class="va">$</span>.<span class="at">param</span>(<span class="va">$</span>.<span class="at">QueryString</span>))<span class="op">;</span></a></code></pre></div>
<hr>
<h5>
<a href="http://jsperf.com/querystring-with-javascript" rel="noreferrer">Performance test (split method against regex method)</a> (<a href="http://jsperf.com/" rel="noreferrer">jsPerf</a>)
</h2>
<p>Preparation code: methods declaration</p>
<h5>
Split test code
</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb51-1" title="1"><span class="kw">var</span> qs <span class="op">=</span> <span class="va">window</span>.<span class="at">GetQueryString</span>(query)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-2" title="2"></a>
<a class="sourceLine" id="cb51-3" title="3"><span class="kw">var</span> search <span class="op">=</span> qs[<span class="st">&quot;q&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb51-4" title="4"><span class="kw">var</span> value <span class="op">=</span> qs[<span class="st">&quot;value&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb51-5" title="5"><span class="kw">var</span> undef <span class="op">=</span> qs[<span class="st">&quot;undefinedstring&quot;</span>]<span class="op">;</span></a></code></pre></div>
<h5>
Regex test code
</h3>
<div class="sourceCode" id="cb52"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">var</span> search <span class="op">=</span> <span class="va">window</span>.<span class="at">getParameterByName</span>(<span class="st">&quot;q&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb52-2" title="2"><span class="kw">var</span> value <span class="op">=</span> <span class="va">window</span>.<span class="at">getParameterByName</span>(<span class="st">&quot;value&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb52-3" title="3"><span class="kw">var</span> undef <span class="op">=</span> <span class="va">window</span>.<span class="at">getParameterByName</span>(<span class="st">&quot;undefinedstring&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>Testing in Firefox 4.0 x86 on Windows Server 2008 R2 / 7 x64</strong></p>
<ul>
<li>
<strong>Split method</strong>: 144,780 ±2.17% fastest
</li>
<li>
<strong>Regex method</strong>: 13,891 ±0.85% | 90% slower
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="loop-through-an-array-in-javascript-score-3479539-in-2018" class="level3">
<h3>8: Loop through an array in JavaScript (score <a href="https://stackoverflow.com/q/3010840.html">3479539</a> in 2018)</h3>
<section id="question-7" class="level4">
<h4>Question</h4>
<p>In Java you can use a <code>for</code> loop to traverse objects in an array as follows:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb53-1" title="1">String[] myStringArray <span class="op">=</span> <span class="op">{</span><span class="st">&quot;Hello&quot;</span><span class="op">,</span> <span class="st">&quot;World&quot;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb53-2" title="2"><span class="cf">for</span> (String s <span class="op">:</span> myStringArray)</a>
<a class="sourceLine" id="cb53-3" title="3"><span class="op">{</span></a>
<a class="sourceLine" id="cb53-4" title="4">    <span class="co">// Do something</span></a>
<a class="sourceLine" id="cb53-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>Can you do the same in JavaScript?</p>
</section>
<section id="answer-2-score-3627" class="level4">
<h4>Answer 2 (score 3627)</h4>
<p>You have several options:</p>
<h5>
<ol type="1">
<li>Sequential <code>for</code> loop:
</h1></li>
</ol>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var myStringArray = [&quot;Hello&quot;,&quot;World&quot;]; var arrayLength = myStringArray.length; for (var i = 0; i &amp;lt; arrayLength; i++) {     console.log(myStringArray[i]);     //Do something }</code></p>
</div>
</div>
<p><strong>Pros</strong></p>
<ul>
<li>
Works on every environment
</li>
<li>
You can use <code>break</code> and <code>continue</code> flow control statements
</li>
</ul>
<p><strong>Cons</strong></p>
<ul>
<li>
Too verbose
</li>
<li>
Imperative
</li>
<li>
Easy to have <a href="https://en.wikipedia.org/wiki/Off-by-one_error#Looping_over_arrays" rel="noreferrer">off-by-one errors</a> (this is sometimes called a <em>fence post error</em>)
</li>
</ul>
<h5>
<ol start="2" type="1">
<li>Array.prototype.forEach
</h1></li>
</ol>
<p>The ES5 spec. introduced a lot of very helpful array methods, one of them, the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noreferrer"><code>Array.prototype.forEach</code></a> and it gives us a very short way to iterate over an array:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript const array = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;] array.forEach(function (item, index) {   console.log(item, index); });</code></p>
</div>
</div>
<p>Being almost 9 years as the time of writing that the ES5 spec. was released (Dec. 2009), it has been implemented by almost all modern engines in the desktop, server and mobile environments, so it’s safe to use them.</p>
<p>And with the ES6 arrow function syntax, it’s even more succinct:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb54-1" title="1"><span class="va">array</span>.<span class="at">forEach</span>(item <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(item))<span class="op">;</span></a></code></pre></div>
<p>Arrow functions are also being widely implemented, unless you plan to support very old platforms (e.g. IE11) you are also safe to go.</p>
<p><strong>Pros</strong></p>
<ul>
<li>
Very short and succinct.
</li>
<li>
Declarative
</li>
</ul>
<p><strong>Cons</strong></p>
<ul>
<li>
Cannot use <code>break</code> / <code>continue</code>
</li>
</ul>
<p>Normally, you can replace the need to <code>break</code> out of imperative loops by filtering the array elements before iterating them, for example:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb55-1" title="1"><span class="va">array</span>.<span class="at">filter</span>(item <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">item</span>.<span class="at">condition</span> <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb55-2" title="2">     .<span class="at">forEach</span>(item <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(item))</a></code></pre></div>
<p>Keep in mind if you are iterating an array <em>to build another array from it</em>, you should use <code>map</code>, I’ve seen this anti-pattern so many times.</p>
<p><strong>Anti-pattern:</strong></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb56-1" title="1"><span class="kw">const</span> numbers <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span><span class="op">,</span><span class="dv">4</span><span class="op">,</span><span class="dv">5</span>]<span class="op">,</span> doubled <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb56-2" title="2"></a>
<a class="sourceLine" id="cb56-3" title="3"><span class="va">numbers</span>.<span class="at">forEach</span>((n<span class="op">,</span> i) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span> doubled[i] <span class="op">=</span> n <span class="op">*</span> <span class="dv">2</span> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>Proper use case of <em>map</em>:</strong></p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript const numbers = [1,2,3,4,5]; const doubled = numbers.map(n =&gt; n * 2);</p>
<p>console.log(doubled);```</p>
</div>
</div>
<p>Also if you are trying to <em>reduce</em> the array to a value, for example, you want to sum an array of numbers, you should use the <em>reduce</em> method.</p>
<p><strong>Antipattern:</strong></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb57-1" title="1"><span class="kw">const</span> numbers <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span><span class="op">,</span><span class="dv">4</span><span class="op">,</span><span class="dv">5</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb57-2" title="2"><span class="kw">const</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb57-3" title="3"><span class="va">numbers</span>.<span class="at">forEach</span>(num <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span> total <span class="op">+=</span> num <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>Proper use of <em>reduce</em>:</strong></p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript const numbers = [1,2,3,4,5]; const sum = numbers.reduce((total, n) =&gt; total + n, 0);</p>
<p>console.log(sum);```</p>
</div>
</div>
<h5>
<ol start="3" type="1">
<li>ES6 <code>for-of</code> statement
</h1></li>
</ol>
<p>The ES6 standard introduces the concept of iterable objects and defines a new construct for traversing data, the <code>for...of</code> statement.</p>
<p>This statement work for any kind of iterable object and also for generators.</p>
<p>Array objects are by definition built-in iterables in ES6, so you can use this statement on them:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb58-1" title="1"><span class="kw">let</span> colors <span class="op">=</span> [<span class="st">&#39;red&#39;</span><span class="op">,</span> <span class="st">&#39;green&#39;</span><span class="op">,</span> <span class="st">&#39;blue&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb58-2" title="2"><span class="cf">for</span> (<span class="kw">const</span> color <span class="kw">of</span> colors)<span class="op">{</span></a>
<a class="sourceLine" id="cb58-3" title="3">  <span class="va">console</span>.<span class="at">log</span>(color)<span class="op">;</span></a>
<a class="sourceLine" id="cb58-4" title="4"><span class="op">}</span></a></code></pre></div>
<p><strong>Pros</strong></p>
<ul>
<li>
Can iterate over a large variety of objects.
</li>
<li>
Can use normal flow control statements (<code>break</code> / <code>continue</code>).
</li>
<li>
Useful to iterate serially asynchronous values.
</li>
</ul>
<p><strong>Cons</strong></p>
<ul>
<li>
If you are targeting older browsers the transpiled output <a href="https://babeljs.io/repl#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;spec=false&amp;loose=false&amp;code_lz=GYewTgBAFAxiB2BnALhOAbcETDSTYiAlAN4BQEeS-ApgHSYDms-4RA3GQL5A&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=true&amp;fileSize=false&amp;timeTravel=false&amp;sourceType=module&amp;lineWrap=false&amp;presets=es2015&amp;prettier=false&amp;targets=&amp;version=7.4.4&amp;externalPlugins=" rel="noreferrer">might surprise you</a>.
</li>
</ul>
<h5>
Do not use <code>for...in</code>
</h1>
<p><span class="citation" data-cites="zipcodeman">@zipcodeman</span> suggests the use of the <code>for...in</code> statement, but for iterating arrays <code>for-in</code> should be avoided, that statement is meant to <strong>enumerate</strong> object properties.</p>
<p>It shouldn’t be used for array-like objects because:</p>
<ul>
<li>
The order of iteration is not guaranteed, the array indexes may not be visited in numeric order.
</li>
<li>
Inherited properties are also enumerated.
</li>
</ul>
<p>The second point is that it can give you a lot of problems, for example, if you extend the <code>Array.prototype</code> object to include a method there, that property will be also enumerated.</p>
<p>For example:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript Array.prototype.foo = “foo!”; var array = [‘a’, ‘b’, ‘c’];</p>
<pre><code>for (var i in array) {
  console.log(array[i]);
}```</code></pre>
</div>
</div>
<p>The above code will console “a”, “b”, “c” and “foo!”.</p>
<p>That be particularly a problem if you use some library that relies heavily on native prototypes augmention (such as MooTools for example).</p>
<p>The <code>for-in</code> statement as I said before is there to <em>enumerate</em> object properties, for example:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var obj = { “a”: 1, “b”: 2, “c”: 3 };</p>
<pre><code>for (var prop in obj) {
  if (obj.hasOwnProperty(prop)) { 
  // or if (Object.prototype.hasOwnProperty.call(obj,prop)) for safety...
    console.log(&quot;prop: &quot; + prop + &quot; value: &quot; + obj[prop])
  }
}```</code></pre>
</div>
</div>
<p>In the above example the <code>hasOwnProperty</code> method allows you to enumerate only <em>own properties</em>, that’s it, only the properties that the object physically has, no inherited properties.</p>
<p>I would recommend you to read the following article:</p>
<ul>
<li>
<a href="http://web.archive.org/web/20101213150231/http://dhtmlkitchen.com/?category=/JavaScript/&amp;date=2007/10/21/&amp;entry=Iteration-Enumeration-Primitives-and-Objects" rel="noreferrer">Enumeration VS Iteration</a>
</li>
</ul>
</section>
<section id="answer-3-score-1076" class="level4">
<h4>Answer 3 (score 1076)</h4>
<p>Yes, assuming your implementation includes the <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-for-in-and-for-of-statements" rel="noreferrer"><code>for</code>…<code>of</code></a> feature introduced in <a href="http://www.ecma-international.org/ecma-262/6.0/" rel="noreferrer">ECMAScript 2015</a> (the “Harmony” release)… which is a pretty safe assumption these days.</p>
<p>It works like this:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb61-1" title="1"><span class="co">// REQUIRES ECMASCRIPT 2015+</span></a>
<a class="sourceLine" id="cb61-2" title="2"><span class="kw">var</span> s<span class="op">,</span> myStringArray <span class="op">=</span> [<span class="st">&quot;Hello&quot;</span><span class="op">,</span> <span class="st">&quot;World&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb61-3" title="3"><span class="cf">for</span> (s <span class="kw">of</span> myStringArray) <span class="op">{</span></a>
<a class="sourceLine" id="cb61-4" title="4">  <span class="co">// ... do something with s ...</span></a>
<a class="sourceLine" id="cb61-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>Or better yet, since ECMAScript 2015 also provides block-scoped variables via <code>let</code> and <code>const</code>:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb62-1" title="1"><span class="co">// REQUIRES ECMASCRIPT 2015+</span></a>
<a class="sourceLine" id="cb62-2" title="2"><span class="kw">const</span> myStringArray <span class="op">=</span> [<span class="st">&quot;Hello&quot;</span><span class="op">,</span> <span class="st">&quot;World&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb62-3" title="3"><span class="cf">for</span> (<span class="kw">const</span> s <span class="kw">of</span> myStringArray) <span class="op">{</span></a>
<a class="sourceLine" id="cb62-4" title="4">  <span class="co">// ... do something with s ...</span></a>
<a class="sourceLine" id="cb62-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb62-6" title="6"><span class="co">// s is no longer defined here</span></a></code></pre></div>
<p>A note on sparse arrays: an array in JavaScript may not actually store as many items as reported by its <code>length</code>; that reported number is simply one greater than the highest index at which a value is stored. If the array holds fewer elements than indicated by its length, its said to be <em>sparse</em>. For example, it’s perfectly legitimate to have an array with items only at indexes 3, 12, and 247; the <code>length</code> of such an array is reported as 248, though it is only actually storing 3 values. If you try to access an item at any other index, the array will appear to have the <code>undefined</code> value there. So when you want to “loop through” an array, you have a question to answer: do you want to loop over the full range indicated by its length and process <code>undefined</code>s for any missing elements, or do you only want to process the elements actually present? There are plenty of applications for both approaches; it just depends on what you’re using the array for.</p>
<p>If you iterate over an array with <code>for</code>..<code>of</code>, the body of the loop is executed <code>length</code> times, and the loop control variable is set to <code>undefined</code> for any items not actually present in the array. Depending on the details of your “do something with” code, that behavior may be what you want, but if that’s not what you want, you should use a different approach.</p>
<p>Of course, some developers have no choice but to use a different approach anyway, because for whatever reason they’re targeting a version of JavaScript that doesn’t yet support <code>for</code>…<code>of</code>.</p>
<p>As long as your JavaScript implementation is compliant with the <em>previous</em> edition of the ECMAScript specification (which rules out, for example, versions of Internet Explorer before 9), then you can use the <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.foreach" rel="noreferrer"><code>Array#forEach</code></a> iterator method instead of a loop. In that case, you pass a function to be called on each item in the array:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb63-1" title="1"><span class="kw">var</span> myStringArray <span class="op">=</span> [ <span class="st">&quot;Hello&quot;</span><span class="op">,</span> <span class="st">&quot;World&quot;</span> ]<span class="op">;</span></a>
<a class="sourceLine" id="cb63-2" title="2"><span class="va">myStringArray</span>.<span class="at">forEach</span>( <span class="kw">function</span>(s) <span class="op">{</span> </a>
<a class="sourceLine" id="cb63-3" title="3">     <span class="co">// ... do something with s ...</span></a>
<a class="sourceLine" id="cb63-4" title="4"><span class="op">}</span> )<span class="op">;</span></a></code></pre></div>
<p>Unlike <code>for</code>…<code>of</code>, <code>.forEach</code> only calls the function for elements that actually contain values. If passed our hypothetical array with three elements and a length of 248, it will only call the function three times, not 248 times. It also distinguishes between missing elements and elements that are actually set to <code>undefined</code>; for the latter, it will still call the function, passing <code>undefined</code> as the argument. If this is how you want to handle sparse arrays, <code>.forEach</code> may be the way to go even if your interpreter supports <code>for</code>…<code>of</code>.</p>
<p>The final option, which works in <em>all</em> versions of JavaScript, is <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-for-statement" rel="noreferrer">an explicit counting loop</a>. You simply count from 0 up to one less than the length and use the counter as an index. The basic loop looks like this:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb64-1" title="1"><span class="kw">var</span> i<span class="op">,</span> s<span class="op">,</span> myStringArray <span class="op">=</span> [ <span class="st">&quot;Hello&quot;</span><span class="op">,</span> <span class="st">&quot;World&quot;</span> ]<span class="op">,</span> len <span class="op">=</span> <span class="va">myStringArray</span>.<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="cf">for</span> (i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&amp;</span>lt<span class="op">;</span>len<span class="op">;</span> <span class="op">++</span>i) <span class="op">{</span></a>
<a class="sourceLine" id="cb64-3" title="3">  s <span class="op">=</span> myStringArray[i]<span class="op">;</span></a>
<a class="sourceLine" id="cb64-4" title="4">  <span class="co">// ... do something with s ...</span></a>
<a class="sourceLine" id="cb64-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>One advantage of this approach is that you can choose how to handle sparse arrays; the above code will run the body of the loop the full <code>length</code> times, with <code>s</code> set to <code>undefined</code> for any missing elements, just like <code>for</code>..<code>of</code>. If you instead want to handle only the actually-present elements of a sparse array, like <code>.forEach</code>, you can add a simple <code>in</code> test on the index:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb65-1" title="1"><span class="kw">var</span> i<span class="op">,</span> s<span class="op">,</span> myStringArray <span class="op">=</span> [ <span class="st">&quot;Hello&quot;</span><span class="op">,</span> <span class="st">&quot;World&quot;</span> ]<span class="op">,</span> len <span class="op">=</span> <span class="va">myStringArray</span>.<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="cf">for</span> (i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&amp;</span>lt<span class="op">;</span>len<span class="op">;</span> <span class="op">++</span>i) <span class="op">{</span></a>
<a class="sourceLine" id="cb65-3" title="3">  <span class="cf">if</span> (i <span class="kw">in</span> myStringArray) <span class="op">{</span></a>
<a class="sourceLine" id="cb65-4" title="4">    s <span class="op">=</span> myStringArray[i]<span class="op">;</span></a>
<a class="sourceLine" id="cb65-5" title="5">    <span class="co">// ... do something with s ...</span></a>
<a class="sourceLine" id="cb65-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb65-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>Assigning the length value to the local variable (as opposed to including the full <code>myStringArray.length</code> expression in the loop condition) can make a significant difference in performance since it skips a property lookup each time through; using Rhino on my machine, the speedup is 43%.</p>
<p>You may see the length caching done in the loop initialization clause, like this:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb66-1" title="1"><span class="kw">var</span> i<span class="op">,</span> len<span class="op">,</span> myStringArray <span class="op">=</span> [ <span class="st">&quot;Hello&quot;</span><span class="op">,</span> <span class="st">&quot;World&quot;</span> ]<span class="op">;</span></a>
<a class="sourceLine" id="cb66-2" title="2"><span class="cf">for</span> (len <span class="op">=</span> <span class="va">myStringArray</span>.<span class="at">length</span><span class="op">,</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i<span class="op">&amp;</span>lt<span class="op">;</span>len<span class="op">;</span> <span class="op">++</span>i) <span class="op">{</span></a></code></pre></div>
<p>The <code>for</code>…<code>in</code> syntax mentioned by others is for looping over an object’s properties; since an Array in JavaScript is just an object with numeric property names (and an automatically-updated <code>length</code> property), you can theoretically loop over an Array with it. But the problem is that it doesn’t restrict itself to the numeric property values (remember that even methods are actually just properties whose value is a closure), nor is it guaranteed to iterate over those in numeric order. Therefore, the <code>for</code>…<code>in</code> syntax should <em>not</em> be used for looping through Arrays.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-format-a-javascript-date-score-3218299-in-2018" class="level3">
<h3>9: How to format a JavaScript date (score <a href="https://stackoverflow.com/q/3552461.html">3218299</a> in 2018)</h3>
<section id="question-8" class="level4">
<h4>Question</h4>
<p>How can I format a JavaScript date object to print as <code>10-Aug-2010</code>?</p>
</section>
<section id="answer-accepted-score-1108" class="level4">
<h4>Answer accepted (score 1108)</h4>
<blockquote>
Attention: There are better answers below. This answer was written in 2010 and newer and better solutions have arrived since. The OP should accept another answer.
</blockquote>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function formatDate(date) { var monthNames = [ “January”, “February”, “March”, “April”, “May”, “June”, “July”, “August”, “September”, “October”, “November”, “December” ];</p>
<p>var day = date.getDate(); var monthIndex = date.getMonth(); var year = date.getFullYear();</p>
<p>return day + ’ ’ + monthNames[monthIndex] + ’ ’ + year; }</p>
<p>console.log(formatDate(new Date())); // show current date-time in console```</p>
</div>
</div>
<p>You can edit the array <code>monthNames</code> to use Jan, Feb, Mar, etc..</p>
</section>
<section id="answer-2-score-1692" class="level4">
<h4>Answer 2 (score 1692)</h4>
<h5>
Use <code>toLocaleDateString()</code>
</h3>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString" rel="noreferrer"><code>toLocaleDateString()</code></a> method returns a string with a language-sensitive representation of the date portion of the date. The locales and options arguments let applications specify the language whose formatting conventions should be used and allow to customize the behavior of the function.</p>
<h5>
The values you can passed in options for different keys:
</h3>
<ol>
<li>
<strong>day:</strong> <br/> The representation of the day. <br/> Possible values are “numeric”, “2-digit”.
</li>
<li>
<strong>weekday:</strong> <br/> The representation of the weekday. <br/> Possible values are “narrow”, “short”, “long”.
</li>
<li>
<strong>year:</strong> <br/> The representation of the year. <br/> Possible values are “numeric”, “2-digit”.
</li>
<li>
<strong>month:</strong> <br/> The representation of the month. <br/> Possible values are “numeric”, “2-digit”, “narrow”, “short”, “long”.
</li>
<li>
<strong>hour:</strong> <br/> The representation of the hour. <br/> Possible values are “numeric”, “2-digit”.
</li>
<li>
<strong>minute:</strong> The representation of the minute. <br/> Possible values are “numeric”, “2-digit”.
</li>
<li>
<strong>second:</strong> <br/> The representation of the second. <br/> Possible values are “numeric”, 2-digit&quot;.
</li>
</ol>
<p>All these keys are optional. You can change the number of options values based on your requirements, and this will also reflect the presence of each date time term.</p>
<p>Note: If you would only like to configure the content options, but still use the current locale, passing <code>null</code> for the first parameter will cause an error. Use <code>undefined</code> instead.</p>
<h5>
For different languages:
</h3>
<ol>
<li>
<strong>“en-US”:</strong> For English
</li>
<li>
<strong>“hi-IN”:</strong> For Hindi
</li>
<li>
<strong>“ja-JP”:</strong> For Japanese
</li>
</ol>
<p>You can use more language options.</p>
<h5>
For example
</h3>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var options = { weekday: ‘long’, year: ‘numeric’, month: ‘long’, day: ‘numeric’ }; var today = new Date();</p>
<p>console.log(today.toLocaleDateString(“en-US”)); // 9/17/2016 console.log(today.toLocaleDateString(“en-US”, options)); // Saturday, September 17, 2016 console.log(today.toLocaleDateString(“hi-IN”, options)); // शनिवार, 17 सितंबर 2016```</p>
</div>
</div>
<p>You can also use the <code>toLocaleString()</code> method for the same purpose. The only difference is this function provides the time when you don’t pass any options.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb67-1" title="1"><span class="co">// Example</span></a>
<a class="sourceLine" id="cb67-2" title="2"><span class="dv">9</span>/<span class="dv">17</span>/<span class="dv">2016</span><span class="op">,</span> <span class="dv">1</span><span class="op">:</span><span class="dv">21</span><span class="op">:</span><span class="dv">34</span> PM</a></code></pre></div>
<h5>
References:
</h3>
<ul>
<li>
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString" rel="noreferrer"><code>toLocaleString()</code></a>
</p>
</li>
<li>
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString" rel="noreferrer"><code>toLocaleDateString()</code></a>
</p>
</li>
</ul>
</section>
<section id="answer-3-score-584" class="level4">
<h4>Answer 3 (score 584)</h4>
<p>Use the <a href="http://blog.stevenlevithan.com/archives/date-time-format" rel="noreferrer">date.format library</a>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb68-1" title="1"><span class="kw">var</span> dateFormat <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;dateformat&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb68-2" title="2"><span class="kw">var</span> now <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb68-3" title="3"><span class="at">dateFormat</span>(now<span class="op">,</span> <span class="st">&quot;dddd, mmmm dS, yyyy, h:MM:ss TT&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>returns:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb69-1" title="1">Saturday<span class="op">,</span> June 9th<span class="op">,</span> <span class="dv">2007</span><span class="op">,</span> <span class="dv">5</span><span class="op">:</span><span class="dv">46</span><span class="op">:</span><span class="dv">21</span> PM </a></code></pre></div>
<p><a href="https://www.npmjs.com/package/dateformat" rel="noreferrer">dateformat on npm</a></p>
<p><a href="http://jsfiddle.net/phZr7/1/" rel="noreferrer">http://jsfiddle.net/phZr7/1/</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="setting-checked-for-a-checkbox-with-jquery-score-3137898-in-2016" class="level3">
<h3>10: Setting “checked” for a checkbox with jQuery? (score <a href="https://stackoverflow.com/q/426258.html">3137898</a> in 2016)</h3>
<section id="question-9" class="level4">
<h4>Question</h4>
<p>I’d like to do something like this to tick a <code>checkbox</code> using <strong>jQuery</strong>:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb70-1" title="1"><span class="at">$</span>(<span class="st">&quot;.myCheckBox&quot;</span>).<span class="at">checked</span>(<span class="kw">true</span>)<span class="op">;</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb71-1" title="1"><span class="at">$</span>(<span class="st">&quot;.myCheckBox&quot;</span>).<span class="at">selected</span>(<span class="kw">true</span>)<span class="op">;</span></a></code></pre></div>
<p>Does such a thing exist?</p>
</section>
<section id="answer-accepted-score-5804" class="level4">
<h4>Answer accepted (score 5804)</h4>
<h5>
Modern jQuery
</h2>
<p>Use <a href="https://api.jquery.com/prop" rel="noreferrer"><code>.prop()</code></a>:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb72-1" title="1"><span class="at">$</span>(<span class="st">&#39;.myCheckbox&#39;</span>).<span class="at">prop</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-2" title="2"><span class="at">$</span>(<span class="st">&#39;.myCheckbox&#39;</span>).<span class="at">prop</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a></code></pre></div>
<h5>
DOM API
</h2>
<p>If you’re working with just one element, you can always just access the underlying <a href="https://developer.mozilla.org/en/docs/Web/API/HTMLInputElement" rel="noreferrer"><code>HTMLInputElement</code></a> and modify its <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement#Properties_checkbox_radio" rel="noreferrer"><code>.checked</code></a> property:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb73-1" title="1"><span class="at">$</span>(<span class="st">&#39;.myCheckbox&#39;</span>)[<span class="dv">0</span>].<span class="at">checked</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="at">$</span>(<span class="st">&#39;.myCheckbox&#39;</span>)[<span class="dv">0</span>].<span class="at">checked</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a></code></pre></div>
<p>The benefit to using the <code>.prop()</code> and <code>.attr()</code> methods instead of this is that they will operate on all matched elements.</p>
<h5>
jQuery 1.5.x and below
</h2>
<p>The <code>.prop()</code> method is not available, so you need to use <a href="https://api.jquery.com/attr" rel="noreferrer"><code>.attr()</code></a>.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb74-1" title="1"><span class="at">$</span>(<span class="st">&#39;.myCheckbox&#39;</span>).<span class="at">attr</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb74-2" title="2"><span class="at">$</span>(<span class="st">&#39;.myCheckbox&#39;</span>).<span class="at">attr</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a></code></pre></div>
<p>Note that this is <a href="https://github.com/jquery/jquery/blob/1.5.2/test/unit/attributes.js#L157" rel="noreferrer">the approach used by jQuery’s unit tests prior to version 1.6</a> and is preferable to using <code>$('.myCheckbox').removeAttr('checked');</code> since the latter will, if the box was initially checked, change the behaviour of a call to <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement.reset" rel="noreferrer"><code>.reset()</code></a> on any form that contains it – a subtle but probably unwelcome behaviour change.</p>
<p>For more context, some incomplete discussion of the changes to the handling of the <code>checked</code> attribute/property in the transition from 1.5.x to 1.6 can be found in the <a href="https://blog.jquery.com/2011/05/03/jquery-16-released/" rel="noreferrer">version 1.6 release notes</a> and the <strong>Attributes vs. Properties</strong> section of the <a href="https://api.jquery.com/prop" rel="noreferrer"><code>.prop()</code> documentation</a>.</p>
</section>
<section id="answer-2-score-679" class="level4">
<h4>Answer 2 (score 679)</h4>
<p>Use:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb75-1" title="1"><span class="at">$</span>(<span class="st">&quot;.myCheckbox&quot;</span>).<span class="at">attr</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span> <span class="co">// Deprecated</span></a>
<a class="sourceLine" id="cb75-2" title="2"><span class="at">$</span>(<span class="st">&quot;.myCheckbox&quot;</span>).<span class="at">prop</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></a></code></pre></div>
<p>And if you want to check if a checkbox is checked or not:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb76-1" title="1"><span class="at">$</span>(<span class="st">&#39;.myCheckbox&#39;</span>).<span class="at">is</span>(<span class="st">&#39;:checked&#39;</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-304" class="level4">
<h4>Answer 3 (score 304)</h4>
<p>This is the correct way of checking and unchecking checkboxes with jQuery, as it is cross-platform standard, and <em>will</em> allow form reposts.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb77-1" title="1"><span class="at">$</span>(<span class="st">&#39;.myCheckBox&#39;</span>).<span class="at">each</span>(<span class="kw">function</span>()<span class="op">{</span> <span class="kw">this</span>.<span class="at">checked</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb77-2" title="2"></a>
<a class="sourceLine" id="cb77-3" title="3"><span class="at">$</span>(<span class="st">&#39;.myCheckBox&#39;</span>).<span class="at">each</span>(<span class="kw">function</span>()<span class="op">{</span> <span class="kw">this</span>.<span class="at">checked</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>By doing this, you are using JavaScript standards for checking and unchecking checkboxes, so any browser that properly implements the “checked” property of the checkbox element will run this code flawlessly. This <em>should</em> be all major browsers, but I am unable to test previous to Internet Explorer 9.</p>
<p><strong>The Problem</strong> (jQuery 1.6):</p>
<p>Once a user clicks on a checkbox, that checkbox stops responding to the “checked” attribute changes.</p>
<p>Here is an example of the checkbox attribute failing to do the job after someone has <em>clicked</em> the checkbox (this happens in Chrome).</p>
<p><strong><a href="http://jsfiddle.net/xixonia/zgcrB/">Fiddle</a></strong></p>
<p><strong>The Solution:</strong></p>
<p>By using JavaScript’s “checked” property on the <a href="http://en.wikipedia.org/wiki/Document_Object_Model">DOM</a> elements, we are able to solve the problem directly, instead of trying to manipulate the DOM into doing what we <em>want</em> it to do.</p>
<p><a href="http://jsfiddle.net/xixonia/WnbNC/"><strong>Fiddle</strong></a></p>
<p>This plugin will alter the checked property of any elements selected by jQuery, and successfully check and uncheck checkboxes under all circumstances. So, while this may seem like an over-bearing solution, it will make your site’s user experience better, and help prevent user frustration.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb78-1" title="1">(<span class="kw">function</span>( $ ) <span class="op">{</span></a>
<a class="sourceLine" id="cb78-2" title="2">    <span class="va">$</span>.<span class="va">fn</span>.<span class="at">checked</span> <span class="op">=</span> <span class="kw">function</span>(value) <span class="op">{</span></a>
<a class="sourceLine" id="cb78-3" title="3">        <span class="cf">if</span>(value <span class="op">===</span> <span class="kw">true</span> <span class="op">||</span> value <span class="op">===</span> <span class="kw">false</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb78-4" title="4">            <span class="co">// Set the value of the checkbox</span></a>
<a class="sourceLine" id="cb78-5" title="5">            <span class="at">$</span>(<span class="kw">this</span>).<span class="at">each</span>(<span class="kw">function</span>()<span class="op">{</span> <span class="kw">this</span>.<span class="at">checked</span> <span class="op">=</span> value<span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb78-6" title="6">        <span class="op">}</span> </a>
<a class="sourceLine" id="cb78-7" title="7">        <span class="cf">else</span> <span class="cf">if</span>(value <span class="op">===</span> <span class="kw">undefined</span> <span class="op">||</span> value <span class="op">===</span> <span class="st">&#39;toggle&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb78-8" title="8">            <span class="co">// Toggle the checkbox</span></a>
<a class="sourceLine" id="cb78-9" title="9">            <span class="at">$</span>(<span class="kw">this</span>).<span class="at">each</span>(<span class="kw">function</span>()<span class="op">{</span> <span class="kw">this</span>.<span class="at">checked</span> <span class="op">=</span> <span class="op">!</span><span class="kw">this</span>.<span class="at">checked</span><span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb78-10" title="10">        <span class="op">}</span></a>
<a class="sourceLine" id="cb78-11" title="11"></a>
<a class="sourceLine" id="cb78-12" title="12">        <span class="cf">return</span> <span class="kw">this</span><span class="op">;</span></a>
<a class="sourceLine" id="cb78-13" title="13">    <span class="op">};</span></a>
<a class="sourceLine" id="cb78-14" title="14"><span class="op">}</span>)( jQuery )<span class="op">;</span></a></code></pre></div>
<p>Alternatively, if you do not want to use a plugin, you can use the following code snippets:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb79-1" title="1"><span class="co">// Check</span></a>
<a class="sourceLine" id="cb79-2" title="2"><span class="at">$</span>(<span class="st">&#39;:checkbox&#39;</span>).<span class="at">prop</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-3" title="3"></a>
<a class="sourceLine" id="cb79-4" title="4"><span class="co">// Un-check</span></a>
<a class="sourceLine" id="cb79-5" title="5"><span class="at">$</span>(<span class="st">&#39;:checkbox&#39;</span>).<span class="at">prop</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-6" title="6"></a>
<a class="sourceLine" id="cb79-7" title="7"><span class="co">// Toggle</span></a>
<a class="sourceLine" id="cb79-8" title="8"><span class="at">$</span>(<span class="st">&#39;:checkbox&#39;</span>).<span class="at">prop</span>(<span class="st">&#39;checked&#39;</span><span class="op">,</span> <span class="kw">function</span> (i<span class="op">,</span> value) <span class="op">{</span></a>
<a class="sourceLine" id="cb79-9" title="9">    <span class="cf">return</span> <span class="op">!</span>value<span class="op">;</span></a>
<a class="sourceLine" id="cb79-10" title="10"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-replace-all-occurrences-of-a-string-score-3132930-in-2019" class="level3">
<h3>11: How to replace all occurrences of a string? (score <a href="https://stackoverflow.com/q/1144783.html">3132930</a> in 2019)</h3>
<section id="question-10" class="level4">
<h4>Question</h4>
<p>I have this string:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb80-1" title="1"><span class="st">&quot;Test abc test test abc test test test abc test test abc&quot;</span></a></code></pre></div>
<p>Doing:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb81-1" title="1">str <span class="op">=</span> <span class="va">str</span>.<span class="at">replace</span>(<span class="st">&#39;abc&#39;</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>seems to only remove the first occurrence of <code>abc</code> in the string above.</p>
<p>How can I replace <strong>all</strong> occurrences of it?</p>
</section>
<section id="answer-accepted-score-2346" class="level4">
<h4>Answer accepted (score 2346)</h4>
<p>For the sake of completeness, I got to thinking about which method I should use to do this. There are basically two ways to do this as suggested by the other answers on this page.</p>
<p><strong>Note:</strong> In general, extending the built-in prototypes in JavaScript is generally not recommended. I am providing as extensions on the String prototype simply for purposes of illustration, showing different implementations of a hypothetical standard method on the <code>String</code> built-in prototype.</p>
<hr>
<h5>
Regular Expression Based Implementation
</h3>
<div class="sourceCode" id="cb82"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb82-1" title="1"><span class="va">String</span>.<span class="va">prototype</span>.<span class="at">replaceAll</span> <span class="op">=</span> <span class="kw">function</span>(search<span class="op">,</span> replacement) <span class="op">{</span></a>
<a class="sourceLine" id="cb82-2" title="2">    <span class="kw">var</span> target <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></a>
<a class="sourceLine" id="cb82-3" title="3">    <span class="cf">return</span> <span class="va">target</span>.<span class="at">replace</span>(<span class="kw">new</span> <span class="at">RegExp</span>(search<span class="op">,</span> <span class="st">&#39;g&#39;</span>)<span class="op">,</span> replacement)<span class="op">;</span></a>
<a class="sourceLine" id="cb82-4" title="4"><span class="op">};</span></a></code></pre></div>
<h5>
Split and Join (Functional) Implementation
</h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb83-1" title="1"><span class="va">String</span>.<span class="va">prototype</span>.<span class="at">replaceAll</span> <span class="op">=</span> <span class="kw">function</span>(search<span class="op">,</span> replacement) <span class="op">{</span></a>
<a class="sourceLine" id="cb83-2" title="2">    <span class="kw">var</span> target <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></a>
<a class="sourceLine" id="cb83-3" title="3">    <span class="cf">return</span> <span class="va">target</span>.<span class="at">split</span>(search).<span class="at">join</span>(replacement)<span class="op">;</span></a>
<a class="sourceLine" id="cb83-4" title="4"><span class="op">};</span></a></code></pre></div>
<hr>
<p>Not knowing too much about how regular expressions work behind the scenes in terms of efficiency, I tended to lean toward the split and join implementation in the past without thinking about performance. When I did wonder which was more efficient, and by what margin, I used it as an excuse to find out.</p>
<p>On my Chrome Windows 8 machine, <strong>the regular expression based implementation is the fastest</strong>, with the <strong>split and join implementation being 53% slower</strong>. Meaning the regular expressions are twice as fast for the lorem ipsum input I used.</p>
<p>Check out this <a href="http://jsben.ch/#/LFfWA" rel="noreferrer"><strong>benchmark</strong></a> running these two implementations against each other.</p>
<hr>
<p>As noted in the comment below by <span class="citation" data-cites="ThomasLeduc">@ThomasLeduc</span> and others, there could be an issue with the regular expression-based implementation if <code>search</code> contains certain characters which are reserved as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_special_characters" rel="noreferrer">special characters in regular expressions</a>. The implementation assumes that the caller will escape the string beforehand or will only pass strings that are without the characters in the table in <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_special_characters" rel="noreferrer">Regular Expressions</a></em> (MDN).</p>
<p>MDN also provides an implementation to escape our strings. It would be nice if this was also standardized as <code>RegExp.escape(str)</code>, but alas, it does not exist:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb84-1" title="1"><span class="kw">function</span> <span class="at">escapeRegExp</span>(str) <span class="op">{</span></a>
<a class="sourceLine" id="cb84-2" title="2">  <span class="cf">return</span> <span class="va">str</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">[.*+?^${}()|[\]\\]</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">$&amp;amp;&quot;</span>)<span class="op">;</span> <span class="co">// $&amp;amp; means the whole matched string</span></a>
<a class="sourceLine" id="cb84-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>We could call <code>escapeRegExp</code> within our <code>String.prototype.replaceAll</code> implementation, however, I’m not sure how much this will affect the performance (potentially even for strings for which the escape is not needed, like all alphanumeric strings).</p>
</section>
<section id="answer-2-score-4097" class="level4">
<h4>Answer 2 (score 4097)</h4>
<div class="sourceCode" id="cb85"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb85-1" title="1">str <span class="op">=</span> <span class="va">str</span>.<span class="at">replace</span>(<span class="ss">/abc/g</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>In response to comment:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb86-1" title="1"><span class="kw">var</span> find <span class="op">=</span> <span class="st">&#39;abc&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb86-2" title="2"><span class="kw">var</span> re <span class="op">=</span> <span class="kw">new</span> <span class="at">RegExp</span>(find<span class="op">,</span> <span class="st">&#39;g&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb86-3" title="3"></a>
<a class="sourceLine" id="cb86-4" title="4">str <span class="op">=</span> <span class="va">str</span>.<span class="at">replace</span>(re<span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>In response to <a href="https://stackoverflow.com/users/49153/click-upvote">Click Upvote</a>’s comment, you could simplify it even more:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb87-1" title="1"><span class="kw">function</span> <span class="at">replaceAll</span>(str<span class="op">,</span> find<span class="op">,</span> replace) <span class="op">{</span></a>
<a class="sourceLine" id="cb87-2" title="2">    <span class="cf">return</span> <span class="va">str</span>.<span class="at">replace</span>(<span class="kw">new</span> <span class="at">RegExp</span>(find<span class="op">,</span> <span class="st">&#39;g&#39;</span>)<span class="op">,</span> replace)<span class="op">;</span></a>
<a class="sourceLine" id="cb87-3" title="3"><span class="op">}</span></a></code></pre></div>
<p><strong>Note:</strong> Regular expressions contain special (meta) characters, and as such it is dangerous to blindly pass an argument in the <code>find</code> function above without pre-processing it to escape those characters. This is covered in the <a href="https://developer.mozilla.org/en-US/" rel="noreferrer">Mozilla Developer Network</a>’s <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters" rel="noreferrer">JavaScript Guide on Regular Expressions</a>, where they present the following utility function:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb88-1" title="1"><span class="kw">function</span> <span class="at">escapeRegExp</span>(str) <span class="op">{</span></a>
<a class="sourceLine" id="cb88-2" title="2">    <span class="cf">return</span> <span class="va">str</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">([.*+?^=!:${}()|\[\]\/\\])</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">$1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb88-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>So in order to make the <code>replaceAll()</code> function above safer, it could be modified to the following if you also include <code>escapeRegExp</code>:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb89-1" title="1"><span class="kw">function</span> <span class="at">replaceAll</span>(str<span class="op">,</span> find<span class="op">,</span> replace) <span class="op">{</span></a>
<a class="sourceLine" id="cb89-2" title="2">    <span class="cf">return</span> <span class="va">str</span>.<span class="at">replace</span>(<span class="kw">new</span> <span class="at">RegExp</span>(<span class="at">escapeRegExp</span>(find)<span class="op">,</span> <span class="st">&#39;g&#39;</span>)<span class="op">,</span> replace)<span class="op">;</span></a>
<a class="sourceLine" id="cb89-3" title="3"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-1286" class="level4">
<h4>Answer 3 (score 1286)</h4>
<p><strong>Note: Don’t use this in real code.</strong></p>
<p>As an alternative to regular expressions for a simple literal string, you could use</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb90-1" title="1">str <span class="op">=</span> <span class="st">&quot;Test abc test test abc test...&quot;</span>.<span class="at">split</span>(<span class="st">&quot;abc&quot;</span>).<span class="at">join</span>(<span class="st">&quot;&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>The general pattern is</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb91-1" title="1"><span class="va">str</span>.<span class="at">split</span>(search).<span class="at">join</span>(replacement)</a></code></pre></div>
<p>This used to be faster in some cases than using <code>replaceAll</code> and a regular expression, but that doesn’t seem to be the case anymore in modern browsers. So, this should really only be used as a quick hack to avoid needing to escape the regular expression, not in real code.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-append-something-to-an-array-score-2888739-in-2017" class="level3">
<h3>12: How to append something to an array? (score <a href="https://stackoverflow.com/q/351409.html">2888739</a> in 2017)</h3>
<section id="question-11" class="level4">
<h4>Question</h4>
<p>How do I append an object (such as a string or number) to an array in JavaScript?</p>
</section>
<section id="answer-accepted-score-4026" class="level4">
<h4>Answer accepted (score 4026)</h4>
<p>Use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" rel="noreferrer"><code>Array.prototype.push</code></a> method to append values to an array:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript // initialize array var arr = [ “Hi”, “Hello”, “Bonjour”];</p>
<p>// append new value to the array arr.push(“Hola”);</p>
<p>console.log(arr);```</p>
</div>
</div>
<hr>
<p>You can use the <code>push()</code> function to append more than one value to an array in a single call:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript // initialize array var arr = [“Hi”, “Hello”, “Bonjour”, “Hola”];</p>
<p>// append multiple values to the array arr.push(“Salut”, “Hey”);</p>
<p>// display all values for (var i = 0; i &lt; arr.length; i++) { console.log(arr[i]); }```</p>
</div>
</div>
<hr>
<p><strong>Update</strong></p>
<p>If you want to add the items of one array to another array, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" rel="noreferrer"><code>firstArray.concat(secondArray)</code></a>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var arr = [ “apple”, “banana”, “cherry”];</p>
<p>arr = arr.concat([ “dragonfruit”, “elderberry”, “fig”]);</p>
<p>console.log(arr);```</p>
</div>
</div>
<p><strong>Update</strong></p>
<p>Just an addition to this answer if you want to append any value to the start of an array that means to the first index then you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/unshift" rel="noreferrer"><code>Array.prototype.unshift</code></a> for this purpose.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var arr = [1, 2, 3]; arr.unshift(0); console.log(arr);</code></p>
</div>
</div>
<p>It also supports appending multiple values at once just like <code>push</code>.</p>
</section>
<section id="answer-2-score-1005" class="level4">
<h4>Answer 2 (score 1005)</h4>
<p>If you’re only appending a single variable, then <code>push()</code> works just fine. If you need to append another array, use <code>concat()</code>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var ar1 = [1, 2, 3]; var ar2 = [4, 5, 6];</p>
<p>var ar3 = ar1.concat(ar2);</p>
<p>alert(ar1); alert(ar2); alert(ar3);```</p>
</div>
</div>
<p>The concat does not affect <code>ar1</code> and <code>ar2</code> unless reassigned, for example:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var ar1 = [1, 2, 3]; var ar2 = [4, 5, 6];</p>
<p>ar1 = ar1.concat(ar2); alert(ar1);```</p>
</div>
</div>
<p>Lots of great info <a href="http://www.javascriptkit.com/jsref/" rel="noreferrer">here</a>.</p>
</section>
<section id="answer-3-score-397" class="level4">
<h4>Answer 3 (score 397)</h4>
<p>Some quick benchmarking (each test = 500k appended elements and the results are averages of multiple runs) showed the following:</p>
<p>Firefox 3.6 (Mac):</p>
<ul>
<li>
Small arrays: <strong><code>arr[arr.length] = b</code> is faster</strong> (300ms vs. 800ms)
</li>
<li>
Large arrays: <strong><code>arr.push(b)</code> is faster</strong> (500ms vs. 900ms)
</li>
</ul>
<p>Safari 5.0 (Mac):</p>
<ul>
<li>
Small arrays: <strong><code>arr[arr.length] = b</code> is faster</strong> (90ms vs. 115ms)
</li>
<li>
Large arrays: <strong><code>arr[arr.length] = b</code> is faster</strong> (160ms vs. 185ms)
</li>
</ul>
<p>Google Chrome 6.0 (Mac):</p>
<ul>
<li>
Small arrays: <strong>No significant difference</strong> (and Chrome is FAST! Only ~38ms !!)
</li>
<li>
Large arrays: <strong>No significant difference</strong> (160ms)
</li>
</ul>
<p>I like the <code>arr.push()</code> syntax better, but I think I’d be better off with the <code>arr[arr.length]</code> Version, at least in raw speed. I’d love to see the results of an IE run though.</p>
<hr>
<p>My benchmarking loops:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb92-1" title="1"><span class="kw">function</span> <span class="at">arrpush_small</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb92-2" title="2">    <span class="kw">var</span> arr1 <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb92-3" title="3">    <span class="cf">for</span> (a <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> a <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">100</span><span class="op">;</span> a<span class="op">++</span>)</a>
<a class="sourceLine" id="cb92-4" title="4">    <span class="op">{</span></a>
<a class="sourceLine" id="cb92-5" title="5">        arr1 <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb92-6" title="6">        <span class="cf">for</span> (i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">5000</span><span class="op">;</span> i<span class="op">++</span>)</a>
<a class="sourceLine" id="cb92-7" title="7">        <span class="op">{</span></a>
<a class="sourceLine" id="cb92-8" title="8">            <span class="va">arr1</span>.<span class="at">push</span>(<span class="st">&#39;elem&#39;</span> <span class="op">+</span> i)<span class="op">;</span></a>
<a class="sourceLine" id="cb92-9" title="9">        <span class="op">}</span></a>
<a class="sourceLine" id="cb92-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb92-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb92-12" title="12"></a>
<a class="sourceLine" id="cb92-13" title="13"><span class="kw">function</span> <span class="at">arrlen_small</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb92-14" title="14">    <span class="kw">var</span> arr2 <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb92-15" title="15">    <span class="cf">for</span> (b <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> b <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">100</span><span class="op">;</span> b<span class="op">++</span>)</a>
<a class="sourceLine" id="cb92-16" title="16">    <span class="op">{</span></a>
<a class="sourceLine" id="cb92-17" title="17">        arr2 <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb92-18" title="18">        <span class="cf">for</span> (j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">5000</span><span class="op">;</span> j<span class="op">++</span>)</a>
<a class="sourceLine" id="cb92-19" title="19">        <span class="op">{</span></a>
<a class="sourceLine" id="cb92-20" title="20">            arr2[<span class="va">arr2</span>.<span class="at">length</span>] <span class="op">=</span> <span class="st">&#39;elem&#39;</span> <span class="op">+</span> j<span class="op">;</span></a>
<a class="sourceLine" id="cb92-21" title="21">        <span class="op">}</span></a>
<a class="sourceLine" id="cb92-22" title="22">    <span class="op">}</span></a>
<a class="sourceLine" id="cb92-23" title="23"><span class="op">}</span></a>
<a class="sourceLine" id="cb92-24" title="24"></a>
<a class="sourceLine" id="cb92-25" title="25"></a>
<a class="sourceLine" id="cb92-26" title="26"><span class="kw">function</span> <span class="at">arrpush_large</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb92-27" title="27">    <span class="kw">var</span> arr1 <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb92-28" title="28">    <span class="cf">for</span> (i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">500000</span><span class="op">;</span> i<span class="op">++</span>)</a>
<a class="sourceLine" id="cb92-29" title="29">    <span class="op">{</span></a>
<a class="sourceLine" id="cb92-30" title="30">        <span class="va">arr1</span>.<span class="at">push</span>(<span class="st">&#39;elem&#39;</span> <span class="op">+</span> i)<span class="op">;</span></a>
<a class="sourceLine" id="cb92-31" title="31">    <span class="op">}</span></a>
<a class="sourceLine" id="cb92-32" title="32"><span class="op">}</span></a>
<a class="sourceLine" id="cb92-33" title="33"></a>
<a class="sourceLine" id="cb92-34" title="34"><span class="kw">function</span> <span class="at">arrlen_large</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb92-35" title="35">    <span class="kw">var</span> arr2 <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb92-36" title="36">    <span class="cf">for</span> (j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">500000</span><span class="op">;</span> j<span class="op">++</span>)</a>
<a class="sourceLine" id="cb92-37" title="37">    <span class="op">{</span></a>
<a class="sourceLine" id="cb92-38" title="38">        arr2[<span class="va">arr2</span>.<span class="at">length</span>] <span class="op">=</span> <span class="st">&#39;elem&#39;</span> <span class="op">+</span> j<span class="op">;</span></a>
<a class="sourceLine" id="cb92-39" title="39">    <span class="op">}</span></a>
<a class="sourceLine" id="cb92-40" title="40"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-include-a-javascript-file-in-another-javascript-file-score-2883256-in-2017" class="level3">
<h3>13: How do I include a JavaScript file in another JavaScript file? (score <a href="https://stackoverflow.com/q/950087.html">2883256</a> in 2017)</h3>
<section id="question-12" class="level4">
<h4>Question</h4>
<p>Is there something in JavaScript similar to <code>@import</code> in CSS that allows you to include a JavaScript file inside another JavaScript file?</p>
</section>
<section id="answer-accepted-score-4203" class="level4">
<h4>Answer accepted (score 4203)</h4>
<p>The old versions of JavaScript had no import, include, or require, so many different approaches to this problem have been developed.</p>
<p>But since 2015 (ES6), JavaScript has had the <a href="http://exploringjs.com/es6/ch_modules.html" rel="noreferrer">ES6 modules</a> standard to import modules in Node.js, which is also supported by <a href="https://caniuse.com/#feat=es6-module" rel="noreferrer">most modern browsers</a>.</p>
<p>For compatibility with older browsers, <a href="https://webpack.github.io/" rel="noreferrer">build</a> and/or <a href="https://babeljs.io/" rel="noreferrer">transpilation</a> tools can be used.</p>
<h5>
ES6 Modules
</h1>
<p>ECMAScript (ES6) modules have been supported in Node.js since v8.5, with the <code>--experimental-modules</code> flag. All files involved must have the <code>.mjs</code> extension.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb93-1" title="1"><span class="co">// module.mjs</span></a>
<a class="sourceLine" id="cb93-2" title="2"><span class="im">export</span> <span class="kw">function</span> <span class="at">hello</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb93-3" title="3">  <span class="cf">return</span> <span class="st">&quot;Hello&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb93-4" title="4"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb94"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb94-1" title="1"><span class="co">// main.mjs</span></a>
<a class="sourceLine" id="cb94-2" title="2"><span class="im">import</span> <span class="op">{</span> hello <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;module&#39;</span><span class="op">;</span> <span class="co">// or &#39;./module&#39;</span></a>
<a class="sourceLine" id="cb94-3" title="3"><span class="kw">let</span> val <span class="op">=</span> <span class="at">hello</span>()<span class="op">;</span>  <span class="co">// val is &quot;Hello&quot;;</span></a></code></pre></div>
<h5>
ECMAScript modules in browsers
</h2>
<p>Browsers have had support for loading ECMAScript modules directly (no tools like Webpack required) <a href="https://jakearchibald.com/2017/es-modules-in-browsers/" rel="noreferrer">since</a> Safari 10.1, Chrome 61, Firefox 60, and Edge 16. Check the current support at <a href="https://caniuse.com/#feat=es6-module" rel="noreferrer">caniuse</a>.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb95-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>script type<span class="op">=</span><span class="st">&quot;module&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb95-2" title="2">  <span class="im">import</span> <span class="op">{</span> hello <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;./hello.mjs&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb95-3" title="3">  <span class="at">hello</span>(<span class="st">&#39;world&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb95-4" title="4"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb96"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb96-1" title="1"><span class="co">// hello.mjs</span></a>
<a class="sourceLine" id="cb96-2" title="2"><span class="im">export</span> <span class="kw">function</span> <span class="at">hello</span>(text) <span class="op">{</span></a>
<a class="sourceLine" id="cb96-3" title="3">  <span class="kw">const</span> div <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;div&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb96-4" title="4">  <span class="va">div</span>.<span class="at">textContent</span> <span class="op">=</span> <span class="vs">`Hello </span><span class="sc">${</span>text<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb96-5" title="5">  <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(div)<span class="op">;</span></a>
<a class="sourceLine" id="cb96-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>Read more at <a href="https://jakearchibald.com/2017/es-modules-in-browsers/" rel="noreferrer">https://jakearchibald.com/2017/es-modules-in-browsers/</a></p>
<h5>
Dynamic imports in browsers
</h3>
<p>Dynamic imports let the script load other scripts as needed:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb97-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>script type<span class="op">=</span><span class="st">&quot;module&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb97-2" title="2">  <span class="im">import</span>(<span class="st">&#39;hello.mjs&#39;</span>).<span class="at">then</span>(module <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb97-3" title="3">      <span class="va">module</span>.<span class="at">hello</span>(<span class="st">&#39;world&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb97-4" title="4">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb97-5" title="5"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a></code></pre></div>
<p>Read more at <a href="https://developers.google.com/web/updates/2017/11/dynamic-import" rel="noreferrer">https://developers.google.com/web/updates/2017/11/dynamic-import</a></p>
<h5>
Node.js require
</h1>
<p>The old style of importing modules, still widely used in Node.js, is the <a href="https://nodejs.org/api/modules.html" rel="noreferrer">module.exports/require</a> system.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb98-1" title="1"><span class="co">// mymodule.js</span></a>
<a class="sourceLine" id="cb98-2" title="2"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb98-3" title="3">   <span class="dt">hello</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb98-4" title="4">      <span class="cf">return</span> <span class="st">&quot;Hello&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb98-5" title="5">   <span class="op">}</span></a>
<a class="sourceLine" id="cb98-6" title="6"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb99"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb99-1" title="1"><span class="co">// server.js</span></a>
<a class="sourceLine" id="cb99-2" title="2"><span class="kw">const</span> myModule <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;./mymodule&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb99-3" title="3"><span class="kw">let</span> val <span class="op">=</span> <span class="va">myModule</span>.<span class="at">hello</span>()<span class="op">;</span> <span class="co">// val is &quot;Hello&quot;   </span></a></code></pre></div>
<p>There are other ways for JavaScript to include external JavaScript contents in browsers that do not require preprocessing.</p>
<h5>
AJAX Loading
</h1>
<p>You could load an additional script with an AJAX call and then use <code>eval</code> to run it. This is the most straightforward way, but it is limited to your domain because of the JavaScript sandbox security model. Using <code>eval</code> also opens the door to bugs, hacks and security issues.</p>
<h5>
Fetch Loading
</h1>
<p>Like Dynamic Imports you can load one or many scripts with a <code>fetch</code> call using promises to control order of execution for script dependencies using the <a href="https://git.habd.as/jhabdas/fetch-inject" rel="noreferrer">Fetch Inject</a> library:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb100-1" title="1"><span class="at">fetchInject</span>([</a>
<a class="sourceLine" id="cb100-2" title="2">  <span class="st">&#39;https://cdn.jsdelivr.net/momentjs/2.17.1/moment.min.js&#39;</span></a>
<a class="sourceLine" id="cb100-3" title="3">]).<span class="at">then</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb100-4" title="4">  <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`Finish in less than </span><span class="sc">${</span><span class="at">moment</span>().<span class="at">endOf</span>(<span class="st">&#39;year&#39;</span>).<span class="at">fromNow</span>(<span class="kw">true</span>)<span class="sc">}</span><span class="vs">`</span>)</a>
<a class="sourceLine" id="cb100-5" title="5"><span class="op">}</span>)</a></code></pre></div>
<h5>
jQuery Loading
</h1>
<p>The <a href="http://jquery.com/" rel="noreferrer">jQuery</a> library provides loading functionality <a href="http://api.jquery.com/jQuery.getScript/" rel="noreferrer">in one line</a>:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb101-1" title="1"><span class="va">$</span>.<span class="at">getScript</span>(<span class="st">&quot;my_lovely_script.js&quot;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb101-2" title="2">   <span class="at">alert</span>(<span class="st">&quot;Script loaded but not necessarily executed.&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb101-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h5>
Dynamic Script Loading
</h1>
<p>You could add a script tag with the script URL into the HTML. To avoid the overhead of jQuery, this is an ideal solution.</p>
<p>The script can even reside on a different server. Furthermore, the browser evaluates the code. The <code>&amp;lt;script&amp;gt;</code> tag can be injected into either the web page <code>&amp;lt;head&amp;gt;</code>, or inserted just before the closing <code>&amp;lt;/body&amp;gt;</code> tag.</p>
<p>Here is an example of how this could work:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb102-1" title="1"><span class="kw">function</span> <span class="at">dynamicallyLoadScript</span>(url) <span class="op">{</span></a>
<a class="sourceLine" id="cb102-2" title="2">    <span class="kw">var</span> script <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;script&quot;</span>)<span class="op">;</span>  <span class="co">// create a script DOM node</span></a>
<a class="sourceLine" id="cb102-3" title="3">    <span class="va">script</span>.<span class="at">src</span> <span class="op">=</span> url<span class="op">;</span>  <span class="co">// set its src to the provided URL</span></a>
<a class="sourceLine" id="cb102-4" title="4"></a>
<a class="sourceLine" id="cb102-5" title="5">    <span class="va">document</span>.<span class="va">head</span>.<span class="at">appendChild</span>(script)<span class="op">;</span>  <span class="co">// add it to the end of the head section of the page (could change &#39;head&#39; to &#39;body&#39; to add it to the end of the body section instead)</span></a>
<a class="sourceLine" id="cb102-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>This function will add a new <code>&amp;lt;script&amp;gt;</code> tag to the end of the head section of the page, where the <code>src</code> attribute is set to the URL which is given to the function as the first parameter.</p>
<p>Both of these solutions are discussed and illustrated in <a href="http://unixpapa.com/js/dyna.html" rel="noreferrer">JavaScript Madness: Dynamic Script Loading</a>.</p>
<h5>
Detecting when the script has been executed
</h1>
<p>Now, there is a big issue you must know about. Doing that implies that <em>you remotely load the code</em>. Modern web browsers will load the file and keep executing your current script because they load everything asynchronously to improve performance. (This applies to both the jQuery method and the manual dynamic script loading method.)</p>
<p>It means that if you use these tricks directly, <em>you won’t be able to use your newly loaded code the next line after you asked it to be loaded</em>, because it will be still loading.</p>
<p>For example: <code>my_lovely_script.js</code> contains <code>MySuperObject</code>:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb103-1" title="1"><span class="kw">var</span> js <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;script&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb103-2" title="2"></a>
<a class="sourceLine" id="cb103-3" title="3"><span class="va">js</span>.<span class="at">type</span> <span class="op">=</span> <span class="st">&quot;text/javascript&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb103-4" title="4"><span class="va">js</span>.<span class="at">src</span> <span class="op">=</span> jsFilePath<span class="op">;</span></a>
<a class="sourceLine" id="cb103-5" title="5"></a>
<a class="sourceLine" id="cb103-6" title="6"><span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(js)<span class="op">;</span></a>
<a class="sourceLine" id="cb103-7" title="7"></a>
<a class="sourceLine" id="cb103-8" title="8"><span class="kw">var</span> s <span class="op">=</span> <span class="kw">new</span> <span class="at">MySuperObject</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb103-9" title="9"></a>
<a class="sourceLine" id="cb103-10" title="10">Error <span class="op">:</span> MySuperObject is <span class="kw">undefined</span></a></code></pre></div>
<p>Then you reload the page hitting <kbd>F5</kbd>. And it works! Confusing…</p>
<p><strong>So what to do about it ?</strong></p>
<p>Well, you can use the hack the author suggests in the link I gave you. In summary, for people in a hurry, he uses an event to run a callback function when the script is loaded. So you can put all the code using the remote library in the callback function. For example:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb104-1" title="1"><span class="kw">function</span> <span class="at">loadScript</span>(url<span class="op">,</span> callback)</a>
<a class="sourceLine" id="cb104-2" title="2"><span class="op">{</span></a>
<a class="sourceLine" id="cb104-3" title="3">    <span class="co">// Adding the script tag to the head as suggested before</span></a>
<a class="sourceLine" id="cb104-4" title="4">    <span class="kw">var</span> head <span class="op">=</span> <span class="va">document</span>.<span class="at">head</span><span class="op">;</span></a>
<a class="sourceLine" id="cb104-5" title="5">    <span class="kw">var</span> script <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;script&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb104-6" title="6">    <span class="va">script</span>.<span class="at">type</span> <span class="op">=</span> <span class="st">&#39;text/javascript&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb104-7" title="7">    <span class="va">script</span>.<span class="at">src</span> <span class="op">=</span> url<span class="op">;</span></a>
<a class="sourceLine" id="cb104-8" title="8"></a>
<a class="sourceLine" id="cb104-9" title="9">    <span class="co">// Then bind the event to the callback function.</span></a>
<a class="sourceLine" id="cb104-10" title="10">    <span class="co">// There are several events for cross browser compatibility.</span></a>
<a class="sourceLine" id="cb104-11" title="11">    <span class="va">script</span>.<span class="at">onreadystatechange</span> <span class="op">=</span> callback<span class="op">;</span></a>
<a class="sourceLine" id="cb104-12" title="12">    <span class="va">script</span>.<span class="at">onload</span> <span class="op">=</span> callback<span class="op">;</span></a>
<a class="sourceLine" id="cb104-13" title="13"></a>
<a class="sourceLine" id="cb104-14" title="14">    <span class="co">// Fire the loading</span></a>
<a class="sourceLine" id="cb104-15" title="15">    <span class="va">head</span>.<span class="at">appendChild</span>(script)<span class="op">;</span></a>
<a class="sourceLine" id="cb104-16" title="16"><span class="op">}</span></a></code></pre></div>
<p>Then you write the code you want to use AFTER the script is loaded in a <a href="http://en.wikipedia.org/wiki/Anonymous_function" rel="noreferrer">lambda function</a>:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb105-1" title="1"><span class="kw">var</span> myPrettyCode <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb105-2" title="2">   <span class="co">// Here, do whatever you want</span></a>
<a class="sourceLine" id="cb105-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Then you run all that:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb106-1" title="1"><span class="at">loadScript</span>(<span class="st">&quot;my_lovely_script.js&quot;</span><span class="op">,</span> myPrettyCode)<span class="op">;</span></a></code></pre></div>
<p>Note that the script may execute after the DOM has loaded, or before, depending on the browser and whether you included the line <code>script.async = false;</code>. There’s a <a href="http://www.html5rocks.com/en/tutorials/speed/script-loading/" rel="noreferrer">great article on Javascript loading in general</a> which discusses this.</p>
<h5>
Source Code Merge/Preprocessing
</h1>
<p>As mentioned at the top of this answer, many developers use build/transpilation tool(s) like Parcel, Webpack, or Babel in their projects, allowing them to use upcoming JavaScript syntax, provide backward compatibility for older browsers, combine files, minify, perform code splitting etc.</p>
</section>
<section id="answer-2-score-553" class="level4">
<h4>Answer 2 (score 553)</h4>
<p>If anyone is looking for something more advanced, try out <a href="http://requirejs.org/" rel="noreferrer">RequireJS</a>. You’ll get added benefits such as dependency management, better concurrency, and avoid duplication (that is, retrieving a script more than once).</p>
<p>You can write your JavaScript files in “modules” and then reference them as dependencies in other scripts. Or you can use RequireJS as a simple “go get this script” solution.</p>
<p>Example:</p>
<p>Define dependencies as modules:</p>
<p><strong>some-dependency.js</strong></p>
<div class="sourceCode" id="cb107"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb107-1" title="1"><span class="at">define</span>([<span class="st">&#39;lib/dependency1&#39;</span><span class="op">,</span> <span class="st">&#39;lib/dependency2&#39;</span>]<span class="op">,</span> <span class="kw">function</span> (d1<span class="op">,</span> d2) <span class="op">{</span></a>
<a class="sourceLine" id="cb107-2" title="2"></a>
<a class="sourceLine" id="cb107-3" title="3">     <span class="co">//Your actual script goes here.   </span></a>
<a class="sourceLine" id="cb107-4" title="4">     <span class="co">//The dependent scripts will be fetched if necessary.</span></a>
<a class="sourceLine" id="cb107-5" title="5"></a>
<a class="sourceLine" id="cb107-6" title="6">     <span class="cf">return</span> libraryObject<span class="op">;</span>  <span class="co">//For example, jQuery object</span></a>
<a class="sourceLine" id="cb107-7" title="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>implementation.js</strong> is your “main” JavaScript file that depends on <strong>some-dependency.js</strong></p>
<div class="sourceCode" id="cb108"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb108-1" title="1"><span class="at">require</span>([<span class="st">&#39;some-dependency&#39;</span>]<span class="op">,</span> <span class="kw">function</span>(dependency) <span class="op">{</span></a>
<a class="sourceLine" id="cb108-2" title="2"></a>
<a class="sourceLine" id="cb108-3" title="3">    <span class="co">//Your script goes here</span></a>
<a class="sourceLine" id="cb108-4" title="4">    <span class="co">//some-dependency.js is fetched.   </span></a>
<a class="sourceLine" id="cb108-5" title="5">    <span class="co">//Then your script is executed</span></a>
<a class="sourceLine" id="cb108-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Excerpt from the <a href="https://github.com/jrburke/requirejs" rel="noreferrer">GitHub</a> README:</p>
<blockquote>
<p>
RequireJS loads plain JavaScript files as well as more defined modules. It is optimized for in-browser use, including in a Web Worker, but it can be used in other JavaScript environments, like Rhino and Node. It implements the Asynchronous Module API.
</p>
<p>
RequireJS uses plain script tags to load modules/files, so it should allow for easy debugging. It can be used simply to load existing JavaScript files, so <strong>you can add it to your existing project without having to re-write your JavaScript files.</strong>
</p>
…
</blockquote>
</section>
<section id="answer-3-score-185" class="level4">
<h4>Answer 3 (score 185)</h4>
<p>There actually <em>is</em> a way to load a JavaScript file <em>not</em> asynchronously, so you could use the functions included in your newly loaded file right after loading it, and I think it works in all browsers.</p>
<p>You need to use <code>jQuery.append()</code> on the <code>&amp;lt;head&amp;gt;</code> element of your page, that is:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb109-1" title="1"><span class="at">$</span>(<span class="st">&quot;head&quot;</span>).<span class="at">append</span>(<span class="st">&#39;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;&#39;</span> <span class="op">+</span> script <span class="op">+</span> <span class="st">&#39;&quot;&amp;gt;&amp;lt;/script&amp;gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>However, this method also has a problem: if an error happens in the imported JavaScript file, <a href="http://en.wikipedia.org/wiki/Firebug_%28software%29" rel="noreferrer">Firebug</a> (and also Firefox Error Console and <a href="https://developers.google.com/chrome-developer-tools/" rel="noreferrer">Chrome Developer Tools</a> as well) will report its place incorrectly, which is a big problem if you use Firebug to track JavaScript errors down a lot (I do). Firebug simply doesn’t know about the newly loaded file for some reason, so if an error occurs in that file, it reports that it occurred in your main <a href="http://en.wikipedia.org/wiki/HTML" rel="noreferrer">HTML</a> file, and you will have trouble finding out the real reason for the error.</p>
<p>But if that is not a problem for you, then this method should work.</p>
<p>I have actually written a jQuery plugin called <em>$.import_js()</em> which uses this method:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb110-1" title="1">(<span class="kw">function</span>($)</a>
<a class="sourceLine" id="cb110-2" title="2"><span class="op">{</span></a>
<a class="sourceLine" id="cb110-3" title="3">    <span class="co">/*</span></a>
<a class="sourceLine" id="cb110-4" title="4"><span class="co">     * $.import_js() helper (for JavaScript importing within JavaScript code).</span></a>
<a class="sourceLine" id="cb110-5" title="5"><span class="co">     */</span></a>
<a class="sourceLine" id="cb110-6" title="6">    <span class="kw">var</span> import_js_imported <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb110-7" title="7"></a>
<a class="sourceLine" id="cb110-8" title="8">    <span class="va">$</span>.<span class="at">extend</span>(<span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb110-9" title="9">    <span class="op">{</span></a>
<a class="sourceLine" id="cb110-10" title="10">        <span class="dt">import_js </span><span class="op">:</span> <span class="kw">function</span>(script)</a>
<a class="sourceLine" id="cb110-11" title="11">        <span class="op">{</span></a>
<a class="sourceLine" id="cb110-12" title="12">            <span class="kw">var</span> found <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb110-13" title="13">            <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">import_js_imported</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>)</a>
<a class="sourceLine" id="cb110-14" title="14">                <span class="cf">if</span> (import_js_imported[i] <span class="op">==</span> script) <span class="op">{</span></a>
<a class="sourceLine" id="cb110-15" title="15">                    found <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb110-16" title="16">                    <span class="cf">break</span><span class="op">;</span></a>
<a class="sourceLine" id="cb110-17" title="17">                <span class="op">}</span></a>
<a class="sourceLine" id="cb110-18" title="18"></a>
<a class="sourceLine" id="cb110-19" title="19">            <span class="cf">if</span> (found <span class="op">==</span> <span class="kw">false</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb110-20" title="20">                <span class="at">$</span>(<span class="st">&quot;head&quot;</span>).<span class="at">append</span>(<span class="st">&#39;&amp;lt;script type=&quot;text/javascript&quot; src=&quot;&#39;</span> <span class="op">+</span> script <span class="op">+</span> <span class="st">&#39;&quot;&amp;gt;&amp;lt;/script&amp;gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb110-21" title="21">                <span class="va">import_js_imported</span>.<span class="at">push</span>(script)<span class="op">;</span></a>
<a class="sourceLine" id="cb110-22" title="22">            <span class="op">}</span></a>
<a class="sourceLine" id="cb110-23" title="23">        <span class="op">}</span></a>
<a class="sourceLine" id="cb110-24" title="24">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb110-25" title="25"></a>
<a class="sourceLine" id="cb110-26" title="26"><span class="op">}</span>)(jQuery)<span class="op">;</span></a></code></pre></div>
<p>So all you would need to do to import JavaScript is:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb111-1" title="1"><span class="va">$</span>.<span class="at">import_js</span>(<span class="st">&#39;/path_to_project/scripts/somefunctions.js&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>I also made a simple test for this at <a href="http://www.kipras.com/dev/import_js_test/" rel="noreferrer">Example</a>.</p>
<p>It includes a <code>main.js</code> file in the main HTML and then the script in <code>main.js</code> uses <code>$.import_js()</code> to import an additional file called <code>included.js</code>, which defines this function:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb112-1" title="1"><span class="kw">function</span> <span class="at">hello</span>()</a>
<a class="sourceLine" id="cb112-2" title="2"><span class="op">{</span></a>
<a class="sourceLine" id="cb112-3" title="3">    <span class="at">alert</span>(<span class="st">&quot;Hello world!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb112-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>And right after including <code>included.js</code>, the <code>hello()</code> function is called, and you get the alert.</p>
<p>(This answer is in response to e-satis’ comment).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-validate-an-email-address-in-javascript-score-2751724-in-2019" class="level3">
<h3>14: How to validate an email address in JavaScript (score <a href="https://stackoverflow.com/q/46155.html">2751724</a> in 2019)</h3>
<section id="question-13" class="level4">
<h4>Question</h4>
<p>How can an email address be validated in JavaScript?</p>
</section>
<section id="answer-accepted-score-4568" class="level4">
<h4>Answer accepted (score 4568)</h4>
<p>Using <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expressions</a> is probably the best way. You can see a bunch of tests <a href="http://jsfiddle.net/ghvj4gy9/embedded/result,js/" rel="noreferrer">here</a> (taken from <a href="https://cs.chromium.org/chromium/src/third_party/blink/web_tests/fast/forms/resources/ValidityState-typeMismatch-email.js?q=ValidityState-typeMismatch-email.js&amp;sq=package:chromium&amp;dr" rel="noreferrer">chromium</a>)</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb113-1" title="1"><span class="kw">function</span> <span class="at">validateEmail</span>(email) <span class="op">{</span></a>
<a class="sourceLine" id="cb113-2" title="2">    <span class="kw">var</span> re <span class="op">=</span> <span class="ss">/</span><span class="sc">^(([^&amp;lt;&amp;gt;()\[\]\\.,;:\s@&quot;]+(\.[^&amp;lt;&amp;gt;()\[\]\\.,;:\s@&quot;]+)*)|(</span><span class="ss">&quot;.</span><span class="sc">+</span><span class="ss">&quot;</span><span class="sc">))</span><span class="ss">@</span><span class="sc">((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$</span><span class="ss">/</span><span class="op">;</span></a>
<a class="sourceLine" id="cb113-3" title="3">    <span class="cf">return</span> <span class="va">re</span>.<span class="at">test</span>(<span class="at">String</span>(email).<span class="at">toLowerCase</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb113-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>Here’s the example of regular expresion that accepts unicode:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb114-1" title="1"><span class="kw">var</span> re <span class="op">=</span> <span class="ss">/</span><span class="sc">^(([^&amp;lt;&amp;gt;()\[\]\.,;:\s@\&quot;]+(\.[^&amp;lt;&amp;gt;()\[\]\.,;:\s@\&quot;]+)*)|(\&quot;</span><span class="ss">.</span><span class="sc">+\&quot;))</span><span class="ss">@</span><span class="sc">(([^&amp;lt;&amp;gt;()[\]\.,;:\s@\&quot;]+\.)+[^&amp;lt;&amp;gt;()[\]\.,;:\s@\&quot;]{2,})$</span><span class="ss">/i</span><span class="op">;</span></a></code></pre></div>
<p>But keep in mind that one should not rely only upon JavaScript validation. JavaScript can easily be disabled. This should be validated on the server side as well.</p>
<p>Here’s an example of the above in action:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function validateEmail(email) { var re = /^(([^&amp;lt;&amp;gt;()[\]\.,;:&quot;]+(.[^&amp;lt;&amp;gt;()[\]\.,;:&quot;]+)*)|(&quot;.+&quot;))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$/; return re.test(email); }</p>
<p>function validate() { var $result = $(“#result”); var email = $(“#email”).val(); $result.text(&quot;&quot;);</p>
<p>if (validateEmail(email)) { $result.text(email + &quot; is valid :)“); $result.css(”color“,”green“); } else { $result.text(email +” is not valid :(“); $result.css(”color“,”red&quot;); } return false; }</p>
<p>$(“#validate”).on(“click”, validate);<code></code>javascript &lt;script src=“https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js”&gt;&lt;/script&gt;</p>
<p>&lt;form&gt; &lt;p&gt;Enter an email address:&lt;/p&gt; &lt;input id=‘email’&gt; &lt;button type=‘submit’ id=‘validate’&gt;Validate!&lt;/button&gt; &lt;/form&gt;</p>
<p>&lt;h2 id=‘result’&gt;&lt;/h2&gt;```</p>
</div>
</div>
</section>
<section id="answer-2-score-719" class="level4">
<h4>Answer 2 (score 719)</h4>
<p>Just for completeness, <a href="http://www.regular-expressions.info/email.html" rel="noreferrer">here you have another RFC 2822 compliant regex</a></p>
<blockquote>
<p>The official standard is known as <a href="https://tools.ietf.org/html/rfc2822#section-3.4.1" rel="noreferrer">RFC 2822</a>. It describes the syntax that valid email addresses must adhere to. You can (<strong>but you shouldn’t</strong> — <a href="http://www.regular-expressions.info/email.html" rel="noreferrer">read on</a>) implement it with this regular expression:</p>
<p><code>(?:[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*|&quot;(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])</code></p>
<p>(…) We get a more practical implementation of RFC 2822 if we omit the syntax using double quotes and square brackets. <strong>It will still match 99.99% of all email addresses in actual use today.</strong></p>
<p><code>[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?</code></p>
<p>A further change you could make is to allow any two-letter country code top level domain, and only specific generic top level domains. <strong>This regex filters dummy email addresses like <code>asdf@adsf.adsf</code></strong>. You <strong>will need to update it as new top-level domains are added</strong>.</p>
<p><code>[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\b</code></p>
So even when following official standards, there are still trade-offs to be made. <strong><em>Don’t blindly copy regular expressions from online libraries or discussion forums. Always test them on your own data and with your own applications.</em></strong>
</blockquote>
<p><sub>Emphasis mine</sub></p>
</section>
<section id="answer-3-score-714" class="level4">
<h4>Answer 3 (score 714)</h4>
<p>I’ve slightly modified Jaymon’s answer for people who want really simple validation in the form of:</p>
<p>anystring@anystring.anystring</p>
<p>The regular expression:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb115-1" title="1"><span class="ss">/</span><span class="sc">\S+</span><span class="ss">@</span><span class="sc">\S+\.\S+</span><span class="ss">/</span></a></code></pre></div>
<p>Example JavaScript function:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb116-1" title="1"><span class="kw">function</span> <span class="at">validateEmail</span>(email) </a>
<a class="sourceLine" id="cb116-2" title="2"><span class="op">{</span></a>
<a class="sourceLine" id="cb116-3" title="3">    <span class="kw">var</span> re <span class="op">=</span> <span class="ss">/</span><span class="sc">\S+</span><span class="ss">@</span><span class="sc">\S+\.\S+</span><span class="ss">/</span><span class="op">;</span></a>
<a class="sourceLine" id="cb116-4" title="4">    <span class="cf">return</span> <span class="va">re</span>.<span class="at">test</span>(email)<span class="op">;</span></a>
<a class="sourceLine" id="cb116-5" title="5"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="get-the-current-url-with-javascript-score-2692673-in-2017" class="level3">
<h3>15: Get the current URL with JavaScript? (score <a href="https://stackoverflow.com/q/1034621.html">2692673</a> in 2017)</h3>
<section id="question-14" class="level4">
<h4>Question</h4>
<p>All I want is to get the website URL. Not the URL as taken from a link. On the page loading I need to be able to grab the full, current URL of the website and set it as a variable to do with as I please.</p>
</section>
<section id="answer-accepted-score-3517" class="level4">
<h4>Answer accepted (score 3517)</h4>
<p>Use:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb117-1" title="1"><span class="va">window</span>.<span class="va">location</span>.<span class="at">href</span> </a></code></pre></div>
<p>As noted in the comments, the line below works, but it is bugged for Firefox.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb118-1" title="1"><span class="va">document</span>.<span class="at">URL</span><span class="op">;</span></a></code></pre></div>
<p>See <strong><a href="https://web.archive.org/web/20170327080647/http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-46183437" rel="noreferrer">URL of type DOMString, readonly</a></strong>.</p>
</section>
<section id="answer-2-score-619" class="level4">
<h4>Answer 2 (score 619)</h4>
<p><strong>URL Info Access</strong></p>
<p>JavaScript provides you with many methods to retrieve and change the current URL, which is displayed in the browser’s address bar. All these methods use the <code>Location</code> object, which is a property of the <code>Window</code> object. You can create a new <code>Location</code> object that has the current URL as follows:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb119-1" title="1"><span class="kw">var</span> currentLocation <span class="op">=</span> <span class="va">window</span>.<span class="at">location</span><span class="op">;</span></a></code></pre></div>
<p><strong>Basic URL Structure</strong></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb120-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>protocol<span class="op">&amp;</span>gt<span class="op">;</span><span class="co">//&amp;lt;hostname&amp;gt;:&amp;lt;port&amp;gt;/&amp;lt;pathname&amp;gt;&amp;lt;search&amp;gt;&amp;lt;hash&amp;gt;</span></a></code></pre></div>
<ul>
<li>
<p>
<strong>protocol:</strong> Specifies the protocol name be used to access the resource on the Internet. (HTTP (without SSL) or HTTPS (with SSL))
</p>
</li>
<li>
<p>
<strong>hostname:</strong> Host name specifies the host that owns the resource. For example, <code>www.stackoverflow.com</code>. A server provides services using the name of the host.
</p>
</li>
<li>
<p>
<strong>port:</strong> A port number used to recognize a specific process to which an Internet or other network message is to be forwarded when it arrives at a server.
</p>
</li>
<li>
<p>
<strong>pathname:</strong> The path gives info about the specific resource within the host that the Web client wants to access. For example, <code>/index.html</code>.
</p>
</li>
<li>
<p>
<strong>query:</strong> A query string follows the path component, and provides a string of information that the resource can utilize for some purpose (for example, as parameters for a search or as data to be processed).
</p>
</li>
<li>
<p>
<strong>hash:</strong> The anchor portion of a URL, includes the hash sign (#).
</p>
</li>
</ul>
<p>With these <code>Location</code> object properties you can access all of these URL components and what they can set or return:</p>
<ul>
<li>
<strong>href</strong> - the entire URL
</li>
<li>
<strong>protocol</strong> - the protocol of the URL
</li>
<li>
<strong>host</strong> - the hostname and port of the URL
</li>
<li>
<strong>hostname</strong> - the hostname of the URL
</li>
<li>
<strong>port</strong> - the port number the server uses for the URL
</li>
<li>
<strong>pathname</strong> - the path name of the URL
</li>
<li>
<strong>search</strong> - the query portion of the URL
</li>
<li>
<strong>hash</strong> - the anchor portion of the URL
</li>
</ul>
<p>I hope you got your answer..</p>
</section>
<section id="answer-3-score-315" class="level4">
<h4>Answer 3 (score 315)</h4>
<p>Use <code>window.location</code> for read and write access to the <a href="https://developer.mozilla.org/En/DOM/Window.location#Location_object" rel="nofollow noreferrer">location object</a> associated with the current frame. If you just want to get the address as a read-only string, you may use <code>document.URL</code>, which should contain the same value as <code>window.location.href</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-get-a-timestamp-in-javascript-score-2691791-in-2019" class="level3">
<h3>16: How do you get a timestamp in JavaScript? (score <a href="https://stackoverflow.com/q/221294.html">2691791</a> in 2019)</h3>
<section id="question-15" class="level4">
<h4>Question</h4>
<p>How can I get a timestamp in JavaScript?</p>
<p>Something similar to <a href="https://en.wikipedia.org/wiki/Unix_time" rel="noreferrer">Unix timestamp</a>, that is, a single number that represents the current time and date. Either as a number or a string.</p>
</section>
<section id="answer-accepted-score-4686" class="level4">
<h4>Answer accepted (score 4686)</h4>
<h5>
Short &amp; Snazzy:
</h1>
<div class="sourceCode" id="cb121"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb121-1" title="1"><span class="op">+</span> <span class="kw">new</span> <span class="at">Date</span>()</a></code></pre></div>
<p>A unary operator like <code>plus</code> triggers the <code>valueOf</code> method in the <code>Date</code> object and it returns the timestamp (without any alteration).</p>
<p><strong>Details:</strong></p>
<p>On almost all current browsers you can use <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.4.4" rel="noreferrer"><code>Date.now()</code></a> to get the UTC timestamp in <strong>milliseconds</strong>; a notable exception to this is IE8 and earlier (see <a href="http://kangax.github.io/compat-table/es5/#Date.now" rel="noreferrer">compatibility table</a>).</p>
<p>You can easily make a shim for this, though:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb122-1" title="1"><span class="cf">if</span> (<span class="op">!</span><span class="va">Date</span>.<span class="at">now</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb122-2" title="2">    <span class="va">Date</span>.<span class="at">now</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span> <span class="cf">return</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">getTime</span>()<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb122-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>To get the timestamp in <strong>seconds</strong>, you can use:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb123-1" title="1"><span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Date</span>.<span class="at">now</span>() / <span class="dv">1000</span>)</a></code></pre></div>
<p>Or alternatively you could use:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb124-1" title="1"><span class="va">Date</span>.<span class="at">now</span>() / <span class="dv">1000</span> <span class="op">|</span> <span class="dv">0</span></a></code></pre></div>
<p>Which should be slightly faster, but also less readable (also <a href="https://stackoverflow.com/questions/7487977/using-bitwise-or-0-to-floor-a-number">see this answer</a>).</p>
<p>I would recommend using <code>Date.now()</code> (with compatibility shim). It’s slightly better because it’s shorter &amp; doesn’t create a new <code>Date</code> object. However, if you don’t want a shim &amp; maximum compatibility, you could use the “old” method to get the timestamp in <strong>milliseconds</strong>:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb125-1" title="1"><span class="kw">new</span> <span class="at">Date</span>().<span class="at">getTime</span>()</a></code></pre></div>
<p>Which you can then convert to seconds like this:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb126-1" title="1"><span class="va">Math</span>.<span class="at">round</span>(<span class="kw">new</span> <span class="at">Date</span>().<span class="at">getTime</span>()/<span class="dv">1000</span>)</a></code></pre></div>
<p>And you can also use the <code>valueOf</code> method which we showed above:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb127-1" title="1"><span class="kw">new</span> <span class="at">Date</span>().<span class="at">valueOf</span>()</a></code></pre></div>
<p><strong>Timestamp in Milliseconds</strong></p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var timeStampInMs = window.performance &amp;&amp; window.performance.now &amp;&amp; window.performance.timing &amp;&amp; window.performance.timing.navigationStart ? window.performance.now() + window.performance.timing.navigationStart : Date.now();</p>
<p>console.log(timeStampInMs, Date.now());```</p>
</div>
</div>
</section>
<section id="answer-2-score-490-1" class="level4">
<h4>Answer 2 (score 490)</h4>
<p>I like this, because it is small:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb128-1" title="1"><span class="op">+</span><span class="kw">new</span> Date</a></code></pre></div>
<p>I also like this, because it is just as short and is compatible with modern browsers, and over 500 people voted that it is better:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb129-1" title="1"><span class="va">Date</span>.<span class="at">now</span>()</a></code></pre></div>
</section>
<section id="answer-3-score-264" class="level4">
<h4>Answer 3 (score 264)</h4>
<p>JavaScript works with the number of milliseconds since the epoch whereas most other languages work with the seconds. You could work with milliseconds but as soon as you pass a value to say PHP, the PHP native functions will probably fail. So to be sure I always use the seconds, not milliseconds.</p>
<p>This will give you a Unix timestamp (in seconds):</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb130-1" title="1"><span class="kw">var</span> unix <span class="op">=</span> <span class="va">Math</span>.<span class="at">round</span>(<span class="op">+</span><span class="kw">new</span> <span class="at">Date</span>()/<span class="dv">1000</span>)<span class="op">;</span></a></code></pre></div>
<p>This will give you the milliseconds since the epoch (not Unix timestamp):</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb131-1" title="1"><span class="kw">var</span> milliseconds <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">getTime</span>()<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-check-emptyundefinednull-string-in-javascript-score-2687485-in-2018" class="level3">
<h3>17: How to check empty/undefined/null string in JavaScript? (score <a href="https://stackoverflow.com/q/154059.html">2687485</a> in 2018)</h3>
<section id="question-16" class="level4">
<h4>Question</h4>
<p>I saw this <a href="https://stackoverflow.com/questions/10230/checking-for-string-contents-string-length-vs-empty-string">thread</a>, but I didn’t see a JavaScript specific example. Is there a simple <code>string.Empty</code> available in JavaScript, or is it just a case of checking for <code>&quot;&quot;</code>?</p>
</section>
<section id="answer-accepted-score-3265" class="level4">
<h4>Answer accepted (score 3265)</h4>
<p>If you just want to check whether there’s any value, you can do</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb132-1" title="1"><span class="cf">if</span> (strValue) <span class="op">{</span></a>
<a class="sourceLine" id="cb132-2" title="2">    <span class="co">//do something</span></a>
<a class="sourceLine" id="cb132-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>If you need to check specifically for an empty string over null, I would think checking against <code>&quot;&quot;</code> is your best bet, using <a href="http://webreference.com/js/column26/stricteq.html" rel="noreferrer">the <code>===</code> operator</a> (so that you know that it is, in fact, a string you’re comparing against).</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb133-1" title="1"><span class="cf">if</span> (strValue <span class="op">===</span> <span class="st">&quot;&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb133-2" title="2">    <span class="co">//...</span></a>
<a class="sourceLine" id="cb133-3" title="3"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-2-score-1048" class="level4">
<h4>Answer 2 (score 1048)</h4>
<p>For checking if a string is empty, null or undefined I use:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb134-1" title="1"><span class="kw">function</span> <span class="at">isEmpty</span>(str) <span class="op">{</span></a>
<a class="sourceLine" id="cb134-2" title="2">    <span class="cf">return</span> (<span class="op">!</span>str <span class="op">||</span> <span class="dv">0</span> <span class="op">===</span> <span class="va">str</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb134-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>For checking if a string is blank, null or undefined I use:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb135-1" title="1"><span class="kw">function</span> <span class="at">isBlank</span>(str) <span class="op">{</span></a>
<a class="sourceLine" id="cb135-2" title="2">    <span class="cf">return</span> (<span class="op">!</span>str <span class="op">||</span> <span class="ss">/</span><span class="sc">^\s*$</span><span class="ss">/</span>.<span class="at">test</span>(str))<span class="op">;</span></a>
<a class="sourceLine" id="cb135-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>For checking if a string is blank or contains only white-space:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb136-1" title="1"><span class="va">String</span>.<span class="va">prototype</span>.<span class="at">isEmpty</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb136-2" title="2">    <span class="cf">return</span> (<span class="kw">this</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span> <span class="op">||</span> <span class="op">!</span><span class="kw">this</span>.<span class="at">trim</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb136-3" title="3"><span class="op">};</span></a></code></pre></div>
</section>
<section id="answer-3-score-272" class="level4">
<h4>Answer 3 (score 272)</h4>
<p>All the above are good but this will be even better. use <code>!!</code>(<em>not not</em>) operator.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb137-1" title="1"><span class="cf">if</span>(<span class="op">!!</span>str)<span class="op">{</span></a>
<a class="sourceLine" id="cb137-2" title="2">some code here<span class="op">;</span></a>
<a class="sourceLine" id="cb137-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>or use type casting:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb138-1" title="1"><span class="cf">if</span>(<span class="at">Boolean</span>(str))<span class="op">{</span></a>
<a class="sourceLine" id="cb138-2" title="2">    codes here<span class="op">;</span></a>
<a class="sourceLine" id="cb138-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>
Both do the same function, type cast the variable to boolean, where <code>str</code> is a variable.<br> Returns <code>false</code> for <code>null,undefined,0,000,&quot;&quot;,false</code>.<br> Returns <code>true</code> for string “0” and whitespace &quot; &quot;.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-check-if-an-element-is-hidden-in-jquery-score-2524355-in-2019" class="level3">
<h3>18: How do I check if an element is hidden in jQuery? (score <a href="https://stackoverflow.com/q/178325.html">2524355</a> in 2019)</h3>
<section id="question-17" class="level4">
<h4>Question</h4>
<p>It is possible to toggle the visibility of an element, using the functions <code>.hide()</code>, <code>.show()</code> or <code>.toggle()</code>?</p>
<p>How would you test if an element is visible or hidden?</p>
</section>
<section id="answer-accepted-score-9107" class="level4">
<h4>Answer accepted (score 9107)</h4>
<p>Since the question refers to a single element, this code might be more suitable:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb139-1" title="1"><span class="co">// Checks css for display:[none|block], ignores visibility:[true|false]</span></a>
<a class="sourceLine" id="cb139-2" title="2"><span class="at">$</span>(element).<span class="at">is</span>(<span class="st">&quot;:visible&quot;</span>)<span class="op">;</span> </a>
<a class="sourceLine" id="cb139-3" title="3"></a>
<a class="sourceLine" id="cb139-4" title="4"><span class="co">// The same works with hidden</span></a>
<a class="sourceLine" id="cb139-5" title="5"><span class="at">$</span>(element).<span class="at">is</span>(<span class="st">&quot;:hidden&quot;</span>)<span class="op">;</span> </a></code></pre></div>
<p>Same as <a href="https://stackoverflow.com/questions/178325/how-do-you-test-if-something-is-hidden-in-jquery/178386#178386">twernt’s suggestion</a>, but applied to a single element; and it <a href="https://stackoverflow.com/a/4685330/49942">matches the algorithm recommended in the jQuery FAQ</a></p>
<p>We use jQuery is() to check the selected element with another element, selector or any jQuery object. This method traverses along the DOM elements to find a match, which satisfies the passed parameter. It will return true if there is a match otherwise returns false.</p>
</section>
<section id="answer-2-score-1408" class="level4">
<h4>Answer 2 (score 1408)</h4>
<p>You can use the <a href="http://docs.jquery.com/Selectors/hidden" rel="noreferrer"><code>hidden</code></a> selector:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb140-1" title="1"><span class="co">// Matches all elements that are hidden</span></a>
<a class="sourceLine" id="cb140-2" title="2"><span class="at">$</span>(<span class="st">&#39;element:hidden&#39;</span>)</a></code></pre></div>
<p>And the <a href="http://docs.jquery.com/Selectors/visible" rel="noreferrer"><code>visible</code></a> selector:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb141-1" title="1"><span class="co">// Matches all elements that are visible</span></a>
<a class="sourceLine" id="cb141-2" title="2"><span class="at">$</span>(<span class="st">&#39;element:visible&#39;</span>)</a></code></pre></div>
</section>
<section id="answer-3-score-897" class="level4">
<h4>Answer 3 (score 897)</h4>
<div class="sourceCode" id="cb142"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb142-1" title="1"><span class="cf">if</span> ( <span class="at">$</span>(element).<span class="at">css</span>(<span class="st">&#39;display&#39;</span>) <span class="op">==</span> <span class="st">&#39;none&#39;</span> <span class="op">||</span> <span class="at">$</span>(element).<span class="at">css</span>(<span class="st">&quot;visibility&quot;</span>) <span class="op">==</span> <span class="st">&quot;hidden&quot;</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb142-2" title="2">    <span class="co">// element is hidden</span></a>
<a class="sourceLine" id="cb142-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Above method does not consider the visibility of the parent. To consider the parent as well, you should use <code>.is(&quot;:hidden&quot;)</code> or <code>.is(&quot;:visible&quot;)</code>.</p>
<p>For example,</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb143-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>div id<span class="op">=</span><span class="st">&quot;div1&quot;</span> style<span class="op">=</span><span class="st">&quot;display:none&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb143-2" title="2">  <span class="op">&amp;</span>lt<span class="op">;</span>div id<span class="op">=</span><span class="st">&quot;div2&quot;</span> style<span class="op">=</span><span class="st">&quot;display:block&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>Div2<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb143-3" title="3"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<blockquote>
The above method will consider <code>div2</code> visible while <code>:visible</code> not. But the above might be useful in many cases, especially when you need to find if there is any error divs visible in the hidden parent because in such conditions <code>:visible</code> will not work.
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-change-an-elements-class-with-javascript-score-2446526-in-2019" class="level3">
<h3>19: How to change an element’s class with JavaScript? (score <a href="https://stackoverflow.com/q/195951.html">2446526</a> in 2019)</h3>
<section id="question-18" class="level4">
<h4>Question</h4>
<p>How can I change a class of an HTML element in response to an <code>onclick</code> event using JavaScript?</p>
</section>
<section id="answer-accepted-score-3702" class="level4">
<h4>Answer accepted (score 3702)</h4>
<h5>
Modern HTML5 Techniques for changing classes
</h2>
<p>Modern browsers have added <a href="https://developer.mozilla.org/en-US/docs/DOM/element.classList" rel="noreferrer"><strong>classList</strong></a> which provides methods to make it easier to manipulate classes without needing a library:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb144-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&#39;MyClass&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb144-2" title="2"></a>
<a class="sourceLine" id="cb144-3" title="3"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="va">classList</span>.<span class="at">remove</span>(<span class="st">&#39;MyClass&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb144-4" title="4"></a>
<a class="sourceLine" id="cb144-5" title="5"><span class="cf">if</span> ( <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="va">classList</span>.<span class="at">contains</span>(<span class="st">&#39;MyClass&#39;</span>) )</a>
<a class="sourceLine" id="cb144-6" title="6"></a>
<a class="sourceLine" id="cb144-7" title="7"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="va">classList</span>.<span class="at">toggle</span>(<span class="st">&#39;MyClass&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Unfortunately, these do not work in Internet Explorer prior to v10, though there is a <a href="http://en.wikipedia.org/wiki/Shim_(computing)" rel="noreferrer">shim</a> to add support for it to IE8 and IE9, available from <a href="https://developer.mozilla.org/en-US/docs/DOM/element.classList" rel="noreferrer">this page</a>. It is, though, getting more and more <a href="http://caniuse.com/#feat=classlist" rel="noreferrer">supported</a>.</p>
<h5>
Simple cross-browser solution
</h2>
<p>The standard JavaScript way to select an element is using <a href="https://developer.mozilla.org/en-US/docs/DOM/document.getElementById" rel="noreferrer"><code>document.getElementById(&quot;Id&quot;)</code></a>, which is what the following examples use - you can of course obtain elements in other ways, and in the right situation may simply use <code>this</code> instead - however, going into detail on this is beyond the scope of the answer.</p>
<h5>
To change all classes for an element:
</h3>
<p>To replace all existing classes with one or more new classes, set the className attribute:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb145-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="at">className</span> <span class="op">=</span> <span class="st">&quot;MyClass&quot;</span><span class="op">;</span></a></code></pre></div>
<p>(You can use a space-delimited list to apply multiple classes.)</p>
<h5>
To add an additional class to an element:
</h3>
<p>To add a class to an element, without removing/affecting existing values, append a space and the new classname, like so:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb146-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="at">className</span> <span class="op">+=</span> <span class="st">&quot; MyClass&quot;</span><span class="op">;</span></a></code></pre></div>
<h5>
To remove a class from an element:
</h3>
<p>To remove a single class to an element, without affecting other potential classes, a simple regex replace is required:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb147-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="at">className</span> <span class="op">=</span></a>
<a class="sourceLine" id="cb147-2" title="2">   <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="va">className</span>.<span class="at">replace</span></a>
<a class="sourceLine" id="cb147-3" title="3">      ( <span class="ss">/</span><span class="sc">(?</span><span class="ss">:^</span><span class="sc">|\s)</span><span class="ss">MyClass</span><span class="sc">(?</span><span class="ss">!</span><span class="sc">\S)</span><span class="ss">/g</span> <span class="op">,</span> <span class="st">&#39;&#39;</span> )</a>
<a class="sourceLine" id="cb147-4" title="4"><span class="co">/* Code wrapped for readability - above is all one statement */</span></a></code></pre></div>
<p>An explanation of this regex is as follows:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb148-1" title="1">(<span class="op">?</span>:<span class="op">^|</span>\s) # Match the start <span class="kw">of</span> the string<span class="op">,</span> or any single whitespace character</a>
<a class="sourceLine" id="cb148-2" title="2"></a>
<a class="sourceLine" id="cb148-3" title="3">MyClass  # The literal text <span class="cf">for</span> the classname to remove</a>
<a class="sourceLine" id="cb148-4" title="4"></a>
<a class="sourceLine" id="cb148-5" title="5">(<span class="op">?!</span>\S)   # Negative lookahead to verify the above is the whole classname</a>
<a class="sourceLine" id="cb148-6" title="6">         # Ensures there is no non<span class="op">-</span>space character following</a>
<a class="sourceLine" id="cb148-7" title="7">         # (<span class="va">i</span>.<span class="va">e</span>. <span class="at">must</span> be end <span class="kw">of</span> string or a space)</a></code></pre></div>
<p>The <code>g</code> flag tells the replace to repeat as required, in case the class name has been added multiple times.</p>
<h5>
To check if a class is already applied to an element:
</h3>
<p>The same regex used above for removing a class can also be used as a check as to whether a particular class exists:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb149-1" title="1"><span class="cf">if</span> ( <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="va">className</span>.<span class="at">match</span>(<span class="ss">/</span><span class="sc">(?</span><span class="ss">:^</span><span class="sc">|\s)</span><span class="ss">MyClass</span><span class="sc">(?</span><span class="ss">!</span><span class="sc">\S)</span><span class="ss">/</span>) )</a></code></pre></div>
<p><br/></p>
<h5>
Assigning these actions to onclick events:
</h3>
<p>Whilst it is possible to write JavaScript directly inside the HTML event attributes (such as <code>onclick=&quot;this.className+=' MyClass'&quot;</code>) this is not recommended behaviour. Especially on larger applications, more maintainable code is achieved by separating HTML markup from JavaScript interaction logic.</p>
<p>The first step to achieving this is by creating a function, and calling the function in the onclick attribute, for example:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb150-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>script type<span class="op">=</span><span class="st">&quot;text/javascript&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb150-2" title="2">    <span class="kw">function</span> <span class="at">changeClass</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb150-3" title="3">        <span class="co">// Code examples from above</span></a>
<a class="sourceLine" id="cb150-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb150-5" title="5"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a>
<a class="sourceLine" id="cb150-6" title="6"><span class="ss">...</span></a>
<a class="sourceLine" id="cb150-7" title="7"><span class="ss">&amp;lt;button onclick=&quot;changeClass</span><span class="sc">()</span><span class="ss">&quot;&amp;gt;My Button&amp;lt;/button</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p><sub><em>(It is not required to have this code in script tags, this is simply for brevity of example, and including the JavaScript in a distinct file may be more appropriate.)</em></sub></p>
<p>The second step is to move the onclick event out of the HTML and into JavaScript, for example using <a href="https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener" rel="noreferrer">addEventListener</a></p>
<div class="sourceCode" id="cb151"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb151-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>script type<span class="op">=</span><span class="st">&quot;text/javascript&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb151-2" title="2">    <span class="kw">function</span> <span class="at">changeClass</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb151-3" title="3">        <span class="co">// Code examples from above</span></a>
<a class="sourceLine" id="cb151-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb151-5" title="5"></a>
<a class="sourceLine" id="cb151-6" title="6">    <span class="va">window</span>.<span class="at">onload</span> <span class="op">=</span> <span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb151-7" title="7">        <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;MyElement&quot;</span>).<span class="at">addEventListener</span>( <span class="st">&#39;click&#39;</span><span class="op">,</span> changeClass)<span class="op">;</span></a>
<a class="sourceLine" id="cb151-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb151-9" title="9"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a>
<a class="sourceLine" id="cb151-10" title="10"><span class="ss">...</span></a>
<a class="sourceLine" id="cb151-11" title="11"><span class="ss">&amp;lt;button id=&quot;MyElement&quot;&amp;gt;My Button&amp;lt;/button</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>(Note that the window.onload part is required so that the contents of that function are executed <em>after</em> the HTML has finished loading - without this, the MyElement might not exist when the JavaScript code is called, so that line would fail.)</p>
<p><br/></p>
<h5>
JavaScript Frameworks and Libraries
</h2>
<p>The above code is all in standard JavaScript, however it is common practise to use either a framework or a library to simplify common tasks, as well as benefit from fixed bugs and edge cases that you might not think of when writing your code.</p>
<p>Whilst some people consider it overkill to add a ~50 KB framework for simply changing a class, if you are doing any substantial amount of JavaScript work, or anything that might have unusual cross-browser behaviour, it is well worth considering.</p>
<p><em>(Very roughly, a library is a set of tools designed for a specific task, whilst a framework generally contains multiple libraries and performs a complete set of duties.)</em></p>
<p>The examples above have been reproduced below using <a href="http://jquery.com" rel="noreferrer">jQuery</a>, probably the most commonly used JavaScript library (though there are others worth investigating too).</p>
<p>(Note that <code>$</code> here is the jQuery object.)</p>
<h5>
Changing Classes with jQuery:
</h3>
<div class="sourceCode" id="cb152"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb152-1" title="1"><span class="at">$</span>(<span class="st">&#39;#MyElement&#39;</span>).<span class="at">addClass</span>(<span class="st">&#39;MyClass&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb152-2" title="2"></a>
<a class="sourceLine" id="cb152-3" title="3"><span class="at">$</span>(<span class="st">&#39;#MyElement&#39;</span>).<span class="at">removeClass</span>(<span class="st">&#39;MyClass&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb152-4" title="4"></a>
<a class="sourceLine" id="cb152-5" title="5"><span class="cf">if</span> ( <span class="at">$</span>(<span class="st">&#39;#MyElement&#39;</span>).<span class="at">hasClass</span>(<span class="st">&#39;MyClass&#39;</span>) )</a></code></pre></div>
<p>In addition, jQuery provides a shortcut for adding a class if it doesn’t apply, or removing a class that does:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb153-1" title="1"><span class="at">$</span>(<span class="st">&#39;#MyElement&#39;</span>).<span class="at">toggleClass</span>(<span class="st">&#39;MyClass&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><br/></p>
<h5>
Assigning a function to a click event with jQuery:
</h3>
<div class="sourceCode" id="cb154"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb154-1" title="1"><span class="at">$</span>(<span class="st">&#39;#MyElement&#39;</span>).<span class="at">click</span>(changeClass)<span class="op">;</span></a></code></pre></div>
<p>or, without needing an id:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb155-1" title="1"><span class="at">$</span>(<span class="st">&#39;:button:contains(My Button)&#39;</span>).<span class="at">click</span>(changeClass)<span class="op">;</span></a></code></pre></div>
<p><br/></p>
</section>
<section id="answer-2-score-403" class="level4">
<h4>Answer 2 (score 403)</h4>
<p>You could also just do:</p>
<pre>
document.getElementById('id').classList.add('class');
document.getElementById('id').classList.remove('class');
</pre>
<p>And to toggle a class (remove if exists else add it):</p>
<pre>
document.getElementById('id').classList.toggle('class');
</pre>
</section>
<section id="answer-3-score-109" class="level4">
<h4>Answer 3 (score 109)</h4>
<p>In one of my old projects that did not use jQuery, I built the following functions for adding, removing and checking if element has class:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb156-1" title="1"><span class="kw">function</span> <span class="at">hasClass</span>(ele<span class="op">,</span> cls) <span class="op">{</span></a>
<a class="sourceLine" id="cb156-2" title="2">    <span class="cf">return</span> <span class="va">ele</span>.<span class="va">className</span>.<span class="at">match</span>(<span class="kw">new</span> <span class="at">RegExp</span>(<span class="st">&#39;(</span><span class="sc">\\</span><span class="st">s|^)&#39;</span> <span class="op">+</span> cls <span class="op">+</span> <span class="st">&#39;(</span><span class="sc">\\</span><span class="st">s|$)&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb156-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb156-4" title="4"><span class="kw">function</span> <span class="at">addClass</span>(ele<span class="op">,</span> cls) <span class="op">{</span></a>
<a class="sourceLine" id="cb156-5" title="5">    <span class="cf">if</span> (<span class="op">!</span><span class="at">hasClass</span>(ele<span class="op">,</span> cls)) <span class="va">ele</span>.<span class="at">className</span> <span class="op">+=</span> <span class="st">&quot; &quot;</span> <span class="op">+</span> cls<span class="op">;</span></a>
<a class="sourceLine" id="cb156-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb156-7" title="7"><span class="kw">function</span> <span class="at">removeClass</span>(ele<span class="op">,</span> cls) <span class="op">{</span></a>
<a class="sourceLine" id="cb156-8" title="8">    <span class="cf">if</span> (<span class="at">hasClass</span>(ele<span class="op">,</span> cls)) <span class="op">{</span></a>
<a class="sourceLine" id="cb156-9" title="9">        <span class="kw">var</span> reg <span class="op">=</span> <span class="kw">new</span> <span class="at">RegExp</span>(<span class="st">&#39;(</span><span class="sc">\\</span><span class="st">s|^)&#39;</span> <span class="op">+</span> cls <span class="op">+</span> <span class="st">&#39;(</span><span class="sc">\\</span><span class="st">s|$)&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb156-10" title="10">        <span class="va">ele</span>.<span class="at">className</span> <span class="op">=</span> <span class="va">ele</span>.<span class="va">className</span>.<span class="at">replace</span>(reg<span class="op">,</span> <span class="st">&#39; &#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb156-11" title="11">    <span class="op">}</span></a>
<a class="sourceLine" id="cb156-12" title="12"><span class="op">}</span></a></code></pre></div>
<p>So, for example, if I want <code>onclick</code> to add some class to the button I can use this:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb157-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>script type<span class="op">=</span><span class="st">&quot;text/javascript&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb157-2" title="2">    <span class="kw">function</span> <span class="at">changeClass</span>(btn<span class="op">,</span> cls) <span class="op">{</span></a>
<a class="sourceLine" id="cb157-3" title="3">        <span class="cf">if</span>(<span class="op">!</span><span class="at">hasClass</span>(btn<span class="op">,</span> cls)) <span class="op">{</span></a>
<a class="sourceLine" id="cb157-4" title="4">            <span class="at">addClass</span>(btn<span class="op">,</span> cls)<span class="op">;</span></a>
<a class="sourceLine" id="cb157-5" title="5">        <span class="op">}</span></a>
<a class="sourceLine" id="cb157-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb157-7" title="7"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a>
<a class="sourceLine" id="cb157-8" title="8"><span class="ss">...</span></a>
<a class="sourceLine" id="cb157-9" title="9"><span class="ss">&amp;lt;button onclick=&quot;changeClass</span><span class="sc">(</span><span class="ss">this, &quot;someClass&quot;</span><span class="sc">)</span><span class="ss">&quot;&amp;gt;My Button&amp;lt;/button</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>By now for sure it would just be better to use jQuery.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-get-the-current-date-in-javascript-score-2442657-in-2018" class="level3">
<h3>20: How do I get the current date in JavaScript? (score <a href="https://stackoverflow.com/q/1531093.html">2442657</a> in 2018)</h3>
<section id="question-19" class="level4">
<h4>Question</h4>
<p>How do I get current date in JavaScript?</p>
</section>
<section id="answer-accepted-score-2489" class="level4">
<h4>Answer accepted (score 2489)</h4>
<p>Use <code>new Date()</code> to generate a new <code>Date</code> object containing the current date and time.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p>```javascript var today = new Date(); var dd = String(today.getDate()).padStart(2, ‘0’); var mm = String(today.getMonth() + 1).padStart(2, ‘0’); //January is 0! var yyyy = today.getFullYear();</p>
<p>today = mm + ‘/’ + dd + ‘/’ + yyyy; document.write(today);```</p>
</div>
</div>
<p>This will give you today’s date in the format of mm/dd/yyyy.</p>
<p>Simply change <code>today = mm +'/'+ dd +'/'+ yyyy;</code> to whatever format you wish.</p>
</section>
<section id="answer-2-score-409" class="level4">
<h4>Answer 2 (score 409)</h4>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var utc = new Date().toJSON().slice(0,10).replace(/-/g,'/'); document.write(utc);</code></p>
</div>
</div>
<p>Use the <code>replace</code> option if you’re going to reuse the <code>utc</code> variable, such as <code>new Date(utc)</code>, as Firefox and Safari don’t recognize a date with dashes.</p>
</section>
<section id="answer-3-score-222" class="level4">
<h4>Answer 3 (score 222)</h4>
<blockquote>
<strong><em>UPDATED!</em></strong>, Scroll Down
</blockquote>
<p>If you want something simple pretty to the end-user … <em><code>Also, fixed a small suffix issue in the first version below. Now properly returns suffix.</code></em></p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p>```javascript var objToday = new Date(),</p>
<pre><code>weekday = new Array(&#39;Sunday&#39;, &#39;Monday&#39;, &#39;Tuesday&#39;, &#39;Wednesday&#39;, &#39;Thursday&#39;, &#39;Friday&#39;, &#39;Saturday&#39;),
dayOfWeek = weekday[objToday.getDay()],
domEnder = function() { var a = objToday; if (/1/.test(parseInt((a + &quot;&quot;).charAt(0)))) return &quot;th&quot;; a = parseInt((a + &quot;&quot;).charAt(1)); return 1 == a ? &quot;st&quot; : 2 == a ? &quot;nd&quot; : 3 == a ? &quot;rd&quot; : &quot;th&quot; }(),
dayOfMonth = today + ( objToday.getDate() &amp;lt; 10) ? &#39;0&#39; + objToday.getDate() + domEnder : objToday.getDate() + domEnder,
months = new Array(&#39;January&#39;, &#39;February&#39;, &#39;March&#39;, &#39;April&#39;, &#39;May&#39;, &#39;June&#39;, &#39;July&#39;, &#39;August&#39;, &#39;September&#39;, &#39;October&#39;, &#39;November&#39;, &#39;December&#39;),
curMonth = months[objToday.getMonth()],
curYear = objToday.getFullYear(),
curHour = objToday.getHours() &amp;gt; 12 ? objToday.getHours() - 12 : (objToday.getHours() &amp;lt; 10 ? &quot;0&quot; + objToday.getHours() : objToday.getHours()),
curMinute = objToday.getMinutes() &amp;lt; 10 ? &quot;0&quot; + objToday.getMinutes() : objToday.getMinutes(),
curSeconds = objToday.getSeconds() &amp;lt; 10 ? &quot;0&quot; + objToday.getSeconds() : objToday.getSeconds(),
curMeridiem = objToday.getHours() &amp;gt; 12 ? &quot;PM&quot; : &quot;AM&quot;;</code></pre>
<p>var today = curHour + “:” + curMinute + “.” + curSeconds + curMeridiem + &quot; &quot; + dayOfWeek + &quot; &quot; + dayOfMonth + &quot; of &quot; + curMonth + “,” + curYear;</p>
<p>document.getElementsByTagName(‘h1’)[0].textContent = today;<code></code>javascript &lt;h1&gt;&lt;/h1&gt;```</p>
</div>
</div>
<blockquote>
<strong>UBBER UPDATE</strong> After much procrastination, I’ve finally <a href="https://github.com/JDMcKinstry/JavaScriptDateFormat" rel="noreferrer"><strong>GitHubbed</strong></a> and updated this with the final solution I’ve been using for myself. It’s even had some last-minute edits to make it sweeter! If you’re looking for the old <a href="http://jsfiddle.net/SpYk3/rYzAY/" rel="noreferrer">jsFiddle, please see this</a>.
</blockquote>
<p>This update comes in <s>2</s> flavors, still relatively small, though not as small as my above, original answer. If you want extremely small, go with that. <br /> Also Note: This is still less bloated than moment.js. While moment.js is nice, imo, it has too many secular methods, which require learning moment as if it were a language. Mine here uses the same common format as <a href="http://php.net/manual/en/function.date.php" rel="noreferrer">PHP: date</a>.</p>
<h5>
Quick Links
</h3>
<ul>
<li>
<a href="https://cdn.rawgit.com/JDMcKinstry/JavaScriptDateFormat/master/Date.format.min.js" rel="noreferrer">Date.format.min.js</a> 5.08 KB
</li>
<li>
<a href="https://cdn.rawgit.com/JDMcKinstry/JavaScriptDateFormat/master/dateFormat.min.js" rel="noreferrer">dateFormat.min.js</a> 4.16 KB
</li>
</ul>
<blockquote>
<p>
<strong>Flavor 1 <a href="http://jsfiddle.net/SpYk3/smdz6d43/" rel="noreferrer"><code>new Date().format(String)</code></a></strong> My Personal Fav. I know the taboo but works great on the Date Object. Just be aware of any other mods you may have to the Date Object.
</p>
</blockquote>
<div class="sourceCode" id="cb159"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb159-1" title="1"><span class="co">//  use as simple as</span></a>
<a class="sourceLine" id="cb159-2" title="2"><span class="kw">new</span> <span class="at">Date</span>().<span class="at">format</span>(<span class="st">&#39;m-d-Y h:i:s&#39;</span>)<span class="op">;</span>   <span class="co">//  07-06-2016 06:38:34</span></a></code></pre></div>
<blockquote>
<p>
<strong>Flavor 2 <a href="http://jsfiddle.net/SpYk3/tcqpw5d7/" rel="noreferrer"><code>dateFormat(Date, String)</code></a></strong> More traditional all-in-one method. Has all the ability of the previous, but is called via the method with Date param.
</p>
</blockquote>
<div class="sourceCode" id="cb160"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb160-1" title="1"><span class="co">//  use as simple as</span></a>
<a class="sourceLine" id="cb160-2" title="2"><span class="at">dateFormat</span>(<span class="kw">new</span> <span class="at">Date</span>()<span class="op">,</span> <span class="st">&#39;m-d-Y h:i:s&#39;</span>)<span class="op">;</span>  <span class="co">//  07-06-2016 06:38:34</span></a></code></pre></div>
<blockquote>
<p>
<strong>BONUS Flavor (requires jQuery) <a href="https://github.com/JDMcKinstry/jQuery-Date" rel="noreferrer"><code>$.date(Date, String)</code></a></strong> This contains much more than just a simple <code>format</code> option. It extends the base Date object and includes methods such as <code>addDays</code>. For more information, please see the <a href="https://github.com/JDMcKinstry/jQuery-Date" rel="noreferrer"><em>Git</em></a>.
</p>
</blockquote>
<p>In this mod, the format characters are inspired by <a href="http://php.net/manual/en/function.date.php" rel="noreferrer">PHP: date</a>. For a complete list, please see my <a href="https://github.com/JDMcKinstry/JavaScriptDateFormat/blob/master/README.md" rel="noreferrer">README</a></p>
<p>This mod also has a much longer list of pre-made formats. To use a premade format, simply enter its key name. <code>dateFormat(new Date(), 'pretty-a');</code></p>
<ul>
<li>
<p>‘compound’</p>
<ul>
<li>
‘commonLogFormat’ == ‘d/M/Y:G:i:s’
</li>
<li>
‘exif’ == ‘Y:m:d G:i:s’
</li>
<li>
‘isoYearWeek’ == ‘Y\WW’
</li>
<li>
‘isoYearWeek2’ == ‘Y-\WW’
</li>
<li>
‘isoYearWeekDay’ == ‘Y\WWj’
</li>
<li>
‘isoYearWeekDay2’ == ‘Y-\WW-j’
</li>
<li>
‘mySQL’ == ‘Y-m-d h:i:s’
</li>
<li>
‘postgreSQL’ == ‘Y.z’
</li>
<li>
‘postgreSQL2’ == ‘Yz’
</li>
<li>
‘soap’ == ‘Y-m-d\TH:i:s.u’
</li>
<li>
‘soap2’ == ‘Y-m-d\TH:i:s.uP’
</li>
<li>
‘unixTimestamp’ == ‘<span class="citation" data-cites="U">@U</span>’
</li>
<li>
‘xmlrpc’ == ‘Ymd\TG:i:s’
</li>
<li>
‘xmlrpcCompact’ == ‘Ymd\tGis’
</li>
<li>
‘wddx’ == ‘Y-n-j\TG:i:s’
</li>
</ul>
</li>
<li>
<p>‘constants’</p>
<ul>
<li>
‘AMERICAN’ == ‘F j Y’
</li>
<li>
‘AMERICANSHORT’ == ‘m/d/Y’
</li>
<li>
‘AMERICANSHORTWTIME’ == ‘m/d/Y h:i:sA’
</li>
<li>
‘ATOM’ == ‘Y-m-d\TH:i:sP’
</li>
<li>
‘COOKIE’ == ‘l d-M-Y H:i:s T’
</li>
<li>
‘EUROPEAN’ == ‘j F Y’
</li>
<li>
‘EUROPEANSHORT’ == ‘d.m.Y’
</li>
<li>
‘EUROPEANSHORTWTIME’ == ‘d.m.Y H:i:s’
</li>
<li>
‘ISO8601’ == ‘Y-m-d\TH:i:sO’
</li>
<li>
‘LEGAL’ == ‘j F Y’
</li>
<li>
‘RFC822’ == ‘D d M y H:i:s O’
</li>
<li>
‘RFC850’ == ‘l d-M-y H:i:s T’
</li>
<li>
‘RFC1036’ == ‘D d M y H:i:s O’
</li>
<li>
‘RFC1123’ == ‘D d M Y H:i:s O’
</li>
<li>
‘RFC2822’ == ‘D d M Y H:i:s O’
</li>
<li>
‘RFC3339’ == ‘Y-m-d\TH:i:sP’
</li>
<li>
‘RSS’ == ‘D d M Y H:i:s O’
</li>
<li>
‘W3C’ == ‘Y-m-d\TH:i:sP’
</li>
</ul>
</li>
<li>
<p>‘pretty’</p>
<ul>
<li>
‘pretty-a’ == ‘g:i.sA l jS \o\f F Y’
</li>
<li>
‘pretty-b’ == ‘g:iA l jS \o\f F Y’
</li>
<li>
‘pretty-c’ == ‘n/d/Y g:iA’
</li>
<li>
‘pretty-d’ == ‘n/d/Y’
</li>
<li>
‘pretty-e’ == ‘F jS - g:ia’
</li>
<li>
‘pretty-f’ == ‘g:iA’
</li>
</ul>
</li>
</ul>
<p><em>As you may notice, you can use double <code>\</code> to escape a character.</em></p>
<hr>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-check-if-an-array-includes-a-value-in-javascript-score-2382154-in-2019" class="level3">
<h3>21: How do I check if an array includes a value in JavaScript? (score <a href="https://stackoverflow.com/q/237104.html">2382154</a> in 2019)</h3>
<section id="question-20" class="level4">
<h4>Question</h4>
<p>What is the most concise and efficient way to find out if a JavaScript array contains a value?</p>
<p>This is the only way I know to do it:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb161-1" title="1"><span class="kw">function</span> <span class="at">contains</span>(a<span class="op">,</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb161-2" title="2">    <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">a</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb161-3" title="3">        <span class="cf">if</span> (a[i] <span class="op">===</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb161-4" title="4">            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb161-5" title="5">        <span class="op">}</span></a>
<a class="sourceLine" id="cb161-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb161-7" title="7">    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb161-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>Is there a better and more concise way to accomplish this?</p>
<p>This is very closely related to Stack Overflow question <em><a href="https://stackoverflow.com/questions/143847/best-way-to-find-an-item-in-a-javascript-array">Best way to find an item in a JavaScript Array?</a></em> which addresses finding objects in an array using <code>indexOf</code>.</p>
</section>
<section id="answer-accepted-score-4127" class="level4">
<h4>Answer accepted (score 4127)</h4>
<p>Current browsers have <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Browser_compatibility" rel="noreferrer"><code>Array#includes</code></a>, which does <em>exactly</em> that, <a href="https://kangax.github.io/compat-table/es2016plus/#test-Array.prototype.includes" rel="noreferrer">is widely supported</a>, and has a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes#Polyfill" rel="noreferrer">polyfill</a> for older browsers.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb162-1" title="1"><span class="op">&amp;</span>gt<span class="op">;</span> [<span class="st">&#39;joe&#39;</span><span class="op">,</span> <span class="st">&#39;jane&#39;</span><span class="op">,</span> <span class="st">&#39;mary&#39;</span>].<span class="at">includes</span>(<span class="st">&#39;jane&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb162-2" title="2"><span class="kw">true</span> </a></code></pre></div>
<p>You can also use <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf" rel="noreferrer"><code>Array#indexOf</code></a>, which is less direct, but doesn’t require Polyfills for out of date browsers.</p>
<p>jQuery offers <a href="http://api.jquery.com/jquery.inarray/" rel="noreferrer"><code>$.inArray</code></a>, which is functionally equivalent to <code>Array#indexOf</code>.</p>
<p><a href="http://underscorejs.org/#" rel="noreferrer">underscore.js</a>, a JavaScript utility library, offers <a href="http://underscorejs.org/#contains" rel="noreferrer"><code>_.contains(list, value)</code></a>, alias <code>_.include(list, value)</code>, both of which use <a href="http://underscorejs.org/#indexOf" rel="noreferrer">indexOf</a> internally if passed a JavaScript array.</p>
<p>Some other frameworks offer similar methods:</p>
<ul>
<li>
Dojo Toolkit: <a href="http://dojotoolkit.org/reference-guide/dojo/indexOf.html" rel="noreferrer"><code>dojo.indexOf(array, value, [fromIndex, findLast])</code></a>
</li>
<li>
Prototype: <a href="http://api.prototypejs.org/language/Array/prototype/indexOf/" rel="noreferrer"><code>array.indexOf(value)</code></a>
</li>
<li>
MooTools: <a href="https://mootools.net/core/docs/1.6.0/Types/Array#Array:indexOf" rel="noreferrer"><code>array.indexOf(value)</code></a>
</li>
<li>
MochiKit: <a href="http://mochi.github.io/mochikit/doc/html/MochiKit/Base.html#fn-findvalue" rel="noreferrer"><code>findValue(array, value)</code></a>
</li>
<li>
MS Ajax: <a href="http://www.asp.net/ajaxlibrary/Reference.Array-indexOf-Function.ashx" rel="noreferrer"><code>array.indexOf(value)</code></a>
</li>
<li>
Ext: <a href="http://docs.sencha.com/extjs/4.0.0/#/api/Ext.Array-method-contains" rel="noreferrer"><code>Ext.Array.contains(array, value)</code></a>
</li>
<li>
Lodash: <a href="https://lodash.com/docs#includes" rel="noreferrer"><code>_.includes(array, value, [from])</code></a> (is <code>_.contains</code> prior 4.0.0)
</li>
<li>
ECMAScript 2016: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes" rel="noreferrer"><code>array.includes(value)</code></a>
</li>
</ul>
<p>Notice that some frameworks implement this as a function, while others add the function to the array prototype.</p>
</section>
<section id="answer-2-score-399" class="level4">
<h4>Answer 2 (score 399)</h4>
<p><strong>Update from 2019: This answer is from 2008 (11 years old!) and is not relevant for modern JS usage. The promised performance improvement was based on a benchmark done in browsers of that time. It might not be relevant to modern JS execution contexts. If you need an easy solution, look for other answers. If you need the best performance, benchmark for yourself in the relevant execution environments.</strong></p>
<p>As others have said, the iteration through the array is probably the best way, but it <a href="http://blogs.oracle.com/greimer/entry/best_way_to_code_a" rel="noreferrer">has been proven</a> that a decreasing <code>while</code> loop is the fastest way to iterate in JavaScript. So you may want to rewrite your code as follows:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb163-1" title="1"><span class="kw">function</span> <span class="at">contains</span>(a<span class="op">,</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb163-2" title="2">    <span class="kw">var</span> i <span class="op">=</span> <span class="va">a</span>.<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb163-3" title="3">    <span class="cf">while</span> (i<span class="op">--</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb163-4" title="4">       <span class="cf">if</span> (a[i] <span class="op">===</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb163-5" title="5">           <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb163-6" title="6">       <span class="op">}</span></a>
<a class="sourceLine" id="cb163-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb163-8" title="8">    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb163-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>Of course, you may as well extend Array prototype:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb164-1" title="1"><span class="va">Array</span>.<span class="va">prototype</span>.<span class="at">contains</span> <span class="op">=</span> <span class="kw">function</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb164-2" title="2">    <span class="kw">var</span> i <span class="op">=</span> <span class="kw">this</span>.<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb164-3" title="3">    <span class="cf">while</span> (i<span class="op">--</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb164-4" title="4">        <span class="cf">if</span> (<span class="kw">this</span>[i] <span class="op">===</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb164-5" title="5">            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb164-6" title="6">        <span class="op">}</span></a>
<a class="sourceLine" id="cb164-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb164-8" title="8">    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb164-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>And now you can simply use the following:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb165-1" title="1"><span class="at">alert</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>].<span class="at">contains</span>(<span class="dv">2</span>))<span class="op">;</span> <span class="co">// =&amp;gt; true</span></a>
<a class="sourceLine" id="cb165-2" title="2"><span class="at">alert</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>].<span class="at">contains</span>(<span class="st">&#39;2&#39;</span>))<span class="op">;</span> <span class="co">// =&amp;gt; false</span></a></code></pre></div>
</section>
<section id="answer-3-score-189" class="level4">
<h4>Answer 3 (score 189)</h4>
<p><a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Array/indexOf" rel="noreferrer"><code>indexOf</code></a> maybe, but it’s a “JavaScript extension to the ECMA-262 standard; as such it may not be present in other implementations of the standard.”</p>
<p>Example:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb166-1" title="1">[<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>].<span class="at">indexOf</span>(<span class="dv">1</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb166-2" title="2">[<span class="st">&quot;foo&quot;</span><span class="op">,</span> <span class="st">&quot;bar&quot;</span><span class="op">,</span> <span class="st">&quot;baz&quot;</span>].<span class="at">indexOf</span>(<span class="st">&quot;bar&quot;</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb166-3" title="3">[<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>].<span class="at">indexOf</span>(<span class="dv">4</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="dv">-1</span></a></code></pre></div>
<p>AFAICS <a href="http://msdn.microsoft.com/en-us/library/k4h76zbx%5C%28VS.85%5C%29.aspx" rel="noreferrer">Microsoft does <em>not</em> offer some kind of alternative</a> to this, but you can add similar functionality to arrays in Internet Explorer (and other browsers that don’t support <code>indexOf</code>) if you want to, as a <a href="http://google.com/search?q=indexof%20internet%20explorer" rel="noreferrer">quick Google search reveals</a> (for example, <a href="http://soledadpenades.com/2007/05/17/arrayindexof-in-internet-explorer/" rel="noreferrer">this one</a>).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-empty-an-array-in-javascript-score-2380812-in-2015" class="level3">
<h3>22: How do I empty an array in JavaScript? (score <a href="https://stackoverflow.com/q/1232040.html">2380812</a> in 2015)</h3>
<section id="question-21" class="level4">
<h4>Question</h4>
<p>Is there a way to empty an array and if so possibly with <code>.remove()</code>?</p>
<p>For instance,</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb167-1" title="1">A <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span><span class="op">,</span><span class="dv">4</span>]<span class="op">;</span></a></code></pre></div>
<p>How can I empty that?</p>
</section>
<section id="answer-accepted-score-4102" class="level4">
<h4>Answer accepted (score 4102)</h4>
<p>Ways to clear an existing array <code>A</code>:</p>
<p><strong>Method 1</strong></p>
<p>(this was my original answer to the question)</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb168-1" title="1">A <span class="op">=</span> []<span class="op">;</span></a></code></pre></div>
<p>This code will set the variable <code>A</code> to a new empty array. This is perfect if you don’t have <strong>references to the original array <code>A</code></strong> anywhere else because this actually creates a brand new (empty) array. You should be careful with this method because if you have referenced this array from another variable or property, the original array will remain unchanged. Only use this if you only reference the array by its original variable <code>A</code>.</p>
<p>This is also the fastest solution.</p>
<p>This code sample shows the issue you can encounter when using this method:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb169-1" title="1"><span class="kw">var</span> arr1 <span class="op">=</span> [<span class="st">&#39;a&#39;</span><span class="op">,</span><span class="st">&#39;b&#39;</span><span class="op">,</span><span class="st">&#39;c&#39;</span><span class="op">,</span><span class="st">&#39;d&#39;</span><span class="op">,</span><span class="st">&#39;e&#39;</span><span class="op">,</span><span class="st">&#39;f&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb169-2" title="2"><span class="kw">var</span> arr2 <span class="op">=</span> arr1<span class="op">;</span>  <span class="co">// Reference arr1 by another variable </span></a>
<a class="sourceLine" id="cb169-3" title="3">arr1 <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb169-4" title="4"><span class="va">console</span>.<span class="at">log</span>(arr2)<span class="op">;</span> <span class="co">// Output [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;]</span></a></code></pre></div>
<p><strong>Method 2</strong> (as <a href="https://stackoverflow.com/a/1234337/113570">suggested</a> by <a href="https://stackoverflow.com/users/2214/matthew-crumley">Matthew Crumley</a>)</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb170-1" title="1"><span class="va">A</span>.<span class="at">length</span> <span class="op">=</span> <span class="dv">0</span></a></code></pre></div>
<p>This will clear the existing array by setting its length to 0. Some have argued that this may not work in all implementations of JavaScript, but it turns out that this is not the case. It also works when using “strict mode” in ECMAScript 5 because the length property of an array is a read/write property.</p>
<p><strong>Method 3</strong> (as <a href="https://stackoverflow.com/a/8134354/113570">suggested</a> by <a href="https://stackoverflow.com/users/1047275/anthony">Anthony</a>)</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb171-1" title="1"><span class="va">A</span>.<span class="at">splice</span>(<span class="dv">0</span><span class="op">,</span><span class="va">A</span>.<span class="at">length</span>)</a></code></pre></div>
<p>Using <code>.splice()</code> will work perfectly, but since the <code>.splice()</code> function will return an array with all the removed items, it will actually return a copy of the original array. Benchmarks suggest that this has no effect on performance whatsoever.</p>
<p><strong>Method 4</strong> (as <a href="https://stackoverflow.com/a/17306971/113570">suggested</a> by <a href="https://stackoverflow.com/users/990356/tanguy-k">tanguy_k</a>)</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb172-1" title="1"><span class="cf">while</span>(<span class="va">A</span>.<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb172-2" title="2">    <span class="va">A</span>.<span class="at">pop</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb172-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>This solution is not very succinct, and it is also the slowest solution, contrary to earlier benchmarks referenced in the original answer.</p>
<p><strong>Performance</strong></p>
<p>Of all the methods of clearing an <strong><em>existing array</em></strong>, methods 2 and 3 are very similar in performance and are a lot faster than method 4. See this <a href="http://jsben.ch/#/hyj65" rel="noreferrer">benchmark</a>.</p>
<p>As pointed out by <a href="https://stackoverflow.com/users/47401/diadistis">Diadistis</a> in their <a href="https://stackoverflow.com/a/28548360/113570">answer</a> below, the original benchmarks that were used to determine the performance of the four methods described above were flawed. The original benchmark reused the cleared array so the second iteration was clearing an array that was already empty.</p>
<p>The following benchmark fixes this flaw: <a href="http://jsben.ch/#/hyj65" rel="noreferrer">http://jsben.ch/#/hyj65</a>. It clearly shows that methods #2 (length property) and #3 (splice) are the fastest (not counting method #1 which doesn’t change the original array).</p>
<hr/>
<p>This has been a hot topic and the cause of a lot of controversy. There are actually many correct answers and because this answer has been marked as the accepted answer for a very long time, I will include all of the methods here. If you vote for this answer, please upvote the other answers that I have referenced as well.</p>
</section>
<section id="answer-2-score-2385" class="level4">
<h4>Answer 2 (score 2385)</h4>
<p>If you need to keep the original array because you have other references to it that should be updated too, you can clear it without creating a new array by setting its length to zero:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb173-1" title="1"><span class="va">A</span>.<span class="at">length</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-280" class="level4">
<h4>Answer 3 (score 280)</h4>
<p><s>Here the fastest working implementation</s> while <strong>keeping the same array</strong> (“mutable”):</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb174-1" title="1"><span class="kw">function</span> <span class="at">clearArray</span>(array) <span class="op">{</span></a>
<a class="sourceLine" id="cb174-2" title="2">  <span class="cf">while</span> (<span class="va">array</span>.<span class="at">length</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb174-3" title="3">    <span class="va">array</span>.<span class="at">pop</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb174-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb174-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>FYI it cannot be simplified to <code>while (array.pop())</code>: the tests will fail.</p>
<p>FYI <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/clear" rel="noreferrer">Map</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/clear" rel="noreferrer">Set</a> define <code>clear()</code>, it would have seem logical to have <code>clear()</code> for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" rel="noreferrer">Array</a> too.</p>
<p>TypeScript version:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb175-1" title="1"><span class="kw">function</span> clearArray<span class="op">&amp;</span>lt<span class="op">;</span>T<span class="op">&amp;</span>gt<span class="op">;</span>(array<span class="op">:</span> T[]) <span class="op">{</span></a>
<a class="sourceLine" id="cb175-2" title="2">  <span class="cf">while</span> (<span class="va">array</span>.<span class="at">length</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb175-3" title="3">    <span class="va">array</span>.<span class="at">pop</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb175-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb175-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>The corresponding tests:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb176-1" title="1"><span class="at">describe</span>(<span class="st">&#39;clearArray()&#39;</span><span class="op">,</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb176-2" title="2">  <span class="at">test</span>(<span class="st">&#39;clear regular array&#39;</span><span class="op">,</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb176-3" title="3">    <span class="kw">const</span> array <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb176-4" title="4">    <span class="at">clearArray</span>(array)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-5" title="5">    <span class="at">expect</span>(<span class="va">array</span>.<span class="at">length</span>).<span class="at">toEqual</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-6" title="6">    <span class="at">expect</span>(array[<span class="dv">0</span>]).<span class="at">toEqual</span>(<span class="kw">undefined</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-7" title="7">    <span class="at">expect</span>(array[<span class="dv">4</span>]).<span class="at">toEqual</span>(<span class="kw">undefined</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-8" title="8">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-9" title="9"></a>
<a class="sourceLine" id="cb176-10" title="10">  <span class="at">test</span>(<span class="st">&#39;clear array that contains undefined and null&#39;</span><span class="op">,</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb176-11" title="11">    <span class="kw">const</span> array <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="kw">undefined</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb176-12" title="12">    <span class="at">clearArray</span>(array)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-13" title="13">    <span class="at">expect</span>(<span class="va">array</span>.<span class="at">length</span>).<span class="at">toEqual</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-14" title="14">    <span class="at">expect</span>(array[<span class="dv">0</span>]).<span class="at">toEqual</span>(<span class="kw">undefined</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-15" title="15">    <span class="at">expect</span>(array[<span class="dv">4</span>]).<span class="at">toEqual</span>(<span class="kw">undefined</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-16" title="16">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb176-17" title="17"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Here the updated jsPerf: <s><a href="http://jsperf.com/array-destroy/32" rel="noreferrer">http://jsperf.com/array-destroy/32</a></s> <a href="http://jsperf.com/array-destroy/152" rel="noreferrer">http://jsperf.com/array-destroy/152</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-refresh-a-page-with-jquery-score-2363933-in-2013" class="level3">
<h3>23: How can I refresh a page with jQuery? (score <a href="https://stackoverflow.com/q/5404839.html">2363933</a> in 2013)</h3>
<section id="question-22" class="level4">
<h4>Question</h4>
<p>How can I refresh a page with jQuery?</p>
</section>
<section id="answer-accepted-score-3693" class="level4">
<h4>Answer accepted (score 3693)</h4>
<p>Use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/reload" rel="noreferrer"><code>location.reload()</code></a>:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb177-1" title="1"><span class="at">$</span>(<span class="st">&#39;#something&#39;</span>).<span class="at">click</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb177-2" title="2">    <span class="va">location</span>.<span class="at">reload</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb177-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>The <code>reload()</code> function takes an optional parameter that can be set to <code>true</code> to force a reload from the server rather than the cache. The parameter defaults to <code>false</code>, so by default the page may reload from the browser’s cache.</p>
</section>
<section id="answer-2-score-444" class="level4">
<h4>Answer 2 (score 444)</h4>
<p>This should work on all browsers even without jQuery:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb178-1" title="1"><span class="va">location</span>.<span class="at">reload</span>()<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-427" class="level4">
<h4>Answer 3 (score 427)</h4>
<p>There are <strike>multiple</strike> unlimited ways to refresh a page with JavaScript:</p>
<ol>
<li>
<code>location.reload()</code>
</li>
<li>
<code>history.go(0)</code>
</li>
<li>
<code>location.href = location.href</code>
</li>
<li>
<code>location.href = location.pathname</code>
</li>
<li>
<code>location.replace(location.pathname)</code>
</li>
<li>
<p>
<code>location.reload(false)</code>
</p>
<blockquote>
<p>
If we needed to pull the document from the web-server again (such as where the document contents change dynamically) we would pass the argument as <code>true</code>.
</p>
</blockquote>
</li>
</ol>
<p>You can continue the list being creative:</p>
<ul>
<li>
<code>window.location = window.location</code>
</li>
<li>
<code>window.self.window.self.window.window.location = window.location</code>
</li>
<li>
<a href="http://www.phpied.com/files/location-location/location-location.html" rel="noreferrer">…and other 534 ways</a>
</li>
</ul>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p>```javascript var methods = [ “location.reload()”, “history.go(0)”, “location.href = location.href”, “location.href = location.pathname”, “location.replace(location.pathname)”, “location.reload(false)”];</p>
<p>var $body = $(“body”); for (var i = 0; i &lt; methods.length; ++i) { (function(cMethod) { <span class="math inline"><em>b</em><em>o</em><em>d</em><em>y</em>.<em>a</em><em>p</em><em>p</em><em>e</em><em>n</em><em>d</em>(</span>(“&lt;button&gt;”, { text: cMethod }).on(“click”, function() { eval(cMethod); // don’t blame me for using eval })); })(methods[i]); }<code></code>javascript button { background: #2ecc71; border: 0; color: white; font-weight: bold; font-family: “Monaco”, monospace; padding: 10px; border-radius: 4px; cursor: pointer; transition: background-color 0.5s ease; margin: 2px; } button:hover { background: #27ae60; }<code></code>javascript &lt;script src=“https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js”&gt;&lt;/script&gt;```</p>
</div>
</div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-determine-if-variable-is-undefined-or-null-score-2363523-in-2016" class="level3">
<h3>24: How to determine if variable is ‘undefined’ or ‘null’? (score <a href="https://stackoverflow.com/q/2647867.html">2363523</a> in 2016)</h3>
<section id="question-23" class="level4">
<h4>Question</h4>
<p>How do I determine if variable is <code>undefined</code> or <code>null</code>? My code is as follows:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb179-1" title="1"><span class="kw">var</span> EmpName <span class="op">=</span> <span class="at">$</span>(<span class="st">&quot;div#esd-names div#name&quot;</span>).<span class="at">attr</span>(<span class="st">&#39;class&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb179-2" title="2"><span class="cf">if</span>(EmpName <span class="op">==</span> <span class="st">&#39;undefined&#39;</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb179-3" title="3">  <span class="co">//DO SOMETHING</span></a>
<a class="sourceLine" id="cb179-4" title="4"><span class="op">};</span></a></code></pre></div>
<div class="sourceCode" id="cb180"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb180-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>div id<span class="op">=</span><span class="st">&quot;esd-names&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb180-2" title="2">  <span class="op">&amp;</span>lt<span class="op">;</span>div id<span class="op">=</span><span class="st">&quot;name&quot;</span><span class="op">&amp;</span>gt<span class="op">;&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb180-3" title="3"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>But if I do this, the JavaScript interpreter halts execution.</p>
</section>
<section id="answer-accepted-score-2672" class="level4">
<h4>Answer accepted (score 2672)</h4>
<p>You can use the qualities of the <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-abstract-equality-comparison" rel="noreferrer">abstract equality operator</a> to do this:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb181-1" title="1"><span class="cf">if</span> (variable <span class="op">==</span> <span class="kw">null</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb181-2" title="2">    <span class="co">// your code here.</span></a>
<a class="sourceLine" id="cb181-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Because <code>null == undefined</code> is true, the above code will catch both <code>null</code> and <code>undefined</code>.</p>
</section>
<section id="answer-2-score-1059" class="level4">
<h4>Answer 2 (score 1059)</h4>
<p>The standard way to catch <code>null</code> and <code>undefined</code> simultaneously is this:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb182-1" title="1"><span class="cf">if</span> (variable <span class="op">==</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb182-2" title="2">     <span class="co">// do something </span></a>
<a class="sourceLine" id="cb182-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>–which is 100% equivalent to the more explicit but less concise:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb183-1" title="1"><span class="cf">if</span> (variable <span class="op">===</span> <span class="kw">undefined</span> <span class="op">||</span> variable <span class="op">===</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb183-2" title="2">     <span class="co">// do something </span></a>
<a class="sourceLine" id="cb183-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>When writing professional JS, it’s taken for granted that <a href="https://dorey.github.io/JavaScript-Equality-Table/" rel="noreferrer">type equality and the behavior of <code>==</code> vs <code>===</code></a> is understood. Therefore we use <code>==</code> and only compare to <code>null</code>.</p>
<hr>
<h5>
<strong><em>Edit again</em></strong>
</h2>
<p>The comments suggesting the use of <code>typeof</code> are simply <em>wrong.</em> Yes, my solution above will cause a ReferenceError if the variable doesn’t exist. <em>This is a good thing.</em> This ReferenceError is desirable: it will help you find your mistakes and fix them before you ship your code, just like compiler errors would in other languages.</p>
<p><strong>You should not have any references to undeclared variables in your code.</strong></p>
</section>
<section id="answer-3-score-208" class="level4">
<h4>Answer 3 (score 208)</h4>
<p>Combining the above answers, it seems the most complete answer would be:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb184-1" title="1"><span class="cf">if</span>( <span class="kw">typeof</span> variable <span class="op">===</span> <span class="st">&#39;undefined&#39;</span> <span class="op">||</span> variable <span class="op">===</span> <span class="kw">null</span> )<span class="op">{</span></a>
<a class="sourceLine" id="cb184-2" title="2">    <span class="co">// Do stuff</span></a>
<a class="sourceLine" id="cb184-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>This should work for any variable that is either undeclared or declared and explicitly set to null or undefined. The boolean expression should evaluate to false for any declared variable that has an actual non-null value.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="open-a-url-in-a-new-tab-and-not-a-new-window-using-javascript-score-2357996-in-2019" class="level3">
<h3>25: Open a URL in a new tab (and not a new window) using JavaScript (score <a href="https://stackoverflow.com/q/4907843.html">2357996</a> in 2019)</h3>
<section id="question-24" class="level4">
<h4>Question</h4>
<p>I’m trying to open a <a href="https://en.wikipedia.org/wiki/URL" rel="noreferrer">URL</a> in a new tab, as opposed to a popup window.</p>
<p>I’ve seen related questions where the responses would look something like:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb185-1" title="1"><span class="va">window</span>.<span class="at">open</span>(url<span class="op">,</span><span class="st">&#39;_blank&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb185-2" title="2"><span class="va">window</span>.<span class="at">open</span>(url)<span class="op">;</span></a></code></pre></div>
<p>But none of them worked for me, the browser still tried to open a popup window.</p>
</section>
<section id="answer-accepted-score-834" class="level4">
<h4>Answer accepted (score 834)</h4>
<p>Nothing an author can do can choose to open in a new tab instead of a new window; it is a <em>user preference</em>.</p>
<p>CSS3 proposed <a href="https://www.w3.org/TR/2004/WD-css3-hyperlinks-20040224/#target-new" rel="noreferrer">target-new</a>, but <a href="https://www.w3.org/TR/2014/NOTE-css3-hyperlinks-20141014/" rel="noreferrer">the specification was abandoned</a>.</p>
<p>The <strong>reverse</strong> is not true; by specifying dimensions for the window in the third argument of <code>window.open()</code>, you can trigger a new window when the preference is for tabs.</p>
</section>
<section id="answer-2-score-1582" class="level4">
<h4>Answer 2 (score 1582)</h4>
<p>This is a trick,</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb186-1" title="1"><span class="kw">function</span> <span class="at">openInNewTab</span>(url) <span class="op">{</span></a>
<a class="sourceLine" id="cb186-2" title="2">  <span class="kw">var</span> win <span class="op">=</span> <span class="va">window</span>.<span class="at">open</span>(url<span class="op">,</span> <span class="st">&#39;_blank&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb186-3" title="3">  <span class="va">win</span>.<span class="at">focus</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb186-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>In most cases, this should happen directly in the <code>onclick</code> handler for the link to prevent pop-up blockers, and the default “new window” behavior. You could do it this way, or by adding an event listener to your <code>DOM</code> object.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb187-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>div onclick<span class="op">=</span><span class="st">&quot;openInNewTab(&#39;www.test.com&#39;);&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>Something To Click On<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a></code></pre></div>
<p><a href="http://www.tutsplanet.com/open-url-new-tab-using-javascript/" rel="noreferrer">http://www.tutsplanet.com/open-url-new-tab-using-javascript/</a></p>
</section>
<section id="answer-3-score-353" class="level4">
<h4>Answer 3 (score 353)</h4>
<p><code>window.open()</code> will not open in a new tab if it is not happening on the actual click event. In the example given the URL is being opened on the actual click event. <strong>This will work provided the user has appropriate settings in the browser</strong>.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb188-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>a <span class="kw">class</span><span class="op">=</span><span class="st">&quot;link&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>Link<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;</span></a>
<a class="sourceLine" id="cb188-2" title="2"><span class="ss">&amp;lt;script  type=&quot;text/javascript</span><span class="st">&quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb188-3" title="3">     <span class="at">$</span>(<span class="st">&quot;a.link&quot;</span>).<span class="at">on</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span><span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb188-4" title="4">         <span class="va">window</span>.<span class="at">open</span>(<span class="st">&#39;www.yourdomain.com&#39;</span><span class="op">,</span><span class="st">&#39;_blank&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb188-5" title="5">     <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb188-6" title="6"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a></code></pre></div>
<p>Similarly, if you are trying to do an Ajax call within the click function and want to open a window on success, ensure you are doing the Ajax call with the <code>async : false</code> option set.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-javascript-version-of-sleep-score-2356533-in-2018" class="level3">
<h3>26: What is the JavaScript version of sleep()? (score <a href="https://stackoverflow.com/q/951021.html">2356533</a> in 2018)</h3>
<section id="question-25" class="level4">
<h4>Question</h4>
<p>Is there a better way to engineer a <code>sleep</code> in JavaScript than the following <code>pausecomp</code> function (<a href="http://www.sean.co.uk/a/webdesign/javascriptdelay.shtm" rel="noreferrer">taken from here</a>)?</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb189-1" title="1"><span class="kw">function</span> <span class="at">pausecomp</span>(millis)</a>
<a class="sourceLine" id="cb189-2" title="2"><span class="op">{</span></a>
<a class="sourceLine" id="cb189-3" title="3">    <span class="kw">var</span> date <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb189-4" title="4">    <span class="kw">var</span> curDate <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb189-5" title="5">    <span class="cf">do</span> <span class="op">{</span> curDate <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb189-6" title="6">    <span class="cf">while</span>(curDate<span class="op">-</span>date <span class="op">&amp;</span>lt<span class="op">;</span> millis)<span class="op">;</span></a>
<a class="sourceLine" id="cb189-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>This is not a duplicate of <a href="https://stackoverflow.com/questions/758688/sleep-in-javascript-delay-between-actions">Sleep in JavaScript - delay between actions</a>; I want a <em>real sleep</em> in the middle of a function, and not a delay before a piece of code executes.</p>
</section>
<section id="answer-accepted-score-2019" class="level4">
<h4>Answer accepted (score 2019)</h4>
<h5>
2017 — 2019 update
</h2>
<p>Since 2009 when this question was asked, JavaScript has evolved significantly. All other answers are now obsolete or overly complicated. Here is the current best practice:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function sleep(ms) { return new Promise(resolve =&gt; setTimeout(resolve, ms)); }</p>
<p>async function demo() { console.log(‘Taking a break…’); await sleep(2000); console.log(‘Two seconds later, showing sleep in a loop…’);</p>
<p>// Sleep in loop for (let i = 0; i &lt; 5; i++) { if (i === 3) await sleep(2000); console.log(i); } }</p>
<p>demo();```</p>
</div>
</div>
<h5>
This is it. <code>await sleep(&amp;lt;duration&amp;gt;)</code>.
</h3>
<p>Note that,</p>
<ol>
<li>
<code>await</code> can only be executed in functions prefixed with the <code>async</code> keyword, or at the <a href="https://developers.google.com/web/updates/2017/08/devtools-release-notes#await" rel="noreferrer">top level</a> of your script in some environments (e.g. the Chrome DevTools console, or Runkit).
</li>
<li>
<code>await</code> only pauses the current <code>async</code> function
</li>
</ol>
<p>Two new JavaScript features helped write this “sleep” function:</p>
<ul>
<li>
<a href="https://ponyfoo.com/articles/es6-promises-in-depth" rel="noreferrer">Promises, a native feature of ES2015</a> (aka ES6). We also use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noreferrer">arrow functions</a> in the definition of the sleep function.
</li>
<li>
The <a href="https://ponyfoo.com/articles/understanding-javascript-async-await" rel="noreferrer"><code>async/await</code></a> feature lets the code explicitly wait for a promise to settle (resolve or reject).
</li>
</ul>
<h5>
Compatibility
</h2>
<ul>
<li>
promises are supported <a href="http://node.green/#Promise" rel="noreferrer">in Node v0.12+</a> and <a href="http://caniuse.com/#feat=promises" rel="noreferrer">widely supported in browsers</a>, except IE
</li>
<li>
<p><code>async</code>/<code>await</code> landed in V8 and has been <a href="https://developers.google.com/web/fundamentals/getting-started/primers/async-functions" rel="noreferrer">enabled by default since Chrome 55</a> (released in Dec 2016)</p>
<ul>
<li>
it landed <a href="https://blog.risingstack.com/async-await-node-js-7-nightly/" rel="noreferrer">in Node 7 in October 2016</a>
</li>
<li>
and also landed <a href="https://blog.nightly.mozilla.org/2016/11/01/async-await-support-in-firefox/" rel="noreferrer">in Firefox Nightly in November 2016</a>
</li>
</ul>
</li>
</ul>
<p>If for some weird reason you’re using Node older than 7 (which has reached <a href="https://github.com/nodejs/Release" rel="noreferrer">end of life</a>), or are targeting old browsers, <code>async</code>/<code>await</code> can still be used via <a href="https://babeljs.io/" rel="noreferrer">Babel</a> (a tool that will <a href="https://www.stevefenton.co.uk/2012/11/compiling-vs-transpiling/" rel="noreferrer">transpile</a> JavaScript + new features into plain old JavaScript), with the <a href="https://babeljs.io/docs/en/babel-plugin-transform-async-to-generator" rel="noreferrer"><code>transform-async-to-generator</code></a> plugin.</p>
</section>
<section id="answer-2-score-845" class="level4">
<h4>Answer 2 (score 845)</h4>
<p>(See the <a href="https://stackoverflow.com/a/39914235/11236">updated answer for 2016</a>)</p>
<p>I think it’s perfectly reasonable to want to perform an action, wait, then perform another action. If you are used to writing in multi-threaded languages, you probably have the idea of yielding execution for a set amount of time until your thread wakes up.</p>
<p>The issue here is that JavaScript is a single-thread event-based model. While in a specific case, it might be nice to have the whole engine wait for a few seconds, in general it is bad practice. Suppose I wanted to make use of your functions while writing my own? When I called your method, my methods would all freeze up. If JavaScript could somehow preserve your function’s execution context, store it somewhere, then bring it back and continue later, then sleep could happen, but that would basically be threading.</p>
<p>So you are pretty much stuck with what others have suggested – you’ll need to break your code up into multiple functions.</p>
<p>Your question is a bit of a false choice, then. There is no way to sleep in the way you want, nor should you pursue the solution you suggest.</p>
</section>
<section id="answer-3-score-629" class="level4">
<h4>Answer 3 (score 629)</h4>
<p>In JavaScript, I rewrite every function so that it can end as soon as possible. You want the browser back in control so it can make your DOM changes.</p>
<p>Every time I’ve wanted a sleep in the middle of my function, I refactored to use a <code>setTimeout()</code>.</p>
<blockquote>
I am going to edit this answer because i found this as useful:
</blockquote>
<p>The infamous sleep, or delay, function within any language is much debated. Some will say that there should always be a signal or callback to fire a given functionality, others will argue that sometimes an arbitrary moment of delay is useful. I say that to each their own and one rule can never dictate anything in this industry.</p>
<p>Writing a sleep function is simple and made even more usable with JavaScript Promises:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb190-1" title="1"><span class="co">// sleep time expects milliseconds</span></a>
<a class="sourceLine" id="cb190-2" title="2"><span class="kw">function</span> <span class="at">sleep</span> (time) <span class="op">{</span></a>
<a class="sourceLine" id="cb190-3" title="3">  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>((resolve) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setTimeout</span>(resolve<span class="op">,</span> time))<span class="op">;</span></a>
<a class="sourceLine" id="cb190-4" title="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb190-5" title="5"></a>
<a class="sourceLine" id="cb190-6" title="6"><span class="co">// Usage!</span></a>
<a class="sourceLine" id="cb190-7" title="7"><span class="at">sleep</span>(<span class="dv">500</span>).<span class="at">then</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb190-8" title="8">    <span class="co">// Do something after the sleep!</span></a>
<a class="sourceLine" id="cb190-9" title="9"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="jquery-scroll-to-element-score-2328481-in-2017" class="level3">
<h3>27: jQuery scroll to element (score <a href="https://stackoverflow.com/q/6677035.html">2328481</a> in 2017)</h3>
<section id="question-26" class="level4">
<h4>Question</h4>
<p>I have this <code>input</code> element:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb191-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;text&quot;</span> <span class="kw">class</span><span class="op">=</span><span class="st">&quot;textfield&quot;</span> value<span class="op">=</span><span class="st">&quot;&quot;</span> id<span class="op">=</span><span class="st">&quot;subject&quot;</span> name<span class="op">=</span><span class="st">&quot;subject&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>Then I have some other elements, like other text inputs, textareas, etc.</p>
<p>When the user clicks on that <code>input</code> with <code>#subject</code>, the page should scroll to the last element of the page with a nice animation. It should be a scroll to bottom and not to top.</p>
<p>The last item of the page is a <code>submit</code> button with <code>#submit</code>:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb192-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;submit&quot;</span> <span class="kw">class</span><span class="op">=</span><span class="st">&quot;submit&quot;</span> id<span class="op">=</span><span class="st">&quot;submit&quot;</span> name<span class="op">=</span><span class="st">&quot;submit&quot;</span> value<span class="op">=</span><span class="st">&quot;Ok, Done.&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>The animation should not be too fast and should be fluid.</p>
<p>I am running the latest jQuery version. I prefer to not install any plugin but to use the default jQuery features to achieve this.</p>
</section>
<section id="answer-accepted-score-3849" class="level4">
<h4>Answer accepted (score 3849)</h4>
<p>Assuming you have a button with the id <code>button</code>, try this example:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb193-1" title="1"><span class="at">$</span>(<span class="st">&quot;#button&quot;</span>).<span class="at">click</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb193-2" title="2">    <span class="at">$</span>([<span class="va">document</span>.<span class="at">documentElement</span><span class="op">,</span> <span class="va">document</span>.<span class="at">body</span>]).<span class="at">animate</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb193-3" title="3">        <span class="dt">scrollTop</span><span class="op">:</span> <span class="at">$</span>(<span class="st">&quot;#elementtoScrollToID&quot;</span>).<span class="at">offset</span>().<span class="at">top</span></a>
<a class="sourceLine" id="cb193-4" title="4">    <span class="op">},</span> <span class="dv">2000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb193-5" title="5"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>I got the code from the article <em><a href="http://www.abeautifulsite.net/smoothly-scroll-to-an-element-without-a-jquery-plugin-2/" rel="noreferrer">Smoothly scroll to an element without a jQuery plugin</a></em>. And I have tested it on the example below.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p><code>javascript &amp;lt;html&amp;gt;     &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;     &amp;lt;script&amp;gt;         $(document).ready(function (){             $(&quot;#click&quot;).click(function (){                 $('html, body').animate({                     scrollTop: $(&quot;#div1&quot;).offset().top                 }, 2000);             });         });     &amp;lt;/script&amp;gt;     &amp;lt;div id=&quot;div1&quot; style=&quot;height: 1000px; width 100px&quot;&amp;gt;         Test     &amp;lt;/div&amp;gt;     &amp;lt;br/&amp;gt;     &amp;lt;div id=&quot;div2&quot; style=&quot;height: 1000px; width 100px&quot;&amp;gt;         Test 2     &amp;lt;/div&amp;gt;     &amp;lt;button id=&quot;click&quot;&amp;gt;Click me&amp;lt;/button&amp;gt; &amp;lt;/html&amp;gt;</code></p>
</div>
</div>
</section>
<section id="answer-2-score-500" class="level4">
<h4>Answer 2 (score 500)</h4>
<p><a href="http://demos.flesler.com/jquery/scrollTo/" rel="noreferrer"> <img src="https://i.stack.imgur.com/g55iQ.png" alt="jQuery .scrollTo() Method"> </a></p>
<p><strong>jQuery .scrollTo(): <a href="http://demos.flesler.com/jquery/scrollTo/" rel="noreferrer"> View - Demo, API, Source </a></strong></p>
<p>I wrote this lightweight plugin to make page/element scrolling much easier. It’s flexible where you could pass in a target element or specified value. Perhaps this could be part of jQuery’s next official release, what do you think?</p>
<hr>
<p><strong>Examples Usage:</strong></p>
<div class="sourceCode" id="cb194"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb194-1" title="1"><span class="at">$</span>(<span class="st">&#39;body&#39;</span>).<span class="at">scrollTo</span>(<span class="st">&#39;#target&#39;</span>)<span class="op">;</span> <span class="co">// Scroll screen to target element</span></a>
<a class="sourceLine" id="cb194-2" title="2"></a>
<a class="sourceLine" id="cb194-3" title="3"><span class="at">$</span>(<span class="st">&#39;body&#39;</span>).<span class="at">scrollTo</span>(<span class="dv">500</span>)<span class="op">;</span> <span class="co">// Scroll screen 500 pixels down</span></a>
<a class="sourceLine" id="cb194-4" title="4"></a>
<a class="sourceLine" id="cb194-5" title="5"><span class="at">$</span>(<span class="st">&#39;#scrollable&#39;</span>).<span class="at">scrollTo</span>(<span class="dv">100</span>)<span class="op">;</span> <span class="co">// Scroll individual element 100 pixels down</span></a></code></pre></div>
<hr>
<p><strong>Options:</strong></p>
<p><em>scrollTarget</em>: A element, string, or number which indicates desired scroll position.</p>
<p><em>offsetTop</em>: A number that defines additional spacing above scroll target.</p>
<p><em>duration</em>: A string or number determining how long the animation will run.</p>
<p><em>easing</em>: A string indicating which easing function to use for the transition.</p>
<p><em>complete</em>: A function to call once the animation is complete.</p>
</section>
<section id="answer-3-score-341" class="level4">
<h4>Answer 3 (score 341)</h4>
<p>If you are not much interested in the smooth scroll effect and just interested in scrolling to a particular element, you don’t require some jQuery function for this. Javascript has got your case covered:</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/element.scrollIntoView">https://developer.mozilla.org/en-US/docs/Web/API/element.scrollIntoView</a></p>
<p>So all you need to do is: <code>$(&quot;selector&quot;).get(0).scrollIntoView();</code></p>
<p><code>.get(0)</code> is used because we want to retrieve the JavaScript’s DOM element and not the JQuery’s DOM element.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="which-href-value-should-i-use-for-javascript-links-or-javascriptvoid0-score-2233339-in-2017" class="level3">
<h3>28: Which “href” value should I use for JavaScript links, “#” or “javascript:void(0)”? (score <a href="https://stackoverflow.com/q/134845.html">2233339</a> in 2017)</h3>
<section id="question-27" class="level4">
<h4>Question</h4>
<p>The following are two methods of building a link that has the sole purpose of running JavaScript code. Which is better, in terms of functionality, page load speed, validation purposes, etc.?</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p><code>javascript function myJsFunc() {     alert(&quot;myJsFunc&quot;); }</code> <code>javascript &amp;lt;a href=&quot;#&quot; onclick=&quot;myJsFunc();&quot;&amp;gt;Run JavaScript Code&amp;lt;/a&amp;gt;</code></p>
</div>
</div>
<p>or</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p><code>javascript function myJsFunc() {     alert(&quot;myJsFunc&quot;); }</code> <code>javascript  &amp;lt;a href=&quot;javascript:void(0)&quot; onclick=&quot;myJsFunc();&quot;&amp;gt;Run JavaScript Code&amp;lt;/a&amp;gt;</code></p>
</div>
</div>
</section>
<section id="answer-2-score-2122" class="level4">
<h4>Answer 2 (score 2122)</h4>
<p>I use <code>javascript:void(0)</code>.</p>
<p>Three reasons. Encouraging the use of <code>#</code> amongst a team of developers inevitably leads to some using the return value of the function called like this:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb195-1" title="1"><span class="kw">function</span> <span class="at">doSomething</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb195-2" title="2">    <span class="co">//Some code</span></a>
<a class="sourceLine" id="cb195-3" title="3">    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb195-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>But then they forget to use <code>return doSomething()</code> in the onclick and just use <code>doSomething()</code>.</p>
<p>A second reason for avoiding <code>#</code> is that the final <code>return false;</code> will not execute if the called function throws an error. Hence the developers have to also remember to handle any error appropriately in the called function.</p>
<p>A third reason is that there are cases where the <code>onclick</code> event property is assigned dynamically. I prefer to be able to call a function or assign it dynamically without having to code the function specifically for one method of attachment or another. Hence my <code>onclick</code> (or on anything) in HTML markup look like this:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb196-1" title="1">onclick<span class="op">=</span><span class="st">&quot;someFunc.call(this)&quot;</span></a></code></pre></div>
<p>OR</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb197-1" title="1">onclick<span class="op">=</span><span class="st">&quot;someFunc.apply(this, arguments)&quot;</span></a></code></pre></div>
<p>Using <code>javascript:void(0)</code> avoids all of the above headaches, and I haven’t found any examples of a downside.</p>
<p>So if you’re a lone developer then you can clearly make your own choice, but if you work as a team you have to either state:</p>
<p>Use <code>href=&quot;#&quot;</code>, make sure <code>onclick</code> always contains <code>return false;</code> at the end, that any called function does not throw an error and if you attach a function dynamically to the <code>onclick</code> property make sure that as well as not throwing an error it returns <code>false</code>.</p>
<p>OR</p>
<p>Use <code>href=&quot;javascript:void(0)&quot;</code></p>
<p>The second is clearly much easier to communicate.</p>
</section>
<section id="answer-3-score-1283" class="level4">
<h4>Answer 3 (score 1283)</h4>
<p>Neither.</p>
<p>If you can have an actual URL that makes sense use that as the HREF. The onclick won’t fire if someone middle-clicks on your link to open a new tab or if they have JavaScript disabled.</p>
<p>If that is not possible, then you should at least inject the anchor tag into the document with JavaScript and the appropriate click event handlers.</p>
<p>I realize this isn’t always possible, but in my opinion it should be striven for in developing any public website.</p>
<p>Check out <em><a href="http://en.wikipedia.org/wiki/Unobtrusive_JavaScript" rel="noreferrer">Unobtrusive JavaScript</a></em> and <em><a href="http://en.wikipedia.org/wiki/Progressive_enhancement" rel="noreferrer">Progressive enhancement</a></em> (both Wikipedia).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-check-for-undefined-in-javascript-score-2185286-in-2014" class="level3">
<h3>29: How to check for “undefined” in JavaScript? (score <a href="https://stackoverflow.com/q/3390396.html">2185286</a> in 2014)</h3>
<section id="question-28" class="level4">
<h4>Question</h4>
<p>What is the most appropriate way to test if a variable is undefined in JavaScript? I’ve seen several possible ways:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb198-1" title="1"><span class="cf">if</span> (<span class="va">window</span>.<span class="at">myVariable</span>)</a></code></pre></div>
<p>Or</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb199-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span>(myVariable) <span class="op">!=</span> <span class="st">&quot;undefined&quot;</span>)</a></code></pre></div>
<p>Or</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb200-1" title="1"><span class="cf">if</span> (myVariable) <span class="co">//This throws an error if undefined. Should this be in Try/Catch?</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-2534" class="level4">
<h4>Answer accepted (score 2534)</h4>
<p>If you are interested in finding out whether a variable has been declared regardless of its value, then using the <code>in</code> operator is the safest way to go. Consider this example.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb201-1" title="1"><span class="co">// global scope</span></a>
<a class="sourceLine" id="cb201-2" title="2"><span class="kw">var</span> theFu<span class="op">;</span> <span class="co">// theFu has been declared, but its value is undefined</span></a>
<a class="sourceLine" id="cb201-3" title="3"><span class="kw">typeof</span> theFu<span class="op">;</span> <span class="co">// &quot;undefined&quot;</span></a></code></pre></div>
<p>But this may not be the intended result for some cases, since the variable or property was declared but just not initialized. Use the <code>in</code> operator for a more robust check.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb202-1" title="1"><span class="st">&quot;theFu&quot;</span> <span class="kw">in</span> window<span class="op">;</span> <span class="co">// true</span></a>
<a class="sourceLine" id="cb202-2" title="2"><span class="st">&quot;theFoo&quot;</span> <span class="kw">in</span> window<span class="op">;</span> <span class="co">// false</span></a></code></pre></div>
<p>If you are interested in knowing whether the variable hasn’t been declared or has the value <code>undefined</code>, then use the <code>typeof</code> operator.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb203-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span> myVar <span class="op">!==</span> <span class="st">&#39;undefined&#39;</span>)</a></code></pre></div>
<p>The <code>typeof</code> operator is guaranteed to return a string. Direct comparisons against <code>undefined</code> are troublesome as <code>undefined</code> can be overwritten.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb204-1" title="1"><span class="va">window</span>.<span class="at">undefined</span> <span class="op">=</span> <span class="st">&quot;omg&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb204-2" title="2"><span class="st">&quot;omg&quot;</span> <span class="op">==</span> <span class="kw">undefined</span> <span class="co">// true</span></a></code></pre></div>
<p>As <span class="citation" data-cites="CMS">@CMS</span> pointed out, this has been patched in ECMAScript 5th ed., and <code>undefined</code> is non-writable.</p>
<p><code>if (window.myVar)</code> will also include these falsy values, so it’s not very robust:</p>
<pre>
false
0
""
NaN
null
undefined
</pre>
<p>Thanks to <span class="citation" data-cites="CMS">@CMS</span> for pointing out that your third case - <code>if (myVariable)</code> can also throw an error in two cases. The first is when the variable hasn’t been defined which throws a <code>ReferenceError</code>.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb205-1" title="1"><span class="co">// abc was never declared.</span></a>
<a class="sourceLine" id="cb205-2" title="2"><span class="cf">if</span> (abc) <span class="op">{</span></a>
<a class="sourceLine" id="cb205-3" title="3">    <span class="co">// ReferenceError: abc is not defined</span></a>
<a class="sourceLine" id="cb205-4" title="4"><span class="op">}</span> </a></code></pre></div>
<p>The other case is when the variable has been defined, but has a getter function which throws an error when invoked. For example,</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb206-1" title="1"><span class="co">// or it&#39;s a property that can throw an error</span></a>
<a class="sourceLine" id="cb206-2" title="2"><span class="va">Object</span>.<span class="at">defineProperty</span>(window<span class="op">,</span> <span class="st">&quot;myVariable&quot;</span><span class="op">,</span> <span class="op">{</span> </a>
<a class="sourceLine" id="cb206-3" title="3">    <span class="dt">get</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span> <span class="cf">throw</span> <span class="kw">new</span> <span class="at">Error</span>(<span class="st">&quot;W00t?&quot;</span>)<span class="op">;</span> <span class="op">},</span> </a>
<a class="sourceLine" id="cb206-4" title="4">    <span class="dt">set</span><span class="op">:</span> <span class="kw">undefined</span> </a>
<a class="sourceLine" id="cb206-5" title="5"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb206-6" title="6"><span class="cf">if</span> (myVariable) <span class="op">{</span></a>
<a class="sourceLine" id="cb206-7" title="7">    <span class="co">// Error: W00t?</span></a>
<a class="sourceLine" id="cb206-8" title="8"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-2-score-1075" class="level4">
<h4>Answer 2 (score 1075)</h4>
<p>I personally use</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb207-1" title="1">myVar <span class="op">===</span> <span class="kw">undefined</span></a></code></pre></div>
<p>Warning: Please note that <code>===</code> is used over <code>==</code> and that <code>myVar</code> has been previously <em>declared</em> (not <em>defined</em>).</p>
<hr>
<p>I do not like <code>typeof myVar === &quot;undefined&quot;</code>. I think it is long winded and unnecessary. (I can get the same done in less code.)</p>
<p>Now some people will keel over in pain when they read this, screaming: “Wait! WAAITTT!!! <code>undefined</code> can be redefined!”</p>
<p>Cool. I know this. Then again, most variables in Javascript can be redefined. Should you never use any built-in identifier that can be redefined?</p>
<p>If you follow this rule, good for you: you aren’t a hypocrite.</p>
<p>The thing is, in order to do lots of real work in JS, developers need to rely on redefinable identifiers to be what they are. I don’t hear people telling me that I shouldn’t use <code>setTimeout</code> because someone can</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb208-1" title="1"><span class="va">window</span>.<span class="at">setTimeout</span> <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb208-2" title="2">    <span class="at">alert</span>(<span class="st">&quot;Got you now!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb208-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Bottom line, the “it can be redefined” argument to not use a raw <code>=== undefined</code> is bogus.</p>
<p>(If you are still scared of <code>undefined</code> being redefined, why are you blindly integrating untested library code into your code base? Or even simpler: a linting tool.)</p>
<hr>
<p>Also, like the <code>typeof</code> approach, this technique can “detect” undeclared variables:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb209-1" title="1"><span class="cf">if</span> (<span class="va">window</span>.<span class="at">someVar</span> <span class="op">===</span> <span class="kw">undefined</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb209-2" title="2">    <span class="at">doSomething</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb209-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>But both these techniques leak in their abstraction. I urge you not to use this or even</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb210-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span> myVar <span class="op">!==</span> <span class="st">&quot;undefined&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb210-2" title="2">    <span class="at">doSomething</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb210-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Consider:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb211-1" title="1"><span class="kw">var</span> iAmUndefined<span class="op">;</span></a></code></pre></div>
<p>To catch whether or not that variable is declared or not, you may need to resort to the <code>in</code> operator. (In many cases, you can simply read the code O_o).</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb212-1" title="1"><span class="cf">if</span> (<span class="st">&quot;myVar&quot;</span> <span class="kw">in</span> window) <span class="op">{</span></a>
<a class="sourceLine" id="cb212-2" title="2">    <span class="at">doSomething</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb212-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>But wait! There’s more! What if some prototype chain magic is happening…? Now even the superior <code>in</code> operator does not suffice. (Okay, I’m done here about this part except to say that for 99% of the time, <code>=== undefined</code> (and ****cough**** <code>typeof</code>) works just fine. If you really care, you can read about this subject on its own.)</p>
</section>
<section id="answer-3-score-176" class="level4">
<h4>Answer 3 (score 176)</h4>
<p>Using <code>typeof</code> is my preference. It will work when the variable has never been declared, unlike any comparison with the <code>==</code> or <code>===</code> operators or type coercion using <code>if</code>. (<code>undefined</code>, unlike <code>null</code>, may also be redefined in ECMAScript 3 environments, making it unreliable for comparison, although nearly all common environments now are compliant with ECMAScript 5 or above).</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb213-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span> someUndeclaredVariable <span class="op">==</span> <span class="st">&quot;undefined&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb213-2" title="2">    <span class="co">// Works</span></a>
<a class="sourceLine" id="cb213-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb213-4" title="4"></a>
<a class="sourceLine" id="cb213-5" title="5"><span class="cf">if</span> (someUndeclaredVariable <span class="op">===</span> <span class="kw">undefined</span>) <span class="op">{</span> </a>
<a class="sourceLine" id="cb213-6" title="6">    <span class="co">// Throws an error</span></a>
<a class="sourceLine" id="cb213-7" title="7"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="round-to-at-most-2-decimal-places-only-if-necessary-score-2144234-in-2019" class="level3">
<h3>30: Round to at most 2 decimal places (only if necessary) (score <a href="https://stackoverflow.com/q/11832914.html">2144234</a> in 2019)</h3>
<section id="question-29" class="level4">
<h4>Question</h4>
<p>I’d like to round at most 2 decimal places, but <em>only if necessary</em>.</p>
<p>Input:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb214-1" title="1"><span class="dv">10</span></a>
<a class="sourceLine" id="cb214-2" title="2"><span class="fl">1.7777777</span></a>
<a class="sourceLine" id="cb214-3" title="3"><span class="fl">9.1</span></a></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb215-1" title="1"><span class="dv">10</span></a>
<a class="sourceLine" id="cb215-2" title="2"><span class="fl">1.78</span></a>
<a class="sourceLine" id="cb215-3" title="3"><span class="fl">9.1</span></a></code></pre></div>
<p>How can I do this in JavaScript?</p>
</section>
<section id="answer-accepted-score-3050" class="level4">
<h4>Answer accepted (score 3050)</h4>
<p>Use <code>Math.round(num * 100) / 100</code></p>
</section>
<section id="answer-2-score-2820" class="level4">
<h4>Answer 2 (score 2820)</h4>
<p>If the value is a text type:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb216-1" title="1"><span class="at">parseFloat</span>(<span class="st">&quot;123.456&quot;</span>).<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span></a></code></pre></div>
<p>If the value is a number:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb217-1" title="1"><span class="kw">var</span> numb <span class="op">=</span> <span class="fl">123.23454</span><span class="op">;</span></a>
<a class="sourceLine" id="cb217-2" title="2">numb <span class="op">=</span> <span class="va">numb</span>.<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span></a></code></pre></div>
<p>There is a downside that values like 1.5 will give “1.50” as the output. A fix suggested by <span class="citation" data-cites="minitech">@minitech</span>:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb218-1" title="1"><span class="kw">var</span> numb <span class="op">=</span> <span class="fl">1.5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb218-2" title="2">numb <span class="op">=</span> <span class="op">+</span><span class="va">numb</span>.<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb218-3" title="3"><span class="co">// Note the plus sign that drops any &quot;extra&quot; zeroes at the end.</span></a>
<a class="sourceLine" id="cb218-4" title="4"><span class="co">// It changes the result (which is a string) into a number again (think &quot;0 + foo&quot;),</span></a>
<a class="sourceLine" id="cb218-5" title="5"><span class="co">// which means that it uses only as many digits as necessary.</span></a></code></pre></div>
<p>It seems like <code>Math.round</code> is a better solution. <strong>But it is not!</strong> In some cases it will <strong>NOT</strong> round correctly:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb219-1" title="1"><span class="va">Math</span>.<span class="at">round</span>(<span class="fl">1.005</span> <span class="op">*</span> <span class="dv">1000</span>)/<span class="dv">1000</span> <span class="co">// Returns 1 instead of expected 1.01!</span></a></code></pre></div>
<p>toFixed() will also <strong>NOT</strong> round correctly in some cases (tested in Chrome v.55.0.2883.87)!</p>
<p>Examples:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb220-1" title="1"><span class="at">parseFloat</span>(<span class="st">&quot;1.555&quot;</span>).<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span> <span class="co">// Returns 1.55 instead of 1.56.</span></a>
<a class="sourceLine" id="cb220-2" title="2"><span class="at">parseFloat</span>(<span class="st">&quot;1.5550&quot;</span>).<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span> <span class="co">// Returns 1.55 instead of 1.56.</span></a>
<a class="sourceLine" id="cb220-3" title="3"><span class="co">// However, it will return correct result if you round 1.5551.</span></a>
<a class="sourceLine" id="cb220-4" title="4"><span class="at">parseFloat</span>(<span class="st">&quot;1.5551&quot;</span>).<span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span> <span class="co">// Returns 1.56 as expected.</span></a>
<a class="sourceLine" id="cb220-5" title="5"></a>
<a class="sourceLine" id="cb220-6" title="6"><span class="dv">1</span>.<span class="fl">3555.</span><span class="at">toFixed</span>(<span class="dv">3</span>) <span class="co">// Returns 1.355 instead of expected 1.356.</span></a>
<a class="sourceLine" id="cb220-7" title="7"><span class="co">// However, it will return correct result if you round 1.35551.</span></a>
<a class="sourceLine" id="cb220-8" title="8"><span class="dv">1</span>.<span class="fl">35551.</span><span class="at">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span> <span class="co">// Returns 1.36 as expected.</span></a></code></pre></div>
<p>I guess, this is because 1.555 is actually something like float 1.55499994 behind the scenes.</p>
<p><strong>Solution 1</strong> is to use a script with required rounding algorithm, for example:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb221-1" title="1"><span class="kw">function</span> <span class="at">roundNumber</span>(num<span class="op">,</span> scale) <span class="op">{</span></a>
<a class="sourceLine" id="cb221-2" title="2">  <span class="cf">if</span>(<span class="op">!</span>(<span class="st">&quot;&quot;</span> <span class="op">+</span> num).<span class="at">includes</span>(<span class="st">&quot;e&quot;</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb221-3" title="3">    <span class="cf">return</span> <span class="op">+</span>(<span class="va">Math</span>.<span class="at">round</span>(num <span class="op">+</span> <span class="st">&quot;e+&quot;</span> <span class="op">+</span> scale)  <span class="op">+</span> <span class="st">&quot;e-&quot;</span> <span class="op">+</span> scale)<span class="op">;</span></a>
<a class="sourceLine" id="cb221-4" title="4">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb221-5" title="5">    <span class="kw">var</span> arr <span class="op">=</span> (<span class="st">&quot;&quot;</span> <span class="op">+</span> num).<span class="at">split</span>(<span class="st">&quot;e&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb221-6" title="6">    <span class="kw">var</span> sig <span class="op">=</span> <span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb221-7" title="7">    <span class="cf">if</span>(<span class="op">+</span>arr[<span class="dv">1</span>] <span class="op">+</span> scale <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb221-8" title="8">      sig <span class="op">=</span> <span class="st">&quot;+&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb221-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb221-10" title="10">    <span class="cf">return</span> <span class="op">+</span>(<span class="va">Math</span>.<span class="at">round</span>(<span class="op">+</span>arr[<span class="dv">0</span>] <span class="op">+</span> <span class="st">&quot;e&quot;</span> <span class="op">+</span> sig <span class="op">+</span> (<span class="op">+</span>arr[<span class="dv">1</span>] <span class="op">+</span> scale)) <span class="op">+</span> <span class="st">&quot;e-&quot;</span> <span class="op">+</span> scale)<span class="op">;</span></a>
<a class="sourceLine" id="cb221-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb221-12" title="12"><span class="op">}</span></a></code></pre></div>
<p><a href="https://plnkr.co/edit/uau8BlS1cqbvWPCHJeOy?p=preview" rel="noreferrer">https://plnkr.co/edit/uau8BlS1cqbvWPCHJeOy?p=preview</a></p>
<p><strong>Solution 2</strong> is to avoid front end calculations and pull rounded values from the backend server.</p>
</section>
<section id="answer-3-score-421" class="level4">
<h4>Answer 3 (score 421)</h4>
<p>You can use</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb222-1" title="1"><span class="kw">function</span> <span class="at">roundToTwo</span>(num) <span class="op">{</span>    </a>
<a class="sourceLine" id="cb222-2" title="2">    <span class="cf">return</span> <span class="op">+</span>(<span class="va">Math</span>.<span class="at">round</span>(num <span class="op">+</span> <span class="st">&quot;e+2&quot;</span>)  <span class="op">+</span> <span class="st">&quot;e-2&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb222-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>I found this over on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/round" rel="noreferrer">MDN</a>. Their way avoids the problem with 1.005 that was <a href="https://stackoverflow.com/questions/11832914/round-up-to-2-decimal-places-in-javascript#comment24719818_11832950">mentioned</a>.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb223-1" title="1"><span class="at">roundToTwo</span>(<span class="fl">1.005</span>)</a>
<a class="sourceLine" id="cb223-2" title="2"><span class="fl">1.01</span></a>
<a class="sourceLine" id="cb223-3" title="3"><span class="at">roundToTwo</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb223-4" title="4"><span class="dv">10</span></a>
<a class="sourceLine" id="cb223-5" title="5"><span class="at">roundToTwo</span>(<span class="fl">1.7777777</span>)</a>
<a class="sourceLine" id="cb223-6" title="6"><span class="fl">1.78</span></a>
<a class="sourceLine" id="cb223-7" title="7"><span class="at">roundToTwo</span>(<span class="fl">9.1</span>)</a>
<a class="sourceLine" id="cb223-8" title="8"><span class="fl">9.1</span></a>
<a class="sourceLine" id="cb223-9" title="9"><span class="at">roundToTwo</span>(<span class="fl">1234.5678</span>)</a>
<a class="sourceLine" id="cb223-10" title="10"><span class="fl">1234.57</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="disableenable-an-input-with-jquery-score-2086518-in-2016" class="level3">
<h3>31: Disable/enable an input with jQuery? (score <a href="https://stackoverflow.com/q/1414365.html">2086518</a> in 2016)</h3>
<section id="question-30" class="level4">
<h4>Question</h4>
<div class="sourceCode" id="cb224"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb224-1" title="1"><span class="va">$input</span>.<span class="at">disabled</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb225-1" title="1"><span class="va">$input</span>.<span class="at">disabled</span> <span class="op">=</span> <span class="st">&quot;disabled&quot;</span><span class="op">;</span></a></code></pre></div>
<p>Which is the standard way? And, conversely, how do you enable a disabled input?</p>
</section>
<section id="answer-accepted-score-3694" class="level4">
<h4>Answer accepted (score 3694)</h4>
<h5>
jQuery 1.6+
</h2>
<p>To change the <code>disabled</code> property you should use the <a href="http://api.jquery.com/prop" rel="noreferrer"><code>.prop()</code></a> function.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb226-1" title="1"><span class="at">$</span>(<span class="st">&quot;input&quot;</span>).<span class="at">prop</span>(<span class="st">&#39;disabled&#39;</span><span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb226-2" title="2"><span class="at">$</span>(<span class="st">&quot;input&quot;</span>).<span class="at">prop</span>(<span class="st">&#39;disabled&#39;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a></code></pre></div>
<h5>
jQuery 1.5 and below
</h2>
<p>The <code>.prop()</code> function doesn’t exist, but <a href="http://api.jquery.com/attr" rel="noreferrer"><code>.attr()</code></a> does similar:</p>
<p>Set the disabled attribute.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb227-1" title="1"><span class="at">$</span>(<span class="st">&quot;input&quot;</span>).<span class="at">attr</span>(<span class="st">&#39;disabled&#39;</span><span class="op">,</span><span class="st">&#39;disabled&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>To enable again, the proper method is to use <a href="//api.jquery.com/removeAttr" rel="noreferrer"><code>.removeAttr()</code></a></p>
<div class="sourceCode" id="cb228"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb228-1" title="1"><span class="at">$</span>(<span class="st">&quot;input&quot;</span>).<span class="at">removeAttr</span>(<span class="st">&#39;disabled&#39;</span>)<span class="op">;</span></a></code></pre></div>
<h5>
In any version of jQuery
</h2>
<p>You can always rely on the actual DOM object and is probably a little faster than the other two options if you are only dealing with one element:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb229-1" title="1"><span class="co">// assuming an event handler thus &#39;this&#39;</span></a>
<a class="sourceLine" id="cb229-2" title="2"><span class="kw">this</span>.<span class="at">disabled</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a></code></pre></div>
<p>The advantage to using the <code>.prop()</code> or <code>.attr()</code> methods is that you can set the property for a bunch of selected items.</p>
<hr>
<p><strong>Note:</strong> In 1.6 there is a <a href="//api.jquery.com/removeProp" rel="noreferrer"><code>.removeProp()</code></a> method that sounds a lot like <code>removeAttr()</code>, but it <strong>SHOULD NOT BE USED</strong> on native properties like <code>'disabled'</code> Excerpt from the documentation:</p>
<blockquote>
Note: Do not use this method to remove native properties such as checked, disabled, or selected. This will remove the property completely and, once removed, cannot be added again to element. Use .prop() to set these properties to false instead.
</blockquote>
<p>In fact, I doubt there are many legitimate uses for this method, boolean props are done in such a way that you should set them to false instead of “removing” them like their “attribute” counterparts in 1.5</p>
</section>
<section id="answer-2-score-55" class="level4">
<h4>Answer 2 (score 55)</h4>
<p>Just for the sake of new conventions &amp;&amp; making it adaptable going forward (unless things change drastically with ECMA6(????):</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb230-1" title="1"><span class="at">$</span>(document).<span class="at">on</span>(<span class="st">&#39;event_name&#39;</span><span class="op">,</span> <span class="st">&#39;#your_id&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb230-2" title="2">    <span class="at">$</span>(<span class="kw">this</span>).<span class="at">removeAttr</span>(<span class="st">&#39;disabled&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb230-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb231-1" title="1"><span class="at">$</span>(document).<span class="at">off</span>(<span class="st">&#39;event_name&#39;</span><span class="op">,</span> <span class="st">&#39;#your_id&#39;</span><span class="op">,</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb231-2" title="2">    <span class="at">$</span>(<span class="kw">this</span>).<span class="at">attr</span>(<span class="st">&#39;disabled&#39;</span><span class="op">,</span><span class="st">&#39;disabled&#39;</span>)<span class="op">;</span>   </a>
<a class="sourceLine" id="cb231-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-31" class="level4">
<h4>Answer 3 (score 31)</h4>
<div class="sourceCode" id="cb232"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb232-1" title="1">    <span class="co">// Disable #x</span></a>
<a class="sourceLine" id="cb232-2" title="2">    <span class="at">$</span>( <span class="st">&quot;#x&quot;</span> ).<span class="at">prop</span>( <span class="st">&quot;disabled&quot;</span><span class="op">,</span> <span class="kw">true</span> )<span class="op">;</span></a>
<a class="sourceLine" id="cb232-3" title="3">    <span class="co">// Enable #x</span></a>
<a class="sourceLine" id="cb232-4" title="4">    <span class="at">$</span>( <span class="st">&quot;#x&quot;</span> ).<span class="at">prop</span>( <span class="st">&quot;disabled&quot;</span><span class="op">,</span> <span class="kw">false</span> )<span class="op">;</span></a></code></pre></div>
<p>
Sometimes you need to disable/enable the form element like input or textarea. Jquery helps you to easily make this with setting disabled attribute to “disabled”. For e.g.:
</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb233-1" title="1">  <span class="co">//To disable </span></a>
<a class="sourceLine" id="cb233-2" title="2">  <span class="at">$</span>(<span class="st">&#39;.someElement&#39;</span>).<span class="at">attr</span>(<span class="st">&#39;disabled&#39;</span><span class="op">,</span> <span class="st">&#39;disabled&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>To enable disabled element you need to remove “disabled” attribute from this element or empty it’s string. For e.g:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb234-1" title="1"><span class="co">//To enable </span></a>
<a class="sourceLine" id="cb234-2" title="2"><span class="at">$</span>(<span class="st">&#39;.someElement&#39;</span>).<span class="at">removeAttr</span>(<span class="st">&#39;disabled&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb234-3" title="3"></a>
<a class="sourceLine" id="cb234-4" title="4"><span class="co">// OR you can set attr to &quot;&quot; </span></a>
<a class="sourceLine" id="cb234-5" title="5"><span class="at">$</span>(<span class="st">&#39;.someElement&#39;</span>).<span class="at">attr</span>(<span class="st">&#39;disabled&#39;</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>refer :<a href="http://garmoncheg.blogspot.fr/2011/07/how-to-disableenable-element-with.html">http://garmoncheg.blogspot.fr/2011/07/how-to-disableenable-element-with.html</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-know-which-radio-button-is-selected-via-jquery-score-2061588-in-2017" class="level3">
<h3>32: How can I know which radio button is selected via jQuery? (score <a href="https://stackoverflow.com/q/596351.html">2061588</a> in 2017)</h3>
<section id="question-31" class="level4">
<h4>Question</h4>
<p>
I have two radio buttons and want to post the value of the selected one. How can I get the value with jQuery?
</p>
<p>I can get all of them like this:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb235-1" title="1"><span class="at">$</span>(<span class="st">&quot;form :radio&quot;</span>)</a></code></pre></div>
<p>How do I know which one is selected?</p>
</section>
<section id="answer-accepted-score-3797" class="level4">
<h4>Answer accepted (score 3797)</h4>
<p>To get the value of the <strong>selected</strong> <code>radioName</code> item of a form with id <code>myForm</code>:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb236-1" title="1"><span class="at">$</span>(<span class="st">&#39;input[name=radioName]:checked&#39;</span><span class="op">,</span> <span class="st">&#39;#myForm&#39;</span>).<span class="at">val</span>()</a></code></pre></div>
<p>Here’s an example:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p><code>javascript $('#myForm input').on('change', function() {    alert($('input[name=radioName]:checked', '#myForm').val());  });</code> <code>javascript &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;form id=&quot;myForm&quot;&amp;gt;   &amp;lt;input type=&quot;radio&quot; name=&quot;radioName&quot; value=&quot;1&quot; /&amp;gt; 1 &amp;lt;br /&amp;gt;   &amp;lt;input type=&quot;radio&quot; name=&quot;radioName&quot; value=&quot;2&quot; /&amp;gt; 2 &amp;lt;br /&amp;gt;   &amp;lt;input type=&quot;radio&quot; name=&quot;radioName&quot; value=&quot;3&quot; /&amp;gt; 3 &amp;lt;br /&amp;gt; &amp;lt;/form&amp;gt;</code></p>
</div>
</div>
</section>
<section id="answer-2-score-394" class="level4">
<h4>Answer 2 (score 394)</h4>
<p>Use this..</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb237-1" title="1"><span class="at">$</span>(<span class="st">&quot;#myform input[type=&#39;radio&#39;]:checked&quot;</span>).<span class="at">val</span>()<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-290" class="level4">
<h4>Answer 3 (score 290)</h4>
<p>If you already have a reference to a radio button group, for example:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb238-1" title="1"><span class="kw">var</span> myRadio <span class="op">=</span> <span class="at">$</span>(<span class="st">&quot;input[name=myRadio]&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>Use the <code>filter()</code> function, not <code>find()</code>. (<code>find()</code> is for locating child/descendant elements, whereas <code>filter()</code> searches top-level elements in your selection.)</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb239-1" title="1"><span class="kw">var</span> checkedValue <span class="op">=</span> <span class="va">myRadio</span>.<span class="at">filter</span>(<span class="st">&quot;:checked&quot;</span>).<span class="at">val</span>()<span class="op">;</span></a></code></pre></div>
<hr>
<p><em>Notes:</em> This answer was originally correcting another answer that recommended using <code>find()</code>, which seems to have since been changed. <code>find()</code> could still be useful for the situation where you already had a reference to a container element, but not to the radio buttons, e.g.:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb240-1" title="1"><span class="kw">var</span> form <span class="op">=</span> <span class="at">$</span>(<span class="st">&quot;#mainForm&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb240-2" title="2">...</a>
<a class="sourceLine" id="cb240-3" title="3"><span class="kw">var</span> checkedValue <span class="op">=</span> <span class="va">form</span>.<span class="at">find</span>(<span class="st">&quot;input[name=myRadio]:checked&quot;</span>).<span class="at">val</span>()<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-remove-a-property-from-a-javascript-object-score-2051539-in-2017" class="level3">
<h3>33: How do I remove a property from a JavaScript object? (score <a href="https://stackoverflow.com/q/208105.html">2051539</a> in 2017)</h3>
<section id="question-32" class="level4">
<h4>Question</h4>
<p>Say I create an object as follows:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb241-1" title="1"><span class="kw">var</span> myObject <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb241-2" title="2">    <span class="st">&quot;ircEvent&quot;</span><span class="op">:</span> <span class="st">&quot;PRIVMSG&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb241-3" title="3">    <span class="st">&quot;method&quot;</span><span class="op">:</span> <span class="st">&quot;newURI&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb241-4" title="4">    <span class="st">&quot;regex&quot;</span><span class="op">:</span> <span class="st">&quot;^http://.*&quot;</span></a>
<a class="sourceLine" id="cb241-5" title="5"><span class="op">};</span></a></code></pre></div>
<p>What is the best way to remove the property <code>regex</code> to end up with new <code>myObject</code> as follows?</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb242-1" title="1"><span class="kw">var</span> myObject <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb242-2" title="2">    <span class="st">&quot;ircEvent&quot;</span><span class="op">:</span> <span class="st">&quot;PRIVMSG&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb242-3" title="3">    <span class="st">&quot;method&quot;</span><span class="op">:</span> <span class="st">&quot;newURI&quot;</span></a>
<a class="sourceLine" id="cb242-4" title="4"><span class="op">};</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-7836" class="level4">
<h4>Answer accepted (score 7836)</h4>
<p>Like this:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb243-1" title="1"><span class="kw">delete</span> <span class="va">myObject</span>.<span class="at">regex</span><span class="op">;</span></a>
<a class="sourceLine" id="cb243-2" title="2"><span class="co">// or,</span></a>
<a class="sourceLine" id="cb243-3" title="3"><span class="kw">delete</span> myObject[<span class="st">&#39;regex&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb243-4" title="4"><span class="co">// or,</span></a>
<a class="sourceLine" id="cb243-5" title="5"><span class="kw">var</span> prop <span class="op">=</span> <span class="st">&quot;regex&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb243-6" title="6"><span class="kw">delete</span> myObject[prop]<span class="op">;</span></a></code></pre></div>
<p>
Demo
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var myObject = { “ircEvent”: “PRIVMSG”, “method”: “newURI”, “regex”: &quot;^http://.*&quot; }; delete myObject.regex;</p>
<p>console.log(myObject);```</p>
</div>
</div>
<p>For anyone interested in reading more about it, Stack Overflow user <a href="https://stackoverflow.com/users/130652/kangax">kangax</a> has written an incredibly in-depth blog post about the <code>delete</code> statement on their blog, <em><a href="http://perfectionkills.com/understanding-delete/" rel="noreferrer">Understanding delete</a></em>. It is highly recommended.</p>
</section>
<section id="answer-2-score-864" class="level4">
<h4>Answer 2 (score 864)</h4>
<h5>
Operator <code>delete</code> is unexpectedly slow!
</h2>
<p>Look at the <strong><a href="http://jsperf.com/delete-vs-undefined-vs-null/16" rel="noreferrer">benchmark</a></strong>.</p>
<p>
Delete is the only true way to remove object’s properties without any leftovers, but it works <strong>~ 100 times slower</strong>, compared to its “alternative”, setting <code>object[key] = undefined</code>.
</p>
<p>This alternative is not the correct answer to this question! But, if you use it with care, you can dramatically speed up some algorithms. If you are using <code>delete</code> in loops and you have problems with performance, read the verbose explanation.</p>
<h5>
When should one use <code>delete</code> and when set value to <code>undefined</code> ?
</h2>
<p>An object may be seen as a set of key-value pairs. What I call a ‘value’ is a primitive or a reference to other object, connected to that ‘key’.</p>
<p><strong>Use <code>delete</code>,</strong> when you are passing the result object to the code on which you don’t have control (or when you are not sure about your team or yourself).</p>
<p>It <strong>deletes the key from the hashmap</strong>.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb244-1" title="1"> <span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb244-2" title="2">     <span class="dt">field</span><span class="op">:</span> <span class="dv">1</span>     </a>
<a class="sourceLine" id="cb244-3" title="3"> <span class="op">};</span></a>
<a class="sourceLine" id="cb244-4" title="4"> <span class="kw">delete</span> <span class="va">obj</span>.<span class="at">field</span><span class="op">;</span></a></code></pre></div>
<p><strong>Use setting to <code>undefined</code>,</strong> when you care about performance. It can give a serious boost to your code.</p>
<p>The <strong>key remains on its place in the hashmap</strong>, only the value is replaced with <code>undefined</code>. Understand, that <code>for..in</code> loop will still iterate over that key.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb245-1" title="1"> <span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb245-2" title="2">     <span class="dt">field</span><span class="op">:</span> <span class="dv">1</span>     </a>
<a class="sourceLine" id="cb245-3" title="3"> <span class="op">};</span></a>
<a class="sourceLine" id="cb245-4" title="4"> <span class="va">obj</span>.<span class="at">field</span> <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span></a></code></pre></div>
<p>Using this method, not all <a href="https://stackoverflow.com/questions/1894792/determining-if-a-javascript-object-has-a-given-property">ways of determining property existence</a> will work as expected.</p>
<p>However, this code:</p>
<p><code>object.field === undefined</code></p>
<p>will behave equivalently for both methods.</p>
<h5>
Tests
</h2>
<p>To summarize, differences are all about ways of determining the property existence, and about <code>for..in</code> loop.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb246-1" title="1"> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;* -&amp;gt; &quot;Takes prototype inheritance into consideration, that means it lookups all over prototype chain too.&quot;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb246-2" title="2"></a>
<a class="sourceLine" id="cb246-3" title="3"> <span class="va">console</span>.<span class="at">log</span>(<span class="va">obj</span>.<span class="at">field</span> <span class="op">===</span> <span class="kw">undefined</span><span class="op">,</span> <span class="st">&#39;obj.field === undefined&#39;</span><span class="op">,</span> <span class="st">&#39;You get &quot;undefined&quot; value when querying for &quot;field&quot; in object-hashmap. *&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb246-4" title="4"></a>
<a class="sourceLine" id="cb246-5" title="5"> <span class="va">console</span>.<span class="at">log</span>(obj[<span class="st">&quot;field&quot;</span>] <span class="op">===</span> <span class="kw">undefined</span><span class="op">,</span> <span class="st">&#39;obj[&quot;field&quot;] === undefined&#39;</span><span class="op">,</span> <span class="st">&#39;Just another way to query (equivalent). *&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb246-6" title="6"></a>
<a class="sourceLine" id="cb246-7" title="7"> <span class="va">console</span>.<span class="at">log</span>(<span class="kw">typeof</span> <span class="va">obj</span>.<span class="at">field</span> <span class="op">===</span> <span class="st">&quot;undefined&quot;</span><span class="op">,</span> <span class="st">&#39;typeof obj.field === &quot;undefined&quot;&#39;</span><span class="op">,</span> <span class="st">&#39;Get the value attached to &quot;field&quot; key, and check it</span><span class="sc">\&#39;</span><span class="st">s type is &quot;undefined&quot;. *&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb246-8" title="8"></a>
<a class="sourceLine" id="cb246-9" title="9"> <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;field&quot;</span> <span class="kw">in</span> obj<span class="op">,</span> <span class="st">&#39;&quot;field&quot; in obj&#39;</span><span class="op">,</span> <span class="st">&#39;This statement returns true if &quot;field&quot; key exists in the hashmap. False otherwise. *&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb246-10" title="10"></a>
<a class="sourceLine" id="cb246-11" title="11"> <span class="va">console</span>.<span class="at">log</span>(<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(<span class="st">&quot;field&quot;</span>)<span class="op">,</span> <span class="st">&#39;obj.hasOwnProperty(&quot;field&quot;)&#39;</span><span class="op">,</span> <span class="st">&#39;This statement returns true if </span><span class="sc">\&#39;</span><span class="st">field</span><span class="sc">\&#39;</span><span class="st"> key exists in the hashmap. The ONLY way NOT to lookup for property in the prototype chain!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb246-12" title="12"> <span class="co">//Object.keys().indexOf() is an overkill that runs much slower :)</span></a>
<a class="sourceLine" id="cb246-13" title="13"></a>
<a class="sourceLine" id="cb246-14" title="14"> <span class="kw">var</span> counter <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb246-15" title="15">     key<span class="op">;</span></a>
<a class="sourceLine" id="cb246-16" title="16"> <span class="cf">for</span> (key <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb246-17" title="17">     counter<span class="op">++;</span></a>
<a class="sourceLine" id="cb246-18" title="18"> <span class="op">}</span></a>
<a class="sourceLine" id="cb246-19" title="19"> <span class="va">console</span>.<span class="at">assert</span>(counter <span class="op">===</span> <span class="dv">0</span><span class="op">,</span> <span class="st">&#39;counter === 0&#39;</span><span class="op">,</span> <span class="st">&#39;&quot;field&quot; is not iterated using &quot;for .. in&quot; loop. *&#39;</span>)<span class="op">;</span></a></code></pre></div>
<h5>
Beware Of Memory Leaks!
</h2>
<p>While using <code>obj[prop] = undefined</code> is faster than doing <code>delete obj[prop]</code>, another important consideration is that <code>obj[prop] = undefined</code> may not always be appropriate. <code>delete obj[prop]</code> removes <code>prop</code> from <code>obj</code> and erases it from memory whereas <code>obj[prop] = undefined</code> simply sets the value of <code>prop</code> to <code>undefined</code> which leaves <code>prop</code> still in memory. Therefore, in circumstances where there are many keys being created and deleted, using <code>obj[prop] = undefined</code> can force expensive memory reconciliation (causing the page to freeze up) and potentially an out-of-memory error. Examine the following code.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb247-1" title="1"><span class="st">&quot;use strict&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb247-2" title="2"><span class="kw">var</span> theNodeList<span class="op">=</span>[]<span class="op">,</span> i<span class="op">,</span> current<span class="op">,</span> numberOfNodes<span class="op">=</span><span class="dv">65536</span><span class="op">,</span> body<span class="op">=</span><span class="va">document</span>.<span class="at">body</span><span class="op">,</span> nodeRecords<span class="op">=</span>[]<span class="op">;</span></a>
<a class="sourceLine" id="cb247-3" title="3"><span class="cf">for</span> (i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">!==</span> numberOfNodes<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb247-4" title="4">    nodeRecords[i] <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb247-5" title="5">    current <span class="op">=</span> theNodeList[i] <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;div&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb247-6" title="6">    <span class="va">current</span>.<span class="at">textContent</span> <span class="op">=</span> i<span class="op">;</span></a>
<a class="sourceLine" id="cb247-7" title="7">    <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>( current )<span class="op">;</span></a>
<a class="sourceLine" id="cb247-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb247-9" title="9"><span class="kw">var</span> lastTime <span class="op">=</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb247-10" title="10"><span class="at">requestAnimationFrame</span>(<span class="kw">function</span> <span class="at">recordUpdates</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb247-11" title="11">    <span class="kw">var</span> currentTime <span class="op">=</span> <span class="va">Math</span>.<span class="at">round</span>( <span class="va">performance</span>.<span class="at">now</span>()<span class="op">*</span><span class="dv">1000</span> )</a>
<a class="sourceLine" id="cb247-12" title="12">    <span class="cf">for</span> (i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">!==</span> numberOfNodes<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb247-13" title="13">        <span class="cf">if</span> (lastTime <span class="op">!==</span> <span class="dv">-1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb247-14" title="14">            <span class="co">// the previously collected data is no longer in use</span></a>
<a class="sourceLine" id="cb247-15" title="15">            <span class="co">/*************************************************/</span></a>
<a class="sourceLine" id="cb247-16" title="16">            <span class="co">/****/</span> nodeRecords[i][lastTime] <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span> <span class="co">/****/</span></a>
<a class="sourceLine" id="cb247-17" title="17">            <span class="co">/*************************************************/</span></a>
<a class="sourceLine" id="cb247-18" title="18">        <span class="op">}</span></a>
<a class="sourceLine" id="cb247-19" title="19">        nodeRecords[i][currentTime] <span class="op">=</span> theNodeList[i].<span class="at">outerHTML</span><span class="op">;</span></a>
<a class="sourceLine" id="cb247-20" title="20">    <span class="op">}</span></a>
<a class="sourceLine" id="cb247-21" title="21">    lastTime <span class="op">=</span> currentTime<span class="op">;</span></a>
<a class="sourceLine" id="cb247-22" title="22">    <span class="at">requestAnimationFrame</span>( recordUpdates )<span class="op">;</span></a>
<a class="sourceLine" id="cb247-23" title="23"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>In the code above, simply doing <code>nodeRecords[i][lastTime] = undefined;</code> will cause a massive memory leak because each animation frame. Each frame, all 65536 DOM elements will take up another 65536 individual slots, but the previous 65536 slots will only be set to undefined which leaves them hanging in the memory. Go ahead, try to run the above code in the console and see for yourself. After forcing an out-of-memory error, attempt to run it again except with the following version of the code that uses the <code>delete</code> operator instead.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb248-1" title="1"><span class="st">&quot;use strict&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb248-2" title="2"><span class="kw">var</span> theNodeList<span class="op">=</span>[]<span class="op">,</span> i<span class="op">,</span> current<span class="op">,</span> numberOfNodes<span class="op">=</span><span class="dv">65536</span><span class="op">,</span> body<span class="op">=</span><span class="va">document</span>.<span class="at">body</span><span class="op">,</span> nodeRecords<span class="op">=</span>[]<span class="op">;</span></a>
<a class="sourceLine" id="cb248-3" title="3"><span class="cf">for</span> (i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">!==</span> numberOfNodes<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb248-4" title="4">    nodeRecords[i] <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb248-5" title="5">    current <span class="op">=</span> theNodeList[i] <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;div&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb248-6" title="6">    <span class="va">current</span>.<span class="at">textContent</span> <span class="op">=</span> i<span class="op">;</span></a>
<a class="sourceLine" id="cb248-7" title="7">    <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>( current )<span class="op">;</span></a>
<a class="sourceLine" id="cb248-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb248-9" title="9"><span class="kw">var</span> lastTime <span class="op">=</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb248-10" title="10"><span class="at">requestAnimationFrame</span>(<span class="kw">function</span> <span class="at">recordUpdates</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb248-11" title="11">    <span class="kw">var</span> currentTime <span class="op">=</span> <span class="va">Math</span>.<span class="at">round</span>( <span class="va">performance</span>.<span class="at">now</span>()<span class="op">*</span><span class="dv">1000</span> )</a>
<a class="sourceLine" id="cb248-12" title="12">    <span class="cf">for</span> (i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">!==</span> numberOfNodes<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb248-13" title="13">        <span class="cf">if</span> (lastTime <span class="op">!==</span> <span class="dv">-1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb248-14" title="14">            <span class="co">// the previously collected data is no longer in use</span></a>
<a class="sourceLine" id="cb248-15" title="15">            <span class="co">/********************************************/</span></a>
<a class="sourceLine" id="cb248-16" title="16">            <span class="co">/****/</span> <span class="kw">delete</span> nodeRecords[i][lastTime]<span class="op">;</span> <span class="co">/****/</span></a>
<a class="sourceLine" id="cb248-17" title="17">            <span class="co">/********************************************/</span></a>
<a class="sourceLine" id="cb248-18" title="18">        <span class="op">}</span></a>
<a class="sourceLine" id="cb248-19" title="19">        nodeRecords[i][currentTime] <span class="op">=</span> theNodeList[i].<span class="at">outerHTML</span><span class="op">;</span></a>
<a class="sourceLine" id="cb248-20" title="20">    <span class="op">}</span></a>
<a class="sourceLine" id="cb248-21" title="21">    lastTime <span class="op">=</span> currentTime<span class="op">;</span></a>
<a class="sourceLine" id="cb248-22" title="22">    <span class="at">requestAnimationFrame</span>( recordUpdates )<span class="op">;</span></a>
<a class="sourceLine" id="cb248-23" title="23"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>As seen in the above code snippet, there are some rare appropriate use cases for the <code>delete</code> operator. However, do not worry about this problem too much. This will only become a problem with long-lifespan objects that get new keys constantly added to them. In any other case (which is almost every case in real-world programming), it is most appropriate to use <code>obj[prop] = undefined</code>. The main purpose of this section is just to bring this to your attention so that in the rare chance that this does become a problem in your code, then you can more easily understand the problem and thus not have to waste hours dissecting your code to locate and understand this problem.</p>
<h5>
Do Not Always Set To <code>undefined</code>
</h2>
<p>One aspect of Javascript that is important to consider is polymorphism. Polymorphism is when assigning the same variable/slot-in-an-object different types as seen below.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb249-1" title="1"><span class="kw">var</span> foo <span class="op">=</span> <span class="st">&quot;str&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb249-2" title="2">foo <span class="op">=</span> <span class="dv">100</span><span class="op">;</span>          <span class="co">// variable foo is now labeled polymorphic by the browser</span></a>
<a class="sourceLine" id="cb249-3" title="3"><span class="kw">var</span> bar <span class="op">=</span> [<span class="st">&quot;Some&quot;</span><span class="op">,</span> <span class="st">&quot;example&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb249-4" title="4">bar[<span class="dv">2</span>] <span class="op">=</span> <span class="st">&quot;text&quot;</span><span class="op">;</span>    <span class="co">// bar is a monomorphic array here because all its entries have the</span></a>
<a class="sourceLine" id="cb249-5" title="5">                    <span class="co">// same type: string primitive</span></a>
<a class="sourceLine" id="cb249-6" title="6">bar[<span class="dv">1</span>] <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span> <span class="co">// bar is now a polymorphic array</span></a></code></pre></div>
<p>However, there are two major unfixable problems with polymorphic arrays:</p>
<ol>
<li>
They are slow &amp; memory inefficient. When accessing a specific index, instead of just getting the global type for the array, the browser instead has to get the type on a per-index basis whereby each index stores the additional metadata of its type.
</li>
<li>
Once polymorphic, always polymorphic. When an array is made polymorphic, the polymorphism cannot be undone in Webkit browsers. So, even if you restore a polymorphic array to being non-polymorphic, it will still be stored by the browser as a polymorphic array.
</li>
</ol>
<p>One may liken polymorphism to a drug addiction. At first glance, it seems awesomely lucrative: nice pretty fluffy code. Then, the coder introduces their array to the drug of polymorphism. Instantly, the polymorphic array becomes less efficient, and it can never become as efficient as it was before since it is drugged. To correlate such circumstance to real life, someone on cocaine might not even be capable of operating a simple door handle, much less be able to calculate digits of PI. Likewise, an array on the drug of polymorphism cannot ever be as efficient as a monomorphic array.</p>
<p>But, how does a drug trip analogy relate to the <code>delete</code> operation? The answer inheres the last line of code in the snippet above. Thus let it be reexamined, this time with a twist.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb250-1" title="1"><span class="kw">var</span> bar <span class="op">=</span> [<span class="st">&quot;Some&quot;</span><span class="op">,</span> <span class="st">&quot;example&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb250-2" title="2">bar[<span class="dv">2</span>] <span class="op">=</span> <span class="st">&quot;text&quot;</span><span class="op">;</span>    <span class="co">// bar is not a polymorphic array here because all its entries have the</span></a>
<a class="sourceLine" id="cb250-3" title="3">                    <span class="co">// same type: string primitive</span></a>
<a class="sourceLine" id="cb250-4" title="4">bar[<span class="dv">1</span>] <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span>        <span class="co">// bar is still a monomorphic array</span></a>
<a class="sourceLine" id="cb250-5" title="5">bar[<span class="dv">1</span>] <span class="op">=</span> <span class="kw">undefined</span><span class="op">;</span> <span class="co">// bar is now a polymorphic array</span></a></code></pre></div>
<p>Observe. <code>bar[1] = &quot;&quot;</code> does not coerce polymorphism whereas <code>bar[1] = undefined</code> does. Therefore, one should always, whenever possible use the corresponding type for their objects so as to not accidentally cause polymorphism. One such person may use the following list as a general reference to get them going. However, please do not explicitly use the below ideas. Instead, use whatever works well for your code.</p>
<ul>
<li>
When using an array/variable typed to the boolean primitive, use either <code>false</code> or <code>undefined</code> as the empty value. While avoiding unnecessary polymorphism is good, rewriting all your code to explicitly forbid it will likely actually result in a decrease in performance. Use common judgement!
</li>
<li>
When using an array/variable typed to the number primitive, use <code>0</code> as the empty value. Note that internally, there are two types of numbers: fast integers (2147483647 to -2147483648 inclusive) and slow floating point doubles (anything other than that including <code>NaN</code> and <code>Infinity</code>). When an integer is demoted to a double, it cannot be promoted back to an integer.
</li>
<li>
When using an array/variable typed to the string primitive, use <code>&quot;&quot;</code> as the empty value.
</li>
<li>
When using a Symbol, wait, why are you using a Symbol?!?! Symbols are bad juju for performance. Everything programmed to use Symbols can be reprogrammed to not use Symbols, resulting in a faster code without Symbols. Symbols are really just super inefficient meta-sugar.
</li>
<li>
When using anything else, use <code>null</code>.
</li>
</ul>
<p>However, be mindful! Do not suddenly start doing this with all your preexisting code now as it would likely break such preexisting code and/or introduce strange bugs. Rather, such an efficient practice needs to be implemented from the start, and when converting preexisting code, it is recommended that you double, triple, quadruple check all the lines relating to that as trying to upgrade old code to this new practice can be as risky as it is rewarding.</p>
</section>
<section id="answer-3-score-228" class="level4">
<h4>Answer 3 (score 228)</h4>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var myObject = {“ircEvent”: “PRIVMSG”, “method”: “newURI”, “regex”: &quot;^http://.*&quot;};</p>
<p>delete myObject.regex;</p>
<p>console.log ( myObject.regex); // logs: undefined```</p>
</div>
</div>
<p>This works in Firefox and Internet Explorer, and I think it works in all others.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="get-current-url-with-jquery-score-2039234-in-2018" class="level3">
<h3>34: Get current URL with jQuery? (score <a href="https://stackoverflow.com/q/406192.html">2039234</a> in 2018)</h3>
<section id="question-33" class="level4">
<h4>Question</h4>
<p>I am using jQuery. How do I get the path of the current URL and assign it to a variable?</p>
<p>Example URL:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb251-1" title="1">http<span class="op">:</span><span class="co">//localhost/menuname.de?foo=bar&amp;amp;amp;number=0</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-2385" class="level4">
<h4>Answer accepted (score 2385)</h4>
<p>To get the path, you can use:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb252-1" title="1"><span class="kw">var</span> pathname <span class="op">=</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">pathname</span><span class="op">;</span> <span class="co">// Returns path only (/path/example.html)</span></a>
<a class="sourceLine" id="cb252-2" title="2"><span class="kw">var</span> url      <span class="op">=</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">href</span><span class="op">;</span>     <span class="co">// Returns full URL (https://example.com/path/example.html)</span></a>
<a class="sourceLine" id="cb252-3" title="3"><span class="kw">var</span> origin   <span class="op">=</span> <span class="va">window</span>.<span class="va">location</span>.<span class="at">origin</span><span class="op">;</span>   <span class="co">// Returns base URL (https://example.com)</span></a></code></pre></div>
</section>
<section id="answer-2-score-805" class="level4">
<h4>Answer 2 (score 805)</h4>
<p>In pure jQuery style:</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb253-1" title="1"><span class="at">$</span>(location).<span class="at">attr</span>(<span class="st">&#39;href&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>The location object also has other properties, like host, hash, protocol, and pathname.</p>
</section>
<section id="answer-3-score-458" class="level4">
<h4>Answer 3 (score 458)</h4>
<div class="sourceCode" id="cb254"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb254-1" title="1">http<span class="op">:</span><span class="co">//www.refulz.com:8082/index.php#tab2?foo=789</span></a>
<a class="sourceLine" id="cb254-2" title="2"></a>
<a class="sourceLine" id="cb254-3" title="3">Property    Result</a>
<a class="sourceLine" id="cb254-4" title="4"><span class="op">------------------------------------------</span></a>
<a class="sourceLine" id="cb254-5" title="5">host        <span class="va">www</span>.<span class="va">refulz</span>.<span class="at">com</span><span class="op">:</span><span class="dv">8082</span></a>
<a class="sourceLine" id="cb254-6" title="6">hostname    <span class="va">www</span>.<span class="va">refulz</span>.<span class="at">com</span></a>
<a class="sourceLine" id="cb254-7" title="7">port        <span class="dv">8082</span></a>
<a class="sourceLine" id="cb254-8" title="8">protocol    http<span class="op">:</span></a>
<a class="sourceLine" id="cb254-9" title="9">pathname    <span class="va">index</span>.<span class="at">php</span></a>
<a class="sourceLine" id="cb254-10" title="10">href        http<span class="op">:</span><span class="co">//www.refulz.com:8082/index.php#tab2</span></a>
<a class="sourceLine" id="cb254-11" title="11">hash        #tab2</a>
<a class="sourceLine" id="cb254-12" title="12">search      <span class="op">?</span>foo<span class="op">=</span><span class="dv">789</span></a>
<a class="sourceLine" id="cb254-13" title="13"></a>
<a class="sourceLine" id="cb254-14" title="14"><span class="kw">var</span> x <span class="op">=</span> <span class="at">$</span>(location).<span class="at">attr</span>(<span class="st">&#39;&amp;lt;property&amp;gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>This will work only if you have jQuery. For example:</strong></p>
<div class="sourceCode" id="cb255"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb255-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>html<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb255-2" title="2"><span class="op">&amp;</span>lt<span class="op">;</span>script src<span class="op">=</span><span class="st">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js&quot;</span><span class="op">&amp;</span>gt<span class="op">;&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a>
<a class="sourceLine" id="cb255-3" title="3"><span class="ss">&amp;lt;script&amp;gt;</span></a>
<a class="sourceLine" id="cb255-4" title="4"><span class="ss">  $</span><span class="sc">(</span><span class="ss">location</span><span class="sc">)</span><span class="ss">.attr</span><span class="sc">(</span><span class="ss">&#39;href&#39;</span><span class="sc">)</span><span class="ss">;      // http://www.refulz.com:8082/index</span>.<span class="at">php</span>#tab2</a>
<a class="sourceLine" id="cb255-5" title="5">  <span class="at">$</span>(location).<span class="at">attr</span>(<span class="st">&#39;pathname&#39;</span>)<span class="op">;</span>  <span class="co">// index.php</span></a>
<a class="sourceLine" id="cb255-6" title="6"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a>
<a class="sourceLine" id="cb255-7" title="7"><span class="ss">&amp;lt;/html</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="get-selected-text-from-a-drop-down-list-select-box-using-jquery-score-1964098-in-2018" class="level3">
<h3>35: Get selected text from a drop-down list (select box) using jQuery (score <a href="https://stackoverflow.com/q/1643227.html">1964098</a> in 2018)</h3>
<section id="question-34" class="level4">
<h4>Question</h4>
<p>How can I get the selected text (not the selected value) from a drop-down list in jQuery?</p>
</section>
<section id="answer-accepted-score-3662" class="level4">
<h4>Answer accepted (score 3662)</h4>
<div class="sourceCode" id="cb256"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb256-1" title="1"><span class="at">$</span>(<span class="st">&quot;#yourdropdownid option:selected&quot;</span>).<span class="at">text</span>()<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-259" class="level4">
<h4>Answer 2 (score 259)</h4>
<p>Try this:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb257-1" title="1"><span class="at">$</span>(<span class="st">&quot;#myselect :selected&quot;</span>).<span class="at">text</span>()<span class="op">;</span></a></code></pre></div>
<p>For an ASP.NET dropdown you can use the following selector:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb258-1" title="1"><span class="at">$</span>(<span class="st">&quot;[id*=&#39;MyDropDownId&#39;] :selected&quot;</span>)</a></code></pre></div>
</section>
<section id="answer-3-score-207" class="level4">
<h4>Answer 3 (score 207)</h4>
<p>The answers posted here, for example,</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb259-1" title="1"><span class="at">$</span>(<span class="st">&#39;#yourdropdownid option:selected&#39;</span>).<span class="at">text</span>()<span class="op">;</span></a></code></pre></div>
<p>didn’t work for me, but this did:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb260-1" title="1"><span class="at">$</span>(<span class="st">&#39;#yourdropdownid&#39;</span>).<span class="at">find</span>(<span class="st">&#39;option:selected&#39;</span>).<span class="at">text</span>()<span class="op">;</span></a></code></pre></div>
<p>It is possibly an older version of jQuery.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-add-a-keyvalue-pair-to-a-javascript-object-score-1959719-in-2015" class="level3">
<h3>36: How can I add a key/value pair to a JavaScript object? (score <a href="https://stackoverflow.com/q/1168807.html">1959719</a> in 2015)</h3>
<section id="question-35" class="level4">
<h4>Question</h4>
<p>Here is my object literal:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb261-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span><span class="dt">key1</span><span class="op">:</span> value1<span class="op">,</span> <span class="dt">key2</span><span class="op">:</span> value2<span class="op">};</span></a></code></pre></div>
<p>How can I add <code>{key3: value3}</code> to the object?</p>
</section>
<section id="answer-accepted-score-2034" class="level4">
<h4>Answer accepted (score 2034)</h4>
<p>There are two ways to add new <strong>properties</strong> to an object:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb262-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb262-2" title="2">    <span class="dt">key1</span><span class="op">:</span> value1<span class="op">,</span></a>
<a class="sourceLine" id="cb262-3" title="3">    <span class="dt">key2</span><span class="op">:</span> value2</a>
<a class="sourceLine" id="cb262-4" title="4"><span class="op">};</span></a></code></pre></div>
<h5>
Using dot notation:
</h3>
<div class="sourceCode" id="cb263"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb263-1" title="1"><span class="va">obj</span>.<span class="at">key3</span> <span class="op">=</span> <span class="st">&quot;value3&quot;</span><span class="op">;</span></a></code></pre></div>
<h5>
Using square bracket notation:
</h3>
<div class="sourceCode" id="cb264"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb264-1" title="1">obj[<span class="st">&quot;key3&quot;</span>] <span class="op">=</span> <span class="st">&quot;value3&quot;</span><span class="op">;</span></a></code></pre></div>
<p>The first form is used when you know the name of the property. The second form is used when the name of the property is dynamically determined. Like in this example:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb265-1" title="1"><span class="kw">var</span> getProperty <span class="op">=</span> <span class="kw">function</span> (propertyName) <span class="op">{</span></a>
<a class="sourceLine" id="cb265-2" title="2">    <span class="cf">return</span> obj[propertyName]<span class="op">;</span></a>
<a class="sourceLine" id="cb265-3" title="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb265-4" title="4"></a>
<a class="sourceLine" id="cb265-5" title="5"><span class="at">getProperty</span>(<span class="st">&quot;key1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb265-6" title="6"><span class="at">getProperty</span>(<span class="st">&quot;key2&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb265-7" title="7"><span class="at">getProperty</span>(<span class="st">&quot;key3&quot;</span>)<span class="op">;</span></a></code></pre></div>
<hr>
<p>A <em>real</em> JavaScript array can be constructed using either:</p>
<h5>
The Array literal notation:
</h3>
<div class="sourceCode" id="cb266"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb266-1" title="1"><span class="kw">var</span> arr <span class="op">=</span> []<span class="op">;</span></a></code></pre></div>
<h5>
The Array constructor notation:
</h3>
<div class="sourceCode" id="cb267"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb267-1" title="1"><span class="kw">var</span> arr <span class="op">=</span> <span class="kw">new</span> <span class="at">Array</span>()<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-258" class="level4">
<h4>Answer 2 (score 258)</h4>
<h5>
Year 2017 answer: <code>Object.assign()</code>
</h1>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noreferrer">Object.assign(dest, src1, src2, …)</a> merges objects.</p>
<p>It overwrites <code>dest</code> with properties and values of (however many) source objects, then returns <code>dest</code>.</p>
<blockquote>
The <code>Object.assign()</code> method is used to copy the values of all enumerable own properties from one or more source objects to a target object. It will return the target object.
</blockquote>
<h5>
Live example
</h3>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var obj = {key1: “value1”, key2: “value2”}; Object.assign(obj, {key3: “value3”});</p>
<p>document.body.innerHTML = JSON.stringify(obj);```</p>
</div>
</div>
<h5>
Year 2018 answer: object spread operator <code>{...}</code>
</h1>
<div class="sourceCode" id="cb268"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb268-1" title="1">obj <span class="op">=</span> <span class="op">{</span>...<span class="at">obj</span><span class="op">,</span> ...<span class="at">pair</span><span class="op">};</span></a></code></pre></div>
<p>From <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator#Spread_in_object_literals" rel="noreferrer">MDN</a>:</p>
<blockquote>
<p>It copies own enumerable properties from a provided object onto a new object.</p>
<p>Shallow-cloning (excluding prototype) or merging of objects is now possible using a shorter syntax than <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noreferrer"><code>Object.assign()</code></a>.</p>
Note that <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noreferrer"><code>Object.assign()</code></a> triggers <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set" rel="noreferrer">setters</a> whereas spread syntax doesn’t.
</blockquote>
<h5>
Live example
</h3>
<p>It works in current Chrome and current Firefox. They say it doesn’t work in current Edge.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var obj = {key1: “value1”, key2: “value2”}; var pair = {key3: “value3”}; obj = {…obj, …pair};</p>
<p>document.body.innerHTML = JSON.stringify(obj);```</p>
</div>
</div>
<h5>
Year 2019 answer
</h1>
<p><s><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Object_assignment" rel="noreferrer">Object assignment operator</a> <code>+=</code>:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb269-1" title="1">obj <span class="op">+=</span> <span class="op">{</span><span class="dt">key3</span><span class="op">:</span> <span class="st">&quot;value3&quot;</span><span class="op">};</span></a></code></pre></div>
<p></s>Oops… I got carried away. Smuggling information from the future is illegal. Duly obscured!</p>
</section>
<section id="answer-3-score-84" class="level4">
<h4>Answer 3 (score 84)</h4>
<p>I have grown fond of the <a href="https://lodash.com" rel="noreferrer">LoDash</a> / <a href="http://underscorejs.org/" rel="noreferrer">Underscore</a> when writing larger projects.</p>
<p>Adding by <code>obj['key']</code> or <code>obj.key</code> are all solid pure JavaScript answers. However both of LoDash and Underscore libraries do provide many additional convenient functions when working with Objects and Arrays in general.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" rel="noreferrer"><code>.push()</code> is for Arrays</a>, not for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object#Methods" rel="noreferrer">objects</a>.</p>
<p>Depending what you are looking for, there are two specific functions that may be nice to utilize and give functionality similar to the the feel of <code>arr.push()</code>. For more info check the docs, they have some great examples there.</p>
<h5>
<a href="https://lodash.com/docs#merge" rel="noreferrer">_.merge</a> (Lodash only)
</h1>
<p>
The second object will overwrite or add to the base object. <code>undefined</code> values are not copied.
</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb270-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span><span class="dt">key1</span><span class="op">:</span> <span class="st">&quot;value1&quot;</span><span class="op">,</span> <span class="dt">key2</span><span class="op">:</span> <span class="st">&quot;value2&quot;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb270-2" title="2"><span class="kw">var</span> obj2 <span class="op">=</span> <span class="op">{</span><span class="dt">key2</span><span class="op">:</span><span class="st">&quot;value4&quot;</span><span class="op">,</span> <span class="dt">key3</span><span class="op">:</span> <span class="st">&quot;value3&quot;</span><span class="op">,</span> <span class="dt">key4</span><span class="op">:</span> <span class="kw">undefined</span><span class="op">};</span></a>
<a class="sourceLine" id="cb270-3" title="3"><span class="va">_</span>.<span class="at">merge</span>(obj<span class="op">,</span> obj2)<span class="op">;</span></a>
<a class="sourceLine" id="cb270-4" title="4"><span class="va">console</span>.<span class="at">log</span>(obj)<span class="op">;</span></a>
<a class="sourceLine" id="cb270-5" title="5"><span class="co">// → {key1: &quot;value1&quot;, key2: &quot;value4&quot;, key3: &quot;value3&quot;} </span></a></code></pre></div>
<h5>
<a href="https://lodash.com/docs#assign" rel="noreferrer"><em>.extend / </em>.assign</a>
</h1>
<p>
The second object will overwrite or add to the base object. <code>undefined</code> will be copied.
</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb271-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span><span class="dt">key1</span><span class="op">:</span> <span class="st">&quot;value1&quot;</span><span class="op">,</span> <span class="dt">key2</span><span class="op">:</span> <span class="st">&quot;value2&quot;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb271-2" title="2"><span class="kw">var</span> obj2 <span class="op">=</span> <span class="op">{</span><span class="dt">key2</span><span class="op">:</span><span class="st">&quot;value4&quot;</span><span class="op">,</span> <span class="dt">key3</span><span class="op">:</span> <span class="st">&quot;value3&quot;</span><span class="op">,</span> <span class="dt">key4</span><span class="op">:</span> <span class="kw">undefined</span><span class="op">};</span></a>
<a class="sourceLine" id="cb271-3" title="3"><span class="va">_</span>.<span class="at">extend</span>(obj<span class="op">,</span> obj2)<span class="op">;</span></a>
<a class="sourceLine" id="cb271-4" title="4"><span class="va">console</span>.<span class="at">log</span>(obj)<span class="op">;</span></a>
<a class="sourceLine" id="cb271-5" title="5"><span class="co">// → {key1: &quot;value1&quot;, key2: &quot;value4&quot;, key3: &quot;value3&quot;, key4: undefined}</span></a></code></pre></div>
<h5>
<a href="https://lodash.com/docs#defaults" rel="noreferrer">_.defaults</a>
</h1>
<p>
The second object contains defaults that will be added to base object if they don’t exist. <code>undefined</code> values will be copied if key already exists.
</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb272-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span><span class="dt">key3</span><span class="op">:</span> <span class="st">&quot;value3&quot;</span><span class="op">,</span> <span class="dt">key5</span><span class="op">:</span> <span class="st">&quot;value5&quot;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb272-2" title="2"><span class="kw">var</span> obj2 <span class="op">=</span> <span class="op">{</span><span class="dt">key1</span><span class="op">:</span> <span class="st">&quot;value1&quot;</span><span class="op">,</span> <span class="dt">key2</span><span class="op">:</span><span class="st">&quot;value2&quot;</span><span class="op">,</span> <span class="dt">key3</span><span class="op">:</span> <span class="st">&quot;valueDefault&quot;</span><span class="op">,</span> <span class="dt">key4</span><span class="op">:</span> <span class="st">&quot;valueDefault&quot;</span><span class="op">,</span> <span class="dt">key5</span><span class="op">:</span> <span class="kw">undefined</span><span class="op">};</span></a>
<a class="sourceLine" id="cb272-3" title="3"><span class="va">_</span>.<span class="at">defaults</span>(obj<span class="op">,</span> obj2)<span class="op">;</span></a>
<a class="sourceLine" id="cb272-4" title="4"><span class="va">console</span>.<span class="at">log</span>(obj)<span class="op">;</span></a>
<a class="sourceLine" id="cb272-5" title="5"><span class="co">// → {key3: &quot;value3&quot;, key5: &quot;value5&quot;, key1: &quot;value1&quot;, key2: &quot;value2&quot;, key4: &quot;valueDefault&quot;}</span></a></code></pre></div>
<h5>
<a href="http://api.jquery.com/jquery.extend/" rel="noreferrer">$.extend</a>
</h1>
<p>In addition, it may be worthwhile mentioning jQuery.extend, it functions similar to _.merge and may be a better option if you already are using jQuery.</p>
<p>
The second object will overwrite or add to the base object. <code>undefined</code> values are not copied.
</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb273-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span><span class="dt">key1</span><span class="op">:</span> <span class="st">&quot;value1&quot;</span><span class="op">,</span> <span class="dt">key2</span><span class="op">:</span> <span class="st">&quot;value2&quot;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb273-2" title="2"><span class="kw">var</span> obj2 <span class="op">=</span> <span class="op">{</span><span class="dt">key2</span><span class="op">:</span><span class="st">&quot;value4&quot;</span><span class="op">,</span> <span class="dt">key3</span><span class="op">:</span> <span class="st">&quot;value3&quot;</span><span class="op">,</span> <span class="dt">key4</span><span class="op">:</span> <span class="kw">undefined</span><span class="op">};</span></a>
<a class="sourceLine" id="cb273-3" title="3"><span class="va">$</span>.<span class="at">extend</span>(obj<span class="op">,</span> obj2)<span class="op">;</span> </a>
<a class="sourceLine" id="cb273-4" title="4"><span class="va">console</span>.<span class="at">log</span>(obj)<span class="op">;</span></a>
<a class="sourceLine" id="cb273-5" title="5"><span class="co">// → {key1: &quot;value1&quot;, key2: &quot;value4&quot;, key3: &quot;value3&quot;}</span></a></code></pre></div>
<h5>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noreferrer">Object.assign()</a>
</h1>
<p>It may be worth mentioning the ES6/ ES2015 Object.assign, it functions similar to _.merge and may be the best option if you already are using an ES6/ES2015 polyfill like <a href="https://github.com/babel-plugins/babel-plugin-object-assign" rel="noreferrer">Babel</a> if you want to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill" rel="noreferrer">polyfill yourself</a>.</p>
<p>
The second object will overwrite or add to the base object. <code>undefined</code> will be copied.
</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb274-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span><span class="dt">key1</span><span class="op">:</span> <span class="st">&quot;value1&quot;</span><span class="op">,</span> <span class="dt">key2</span><span class="op">:</span> <span class="st">&quot;value2&quot;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb274-2" title="2"><span class="kw">var</span> obj2 <span class="op">=</span> <span class="op">{</span><span class="dt">key2</span><span class="op">:</span><span class="st">&quot;value4&quot;</span><span class="op">,</span> <span class="dt">key3</span><span class="op">:</span> <span class="st">&quot;value3&quot;</span><span class="op">,</span> <span class="dt">key4</span><span class="op">:</span> <span class="kw">undefined</span><span class="op">};</span></a>
<a class="sourceLine" id="cb274-3" title="3"><span class="va">Object</span>.<span class="at">assign</span>(obj<span class="op">,</span> obj2)<span class="op">;</span> </a>
<a class="sourceLine" id="cb274-4" title="4"><span class="va">console</span>.<span class="at">log</span>(obj)<span class="op">;</span></a>
<a class="sourceLine" id="cb274-5" title="5"><span class="co">// → {key1: &quot;value1&quot;, key2: &quot;value4&quot;, key3: &quot;value3&quot;, key4: undefined}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-get-the-value-from-the-get-parameters-score-1930107-in-2016" class="level3">
<h3>37: How to get the value from the GET parameters? (score <a href="https://stackoverflow.com/q/979975.html">1930107</a> in 2016)</h3>
<section id="question-36" class="level4">
<h4>Question</h4>
<p>I have a URL with some GET parameters as follows:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb275-1" title="1"><span class="va">www</span>.<span class="va">test</span>.<span class="at">com</span>/<span class="va">t</span>.<span class="at">html</span><span class="op">?</span>a<span class="op">=</span><span class="dv">1</span><span class="op">&amp;</span>amp<span class="op">;</span>b<span class="op">=</span><span class="dv">3</span><span class="op">&amp;</span>amp<span class="op">;</span>c<span class="op">=</span>m2<span class="op">-</span>m3<span class="op">-</span>m4<span class="op">-</span>m5 </a></code></pre></div>
<p>I need to get the whole value of <code>c</code>. I tried to read the URL, but I got only <code>m2</code>. How do I do this using JavaScript?</p>
</section>
<section id="answer-accepted-score-1775" class="level4">
<h4>Answer accepted (score 1775)</h4>
<p>JavaScript <em>itself</em> has nothing built in for handling query string parameters.</p>
<p>Code running in a (modern) browser you can use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams" rel="noreferrer"><code>URL</code> object</a> (which is part of the APIs provided by browsers to JS):</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var url_string = &quot;http://www.example.com/t.html?a=1&amp;amp;b=3&amp;amp;c=m2-m3-m4-m5&quot;; //window.location.href var url = new URL(url_string); var c = url.searchParams.get(&quot;c&quot;); console.log(c);</code></p>
</div>
</div>
<hr>
<p>For older browsers (including Internet Explorer), you can use <a href="https://github.com/ungap/url-search-params" rel="noreferrer">this polyfill</a> or the code from the original version of this answer that predates <code>URL</code>:</p>
<p>You could access <code>location.search</code>, which would give you from the <code>?</code> character on to the end of the URL or the start of the fragment identifier (#foo), whichever comes first.</p>
<p>Then you can parse it with this:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function parse_query_string(query) { var vars = query.split(“&amp;”); var query_string = {}; for (var i = 0; i &lt; vars.length; i++) { var pair = vars[i].split(“=”); var key = decodeURIComponent(pair[0]); var value = decodeURIComponent(pair[1]); // If first entry with this name if (typeof query_string[key] === “undefined”) { query_string[key] = decodeURIComponent(value); // If second entry with this name } else if (typeof query_string[key] === “string”) { var arr = [query_string[key], decodeURIComponent(value)]; query_string[key] = arr; // If third or later entry with this name } else { query_string[key].push(decodeURIComponent(value)); } } return query_string; }</p>
<p>var query_string = “a=1&amp;b=3&amp;c=m2-m3-m4-m5”; var parsed_qs = parse_query_string(query_string); console.log(parsed_qs.c);```</p>
</div>
</div>
<p>You can get the query string from the URL of the current page with:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb276-1" title="1"><span class="kw">var</span> query <span class="op">=</span> <span class="va">window</span>.<span class="va">location</span>.<span class="va">search</span>.<span class="at">substring</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb276-2" title="2"><span class="kw">var</span> qs <span class="op">=</span> <span class="at">parse_query_string</span>(query)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-239" class="level4">
<h4>Answer 2 (score 239)</h4>
<p>Most implementations I’ve seen miss out URL-decoding the names and the values.</p>
<p>Here’s a general utility function that also does proper URL-decoding:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb277-1" title="1"><span class="kw">function</span> <span class="at">getQueryParams</span>(qs) <span class="op">{</span></a>
<a class="sourceLine" id="cb277-2" title="2">    qs <span class="op">=</span> <span class="va">qs</span>.<span class="at">split</span>(<span class="st">&#39;+&#39;</span>).<span class="at">join</span>(<span class="st">&#39; &#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb277-3" title="3"></a>
<a class="sourceLine" id="cb277-4" title="4">    <span class="kw">var</span> params <span class="op">=</span> <span class="op">{},</span></a>
<a class="sourceLine" id="cb277-5" title="5">        tokens<span class="op">,</span></a>
<a class="sourceLine" id="cb277-6" title="6">        re <span class="op">=</span> <span class="ss">/</span><span class="sc">[?&amp;amp;]?([^=]+)</span><span class="ss">=</span><span class="sc">([^&amp;amp;]*)</span><span class="ss">/g</span><span class="op">;</span></a>
<a class="sourceLine" id="cb277-7" title="7"></a>
<a class="sourceLine" id="cb277-8" title="8">    <span class="cf">while</span> (tokens <span class="op">=</span> <span class="va">re</span>.<span class="at">exec</span>(qs)) <span class="op">{</span></a>
<a class="sourceLine" id="cb277-9" title="9">        params[<span class="at">decodeURIComponent</span>(tokens[<span class="dv">1</span>])] <span class="op">=</span> <span class="at">decodeURIComponent</span>(tokens[<span class="dv">2</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb277-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb277-11" title="11"></a>
<a class="sourceLine" id="cb277-12" title="12">    <span class="cf">return</span> params<span class="op">;</span></a>
<a class="sourceLine" id="cb277-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb277-14" title="14"></a>
<a class="sourceLine" id="cb277-15" title="15"><span class="co">//var query = getQueryParams(document.location.search);</span></a>
<a class="sourceLine" id="cb277-16" title="16"><span class="co">//alert(query.foo);</span></a></code></pre></div>
</section>
<section id="answer-3-score-224-1" class="level4">
<h4>Answer 3 (score 224)</h4>
<p><a href="http://www.netlobo.com/url_query_string_javascript.html" rel="noreferrer">source</a></p>
<div class="sourceCode" id="cb278"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb278-1" title="1"><span class="kw">function</span> <span class="at">gup</span>( name<span class="op">,</span> url ) <span class="op">{</span></a>
<a class="sourceLine" id="cb278-2" title="2">    <span class="cf">if</span> (<span class="op">!</span>url) url <span class="op">=</span> <span class="va">location</span>.<span class="at">href</span><span class="op">;</span></a>
<a class="sourceLine" id="cb278-3" title="3">    name <span class="op">=</span> <span class="va">name</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">[\[]</span><span class="ss">/</span><span class="op">,</span><span class="st">&quot;</span><span class="sc">\\\[</span><span class="st">&quot;</span>).<span class="at">replace</span>(<span class="ss">/</span><span class="sc">[\]]</span><span class="ss">/</span><span class="op">,</span><span class="st">&quot;</span><span class="sc">\\\]</span><span class="st">&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb278-4" title="4">    <span class="kw">var</span> regexS <span class="op">=</span> <span class="st">&quot;[</span><span class="sc">\\</span><span class="st">?&amp;amp;]&quot;</span><span class="op">+</span>name<span class="op">+</span><span class="st">&quot;=([^&amp;amp;#]*)&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb278-5" title="5">    <span class="kw">var</span> regex <span class="op">=</span> <span class="kw">new</span> <span class="at">RegExp</span>( regexS )<span class="op">;</span></a>
<a class="sourceLine" id="cb278-6" title="6">    <span class="kw">var</span> results <span class="op">=</span> <span class="va">regex</span>.<span class="at">exec</span>( url )<span class="op">;</span></a>
<a class="sourceLine" id="cb278-7" title="7">    <span class="cf">return</span> results <span class="op">==</span> <span class="kw">null</span> <span class="op">?</span> <span class="kw">null</span> : results[<span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb278-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb278-9" title="9"><span class="at">gup</span>(<span class="st">&#39;q&#39;</span><span class="op">,</span> <span class="st">&#39;hxxp://example.com/?q=abc&#39;</span>)</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-create-a-two-dimensional-array-in-javascript-score-1897981-in-2015" class="level3">
<h3>38: How can I create a two dimensional array in JavaScript? (score <a href="https://stackoverflow.com/q/966225.html">1897981</a> in 2015)</h3>
<section id="question-37" class="level4">
<h4>Question</h4>
<p>I have been reading online and some places say it isn’t possible, some say it is and then give an example and others refute the example, etc.</p>
<ol>
<li>
<p>
How do I declare a 2 dimensional array in JavaScript? (assuming it’s possible)
</p>
</li>
<li>
<p>
How would I access its members? (<code>myArray[0][1]</code> or <code>myArray[0,1]</code>?)
</p>
</li>
</ol>
</section>
<section id="answer-accepted-score-1194" class="level4">
<h4>Answer accepted (score 1194)</h4>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var items = [   [1, 2],   [3, 4],   [5, 6] ]; console.log(items[0][0]); // 1 console.log(items[0][1]); // 2 console.log(items[1][0]); // 3 console.log(items[1][1]); // 4 console.log(items);</code></p>
</div>
</div>
</section>
<section id="answer-2-score-421" class="level4">
<h4>Answer 2 (score 421)</h4>
<p>You simply make each item within the array an array.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var x = new Array(10);</p>
<p>for (var i = 0; i &lt; x.length; i++) { x[i] = new Array(3); }</p>
<p>console.log(x);```</p>
</div>
</div>
</section>
<section id="answer-3-score-186" class="level4">
<h4>Answer 3 (score 186)</h4>
<p>Similar to activa’s answer, here’s a function to create an n-dimensional array:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb279-1" title="1"><span class="kw">function</span> <span class="at">createArray</span>(length) <span class="op">{</span></a>
<a class="sourceLine" id="cb279-2" title="2">    <span class="kw">var</span> arr <span class="op">=</span> <span class="kw">new</span> <span class="at">Array</span>(length <span class="op">||</span> <span class="dv">0</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb279-3" title="3">        i <span class="op">=</span> length<span class="op">;</span></a>
<a class="sourceLine" id="cb279-4" title="4"></a>
<a class="sourceLine" id="cb279-5" title="5">    <span class="cf">if</span> (<span class="kw">arguments</span>.<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb279-6" title="6">        <span class="kw">var</span> args <span class="op">=</span> <span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">slice</span>.<span class="at">call</span>(<span class="kw">arguments</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb279-7" title="7">        <span class="cf">while</span>(i<span class="op">--</span>) arr[length<span class="dv">-1</span> <span class="op">-</span> i] <span class="op">=</span> <span class="va">createArray</span>.<span class="at">apply</span>(<span class="kw">this</span><span class="op">,</span> args)<span class="op">;</span></a>
<a class="sourceLine" id="cb279-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb279-9" title="9"></a>
<a class="sourceLine" id="cb279-10" title="10">    <span class="cf">return</span> arr<span class="op">;</span></a>
<a class="sourceLine" id="cb279-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb279-12" title="12"></a>
<a class="sourceLine" id="cb279-13" title="13"><span class="at">createArray</span>()<span class="op">;</span>     <span class="co">// [] or new Array()</span></a>
<a class="sourceLine" id="cb279-14" title="14"></a>
<a class="sourceLine" id="cb279-15" title="15"><span class="at">createArray</span>(<span class="dv">2</span>)<span class="op">;</span>    <span class="co">// new Array(2)</span></a>
<a class="sourceLine" id="cb279-16" title="16"></a>
<a class="sourceLine" id="cb279-17" title="17"><span class="at">createArray</span>(<span class="dv">3</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span> <span class="co">// [new Array(2),</span></a>
<a class="sourceLine" id="cb279-18" title="18">                   <span class="co">//  new Array(2),</span></a>
<a class="sourceLine" id="cb279-19" title="19">                   <span class="co">//  new Array(2)]</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-test-for-an-empty-javascript-object-score-1881498-in-2019" class="level3">
<h3>39: How do I test for an empty JavaScript object? (score <a href="https://stackoverflow.com/q/679915.html">1881498</a> in 2019)</h3>
<section id="question-38" class="level4">
<h4>Question</h4>
<p>After an AJAX request, sometimes my application may return an empty object, like:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb280-1" title="1"><span class="kw">var</span> a <span class="op">=</span> <span class="op">{};</span></a></code></pre></div>
<p>How can I check whether that’s the case?</p>
</section>
<section id="answer-accepted-score-4582" class="level4">
<h4>Answer accepted (score 4582)</h4>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries#Browser_compatibility" rel="noreferrer">ECMA 7+</a>:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb281-1" title="1"><span class="co">// because Object.entries(new Date()).length === 0;</span></a>
<a class="sourceLine" id="cb281-2" title="2"><span class="co">// we have to do some additional check</span></a>
<a class="sourceLine" id="cb281-3" title="3"><span class="va">Object</span>.<span class="at">entries</span>(obj).<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">obj</span>.<span class="at">constructor</span> <span class="op">===</span> Object</a></code></pre></div>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#Browser_compatibility" rel="noreferrer">ECMA 5+</a>:</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb282-1" title="1"><span class="co">// because Object.keys(new Date()).length === 0;</span></a>
<a class="sourceLine" id="cb282-2" title="2"><span class="co">// we have to do some additional check</span></a>
<a class="sourceLine" id="cb282-3" title="3"><span class="va">Object</span>.<span class="at">keys</span>(obj).<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">obj</span>.<span class="at">constructor</span> <span class="op">===</span> Object</a></code></pre></div>
<p>Pre-ECMA 5:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb283-1" title="1"><span class="kw">function</span> <span class="at">isEmpty</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb283-2" title="2">  <span class="cf">for</span>(<span class="kw">var</span> prop <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb283-3" title="3">    <span class="cf">if</span>(<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(prop)) <span class="op">{</span></a>
<a class="sourceLine" id="cb283-4" title="4">      <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb283-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb283-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb283-7" title="7"></a>
<a class="sourceLine" id="cb283-8" title="8">  <span class="cf">return</span> <span class="va">JSON</span>.<span class="at">stringify</span>(obj) <span class="op">===</span> <span class="va">JSON</span>.<span class="at">stringify</span>(<span class="op">{}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb283-9" title="9"><span class="op">}</span></a></code></pre></div>
<p><a href="https://api.jquery.com/jQuery.isEmptyObject/" rel="noreferrer">jQuery</a>:</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb284-1" title="1"><span class="va">jQuery</span>.<span class="at">isEmptyObject</span>(<span class="op">{}</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><a href="https://lodash.com/docs#isEmpty" rel="noreferrer">lodash</a>:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb285-1" title="1"><span class="va">_</span>.<span class="at">isEmpty</span>(<span class="op">{}</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><a href="https://underscorejs.org/#isEmpty" rel="noreferrer">Underscore</a>:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb286-1" title="1"><span class="va">_</span>.<span class="at">isEmpty</span>(<span class="op">{}</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><a href="https://github.com/hapijs/hoek" rel="noreferrer">Hoek</a></p>
<div class="sourceCode" id="cb287"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb287-1" title="1"><span class="va">Hoek</span>.<span class="at">deepEqual</span>(<span class="op">{},</span> <span class="op">{}</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><a href="https://docs.sencha.com/extjs/6.0.2/modern/Ext.Object.html#method-isEmpty" rel="noreferrer">ExtJS</a></p>
<div class="sourceCode" id="cb288"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb288-1" title="1"><span class="va">Ext</span>.<span class="va">Object</span>.<span class="at">isEmpty</span>(<span class="op">{}</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><a href="https://docs.angularjs.org/api/ng/function/angular.equals" rel="noreferrer">AngularJS (version 1)</a></p>
<div class="sourceCode" id="cb289"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb289-1" title="1"><span class="va">angular</span>.<span class="at">equals</span>(<span class="op">{},</span> <span class="op">{}</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><a href="https://ramdajs.com/docs/#isEmpty" rel="noreferrer">Ramda</a></p>
<div class="sourceCode" id="cb290"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb290-1" title="1"><span class="va">R</span>.<span class="at">isEmpty</span>(<span class="op">{}</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
</section>
<section id="answer-2-score-818" class="level4">
<h4>Answer 2 (score 818)</h4>
<p>There’s no easy way to do this. You’ll have to loop over the properties explicitly:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb291-1" title="1"><span class="kw">function</span> <span class="at">isEmpty</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb291-2" title="2">    <span class="cf">for</span>(<span class="kw">var</span> prop <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb291-3" title="3">        <span class="cf">if</span>(<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(prop))</a>
<a class="sourceLine" id="cb291-4" title="4">            <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb291-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb291-6" title="6"></a>
<a class="sourceLine" id="cb291-7" title="7">    <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb291-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>If <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#Browser_compatibility" rel="noreferrer">ECMAScript 5 support</a> is available, you can use <code>Object.keys()</code> instead:</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb292-1" title="1"><span class="kw">function</span> <span class="at">isEmpty</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb292-2" title="2">    <span class="cf">return</span> <span class="va">Object</span>.<span class="at">keys</span>(obj).<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb292-3" title="3"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-557" class="level4">
<h4>Answer 3 (score 557)</h4>
<p>For those of you who have the same problem but uses jQuery, you can use <a href="http://api.jquery.com/jQuery.isEmptyObject/" rel="noreferrer">jQuery.isEmptyObject</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript-score-1868130-in-2017" class="level3">
<h3>40: What is the most efficient way to deep clone an object in JavaScript? (score <a href="https://stackoverflow.com/q/122102.html">1868130</a> in 2017)</h3>
<section id="question-39" class="level4">
<h4>Question</h4>
<p>
What is the most efficient way to clone a JavaScript object? I’ve seen <code>obj = eval(uneval(o));</code> being used, but <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/uneval" rel="noreferrer">that’s non-standard and only supported by Firefox</a>.<br/><br/> I’ve done things like <code>obj = JSON.parse(JSON.stringify(o));</code> but question the efficiency. <br/><br/> I’ve also seen recursive copying functions with various flaws. <br /> I’m surprised no canonical solution exists.
</p>
</section>
<section id="answer-accepted-score-4441" class="level4">
<h4>Answer accepted (score 4441)</h4>
<h5>
Native deep cloning
</h1>
<p>It’s called “structured cloning”, works experimentally in Node 11 and later, and hopefully will land in browsers. See <a href="https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript/10916838#10916838">this answer</a> for more details.</p>
<h5>
Fast cloning with data loss - JSON.parse/stringify
</h1>
<p>If you do not use <code>Date</code>s, functions, <code>undefined</code>, <code>Infinity</code>, RegExps, Maps, Sets, Blobs, FileLists, ImageDatas, sparse Arrays, Typed Arrays or other complex types within your object, a very simple one liner to deep clone an object is:</p>
<p><code>JSON.parse(JSON.stringify(object))</code></p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript const a = {   string: 'string',   number: 123,   bool: false,   nul: null,   date: new Date(),  // stringified   undef: undefined,  // lost   inf: Infinity,  // forced to 'null'   re: /.*/,  // lost } console.log(a); console.log(typeof a.date);  // Date object const clone = JSON.parse(JSON.stringify(a)); console.log(clone); console.log(typeof clone.date);  // result of .toISOString()</code></p>
</div>
</div>
<p>See <a href="https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript/5344074#5344074">Corban’s answer</a> for benchmarks.</p>
<h5>
Reliable cloning using a library
</h1>
<p>Since cloning objects is not trivial (complex types, circular references, function etc.), most major libraries provide function to clone objects. <strong>Don’t reinvent the wheel</strong> - if you’re already using a library, check if it has an object cloning function. For example,</p>
<ul>
<li>
lodash - <a href="https://lodash.com/docs#cloneDeep" rel="noreferrer"><code>cloneDeep</code></a>; can be imported separately via the <a href="https://www.npmjs.com/package/lodash.clonedeep" rel="noreferrer">lodash.clonedeep</a> module and is probably your best choice if you’re not already using a library that provides a deep cloning function
</li>
<li>
AngularJS - <a href="https://docs.angularjs.org/api/ng/function/angular.copy" rel="noreferrer"><code>angular.copy</code></a>
</li>
<li>
jQuery - <a href="https://api.jquery.com/jquery.extend/#jQuery-extend-deep-target-object1-objectN" rel="noreferrer"><code>jQuery.extend(true, { }, oldObject)</code></a>; <code>.clone()</code> only clones DOM elements
</li>
</ul>
<h5>
ES6
</h1>
<p>For completeness, note that ES6 offers two shallow copy mechanisms: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noreferrer"><code>Object.assign()</code></a> and the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noreferrer">spread operator</a>.</p>
</section>
<section id="answer-2-score-2210" class="level4">
<h4>Answer 2 (score 2210)</h4>
<p>Checkout this benchmark: <a href="http://jsben.ch/#/bWfk9" rel="noreferrer">http://jsben.ch/#/bWfk9</a></p>
<p>In my previous tests where speed was a main concern I found</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb293-1" title="1"><span class="va">JSON</span>.<span class="at">parse</span>(<span class="va">JSON</span>.<span class="at">stringify</span>(obj))</a></code></pre></div>
<p>to be the slowest way to deep clone an object (it is slower than <a href="https://api.jquery.com/jQuery.extend/" rel="noreferrer">jQuery.extend</a> with <code>deep</code> flag set true by 10-20%).</p>
<p>jQuery.extend is pretty fast when the <code>deep</code> flag is set to <code>false</code> (shallow clone). It is a good option, because it includes some extra logic for type validation and doesn’t copy over undefined properties, etc., but this will also slow you down a little.</p>
<p>If you know the structure of the objects you are trying to clone or can avoid deep nested arrays you can write a simple <code>for (var i in obj)</code> loop to clone your object while checking hasOwnProperty and it will be much much faster than jQuery.</p>
<p>Lastly if you are attempting to clone a known object structure in a hot loop you can get MUCH MUCH MORE PERFORMANCE by simply in-lining the clone procedure and manually constructing the object.</p>
<p>JavaScript trace engines suck at optimizing <code>for..in</code> loops and checking hasOwnProperty will slow you down as well. Manual clone when speed is an absolute must.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb294-1" title="1"><span class="kw">var</span> clonedObject <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb294-2" title="2">  <span class="dt">knownProp</span><span class="op">:</span> <span class="va">obj</span>.<span class="at">knownProp</span><span class="op">,</span></a>
<a class="sourceLine" id="cb294-3" title="3">  ..</a>
<a class="sourceLine" id="cb294-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>Beware using the <code>JSON.parse(JSON.stringify(obj))</code> method on <code>Date</code> objects - <code>JSON.stringify(new Date())</code> returns a string representation of the date in ISO format, which <code>JSON.parse()</code> <strong>doesn’t</strong> convert back to a <code>Date</code> object. <a href="https://stackoverflow.com/questions/11491938/issues-with-date-when-using-json-stringify-and-json-parse/11491993#11491993">See this answer for more details</a>.</p>
<p>Additionally, please note that, in Chrome 65 at least, native cloning is not the way to go. According to <a href="https://jsperf.com/efficient-deep-cloning-teqniques" rel="noreferrer">this JSPerf</a>, performing native cloning by creating a new function is nearly <strong>800x</strong> slower than using JSON.stringify which is incredibly fast all the way across the board.</p>
<p><strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" rel="noreferrer">Update for ES6</a></strong></p>
<p>If you are using Javascript ES6 try this native method for cloning or shallow copy.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb295-1" title="1"><span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> obj)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-458-1" class="level4">
<h4>Answer 3 (score 458)</h4>
<p>Assuming that you have only variables and not any functions in your object, you can just use:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb296-1" title="1"><span class="kw">var</span> newObject <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(<span class="va">JSON</span>.<span class="at">stringify</span>(oldObject))<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript-score-1858457-in-2019" class="level3">
<h3>41: How do I make the first letter of a string uppercase in JavaScript? (score <a href="https://stackoverflow.com/q/1026069.html">1858457</a> in 2019)</h3>
<section id="question-40" class="level4">
<h4>Question</h4>
<p>How do I make the first letter of a string uppercase, but not change the case of any of the other letters?</p>
<p>For example:</p>
<ul>
<li>
<code>&quot;this is a test&quot;</code> -&gt; <code>&quot;This is a test&quot;</code>
</li>
<li>
<code>&quot;the Eiffel Tower&quot;</code> -&gt; <code>&quot;The Eiffel Tower&quot;</code>
</li>
<li>
<code>&quot;/index.html&quot;</code> -&gt; <code>&quot;/index.html&quot;</code>
</li>
</ul>
</section>
<section id="answer-2-score-5446" class="level4">
<h4>Answer 2 (score 5446)</h4>
<div class="sourceCode" id="cb297"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb297-1" title="1"><span class="kw">function</span> <span class="at">capitalizeFirstLetter</span>(string) <span class="op">{</span></a>
<a class="sourceLine" id="cb297-2" title="2">    <span class="cf">return</span> <span class="va">string</span>.<span class="at">charAt</span>(<span class="dv">0</span>).<span class="at">toUpperCase</span>() <span class="op">+</span> <span class="va">string</span>.<span class="at">slice</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb297-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Some other answers modify <code>String.prototype</code> (this answer used to as well), but I would advise against this now due to maintainability (hard to find out where the function is being added to the <code>prototype</code> and could cause conflicts if other code uses the same name / a browser adds a native function with that same name in future).</p>
</section>
<section id="answer-3-score-1305" class="level4">
<h4>Answer 3 (score 1305)</h4>
<p>Here’s a more object-oriented approach:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb298-1" title="1"><span class="va">String</span>.<span class="va">prototype</span>.<span class="at">capitalize</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb298-2" title="2">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">charAt</span>(<span class="dv">0</span>).<span class="at">toUpperCase</span>() <span class="op">+</span> <span class="kw">this</span>.<span class="at">slice</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb298-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>You’d call the function, like this:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb299-1" title="1"><span class="st">&quot;hello world&quot;</span>.<span class="at">capitalize</span>()<span class="op">;</span></a></code></pre></div>
<p>With the expected output being:</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb300-1" title="1"><span class="st">&quot;Hello world&quot;</span> </a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="parse-json-in-javascript-score-1857919-in-2017" class="level3">
<h3>42: Parse JSON in JavaScript? (score <a href="https://stackoverflow.com/q/4935632.html">1857919</a> in 2017)</h3>
<section id="question-41" class="level4">
<h4>Question</h4>
<p>I want to parse a JSON string in JavaScript. The response is something like</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb301-1" title="1"><span class="kw">var</span> response <span class="op">=</span> <span class="st">&#39;{&quot;result&quot;:true,&quot;count&quot;:1}&#39;</span><span class="op">;</span></a></code></pre></div>
<p>How can I get the values <code>result</code> and <code>count</code> from this?</p>
</section>
<section id="answer-accepted-score-1944" class="level4">
<h4>Answer accepted (score 1944)</h4>
<p>The standard way to parse JSON in JavaScript is <a href="http://msdn.microsoft.com/en-us/library/cc836466(v=vs.85).aspx" rel="noreferrer"><strong><code>JSON.parse()</code></strong></a></p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" rel="noreferrer"><code>JSON</code></a> API was introduced with <a href="https://en.wikipedia.org/wiki/ECMAScript#5th_Edition" rel="noreferrer">ES5</a> (2011) and has since been implemented in &gt;99% of browsers by market share, and Node.js. Its usage is simple:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb302-1" title="1"><span class="kw">const</span> json <span class="op">=</span> <span class="st">&#39;{ &quot;fruit&quot;: &quot;pineapple&quot;, &quot;fingers&quot;: 10 }&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb302-2" title="2"><span class="kw">const</span> obj <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(json)<span class="op">;</span></a>
<a class="sourceLine" id="cb302-3" title="3"><span class="va">console</span>.<span class="at">log</span>(<span class="va">obj</span>.<span class="at">fruit</span><span class="op">,</span> <span class="va">obj</span>.<span class="at">fingers</span>)<span class="op">;</span></a></code></pre></div>
<hr>
<p>The only time you won’t be able to use <code>JSON.parse()</code> is if you are programming for an ancient browser, such as IE 7 (2006), IE 6 (2001), Firefox 3 (2008), Safari 3.x (2009), etc. Alternatively, you may be in an esoteric JavaScript environment that doesn’t include the standard APIs. In these cases, use <a href="https://github.com/douglascrockford/JSON-js/blob/master/json2.js" rel="noreferrer">json2.js</a>, the reference implementation of JSON written by <a href="https://en.wikipedia.org/wiki/Douglas_Crockford" rel="noreferrer">Douglas Crockford</a>, the inventor of JSON. That library will provide an implementation of <code>JSON.parse()</code>.</p>
<p>When processing extremely large JSON files, <code>JSON.parse()</code> may choke because of its synchronous nature and design. To resolve this, the JSON website recommends third-party libraries such as <a href="http://oboejs.com/" rel="noreferrer">Oboe.js</a> and <a href="https://github.com/dscape/clarinet" rel="noreferrer">clarinet</a>, which provide streaming JSON parsing.</p>
<p>jQuery once had a <a href="https://api.jquery.com/jQuery.parseJSON/" rel="noreferrer"><code>$.parseJSON()</code></a> function, but it was deprecated with jQuery 3.0. In any case, for a long time it was nothing more than a wrapper around <code>JSON.parse()</code>.</p>
</section>
<section id="answer-2-score-101" class="level4">
<h4>Answer 2 (score 101)</h4>
<blockquote>
<p><strong>WARNING!</strong></p>
This answer stems from an ancient era of JavaScript programming during which there was no builtin way to parse JSON. The advice given here is no longer applicable and probably dangerous. From a modern perspective, parsing JSON by involving jQuery or calling eval() is nonsense. Unless you need to support IE 7 or Firefox 3.0, the correct way to parse JSON is <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" rel="nofollow noreferrer">JSON.parse()</a>.
</blockquote>
<p>First of all, you have to make sure that the JSON code is valid.</p>
<p>After that, I would recommend using a JavaScript library such as jQuery or Prototype if you can because these things are handled well in those libraries.</p>
<p>On the other hand, if you don’t want to use a library and you can vouch for the validity of the JSON object, I would simply wrap the string in an anonymous function and use the eval function.</p>
<p>This is not recommended if you are getting the JSON object from another source that isn’t absolutely trusted because the eval function allows for renegade code if you will.</p>
<p>Here is an example of using the eval function:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb303-1" title="1"><span class="kw">var</span> strJSON <span class="op">=</span> <span class="st">&#39;{&quot;result&quot;:true,&quot;count&quot;:1}&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb303-2" title="2"><span class="kw">var</span> objJSON <span class="op">=</span> <span class="at">eval</span>(<span class="st">&quot;(function(){return &quot;</span> <span class="op">+</span> strJSON <span class="op">+</span> <span class="st">&quot;;})()&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb303-3" title="3"><span class="at">alert</span>(<span class="va">objJSON</span>.<span class="at">result</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb303-4" title="4"><span class="at">alert</span>(<span class="va">objJSON</span>.<span class="at">count</span>)<span class="op">;</span></a></code></pre></div>
<p>If you control what browser is being used or you are not worried people with an older browser, you can always use the JSON.parse method.</p>
<p>This is really the ideal solution for the future.</p>
</section>
<section id="answer-3-score-59" class="level4">
<h4>Answer 3 (score 59)</h4>
<p>If you are getting this from an outside site it might be helpful to use jQuery’s getJSON. If it’s a list you can iterate through it with $.each</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb304-1" title="1"><span class="va">$</span>.<span class="at">getJSON</span>(url<span class="op">,</span> <span class="kw">function</span> (json) <span class="op">{</span></a>
<a class="sourceLine" id="cb304-2" title="2">    <span class="at">alert</span>(<span class="va">json</span>.<span class="at">result</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb304-3" title="3">    <span class="va">$</span>.<span class="at">each</span>(<span class="va">json</span>.<span class="at">list</span><span class="op">,</span> <span class="kw">function</span> (i<span class="op">,</span> fb) <span class="op">{</span></a>
<a class="sourceLine" id="cb304-4" title="4">        <span class="at">alert</span>(<span class="va">fb</span>.<span class="at">result</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb304-5" title="5">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb304-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="compare-two-dates-with-javascript-score-1785021-in-2019" class="level3">
<h3>43: Compare two dates with JavaScript (score <a href="https://stackoverflow.com/q/492994.html">1785021</a> in 2019)</h3>
<section id="question-42" class="level4">
<h4>Question</h4>
<p>Can someone suggest a way to compare the values of <strong>two dates</strong> greater than, less than, and not in the past using JavaScript? The values will be coming from text boxes.</p>
</section>
<section id="answer-accepted-score-1994" class="level4">
<h4>Answer accepted (score 1994)</h4>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" rel="nofollow noreferrer">Date object</a> will do what you want - construct one for each date, then compare them using the <code>&amp;gt;</code>, <code>&amp;lt;</code>, <code>&amp;lt;=</code> or <code>&amp;gt;=</code>.</p>
<p>The <code>==</code>, <code>!=</code>, <code>===</code>, and <code>!==</code> operators require you to use <code>date.getTime()</code> as in</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb305-1" title="1"><span class="kw">var</span> d1 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb305-2" title="2"><span class="kw">var</span> d2 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(d1)<span class="op">;</span></a>
<a class="sourceLine" id="cb305-3" title="3"><span class="kw">var</span> same <span class="op">=</span> <span class="va">d1</span>.<span class="at">getTime</span>() <span class="op">===</span> <span class="va">d2</span>.<span class="at">getTime</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb305-4" title="4"><span class="kw">var</span> notSame <span class="op">=</span> <span class="va">d1</span>.<span class="at">getTime</span>() <span class="op">!==</span> <span class="va">d2</span>.<span class="at">getTime</span>()<span class="op">;</span></a></code></pre></div>
<p>to be clear just checking for equality directly with the date objects won’t work</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb306-1" title="1"><span class="kw">var</span> d1 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb306-2" title="2"><span class="kw">var</span> d2 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(d1)<span class="op">;</span></a>
<a class="sourceLine" id="cb306-3" title="3"></a>
<a class="sourceLine" id="cb306-4" title="4"><span class="va">console</span>.<span class="at">log</span>(d1 <span class="op">==</span> d2)<span class="op">;</span>   <span class="co">// prints false (wrong!) </span></a>
<a class="sourceLine" id="cb306-5" title="5"><span class="va">console</span>.<span class="at">log</span>(d1 <span class="op">===</span> d2)<span class="op">;</span>  <span class="co">// prints false (wrong!)</span></a>
<a class="sourceLine" id="cb306-6" title="6"><span class="va">console</span>.<span class="at">log</span>(d1 <span class="op">!=</span> d2)<span class="op">;</span>   <span class="co">// prints true  (wrong!)</span></a>
<a class="sourceLine" id="cb306-7" title="7"><span class="va">console</span>.<span class="at">log</span>(d1 <span class="op">!==</span> d2)<span class="op">;</span>  <span class="co">// prints true  (wrong!)</span></a>
<a class="sourceLine" id="cb306-8" title="8"><span class="va">console</span>.<span class="at">log</span>(<span class="va">d1</span>.<span class="at">getTime</span>() <span class="op">===</span> <span class="va">d2</span>.<span class="at">getTime</span>())<span class="op">;</span> <span class="co">// prints true (correct)</span></a></code></pre></div>
<p>I suggest you use drop-downs or some similar constrained form of date entry rather than text boxes, though, lest you find yourself in input validation hell.</p>
</section>
<section id="answer-2-score-405" class="level4">
<h4>Answer 2 (score 405)</h4>
<p>The easiest way to compare dates in javascript is to first convert it to a Date object and then compare these date-objects.</p>
<p>Below you find an object with three functions:</p>
<ul>
<li>
<p>
<strong>dates.compare(a,b)</strong>
</p>
<p>Returns a number:</p>
<ul>
<li>
-1 if a &lt; b
</li>
<li>
0 if a = b
</li>
<li>
1 if a &gt; b
</li>
<li>
NaN if a or b is an illegal date
</li>
</ul>
</li>
<li>
<p>
<strong>dates.inRange</strong> (d,start,end)
</p>
<p>Returns a boolean or NaN:</p>
<ul>
<li>
<em>true</em> if <em>d</em> is between the <em>start</em> and <em>end</em> (inclusive)
</li>
<li>
<em>false</em> if <em>d</em> is before <em>start</em> or after <em>end</em>.
</li>
<li>
NaN if one or more of the dates are illegal.
</li>
</ul>
</li>
<li>
<p>
<strong>dates.convert</strong>
</p>
<p>Used by the other functions to convert their input to a date object. The input can be</p>
<ul>
<li>
a <strong>date</strong>-object : The input is returned as is.
</li>
<li>
an <strong>array</strong>: Interpreted as [year,month,day]. <strong>NOTE</strong> month is 0-11.
</li>
<li>
a <strong>number</strong> : Interpreted as number of milliseconds since 1 Jan 1970 (a timestamp)
</li>
<li>
a <strong>string</strong> : Several different formats is supported, like “YYYY/MM/DD”, “MM/DD/YYYY”, “Jan 31 2009” etc.
</li>
<li>
an <strong>object</strong>: Interpreted as an object with year, month and date attributes. <strong>NOTE</strong> month is 0-11.
</li>
</ul>
</li>
</ul>
<p>.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb307-1" title="1"><span class="co">// Source: http://stackoverflow.com/questions/497790</span></a>
<a class="sourceLine" id="cb307-2" title="2"><span class="kw">var</span> dates <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb307-3" title="3">    <span class="dt">convert</span><span class="op">:</span><span class="kw">function</span>(d) <span class="op">{</span></a>
<a class="sourceLine" id="cb307-4" title="4">        <span class="co">// Converts the date in d to a date-object. The input can be:</span></a>
<a class="sourceLine" id="cb307-5" title="5">        <span class="co">//   a date object: returned without modification</span></a>
<a class="sourceLine" id="cb307-6" title="6">        <span class="co">//  an array      : Interpreted as [year,month,day]. </span><span class="al">NOTE</span><span class="co">: month is 0-11.</span></a>
<a class="sourceLine" id="cb307-7" title="7">        <span class="co">//   a number     : Interpreted as number of milliseconds</span></a>
<a class="sourceLine" id="cb307-8" title="8">        <span class="co">//                  since 1 Jan 1970 (a timestamp) </span></a>
<a class="sourceLine" id="cb307-9" title="9">        <span class="co">//   a string     : Any format supported by the javascript engine, like</span></a>
<a class="sourceLine" id="cb307-10" title="10">        <span class="co">//                  &quot;YYYY/MM/DD&quot;, &quot;MM/DD/YYYY&quot;, &quot;Jan 31 2009&quot; etc.</span></a>
<a class="sourceLine" id="cb307-11" title="11">        <span class="co">//  an object     : Interpreted as an object with year, month and date</span></a>
<a class="sourceLine" id="cb307-12" title="12">        <span class="co">//                  attributes.  **</span><span class="al">NOTE</span><span class="co">** month is 0-11.</span></a>
<a class="sourceLine" id="cb307-13" title="13">        <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb307-14" title="14">            <span class="va">d</span>.<span class="at">constructor</span> <span class="op">===</span> Date <span class="op">?</span> d :</a>
<a class="sourceLine" id="cb307-15" title="15">            <span class="va">d</span>.<span class="at">constructor</span> <span class="op">===</span> Array <span class="op">?</span> <span class="kw">new</span> <span class="at">Date</span>(d[<span class="dv">0</span>]<span class="op">,</span>d[<span class="dv">1</span>]<span class="op">,</span>d[<span class="dv">2</span>]) :</a>
<a class="sourceLine" id="cb307-16" title="16">            <span class="va">d</span>.<span class="at">constructor</span> <span class="op">===</span> Number <span class="op">?</span> <span class="kw">new</span> <span class="at">Date</span>(d) :</a>
<a class="sourceLine" id="cb307-17" title="17">            <span class="va">d</span>.<span class="at">constructor</span> <span class="op">===</span> String <span class="op">?</span> <span class="kw">new</span> <span class="at">Date</span>(d) :</a>
<a class="sourceLine" id="cb307-18" title="18">            <span class="kw">typeof</span> d <span class="op">===</span> <span class="st">&quot;object&quot;</span> <span class="op">?</span> <span class="kw">new</span> <span class="at">Date</span>(<span class="va">d</span>.<span class="at">year</span><span class="op">,</span><span class="va">d</span>.<span class="at">month</span><span class="op">,</span><span class="va">d</span>.<span class="at">date</span>) :</a>
<a class="sourceLine" id="cb307-19" title="19">            <span class="kw">NaN</span></a>
<a class="sourceLine" id="cb307-20" title="20">        )<span class="op">;</span></a>
<a class="sourceLine" id="cb307-21" title="21">    <span class="op">},</span></a>
<a class="sourceLine" id="cb307-22" title="22">    <span class="dt">compare</span><span class="op">:</span><span class="kw">function</span>(a<span class="op">,</span>b) <span class="op">{</span></a>
<a class="sourceLine" id="cb307-23" title="23">        <span class="co">// Compare two dates (could be of any type supported by the convert</span></a>
<a class="sourceLine" id="cb307-24" title="24">        <span class="co">// function above) and returns:</span></a>
<a class="sourceLine" id="cb307-25" title="25">        <span class="co">//  -1 : if a &amp;lt; b</span></a>
<a class="sourceLine" id="cb307-26" title="26">        <span class="co">//   0 : if a = b</span></a>
<a class="sourceLine" id="cb307-27" title="27">        <span class="co">//   1 : if a &amp;gt; b</span></a>
<a class="sourceLine" id="cb307-28" title="28">        <span class="co">// NaN : if a or b is an illegal date</span></a>
<a class="sourceLine" id="cb307-29" title="29">        <span class="co">// </span><span class="al">NOTE</span><span class="co">: The code inside isFinite does an assignment (=).</span></a>
<a class="sourceLine" id="cb307-30" title="30">        <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb307-31" title="31">            <span class="at">isFinite</span>(a<span class="op">=</span><span class="kw">this</span>.<span class="at">convert</span>(a).<span class="at">valueOf</span>()) <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span></a>
<a class="sourceLine" id="cb307-32" title="32">            <span class="at">isFinite</span>(b<span class="op">=</span><span class="kw">this</span>.<span class="at">convert</span>(b).<span class="at">valueOf</span>()) <span class="op">?</span></a>
<a class="sourceLine" id="cb307-33" title="33">            (a<span class="op">&amp;</span>gt<span class="op">;</span>b)<span class="op">-</span>(a<span class="op">&amp;</span>lt<span class="op">;</span>b) :</a>
<a class="sourceLine" id="cb307-34" title="34">            <span class="kw">NaN</span></a>
<a class="sourceLine" id="cb307-35" title="35">        )<span class="op">;</span></a>
<a class="sourceLine" id="cb307-36" title="36">    <span class="op">},</span></a>
<a class="sourceLine" id="cb307-37" title="37">    <span class="dt">inRange</span><span class="op">:</span><span class="kw">function</span>(d<span class="op">,</span>start<span class="op">,</span>end) <span class="op">{</span></a>
<a class="sourceLine" id="cb307-38" title="38">        <span class="co">// Checks if date in d is between dates in start and end.</span></a>
<a class="sourceLine" id="cb307-39" title="39">        <span class="co">// Returns a boolean or NaN:</span></a>
<a class="sourceLine" id="cb307-40" title="40">        <span class="co">//    true  : if d is between start and end (inclusive)</span></a>
<a class="sourceLine" id="cb307-41" title="41">        <span class="co">//    false : if d is before start or after end</span></a>
<a class="sourceLine" id="cb307-42" title="42">        <span class="co">//    NaN   : if one or more of the dates is illegal.</span></a>
<a class="sourceLine" id="cb307-43" title="43">        <span class="co">// </span><span class="al">NOTE</span><span class="co">: The code inside isFinite does an assignment (=).</span></a>
<a class="sourceLine" id="cb307-44" title="44">       <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb307-45" title="45">            <span class="at">isFinite</span>(d<span class="op">=</span><span class="kw">this</span>.<span class="at">convert</span>(d).<span class="at">valueOf</span>()) <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span></a>
<a class="sourceLine" id="cb307-46" title="46">            <span class="at">isFinite</span>(start<span class="op">=</span><span class="kw">this</span>.<span class="at">convert</span>(start).<span class="at">valueOf</span>()) <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span></a>
<a class="sourceLine" id="cb307-47" title="47">            <span class="at">isFinite</span>(end<span class="op">=</span><span class="kw">this</span>.<span class="at">convert</span>(end).<span class="at">valueOf</span>()) <span class="op">?</span></a>
<a class="sourceLine" id="cb307-48" title="48">            start <span class="op">&amp;</span>lt<span class="op">;=</span> d <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> d <span class="op">&amp;</span>lt<span class="op">;=</span> end :</a>
<a class="sourceLine" id="cb307-49" title="49">            <span class="kw">NaN</span></a>
<a class="sourceLine" id="cb307-50" title="50">        )<span class="op">;</span></a>
<a class="sourceLine" id="cb307-51" title="51">    <span class="op">}</span></a>
<a class="sourceLine" id="cb307-52" title="52"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-256" class="level4">
<h4>Answer 3 (score 256)</h4>
<p>Compare <code>&amp;lt;</code> and <code>&amp;gt;</code> just as usual, but anything involving <code>=</code> should use a <code>+</code> prefix. Like so:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb308-1" title="1"><span class="kw">var</span> x <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(<span class="st">&#39;2013-05-23&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb308-2" title="2"><span class="kw">var</span> y <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(<span class="st">&#39;2013-05-23&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb308-3" title="3"></a>
<a class="sourceLine" id="cb308-4" title="4"><span class="co">// less than, greater than is fine:</span></a>
<a class="sourceLine" id="cb308-5" title="5">x <span class="op">&amp;</span>lt<span class="op">;</span> y<span class="op">;</span> <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb308-6" title="6">x <span class="op">&amp;</span>gt<span class="op">;</span> y<span class="op">;</span> <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb308-7" title="7">x <span class="op">===</span> y<span class="op">;</span> <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span><span class="op">,</span> oops<span class="op">!</span></a>
<a class="sourceLine" id="cb308-8" title="8"></a>
<a class="sourceLine" id="cb308-9" title="9"><span class="co">// anything involving &#39;=&#39; should use the &#39;+&#39; prefix</span></a>
<a class="sourceLine" id="cb308-10" title="10"><span class="co">// it will then compare the dates&#39; millisecond values</span></a>
<a class="sourceLine" id="cb308-11" title="11"><span class="op">+</span>x <span class="op">&amp;</span>lt<span class="op">;=</span> <span class="op">+</span>y<span class="op">;</span>  <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb308-12" title="12"><span class="op">+</span>x <span class="op">&amp;</span>gt<span class="op">;=</span> <span class="op">+</span>y<span class="op">;</span>  <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb308-13" title="13"><span class="op">+</span>x <span class="op">===</span> <span class="op">+</span>y<span class="op">;</span> <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a></code></pre></div>
<p>Hope this helps!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="checking-if-a-key-exists-in-a-javascript-object-score-1769527-in-2019" class="level3">
<h3>44: Checking if a key exists in a JavaScript object? (score <a href="https://stackoverflow.com/q/1098040.html">1769527</a> in 2019)</h3>
<section id="question-43" class="level4">
<h4>Question</h4>
<p>How do I check if a particular key exists in a JavaScript object or array?</p>
<p>If a key doesn’t exist, and I try to access it, will it return false? Or throw an error?</p>
</section>
<section id="answer-accepted-score-3716" class="level4">
<h4>Answer accepted (score 3716)</h4>
<p>Checking for undefined-ness is not an accurate way of testing whether a key exists. What if the key exists but the value is actually <code>undefined</code>?</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb309-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span> <span class="dt">key</span><span class="op">:</span> <span class="kw">undefined</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb309-2" title="2">obj[<span class="st">&quot;key&quot;</span>] <span class="op">!==</span> <span class="kw">undefined</span> <span class="co">// false, but the key exists!</span></a></code></pre></div>
<p>You should instead use the <code>in</code> operator:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb310-1" title="1"><span class="st">&quot;key&quot;</span> <span class="kw">in</span> obj <span class="co">// true, regardless of the actual value</span></a></code></pre></div>
<p>If you want to check if a key doesn’t exist, remember to use parenthesis:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb311-1" title="1"><span class="op">!</span>(<span class="st">&quot;key&quot;</span> <span class="kw">in</span> obj) <span class="co">// true if &quot;key&quot; doesn&#39;t exist in object</span></a>
<a class="sourceLine" id="cb311-2" title="2"><span class="op">!</span><span class="st">&quot;key&quot;</span> <span class="kw">in</span> obj   <span class="co">// ERROR!  Equivalent to &quot;false in obj&quot;</span></a></code></pre></div>
<p>Or, if you want to particularly test for properties of the object instance (and not inherited properties), use <code>hasOwnProperty</code>:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb312-1" title="1"><span class="va">obj</span>.<span class="at">hasOwnProperty</span>(<span class="st">&quot;key&quot;</span>) <span class="co">// true</span></a></code></pre></div>
<p>For performance comparison between the methods that are <code>in</code>, <code>hasOwnProperty</code> and key is <code>undefined</code>, see this <a href="http://jsben.ch/#/WqlIl" rel="noreferrer"><strong>benchmark</strong></a></p>
</section>
<section id="answer-2-score-270" class="level4">
<h4>Answer 2 (score 270)</h4>
<h5>
quick answer
</h1>
<blockquote>
<p>
How do I check if a particular key exists in a JavaScript object or array? If a key doesn’t exist and I try to access it, will it return false? Or throw an error?
</p>
</blockquote>
<p>Accessing directly a missing property using (associative) array style or object style will return an <em>undefined</em> constant.</p>
<h5>
The slow and reliable <em>in</em> operator and <em>hasOwnProperty</em> method
</h2>
<p>As people have already mentioned here, you could have an object with a property associated with an “undefined” constant.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb313-1" title="1"> <span class="kw">var</span> bizzareObj <span class="op">=</span> <span class="op">{</span><span class="dt">valid_key</span><span class="op">:</span>  <span class="kw">undefined</span><span class="op">};</span></a></code></pre></div>
<p>In that case, you will have to use <em>hasOwnProperty</em> or <em>in</em> operator to know if the key is really there. But, <em>but at what price?</em></p>
<p>so, I tell you…</p>
<p><em>in</em> operator and <em>hasOwnProperty</em> are “methods” that use Property Descriptor mechanism in Javascript (similar to Java reflection in the Java language).</p>
<p><a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.10" rel="noreferrer">http://www.ecma-international.org/ecma-262/5.1/#sec-8.10</a></p>
<blockquote>
The Property Descriptor type is used to explain the manipulation and reification of named property attributes. Values of the Property Descriptor type are records composed of named fields where each field’s name is an attribute name and its value is a corresponding attribute value as specified in 8.6.1. In addition, any field may be present or absent.
</blockquote>
<p>On the other hand, calling an object method or key will use Javascript [[Get]] mechanism. That is far way faster!</p>
<h5>
benchmark
</h2>
<p><a href="http://jsperf.com/checking-if-a-key-exists-in-a-javascript-array" rel="noreferrer">http://jsperf.com/checking-if-a-key-exists-in-a-javascript-array</a></p>
<p><img src="https://i.stack.imgur.com/GjzNU.png" alt="Comparing key access in JS">.</p>
<p>Using <em>in</em> operator</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb314-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="st">&quot;Impression&quot;</span> <span class="kw">in</span> array<span class="op">;</span></a></code></pre></div>
<p>The result was</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb315-1" title="1"><span class="dv">12</span><span class="op">,</span><span class="dv">931</span><span class="op">,</span><span class="dv">832</span> <span class="va">±0</span>.<span class="dv">21</span><span class="op">%</span> ops/sec      <span class="dv">92</span><span class="op">%</span> slower </a></code></pre></div>
<p>Using hasOwnProperty</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb316-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="va">array</span>.<span class="at">hasOwnProperty</span>(<span class="st">&quot;Impression&quot;</span>)</a></code></pre></div>
<p>The result was</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb317-1" title="1"><span class="dv">16</span><span class="op">,</span><span class="dv">021</span><span class="op">,</span><span class="dv">758</span> <span class="va">±0</span>.<span class="dv">45</span><span class="op">%</span> ops/sec     <span class="dv">91</span><span class="op">%</span> slower</a></code></pre></div>
<p>Accessing elements directly (brackets style)</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb318-1" title="1"><span class="kw">var</span> result <span class="op">=</span> array[<span class="st">&quot;Impression&quot;</span>] <span class="op">===</span> <span class="kw">undefined</span></a></code></pre></div>
<p>The result was</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb319-1" title="1"><span class="dv">168</span><span class="op">,</span><span class="dv">270</span><span class="op">,</span><span class="dv">439</span> <span class="va">±0</span>.<span class="dv">13</span> ops/sec     <span class="fl">0.02</span><span class="op">%</span> slower </a></code></pre></div>
<p>Accessing elements directly (object style)</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb320-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="va">array</span>.<span class="at">Impression</span>  <span class="op">===</span> <span class="kw">undefined</span><span class="op">;</span></a></code></pre></div>
<p>The result was</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb321-1" title="1"><span class="dv">168</span><span class="op">,</span><span class="dv">303</span><span class="op">,</span><span class="dv">172</span> <span class="va">±0</span>.<span class="dv">20</span><span class="op">%</span>     fastest</a></code></pre></div>
<h5>
EDIT: What is the reason to assign to a property the <code>undefined</code> value?
</h2>
<p>That question puzzles me. In Javascript, there are at least two references for absent objects to avoid problems like this: <code>null</code> and <code>undefined</code>.</p>
<p><code>null</code> is the primitive value that represents the intentional absence of any object value, or in short terms, the <strong>confirmed</strong> lack of value. On the other hand, <code>undefined</code> is unknown value (not defined). If there is a property that will be used later with a <em>proper</em> value consider use <code>null</code> reference instead of <code>undefined</code> because in the initial moment the property is <strong>confirmed</strong> to lack a value.</p>
<p>Compare:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb322-1" title="1"><span class="kw">var</span> a <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">:</span> <span class="kw">null</span><span class="op">};</span> </a>
<a class="sourceLine" id="cb322-2" title="2"><span class="va">console</span>.<span class="at">log</span>(a[<span class="dv">1</span>] <span class="op">===</span> <span class="kw">undefined</span>)<span class="op">;</span> <span class="co">// output: false. I know the value at position 1 of a[] is absent and this was by design, i.e.:  the value is defined. </span></a>
<a class="sourceLine" id="cb322-3" title="3"><span class="va">console</span>.<span class="at">log</span>(a[<span class="dv">0</span>] <span class="op">===</span> <span class="kw">undefined</span>)<span class="op">;</span> <span class="co">// output: true. I cannot say anything about a[0] value. In this case, the key 0 was not in a[].</span></a></code></pre></div>
<h5>
Advise
</h2>
<p>Avoid objects with <code>undefined</code> values. Check directly whenever possible and use <code>null</code> to initialize property values. Otherwise, use the slow <code>in</code> operator or <code>hasOwnProperty()</code> method.</p>
<h5>
EDIT: 12/04/2018 - NOT RELEVANT ANYMORE
</h2>
<p>As people have commented, modern versions of the Javascript engines (with firefox exception) has changed the approach for access properties. Current implementation is slower than the previous one for this particular case but difference between access key and object are neglectable.</p>
</section>
<section id="answer-3-score-130" class="level4">
<h4>Answer 3 (score 130)</h4>
<p>It will return <code>undefined</code>.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var aa = {hello: &quot;world&quot;}; alert( aa[&quot;hello&quot;] );      // popup box with &quot;world&quot; alert( aa[&quot;goodbye&quot;] );    // popup box with &quot;undefined&quot;</code></p>
</div>
</div>
<p><code>undefined</code> is a special constant value. So you can say, e.g.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb323-1" title="1"><span class="co">// note the three equal signs so that null won&#39;t be equal to undefined</span></a>
<a class="sourceLine" id="cb323-2" title="2"><span class="cf">if</span>( aa[<span class="st">&quot;goodbye&quot;</span>] <span class="op">===</span> <span class="kw">undefined</span> ) <span class="op">{</span></a>
<a class="sourceLine" id="cb323-3" title="3">    <span class="co">// do something</span></a>
<a class="sourceLine" id="cb323-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>This is probably the best way to check for missing keys. However, as is pointed out in a comment below, it’s theoretically possible that you’d want to have the actual value be <code>undefined</code>. I’ve never needed to do this and can’t think of a reason offhand why I’d ever want to, but just for the sake of completeness, you can use the <code>in</code> operator</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb324-1" title="1"><span class="co">// this works even if you have {&quot;goodbye&quot;: undefined}</span></a>
<a class="sourceLine" id="cb324-2" title="2"><span class="cf">if</span>( <span class="st">&quot;goodbye&quot;</span> <span class="kw">in</span> aa ) <span class="op">{</span></a>
<a class="sourceLine" id="cb324-3" title="3">    <span class="co">// do something</span></a>
<a class="sourceLine" id="cb324-4" title="4"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-loop-through-or-enumerate-a-javascript-object-score-1767834-in-2018" class="level3">
<h3>45: How do I loop through or enumerate a JavaScript object? (score <a href="https://stackoverflow.com/q/684672.html">1767834</a> in 2018)</h3>
<section id="question-44" class="level4">
<h4>Question</h4>
<p>I have a JavaScript object like the following:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb325-1" title="1"><span class="kw">var</span> p <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb325-2" title="2">    <span class="st">&quot;p1&quot;</span><span class="op">:</span> <span class="st">&quot;value1&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb325-3" title="3">    <span class="st">&quot;p2&quot;</span><span class="op">:</span> <span class="st">&quot;value2&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb325-4" title="4">    <span class="st">&quot;p3&quot;</span><span class="op">:</span> <span class="st">&quot;value3&quot;</span></a>
<a class="sourceLine" id="cb325-5" title="5"><span class="op">};</span></a></code></pre></div>
<p>Now I want to loop through all <code>p</code> elements (<code>p1</code>, <code>p2</code>, <code>p3</code>…) And get their keys and values. How can I do that?</p>
<p>I can modify the JavaScript object if necessary. My ultimate goal is to loop through some key value pairs and if possible I want to avoid using <code>eval</code>.</p>
</section>
<section id="answer-accepted-score-4117" class="level4">
<h4>Answer accepted (score 4117)</h4>
<p>You can use the <code>for-in</code> loop as shown by others. However, you also have to make sure that the key you get is an actual property of an object, and doesn’t come from the prototype.</p>
<p>
<strong>Here is the snippet:</strong>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var p = { “p1”: “value1”, “p2”: “value2”, “p3”: “value3” };</p>
<p>for (var key in p) { if (p.hasOwnProperty(key)) { console.log(key + &quot; -&gt; &quot; + p[key]); } }```</p>
</div>
</div>
</section>
<section id="answer-2-score-1001" class="level4">
<h4>Answer 2 (score 1001)</h4>
<p>Under ECMAScript 5, you can combine <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" rel="noreferrer"><code>Object.keys()</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="noreferrer"><code>Array.prototype.forEach()</code></a>:</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb326-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span> <span class="dt">first</span><span class="op">:</span> <span class="st">&quot;John&quot;</span><span class="op">,</span> <span class="dt">last</span><span class="op">:</span> <span class="st">&quot;Doe&quot;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb326-2" title="2"></a>
<a class="sourceLine" id="cb326-3" title="3"><span class="va">Object</span>.<span class="at">keys</span>(obj).<span class="at">forEach</span>(<span class="kw">function</span>(key) <span class="op">{</span></a>
<a class="sourceLine" id="cb326-4" title="4">    <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> obj[key])<span class="op">;</span></a>
<a class="sourceLine" id="cb326-5" title="5"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>ECMAScript 6 adds <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of" rel="noreferrer"><code>for...of</code></a>:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb327-1" title="1"><span class="cf">for</span> (<span class="kw">const</span> key <span class="kw">of</span> <span class="va">Object</span>.<span class="at">keys</span>(obj)) <span class="op">{</span></a>
<a class="sourceLine" id="cb327-2" title="2">    <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> obj[key])<span class="op">;</span></a>
<a class="sourceLine" id="cb327-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>ECMAScript 8 adds <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" rel="noreferrer"><code>Object.entries()</code></a> which avoids having to look up each value in the original object:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb328-1" title="1"><span class="va">Object</span>.<span class="at">entries</span>(obj).<span class="at">forEach</span>(</a>
<a class="sourceLine" id="cb328-2" title="2">    ([key<span class="op">,</span> value]) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> value)</a>
<a class="sourceLine" id="cb328-3" title="3">)<span class="op">;</span></a></code></pre></div>
<p>You can combine <code>for...of</code>, destructuring, and <code>Object.entries</code>:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb329-1" title="1"><span class="cf">for</span> (<span class="kw">const</span> [key<span class="op">,</span> value] <span class="kw">of</span> <span class="va">Object</span>.<span class="at">entries</span>(obj)) <span class="op">{</span></a>
<a class="sourceLine" id="cb329-2" title="2">    <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb329-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Both <code>Object.keys()</code> and <code>Object.entries()</code> iterate properties in the same order as a <code>for...in</code> loop <em>but ignore the prototype chain</em>. Only the object’s own enumerable properties are iterated.</p>
</section>
<section id="answer-3-score-332" class="level4">
<h4>Answer 3 (score 332)</h4>
<p>You have to use the <strong>for-in loop</strong></p>
<p>But be very careful when using this kind of loop, because this will <strong>loop all the properties along the prototype chain</strong>.</p>
<p>Therefore, when using for-in loops, always make use of the <code>hasOwnProperty</code> method to determine if the current property in iteration is really a property of the object you’re checking on:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb330-1" title="1"><span class="cf">for</span> (<span class="kw">var</span> prop <span class="kw">in</span> p) <span class="op">{</span></a>
<a class="sourceLine" id="cb330-2" title="2">    <span class="cf">if</span> (<span class="op">!</span><span class="va">p</span>.<span class="at">hasOwnProperty</span>(prop)) <span class="op">{</span></a>
<a class="sourceLine" id="cb330-3" title="3">        <span class="co">//The current property is not a direct property of p</span></a>
<a class="sourceLine" id="cb330-4" title="4">        <span class="cf">continue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb330-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb330-6" title="6">    <span class="co">//Do your logic with the property here</span></a>
<a class="sourceLine" id="cb330-7" title="7"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-get-the-children-of-the-this-selector-score-1766627-in-2017" class="level3">
<h3>46: How to get the children of the $(this) selector? (score <a href="https://stackoverflow.com/q/306583.html">1766627</a> in 2017)</h3>
<section id="question-45" class="level4">
<h4>Question</h4>
<p>I have a layout similar to this:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb331-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>div id<span class="op">=</span><span class="st">&quot;...&quot;</span><span class="op">&amp;</span>gt<span class="op">;&amp;</span>lt<span class="op">;</span>img src<span class="op">=</span><span class="st">&quot;...&quot;</span><span class="op">&amp;</span>gt<span class="op">;&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a></code></pre></div>
<p>and would like to use a jQuery selector to select the child <code>img</code> inside the <code>div</code> on click.</p>
<p>To get the <code>div</code>, I’ve got this selector:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb332-1" title="1"><span class="at">$</span>(<span class="kw">this</span>)</a></code></pre></div>
<p>How can I get the child <code>img</code> using a selector?</p>
</section>
<section id="answer-accepted-score-2813" class="level4">
<h4>Answer accepted (score 2813)</h4>
<p>The jQuery constructor accepts a 2nd parameter called <a href="http://api.jquery.com/jQuery/#jQuery-selector-context" rel="noreferrer"><code>context</code></a> which can be used to override the context of the selection.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb333-1" title="1"><span class="at">jQuery</span>(<span class="st">&quot;img&quot;</span><span class="op">,</span> <span class="kw">this</span>)<span class="op">;</span></a></code></pre></div>
<p>Which is the same as using <a href="http://api.jquery.com/find" rel="noreferrer"><code>.find()</code></a> like this:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb334-1" title="1"><span class="at">jQuery</span>(<span class="kw">this</span>).<span class="at">find</span>(<span class="st">&quot;img&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>If the imgs you desire are <strong>only</strong> direct descendants of the clicked element, you can also use <a href="http://api.jquery.com/children" rel="noreferrer"><code>.children()</code></a>:</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb335-1" title="1"><span class="at">jQuery</span>(<span class="kw">this</span>).<span class="at">children</span>(<span class="st">&quot;img&quot;</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-459" class="level4">
<h4>Answer 2 (score 459)</h4>
<p>You could also use</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb336-1" title="1"><span class="at">$</span>(<span class="kw">this</span>).<span class="at">find</span>(<span class="st">&#39;img&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>which would return all <code>img</code>s that are descendants of the <code>div</code></p>
</section>
<section id="answer-3-score-133" class="level4">
<h4>Answer 3 (score 133)</h4>
<p>If you need to get the first <code>img</code> that’s down exactly one level, you can do</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb337-1" title="1"><span class="at">$</span>(<span class="kw">this</span>).<span class="at">children</span>(<span class="st">&quot;img:first&quot;</span>)</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-convert-a-string-to-boolean-in-javascript-score-1764203-in" class="level3">
<h3>47: How can I convert a string to boolean in JavaScript? (score <a href="https://stackoverflow.com/q/263965.html">1764203</a> in )</h3>
<section id="question-46" class="level4">
<h4>Question</h4>
<p>Can I convert a string representing a boolean value (e.g., ‘true’, ‘false’) into a intrinsic type in JavaScript?</p>
<p>I have a hidden form in HTML that is updated based upon a user’s selection within a list. This form contains some fields which represent boolean values and are dynamically populated with an intrinsic boolean value. However, once this value is placed into the hidden input field it becomes a string.</p>
<p>The only way I could find to determine the field’s boolean value, once it was converted into a string, was to depend upon the literal value of its string representation.</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb338-1" title="1"><span class="kw">var</span> myValue <span class="op">=</span> <span class="va">document</span>.<span class="va">myForm</span>.<span class="va">IS_TRUE</span>.<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb338-2" title="2"><span class="kw">var</span> isTrueSet <span class="op">=</span> myValue <span class="op">==</span> <span class="st">&#39;true&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Is there a better way to accomplish this?</p>
</section>
<section id="answer-accepted-score-3095" class="level4">
<h4>Answer accepted (score 3095)</h4>
<h5>
Do:
</h1>
<div class="sourceCode" id="cb339"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb339-1" title="1"><span class="kw">var</span> isTrueSet <span class="op">=</span> (myValue <span class="op">==</span> <span class="st">&#39;true&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>You could make it stricter by using the identity operator (<code>===</code>), which doesn’t make any implicit type conversions when the compared variables have different types, instead of the equality operator (<code>==</code>).</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb340-1" title="1"><span class="kw">var</span> isTrueSet <span class="op">=</span> (myValue <span class="op">===</span> <span class="st">&#39;true&#39;</span>)<span class="op">;</span></a></code></pre></div>
<hr>
<h5>
Don’t:
</h2>
<p>You should probably <strong>be cautious about using these two methods</strong> for your specific needs:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb341-1" title="1"><span class="kw">var</span> myBool <span class="op">=</span> <span class="at">Boolean</span>(<span class="st">&quot;false&quot;</span>)<span class="op">;</span>  <span class="co">// == true</span></a>
<a class="sourceLine" id="cb341-2" title="2"></a>
<a class="sourceLine" id="cb341-3" title="3"><span class="kw">var</span> myBool <span class="op">=</span> <span class="op">!!</span><span class="st">&quot;false&quot;</span><span class="op">;</span>  <span class="co">// == true</span></a></code></pre></div>
<p>Any string which isn’t the empty string will evaluate to <code>true</code> by using them. Although they’re the cleanest methods I can think of concerning to boolean conversion, I think they’re not what you’re looking for.</p>
</section>
<section id="answer-2-score-635" class="level4">
<h4>Answer 2 (score 635)</h4>
<h5>
Warning
</h1>
<p>This highly upvoted legacy answer is technically correct but only covers a very specific scenario, when your string value is EXACTLY <code>&quot;true&quot;</code> or <code>&quot;false&quot;</code> (MUST be lowercase as well).</p>
<p>An invalid json string passed into these functions below <strong>WILL throw an exception</strong>.</p>
<hr>
<p><strong>Original answer:</strong></p>
<p>How about?</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb342-1" title="1"><span class="va">JSON</span>.<span class="at">parse</span>(<span class="st">&quot;true&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>or with jQuery</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb343-1" title="1"><span class="va">$</span>.<span class="at">parseJSON</span>(<span class="st">&quot;true&quot;</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-208-1" class="level4">
<h4>Answer 3 (score 208)</h4>
<div class="sourceCode" id="cb344"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb344-1" title="1">stringToBoolean<span class="op">:</span> <span class="kw">function</span>(string)<span class="op">{</span></a>
<a class="sourceLine" id="cb344-2" title="2">    <span class="cf">switch</span>(<span class="va">string</span>.<span class="at">toLowerCase</span>().<span class="at">trim</span>())<span class="op">{</span></a>
<a class="sourceLine" id="cb344-3" title="3">        <span class="cf">case</span> <span class="st">&quot;true&quot;</span><span class="op">:</span> <span class="cf">case</span> <span class="st">&quot;yes&quot;</span><span class="op">:</span> <span class="cf">case</span> <span class="st">&quot;1&quot;</span><span class="op">:</span> <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb344-4" title="4">        <span class="cf">case</span> <span class="st">&quot;false&quot;</span><span class="op">:</span> <span class="cf">case</span> <span class="st">&quot;no&quot;</span><span class="op">:</span> <span class="cf">case</span> <span class="st">&quot;0&quot;</span><span class="op">:</span> <span class="cf">case</span> <span class="dt">null</span><span class="op">:</span> <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb344-5" title="5">        <span class="cf">default</span><span class="op">:</span> <span class="cf">return</span> <span class="at">Boolean</span>(string)<span class="op">;</span></a>
<a class="sourceLine" id="cb344-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb344-7" title="7"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-if-checkbox-is-checked-with-jquery-score-1743815-in-2018" class="level3">
<h3>48: Check if checkbox is checked with jQuery (score <a href="https://stackoverflow.com/q/2204250.html">1743815</a> in 2018)</h3>
<section id="question-47" class="level4">
<h4>Question</h4>
<p>How can I check if a checkbox in a checkbox array is checked using the id of the checkbox array?</p>
<p>I am using the following code, but it always returns the count of checked checkboxes regardless of id.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb345-1" title="1"><span class="kw">function</span> <span class="at">isCheckedById</span>(id) <span class="op">{</span></a>
<a class="sourceLine" id="cb345-2" title="2">  <span class="at">alert</span>(id)<span class="op">;</span></a>
<a class="sourceLine" id="cb345-3" title="3">  <span class="kw">var</span> checked <span class="op">=</span> <span class="at">$</span>(<span class="st">&quot;input[@id=&quot;</span> <span class="op">+</span> id <span class="op">+</span> <span class="st">&quot;]:checked&quot;</span>).<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb345-4" title="4">  <span class="at">alert</span>(checked)<span class="op">;</span></a>
<a class="sourceLine" id="cb345-5" title="5"></a>
<a class="sourceLine" id="cb345-6" title="6">  <span class="cf">if</span> (checked <span class="op">==</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb345-7" title="7">    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb345-8" title="8">  <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb345-9" title="9">    <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb345-10" title="10">  <span class="op">}</span></a>
<a class="sourceLine" id="cb345-11" title="11"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-645" class="level4">
<h4>Answer accepted (score 645)</h4>
<p>IDs must be unique in your document, meaning that you <strong>shouldn’t</strong> do this:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb346-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;checkbox&quot;</span> name<span class="op">=</span><span class="st">&quot;chk[]&quot;</span> id<span class="op">=</span><span class="st">&quot;chk[]&quot;</span> value<span class="op">=</span><span class="st">&quot;Apples&quot;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb346-2" title="2"><span class="ss">&amp;lt;input type=&quot;checkbox&quot; name=&quot;chk</span><span class="sc">[]</span><span class="ss">&quot; id=&quot;chk</span><span class="sc">[]</span><span class="ss">&quot; value=&quot;Bananas&quot; /</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>Instead, drop the ID, and then select them by name, or by a containing element:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb347-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>fieldset id<span class="op">=</span><span class="st">&quot;checkArray&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb347-2" title="2">    <span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;checkbox&quot;</span> name<span class="op">=</span><span class="st">&quot;chk[]&quot;</span> value<span class="op">=</span><span class="st">&quot;Apples&quot;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb347-3" title="3"></a>
<a class="sourceLine" id="cb347-4" title="4"><span class="ss">    &amp;lt;input type=&quot;checkbox&quot; name=&quot;chk</span><span class="sc">[]</span><span class="ss">&quot; value=&quot;Bananas&quot; /</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb347-5" title="5"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/fieldset&amp;gt;</span></a></code></pre></div>
<p>And now the jQuery:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb348-1" title="1"><span class="kw">var</span> atLeastOneIsChecked <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;#checkArray:checkbox:checked&#39;</span>).<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb348-2" title="2"><span class="co">//there should be no space between identifier and selector</span></a>
<a class="sourceLine" id="cb348-3" title="3"></a>
<a class="sourceLine" id="cb348-4" title="4"><span class="co">// or, without the container:</span></a>
<a class="sourceLine" id="cb348-5" title="5"></a>
<a class="sourceLine" id="cb348-6" title="6"><span class="kw">var</span> atLeastOneIsChecked <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;input[name=&quot;chk[]&quot;]:checked&#39;</span>).<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span><span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-1923" class="level4">
<h4>Answer 2 (score 1923)</h4>
<div class="sourceCode" id="cb349"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb349-1" title="1"><span class="at">$</span>(<span class="st">&#39;#&#39;</span> <span class="op">+</span> id).<span class="at">is</span>(<span class="st">&quot;:checked&quot;</span>)</a></code></pre></div>
<p>That gets if the checkbox is checked.</p>
<p>For an array of checkboxes with the same name you can get the list of checked ones by:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb350-1" title="1"><span class="kw">var</span> $boxes <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;input[name=thename]:checked&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Then to loop through them and see what’s checked you can do:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb351-1" title="1"><span class="va">$boxes</span>.<span class="at">each</span>(<span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb351-2" title="2">    <span class="co">// Do stuff here with this</span></a>
<a class="sourceLine" id="cb351-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>To find how many are checked you can do:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb352-1" title="1"><span class="va">$boxes</span>.<span class="at">length</span><span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-283" class="level4">
<h4>Answer 3 (score 283)</h4>
<div class="sourceCode" id="cb353"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb353-1" title="1"><span class="at">$</span>(<span class="st">&#39;#checkbox&#39;</span>).<span class="at">is</span>(<span class="st">&#39;:checked&#39;</span>)<span class="op">;</span> </a></code></pre></div>
<p>The above code returns true if the checkbox is checked or false if not.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-correctly-clone-a-javascript-object-score-1734289-in-2018" class="level3">
<h3>49: How do I correctly clone a JavaScript object? (score <a href="https://stackoverflow.com/q/728360.html">1734289</a> in 2018)</h3>
<section id="question-48" class="level4">
<h4>Question</h4>
<p>I have an object, <code>x</code>. I’d like to copy it as object <code>y</code>, such that changes to <code>y</code> do not modify <code>x</code>. I realized that copying objects derived from built-in JavaScript objects will result in extra, unwanted properties. This isn’t a problem, since I’m copying one of my own, literal-constructed objects.</p>
<p>How do I correctly clone a JavaScript object?</p>
</section>
<section id="answer-accepted-score-1486" class="level4">
<h4>Answer accepted (score 1486)</h4>
<p>To do this for any object in JavaScript will not be simple or straightforward. You will run into the problem of erroneously picking up attributes from the object’s prototype that should be left in the prototype and not copied to the new instance. If, for instance, you are adding a <code>clone</code> method to <code>Object.prototype</code>, as some answers depict, you will need to explicitly skip that attribute. But what if there are other additional methods added to <code>Object.prototype</code>, or other intermediate prototypes, that you don’t know about? In that case, you will copy attributes you shouldn’t, so you need to detect unforeseen, non-local attributes with the <a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Object/hasOwnProperty" rel="noreferrer" title="Mozilla JavaScript Reference: Object.hasOwnProperty"><code>hasOwnProperty</code></a> method.</p>
<p>In addition to non-enumerable attributes, you’ll encounter a tougher problem when you try to copy objects that have hidden properties. For example, <code>prototype</code> is a hidden property of a function. Also, an object’s prototype is referenced with the attribute <code>__proto__</code>, which is also hidden, and will not be copied by a for/in loop iterating over the source object’s attributes. I think <code>__proto__</code> might be specific to Firefox’s JavaScript interpreter and it may be something different in other browsers, but you get the picture. Not everything is enumerable. You can copy a hidden attribute if you know its name, but I don’t know of any way to discover it automatically.</p>
<p>Yet another snag in the quest for an elegant solution is the problem of setting up the prototype inheritance correctly. If your source object’s prototype is <code>Object</code>, then simply creating a new general object with <code>{}</code> will work, but if the source’s prototype is some descendant of <code>Object</code>, then you are going to be missing the additional members from that prototype which you skipped using the <code>hasOwnProperty</code> filter, or which were in the prototype, but weren’t enumerable in the first place. One solution might be to call the source object’s <code>constructor</code> property to get the initial copy object and then copy over the attributes, but then you still will not get non-enumerable attributes. For example, a <a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date" rel="noreferrer" title="Mozilla JavaScript Reference: Date"><code>Date</code></a> object stores its data as a hidden member:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb354-1" title="1"><span class="kw">function</span> <span class="at">clone</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb354-2" title="2">    <span class="cf">if</span> (<span class="kw">null</span> <span class="op">==</span> obj <span class="op">||</span> <span class="st">&quot;object&quot;</span> <span class="op">!=</span> <span class="kw">typeof</span> obj) <span class="cf">return</span> obj<span class="op">;</span></a>
<a class="sourceLine" id="cb354-3" title="3">    <span class="kw">var</span> copy <span class="op">=</span> <span class="va">obj</span>.<span class="at">constructor</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb354-4" title="4">    <span class="cf">for</span> (<span class="kw">var</span> attr <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb354-5" title="5">        <span class="cf">if</span> (<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(attr)) copy[attr] <span class="op">=</span> obj[attr]<span class="op">;</span></a>
<a class="sourceLine" id="cb354-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb354-7" title="7">    <span class="cf">return</span> copy<span class="op">;</span></a>
<a class="sourceLine" id="cb354-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb354-9" title="9"></a>
<a class="sourceLine" id="cb354-10" title="10"><span class="kw">var</span> d1 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb354-11" title="11"></a>
<a class="sourceLine" id="cb354-12" title="12"><span class="co">/* Executes function after 5 seconds. */</span></a>
<a class="sourceLine" id="cb354-13" title="13"><span class="at">setTimeout</span>(<span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb354-14" title="14">    <span class="kw">var</span> d2 <span class="op">=</span> <span class="at">clone</span>(d1)<span class="op">;</span></a>
<a class="sourceLine" id="cb354-15" title="15">    <span class="at">alert</span>(<span class="st">&quot;d1 = &quot;</span> <span class="op">+</span> <span class="va">d1</span>.<span class="at">toString</span>() <span class="op">+</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">d2 = &quot;</span> <span class="op">+</span> <span class="va">d2</span>.<span class="at">toString</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb354-16" title="16"><span class="op">},</span> <span class="dv">5000</span>)<span class="op">;</span></a></code></pre></div>
<p>The date string for <code>d1</code> will be 5 seconds behind that of <code>d2</code>. A way to make one <code>Date</code> the same as another is by calling the <code>setTime</code> method, but that is specific to the <code>Date</code> class. I don’t think there is a bullet-proof general solution to this problem, though I would be happy to be wrong!</p>
<p>When I had to implement general deep copying I ended up compromising by assuming that I would only need to copy a plain <code>Object</code>, <code>Array</code>, <code>Date</code>, <code>String</code>, <code>Number</code>, or <code>Boolean</code>. The last 3 types are immutable, so I could perform a shallow copy and not worry about it changing. I further assumed that any elements contained in <code>Object</code> or <code>Array</code> would also be one of the 6 simple types in that list. This can be accomplished with code like the following:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb355-1" title="1"><span class="kw">function</span> <span class="at">clone</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb355-2" title="2">    <span class="kw">var</span> copy<span class="op">;</span></a>
<a class="sourceLine" id="cb355-3" title="3"></a>
<a class="sourceLine" id="cb355-4" title="4">    <span class="co">// Handle the 3 simple types, and null or undefined</span></a>
<a class="sourceLine" id="cb355-5" title="5">    <span class="cf">if</span> (<span class="kw">null</span> <span class="op">==</span> obj <span class="op">||</span> <span class="st">&quot;object&quot;</span> <span class="op">!=</span> <span class="kw">typeof</span> obj) <span class="cf">return</span> obj<span class="op">;</span></a>
<a class="sourceLine" id="cb355-6" title="6"></a>
<a class="sourceLine" id="cb355-7" title="7">    <span class="co">// Handle Date</span></a>
<a class="sourceLine" id="cb355-8" title="8">    <span class="cf">if</span> (obj <span class="kw">instanceof</span> Date) <span class="op">{</span></a>
<a class="sourceLine" id="cb355-9" title="9">        copy <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb355-10" title="10">        <span class="va">copy</span>.<span class="at">setTime</span>(<span class="va">obj</span>.<span class="at">getTime</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb355-11" title="11">        <span class="cf">return</span> copy<span class="op">;</span></a>
<a class="sourceLine" id="cb355-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb355-13" title="13"></a>
<a class="sourceLine" id="cb355-14" title="14">    <span class="co">// Handle Array</span></a>
<a class="sourceLine" id="cb355-15" title="15">    <span class="cf">if</span> (obj <span class="kw">instanceof</span> Array) <span class="op">{</span></a>
<a class="sourceLine" id="cb355-16" title="16">        copy <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb355-17" title="17">        <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> len <span class="op">=</span> <span class="va">obj</span>.<span class="at">length</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> len<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb355-18" title="18">            copy[i] <span class="op">=</span> <span class="at">clone</span>(obj[i])<span class="op">;</span></a>
<a class="sourceLine" id="cb355-19" title="19">        <span class="op">}</span></a>
<a class="sourceLine" id="cb355-20" title="20">        <span class="cf">return</span> copy<span class="op">;</span></a>
<a class="sourceLine" id="cb355-21" title="21">    <span class="op">}</span></a>
<a class="sourceLine" id="cb355-22" title="22"></a>
<a class="sourceLine" id="cb355-23" title="23">    <span class="co">// Handle Object</span></a>
<a class="sourceLine" id="cb355-24" title="24">    <span class="cf">if</span> (obj <span class="kw">instanceof</span> Object) <span class="op">{</span></a>
<a class="sourceLine" id="cb355-25" title="25">        copy <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb355-26" title="26">        <span class="cf">for</span> (<span class="kw">var</span> attr <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb355-27" title="27">            <span class="cf">if</span> (<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(attr)) copy[attr] <span class="op">=</span> <span class="at">clone</span>(obj[attr])<span class="op">;</span></a>
<a class="sourceLine" id="cb355-28" title="28">        <span class="op">}</span></a>
<a class="sourceLine" id="cb355-29" title="29">        <span class="cf">return</span> copy<span class="op">;</span></a>
<a class="sourceLine" id="cb355-30" title="30">    <span class="op">}</span></a>
<a class="sourceLine" id="cb355-31" title="31"></a>
<a class="sourceLine" id="cb355-32" title="32">    <span class="cf">throw</span> <span class="kw">new</span> <span class="at">Error</span>(<span class="st">&quot;Unable to copy obj! Its type isn&#39;t supported.&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb355-33" title="33"><span class="op">}</span></a></code></pre></div>
<p>The above function will work adequately for the 6 simple types I mentioned, as long as the data in the objects and arrays form a tree structure. That is, there isn’t more than one reference to the same data in the object. For example:</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb356-1" title="1"><span class="co">// This would be cloneable:</span></a>
<a class="sourceLine" id="cb356-2" title="2"><span class="kw">var</span> tree <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb356-3" title="3">    <span class="st">&quot;left&quot;</span>  <span class="op">:</span> <span class="op">{</span> <span class="st">&quot;left&quot;</span> <span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="st">&quot;right&quot;</span> <span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="st">&quot;data&quot;</span> <span class="op">:</span> <span class="dv">3</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb356-4" title="4">    <span class="st">&quot;right&quot;</span> <span class="op">:</span> <span class="kw">null</span><span class="op">,</span></a>
<a class="sourceLine" id="cb356-5" title="5">    <span class="st">&quot;data&quot;</span>  <span class="op">:</span> <span class="dv">8</span></a>
<a class="sourceLine" id="cb356-6" title="6"><span class="op">};</span></a>
<a class="sourceLine" id="cb356-7" title="7"></a>
<a class="sourceLine" id="cb356-8" title="8"><span class="co">// This would kind-of work, but you would get 2 copies of the </span></a>
<a class="sourceLine" id="cb356-9" title="9"><span class="co">// inner node instead of 2 references to the same copy</span></a>
<a class="sourceLine" id="cb356-10" title="10"><span class="kw">var</span> directedAcylicGraph <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb356-11" title="11">    <span class="st">&quot;left&quot;</span>  <span class="op">:</span> <span class="op">{</span> <span class="st">&quot;left&quot;</span> <span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="st">&quot;right&quot;</span> <span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="st">&quot;data&quot;</span> <span class="op">:</span> <span class="dv">3</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb356-12" title="12">    <span class="st">&quot;data&quot;</span>  <span class="op">:</span> <span class="dv">8</span></a>
<a class="sourceLine" id="cb356-13" title="13"><span class="op">};</span></a>
<a class="sourceLine" id="cb356-14" title="14">directedAcyclicGraph[<span class="st">&quot;right&quot;</span>] <span class="op">=</span> directedAcyclicGraph[<span class="st">&quot;left&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb356-15" title="15"></a>
<a class="sourceLine" id="cb356-16" title="16"><span class="co">// Cloning this would cause a stack overflow due to infinite recursion:</span></a>
<a class="sourceLine" id="cb356-17" title="17"><span class="kw">var</span> cyclicGraph <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb356-18" title="18">    <span class="st">&quot;left&quot;</span>  <span class="op">:</span> <span class="op">{</span> <span class="st">&quot;left&quot;</span> <span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="st">&quot;right&quot;</span> <span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="st">&quot;data&quot;</span> <span class="op">:</span> <span class="dv">3</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb356-19" title="19">    <span class="st">&quot;data&quot;</span>  <span class="op">:</span> <span class="dv">8</span></a>
<a class="sourceLine" id="cb356-20" title="20"><span class="op">};</span></a>
<a class="sourceLine" id="cb356-21" title="21">cyclicGraph[<span class="st">&quot;right&quot;</span>] <span class="op">=</span> cyclicGraph<span class="op">;</span></a></code></pre></div>
<p>It will not be able to handle any JavaScript object, but it may be sufficient for many purposes as long as you don’t assume that it will just work for anything you throw at it.</p>
</section>
<section id="answer-2-score-906" class="level4">
<h4>Answer 2 (score 906)</h4>
<p>If you do not use <code>Date</code>s, functions, undefined, or Infinity within your object, a very simple one liner is <code>JSON.parse(JSON.stringify(object))</code>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript const a = {   string: 'string',   number: 123,   bool: false,   nul: null,   date: new Date(),  // stringified   undef: undefined,  // lost   inf: Infinity,  // forced to 'null' } console.log(a); console.log(typeof a.date);  // Date object const clone = JSON.parse(JSON.stringify(a)); console.log(clone); console.log(typeof clone.date);  // result of .toISOString()</code></p>
</div>
</div>
<p>This works for all kind of objects containing objects, arrays, strings, booleans and numbers.</p>
<p>See also <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/The_structured_clone_algorithm" rel="noreferrer">this article about the structured clone algorithm of browsers</a> which is used when posting messages to and from a worker. It also contains a function for deep cloning.</p>
</section>
<section id="answer-3-score-763" class="level4">
<h4>Answer 3 (score 763)</h4>
<p>With jQuery, you can <strong>shallow copy</strong> with <a href="http://api.jquery.com/jQuery.extend" rel="noreferrer">extend</a>:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb357-1" title="1"><span class="kw">var</span> copiedObject <span class="op">=</span> <span class="va">jQuery</span>.<span class="at">extend</span>(<span class="op">{},</span> originalObject)</a></code></pre></div>
<p>subsequent changes to the <code>copiedObject</code> will not affect the <code>originalObject</code>, and vice versa.</p>
<p>Or to make a <strong>deep copy</strong>:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb358-1" title="1"><span class="kw">var</span> copiedObject <span class="op">=</span> <span class="va">jQuery</span>.<span class="at">extend</span>(<span class="kw">true</span><span class="op">,</span> <span class="op">{},</span> originalObject)</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="disable-same-origin-policy-in-chrome-score-1730961-in-2019" class="level3">
<h3>50: Disable same origin policy in Chrome (score <a href="https://stackoverflow.com/q/3102819.html">1730961</a> in 2019)</h3>
<section id="question-49" class="level4">
<h4>Question</h4>
<p>Is there any way to disable the <a href="https://en.wikipedia.org/wiki/Same_origin_policy" rel="noreferrer">Same-origin policy</a> on Google’s <a href="http://en.wikipedia.org/wiki/Google_Chrome" rel="noreferrer">Chrome</a> browser?</p>
</section>
<section id="answer-accepted-score-956" class="level4">
<h4>Answer accepted (score 956)</h4>
<p>Close chrome (or chromium) and restart with the <code>--disable-web-security</code> argument. I just tested this and verified that I can access the contents of an iframe with src=“http://google.com” embedded in a page served from “localhost” (tested under chromium 5 / ubuntu). For me the exact command was:</p>
<p><strong>Note : Kill all chrome instances before running command</strong></p>
<div class="sourceCode" id="cb359"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb359-1" title="1">chromium<span class="op">-</span>browser <span class="op">--</span>disable<span class="op">-</span>web<span class="op">-</span>security <span class="op">--</span>user<span class="op">-</span>data<span class="op">-</span>dir<span class="op">=</span><span class="st">&quot;[some directory here]&quot;</span></a></code></pre></div>
<p>The browser will warn you that “you are using an unsupported command line” when it first opens, which you can ignore.</p>
<p>From the chromium source:</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb360-1" title="1"><span class="co">// Don&#39;t enforce the same-origin policy. (Used by people testing their sites.)</span></a>
<a class="sourceLine" id="cb360-2" title="2"><span class="kw">const</span> wchar_t kDisableWebSecurity[] <span class="op">=</span> L<span class="st">&quot;disable-web-security&quot;</span><span class="op">;</span></a></code></pre></div>
<hr>
<p>Before Chrome 48, you could just use:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb361-1" title="1">chromium<span class="op">-</span>browser <span class="op">--</span>disable<span class="op">-</span>web<span class="op">-</span>security</a></code></pre></div>
</section>
<section id="answer-2-score-1039" class="level4">
<h4>Answer 2 (score 1039)</h4>
<p>Yep. For OSX, open Terminal and run:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb362-1" title="1">$ open <span class="op">-</span>a Google\ Chrome <span class="op">--</span>args <span class="op">--</span>disable<span class="op">-</span>web<span class="op">-</span>security <span class="op">--</span>user<span class="op">-</span>data<span class="op">-</span>dir</a></code></pre></div>
<p><a href="https://stackoverflow.com/a/35509189/773263">–user-data-dir required on Chrome 49+ on OSX</a></p>
<p>For Linux run:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb363-1" title="1">$ google<span class="op">-</span>chrome <span class="op">--</span>disable<span class="op">-</span>web<span class="op">-</span>security</a></code></pre></div>
<p>Also if you’re trying to access local files for dev purposes like AJAX or JSON, you can use this flag too.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb364-1" title="1"><span class="op">-</span>–allow<span class="op">-</span>file<span class="op">-</span>access<span class="op">-</span><span class="im">from</span><span class="op">-</span>files</a></code></pre></div>
<p>For Windows go into the command prompt and go into the folder where Chrome.exe is and type</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb365-1" title="1"><span class="va">chrome</span>.<span class="at">exe</span> <span class="op">--</span>disable<span class="op">-</span>web<span class="op">-</span>security</a></code></pre></div>
<p>That should disable the same origin policy and allow you to access local files.</p>
<p><strong>Update:</strong> For Chrome 22+ you will be presented with an error message that says:</p>
<blockquote>
You are using an unsupported command-line flag: –disable-web-security. Stability and security will suffer.
</blockquote>
<p>However you can just ignore that message while developing.</p>
</section>
<section id="answer-3-score-476" class="level4">
<h4>Answer 3 (score 476)</h4>
<p>For Windows users:</p>
<p>The problem with the solution accepted here, in my opinion is that if you already have Chrome open and try to run this it won’t work.</p>
<p>However, when researching this, I came across a post on Super User, <em><a href="https://superuser.com/questions/593726/is-it-possible-to-run-chrome-with-and-without-web-security-at-the-same-time">Is it possible to run Chrome with and without web security at the same time?</a></em>.</p>
<p>Basically, by running the following command (or creating a shortcut with it and opening Chrome through that)</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb366-1" title="1"><span class="va">chrome</span>.<span class="at">exe</span> <span class="op">--</span>user<span class="op">-</span>data<span class="op">-</span>dir<span class="op">=</span><span class="st">&quot;C:/Chrome dev session&quot;</span> <span class="op">--</span>disable<span class="op">-</span>web<span class="op">-</span>security</a></code></pre></div>
<p>
you can open a new “insecure” instance of Chrome at the same time as you keep your other “secure” browser instances open and working as normal. <em>Important</em>: delete/clear <code>C:/Chrome dev session</code> folder every time when you open a window as second time <code>--disable-web-security</code> is not going to work. So you cannot save your changes and then open it again as a second insecure instance of Chrome with <code>--disable-web-security</code>.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-does-javascriptvoid0-mean-score-1723008-in-2017" class="level3">
<h3>51: What does “javascript:void(0)” mean? (score <a href="https://stackoverflow.com/q/1291942.html">1723008</a> in 2017)</h3>
<section id="question-50" class="level4">
<h4>Question</h4>
<div class="sourceCode" id="cb367"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb367-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>a href<span class="op">=</span><span class="st">&quot;javascript:void(0)&quot;</span> id<span class="op">=</span><span class="st">&quot;loginlink&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>login<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;</span></a></code></pre></div>
<p>I’ve seen such <code>href</code>s many times, but I don’t know what exactly that means.</p>
</section>
<section id="answer-accepted-score-963" class="level4">
<h4>Answer accepted (score 963)</h4>
<blockquote>
<p>
The <code>void</code> operator evaluates the given expression and then returns <code>undefined</code>.
</p>
<p>
The <code>void</code> operator is often used merely to obtain the <code>undefined</code> primitive value, usually using “<code>void(0)</code>” (which is equivalent to “<code>void 0</code>”). In these cases, the global variable <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/undefined" rel="noreferrer"><code>undefined</code></a> can be used instead (assuming it has not been assigned to a non-default value).
</p>
</blockquote>
<p>An explanation is provided here: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void" rel="noreferrer"><code>void</code> operator</a>.</p>
<p>The reason you’d want to do this with the <code>href</code> of a link is that normally, a <code>javascript:</code> URL will redirect the browser to a plain text version of the result of evaluating that JavaScript. But if the result is <code>undefined</code>, then the browser stays on the same page. <code>void(0)</code> is just a short and simple script that evaluates to <code>undefined</code>.</p>
</section>
<section id="answer-2-score-419" class="level4">
<h4>Answer 2 (score 419)</h4>
<p>In addition to the technical answer, <code>javascript:void</code> means the author is Doing It Wrong.</p>
<p>There is no good reason to use a <code>javascript:</code> pseudo-URL(*). In practice it will cause confusion or errors should anyone try things like ‘bookmark link’, ‘open link in a new tab’, and so on. This happens quite a lot now people have got used to middle-click-for-new-tab: it looks like a link, you want to read it in a new tab, but it turns out to be not a real link at all, and gives unwanted results like a blank page or a JS error when middle-clicked.</p>
<p><code>&amp;lt;a href=&quot;#&quot;&amp;gt;</code> is a common alternative which might arguably be less bad. However you must remember to <code>return false</code> from your <code>onclick</code> event handler to prevent the link being followed and scrolling up to the top of the page.</p>
<p>In some cases there may be an actual useful place to point the link to. For example if you have a control you can click on that opens up a previously-hidden <code>&amp;lt;div id=&quot;foo&quot;&amp;gt;</code>, it makes some sense to use <code>&amp;lt;a href=&quot;#foo&quot;&amp;gt;</code> to link to it. Or if there is a non-JavaScript way of doing the same thing (for example, ‘thispage.php?show=foo’ that sets foo visible to begin with), you can link to that.</p>
<p>Otherwise, if a link points only to some script, it is not really a link and should not be marked up as such. The usual approach would be to add the <code>onclick</code> to a <code>&amp;lt;span&amp;gt;</code>, <code>&amp;lt;div&amp;gt;</code>, or an <code>&amp;lt;a&amp;gt;</code> without an <code>href</code> and style it in some way to make it clear you can click on it. This is what StackOverflow [did at the time of writing; now it uses <code>href=&quot;#&quot;</code>].</p>
<p>The disadvantage of this is that you lose keyboard control, since you can’t tab onto a span/div/bare-a or activate it with space. Whether this is actually a disadvantage depends on what sort of action the element is intended to take. You can, with some effort, attempt to mimic the keyboard interactability by adding a <code>tabIndex</code> to the element, and listening for a Space keypress. But it’s never going to 100% reproduce the real browser behaviour, not least because different browsers can respond to the keyboard differently (not to mention non-visual browsers).</p>
<p>If you really want an element that isn’t a link but which can be activated as normal by mouse or keyboard, what you want is a <code>&amp;lt;button type=&quot;button&quot;&amp;gt;</code> (or <code>&amp;lt;input type=&quot;button&quot;&amp;gt;</code> is just as good, for simple textual contents). You can always use CSS to restyle it so it looks more like a link than a button, if you want. But since it behaves like a button, that’s how really you should mark it up.</p>
<p>(*: in site authoring, anyway. Obviously they are useful for bookmarklets. <code>javascript:</code> pseudo-URLs are a conceptual bizarreness: a locator that doesn’t point to a location, but instead calls active code inside the current location. They have caused massive security problems for both browsers and webapps, and should never have been invented by Netscape.)</p>
</section>
<section id="answer-3-score-121" class="level4">
<h4>Answer 3 (score 121)</h4>
<p>It means it’ll do nothing. It’s an attempt to have the link not ‘navigate’ anywhere. But it’s not the right way.</p>
<p>You should actually just <code>return false</code> in the <code>onclick</code> event, like so:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb368-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>a href<span class="op">=</span><span class="st">&quot;#&quot;</span> onclick<span class="op">=</span><span class="st">&quot;return false;&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>hello<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;</span></a></code></pre></div>
<p>Typically it’s used if the link is doing some ‘JavaScript-y’ thing. Like posting an AJAX form, or swapping an image, or whatever. In that case you just make whatever function is being called return <code>false</code>.</p>
<p>To make your website completely awesome, however, generally you’ll include a link that does the same action, if the person browsing it chooses not to run JavaScript.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb369-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>a href<span class="op">=</span><span class="st">&quot;backup_page_displaying_image.aspx&quot;</span></a>
<a class="sourceLine" id="cb369-2" title="2">   onclick<span class="op">=</span><span class="st">&quot;return coolImageDisplayFunction();&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>hello<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="which-equals-operator-vs-should-be-used-in-javascript-comparisons-score-1695940-in-2017" class="level3">
<h3>52: Which equals operator (== vs ===) should be used in JavaScript comparisons? (score <a href="https://stackoverflow.com/q/359494.html">1695940</a> in 2017)</h3>
<section id="question-51" class="level4">
<h4>Question</h4>
<p>I’m using <a href="http://en.wikipedia.org/wiki/JSLint" rel="noreferrer">JSLint</a> to go through JavaScript, and it’s returning many suggestions to replace <code>==</code> (two equals signs) with <code>===</code> (three equals signs) when doing things like comparing <code>idSele_UNVEHtype.value.length == 0</code> inside of an <code>if</code> statement.</p>
<p>Is there a performance benefit to replacing <code>==</code> with <code>===</code>?</p>
<p>Any performance improvement would be welcomed as many comparison operators exist.</p>
<p>If no type conversion takes place, would there be a performance gain over <code>==</code>?</p>
</section>
<section id="answer-accepted-score-6298" class="level4">
<h4>Answer accepted (score 6298)</h4>
<p>The identity (<code>===</code>) operator behaves identically to the equality (<code>==</code>) operator except no type conversion is done, and the types must be the same to be considered equal.</p>
<p>Reference: <a href="http://www.c-point.com/javascript_tutorial/jsgrpComparison.htm" rel="noreferrer">Javascript Tutorial: Comparison Operators</a></p>
<p>The <code>==</code> operator will compare for equality <em>after doing any necessary type conversions</em>. The <code>===</code> operator will <strong>not</strong> do the conversion, so if two values are not the same type <code>===</code> will simply return <code>false</code>. Both are equally quick.</p>
<p>To quote Douglas Crockford’s excellent <a href="https://rads.stackoverflow.com/amzn/click/com/0596517742" rel="noreferrer" rel="nofollow noreferrer">JavaScript: The Good Parts</a>,</p>
<blockquote>
<p>JavaScript has two sets of equality operators: <code>===</code> and <code>!==</code>, and their evil twins <code>==</code> and <code>!=</code>. The good ones work the way you would expect. If the two operands are of the same type and have the same value, then <code>===</code> produces <code>true</code> and <code>!==</code> produces <code>false</code>. The evil twins do the right thing when the operands are of the same type, but if they are of different types, they attempt to coerce the values. the rules by which they do that are complicated and unmemorable. These are some of the interesting cases:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb370-1" title="1"><span class="st">&#39;&#39;</span> <span class="op">==</span> <span class="st">&#39;0&#39;</span>           <span class="co">// false</span></a>
<a class="sourceLine" id="cb370-2" title="2"><span class="dv">0</span> <span class="op">==</span> <span class="st">&#39;&#39;</span>             <span class="co">// true</span></a>
<a class="sourceLine" id="cb370-3" title="3"><span class="dv">0</span> <span class="op">==</span> <span class="st">&#39;0&#39;</span>            <span class="co">// true</span></a>
<a class="sourceLine" id="cb370-4" title="4"></a>
<a class="sourceLine" id="cb370-5" title="5"><span class="kw">false</span> <span class="op">==</span> <span class="st">&#39;false&#39;</span>    <span class="co">// false</span></a>
<a class="sourceLine" id="cb370-6" title="6"><span class="kw">false</span> <span class="op">==</span> <span class="st">&#39;0&#39;</span>        <span class="co">// true</span></a>
<a class="sourceLine" id="cb370-7" title="7"></a>
<a class="sourceLine" id="cb370-8" title="8"><span class="kw">false</span> <span class="op">==</span> <span class="kw">undefined</span>  <span class="co">// false</span></a>
<a class="sourceLine" id="cb370-9" title="9"><span class="kw">false</span> <span class="op">==</span> <span class="kw">null</span>       <span class="co">// false</span></a>
<a class="sourceLine" id="cb370-10" title="10"><span class="kw">null</span> <span class="op">==</span> <span class="kw">undefined</span>   <span class="co">// true</span></a>
<a class="sourceLine" id="cb370-11" title="11"></a>
<a class="sourceLine" id="cb370-12" title="12"><span class="st">&#39; </span><span class="sc">\t\r\n</span><span class="st"> &#39;</span> <span class="op">==</span> <span class="dv">0</span>     <span class="co">// true</span></a></code></pre></div>
The lack of transitivity is alarming. My advice is to never use the evil twins. Instead, always use <code>===</code> and <code>!==</code>. All of the comparisons just shown produce <code>false</code> with the <code>===</code> operator.
</blockquote>
<hr>
<h5>
Update:
</h3>
<p>A good point was brought up by <a href="https://stackoverflow.com/users/165495/casebash"><span class="citation" data-cites="Casebash">@Casebash</span></a> in the comments and in <a href="https://stackoverflow.com/users/113570/philippe-leybaert"><span class="citation" data-cites="Phillipe">@Phillipe</span> Laybaert’s</a> <a href="https://stackoverflow.com/a/957602/1288">answer</a> concerning reference types. For reference types <code>==</code> and <code>===</code> act consistently with one another (except in a special case).</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb371-1" title="1"><span class="kw">var</span> a <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb371-2" title="2"><span class="kw">var</span> b <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb371-3" title="3"></a>
<a class="sourceLine" id="cb371-4" title="4"><span class="kw">var</span> c <span class="op">=</span> <span class="op">{</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb371-5" title="5"><span class="kw">var</span> d <span class="op">=</span> <span class="op">{</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">2</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb371-6" title="6"></a>
<a class="sourceLine" id="cb371-7" title="7"><span class="kw">var</span> e <span class="op">=</span> <span class="st">&quot;text&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb371-8" title="8"><span class="kw">var</span> f <span class="op">=</span> <span class="st">&quot;te&quot;</span> <span class="op">+</span> <span class="st">&quot;xt&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb371-9" title="9"></a>
<a class="sourceLine" id="cb371-10" title="10">a <span class="op">==</span> b            <span class="co">// false</span></a>
<a class="sourceLine" id="cb371-11" title="11">a <span class="op">===</span> b           <span class="co">// false</span></a>
<a class="sourceLine" id="cb371-12" title="12"></a>
<a class="sourceLine" id="cb371-13" title="13">c <span class="op">==</span> d            <span class="co">// false</span></a>
<a class="sourceLine" id="cb371-14" title="14">c <span class="op">===</span> d           <span class="co">// false</span></a>
<a class="sourceLine" id="cb371-15" title="15"></a>
<a class="sourceLine" id="cb371-16" title="16">e <span class="op">==</span> f            <span class="co">// true</span></a>
<a class="sourceLine" id="cb371-17" title="17">e <span class="op">===</span> f           <span class="co">// true</span></a></code></pre></div>
<p>The special case is when you compare a literal with an object that evaluates to the same literal, due to its <code>toString</code> or <code>valueOf</code> method. For example, consider the comparison of a string literal with a string object created by the <code>String</code> constructor.</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb372-1" title="1"><span class="st">&quot;abc&quot;</span> <span class="op">==</span> <span class="kw">new</span> <span class="at">String</span>(<span class="st">&quot;abc&quot;</span>)    <span class="co">// true</span></a>
<a class="sourceLine" id="cb372-2" title="2"><span class="st">&quot;abc&quot;</span> <span class="op">===</span> <span class="kw">new</span> <span class="at">String</span>(<span class="st">&quot;abc&quot;</span>)   <span class="co">// false</span></a></code></pre></div>
<p>Here the <code>==</code> operator is checking the values of the two objects and returning <code>true</code>, but the <code>===</code> is seeing that they’re not the same type and returning <code>false</code>. Which one is correct? That really depends on what you’re trying to compare. My advice is to bypass the question entirely and just don’t use the <code>String</code> constructor to create string objects.</p>
<p>
<strong>Reference</strong><br> <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3" rel="noreferrer">http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3</a>
</p>
</section>
<section id="answer-2-score-1102" class="level4">
<h4>Answer 2 (score 1102)</h4>
<p>Using the <code>==</code> operator (<em>Equality</em>)</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb373-1" title="1"><span class="kw">true</span> <span class="op">==</span> <span class="dv">1</span><span class="op">;</span> <span class="co">//true, because &#39;true&#39; is converted to 1 and then compared</span></a>
<a class="sourceLine" id="cb373-2" title="2"><span class="st">&quot;2&quot;</span> <span class="op">==</span> <span class="dv">2</span><span class="op">;</span>  <span class="co">//true, because &quot;2&quot; is converted to 2 and then compared</span></a></code></pre></div>
<p>Using the <code>===</code> operator (<em>Identity</em>)</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb374-1" title="1"><span class="kw">true</span> <span class="op">===</span> <span class="dv">1</span><span class="op">;</span> <span class="co">//false</span></a>
<a class="sourceLine" id="cb374-2" title="2"><span class="st">&quot;2&quot;</span> <span class="op">===</span> <span class="dv">2</span><span class="op">;</span>  <span class="co">//false</span></a></code></pre></div>
<p>This is because the <strong>equality operator <code>==</code> does type coercion</strong>, meaning that the interpreter implicitly tries to convert the values before comparing.</p>
<p>On the other hand, the <strong>identity operator <code>===</code> does not do type coercion</strong>, and thus does not convert the values when comparing, and is therefore faster (as according to <a href="http://jsben.ch/JUOm2" rel="noreferrer">This JS benchmark</a> test) as it skips one step.</p>
</section>
<section id="answer-3-score-677" class="level4">
<h4>Answer 3 (score 677)</h4>
<p>An interesting pictorial representation of the equality comparison between <code>==</code> and <code>===</code>.</p>
<p><strong>Source: <a href="http://dorey.github.io/JavaScript-Equality-Table/" rel="noreferrer">http://dorey.github.io/JavaScript-Equality-Table/</a></strong></p>
<hr>
<h5>
<code>var1 === var2</code>
</h1>
<blockquote>
<strong><em>When using <code>===</code> for JavaScript equality testing, everything is as is. Nothing gets converted before being evaluated.</em></strong>
</blockquote>
<p><img src="https://i.stack.imgur.com/62vxI.png" alt="Equality evaluation of === in JS"></p>
<hr>
<h5>
<code>var1 == var2</code>
</h1>
<blockquote>
<p>
<strong><em>When using <code>==</code> for JavaScript equality testing, some funky conversions take place.</em></strong>
</p>
</blockquote>
<p><img src="https://i.stack.imgur.com/35MpY.png" alt="Equality evaluation of == in JS"></p>
<blockquote>
<p><strong><em>Moral of the story:</em></strong></p>
<p>
<strong><em>Use <code>===</code> unless you fully understand the conversions that take place with <code>==</code>.</em></strong>
</p>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-format-numbers-as-currency-string-in-javascript-score-1687668-in-2019" class="level3">
<h3>53: How can I format numbers as currency string in JavaScript? (score <a href="https://stackoverflow.com/q/149055.html">1687668</a> in 2019)</h3>
<section id="question-52" class="level4">
<h4>Question</h4>
<p>
I would like to format a price in JavaScript.<br> I’d like a function which takes a <code>float</code> as an argument and returns a <code>string</code> formatted like this:
</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb375-1" title="1"><span class="st">&quot;$ 2,500.00&quot;</span></a></code></pre></div>
<p>What’s the best way to do this?</p>
</section>
<section id="answer-accepted-score-27" class="level4">
<h4>Answer accepted (score 27)</h4>
<p>Ok, based on what you said, i’m using this:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb376-1" title="1"><span class="kw">var</span> DecimalSeparator <span class="op">=</span> <span class="at">Number</span>(<span class="st">&quot;1.2&quot;</span>).<span class="at">toLocaleString</span>().<span class="at">substr</span>(<span class="dv">1</span><span class="op">,</span><span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb376-2" title="2"></a>
<a class="sourceLine" id="cb376-3" title="3"><span class="kw">var</span> AmountWithCommas <span class="op">=</span> <span class="va">Amount</span>.<span class="at">toLocaleString</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb376-4" title="4"><span class="kw">var</span> arParts <span class="op">=</span> <span class="at">String</span>(AmountWithCommas).<span class="at">split</span>(DecimalSeparator)<span class="op">;</span></a>
<a class="sourceLine" id="cb376-5" title="5"><span class="kw">var</span> intPart <span class="op">=</span> arParts[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb376-6" title="6"><span class="kw">var</span> decPart <span class="op">=</span> (<span class="va">arParts</span>.<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">1</span> <span class="op">?</span> arParts[<span class="dv">1</span>] : <span class="st">&#39;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb376-7" title="7">decPart <span class="op">=</span> (decPart <span class="op">+</span> <span class="st">&#39;00&#39;</span>).<span class="at">substr</span>(<span class="dv">0</span><span class="op">,</span><span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb376-8" title="8"></a>
<a class="sourceLine" id="cb376-9" title="9"><span class="cf">return</span> <span class="st">&#39;£ &#39;</span> <span class="op">+</span> intPart <span class="op">+</span> DecimalSeparator <span class="op">+</span> decPart<span class="op">;</span></a></code></pre></div>
<p>
I’m open to improvement suggestions (i’d prefer not to include YUI just to do this :-) ) I already know I should be detecting the “.” instead of just using it as the decimal separator…
</p>
</section>
<section id="answer-2-score-1716" class="level4">
<h4>Answer 2 (score 1716)</h4>
<h5>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed" rel="noreferrer">Number.prototype.toFixed</a>
</h2>
<p>This solution is compatible with every single major browser:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb377-1" title="1">  <span class="kw">const</span> profits <span class="op">=</span> <span class="fl">2489.8237</span><span class="op">;</span></a>
<a class="sourceLine" id="cb377-2" title="2"></a>
<a class="sourceLine" id="cb377-3" title="3">  <span class="va">profits</span>.<span class="at">toFixed</span>(<span class="dv">3</span>) <span class="co">//returns 2489.824 (rounds up)</span></a>
<a class="sourceLine" id="cb377-4" title="4">  <span class="va">profits</span>.<span class="at">toFixed</span>(<span class="dv">2</span>) <span class="co">//returns 2489.82</span></a>
<a class="sourceLine" id="cb377-5" title="5">  <span class="va">profits</span>.<span class="at">toFixed</span>(<span class="dv">7</span>) <span class="co">//returns 2489.8237000 (pads the decimals)</span></a></code></pre></div>
<p>All you need is to add the currency symbol (e.g. <code>&quot;$&quot; + profits.toFixed(2)</code>) and you will have your amount in dollars.</p>
<h5>
Custom function
</h2>
<p>If you require the use of <code>,</code> between each digit, you can use this function:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="false" data-babel="false">
<div class="snippet-code">
<p>```javascript function formatMoney(number, decPlaces, decSep, thouSep) { decPlaces = isNaN(decPlaces = Math.abs(decPlaces)) ? 2 : decPlaces, decSep = typeof decSep === “undefined” ? “.” : decSep; thouSep = typeof thouSep === “undefined” ? “,” : thouSep; var sign = number &lt; 0 ? “-” : &quot;&quot;; var i = String(parseInt(number = Math.abs(Number(number) || 0).toFixed(decPlaces))); var j = (j = i.length) &gt; 3 ? j % 3 : 0;</p>
<p>return sign +</p>
<pre><code>(j ? i.substr(0, j) + thouSep : &quot;&quot;) +
i.substr(j).replace(/(\decSep{3})(?=\decSep)/g, &quot;$1&quot; + thouSep) +
(decPlaces ? decSep + Math.abs(number - i).toFixed(decPlaces).slice(2) : &quot;&quot;);</code></pre>
<p>}</p>
<p>document.getElementById(“b”).addEventListener(“click”, event =&gt; { document.getElementById(“x”).innerText = “Result was:” + formatMoney(document.getElementById(“d”).value); });<code></code>javascript &lt;label&gt;Insert your amount: &lt;input id=“d” type=“text” placeholder=“Cash amount” /&gt;&lt;/label&gt; &lt;br /&gt; &lt;button id=“b”&gt;Get Output&lt;/button&gt; &lt;p id=“x”&gt;(press button to get output)&lt;/p&gt;```</p>
</div>
</div>
<p>Use it like so:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb379-1" title="1">(<span class="fl">123456789.12345</span>).<span class="at">formatMoney</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">&quot;.&quot;</span><span class="op">,</span> <span class="st">&quot;,&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>If you’re always going to use ‘.’ and ‘,’, you can leave them off your method call, and the method will default them for you.</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb380-1" title="1">(<span class="fl">123456789.12345</span>).<span class="at">formatMoney</span>(<span class="dv">2</span>)<span class="op">;</span></a></code></pre></div>
<p>If your culture has the two symbols flipped (i.e. Europeans) and you would like to use the defaults, just paste over the following two lines in the <code>formatMoney</code> method:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb381-1" title="1">    d <span class="op">=</span> d <span class="op">==</span> <span class="kw">undefined</span> <span class="op">?</span> <span class="st">&quot;,&quot;</span> : d<span class="op">,</span> </a>
<a class="sourceLine" id="cb381-2" title="2">    t <span class="op">=</span> t <span class="op">==</span> <span class="kw">undefined</span> <span class="op">?</span> <span class="st">&quot;.&quot;</span> : t<span class="op">,</span> </a></code></pre></div>
<h5>
Custom function (ES6)
</h2>
<p>If you can use modern ECMAScript syntax (i.e. through Babel), you can use this simpler function instead:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function formatMoney(amount, decimalCount = 2, decimal = “.”, thousands = “,”) { try { decimalCount = Math.abs(decimalCount); decimalCount = isNaN(decimalCount) ? 2 : decimalCount;</p>
<pre><code>const negativeSign = amount &amp;lt; 0 ? &quot;-&quot; : &quot;&quot;;

let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();
let j = (i.length &amp;gt; 3) ? i.length % 3 : 0;

return negativeSign + (j ? i.substr(0, j) + thousands : &#39;&#39;) + i.substr(j).replace(/(\d{3})(?=\d)/g, &quot;$1&quot; + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : &quot;&quot;);</code></pre>
<p>} catch (e) { console.log(e) } }; document.getElementById(“b”).addEventListener(“click”, event =&gt; { document.getElementById(“x”).innerText = “Result was:” + formatMoney(document.getElementById(“d”).value); });<code></code>javascript &lt;label&gt;Insert your amount: &lt;input id=“d” type=“text” placeholder=“Cash amount” /&gt;&lt;/label&gt; &lt;br /&gt; &lt;button id=“b”&gt;Get Output&lt;/button&gt; &lt;p id=“x”&gt;(press button to get output)&lt;/p&gt;```</p>
</div>
</div>
</section>
<section id="answer-3-score-1253" class="level4">
<h4>Answer 3 (score 1253)</h4>
<h5>
Short and fast solution (works everywhere!)
</h2>
<div class="sourceCode" id="cb383"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb383-1" title="1">(<span class="fl">12345.67</span>).<span class="at">toFixed</span>(<span class="dv">2</span>).<span class="at">replace</span>(<span class="ss">/</span><span class="sc">\d(?</span><span class="ss">=</span><span class="sc">(\d{3})+\.)</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39;$&amp;amp;,&#39;</span>)<span class="op">;</span>  <span class="co">// 12,345.67</span></a></code></pre></div>
<p>The idea behind this solution is replacing matched sections with first match and comma, i.e. <code>'$&amp;amp;,'</code>. The matching is done using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#special-lookahead" rel="noreferrer">lookahead approach</a>. You may read the expression as <em>“match a number if it is followed by a sequence of three number sets (one or more) and a dot”</em>.</p>
<p><strong>TESTS:</strong></p>
<div class="sourceCode" id="cb384"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb384-1" title="1"><span class="dv">1</span>        <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;1.00&quot;</span></a>
<a class="sourceLine" id="cb384-2" title="2"><span class="dv">12</span>       <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;12.00&quot;</span></a>
<a class="sourceLine" id="cb384-3" title="3"><span class="dv">123</span>      <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;123.00&quot;</span></a>
<a class="sourceLine" id="cb384-4" title="4"><span class="dv">1234</span>     <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;1,234.00&quot;</span></a>
<a class="sourceLine" id="cb384-5" title="5"><span class="dv">12345</span>    <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;12,345.00&quot;</span></a>
<a class="sourceLine" id="cb384-6" title="6"><span class="dv">123456</span>   <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;123,456.00&quot;</span></a>
<a class="sourceLine" id="cb384-7" title="7"><span class="dv">1234567</span>  <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;1,234,567.00&quot;</span></a>
<a class="sourceLine" id="cb384-8" title="8"><span class="fl">12345.67</span> <span class="op">--&amp;</span>gt<span class="op">;</span> <span class="st">&quot;12,345.67&quot;</span></a></code></pre></div>
<p><strong>DEMO:</strong> <a href="http://jsfiddle.net/hAfMM/9571/" rel="noreferrer">http://jsfiddle.net/hAfMM/9571/</a></p>
<hr>
<h5>
Extended short solution
</h2>
<p>You can also extend the prototype of <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Number" rel="noreferrer"><code>Number</code></a> object to add additional support of any number of decimals <code>[0 .. n]</code> and the size of number groups <code>[0 .. x]</code>:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb385-1" title="1"><span class="co">/**</span></a>
<a class="sourceLine" id="cb385-2" title="2"><span class="co"> * Number.prototype.format(n, x)</span></a>
<a class="sourceLine" id="cb385-3" title="3"><span class="co"> * </span></a>
<a class="sourceLine" id="cb385-4" title="4"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">integer</span><span class="co"> n: length of decimal</span></a>
<a class="sourceLine" id="cb385-5" title="5"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">integer</span><span class="co"> x: length of sections</span></a>
<a class="sourceLine" id="cb385-6" title="6"><span class="co"> */</span></a>
<a class="sourceLine" id="cb385-7" title="7"><span class="va">Number</span>.<span class="va">prototype</span>.<span class="at">format</span> <span class="op">=</span> <span class="kw">function</span>(n<span class="op">,</span> x) <span class="op">{</span></a>
<a class="sourceLine" id="cb385-8" title="8">    <span class="kw">var</span> re <span class="op">=</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">d(?=(</span><span class="sc">\\</span><span class="st">d{&#39;</span> <span class="op">+</span> (x <span class="op">||</span> <span class="dv">3</span>) <span class="op">+</span> <span class="st">&#39;})+&#39;</span> <span class="op">+</span> (n <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">.&#39;</span> : <span class="st">&#39;$&#39;</span>) <span class="op">+</span> <span class="st">&#39;)&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb385-9" title="9">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">toFixed</span>(<span class="va">Math</span>.<span class="at">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="op">~~</span>n)).<span class="at">replace</span>(<span class="kw">new</span> <span class="at">RegExp</span>(re<span class="op">,</span> <span class="st">&#39;g&#39;</span>)<span class="op">,</span> <span class="st">&#39;$&amp;amp;,&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb385-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb385-11" title="11"></a>
<a class="sourceLine" id="cb385-12" title="12"><span class="dv">1234</span>..<span class="at">format</span>()<span class="op">;</span>           <span class="co">// &quot;1,234&quot;</span></a>
<a class="sourceLine" id="cb385-13" title="13"><span class="dv">12345</span>..<span class="at">format</span>(<span class="dv">2</span>)<span class="op">;</span>         <span class="co">// &quot;12,345.00&quot;</span></a>
<a class="sourceLine" id="cb385-14" title="14"><span class="dv">123456</span>.<span class="fl">7.</span><span class="at">format</span>(<span class="dv">3</span><span class="op">,</span> <span class="dv">2</span>)<span class="op">;</span>    <span class="co">// &quot;12,34,56.700&quot;</span></a>
<a class="sourceLine" id="cb385-15" title="15"><span class="dv">123456</span>.<span class="fl">789.</span><span class="at">format</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">4</span>)<span class="op">;</span>  <span class="co">// &quot;12,3456.79&quot;</span></a></code></pre></div>
<p><strong>DEMO / TESTS:</strong> <a href="http://jsfiddle.net/hAfMM/435/" rel="noreferrer">http://jsfiddle.net/hAfMM/435/</a></p>
<hr>
<h5>
Super extended short solution
</h2>
<p>In this <a href="https://stackoverflow.com/questions/149055/how-can-i-format-numbers-as-money-in-javascript/14428340#comment34151293_14428340">super extended version</a> you may set different delimiter types:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb386-1" title="1"><span class="co">/**</span></a>
<a class="sourceLine" id="cb386-2" title="2"><span class="co"> * Number.prototype.format(n, x, s, c)</span></a>
<a class="sourceLine" id="cb386-3" title="3"><span class="co"> * </span></a>
<a class="sourceLine" id="cb386-4" title="4"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">integer</span><span class="co"> n: length of decimal</span></a>
<a class="sourceLine" id="cb386-5" title="5"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">integer</span><span class="co"> x: length of whole part</span></a>
<a class="sourceLine" id="cb386-6" title="6"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">mixed</span><span class="co">   s: sections delimiter</span></a>
<a class="sourceLine" id="cb386-7" title="7"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">mixed</span><span class="co">   c: decimal delimiter</span></a>
<a class="sourceLine" id="cb386-8" title="8"><span class="co"> */</span></a>
<a class="sourceLine" id="cb386-9" title="9"><span class="va">Number</span>.<span class="va">prototype</span>.<span class="at">format</span> <span class="op">=</span> <span class="kw">function</span>(n<span class="op">,</span> x<span class="op">,</span> s<span class="op">,</span> c) <span class="op">{</span></a>
<a class="sourceLine" id="cb386-10" title="10">    <span class="kw">var</span> re <span class="op">=</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">d(?=(</span><span class="sc">\\</span><span class="st">d{&#39;</span> <span class="op">+</span> (x <span class="op">||</span> <span class="dv">3</span>) <span class="op">+</span> <span class="st">&#39;})+&#39;</span> <span class="op">+</span> (n <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">&#39;</span><span class="sc">\\</span><span class="st">D&#39;</span> : <span class="st">&#39;$&#39;</span>) <span class="op">+</span> <span class="st">&#39;)&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb386-11" title="11">        num <span class="op">=</span> <span class="kw">this</span>.<span class="at">toFixed</span>(<span class="va">Math</span>.<span class="at">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="op">~~</span>n))<span class="op">;</span></a>
<a class="sourceLine" id="cb386-12" title="12"></a>
<a class="sourceLine" id="cb386-13" title="13">    <span class="cf">return</span> (c <span class="op">?</span> <span class="va">num</span>.<span class="at">replace</span>(<span class="st">&#39;.&#39;</span><span class="op">,</span> c) : num).<span class="at">replace</span>(<span class="kw">new</span> <span class="at">RegExp</span>(re<span class="op">,</span> <span class="st">&#39;g&#39;</span>)<span class="op">,</span> <span class="st">&#39;$&amp;amp;&#39;</span> <span class="op">+</span> (s <span class="op">||</span> <span class="st">&#39;,&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb386-14" title="14"><span class="op">};</span></a>
<a class="sourceLine" id="cb386-15" title="15"></a>
<a class="sourceLine" id="cb386-16" title="16"><span class="dv">12345678</span>.<span class="fl">9.</span><span class="at">format</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="st">&#39;.&#39;</span><span class="op">,</span> <span class="st">&#39;,&#39;</span>)<span class="op">;</span>  <span class="co">// &quot;12.345.678,90&quot;</span></a>
<a class="sourceLine" id="cb386-17" title="17"><span class="dv">123456</span>.<span class="fl">789.</span><span class="at">format</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="st">&#39; &#39;</span><span class="op">,</span> <span class="st">&#39;:&#39;</span>)<span class="op">;</span>  <span class="co">// &quot;12 3456:7890&quot;</span></a>
<a class="sourceLine" id="cb386-18" title="18"><span class="dv">12345678</span>.<span class="fl">9.</span><span class="at">format</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="st">&#39;-&#39;</span>)<span class="op">;</span>       <span class="co">// &quot;12-345-679&quot;</span></a></code></pre></div>
<p><strong>DEMO / TESTS:</strong> <a href="http://jsfiddle.net/hAfMM/612/" rel="noreferrer">http://jsfiddle.net/hAfMM/612/</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-copy-to-the-clipboard-in-javascript-score-1678830-in-2017" class="level3">
<h3>54: How do I copy to the clipboard in JavaScript? (score <a href="https://stackoverflow.com/q/400212.html">1678830</a> in 2017)</h3>
<section id="question-53" class="level4">
<h4>Question</h4>
<p>What is the best way to copy text to the clipboard? (multi-browser)</p>
<p>I have tried:</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb387-1" title="1"><span class="kw">function</span> <span class="at">copyToClipboard</span>(text) <span class="op">{</span></a>
<a class="sourceLine" id="cb387-2" title="2">    <span class="cf">if</span> (<span class="va">window</span>.<span class="at">clipboardData</span>) <span class="op">{</span> <span class="co">// Internet Explorer</span></a>
<a class="sourceLine" id="cb387-3" title="3">        <span class="va">window</span>.<span class="va">clipboardData</span>.<span class="at">setData</span>(<span class="st">&quot;Text&quot;</span><span class="op">,</span> text)<span class="op">;</span></a>
<a class="sourceLine" id="cb387-4" title="4">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span>  </a>
<a class="sourceLine" id="cb387-5" title="5">        <span class="va">unsafeWindow</span>.<span class="va">netscape</span>.<span class="va">security</span>.<span class="va">PrivilegeManager</span>.<span class="at">enablePrivilege</span>(<span class="st">&quot;UniversalXPConnect&quot;</span>)<span class="op">;</span>  </a>
<a class="sourceLine" id="cb387-6" title="6">        <span class="kw">const</span> clipboardHelper <span class="op">=</span> <span class="va">Components</span>.<span class="at">classes</span>[<span class="st">&quot;@mozilla.org/widget/clipboardhelper;1&quot;</span>].<span class="at">getService</span>(<span class="va">Components</span>.<span class="va">interfaces</span>.<span class="at">nsIClipboardHelper</span>)<span class="op">;</span>  </a>
<a class="sourceLine" id="cb387-7" title="7">        <span class="va">clipboardHelper</span>.<span class="at">copyString</span>(text)<span class="op">;</span></a>
<a class="sourceLine" id="cb387-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb387-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>but in Internet Explorer it gives a syntax error. In Firefox, it says <code>unsafeWindow is not defined</code>.</p>
<p>A nice trick without flash: <a href="https://stackoverflow.com/questions/17527870/how-does-trello-access-the-users-clipboard">How does Trello access the user's clipboard?</a></p>
</section>
<section id="answer-2-score-1987" class="level4">
<h4>Answer 2 (score 1987)</h4>
<h5>
Overview
</h1>
<p>There are three primary browser APIs for copying to the clipboard:</p>
<ol>
<li>
<p><a href="https://www.w3.org/TR/clipboard-apis/#async-clipboard-api" rel="noreferrer">Async Clipboard API</a> <code>[navigator.clipboard.writeText]</code></p>
<ul>
<li>
Text-focused portion available in <a href="https://developers.google.com/web/updates/2018/03/clipboardapi" rel="noreferrer">Chrome 66 (March 2018)</a>
</li>
<li>
Access is asynchronous and uses <a href="https://developers.google.com/web/fundamentals/primers/promises" rel="noreferrer">JavaScript Promises</a>, can be written so security user prompts (if displayed) don’t interrupt the JavaScript in page.
</li>
<li>
Text can be copied to the clipboard directly from a variable.
</li>
<li>
Only supported on pages served over HTTPS.
</li>
<li>
In Chrome 66 pages in active tabs can write to the clipboard without a permissions prompt.
</li>
</ul>
</li>
<li>
<p><code>document.execCommand('copy')</code></p>
<ul>
<li>
Most browsers support this as of ~April 2015 (see Browser Support below).
</li>
<li>
Access is synchronous, i.e. stops JavaScript in the page until complete including displaying and user interacting with any security prompts.
</li>
<li>
Text is read from the DOM and placed on the clipboard.
</li>
<li>
During testing ~April 2015 only Internet Explorer was noted as displaying permissions prompts whilst writing to the clipboard.
</li>
</ul>
</li>
<li>
<p>Overriding the copy event</p>
<ul>
<li>
See Clipboard API documentation on <a href="https://w3c.github.io/clipboard-apis/#override-copy" rel="noreferrer">Overriding the copy event</a>.
</li>
<li>
Allows you to modify what appears on the clipboard from any copy event, can include other formats of data other than plain text.
</li>
<li>
Not covered here as it doesn’t directly answer the question.
</li>
</ul>
</li>
</ol>
<h5>
General development notes
</h1>
<p>Don’t expect clipboard related commands to work whilst you are testing code in the console. Generally the page is required to be active (Async Clipboard API) or requires user interaction (e.g. a user click) to allow (<code>document.execCommand('copy')</code>) to access the clipboard see below for more detail.</p>
<h5>
Async + Fallback
</h1>
<p>Due to the level of browser support for the new Async Clipboard API you will likely want to fallback to the <code>document.execCommand('copy')</code> method to get good browser coverage.</p>
<p>Here is a simple example:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function fallbackCopyTextToClipboard(text) { var textArea = document.createElement(“textarea”); textArea.value = text; document.body.appendChild(textArea); textArea.focus(); textArea.select();</p>
<p>try { var successful = document.execCommand(‘copy’); var msg = successful ? ‘successful’ : ‘unsuccessful’; console.log(‘Fallback: Copying text command was’ + msg); } catch (err) { console.error(‘Fallback: Oops, unable to copy’, err); }</p>
<p>document.body.removeChild(textArea); } function copyTextToClipboard(text) { if (!navigator.clipboard) { fallbackCopyTextToClipboard(text); return; } navigator.clipboard.writeText(text).then(function() { console.log(‘Async: Copying to clipboard was successful!’); }, function(err) { console.error(‘Async: Could not copy text:’, err); }); }</p>
<p>var copyBobBtn = document.querySelector(‘.js-copy-bob-btn’), copyJaneBtn = document.querySelector(‘.js-copy-jane-btn’);</p>
<p>copyBobBtn.addEventListener(‘click’, function(event) { copyTextToClipboard(‘Bob’); });</p>
<p>copyJaneBtn.addEventListener(‘click’, function(event) { copyTextToClipboard(‘Jane’); });<code></code>javascript &lt;div style=“display:inline-block; vertical-align:top;”&gt; &lt;button class=“js-copy-bob-btn”&gt;Set clipboard to BOB&lt;/button&gt;&lt;br /&gt;&lt;br /&gt; &lt;button class=“js-copy-jane-btn”&gt;Set clipboard to JANE&lt;/button&gt; &lt;/div&gt; &lt;div style=“display:inline-block;”&gt; &lt;textarea class=“js-test-textarea” cols=“35” rows=“4”&gt;Try pasting into here to see what you have on your clipboard:</p>
<p>&lt;/textarea&gt; &lt;/div&gt;```</p>
</div>
</div>
<p>Note that this snippet is not working well in Stack Overflow’s embedded preview you can try it here: <a href="https://codepen.io/DeanMarkTaylor/pen/RMRaJX?editors=1011" rel="noreferrer">https://codepen.io/DeanMarkTaylor/pen/RMRaJX?editors=1011</a></p>
<h5>
Async Clipboard API
</h1>
<ul>
<li>
<a href="https://developers.google.com/web/updates/2018/03/clipboardapi" rel="noreferrer">Chrome 66 announcement post (March 2018)</a>
</li>
<li>
Reference <a href="https://www.w3.org/TR/clipboard-apis/#async-clipboard-api" rel="noreferrer">Async Clipboard API</a> draft documentation
</li>
</ul>
<p>Note that there is an ability to “request permission” and test for access to the clipboard via the permissions API in Chrome 66.</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb388-1" title="1"><span class="kw">var</span> text <span class="op">=</span> <span class="st">&quot;Example text to appear on clipboard&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb388-2" title="2"><span class="va">navigator</span>.<span class="va">clipboard</span>.<span class="at">writeText</span>(text).<span class="at">then</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb388-3" title="3">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Async: Copying to clipboard was successful!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb388-4" title="4"><span class="op">},</span> <span class="kw">function</span>(err) <span class="op">{</span></a>
<a class="sourceLine" id="cb388-5" title="5">  <span class="va">console</span>.<span class="at">error</span>(<span class="st">&#39;Async: Could not copy text: &#39;</span><span class="op">,</span> err)<span class="op">;</span></a>
<a class="sourceLine" id="cb388-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h5>
document.execCommand(‘copy’)
</h1>
<p>The rest of this post goes into the nuances and detail of the <code>document.execCommand('copy')</code> API.</p>
<h5>
Browser Support
</h2>
<p>The JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand" rel="noreferrer"><code>document.execCommand('copy')</code></a> support has grown, see the links below for browser updates:</p>
<ul>
<li>
Internet Explorer 10+ (although <a href="https://msdn.microsoft.com/en-us/library/ms537834(v=vs.85).aspx" rel="noreferrer">this document</a> indicates some support was there from Internet Explorer 5.5+).
</li>
<li>
<a href="https://developers.google.com/web/updates/2015/04/cut-and-copy-commands?hl=en" rel="noreferrer">Google Chrome 43+ (~April 2015)</a>
</li>
<li>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/41#Interfaces.2FAPIs.2FDOM" rel="noreferrer">Mozilla Firefox 41+ (shipping ~September 2015)</a>
</li>
<li>
<a href="https://dev.opera.com/blog/opera-29/#cut-and-copy-commands" rel="noreferrer">Opera 29+ (based on Chromium 42, ~April 2015)</a>
</li>
</ul>
<h5>
Simple Example
</h2>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var copyTextareaBtn = document.querySelector(‘.js-textareacopybtn’);</p>
<p>copyTextareaBtn.addEventListener(‘click’, function(event) { var copyTextarea = document.querySelector(‘.js-copytextarea’); copyTextarea.focus(); copyTextarea.select();</p>
<p>try { var successful = document.execCommand(‘copy’); var msg = successful ? ‘successful’ : ‘unsuccessful’; console.log(‘Copying text command was’ + msg); } catch (err) { console.log(‘Oops, unable to copy’); } });<code></code>javascript &lt;p&gt; &lt;button class=“js-textareacopybtn” style=“vertical-align:top;”&gt;Copy Textarea&lt;/button&gt; &lt;textarea class=“js-copytextarea”&gt;Hello I’m some text&lt;/textarea&gt; &lt;/p&gt;```</p>
</div>
</div>
<h5>
Complex Example: Copy to clipboard without displaying input
</h2>
<p>The above simple example works great if there is a <code>textarea</code> or <code>input</code> element visible on screen.</p>
<p>In some cases you might wish to copy text to the clipboard without displaying an <code>input</code> / <code>textarea</code> element. This is one example of a way to work around this (basically insert element, copy to clipboard, remove element):</p>
<p>Tested with Google Chrome 44, Firefox 42.0a1 and Internet Explorer 11.0.8600.17814.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function copyTextToClipboard(text) { var textArea = document.createElement(“textarea”);</p>
<p>// // *** This styling is an extra step which is likely not required. *<strong> // // Why is it here? To ensure: // 1. the element is able to have focus and selection. // 2. if element was to flash render it has minimal visual impact. // 3. less flakyness with selection and copying which </strong>might** occur if // the textarea element is not visible. // // The likelihood is the element won’t even render, not even a // flash, so some of these are just precautions. However in // Internet Explorer the element is visible whilst the popup // box asking the user for permission for the web page to // copy to the clipboard. //</p>
<p>// Place in top-left corner of screen regardless of scroll position. textArea.style.position = ‘fixed’; textArea.style.top = 0; textArea.style.left = 0;</p>
<p>// Ensure it has a small width and height. Setting to 1px / 1em // doesn’t work as this gives a negative w/h on some browsers. textArea.style.width = ‘2em’; textArea.style.height = ‘2em’;</p>
<p>// We don’t need padding, reducing the size if it does flash render. textArea.style.padding = 0;</p>
<p>// Clean up any borders. textArea.style.border = ‘none’; textArea.style.outline = ‘none’; textArea.style.boxShadow = ‘none’;</p>
<p>// Avoid flash of white box if rendered for any reason. textArea.style.background = ‘transparent’;</p>
<p>textArea.value = text;</p>
<p>document.body.appendChild(textArea); textArea.focus(); textArea.select();</p>
<p>try { var successful = document.execCommand(‘copy’); var msg = successful ? ‘successful’ : ‘unsuccessful’; console.log(‘Copying text command was’ + msg); } catch (err) { console.log(‘Oops, unable to copy’); }</p>
<p>document.body.removeChild(textArea); }</p>
<p>var copyBobBtn = document.querySelector(‘.js-copy-bob-btn’), copyJaneBtn = document.querySelector(‘.js-copy-jane-btn’);</p>
<p>copyBobBtn.addEventListener(‘click’, function(event) { copyTextToClipboard(‘Bob’); });</p>
<p>copyJaneBtn.addEventListener(‘click’, function(event) { copyTextToClipboard(‘Jane’); });<code></code>javascript &lt;div style=“display:inline-block; vertical-align:top;”&gt; &lt;button class=“js-copy-bob-btn”&gt;Set clipboard to BOB&lt;/button&gt;&lt;br /&gt;&lt;br /&gt; &lt;button class=“js-copy-jane-btn”&gt;Set clipboard to JANE&lt;/button&gt; &lt;/div&gt; &lt;div style=“display:inline-block;”&gt; &lt;textarea class=“js-test-textarea” cols=“35” rows=“4”&gt;Try pasting into here to see what you have on your clipboard:</p>
<p>&lt;/textarea&gt; &lt;/div&gt;```</p>
</div>
</div>
<h5>
Additional notes
</h2>
<h5>
Only works if the user takes an action
</h3>
<p>All <code>document.execCommand('copy')</code> calls must take place as a direct result of a user action, e.g. click event handler. This is a measure to prevent messing with the user’s clipboard when they don’t expect it.</p>
<p>See the <a href="https://developers.google.com/web/updates/2015/04/cut-and-copy-commands?hl=en" rel="noreferrer">Google Developers post here</a> for more info.</p>
<h5>
Clipboard API
</h3>
<p>
Note the full Clipboard API draft specification can be found here: <a href="https://w3c.github.io/clipboard-apis/" rel="noreferrer">https://w3c.github.io/clipboard-apis/</a>
</p>
<h5>
Is it supported?
</h3>
<ul>
<li>
<code>document.queryCommandSupported('copy')</code> should return <code>true</code> if the command “is supported by the browser”.
</li>
<li>
and <code>document.queryCommandEnabled('copy')</code> return <code>true</code> if the <code>document.execCommand('copy')</code> will succeed if called now. Checking to ensure the command was called from a user-initiated thread and other requirements are met.
</li>
</ul>
<p>However as an example of browser compatibility issues, Google Chrome from ~April to ~October 2015 only returned <code>true</code> from <code>document.queryCommandSupported('copy')</code> if the command was called from a user-initiated thread.</p>
<p>Note compatibility detail below.</p>
<h5>
Browser Compatibility Detail
</h3>
<p>Whilst a simple call to <code>document.execCommand('copy')</code> wrapped in a <code>try</code>/<code>catch</code> block called as a result of a user click will get you the most compatibility use the following has some provisos:</p>
<p>Any call to <code>document.execCommand</code>, <code>document.queryCommandSupported</code> or <code>document.queryCommandEnabled</code> should be wrapped in a <code>try</code>/<code>catch</code> block.</p>
<p>Different browser implementations and browser versions throw differing types of exceptions when called instead of returning <code>false</code>.</p>
<p>Different browser implementations are still in flux and the <a href="https://w3c.github.io/clipboard-apis/" rel="noreferrer">Clipboard API</a> is still in draft, so remember to do your testing.</p>
</section>
<section id="answer-3-score-1235" class="level4">
<h4>Answer 3 (score 1235)</h4>
<p>Automatic copying to clipboard may be dangerous, therefore most browsers (except IE) make it very difficult. Personally, I use the following simple trick:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb389-1" title="1"><span class="kw">function</span> <span class="at">copyToClipboard</span>(text) <span class="op">{</span></a>
<a class="sourceLine" id="cb389-2" title="2">  <span class="va">window</span>.<span class="at">prompt</span>(<span class="st">&quot;Copy to clipboard: Ctrl+C, Enter&quot;</span><span class="op">,</span> text)<span class="op">;</span></a>
<a class="sourceLine" id="cb389-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>The user is presented with the prompt box, where the text to be copied is already selected. Now it’s enough to press <kbd>Ctrl</kbd>+<kbd>C</kbd> and <kbd>Enter</kbd> (to close the box) – and voila!</p>
<p>Now the clipboard copy operation is SAFE, because the user does it manually (but in a pretty straightforward way). Of course, works in all browsers.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<p>```javascript &lt;button id=“demo” onclick=“copyToClipboard(document.getElementById(‘demo’).innerHTML)”&gt;This is what I want to copy&lt;/button&gt;</p>
<p>&lt;script&gt; function copyToClipboard(text) { window.prompt(“Copy to clipboard: Ctrl+C, Enter”, text); } &lt;/script&gt;```</p>
</div>
</div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-insert-an-item-into-an-array-at-a-specific-index-javascript-score-1664635-in-2019" class="level3">
<h3>55: How to insert an item into an array at a specific index (JavaScript)? (score <a href="https://stackoverflow.com/q/586182.html">1664635</a> in 2019)</h3>
<section id="question-54" class="level4">
<h4>Question</h4>
<p>I am looking for a JavaScript array insert method, in the style of:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb390-1" title="1"><span class="va">arr</span>.<span class="at">insert</span>(index<span class="op">,</span> item)</a></code></pre></div>
<p>Preferably in jQuery, but any JavaScript implementation will do at this point.</p>
</section>
<section id="answer-accepted-score-4303" class="level4">
<h4>Answer accepted (score 4303)</h4>
<p>What you want is the <strong><a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/splice" rel="noreferrer"><code>splice</code></a></strong> function on the native array object.</p>
<p><code>arr.splice(index, 0, item);</code> will insert <code>item</code> into <code>arr</code> at the specified index (deleting <code>0</code> items first, that is, it’s just an insert).</p>
<p>In this example we will create an array and add an element to it into index 2:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var arr = []; arr[0] = “Jani”; arr[1] = “Hege”; arr[2] = “Stale”; arr[3] = “Kai Jim”; arr[4] = “Borge”;</p>
<p>console.log(arr.join()); arr.splice(2, 0, “Lene”); console.log(arr.join());```</p>
</div>
</div>
</section>
<section id="answer-2-score-264" class="level4">
<h4>Answer 2 (score 264)</h4>
<p>You can implement the <code>Array.insert</code> method by doing this:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb391-1" title="1"><span class="va">Array</span>.<span class="va">prototype</span>.<span class="at">insert</span> <span class="op">=</span> <span class="kw">function</span> ( index<span class="op">,</span> item ) <span class="op">{</span></a>
<a class="sourceLine" id="cb391-2" title="2">    <span class="kw">this</span>.<span class="at">splice</span>( index<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> item )<span class="op">;</span></a>
<a class="sourceLine" id="cb391-3" title="3"><span class="op">};</span></a></code></pre></div>
<p>Then you can use it like:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb392-1" title="1"><span class="kw">var</span> arr <span class="op">=</span> [ <span class="st">&#39;A&#39;</span><span class="op">,</span> <span class="st">&#39;B&#39;</span><span class="op">,</span> <span class="st">&#39;D&#39;</span><span class="op">,</span> <span class="st">&#39;E&#39;</span> ]<span class="op">;</span></a>
<a class="sourceLine" id="cb392-2" title="2"><span class="va">arr</span>.<span class="at">insert</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">&#39;C&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb392-3" title="3"></a>
<a class="sourceLine" id="cb392-4" title="4"><span class="co">// =&amp;gt; arr == [ &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39; ]</span></a></code></pre></div>
</section>
<section id="answer-3-score-106" class="level4">
<h4>Answer 3 (score 106)</h4>
<p>Other than splice, you can use this approach which will not mutate the original array, but will create a new array with the added item. You should usually avoid mutation whenever possible. I’m using ES6 spread operator here.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="true">
<div class="snippet-code">
<p>```javascript const items = [1, 2, 3, 4, 5]</p>
<p>const insert = (arr, index, newItem) =&gt; [ // part of the array before the specified index …arr.slice(0, index), // inserted item newItem, // part of the array after the specified index …arr.slice(index)]</p>
<p>const result = insert(items, 1, 10)</p>
<p>console.log(result) // [1, 10, 2, 3, 4, 5]```</p>
</div>
</div>
<p>This can be used to add more than one item by tweaking the function a bit to use the rest operator for the new items, and spread that in the returned result as well</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="true">
<div class="snippet-code">
<p>```javascript const items = [1, 2, 3, 4, 5]</p>
<p>const insert = (arr, index, …newItems) =&gt; [ // part of the array before the specified index …arr.slice(0, index), // inserted items …newItems, // part of the array after the specified index …arr.slice(index)]</p>
<p>const result = insert(items, 1, 10, 20)</p>
<p>console.log(result) // [1, 10, 20, 2, 3, 4, 5]```</p>
</div>
</div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="creating-a-div-element-in-jquery-score-1658176-in-2016" class="level3">
<h3>56: Creating a div element in jQuery (score <a href="https://stackoverflow.com/q/867916.html">1658176</a> in 2016)</h3>
<section id="question-55" class="level4">
<h4>Question</h4>
<p>How do I create a <code>div</code> element in <strong>jQuery</strong>?</p>
</section>
<section id="answer-accepted-score-1039" class="level4">
<h4>Answer accepted (score 1039)</h4>
<p>You can use <code>append</code> (to add at last position of parent) or <code>prepend</code> (to add at fist position of parent):</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb393-1" title="1"><span class="at">$</span>(<span class="st">&#39;#parent&#39;</span>).<span class="at">append</span>(<span class="st">&#39;&amp;lt;div&amp;gt;hello&amp;lt;/div&amp;gt;&#39;</span>)<span class="op">;</span>    </a>
<a class="sourceLine" id="cb393-2" title="2"><span class="co">// or</span></a>
<a class="sourceLine" id="cb393-3" title="3"><span class="at">$</span>(<span class="st">&#39;&amp;lt;div&amp;gt;hello&amp;lt;/div&amp;gt;&#39;</span>).<span class="at">appendTo</span>(<span class="st">&#39;#parent&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Alternatively, you can use the <code>.html()</code> or <code>.add()</code> as mentioned in a <a href="https://stackoverflow.com/a/867941/59087">different answer</a>.</p>
</section>
<section id="answer-2-score-1957" class="level4">
<h4>Answer 2 (score 1957)</h4>
<p>As of jQuery 1.4 you can pass attributes to a self-closed element like so:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb394-1" title="1"><span class="at">jQuery</span>(<span class="st">&#39;&amp;lt;div/&amp;gt;&#39;</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb394-2" title="2">    <span class="dt">id</span><span class="op">:</span> <span class="st">&#39;some-id&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb394-3" title="3">    <span class="st">&quot;class&quot;</span><span class="op">:</span> <span class="st">&#39;some-class&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb394-4" title="4">    <span class="dt">title</span><span class="op">:</span> <span class="st">&#39;now this div has a title!&#39;</span></a>
<a class="sourceLine" id="cb394-5" title="5"><span class="op">}</span>).<span class="at">appendTo</span>(<span class="st">&#39;#mySelector&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Here it is in the <em><a href="http://api.jquery.com/jQuery/#jQuery2" rel="noreferrer">Docs</a></em></p>
<p>Examples can be found at <em><a href="http://net.tutsplus.com/tutorials/javascript-ajax/jquery-1-4-released-the-15-new-features-you-must-know/" rel="noreferrer">jQuery 1.4 Released: The 15 New Features you Must Know </a></em>.</p>
</section>
<section id="answer-3-score-228-1" class="level4">
<h4>Answer 3 (score 228)</h4>
<p>Technically <code>$('&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;')</code> will ‘create’ a <code>div</code> element (or more specifically a DIV DOM element) but won’t add it to your HTML document. You will then need to use that in combination with the other answers to actually do anything useful with it (such as using the <code>append()</code> method or such like).</p>
<p>The <a href="http://docs.jquery.com/Manipulation" rel="nofollow noreferrer">manipulation documentation</a> gives you all the various options on how to add new elements.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="length-of-a-javascript-object-score-1658003-in-2019" class="level3">
<h3>57: Length of a JavaScript object (score <a href="https://stackoverflow.com/q/5223.html">1658003</a> in 2019)</h3>
<section id="question-56" class="level4">
<h4>Question</h4>
<p>I have a JavaScript object, is there a built-in or accepted best practice way to get the length of this object?</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb395-1" title="1"><span class="kw">var</span> myObject <span class="op">=</span> <span class="kw">new</span> <span class="at">Object</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb395-2" title="2">myObject[<span class="st">&quot;firstname&quot;</span>] <span class="op">=</span> <span class="st">&quot;Gareth&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb395-3" title="3">myObject[<span class="st">&quot;lastname&quot;</span>] <span class="op">=</span> <span class="st">&quot;Simpson&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb395-4" title="4">myObject[<span class="st">&quot;age&quot;</span>] <span class="op">=</span> <span class="dv">21</span><span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-2417" class="level4">
<h4>Answer accepted (score 2417)</h4>
<p>The most robust answer (i.e. that captures the intent of what you’re trying to do while causing the fewest bugs) would be:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb396-1" title="1"><span class="va">Object</span>.<span class="at">size</span> <span class="op">=</span> <span class="kw">function</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb396-2" title="2">    <span class="kw">var</span> size <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb396-3" title="3">    <span class="cf">for</span> (key <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb396-4" title="4">        <span class="cf">if</span> (<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(key)) size<span class="op">++;</span></a>
<a class="sourceLine" id="cb396-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb396-6" title="6">    <span class="cf">return</span> size<span class="op">;</span></a>
<a class="sourceLine" id="cb396-7" title="7"><span class="op">};</span></a>
<a class="sourceLine" id="cb396-8" title="8"></a>
<a class="sourceLine" id="cb396-9" title="9"><span class="co">// Get the size of an object</span></a>
<a class="sourceLine" id="cb396-10" title="10"><span class="kw">var</span> size <span class="op">=</span> <span class="va">Object</span>.<span class="at">size</span>(myObj)<span class="op">;</span></a></code></pre></div>
<p>There’s a sort of convention in JavaScript that you <a href="https://stackoverflow.com/questions/10757455/object-prototype-is-verboten">don’t add things to Object.prototype</a>, because it can break enumerations in various libraries. Adding methods to Object is usually safe, though.</p>
<hr>
<p><strong>Here’s an update as of 2016 and <a href="http://kangax.github.io/compat-table/es5/" rel="noreferrer">widespread deployment of ES5</a> and beyond.</strong> For IE9+ and all other modern ES5+ capable browsers, you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" rel="noreferrer"><code>Object.keys()</code></a> so the above code just becomes:</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb397-1" title="1"><span class="kw">var</span> size <span class="op">=</span> <span class="va">Object</span>.<span class="at">keys</span>(myObj).<span class="at">length</span><span class="op">;</span></a></code></pre></div>
<p>This doesn’t have to modify any existing prototype since <code>Object.keys()</code> is now built in.</p>
<p><strong>Edit</strong>: Objects can have symbolic properties which can not be returned via Object.key method. So the answer would be incomplete without mentioning them.</p>
<p>Symbol type was added to the language to create unique identifiers for object properties. Main benefit of Symbol type is prevention of overwrites.</p>
<p><code>Object.keys</code> or <code>Object.getOwnPropertyNames</code> does not work for symbolic properties. To return them you need to use <code>Object.getOwnPropertySymbols</code>.</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb398-1" title="1"><span class="kw">var</span> person <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb398-2" title="2">  [<span class="at">Symbol</span>(<span class="st">&#39;name&#39;</span>)]<span class="op">:</span> <span class="st">&#39;John Doe&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb398-3" title="3">  [<span class="at">Symbol</span>(<span class="st">&#39;age&#39;</span>)]<span class="op">:</span> <span class="dv">33</span><span class="op">,</span></a>
<a class="sourceLine" id="cb398-4" title="4">  <span class="st">&quot;occupation&quot;</span><span class="op">:</span> <span class="st">&quot;Programmer&quot;</span></a>
<a class="sourceLine" id="cb398-5" title="5"><span class="op">};</span></a>
<a class="sourceLine" id="cb398-6" title="6"></a>
<a class="sourceLine" id="cb398-7" title="7"><span class="kw">const</span> propOwn <span class="op">=</span> <span class="va">Object</span>.<span class="at">getOwnPropertyNames</span>(person)<span class="op">;</span></a>
<a class="sourceLine" id="cb398-8" title="8"><span class="va">console</span>.<span class="at">log</span>(<span class="va">propOwn</span>.<span class="at">length</span>)<span class="op">;</span> <span class="co">// 1</span></a>
<a class="sourceLine" id="cb398-9" title="9"></a>
<a class="sourceLine" id="cb398-10" title="10"><span class="kw">let</span> propSymb <span class="op">=</span> <span class="va">Object</span>.<span class="at">getOwnPropertySymbols</span>(person)<span class="op">;</span></a>
<a class="sourceLine" id="cb398-11" title="11"><span class="va">console</span>.<span class="at">log</span>(<span class="va">propSymb</span>.<span class="at">length</span>)<span class="op">;</span> <span class="co">// 2</span></a></code></pre></div>
</section>
<section id="answer-2-score-1611" class="level4">
<h4>Answer 2 (score 1611)</h4>
<p>If you know you don’t have to worry about <code>hasOwnProperty</code> checks, you can do this very simply:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb399-1" title="1"><span class="va">Object</span>.<span class="at">keys</span>(myArray).<span class="at">length</span></a></code></pre></div>
</section>
<section id="answer-3-score-276" class="level4">
<h4>Answer 3 (score 276)</h4>
<p><strong>Updated</strong>: If you’re using <a href="http://underscorejs.org/#size">Underscore.js</a> (recommended, it’s lightweight!), then you can just do</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb400-1" title="1"><span class="va">_</span>.<span class="at">size</span>(<span class="op">{</span><span class="dt">one </span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">two </span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">three </span><span class="op">:</span> <span class="dv">3</span><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb400-2" title="2"><span class="op">=&amp;</span>gt<span class="op">;</span> <span class="dv">3</span></a></code></pre></div>
<p><strong>If not</strong>, and you don’t want to mess around with Object properties for whatever reason, and are already using jQuery, a plugin is equally accessible:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb401-1" title="1"><span class="va">$</span>.<span class="at">assocArraySize</span> <span class="op">=</span> <span class="kw">function</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb401-2" title="2">    <span class="co">// http://stackoverflow.com/a/6700/11236</span></a>
<a class="sourceLine" id="cb401-3" title="3">    <span class="kw">var</span> size <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb401-4" title="4">    <span class="cf">for</span> (key <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb401-5" title="5">        <span class="cf">if</span> (<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(key)) size<span class="op">++;</span></a>
<a class="sourceLine" id="cb401-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb401-7" title="7">    <span class="cf">return</span> size<span class="op">;</span></a>
<a class="sourceLine" id="cb401-8" title="8"><span class="op">};</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-display-a-javascript-object-score-1635768-in-2016" class="level3">
<h3>58: How can I display a JavaScript object? (score <a href="https://stackoverflow.com/q/957537.html">1635768</a> in 2016)</h3>
<section id="question-57" class="level4">
<h4>Question</h4>
<p>How do I display the content of a JavaScript object in a string format like when we <code>alert</code> a variable?</p>
<p>The same formatted way I want to display an object.</p>
</section>
<section id="answer-accepted-score-942" class="level4">
<h4>Answer accepted (score 942)</h4>
<p>If you want to print the object for debugging purposes, use the code:</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb402-1" title="1"><span class="kw">var</span> obj <span class="op">=</span> <span class="op">{</span><span class="dt">prop1</span><span class="op">:</span> <span class="st">&#39;prop1Value&#39;</span><span class="op">,</span> <span class="dt">prop2</span><span class="op">:</span> <span class="st">&#39;prop2Value&#39;</span><span class="op">,</span> <span class="dt">child</span><span class="op">:</span> <span class="op">{</span><span class="dt">childProp1</span><span class="op">:</span> <span class="st">&#39;childProp1Value&#39;</span><span class="op">}}</span></a>
<a class="sourceLine" id="cb402-2" title="2"><span class="va">console</span>.<span class="at">log</span>(obj)</a></code></pre></div>
<p>will display:</p>
<p><a href="https://i.stack.imgur.com/x0Tvz.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/x0Tvz.png" alt="screenshot console chrome"></a></p>
<p><strong>Note:</strong> you must <em>only</em> log the object. For example, this won’t work:</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb403-1" title="1"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;My object : &#39;</span> <span class="op">+</span> obj)</a></code></pre></div>
<p><strong>Note ’</strong>: You can also use a comma in the <code>log</code> method, then the first line of the output will be the string and after that the object will be renderd:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb404-1" title="1"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;My object: &#39;</span><span class="op">,</span> obj)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-1918" class="level4">
<h4>Answer 2 (score 1918)</h4>
<p>
Use native <code>JSON.stringify</code> method. Works with nested objects and all major browsers <a href="http://caniuse.com/#search=json" rel="noreferrer">support</a> this method.
</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb405-1" title="1">str <span class="op">=</span> <span class="va">JSON</span>.<span class="at">stringify</span>(obj)<span class="op">;</span></a>
<a class="sourceLine" id="cb405-2" title="2">str <span class="op">=</span> <span class="va">JSON</span>.<span class="at">stringify</span>(obj<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">4</span>)<span class="op">;</span> <span class="co">// (Optional) beautiful indented output.</span></a>
<a class="sourceLine" id="cb405-3" title="3"><span class="va">console</span>.<span class="at">log</span>(str)<span class="op">;</span> <span class="co">// Logs output to dev tools console.</span></a>
<a class="sourceLine" id="cb405-4" title="4"><span class="at">alert</span>(str)<span class="op">;</span> <span class="co">// Displays output using window.alert()</span></a></code></pre></div>
<p>Link to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" rel="noreferrer">Mozilla API Reference</a> and other examples.</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb406-1" title="1">obj <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(str)<span class="op">;</span> <span class="co">// Reverses above operation (Just in case if needed.)</span></a></code></pre></div>
<hr>
<p>
Use a custom <a href="https://stackoverflow.com/a/11616993/218857">JSON.stringify replacer</a> if you encounter this Javascript error
</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb407-1" title="1"><span class="st">&quot;Uncaught TypeError: Converting circular structure to JSON&quot;</span></a></code></pre></div>
</section>
<section id="answer-3-score-383" class="level4">
<h4>Answer 3 (score 383)</h4>
<div class="sourceCode" id="cb408"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb408-1" title="1"><span class="kw">var</span> output <span class="op">=</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb408-2" title="2"><span class="cf">for</span> (<span class="kw">var</span> property <span class="kw">in</span> object) <span class="op">{</span></a>
<a class="sourceLine" id="cb408-3" title="3">  output <span class="op">+=</span> property <span class="op">+</span> <span class="st">&#39;: &#39;</span> <span class="op">+</span> object[property]<span class="op">+</span><span class="st">&#39;; &#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb408-4" title="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb408-5" title="5"><span class="at">alert</span>(output)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="create-guid-uuid-in-javascript-score-1617271-in-2014" class="level3">
<h3>59: Create GUID / UUID in JavaScript? (score <a href="https://stackoverflow.com/q/105034.html">1617271</a> in 2014)</h3>
<section id="question-58" class="level4">
<h4>Question</h4>
<p>I’m trying to create globally-unique identifiers in JavaScript. I’m not sure what routines are available on all browsers, how “random” and seeded the built-in random number generator is, etc..</p>
<p>The GUID / UUID should be at least 32 characters and should stay in the ASCII range to avoid trouble when passing them around.</p>
</section>
<section id="answer-accepted-score-2203" class="level4">
<h4>Answer accepted (score 2203)</h4>
<p>UUIDs (Universally Unique IDentifier), also known as GUIDs (Globally Unique IDentifier), according to <a href="https://www.ietf.org/rfc/rfc4122.txt" rel="noreferrer">RFC 4122</a>, are identifiers with a certain uniqueness guarantee.</p>
<p>The best way to generate them, is to follow implementation instructions in the said RFC, use one of the many community vetted open source implementations.</p>
<p>A popular Open Source tool for working with UUIDs in JavaScript is <a href="https://github.com/kelektiv/node-uuid" rel="noreferrer">node-uuid</a></p>
<p>Note that just randomly generating the identifiers byte by byte, or character by character, will not give you the same guarantees as a conforming implementation. Also, very important, systems working with compliant UUIDs may choose not to accept randomly generated ones, and many open source validators will actually check for a valid structure.</p>
<p>An UUID must have this format:</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb409-1" title="1">xxxxxxxx<span class="op">-</span>xxxx<span class="op">-</span>Mxxx<span class="op">-</span>Nxxx<span class="op">-</span>xxxxxxxxxxxx</a></code></pre></div>
<p>Where the <em>M</em> and <em>N</em> positions may only have certain values. At this time, the only valid values for M are 1, 2, 3, 4 and 5, so randomly generating that position would make most results unacceptable.</p>
</section>
<section id="answer-2-score-3727" class="level4">
<h4>Answer 2 (score 3727)</h4>
<p>For an <a href="https://www.ietf.org/rfc/rfc4122.txt" rel="noreferrer">RFC4122</a> version 4 compliant solution, this one-liner(ish) solution is the most compact I could come up with.:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function uuidv4() { return ‘xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx’.replace(/[xy]/g, function(c) { var r = Math.random() * 16 | 0, v = c == ‘x’ ? r : (r &amp; 0x3 | 0x8); return v.toString(16); }); }</p>
<p>console.log(uuidv4());```</p>
</div>
</div>
<p><strong>Update, 2015-06-02</strong>: Be aware that UUID uniqueness relies heavily on the underlying random number generator (RNG). The solution above uses <code>Math.random()</code> for brevity, however <code>Math.random()</code> is <em>not</em> guaranteed to be a high-quality RNG. See Adam Hyland’s <a href="http://bocoup.com/weblog/random-numbers/" rel="noreferrer">excellent writeup on Math.random()</a> for details. For a more robust solution, consider something like <a href="https://github.com/kelektiv/node-uuid" rel="noreferrer">the uuid module</a> (disclaimer: I’m the author), which uses higher quality RNG APIs where available.</p>
<p><strong>Update, 2015-08-26</strong>: As a side-note, this <a href="https://gist.githubusercontent.com/aristus/f0c311df98d92e367df0" rel="noreferrer">gist</a> describes how to determine how many IDs can be generated before reaching a certain probability of collision. For example, with 3.26x10<sup>15</sup> version 4 RFC4122 UUIDs you have a 1-in-a-million chance of collision.</p>
<p><strong>Update, 2017-06-28</strong>: A <a href="https://v8project.blogspot.com/2015/12/theres-mathrandom-and-then-theres.html" rel="noreferrer">good article from Chrome developers</a> discussing the state of Math.random PRNG quality in Chrome, Firefox, and Safari. tl;dr - As of late-2015 it’s “pretty good”, but not cryptographic quality. To address that issue, here’s an updated version of the above solution that uses ES6, the <code>crypto</code> API, and <a href="https://gist.github.com/jed/982883" rel="noreferrer">a bit of JS wizardry I can’t take credit for</a>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function uuidv4() { return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =&gt; (c ^ crypto.getRandomValues(new Uint8Array(1))[0] &amp; 15 &gt;&gt; c / 4).toString(16) ); }</p>
<p>console.log(uuidv4());```</p>
</div>
</div>
</section>
<section id="answer-3-score-772" class="level4">
<h4>Answer 3 (score 772)</h4>
<p>I really like how clean <a href="https://stackoverflow.com/a/2117523/508537">Broofa’s answer</a> is, but it’s unfortunate that <a href="https://stackoverflow.com/q/6906916/508537">poor implementations of <code>Math.random</code></a> leave the chance for collision.</p>
<p>Here’s a similar <a href="http://www.ietf.org/rfc/rfc4122.txt" rel="noreferrer">RFC4122</a> version 4 compliant solution that solves that issue by offsetting the first 13 hex numbers by a hex portion of the timestamp, and once depleted offsets by a hex portion of the microseconds since pageload. That way, even if <code>Math.random</code> is on the same seed, both clients would have to generate the UUID the exact same number of microseconds since pageload (if high-perfomance time is supported) AND at the exact same millisecond (or 10,000+ years later) to get the same UUID:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function generateUUID() { // Public Domain/MIT var d = new Date().getTime();//Timestamp var d2 = (performance &amp;&amp; performance.now &amp;&amp; (performance.now()<em>1000)) || 0;//Time in microseconds since page-load or 0 if unsupported return ‘xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx’.replace(/[xy]/g, function(c) { var r = Math.random() </em> 16;//random number between 0 and 16 if(d &gt; 0){//Use timestamp until depleted r = (d + r)%16 | 0; d = Math.floor(d/16); } else {//Use microseconds since page-load if supported r = (d2 + r)%16 | 0; d2 = Math.floor(d2/16); } return (c === ‘x’ ? r : (r &amp; 0x3 | 0x8)).toString(16); }); }</p>
<p>console.log(generateUUID())```</p>
</div>
</div>
<p>
<br/> <a href="https://jsfiddle.net/briguy37/8eacgpnq/" rel="noreferrer">Here’s a fiddle to test.</a>
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="is-there-a-standard-function-to-check-for-null-undefined-or-blank-variables-in-javascript-score-1586860-in-2012" class="level3">
<h3>60: Is there a standard function to check for null, undefined, or blank variables in JavaScript? (score <a href="https://stackoverflow.com/q/5515310.html">1586860</a> in 2012)</h3>
<section id="question-59" class="level4">
<h4>Question</h4>
<p>Is there a universal JavaScript function that checks that a variable has a value and ensures that it’s not <code>undefined</code> or <code>null</code>? I’ve got this code, but I’m not sure if it covers all cases:</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb410-1" title="1"><span class="kw">function</span> <span class="at">isEmpty</span>(val)<span class="op">{</span></a>
<a class="sourceLine" id="cb410-2" title="2">    <span class="cf">return</span> (val <span class="op">===</span> <span class="kw">undefined</span> <span class="op">||</span> val <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> <span class="va">val</span>.<span class="at">length</span> <span class="op">&amp;</span>lt<span class="op">;=</span> <span class="dv">0</span>) <span class="op">?</span> <span class="kw">true</span> : <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb410-3" title="3"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-4028" class="level4">
<h4>Answer accepted (score 4028)</h4>
<p>You can just check if the <em>variable</em> has a <code>truthy</code> value or not. That means</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb411-1" title="1"><span class="cf">if</span>( value ) <span class="op">{</span></a>
<a class="sourceLine" id="cb411-2" title="2"><span class="op">}</span></a></code></pre></div>
<p>will evaluate to <code>true</code> if <code>value</code> is <strong>not</strong>:</p>
<ul>
<li>
null
</li>
<li>
undefined
</li>
<li>
NaN
</li>
<li>
empty string (&quot;&quot;)
</li>
<li>
0
</li>
<li>
false
</li>
</ul>
<p>The above list represents all possible <code>falsy</code> values in ECMA-/Javascript. Find it in the <a href="https://www.ecma-international.org/ecma-262/5.1/#sec-9.2" rel="noreferrer">specification</a> at the <code>ToBoolean</code> section.</p>
<p>Furthermore, if you do not <strong>know</strong> whether a variable exists (that means, if it was <em>declared</em>) you should check with the <code>typeof</code> operator. For instance</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb412-1" title="1"><span class="cf">if</span>( <span class="kw">typeof</span> foo <span class="op">!==</span> <span class="st">&#39;undefined&#39;</span> ) <span class="op">{</span></a>
<a class="sourceLine" id="cb412-2" title="2">    <span class="co">// foo could get resolved and it&#39;s defined</span></a>
<a class="sourceLine" id="cb412-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>If you can be sure that a <em>variable</em> is declared at least, you should directly check if it has a <code>truthy</code> value like shown above.</p>
<p>Further read: <a href="http://typeofnan.blogspot.com/2011/01/typeof-is-fast.html" rel="noreferrer">http://typeofnan.blogspot.com/2011/01/typeof-is-fast.html</a></p>
</section>
<section id="answer-2-score-198" class="level4">
<h4>Answer 2 (score 198)</h4>
<p>The verbose method to check if value is undefined or null is:</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb413-1" title="1"><span class="cf">return</span> value <span class="op">===</span> <span class="kw">undefined</span> <span class="op">||</span> value <span class="op">===</span> <span class="kw">null</span><span class="op">;</span></a></code></pre></div>
<p>You can also use the <code>==</code> operator but this expects one to <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3" rel="noreferrer">know all the rules</a>:</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb414-1" title="1"><span class="cf">return</span> value <span class="op">==</span> <span class="kw">null</span><span class="op">;</span> <span class="co">// also returns true if value is undefined</span></a></code></pre></div>
</section>
<section id="answer-3-score-72" class="level4">
<h4>Answer 3 (score 72)</h4>
<div class="sourceCode" id="cb415"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb415-1" title="1"><span class="kw">function</span> <span class="at">isEmpty</span>(value)<span class="op">{</span></a>
<a class="sourceLine" id="cb415-2" title="2">  <span class="cf">return</span> (value <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> <span class="va">value</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb415-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>This will return true for</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb416-1" title="1"><span class="kw">undefined</span>  <span class="co">// Because undefined == null</span></a>
<a class="sourceLine" id="cb416-2" title="2"></a>
<a class="sourceLine" id="cb416-3" title="3"><span class="kw">null</span></a>
<a class="sourceLine" id="cb416-4" title="4"></a>
<a class="sourceLine" id="cb416-5" title="5">[]</a>
<a class="sourceLine" id="cb416-6" title="6"></a>
<a class="sourceLine" id="cb416-7" title="7"><span class="st">&quot;&quot;</span></a></code></pre></div>
<p>and zero argument functions since a function’s <code>length</code> is the number of declared parameters it takes.</p>
<p>To disallow the latter category, you might want to just check for blank strings</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb417-1" title="1"><span class="kw">function</span> <span class="at">isEmpty</span>(value)<span class="op">{</span></a>
<a class="sourceLine" id="cb417-2" title="2">  <span class="cf">return</span> (value <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> value <span class="op">===</span> <span class="st">&#39;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb417-3" title="3"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="add-table-row-in-jquery-score-1585868-in-2015" class="level3">
<h3>61: Add table row in jQuery (score <a href="https://stackoverflow.com/q/171027.html">1585868</a> in 2015)</h3>
<section id="question-60" class="level4">
<h4>Question</h4>
<p>What is the best method in jQuery to add an additional row to a table as the last row?</p>
<p>Is this acceptable?</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb418-1" title="1"><span class="at">$</span>(<span class="st">&#39;#myTable&#39;</span>).<span class="at">append</span>(<span class="st">&#39;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;my data&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;more data&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Are there limitations to what you can add to a table like this (such as inputs, selects, number of rows)?</p>
</section>
<section id="answer-accepted-score-2058" class="level4">
<h4>Answer accepted (score 2058)</h4>
<p>The approach you suggest is not guaranteed to give you the result you’re looking for - what if you had a <code>tbody</code> for example:</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb419-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>table id<span class="op">=</span><span class="st">&quot;myTable&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb419-2" title="2">  <span class="op">&amp;</span>lt<span class="op">;</span>tbody<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb419-3" title="3">    <span class="op">&amp;</span>lt<span class="op">;</span>tr<span class="op">&amp;</span>gt<span class="op">;</span>...<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tr&amp;gt;</span></a>
<a class="sourceLine" id="cb419-4" title="4"><span class="ss">    &amp;lt;tr&amp;gt;...&amp;lt;/tr</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb419-5" title="5">  <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tbody&amp;gt;</span></a>
<a class="sourceLine" id="cb419-6" title="6"><span class="ss">&amp;lt;/table</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>You would end up with the following:</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb420-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>table id<span class="op">=</span><span class="st">&quot;myTable&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb420-2" title="2">  <span class="op">&amp;</span>lt<span class="op">;</span>tbody<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb420-3" title="3">    <span class="op">&amp;</span>lt<span class="op">;</span>tr<span class="op">&amp;</span>gt<span class="op">;</span>...<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tr&amp;gt;</span></a>
<a class="sourceLine" id="cb420-4" title="4"><span class="ss">    &amp;lt;tr&amp;gt;...&amp;lt;/tr</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb420-5" title="5">  <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tbody&amp;gt;</span></a>
<a class="sourceLine" id="cb420-6" title="6"><span class="ss">  &amp;lt;tr&amp;gt;...&amp;lt;/tr</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb420-7" title="7"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/table&amp;gt;</span></a></code></pre></div>
<p>I would therefore recommend this approach instead:</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb421-1" title="1"><span class="at">$</span>(<span class="st">&#39;#myTable tr:last&#39;</span>).<span class="at">after</span>(<span class="st">&#39;&amp;lt;tr&amp;gt;...&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;...&amp;lt;/tr&amp;gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>You can include anything within the <code>after()</code> method as long as it’s valid HTML, including multiple rows as per the example above.</p>
<p><strong>Update:</strong> Revisiting this answer following recent activity with this question. eyelidlessness makes a good comment that there will always be a <code>tbody</code> in the DOM; this is true, but only if there is at least one row. If you have no rows, there will be no <code>tbody</code> unless you have specified one yourself.</p>
<p>DaRKoN_ <a href="https://stackoverflow.com/questions/171027/jquery-add-table-row/468240#468240">suggests</a> appending to the <code>tbody</code> rather than adding content after the last <code>tr</code>. This gets around the issue of having no rows, but still isn’t bulletproof as you could theoretically have multiple <code>tbody</code> elements and the row would get added to each of them.</p>
<p>Weighing everything up, I’m not sure there is a single one-line solution that accounts for every single possible scenario. You will need to make sure the jQuery code tallies with your markup.</p>
<p>I think the safest solution is probably to ensure your <code>table</code> always includes at least one <code>tbody</code> in your markup, even if it has no rows. On this basis, you can use the following which will work however many rows you have (and also account for multiple <code>tbody</code> elements):</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb422-1" title="1"><span class="at">$</span>(<span class="st">&#39;#myTable &amp;gt; tbody:last-child&#39;</span>).<span class="at">append</span>(<span class="st">&#39;&amp;lt;tr&amp;gt;...&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;...&amp;lt;/tr&amp;gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-746" class="level4">
<h4>Answer 2 (score 746)</h4>
<p>jQuery has a built-in facility to manipulate DOM elements on the fly.</p>
<p><strong>You can add anything to your table like this:</strong></p>
<div class="sourceCode" id="cb423"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb423-1" title="1"><span class="at">$</span>(<span class="st">&quot;#tableID&quot;</span>).<span class="at">find</span>(<span class="st">&#39;tbody&#39;</span>)</a>
<a class="sourceLine" id="cb423-2" title="2">    .<span class="at">append</span>(<span class="at">$</span>(<span class="st">&#39;&amp;lt;tr&amp;gt;&#39;</span>)</a>
<a class="sourceLine" id="cb423-3" title="3">        .<span class="at">append</span>(<span class="at">$</span>(<span class="st">&#39;&amp;lt;td&amp;gt;&#39;</span>)</a>
<a class="sourceLine" id="cb423-4" title="4">            .<span class="at">append</span>(<span class="at">$</span>(<span class="st">&#39;&amp;lt;img&amp;gt;&#39;</span>)</a>
<a class="sourceLine" id="cb423-5" title="5">                .<span class="at">attr</span>(<span class="st">&#39;src&#39;</span><span class="op">,</span> <span class="st">&#39;img.png&#39;</span>)</a>
<a class="sourceLine" id="cb423-6" title="6">                .<span class="at">text</span>(<span class="st">&#39;Image cell&#39;</span>)</a>
<a class="sourceLine" id="cb423-7" title="7">            )</a>
<a class="sourceLine" id="cb423-8" title="8">        )</a>
<a class="sourceLine" id="cb423-9" title="9">    )<span class="op">;</span></a></code></pre></div>
<p>The <code>$('&amp;lt;some-tag&amp;gt;')</code> thing in jQuery is a tag object that can have several <code>attr</code> attributes that can be set and get, as well as <code>text</code>, which represents the text between the tag here: <code>&amp;lt;tag&amp;gt;text&amp;lt;/tag&amp;gt;</code>.</p>
<p><em>This is some pretty weird indenting, but it’s easier for you to see what’s going on in this example.</em></p>
</section>
<section id="answer-3-score-295" class="level4">
<h4>Answer 3 (score 295)</h4>
<p>So things have changed ever since <a href="https://stackoverflow.com/a/171049/362006"><span class="citation" data-cites="Luke">@Luke</span> Bennett</a> answered this question. Here is an update.</p>
<p>jQuery since version 1.4(?) automatically detects if the element you are trying to insert (using any of the <a href="http://api.jquery.com/append/" rel="noreferrer"><code>append()</code></a>, <a href="http://api.jquery.com/prepend/" rel="noreferrer"><code>prepend()</code></a>, <a href="http://api.jquery.com/before/" rel="noreferrer"><code>before()</code></a>, or <a href="http://api.jquery.com/after/" rel="noreferrer"><code>after()</code></a> methods) is a <code>&amp;lt;tr&amp;gt;</code> and inserts it into the first <code>&amp;lt;tbody&amp;gt;</code> in your table or wraps it into a new <code>&amp;lt;tbody&amp;gt;</code> if one doesn’t exist.</p>
<p>So yes your example code is acceptable and will work fine with jQuery 1.4+. ;)</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb424-1" title="1"><span class="at">$</span>(<span class="st">&#39;#myTable&#39;</span>).<span class="at">append</span>(<span class="st">&#39;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;my data&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;more data&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="determine-whether-an-array-contains-a-value-score-1581682-in-2015" class="level3">
<h3>62: Determine whether an array contains a value (score <a href="https://stackoverflow.com/q/1181575.html">1581682</a> in 2015)</h3>
<section id="question-61" class="level4">
<h4>Question</h4>
<p>I need to determine if a value exists in an array.</p>
<p>I am using the following function:</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb425-1" title="1"><span class="va">Array</span>.<span class="va">prototype</span>.<span class="at">contains</span> <span class="op">=</span> <span class="kw">function</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb425-2" title="2">    <span class="kw">var</span> i <span class="op">=</span> <span class="kw">this</span>.<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb425-3" title="3">    <span class="cf">while</span> (i<span class="op">--</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb425-4" title="4">        <span class="cf">if</span> (<span class="kw">this</span>[i] <span class="op">==</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb425-5" title="5">            <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb425-6" title="6">        <span class="op">}</span></a>
<a class="sourceLine" id="cb425-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb425-8" title="8">    <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb425-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>The above function always returns false.</p>
<p>The array values and the function call is as below:</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb426-1" title="1">arrValues <span class="op">=</span> [<span class="st">&quot;Sam&quot;</span><span class="op">,</span><span class="st">&quot;Great&quot;</span><span class="op">,</span> <span class="st">&quot;Sample&quot;</span><span class="op">,</span> <span class="st">&quot;High&quot;</span>]</a>
<a class="sourceLine" id="cb426-2" title="2"><span class="at">alert</span>(<span class="va">arrValues</span>.<span class="at">contains</span>(<span class="st">&quot;Sam&quot;</span>))<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-996" class="level4">
<h4>Answer accepted (score 996)</h4>
<div class="sourceCode" id="cb427"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb427-1" title="1"><span class="kw">var</span> contains <span class="op">=</span> <span class="kw">function</span>(needle) <span class="op">{</span></a>
<a class="sourceLine" id="cb427-2" title="2">    <span class="co">// Per spec, the way to identify NaN is that it is not equal to itself</span></a>
<a class="sourceLine" id="cb427-3" title="3">    <span class="kw">var</span> findNaN <span class="op">=</span> needle <span class="op">!==</span> needle<span class="op">;</span></a>
<a class="sourceLine" id="cb427-4" title="4">    <span class="kw">var</span> indexOf<span class="op">;</span></a>
<a class="sourceLine" id="cb427-5" title="5"></a>
<a class="sourceLine" id="cb427-6" title="6">    <span class="cf">if</span>(<span class="op">!</span>findNaN <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="kw">typeof</span> <span class="va">Array</span>.<span class="va">prototype</span>.<span class="at">indexOf</span> <span class="op">===</span> <span class="st">&#39;function&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb427-7" title="7">        indexOf <span class="op">=</span> <span class="va">Array</span>.<span class="va">prototype</span>.<span class="at">indexOf</span><span class="op">;</span></a>
<a class="sourceLine" id="cb427-8" title="8">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb427-9" title="9">        indexOf <span class="op">=</span> <span class="kw">function</span>(needle) <span class="op">{</span></a>
<a class="sourceLine" id="cb427-10" title="10">            <span class="kw">var</span> i <span class="op">=</span> <span class="dv">-1</span><span class="op">,</span> index <span class="op">=</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb427-11" title="11"></a>
<a class="sourceLine" id="cb427-12" title="12">            <span class="cf">for</span>(i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="kw">this</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb427-13" title="13">                <span class="kw">var</span> item <span class="op">=</span> <span class="kw">this</span>[i]<span class="op">;</span></a>
<a class="sourceLine" id="cb427-14" title="14"></a>
<a class="sourceLine" id="cb427-15" title="15">                <span class="cf">if</span>((findNaN <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> item <span class="op">!==</span> item) <span class="op">||</span> item <span class="op">===</span> needle) <span class="op">{</span></a>
<a class="sourceLine" id="cb427-16" title="16">                    index <span class="op">=</span> i<span class="op">;</span></a>
<a class="sourceLine" id="cb427-17" title="17">                    <span class="cf">break</span><span class="op">;</span></a>
<a class="sourceLine" id="cb427-18" title="18">                <span class="op">}</span></a>
<a class="sourceLine" id="cb427-19" title="19">            <span class="op">}</span></a>
<a class="sourceLine" id="cb427-20" title="20"></a>
<a class="sourceLine" id="cb427-21" title="21">            <span class="cf">return</span> index<span class="op">;</span></a>
<a class="sourceLine" id="cb427-22" title="22">        <span class="op">};</span></a>
<a class="sourceLine" id="cb427-23" title="23">    <span class="op">}</span></a>
<a class="sourceLine" id="cb427-24" title="24"></a>
<a class="sourceLine" id="cb427-25" title="25">    <span class="cf">return</span> <span class="va">indexOf</span>.<span class="at">call</span>(<span class="kw">this</span><span class="op">,</span> needle) <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb427-26" title="26"><span class="op">};</span></a></code></pre></div>
<p>You can use it like this:</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb428-1" title="1"><span class="kw">var</span> myArray <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span><span class="dv">1</span><span class="op">,</span><span class="dv">2</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb428-2" title="2">    needle <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></a>
<a class="sourceLine" id="cb428-3" title="3">    index <span class="op">=</span> <span class="va">contains</span>.<span class="at">call</span>(myArray<span class="op">,</span> needle)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p><a href="http://codepen.io/anon/pen/mVRNaJ" rel="noreferrer">CodePen validation/usage</a></p>
</section>
<section id="answer-2-score-986" class="level4">
<h4>Answer 2 (score 986)</h4>
<p><a href="http://docs.jquery.com/Utilities/jQuery.inArray" rel="noreferrer">jQuery</a> has a utility function for this:</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb429-1" title="1"><span class="va">$</span>.<span class="at">inArray</span>(value<span class="op">,</span> array)</a></code></pre></div>
<p>Returns index of <code>value</code> in <code>array</code>. Returns <code>-1</code> if <code>array</code> does not contain <code>value</code>.</p>
<p>See also <a href="https://stackoverflow.com/questions/237104/array-containsobj-in-javascript">How do I check if an array includes an object in JavaScript?</a></p>
</section>
<section id="answer-3-score-871" class="level4">
<h4>Answer 3 (score 871)</h4>
<p>This is generally what the indexOf() method is for. You would say:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb430-1" title="1"><span class="cf">return</span> <span class="va">arrValues</span>.<span class="at">indexOf</span>(<span class="st">&#39;Sam&#39;</span>) <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">-1</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="scroll-to-the-top-of-the-page-using-javascript-score-1573088-in-2019" class="level3">
<h3>63: Scroll to the top of the page using JavaScript? (score <a href="https://stackoverflow.com/q/1144805.html">1573088</a> in 2019)</h3>
<section id="question-62" class="level4">
<h4>Question</h4>
<p>I have a <code>&amp;lt;button&amp;gt;</code> element on the page, when this button is pressed a hidden <code>&amp;lt;div&amp;gt;</code> element is shown.</p>
<p>How do I scroll to the top of the page using a JavaScript? It is desirable even if the scrollbar instantly jumps to the top. I’m not looking for a smooth scrolling.</p>
</section>
<section id="answer-accepted-score-2045" class="level4">
<h4>Answer accepted (score 2045)</h4>
<p>If you don’t need the change to animate then you don’t need to use any special plugins - I’d just use the native JavaScript window.scrollTo method – passing in 0,0 will scroll the page to the top left instantly.</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb431-1" title="1"><span class="va">window</span>.<span class="at">scrollTo</span>(x<span class="op">-</span>coord<span class="op">,</span> y<span class="op">-</span>coord)<span class="op">;</span></a></code></pre></div>
<p>Parameters</p>
<ul>
<li>
x-coord is the pixel along the horizontal axis.
</li>
<li>
y-coord is the pixel along the vertical axis.
</li>
</ul>
</section>
<section id="answer-2-score-1304" class="level4">
<h4>Answer 2 (score 1304)</h4>
<p>If you do want smooth scrolling, try something like this:</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb432-1" title="1"><span class="at">$</span>(<span class="st">&quot;a[href=&#39;#top&#39;]&quot;</span>).<span class="at">click</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb432-2" title="2">  <span class="at">$</span>(<span class="st">&quot;html, body&quot;</span>).<span class="at">animate</span>(<span class="op">{</span> <span class="dt">scrollTop</span><span class="op">:</span> <span class="dv">0</span> <span class="op">},</span> <span class="st">&quot;slow&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb432-3" title="3">  <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb432-4" title="4"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>That will take any <code>&amp;lt;a&amp;gt;</code> tag whose <code>href=&quot;#top&quot;</code> and make it smooth scroll to the top.</p>
</section>
<section id="answer-3-score-167-1" class="level4">
<h4>Answer 3 (score 167)</h4>
<p><strong>Try this to scroll on top</strong></p>
<div class="sourceCode" id="cb433"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb433-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>script<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb433-2" title="2"> <span class="at">$</span>(document).<span class="at">ready</span>(<span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb433-3" title="3">    <span class="at">$</span>(window).<span class="at">scrollTop</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb433-4" title="4"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb433-5" title="5"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="javascript-equivalent-to-printfstring.format-score-1572835-in-2018" class="level3">
<h3>64: JavaScript equivalent to printf/String.Format (score <a href="https://stackoverflow.com/q/610406.html">1572835</a> in 2018)</h3>
<section id="question-63" class="level4">
<h4>Question</h4>
<p>I’m looking for a good JavaScript equivalent of the C/PHP <code>printf()</code> or for C#/Java programmers, <code>String.Format()</code> (<code>IFormatProvider</code> for .NET).</p>
<p>My basic requirement is a thousand separator format for numbers for now, but something that handles lots of combinations (including dates) would be good.</p>
<p>I realize Microsoft’s <a href="http://en.wikipedia.org/wiki/Ajax_%28programming%29" rel="noreferrer">Ajax</a> library provides a version of <code>String.Format()</code>, but we don’t want the entire overhead of that framework.</p>
</section>
<section id="answer-accepted-score-975" class="level4">
<h4>Answer accepted (score 975)</h4>
<p>From ES6 on you could use template strings:</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb434-1" title="1"><span class="kw">let</span> soMany <span class="op">=</span> <span class="dv">10</span><span class="op">;</span></a>
<a class="sourceLine" id="cb434-2" title="2"><span class="va">console</span>.<span class="at">log</span>(<span class="vs">`This is </span><span class="sc">${</span>soMany<span class="sc">}</span><span class="vs"> times easier!`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb434-3" title="3"><span class="co">// &quot;This is 10 times easier!</span></a></code></pre></div>
<p>See Kim’s <a href="https://stackoverflow.com/a/32202320/2430448">answer</a> below for details.</p>
<hr>
<h5>
Otherwise:
</h1>
<p>Try <a href="https://github.com/alexei/sprintf.js" rel="noreferrer">sprintf() for JavaScript</a>.</p>
<hr>
<p>If you really want to do a simple format method on your own, don’t do the replacements successively but do them simultaneously.</p>
<p>Because most of the other proposals that are mentioned fail when a replace string of previous replacement does also contain a format sequence like this:</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb435-1" title="1"><span class="st">&quot;{0}{1}&quot;</span>.<span class="at">format</span>(<span class="st">&quot;{1}&quot;</span><span class="op">,</span> <span class="st">&quot;{0}&quot;</span>)</a></code></pre></div>
<p>Normally you would expect the output to be <code>{1}{0}</code> but the actual output is <code>{1}{1}</code>. So do a simultaneously replacement instead like in <a href="https://stackoverflow.com/questions/610406/javascript-printf-string-format/4673436#4673436">fearphage’s suggestion</a>.</p>
</section>
<section id="answer-2-score-1361" class="level4">
<h4>Answer 2 (score 1361)</h4>
<p>Building on the previously suggested solutions:</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb436-1" title="1"><span class="co">// First, checks if it isn&#39;t implemented yet.</span></a>
<a class="sourceLine" id="cb436-2" title="2"><span class="cf">if</span> (<span class="op">!</span><span class="va">String</span>.<span class="va">prototype</span>.<span class="at">format</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb436-3" title="3">  <span class="va">String</span>.<span class="va">prototype</span>.<span class="at">format</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb436-4" title="4">    <span class="kw">var</span> args <span class="op">=</span> <span class="kw">arguments</span><span class="op">;</span></a>
<a class="sourceLine" id="cb436-5" title="5">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">replace</span>(<span class="ss">/{</span><span class="sc">(\d+)</span><span class="ss">}/g</span><span class="op">,</span> <span class="kw">function</span>(match<span class="op">,</span> number) <span class="op">{</span> </a>
<a class="sourceLine" id="cb436-6" title="6">      <span class="cf">return</span> <span class="kw">typeof</span> args[number] <span class="op">!=</span> <span class="st">&#39;undefined&#39;</span></a>
<a class="sourceLine" id="cb436-7" title="7">        <span class="op">?</span> args[number]</a>
<a class="sourceLine" id="cb436-8" title="8">        : match</a>
<a class="sourceLine" id="cb436-9" title="9">      <span class="op">;</span></a>
<a class="sourceLine" id="cb436-10" title="10">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb436-11" title="11">  <span class="op">};</span></a>
<a class="sourceLine" id="cb436-12" title="12"><span class="op">}</span></a></code></pre></div>
<p><code>&quot;{0} is dead, but {1} is alive! {0} {2}&quot;.format(&quot;ASP&quot;, &quot;ASP.NET&quot;)</code></p>
<p>outputs</p>
<blockquote>
ASP is dead, but ASP.NET is alive! ASP {2}
</blockquote>
<hr>
<p>If you prefer not to modify <code>String</code>’s prototype:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb437-1" title="1"><span class="cf">if</span> (<span class="op">!</span><span class="va">String</span>.<span class="at">format</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb437-2" title="2">  <span class="va">String</span>.<span class="at">format</span> <span class="op">=</span> <span class="kw">function</span>(format) <span class="op">{</span></a>
<a class="sourceLine" id="cb437-3" title="3">    <span class="kw">var</span> args <span class="op">=</span> <span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">slice</span>.<span class="at">call</span>(<span class="kw">arguments</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb437-4" title="4">    <span class="cf">return</span> <span class="va">format</span>.<span class="at">replace</span>(<span class="ss">/{</span><span class="sc">(\d+)</span><span class="ss">}/g</span><span class="op">,</span> <span class="kw">function</span>(match<span class="op">,</span> number) <span class="op">{</span> </a>
<a class="sourceLine" id="cb437-5" title="5">      <span class="cf">return</span> <span class="kw">typeof</span> args[number] <span class="op">!=</span> <span class="st">&#39;undefined&#39;</span></a>
<a class="sourceLine" id="cb437-6" title="6">        <span class="op">?</span> args[number] </a>
<a class="sourceLine" id="cb437-7" title="7">        : match</a>
<a class="sourceLine" id="cb437-8" title="8">      <span class="op">;</span></a>
<a class="sourceLine" id="cb437-9" title="9">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb437-10" title="10">  <span class="op">};</span></a>
<a class="sourceLine" id="cb437-11" title="11"><span class="op">}</span></a></code></pre></div>
<p>Gives you the much more familiar:</p>
<p><code>String.format('{0} is dead, but {1} is alive! {0} {2}', 'ASP', 'ASP.NET');</code></p>
<p>with the same result:</p>
<blockquote>
ASP is dead, but ASP.NET is alive! ASP {2}
</blockquote>
</section>
<section id="answer-3-score-444" class="level4">
<h4>Answer 3 (score 444)</h4>
<p>It’s funny because Stack Overflow actually has their own formatting function for the <code>String</code> prototype called <code>formatUnicorn</code>. Try it! Go into the console and type something like:</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb438-1" title="1"><span class="st">&quot;Hello, {name}, are you feeling {adjective}?&quot;</span>.<span class="at">formatUnicorn</span>(<span class="op">{</span><span class="dt">name</span><span class="op">:</span><span class="st">&quot;Gabriel&quot;</span><span class="op">,</span> <span class="dt">adjective</span><span class="op">:</span> <span class="st">&quot;OK&quot;</span><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><img src="https://i.stack.imgur.com/jYeIc.png" alt="Firebug"></p>
<p>You get this output:</p>
<p><code>Hello, Gabriel, are you feeling OK?</code></p>
<p>You can use objects, arrays, and strings as arguments! I got its code and reworked it to produce a new version of <code>String.prototype.format</code>:</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb439-1" title="1"><span class="va">String</span>.<span class="va">prototype</span>.<span class="at">formatUnicorn</span> <span class="op">=</span> <span class="va">String</span>.<span class="va">prototype</span>.<span class="at">formatUnicorn</span> <span class="op">||</span></a>
<a class="sourceLine" id="cb439-2" title="2"><span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb439-3" title="3">    <span class="st">&quot;use strict&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb439-4" title="4">    <span class="kw">var</span> str <span class="op">=</span> <span class="kw">this</span>.<span class="at">toString</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb439-5" title="5">    <span class="cf">if</span> (<span class="kw">arguments</span>.<span class="at">length</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb439-6" title="6">        <span class="kw">var</span> t <span class="op">=</span> <span class="kw">typeof</span> <span class="kw">arguments</span>[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb439-7" title="7">        <span class="kw">var</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb439-8" title="8">        <span class="kw">var</span> args <span class="op">=</span> (<span class="st">&quot;string&quot;</span> <span class="op">===</span> t <span class="op">||</span> <span class="st">&quot;number&quot;</span> <span class="op">===</span> t) <span class="op">?</span></a>
<a class="sourceLine" id="cb439-9" title="9">            <span class="va">Array</span>.<span class="va">prototype</span>.<span class="va">slice</span>.<span class="at">call</span>(<span class="kw">arguments</span>)</a>
<a class="sourceLine" id="cb439-10" title="10">            : <span class="kw">arguments</span>[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb439-11" title="11"></a>
<a class="sourceLine" id="cb439-12" title="12">        <span class="cf">for</span> (key <span class="kw">in</span> args) <span class="op">{</span></a>
<a class="sourceLine" id="cb439-13" title="13">            str <span class="op">=</span> <span class="va">str</span>.<span class="at">replace</span>(<span class="kw">new</span> <span class="at">RegExp</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">{&quot;</span> <span class="op">+</span> key <span class="op">+</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">}&quot;</span><span class="op">,</span> <span class="st">&quot;gi&quot;</span>)<span class="op">,</span> args[key])<span class="op">;</span></a>
<a class="sourceLine" id="cb439-14" title="14">        <span class="op">}</span></a>
<a class="sourceLine" id="cb439-15" title="15">    <span class="op">}</span></a>
<a class="sourceLine" id="cb439-16" title="16"></a>
<a class="sourceLine" id="cb439-17" title="17">    <span class="cf">return</span> str<span class="op">;</span></a>
<a class="sourceLine" id="cb439-18" title="18"><span class="op">};</span></a></code></pre></div>
<p>Note the clever <code>Array.prototype.slice.call(arguments)</code> call – that means if you throw in arguments that are strings or numbers, not a single JSON-style object, you get C#’s <a href="https://msdn.microsoft.com/en-us/library/system.string.format(v=vs.110).aspx#Starting"><code>String.Format</code></a> behavior almost exactly.</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb440-1" title="1"><span class="st">&quot;a{0}bcd{1}ef&quot;</span>.<span class="at">formatUnicorn</span>(<span class="st">&quot;foo&quot;</span><span class="op">,</span> <span class="st">&quot;bar&quot;</span>)<span class="op">;</span> <span class="co">// yields &quot;aFOObcdBARef&quot;</span></a></code></pre></div>
<p>That’s because <code>Array</code>’s <code>slice</code> will force whatever’s in <code>arguments</code> into an <code>Array</code>, whether it was originally or not, and the <code>key</code> will be the index (0, 1, 2…) of each array element coerced into a string (eg, “0”, so <code>&quot;\\{0\\}&quot;</code> for your first regexp pattern).</p>
<p>Neat.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="javascript-chopslicetrim-off-last-character-in-string-score-1568123-in-2017" class="level3">
<h3>65: JavaScript chop/slice/trim off last character in string (score <a href="https://stackoverflow.com/q/952924.html">1568123</a> in 2017)</h3>
<section id="question-64" class="level4">
<h4>Question</h4>
<p>I have a string, <code>12345.00</code>, and I would like it to return <code>12345.0</code>.</p>
<p>I have looked at <code>trim</code>, but it looks like it is only trimming whitespace and <code>slice</code> which I don’t see how this would work. Any suggestions?</p>
</section>
<section id="answer-accepted-score-2982" class="level4">
<h4>Answer accepted (score 2982)</h4>
<p>You can use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/substring" rel="noreferrer">substring</a> function:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript let str = &quot;12345.00&quot;; str = str.substring(0, str.length - 1); console.log(str);</code></p>
</div>
</div>
<p>This is the accepted answer, but as per the conversations below, the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice" rel="noreferrer">slice</a> syntax is much clearer:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript let str = &quot;12345.00&quot;; str = str.slice(0, -1);  console.log(str);</code></p>
</div>
</div>
</section>
<section id="answer-2-score-1243" class="level4">
<h4>Answer 2 (score 1243)</h4>
<p>You can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/slice" rel="noreferrer">slice</a>! You just have to make sure you know how to use it. Positive #s are relative to the beginning, negative numbers are relative to the end.</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb441-1" title="1">js<span class="op">&amp;</span>gt<span class="op">;</span><span class="st">&quot;12345.00&quot;</span>.<span class="at">slice</span>(<span class="dv">0</span><span class="op">,-</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb441-2" title="2"><span class="fl">12345.0</span></a></code></pre></div>
</section>
<section id="answer-3-score-253" class="level4">
<h4>Answer 3 (score 253)</h4>
<p>You can use the <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/substring" rel="noreferrer">substring</a> method of JavaScript string objects:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb442-1" title="1">s <span class="op">=</span> <span class="va">s</span>.<span class="at">substring</span>(<span class="dv">0</span><span class="op">,</span> <span class="va">s</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">4</span>)</a></code></pre></div>
<p>It unconditionally removes the last four characters from string <code>s</code>.</p>
<p>However, if you want to <em>conditionally</em> remove the last four characters, only if they are <em>exactly</em> <code>_bar</code>:</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb443-1" title="1"><span class="kw">var</span> re <span class="op">=</span> <span class="ss">/_bar</span><span class="sc">$</span><span class="ss">/</span><span class="op">;</span></a>
<a class="sourceLine" id="cb443-2" title="2"><span class="va">s</span>.<span class="at">replace</span>(re<span class="op">,</span> <span class="st">&quot;&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-loop-through-a-plain-javascript-object-with-the-objects-as-members-score-1555849-in-2018" class="level3">
<h3>66: How to loop through a plain JavaScript object with the objects as members? (score <a href="https://stackoverflow.com/q/921789.html">1555849</a> in 2018)</h3>
<section id="question-65" class="level4">
<h4>Question</h4>
<p>How can I loop through all members in a JavaScript object including values that are objects.</p>
<p>For example, how could I loop through this (accessing the “your_name” and “your_message” for each)?</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb444-1" title="1"><span class="kw">var</span> validation_messages <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb444-2" title="2">    <span class="st">&quot;key_1&quot;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb444-3" title="3">        <span class="st">&quot;your_name&quot;</span><span class="op">:</span> <span class="st">&quot;jimmy&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb444-4" title="4">        <span class="st">&quot;your_msg&quot;</span><span class="op">:</span> <span class="st">&quot;hello world&quot;</span></a>
<a class="sourceLine" id="cb444-5" title="5">    <span class="op">},</span></a>
<a class="sourceLine" id="cb444-6" title="6">    <span class="st">&quot;key_2&quot;</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb444-7" title="7">        <span class="st">&quot;your_name&quot;</span><span class="op">:</span> <span class="st">&quot;billy&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb444-8" title="8">        <span class="st">&quot;your_msg&quot;</span><span class="op">:</span> <span class="st">&quot;foo equals bar&quot;</span></a>
<a class="sourceLine" id="cb444-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb444-10" title="10"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-2041" class="level4">
<h4>Answer accepted (score 2041)</h4>
<div class="sourceCode" id="cb445"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb445-1" title="1"><span class="cf">for</span> (<span class="kw">var</span> key <span class="kw">in</span> validation_messages) <span class="op">{</span></a>
<a class="sourceLine" id="cb445-2" title="2">    <span class="co">// skip loop if the property is from prototype</span></a>
<a class="sourceLine" id="cb445-3" title="3">    <span class="cf">if</span> (<span class="op">!</span><span class="va">validation_messages</span>.<span class="at">hasOwnProperty</span>(key)) <span class="cf">continue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb445-4" title="4"></a>
<a class="sourceLine" id="cb445-5" title="5">    <span class="kw">var</span> obj <span class="op">=</span> validation_messages[key]<span class="op">;</span></a>
<a class="sourceLine" id="cb445-6" title="6">    <span class="cf">for</span> (<span class="kw">var</span> prop <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb445-7" title="7">        <span class="co">// skip loop if the property is from prototype</span></a>
<a class="sourceLine" id="cb445-8" title="8">        <span class="cf">if</span> (<span class="op">!</span><span class="va">obj</span>.<span class="at">hasOwnProperty</span>(prop)) <span class="cf">continue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb445-9" title="9"></a>
<a class="sourceLine" id="cb445-10" title="10">        <span class="co">// your code</span></a>
<a class="sourceLine" id="cb445-11" title="11">        <span class="at">alert</span>(prop <span class="op">+</span> <span class="st">&quot; = &quot;</span> <span class="op">+</span> obj[prop])<span class="op">;</span></a>
<a class="sourceLine" id="cb445-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb445-13" title="13"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-2-score-721" class="level4">
<h4>Answer 2 (score 721)</h4>
<p>Under ECMAScript 5, you can combine <code>Object.keys()</code> and <code>Array.prototype.forEach()</code>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var obj = { first: “John”, last: “Doe” };</p>
<p>// // Visit non-inherited enumerable keys // Object.keys(obj).forEach(function(key) {</p>
<p>console.log(key, obj[key]);</p>
<p>});```</p>
</div>
</div>
</section>
<section id="answer-3-score-381" class="level4">
<h4>Answer 3 (score 381)</h4>
<p>The problem with this</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb446-1" title="1"><span class="cf">for</span> (<span class="kw">var</span> key <span class="kw">in</span> validation_messages) <span class="op">{</span></a>
<a class="sourceLine" id="cb446-2" title="2">   <span class="kw">var</span> obj <span class="op">=</span> validation_messages[key]<span class="op">;</span></a>
<a class="sourceLine" id="cb446-3" title="3">   <span class="cf">for</span> (<span class="kw">var</span> prop <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb446-4" title="4">      <span class="at">alert</span>(prop <span class="op">+</span> <span class="st">&quot; = &quot;</span> <span class="op">+</span> obj[prop])<span class="op">;</span></a>
<a class="sourceLine" id="cb446-5" title="5">   <span class="op">}</span></a>
<a class="sourceLine" id="cb446-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>is that you’ll also loop through the primitive object’s prototype.</p>
<p>With this one you will avoid it:</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb447-1" title="1"><span class="cf">for</span> (<span class="kw">var</span> key <span class="kw">in</span> validation_messages) <span class="op">{</span></a>
<a class="sourceLine" id="cb447-2" title="2">   <span class="cf">if</span> (<span class="va">validation_messages</span>.<span class="at">hasOwnProperty</span>(key)) <span class="op">{</span></a>
<a class="sourceLine" id="cb447-3" title="3">      <span class="kw">var</span> obj <span class="op">=</span> validation_messages[key]<span class="op">;</span></a>
<a class="sourceLine" id="cb447-4" title="4">      <span class="cf">for</span> (<span class="kw">var</span> prop <span class="kw">in</span> obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb447-5" title="5">         <span class="cf">if</span> (<span class="va">obj</span>.<span class="at">hasOwnProperty</span>(prop)) <span class="op">{</span></a>
<a class="sourceLine" id="cb447-6" title="6">            <span class="at">alert</span>(prop <span class="op">+</span> <span class="st">&quot; = &quot;</span> <span class="op">+</span> obj[prop])<span class="op">;</span></a>
<a class="sourceLine" id="cb447-7" title="7">         <span class="op">}</span></a>
<a class="sourceLine" id="cb447-8" title="8">      <span class="op">}</span></a>
<a class="sourceLine" id="cb447-9" title="9">   <span class="op">}</span></a>
<a class="sourceLine" id="cb447-10" title="10"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-add-a-class-to-a-given-element-score-1505892-in-2019" class="level3">
<h3>67: How do I add a class to a given element? (score <a href="https://stackoverflow.com/q/507138.html">1505892</a> in 2019)</h3>
<section id="question-66" class="level4">
<h4>Question</h4>
<p>I have an element that already has a class:</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb448-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>div <span class="kw">class</span><span class="op">=</span><span class="st">&quot;someclass&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb448-2" title="2">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="va">img</span> ... <span class="at">id</span><span class="op">=</span><span class="st">&quot;image1&quot;</span> name<span class="op">=</span><span class="st">&quot;image1&quot;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb448-3" title="3"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>Now I want to create a JavaScript function that will add a class to the <code>div</code> (not replace, but add).</p>
<p>How can I do that?</p>
</section>
<section id="answer-accepted-score-1790" class="level4">
<h4>Answer accepted (score 1790)</h4>
<p>Add a space plus the name of your new class to the <code>className</code> property of the element. First, put an <code>id</code> on the element so you can easily get a reference.</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb449-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>div id<span class="op">=</span><span class="st">&quot;div1&quot;</span> <span class="kw">class</span><span class="op">=</span><span class="st">&quot;someclass&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb449-2" title="2">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="va">img</span> ... <span class="at">id</span><span class="op">=</span><span class="st">&quot;image1&quot;</span> name<span class="op">=</span><span class="st">&quot;image1&quot;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb449-3" title="3"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>Then</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb450-1" title="1"><span class="kw">var</span> d <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;div1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb450-2" title="2"><span class="va">d</span>.<span class="at">className</span> <span class="op">+=</span> <span class="st">&quot; otherclass&quot;</span><span class="op">;</span></a></code></pre></div>
<p>Note the space before <code>otherclass</code>. It’s important to include the space otherwise it compromises existing classes that come before it in the class list.</p>
<p>See also <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/className" rel="noreferrer">element.className on MDN</a>.</p>
</section>
<section id="answer-2-score-1301" class="level4">
<h4>Answer 2 (score 1301)</h4>
<p>The easiest way to do this without any framework is to use <a href="https://developer.mozilla.org/en-US/docs/DOM/element.classList" rel="noreferrer">element.classList.add</a> method.</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb451-1" title="1"><span class="kw">var</span> element <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;div1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb451-2" title="2"><span class="va">element</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&quot;otherclass&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>
<strong>Edit:</strong> And if you want to remove class from an element -
</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb452-1" title="1"><span class="va">element</span>.<span class="va">classList</span>.<span class="at">remove</span>(<span class="st">&quot;otherclass&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>I prefer not having to add any empty space and duplicate entry handling myself (which is required when using the <code>document.className</code> approach). There are some <a href="http://caniuse.com/#feat=classlist" rel="noreferrer">browser limitations</a>, but you can work around them using <a href="https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills#wiki-classlist" rel="noreferrer">polyfills</a>.</p>
</section>
<section id="answer-3-score-173" class="level4">
<h4>Answer 3 (score 173)</h4>
<p>find your target element “d” however you wish and then:</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb453-1" title="1"><span class="va">d</span>.<span class="at">className</span> <span class="op">+=</span> <span class="st">&#39; additionalClass&#39;</span><span class="op">;</span> <span class="co">//note the space</span></a></code></pre></div>
<p>you can wrap that in cleverer ways to check pre-existence, and check for space requirements etc..</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="convert-js-object-to-json-string-score-1499332-in-2019" class="level3">
<h3>68: Convert JS object to JSON string (score <a href="https://stackoverflow.com/q/4162749.html">1499332</a> in 2019)</h3>
<section id="question-67" class="level4">
<h4>Question</h4>
<p>If I defined an object in JS with:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb454-1" title="1"><span class="kw">var</span> j<span class="op">={</span><span class="st">&quot;name&quot;</span><span class="op">:</span><span class="st">&quot;binchen&quot;</span><span class="op">};</span></a></code></pre></div>
<p>How can I convert the object to JSON? The output string should be:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb455-1" title="1"><span class="st">&#39;{&quot;name&quot;:&quot;binchen&quot;}&#39;</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-1846" class="level4">
<h4>Answer accepted (score 1846)</h4>
<p>All current browsers have native JSON support built in. So as long as you’re not dealing with prehistoric browsers like IE6/7 you can do it just as easily as that:</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb456-1" title="1"><span class="kw">var</span> j<span class="op">={</span><span class="st">&quot;name&quot;</span><span class="op">:</span><span class="st">&quot;binchen&quot;</span><span class="op">};</span></a>
<a class="sourceLine" id="cb456-2" title="2"><span class="va">JSON</span>.<span class="at">stringify</span>(j)<span class="op">;</span> <span class="co">// &#39;{&quot;name&quot;:&quot;binchen&quot;}&#39;</span></a></code></pre></div>
</section>
<section id="answer-2-score-104" class="level4">
<h4>Answer 2 (score 104)</h4>
<p>With <code>JSON.stringify()</code> found in <a href="http://www.json.org/js.html" rel="noreferrer">json2.js</a> or native in most modern browsers.</p>
<blockquote>
<div class="sourceCode" id="cb457"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb457-1" title="1">   <span class="va">JSON</span>.<span class="at">stringify</span>(value<span class="op">,</span> replacer<span class="op">,</span> space)</a>
<a class="sourceLine" id="cb457-2" title="2">        value       any JavaScript value<span class="op">,</span> usually an object or <span class="va">array</span>.</a>
<a class="sourceLine" id="cb457-3" title="3"></a>
<a class="sourceLine" id="cb457-4" title="4">       replacer    an optional parameter that determines how object</a>
<a class="sourceLine" id="cb457-5" title="5">                    values are stringified <span class="cf">for</span> <span class="va">objects</span>. <span class="at">It</span> can be a</a>
<a class="sourceLine" id="cb457-6" title="6">                    <span class="kw">function</span> or an array <span class="kw">of</span> <span class="va">strings</span>.</a>
<a class="sourceLine" id="cb457-7" title="7"></a>
<a class="sourceLine" id="cb457-8" title="8">       space       an optional parameter that specifies the indentation</a>
<a class="sourceLine" id="cb457-9" title="9">                    <span class="kw">of</span> nested <span class="va">structures</span>. <span class="at">If</span> it is omitted<span class="op">,</span> the text will</a>
<a class="sourceLine" id="cb457-10" title="10">                    be packed without extra <span class="va">whitespace</span>. <span class="at">If</span> it is a number<span class="op">,</span></a>
<a class="sourceLine" id="cb457-11" title="11">                    it will specify the number <span class="kw">of</span> spaces to indent at each</a>
<a class="sourceLine" id="cb457-12" title="12">                    <span class="va">level</span>. <span class="at">If</span> it is a <span class="at">string</span> (such <span class="im">as</span> <span class="st">&#39;</span><span class="sc">\t</span><span class="st">&#39;</span> or <span class="st">&#39;&amp;amp;nbsp;&#39;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb457-13" title="13">                    it contains the characters used to indent at each <span class="va">level</span>.</a>
<a class="sourceLine" id="cb457-14" title="14"></a>
<a class="sourceLine" id="cb457-15" title="15">       This method produces a JSON text <span class="im">from</span> a JavaScript <span class="va">value</span>.</a></code></pre></div>
</blockquote>
</section>
<section id="answer-3-score-30" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>Check out updated/better way:</p>
<ul>
<li>
<a href="http://www.thomasfrank.se/json_stringify_revisited.html" rel="noreferrer">JSON stringify revisited</a>
</li>
</ul>
<blockquote>
<p>
Update May 17, 2008: Small sanitizer added to the toObject-method. <strong>Now toObject() will not eval() the string if it finds any malicious code in it.For even more security: Don’t set the includeFunctions flag to true.</strong>
</p>
<p>Douglas Crockford, father of the JSON concept, wrote one of the first stringifiers for JavaScript. Later Steve Yen at Trim Path wrote a nice improved version which I have used for some time. It’s my changes to Steve’s version that I’d like to share with you. Basically they stemmed from my wish to make the stringifier:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb458-1" title="1">• handle and restore cyclical references  </a>
<a class="sourceLine" id="cb458-2" title="2">• include the JavaScript code <span class="cf">for</span> functions/<span class="at">methods</span> (<span class="im">as</span> an option)  </a>
<a class="sourceLine" id="cb458-3" title="3">• exclude object members <span class="im">from</span> <span class="va">Object</span>.<span class="at">prototype</span> <span class="cf">if</span> <span class="va">needed</span>.</a></code></pre></div>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="validate-decimal-numbers-in-javascript---isnumeric-score-1447994-in-2016" class="level3">
<h3>69: Validate decimal numbers in JavaScript - IsNumeric() (score <a href="https://stackoverflow.com/q/18082.html">1447994</a> in 2016)</h3>
<section id="question-68" class="level4">
<h4>Question</h4>
<p>What’s the cleanest, most effective way to validate decimal numbers in JavaScript?</p>
<p>Bonus points for:</p>
<ol>
<li>
Clarity. Solution should be clean and simple.
</li>
<li>
Cross-platform.
</li>
</ol>
<p>Test cases:</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb459-1" title="1"><span class="fl">01.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;-1&#39;</span>)      <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb459-2" title="2"><span class="fl">02.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;-1.5&#39;</span>)    <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb459-3" title="3"><span class="fl">03.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;0&#39;</span>)       <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb459-4" title="4"><span class="fl">04.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;0.42&#39;</span>)    <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb459-5" title="5"><span class="fl">05.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;.42&#39;</span>)     <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">true</span></a>
<a class="sourceLine" id="cb459-6" title="6"><span class="fl">06.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;99,999&#39;</span>)  <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb459-7" title="7"><span class="fl">07.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;0x89f&#39;</span>)   <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb459-8" title="8"><span class="fl">08.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;#abcdef&#39;</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb459-9" title="9"><span class="fl">09.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;1.2.3&#39;</span>)   <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb459-10" title="10"><span class="fl">10.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;&#39;</span>)        <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb459-11" title="11"><span class="fl">11.</span> <span class="at">IsNumeric</span>(<span class="st">&#39;blah&#39;</span>)    <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="kw">false</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-2860" class="level4">
<h4>Answer accepted (score 2860)</h4>
<p><a href="https://stackoverflow.com/questions/18082/validate-numbers-in-javascript-isnumeric/174921#174921"><span class="citation" data-cites="Joel">@Joel</span>’s answer</a> is pretty close, but it will fail in the following cases:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb460-1" title="1"><span class="co">// Whitespace strings:</span></a>
<a class="sourceLine" id="cb460-2" title="2"><span class="at">IsNumeric</span>(<span class="st">&#39; &#39;</span>)    <span class="op">==</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb460-3" title="3"><span class="at">IsNumeric</span>(<span class="st">&#39;</span><span class="sc">\t\t</span><span class="st">&#39;</span>) <span class="op">==</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb460-4" title="4"><span class="at">IsNumeric</span>(<span class="st">&#39;</span><span class="sc">\n\r</span><span class="st">&#39;</span>) <span class="op">==</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb460-5" title="5"></a>
<a class="sourceLine" id="cb460-6" title="6"><span class="co">// Number literals:</span></a>
<a class="sourceLine" id="cb460-7" title="7"><span class="at">IsNumeric</span>(<span class="op">-</span><span class="dv">1</span>)  <span class="op">==</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb460-8" title="8"><span class="at">IsNumeric</span>(<span class="dv">0</span>)   <span class="op">==</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb460-9" title="9"><span class="at">IsNumeric</span>(<span class="fl">1.1</span>) <span class="op">==</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb460-10" title="10"><span class="at">IsNumeric</span>(<span class="fl">8e5</span>) <span class="op">==</span> <span class="kw">false</span><span class="op">;</span></a></code></pre></div>
<p>Some time ago I had to implement an <code>IsNumeric</code> function, to find out if a variable contained a numeric value, <strong>regardless of its type</strong>, it could be a <code>String</code> containing a numeric value (I had to consider also exponential notation, etc.), a <code>Number</code> object, virtually anything could be passed to that function, I couldn’t make any type assumptions, taking care of type coercion (eg. <code>+true == 1;</code> but <code>true</code> shouldn’t be considered as <code>&quot;numeric&quot;</code>).</p>
<p>I think is worth sharing this set of <a href="http://run.plnkr.co/plunks/93FPpacuIcXqqKMecLdk/" rel="noreferrer"><strong>+30 unit tests</strong></a> made to numerous function implementations, and also share the one that passes all my tests:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb461-1" title="1"><span class="kw">function</span> <span class="at">isNumeric</span>(n) <span class="op">{</span></a>
<a class="sourceLine" id="cb461-2" title="2">    <span class="cf">return</span> <span class="op">!</span><span class="at">isNaN</span>(<span class="at">parseFloat</span>(n)) <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="at">isFinite</span>(n)<span class="op">;</span></a>
<a class="sourceLine" id="cb461-3" title="3"><span class="op">}</span></a></code></pre></div>
<p><strong>P.S.</strong> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isNaN" rel="noreferrer">isNaN</a> &amp; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/isFinite" rel="noreferrer">isFinite</a> have a confusing behavior due to forced conversion to number. In ES6, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN" rel="noreferrer">Number.isNaN</a> &amp; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite" rel="noreferrer">Number.isFinite</a> would fix these issues. Keep that in mind when using them.</p>
<hr>
<p>
<strong>Update</strong> : <a href="https://github.com/jquery/jquery/blob/2.2-stable/src/core.js#L215" rel="noreferrer">Here’s how jQuery does it now (2.2-stable)</a>:
</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb462-1" title="1">isNumeric<span class="op">:</span> <span class="kw">function</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb462-2" title="2">    <span class="kw">var</span> realStringObj <span class="op">=</span> obj <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">obj</span>.<span class="at">toString</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb462-3" title="3">    <span class="cf">return</span> <span class="op">!</span><span class="va">jQuery</span>.<span class="at">isArray</span>(obj) <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> (realStringObj <span class="op">-</span> <span class="at">parseFloat</span>(realStringObj) <span class="op">+</span> <span class="dv">1</span>) <span class="op">&amp;</span>gt<span class="op">;=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb462-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>
<strong>Update</strong> : <a href="https://github.com/angular/angular/blob/4.3.x/packages/common/src/pipes/number_pipe.ts#L172" rel="noreferrer">Angular 4.3</a>:
</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb463-1" title="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">isNumeric</span>(value<span class="op">:</span> any)<span class="op">:</span> boolean <span class="op">{</span></a>
<a class="sourceLine" id="cb463-2" title="2">    <span class="cf">return</span> <span class="op">!</span><span class="at">isNaN</span>(value <span class="op">-</span> <span class="at">parseFloat</span>(value))<span class="op">;</span></a>
<a class="sourceLine" id="cb463-3" title="3"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-2-score-329" class="level4">
<h4>Answer 2 (score 329)</h4>
<p>Arrrgh! Don’t listen to the regular expression answers. RegEx is icky for this, and I’m not talking just performance. It’s so easy to make subtle, impossible to spot mistakes with your regular expression.</p>
<p>If you can’t use <code>isNaN()</code>, this should work much better:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb464-1" title="1"><span class="kw">function</span> <span class="at">IsNumeric</span>(input)</a>
<a class="sourceLine" id="cb464-2" title="2"><span class="op">{</span></a>
<a class="sourceLine" id="cb464-3" title="3">    <span class="cf">return</span> (input <span class="op">-</span> <span class="dv">0</span>) <span class="op">==</span> input <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> (<span class="st">&#39;&#39;</span><span class="op">+</span>input).<span class="at">trim</span>().<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb464-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>Here’s how it works:</p>
<p>The <code>(input - 0)</code> expression forces JavaScript to do type coercion on your input value; it must first be interpreted as a number for the subtraction operation. If that conversion to a number fails, the expression will result in <code>NaN</code>. This <em>numeric</em> result is then compared to the original value you passed in. Since the left hand side is now numeric, type coercion is again used. Now that the input from both sides was coerced to the same type from the same original value, you would think they should always be the same (always true). However, there’s a special rule that says <code>NaN</code> is never equal to <code>NaN</code>, and so a value that can’t be converted to a number (and only values that cannot be converted to numbers) will result in false.</p>
<p>The check on the length is for a special case involving empty strings. Also note that it falls down on your 0x89f test, but that’s because in many environments that’s an okay way to define a number literal. If you want to catch that specific scenario you could add an additional check. Even better, if that’s your reason for not using <code>isNaN()</code> then just wrap your own function around <code>isNaN()</code> that can also do the additional check.</p>
<p>In summary, <strong><em>if you want to know if a value can be converted to a number, actually try to convert it to a number.</em></strong></p>
<hr>
<p>I went back and did some research for <em>why</em> a whitespace string did not have the expected output, and I think I get it now: an empty string is coerced to <code>0</code> rather than <code>NaN</code>. Simply trimming the string before the length check will handle this case.</p>
<p>Running the unit tests against the new code and it only fails on the infinity and boolean literals, and the only time that should be a problem is if you’re generating code (really, who would type in a literal and check if it’s numeric? You should <em>know</em>), and that would be some strange code to generate.</p>
<p>But, again, <strong>the only reason ever to use this is if for some reason you have to avoid isNaN().</strong></p>
</section>
<section id="answer-3-score-65" class="level4">
<h4>Answer 3 (score 65)</h4>
<p>This way seems to work well:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb465-1" title="1"><span class="kw">function</span> <span class="at">IsNumeric</span>(input)<span class="op">{</span></a>
<a class="sourceLine" id="cb465-2" title="2">    <span class="kw">var</span> RE <span class="op">=</span> <span class="ss">/</span><span class="sc">^</span><span class="ss">-</span><span class="sc">{0,1}\d*\.{0,1}\d+$</span><span class="ss">/</span><span class="op">;</span></a>
<a class="sourceLine" id="cb465-3" title="3">    <span class="cf">return</span> (<span class="va">RE</span>.<span class="at">test</span>(input))<span class="op">;</span></a>
<a class="sourceLine" id="cb465-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>And to test it:</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb466-1" title="1"><span class="co">// alert(TestIsNumeric());</span></a>
<a class="sourceLine" id="cb466-2" title="2"></a>
<a class="sourceLine" id="cb466-3" title="3"><span class="kw">function</span> <span class="at">TestIsNumeric</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb466-4" title="4">    <span class="kw">var</span> results <span class="op">=</span> <span class="st">&#39;&#39;</span></a>
<a class="sourceLine" id="cb466-5" title="5">    results <span class="op">+=</span> (<span class="at">IsNumeric</span>(<span class="st">&#39;-1&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;-1&#39;) =&amp;gt; true</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-6" title="6">    results <span class="op">+=</span> (<span class="at">IsNumeric</span>(<span class="st">&#39;-1.5&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;-1.5&#39;) =&amp;gt; true</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-7" title="7">    results <span class="op">+=</span> (<span class="at">IsNumeric</span>(<span class="st">&#39;0&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;0&#39;) =&amp;gt; true</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-8" title="8">    results <span class="op">+=</span> (<span class="at">IsNumeric</span>(<span class="st">&#39;0.42&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;0.42&#39;) =&amp;gt; true</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-9" title="9">    results <span class="op">+=</span> (<span class="at">IsNumeric</span>(<span class="st">&#39;.42&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;.42&#39;) =&amp;gt; true</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-10" title="10">    results <span class="op">+=</span> (<span class="op">!</span><span class="at">IsNumeric</span>(<span class="st">&#39;99,999&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;99,999&#39;) =&amp;gt; false</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-11" title="11">    results <span class="op">+=</span> (<span class="op">!</span><span class="at">IsNumeric</span>(<span class="st">&#39;0x89f&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;0x89f&#39;) =&amp;gt; false</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-12" title="12">    results <span class="op">+=</span> (<span class="op">!</span><span class="at">IsNumeric</span>(<span class="st">&#39;#abcdef&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;#abcdef&#39;) =&amp;gt; false</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-13" title="13">    results <span class="op">+=</span> (<span class="op">!</span><span class="at">IsNumeric</span>(<span class="st">&#39;1.2.3&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;1.2.3&#39;) =&amp;gt; false</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-14" title="14">    results <span class="op">+=</span> (<span class="op">!</span><span class="at">IsNumeric</span>(<span class="st">&#39;&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;&#39;) =&amp;gt; false</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-15" title="15">    results <span class="op">+=</span> (<span class="op">!</span><span class="at">IsNumeric</span>(<span class="st">&#39;blah&#39;</span>)<span class="op">?</span><span class="st">&quot;Pass&quot;</span>:<span class="st">&quot;Fail&quot;</span>) <span class="op">+</span> <span class="st">&quot;: IsNumeric(&#39;blah&#39;) =&amp;gt; false</span><span class="sc">\n</span><span class="st">&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb466-16" title="16"></a>
<a class="sourceLine" id="cb466-17" title="17">    <span class="cf">return</span> results<span class="op">;</span></a>
<a class="sourceLine" id="cb466-18" title="18"><span class="op">}</span></a></code></pre></div>
<p>I borrowed that regex from <a href="http://www.codetoad.com/javascript/isnumeric.asp" rel="noreferrer">http://www.codetoad.com/javascript/isnumeric.asp</a>. Explanation:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb467-1" title="1"><span class="ss">/</span><span class="sc">^</span><span class="ss"> match beginning of string</span></a>
<a class="sourceLine" id="cb467-2" title="2"><span class="ss">-</span><span class="sc">{0,1}</span><span class="ss"> optional negative sign</span></a>
<a class="sourceLine" id="cb467-3" title="3"><span class="sc">\d*</span><span class="ss"> optional digits</span></a>
<a class="sourceLine" id="cb467-4" title="4"><span class="sc">\.{0,1}</span><span class="ss"> optional decimal point</span></a>
<a class="sourceLine" id="cb467-5" title="5"><span class="sc">\d+</span><span class="ss"> at least one digit</span></a>
<a class="sourceLine" id="cb467-6" title="6"><span class="sc">$</span><span class="ss">/</span> match end <span class="kw">of</span> string</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="encode-url-in-javascript-score-1436477-in-2014" class="level3">
<h3>70: Encode URL in JavaScript? (score <a href="https://stackoverflow.com/q/332872.html">1436477</a> in 2014)</h3>
<section id="question-69" class="level4">
<h4>Question</h4>
<p>How do you safely encode a URL using JavaScript such that it can be put into a GET string?</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb468-1" title="1"><span class="kw">var</span> myUrl <span class="op">=</span> <span class="st">&quot;http://example.com/index.html?param=1&amp;amp;anotherParam=2&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb468-2" title="2"><span class="kw">var</span> myOtherUrl <span class="op">=</span> <span class="st">&quot;http://example.com/index.html?url=&quot;</span> <span class="op">+</span> myUrl<span class="op">;</span></a></code></pre></div>
<p>I assume that you need to encode the <code>myUrl</code> variable on that second line?</p>
</section>
<section id="answer-accepted-score-2700" class="level4">
<h4>Answer accepted (score 2700)</h4>
<p>
Check out the built-in function <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" rel="noreferrer">encodeURIComponent(str)</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI" rel="noreferrer">encodeURI(str)</a>.<br> In your case, this should work:
</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb469-1" title="1"><span class="kw">var</span> myOtherUrl <span class="op">=</span> </a>
<a class="sourceLine" id="cb469-2" title="2">       <span class="st">&quot;http://example.com/index.html?url=&quot;</span> <span class="op">+</span> <span class="at">encodeURIComponent</span>(myUrl)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-1481" class="level4">
<h4>Answer 2 (score 1481)</h4>
<p>You have three options:</p>
<ul>
<li>
<p>
<code>escape()</code> will not encode: <code>@*/+</code>
</p>
</li>
<li>
<p>
<code>encodeURI()</code> will not encode: <code>~!@#$&amp;amp;*()=:/,;?+'</code>
</p>
</li>
<li>
<p>
<code>encodeURIComponent()</code> will not encode: <code>~!*()'</code>
</p>
</li>
</ul>
<p>But in your case, if you want to pass a <a href="http://en.wikipedia.org/wiki/Uniform_Resource_Locator" rel="noreferrer">URL</a> into a <code>GET</code> parameter of other page, you should use <code>escape</code> or <code>encodeURIComponent</code>, but not <code>encodeURI</code>.</p>
<p>See Stack Overflow question <em><a href="https://stackoverflow.com/questions/75980/best-practice-escape-or-encodeuri-encodeuricomponent">Best practice: escape, or encodeURI / encodeURIComponent</a></em> for further discussion.</p>
</section>
<section id="answer-3-score-175" class="level4">
<h4>Answer 3 (score 175)</h4>
<p>Stick with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent" rel="noreferrer"><code>encodeURIComponent()</code></a>. The function <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI" rel="noreferrer"><code>encodeURI()</code></a> does not bother to encode many characters that have semantic importance in URLs (e.g. “#”, “?”, and “&amp;”). <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/escape" rel="noreferrer"><code>escape()</code></a> is deprecated, and does not bother to encode “+” characters, which will be interpreted as encoded spaces on the server (and, as pointed out by others here, does not properly URL-encode non-ASCII characters).</p>
<p>There is a nice <a href="https://stackoverflow.com/questions/75980/best-practice-escape-or-encodeuri-encodeuricomponent">explanation of the difference between <code>encodeURI()</code> and <code>encodeURIComponent()</code></a> elsewhere. If you want to encode something so that it can safely be included as a component of a URI (e.g. as a query string parameter), you want to use <code>encodeURIComponent()</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-best-way-to-detect-a-mobile-device-score-1433708-in-2019" class="level3">
<h3>71: What is the best way to detect a mobile device? (score <a href="https://stackoverflow.com/q/3514784.html">1433708</a> in 2019)</h3>
<section id="question-70" class="level4">
<h4>Question</h4>
<p>Is there a solid way to detect whether or not a user is using a mobile device in jQuery? Something similar to the CSS <span class="citation" data-cites="media">@media</span> attribute? I would like to run a different script if the browser is on a handheld device.</p>
<p>The jQuery <code>$.browser</code> function is not what I am looking for.</p>
</section>
<section id="answer-accepted-score-1928" class="level4">
<h4>Answer accepted (score 1928)</h4>
<p>Instead of using jQuery you can use simple JavaScript to detect it:</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb470-1" title="1"><span class="cf">if</span>( <span class="ss">/Android</span><span class="sc">|</span><span class="ss">webOS</span><span class="sc">|</span><span class="ss">iPhone</span><span class="sc">|</span><span class="ss">iPad</span><span class="sc">|</span><span class="ss">iPod</span><span class="sc">|</span><span class="ss">BlackBerry</span><span class="sc">|</span><span class="ss">IEMobile</span><span class="sc">|</span><span class="ss">Opera Mini/i</span>.<span class="at">test</span>(<span class="va">navigator</span>.<span class="at">userAgent</span>) ) <span class="op">{</span></a>
<a class="sourceLine" id="cb470-2" title="2"> <span class="co">// some code..</span></a>
<a class="sourceLine" id="cb470-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Or you can combine them both to make it more accessible through jQuery…</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb471-1" title="1"><span class="va">$</span>.<span class="va">browser</span>.<span class="at">device</span> <span class="op">=</span> (<span class="ss">/android</span><span class="sc">|</span><span class="ss">webos</span><span class="sc">|</span><span class="ss">iphone</span><span class="sc">|</span><span class="ss">ipad</span><span class="sc">|</span><span class="ss">ipod</span><span class="sc">|</span><span class="ss">blackberry</span><span class="sc">|</span><span class="ss">iemobile</span><span class="sc">|</span><span class="ss">opera mini/i</span>.<span class="at">test</span>(<span class="va">navigator</span>.<span class="va">userAgent</span>.<span class="at">toLowerCase</span>()))<span class="op">;</span></a></code></pre></div>
<p>Now <code>$.browser</code> will return <code>&quot;device&quot;</code> for all above devices</p>
<p>Note: <code>$.browser</code> removed on <a href="http://jquery.com/upgrade-guide/1.9/#jquery-browser-removed" rel="noreferrer"><strong>jQuery v1.9.1</strong></a>. But you can use this by using jQuery migration plugin <a href="https://stackoverflow.com/a/15072522/2724173"><strong>Code</strong></a></p>
<hr>
<p>A more thorough version:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb472-1" title="1"><span class="kw">var</span> isMobile <span class="op">=</span> <span class="kw">false</span><span class="op">;</span> <span class="co">//initiate as false</span></a>
<a class="sourceLine" id="cb472-2" title="2"><span class="co">// device detection</span></a>
<a class="sourceLine" id="cb472-3" title="3"><span class="cf">if</span>(<span class="ss">/</span><span class="sc">(</span><span class="ss">android</span><span class="sc">|</span><span class="ss">bb</span><span class="sc">\d+|</span><span class="ss">meego</span><span class="sc">)</span><span class="ss">.</span><span class="sc">+</span><span class="ss">mobile</span><span class="sc">|</span><span class="ss">avantgo</span><span class="sc">|</span><span class="ss">bada</span><span class="sc">\/|</span><span class="ss">blackberry</span><span class="sc">|</span><span class="ss">blazer</span><span class="sc">|</span><span class="ss">compal</span><span class="sc">|</span><span class="ss">elaine</span><span class="sc">|</span><span class="ss">fennec</span><span class="sc">|</span><span class="ss">hiptop</span><span class="sc">|</span><span class="ss">iemobile</span><span class="sc">|</span><span class="ss">ip</span><span class="sc">(</span><span class="ss">hone</span><span class="sc">|</span><span class="ss">od</span><span class="sc">)|</span><span class="ss">ipad</span><span class="sc">|</span><span class="ss">iris</span><span class="sc">|</span><span class="ss">kindle</span><span class="sc">|</span><span class="ss">Android</span><span class="sc">|</span><span class="ss">Silk</span><span class="sc">|</span><span class="ss">lge </span><span class="sc">|</span><span class="ss">maemo</span><span class="sc">|</span><span class="ss">midp</span><span class="sc">|</span><span class="ss">mmp</span><span class="sc">|</span><span class="ss">netfront</span><span class="sc">|</span><span class="ss">opera m</span><span class="sc">(</span><span class="ss">ob</span><span class="sc">|</span><span class="ss">in</span><span class="sc">)</span><span class="ss">i</span><span class="sc">|</span><span class="ss">palm</span><span class="sc">(</span><span class="ss"> os</span><span class="sc">)?|</span><span class="ss">phone</span><span class="sc">|</span><span class="ss">p</span><span class="sc">(</span><span class="ss">ixi</span><span class="sc">|</span><span class="ss">re</span><span class="sc">)\/|</span><span class="ss">plucker</span><span class="sc">|</span><span class="ss">pocket</span><span class="sc">|</span><span class="ss">psp</span><span class="sc">|</span><span class="ss">series</span><span class="sc">(</span><span class="ss">4</span><span class="sc">|</span><span class="ss">6</span><span class="sc">)</span><span class="ss">0</span><span class="sc">|</span><span class="ss">symbian</span><span class="sc">|</span><span class="ss">treo</span><span class="sc">|</span><span class="ss">up</span><span class="sc">\.(</span><span class="ss">browser</span><span class="sc">|</span><span class="ss">link</span><span class="sc">)|</span><span class="ss">vodafone</span><span class="sc">|</span><span class="ss">wap</span><span class="sc">|</span><span class="ss">windows </span><span class="sc">(</span><span class="ss">ce</span><span class="sc">|</span><span class="ss">phone</span><span class="sc">)|</span><span class="ss">xda</span><span class="sc">|</span><span class="ss">xiino/i</span>.<span class="at">test</span>(<span class="va">navigator</span>.<span class="at">userAgent</span>) </a>
<a class="sourceLine" id="cb472-4" title="4">    <span class="op">||</span> <span class="ss">/1207</span><span class="sc">|</span><span class="ss">6310</span><span class="sc">|</span><span class="ss">6590</span><span class="sc">|</span><span class="ss">3gso</span><span class="sc">|</span><span class="ss">4thp</span><span class="sc">|</span><span class="ss">50</span><span class="sc">[1-6]</span><span class="ss">i</span><span class="sc">|</span><span class="ss">770s</span><span class="sc">|</span><span class="ss">802s</span><span class="sc">|</span><span class="ss">a wa</span><span class="sc">|</span><span class="ss">abac</span><span class="sc">|</span><span class="ss">ac</span><span class="sc">(</span><span class="ss">er</span><span class="sc">|</span><span class="ss">oo</span><span class="sc">|</span><span class="ss">s</span><span class="sc">\-)|</span><span class="ss">ai</span><span class="sc">(</span><span class="ss">ko</span><span class="sc">|</span><span class="ss">rn</span><span class="sc">)|</span><span class="ss">al</span><span class="sc">(</span><span class="ss">av</span><span class="sc">|</span><span class="ss">ca</span><span class="sc">|</span><span class="ss">co</span><span class="sc">)|</span><span class="ss">amoi</span><span class="sc">|</span><span class="ss">an</span><span class="sc">(</span><span class="ss">ex</span><span class="sc">|</span><span class="ss">ny</span><span class="sc">|</span><span class="ss">yw</span><span class="sc">)|</span><span class="ss">aptu</span><span class="sc">|</span><span class="ss">ar</span><span class="sc">(</span><span class="ss">ch</span><span class="sc">|</span><span class="ss">go</span><span class="sc">)|</span><span class="ss">as</span><span class="sc">(</span><span class="ss">te</span><span class="sc">|</span><span class="ss">us</span><span class="sc">)|</span><span class="ss">attw</span><span class="sc">|</span><span class="ss">au</span><span class="sc">(</span><span class="ss">di</span><span class="sc">|\-</span><span class="ss">m</span><span class="sc">|</span><span class="ss">r </span><span class="sc">|</span><span class="ss">s </span><span class="sc">)|</span><span class="ss">avan</span><span class="sc">|</span><span class="ss">be</span><span class="sc">(</span><span class="ss">ck</span><span class="sc">|</span><span class="ss">ll</span><span class="sc">|</span><span class="ss">nq</span><span class="sc">)|</span><span class="ss">bi</span><span class="sc">(</span><span class="ss">lb</span><span class="sc">|</span><span class="ss">rd</span><span class="sc">)|</span><span class="ss">bl</span><span class="sc">(</span><span class="ss">ac</span><span class="sc">|</span><span class="ss">az</span><span class="sc">)|</span><span class="ss">br</span><span class="sc">(</span><span class="ss">e</span><span class="sc">|</span><span class="ss">v</span><span class="sc">)</span><span class="ss">w</span><span class="sc">|</span><span class="ss">bumb</span><span class="sc">|</span><span class="ss">bw</span><span class="sc">\-(</span><span class="ss">n</span><span class="sc">|</span><span class="ss">u</span><span class="sc">)|</span><span class="ss">c55</span><span class="sc">\/|</span><span class="ss">capi</span><span class="sc">|</span><span class="ss">ccwa</span><span class="sc">|</span><span class="ss">cdm</span><span class="sc">\-|</span><span class="ss">cell</span><span class="sc">|</span><span class="ss">chtm</span><span class="sc">|</span><span class="ss">cldc</span><span class="sc">|</span><span class="ss">cmd</span><span class="sc">\-|</span><span class="ss">co</span><span class="sc">(</span><span class="ss">mp</span><span class="sc">|</span><span class="ss">nd</span><span class="sc">)|</span><span class="ss">craw</span><span class="sc">|</span><span class="ss">da</span><span class="sc">(</span><span class="ss">it</span><span class="sc">|</span><span class="ss">ll</span><span class="sc">|</span><span class="ss">ng</span><span class="sc">)|</span><span class="ss">dbte</span><span class="sc">|</span><span class="ss">dc</span><span class="sc">\-</span><span class="ss">s</span><span class="sc">|</span><span class="ss">devi</span><span class="sc">|</span><span class="ss">dica</span><span class="sc">|</span><span class="ss">dmob</span><span class="sc">|</span><span class="ss">do</span><span class="sc">(</span><span class="ss">c</span><span class="sc">|</span><span class="ss">p</span><span class="sc">)</span><span class="ss">o</span><span class="sc">|</span><span class="ss">ds</span><span class="sc">(</span><span class="ss">12</span><span class="sc">|\-</span><span class="ss">d</span><span class="sc">)|</span><span class="ss">el</span><span class="sc">(</span><span class="ss">49</span><span class="sc">|</span><span class="ss">ai</span><span class="sc">)|</span><span class="ss">em</span><span class="sc">(</span><span class="ss">l2</span><span class="sc">|</span><span class="ss">ul</span><span class="sc">)|</span><span class="ss">er</span><span class="sc">(</span><span class="ss">ic</span><span class="sc">|</span><span class="ss">k0</span><span class="sc">)|</span><span class="ss">esl8</span><span class="sc">|</span><span class="ss">ez</span><span class="sc">([4-7]</span><span class="ss">0</span><span class="sc">|</span><span class="ss">os</span><span class="sc">|</span><span class="ss">wa</span><span class="sc">|</span><span class="ss">ze</span><span class="sc">)|</span><span class="ss">fetc</span><span class="sc">|</span><span class="ss">fly</span><span class="sc">(\-|</span><span class="ss">_</span><span class="sc">)|</span><span class="ss">g1 u</span><span class="sc">|</span><span class="ss">g560</span><span class="sc">|</span><span class="ss">gene</span><span class="sc">|</span><span class="ss">gf</span><span class="sc">\-</span><span class="ss">5</span><span class="sc">|</span><span class="ss">g</span><span class="sc">\-</span><span class="ss">mo</span><span class="sc">|</span><span class="ss">go</span><span class="sc">(\.</span><span class="ss">w</span><span class="sc">|</span><span class="ss">od</span><span class="sc">)|</span><span class="ss">gr</span><span class="sc">(</span><span class="ss">ad</span><span class="sc">|</span><span class="ss">un</span><span class="sc">)|</span><span class="ss">haie</span><span class="sc">|</span><span class="ss">hcit</span><span class="sc">|</span><span class="ss">hd</span><span class="sc">\-(</span><span class="ss">m</span><span class="sc">|</span><span class="ss">p</span><span class="sc">|</span><span class="ss">t</span><span class="sc">)|</span><span class="ss">hei</span><span class="sc">\-|</span><span class="ss">hi</span><span class="sc">(</span><span class="ss">pt</span><span class="sc">|</span><span class="ss">ta</span><span class="sc">)|</span><span class="ss">hp</span><span class="sc">(</span><span class="ss"> i</span><span class="sc">|</span><span class="ss">ip</span><span class="sc">)|</span><span class="ss">hs</span><span class="sc">\-</span><span class="ss">c</span><span class="sc">|</span><span class="ss">ht</span><span class="sc">(</span><span class="ss">c</span><span class="sc">(\-|</span><span class="ss"> </span><span class="sc">|</span><span class="ss">_</span><span class="sc">|</span><span class="ss">a</span><span class="sc">|</span><span class="ss">g</span><span class="sc">|</span><span class="ss">p</span><span class="sc">|</span><span class="ss">s</span><span class="sc">|</span><span class="ss">t</span><span class="sc">)|</span><span class="ss">tp</span><span class="sc">)|</span><span class="ss">hu</span><span class="sc">(</span><span class="ss">aw</span><span class="sc">|</span><span class="ss">tc</span><span class="sc">)|</span><span class="ss">i</span><span class="sc">\-(</span><span class="ss">20</span><span class="sc">|</span><span class="ss">go</span><span class="sc">|</span><span class="ss">ma</span><span class="sc">)|</span><span class="ss">i230</span><span class="sc">|</span><span class="ss">iac</span><span class="sc">(</span><span class="ss"> </span><span class="sc">|\-|\/)|</span><span class="ss">ibro</span><span class="sc">|</span><span class="ss">idea</span><span class="sc">|</span><span class="ss">ig01</span><span class="sc">|</span><span class="ss">ikom</span><span class="sc">|</span><span class="ss">im1k</span><span class="sc">|</span><span class="ss">inno</span><span class="sc">|</span><span class="ss">ipaq</span><span class="sc">|</span><span class="ss">iris</span><span class="sc">|</span><span class="ss">ja</span><span class="sc">(</span><span class="ss">t</span><span class="sc">|</span><span class="ss">v</span><span class="sc">)</span><span class="ss">a</span><span class="sc">|</span><span class="ss">jbro</span><span class="sc">|</span><span class="ss">jemu</span><span class="sc">|</span><span class="ss">jigs</span><span class="sc">|</span><span class="ss">kddi</span><span class="sc">|</span><span class="ss">keji</span><span class="sc">|</span><span class="ss">kgt</span><span class="sc">(</span><span class="ss"> </span><span class="sc">|\/)|</span><span class="ss">klon</span><span class="sc">|</span><span class="ss">kpt </span><span class="sc">|</span><span class="ss">kwc</span><span class="sc">\-|</span><span class="ss">kyo</span><span class="sc">(</span><span class="ss">c</span><span class="sc">|</span><span class="ss">k</span><span class="sc">)|</span><span class="ss">le</span><span class="sc">(</span><span class="ss">no</span><span class="sc">|</span><span class="ss">xi</span><span class="sc">)|</span><span class="ss">lg</span><span class="sc">(</span><span class="ss"> g</span><span class="sc">|\/(</span><span class="ss">k</span><span class="sc">|</span><span class="ss">l</span><span class="sc">|</span><span class="ss">u</span><span class="sc">)|</span><span class="ss">50</span><span class="sc">|</span><span class="ss">54</span><span class="sc">|\-[a-w])|</span><span class="ss">libw</span><span class="sc">|</span><span class="ss">lynx</span><span class="sc">|</span><span class="ss">m1</span><span class="sc">\-</span><span class="ss">w</span><span class="sc">|</span><span class="ss">m3ga</span><span class="sc">|</span><span class="ss">m50</span><span class="sc">\/|</span><span class="ss">ma</span><span class="sc">(</span><span class="ss">te</span><span class="sc">|</span><span class="ss">ui</span><span class="sc">|</span><span class="ss">xo</span><span class="sc">)|</span><span class="ss">mc</span><span class="sc">(</span><span class="ss">01</span><span class="sc">|</span><span class="ss">21</span><span class="sc">|</span><span class="ss">ca</span><span class="sc">)|</span><span class="ss">m</span><span class="sc">\-</span><span class="ss">cr</span><span class="sc">|</span><span class="ss">me</span><span class="sc">(</span><span class="ss">rc</span><span class="sc">|</span><span class="ss">ri</span><span class="sc">)|</span><span class="ss">mi</span><span class="sc">(</span><span class="ss">o8</span><span class="sc">|</span><span class="ss">oa</span><span class="sc">|</span><span class="ss">ts</span><span class="sc">)|</span><span class="ss">mmef</span><span class="sc">|</span><span class="ss">mo</span><span class="sc">(</span><span class="ss">01</span><span class="sc">|</span><span class="ss">02</span><span class="sc">|</span><span class="ss">bi</span><span class="sc">|</span><span class="ss">de</span><span class="sc">|</span><span class="ss">do</span><span class="sc">|</span><span class="ss">t</span><span class="sc">(\-|</span><span class="ss"> </span><span class="sc">|</span><span class="ss">o</span><span class="sc">|</span><span class="ss">v</span><span class="sc">)|</span><span class="ss">zz</span><span class="sc">)|</span><span class="ss">mt</span><span class="sc">(</span><span class="ss">50</span><span class="sc">|</span><span class="ss">p1</span><span class="sc">|</span><span class="ss">v </span><span class="sc">)|</span><span class="ss">mwbp</span><span class="sc">|</span><span class="ss">mywa</span><span class="sc">|</span><span class="ss">n10</span><span class="sc">[0-2]|</span><span class="ss">n20</span><span class="sc">[2-3]|</span><span class="ss">n30</span><span class="sc">(</span><span class="ss">0</span><span class="sc">|</span><span class="ss">2</span><span class="sc">)|</span><span class="ss">n50</span><span class="sc">(</span><span class="ss">0</span><span class="sc">|</span><span class="ss">2</span><span class="sc">|</span><span class="ss">5</span><span class="sc">)|</span><span class="ss">n7</span><span class="sc">(</span><span class="ss">0</span><span class="sc">(</span><span class="ss">0</span><span class="sc">|</span><span class="ss">1</span><span class="sc">)|</span><span class="ss">10</span><span class="sc">)|</span><span class="ss">ne</span><span class="sc">((</span><span class="ss">c</span><span class="sc">|</span><span class="ss">m</span><span class="sc">)\-|</span><span class="ss">on</span><span class="sc">|</span><span class="ss">tf</span><span class="sc">|</span><span class="ss">wf</span><span class="sc">|</span><span class="ss">wg</span><span class="sc">|</span><span class="ss">wt</span><span class="sc">)|</span><span class="ss">nok</span><span class="sc">(</span><span class="ss">6</span><span class="sc">|</span><span class="ss">i</span><span class="sc">)|</span><span class="ss">nzph</span><span class="sc">|</span><span class="ss">o2im</span><span class="sc">|</span><span class="ss">op</span><span class="sc">(</span><span class="ss">ti</span><span class="sc">|</span><span class="ss">wv</span><span class="sc">)|</span><span class="ss">oran</span><span class="sc">|</span><span class="ss">owg1</span><span class="sc">|</span><span class="ss">p800</span><span class="sc">|</span><span class="ss">pan</span><span class="sc">(</span><span class="ss">a</span><span class="sc">|</span><span class="ss">d</span><span class="sc">|</span><span class="ss">t</span><span class="sc">)|</span><span class="ss">pdxg</span><span class="sc">|</span><span class="ss">pg</span><span class="sc">(</span><span class="ss">13</span><span class="sc">|\-([1-8]|</span><span class="ss">c</span><span class="sc">))|</span><span class="ss">phil</span><span class="sc">|</span><span class="ss">pire</span><span class="sc">|</span><span class="ss">pl</span><span class="sc">(</span><span class="ss">ay</span><span class="sc">|</span><span class="ss">uc</span><span class="sc">)|</span><span class="ss">pn</span><span class="sc">\-</span><span class="ss">2</span><span class="sc">|</span><span class="ss">po</span><span class="sc">(</span><span class="ss">ck</span><span class="sc">|</span><span class="ss">rt</span><span class="sc">|</span><span class="ss">se</span><span class="sc">)|</span><span class="ss">prox</span><span class="sc">|</span><span class="ss">psio</span><span class="sc">|</span><span class="ss">pt</span><span class="sc">\-</span><span class="ss">g</span><span class="sc">|</span><span class="ss">qa</span><span class="sc">\-</span><span class="ss">a</span><span class="sc">|</span><span class="ss">qc</span><span class="sc">(</span><span class="ss">07</span><span class="sc">|</span><span class="ss">12</span><span class="sc">|</span><span class="ss">21</span><span class="sc">|</span><span class="ss">32</span><span class="sc">|</span><span class="ss">60</span><span class="sc">|\-[2-7]|</span><span class="ss">i</span><span class="sc">\-)|</span><span class="ss">qtek</span><span class="sc">|</span><span class="ss">r380</span><span class="sc">|</span><span class="ss">r600</span><span class="sc">|</span><span class="ss">raks</span><span class="sc">|</span><span class="ss">rim9</span><span class="sc">|</span><span class="ss">ro</span><span class="sc">(</span><span class="ss">ve</span><span class="sc">|</span><span class="ss">zo</span><span class="sc">)|</span><span class="ss">s55</span><span class="sc">\/|</span><span class="ss">sa</span><span class="sc">(</span><span class="ss">ge</span><span class="sc">|</span><span class="ss">ma</span><span class="sc">|</span><span class="ss">mm</span><span class="sc">|</span><span class="ss">ms</span><span class="sc">|</span><span class="ss">ny</span><span class="sc">|</span><span class="ss">va</span><span class="sc">)|</span><span class="ss">sc</span><span class="sc">(</span><span class="ss">01</span><span class="sc">|</span><span class="ss">h</span><span class="sc">\-|</span><span class="ss">oo</span><span class="sc">|</span><span class="ss">p</span><span class="sc">\-)|</span><span class="ss">sdk</span><span class="sc">\/|</span><span class="ss">se</span><span class="sc">(</span><span class="ss">c</span><span class="sc">(\-|</span><span class="ss">0</span><span class="sc">|</span><span class="ss">1</span><span class="sc">)|</span><span class="ss">47</span><span class="sc">|</span><span class="ss">mc</span><span class="sc">|</span><span class="ss">nd</span><span class="sc">|</span><span class="ss">ri</span><span class="sc">)|</span><span class="ss">sgh</span><span class="sc">\-|</span><span class="ss">shar</span><span class="sc">|</span><span class="ss">sie</span><span class="sc">(\-|</span><span class="ss">m</span><span class="sc">)|</span><span class="ss">sk</span><span class="sc">\-</span><span class="ss">0</span><span class="sc">|</span><span class="ss">sl</span><span class="sc">(</span><span class="ss">45</span><span class="sc">|</span><span class="ss">id</span><span class="sc">)|</span><span class="ss">sm</span><span class="sc">(</span><span class="ss">al</span><span class="sc">|</span><span class="ss">ar</span><span class="sc">|</span><span class="ss">b3</span><span class="sc">|</span><span class="ss">it</span><span class="sc">|</span><span class="ss">t5</span><span class="sc">)|</span><span class="ss">so</span><span class="sc">(</span><span class="ss">ft</span><span class="sc">|</span><span class="ss">ny</span><span class="sc">)|</span><span class="ss">sp</span><span class="sc">(</span><span class="ss">01</span><span class="sc">|</span><span class="ss">h</span><span class="sc">\-|</span><span class="ss">v</span><span class="sc">\-|</span><span class="ss">v </span><span class="sc">)|</span><span class="ss">sy</span><span class="sc">(</span><span class="ss">01</span><span class="sc">|</span><span class="ss">mb</span><span class="sc">)|</span><span class="ss">t2</span><span class="sc">(</span><span class="ss">18</span><span class="sc">|</span><span class="ss">50</span><span class="sc">)|</span><span class="ss">t6</span><span class="sc">(</span><span class="ss">00</span><span class="sc">|</span><span class="ss">10</span><span class="sc">|</span><span class="ss">18</span><span class="sc">)|</span><span class="ss">ta</span><span class="sc">(</span><span class="ss">gt</span><span class="sc">|</span><span class="ss">lk</span><span class="sc">)|</span><span class="ss">tcl</span><span class="sc">\-|</span><span class="ss">tdg</span><span class="sc">\-|</span><span class="ss">tel</span><span class="sc">(</span><span class="ss">i</span><span class="sc">|</span><span class="ss">m</span><span class="sc">)|</span><span class="ss">tim</span><span class="sc">\-|</span><span class="ss">t</span><span class="sc">\-</span><span class="ss">mo</span><span class="sc">|</span><span class="ss">to</span><span class="sc">(</span><span class="ss">pl</span><span class="sc">|</span><span class="ss">sh</span><span class="sc">)|</span><span class="ss">ts</span><span class="sc">(</span><span class="ss">70</span><span class="sc">|</span><span class="ss">m</span><span class="sc">\-|</span><span class="ss">m3</span><span class="sc">|</span><span class="ss">m5</span><span class="sc">)|</span><span class="ss">tx</span><span class="sc">\-</span><span class="ss">9</span><span class="sc">|</span><span class="ss">up</span><span class="sc">(\.</span><span class="ss">b</span><span class="sc">|</span><span class="ss">g1</span><span class="sc">|</span><span class="ss">si</span><span class="sc">)|</span><span class="ss">utst</span><span class="sc">|</span><span class="ss">v400</span><span class="sc">|</span><span class="ss">v750</span><span class="sc">|</span><span class="ss">veri</span><span class="sc">|</span><span class="ss">vi</span><span class="sc">(</span><span class="ss">rg</span><span class="sc">|</span><span class="ss">te</span><span class="sc">)|</span><span class="ss">vk</span><span class="sc">(</span><span class="ss">40</span><span class="sc">|</span><span class="ss">5</span><span class="sc">[0-3]|\-</span><span class="ss">v</span><span class="sc">)|</span><span class="ss">vm40</span><span class="sc">|</span><span class="ss">voda</span><span class="sc">|</span><span class="ss">vulc</span><span class="sc">|</span><span class="ss">vx</span><span class="sc">(</span><span class="ss">52</span><span class="sc">|</span><span class="ss">53</span><span class="sc">|</span><span class="ss">60</span><span class="sc">|</span><span class="ss">61</span><span class="sc">|</span><span class="ss">70</span><span class="sc">|</span><span class="ss">80</span><span class="sc">|</span><span class="ss">81</span><span class="sc">|</span><span class="ss">83</span><span class="sc">|</span><span class="ss">85</span><span class="sc">|</span><span class="ss">98</span><span class="sc">)|</span><span class="ss">w3c</span><span class="sc">(\-|</span><span class="ss"> </span><span class="sc">)|</span><span class="ss">webc</span><span class="sc">|</span><span class="ss">whit</span><span class="sc">|</span><span class="ss">wi</span><span class="sc">(</span><span class="ss">g </span><span class="sc">|</span><span class="ss">nc</span><span class="sc">|</span><span class="ss">nw</span><span class="sc">)|</span><span class="ss">wmlb</span><span class="sc">|</span><span class="ss">wonu</span><span class="sc">|</span><span class="ss">x700</span><span class="sc">|</span><span class="ss">yas</span><span class="sc">\-|</span><span class="ss">your</span><span class="sc">|</span><span class="ss">zeto</span><span class="sc">|</span><span class="ss">zte</span><span class="sc">\-</span><span class="ss">/i</span>.<span class="at">test</span>(<span class="va">navigator</span>.<span class="va">userAgent</span>.<span class="at">substr</span>(<span class="dv">0</span><span class="op">,</span><span class="dv">4</span>))) <span class="op">{</span> </a>
<a class="sourceLine" id="cb472-5" title="5">    isMobile <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb472-6" title="6"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-2-score-493" class="level4">
<h4>Answer 2 (score 493)</h4>
<p>For me small is beautiful so I’m using this technique:</p>
<p>In CSS file:</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb473-1" title="1"><span class="co">/* Smartphones ----------- */</span></a>
<a class="sourceLine" id="cb473-2" title="2">@media only screen <span class="at">and</span> (max<span class="op">-</span>width<span class="op">:</span> 760px) <span class="op">{</span></a>
<a class="sourceLine" id="cb473-3" title="3">  #some<span class="op">-</span>element <span class="op">{</span> <span class="dt">display</span><span class="op">:</span> none<span class="op">;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb473-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>In jQuery/JavaScript file:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb474-1" title="1"><span class="at">$</span>( document ).<span class="at">ready</span>(<span class="kw">function</span>() <span class="op">{</span>      </a>
<a class="sourceLine" id="cb474-2" title="2">    <span class="kw">var</span> is_mobile <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb474-3" title="3"></a>
<a class="sourceLine" id="cb474-4" title="4">    <span class="cf">if</span>( <span class="at">$</span>(<span class="st">&#39;#some-element&#39;</span>).<span class="at">css</span>(<span class="st">&#39;display&#39;</span>)<span class="op">==</span><span class="st">&#39;none&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb474-5" title="5">        is_mobile <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>       </a>
<a class="sourceLine" id="cb474-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb474-7" title="7"></a>
<a class="sourceLine" id="cb474-8" title="8">    <span class="co">// now i can use is_mobile to run javascript conditionally</span></a>
<a class="sourceLine" id="cb474-9" title="9"></a>
<a class="sourceLine" id="cb474-10" title="10">    <span class="cf">if</span> (is_mobile <span class="op">==</span> <span class="kw">true</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb474-11" title="11">        <span class="co">//Conditional script here</span></a>
<a class="sourceLine" id="cb474-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb474-13" title="13"> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>My objective was to have my site “mobile friendly”. So I use CSS Media Queries do show/hide elements depending on the screen size.</p>
<p>For example, in my mobile version I don’t want to activate the Facebook Like Box, because it loads all those profile images and stuff. And that’s not good for mobile visitors. So, besides hiding the container element, I also do this inside the jQuery code block (above):</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb475-1" title="1"><span class="cf">if</span>(<span class="op">!</span>is_mobile) <span class="op">{</span></a>
<a class="sourceLine" id="cb475-2" title="2">    (<span class="kw">function</span>(d<span class="op">,</span> s<span class="op">,</span> id) <span class="op">{</span></a>
<a class="sourceLine" id="cb475-3" title="3">        <span class="kw">var</span> js<span class="op">,</span> fjs <span class="op">=</span> <span class="va">d</span>.<span class="at">getElementsByTagName</span>(s)[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb475-4" title="4">        <span class="cf">if</span> (<span class="va">d</span>.<span class="at">getElementById</span>(id)) <span class="cf">return</span><span class="op">;</span></a>
<a class="sourceLine" id="cb475-5" title="5">        js <span class="op">=</span> <span class="va">d</span>.<span class="at">createElement</span>(s)<span class="op">;</span> <span class="va">js</span>.<span class="at">id</span> <span class="op">=</span> id<span class="op">;</span></a>
<a class="sourceLine" id="cb475-6" title="6">        <span class="va">js</span>.<span class="at">src</span> <span class="op">=</span> <span class="st">&quot;//connect.facebook.net/pt_PT/all.js#xfbml=1&amp;amp;appId=210731252294735&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb475-7" title="7">        <span class="va">fjs</span>.<span class="va">parentNode</span>.<span class="at">insertBefore</span>(js<span class="op">,</span> fjs)<span class="op">;</span></a>
<a class="sourceLine" id="cb475-8" title="8">    <span class="op">}</span>(document<span class="op">,</span> <span class="st">&#39;script&#39;</span><span class="op">,</span> <span class="st">&#39;facebook-jssdk&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb475-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>You can see it in action at <a href="http://lisboaautentica.com" rel="noreferrer">http://lisboaautentica.com</a></p>
<p>I’m still working on the the mobile version, so it’s still not looking as it should, as of writing this.</p>
<p><strong>Update by <a href="https://stackoverflow.com/users/1226446">dekin88</a></strong></p>
<p>
There is a JavaScript API built in for detecting media. Rather than using the above solution simply use the following:
</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb476-1" title="1"><span class="at">$</span>( document ).<span class="at">ready</span>(<span class="kw">function</span>() <span class="op">{</span>      </a>
<a class="sourceLine" id="cb476-2" title="2">    <span class="kw">var</span> isMobile <span class="op">=</span> <span class="va">window</span>.<span class="at">matchMedia</span>(<span class="st">&quot;only screen and (max-width: 760px)&quot;</span>).<span class="at">matches</span><span class="op">;</span></a>
<a class="sourceLine" id="cb476-3" title="3"></a>
<a class="sourceLine" id="cb476-4" title="4">    <span class="cf">if</span> (isMobile) <span class="op">{</span></a>
<a class="sourceLine" id="cb476-5" title="5">        <span class="co">//Conditional script here</span></a>
<a class="sourceLine" id="cb476-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb476-7" title="7"> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>Browser Supports:</strong> <a href="http://caniuse.com/#feat=matchmedia" rel="noreferrer">http://caniuse.com/#feat=matchmedia</a></p>
<p>The advantage to this method is that it’s not only simpler and shorter, but you can conditionally target different devices such as smartphones and tablets separately if necessary without having to add any dummy elements into the DOM.</p>
</section>
<section id="answer-3-score-217" class="level4">
<h4>Answer 3 (score 217)</h4>
<p>According to <a href="https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent" rel="noreferrer">Mozilla - Browser detection using the user agent</a>:</p>
<blockquote>
In summary, we recommend looking for the string “Mobi” anywhere in the User Agent to detect a mobile device.
</blockquote>
<p>Like this:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb477-1" title="1"><span class="cf">if</span> (<span class="ss">/Mobi/</span>.<span class="at">test</span>(<span class="va">navigator</span>.<span class="at">userAgent</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb477-2" title="2">    <span class="co">// mobile!</span></a>
<a class="sourceLine" id="cb477-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>This will match all common mobile browser user agents, including mobile Mozilla, Safari, IE, Opera, Chrome, etc.</p>
<p><strong>Update for Android</strong></p>
<p>EricL recommends testing for <code>Android</code> as a user agent also, as the <a href="https://developer.chrome.com/multidevice/user-agent#chrome_for_android_user_agent" rel="noreferrer">Chrome user agent string</a> for tablets does not include “Mobi” (the phone versions do however):</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb478-1" title="1"><span class="cf">if</span> (<span class="ss">/Mobi</span><span class="sc">|</span><span class="ss">Android/i</span>.<span class="at">test</span>(<span class="va">navigator</span>.<span class="at">userAgent</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb478-2" title="2">    <span class="co">// mobile!</span></a>
<a class="sourceLine" id="cb478-3" title="3"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="where-can-i-find-documentation-on-formatting-a-date-in-javascript-score-1423476-in-2018" class="level3">
<h3>72: Where can I find documentation on formatting a date in JavaScript? (score <a href="https://stackoverflow.com/q/1056728.html">1423476</a> in 2018)</h3>
<section id="question-71" class="level4">
<h4>Question</h4>
<p>I noticed that JavaScript’s <code>new Date()</code> function is very smart in accepting dates in several formats.</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb479-1" title="1">Xmas95 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(<span class="st">&quot;25 Dec, 1995 23:15:00&quot;</span>)</a>
<a class="sourceLine" id="cb479-2" title="2">Xmas95 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(<span class="st">&quot;2009 06 12,12:52:39&quot;</span>)</a>
<a class="sourceLine" id="cb479-3" title="3">Xmas95 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(<span class="st">&quot;20 09 2006,12:52:39&quot;</span>)</a></code></pre></div>
<p>I could not find documentation anywhere showing all the valid string formats while calling <code>new Date()</code> function.</p>
<p>This is for converting a string to a date. If we look at the opposite side, that is, converting a date object to a string, until now I was under the impression that JavaScript doesn’t have a built-in API to format a date object into a string.</p>
<blockquote>
<strong>Editor’s note:</strong> The following approach is the asker’s attempt that worked on a particular browser but does <em>not</em> work in general; <strong>see the answers on this page</strong> to see some actual solutions.
</blockquote>
<p>Today, I played with the <code>toString()</code> method on the date object and surprisingly it serves the purpose of formatting date to strings.</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb480-1" title="1"><span class="kw">var</span> d1 <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb480-2" title="2"><span class="va">d1</span>.<span class="at">toString</span>(<span class="st">&#39;yyyy-MM-dd&#39;</span>)<span class="op">;</span>       <span class="co">//Returns &quot;2009-06-29&quot; in Internet Explorer, but not Firefox or Chrome</span></a>
<a class="sourceLine" id="cb480-3" title="3"><span class="va">d1</span>.<span class="at">toString</span>(<span class="st">&#39;dddd, MMMM ,yyyy&#39;</span>)  <span class="co">//Returns &quot;Monday, June 29,2009&quot; in Internet Explorer, but not Firefox or Chrome</span></a></code></pre></div>
<p>Also here I couldn’t find any documentation on all the ways we can format the date object into a string.</p>
<p>Where is the documentation which lists the format specifiers supported by the <code>Date()</code> object?</p>
</section>
<section id="answer-accepted-score-1051" class="level4">
<h4>Answer accepted (score 1051)</h4>
<p>I love <em><a href="https://www.webdevelopersnotes.com/10-ways-to-format-time-and-date-using-javascript" rel="noreferrer">10 ways to format time and date using JavaScript</a></em> and <em><a href="http://www.elated.com/articles/working-with-dates/" rel="noreferrer">Working with Dates</a></em>.</p>
<p>Basically, you have three methods and you have to combine the strings for yourself:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb481-1" title="1"><span class="at">getDate</span>() <span class="co">// Returns the date</span></a>
<a class="sourceLine" id="cb481-2" title="2"><span class="at">getMonth</span>() <span class="co">// Returns the month</span></a>
<a class="sourceLine" id="cb481-3" title="3"><span class="at">getFullYear</span>() <span class="co">// Returns the year</span></a></code></pre></div>
<p>Example:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript var d = new Date(); var curr_date = d.getDate(); var curr_month = d.getMonth() + 1; //Months are zero based var curr_year = d.getFullYear(); console.log(curr_date + &quot;-&quot; + curr_month + &quot;-&quot; + curr_year);</code></p>
</div>
</div>
</section>
<section id="answer-2-score-677" class="level4">
<h4>Answer 2 (score 677)</h4>
<p><strong><a href="http://momentjs.com">Moment.js</a></strong></p>
<p>It is a (lightweight)* JavaScript date library for parsing, manipulating, and formatting dates.</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb482-1" title="1"><span class="kw">var</span> a <span class="op">=</span> <span class="at">moment</span>([<span class="dv">2010</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">14</span><span class="op">,</span> <span class="dv">15</span><span class="op">,</span> <span class="dv">25</span><span class="op">,</span> <span class="dv">50</span><span class="op">,</span> <span class="dv">125</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb482-2" title="2"><span class="va">a</span>.<span class="at">format</span>(<span class="st">&quot;dddd, MMMM Do YYYY, h:mm:ss a&quot;</span>)<span class="op">;</span> <span class="co">// &quot;Sunday, February 14th 2010, 3:25:50 pm&quot;</span></a>
<a class="sourceLine" id="cb482-3" title="3"><span class="va">a</span>.<span class="at">format</span>(<span class="st">&quot;ddd, hA&quot;</span>)<span class="op">;</span>                       <span class="co">// &quot;Sun, 3PM&quot;</span></a></code></pre></div>
<p><em>(*) lightweight meaning 9.3KB minified + gzipped in the smallest possible setup (feb 2014)</em></p>
</section>
<section id="answer-3-score-425" class="level4">
<h4>Answer 3 (score 425)</h4>
<p>If you are already using <a href="http://en.wikipedia.org/wiki/JQuery_UI" rel="noreferrer">jQuery UI</a> in your project, you can use the built-in datepicker method for formatting your date object:</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb483-1" title="1"><span class="va">$</span>.<span class="va">datepicker</span>.<span class="at">formatDate</span>(<span class="st">&#39;yy-mm-dd&#39;</span><span class="op">,</span> <span class="kw">new</span> <span class="at">Date</span>(<span class="dv">2007</span><span class="op">,</span> <span class="dv">1</span> <span class="op">-</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">26</span>))<span class="op">;</span></a></code></pre></div>
<p>However, the datepicker only formats dates, and cannot format times.</p>
<p>Have a look at <a href="http://docs.jquery.com/UI/Datepicker/formatDate" rel="noreferrer">jQuery UI datepicker formatDate</a>, the examples.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-completely-uninstall-node.js-and-reinstall-from-beginning-mac-os-x-score-1423100-in-2017" class="level3">
<h3>73: How do I completely uninstall Node.js, and reinstall from beginning (Mac OS X) (score <a href="https://stackoverflow.com/q/11177954.html">1423100</a> in 2017)</h3>
<section id="question-72" class="level4">
<h4>Question</h4>
<p>My version of node is always v0.6.1-pre even after I install brew node and NVM install v0.6.19.</p>
<p>My node version is:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb484-1" title="1">node <span class="op">-</span>v</a>
<a class="sourceLine" id="cb484-2" title="2"><span class="va">v0</span>.<span class="fl">6.1</span><span class="op">-</span>pre</a></code></pre></div>
<p>NVM says this (after I install a version of node for the first time in one bash terminal):</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb485-1" title="1">nvm ls</a>
<a class="sourceLine" id="cb485-2" title="2"><span class="va">v0</span>.<span class="fl">6.19</span></a>
<a class="sourceLine" id="cb485-3" title="3">current<span class="op">:</span>    <span class="va">v0</span>.<span class="fl">6.19</span></a></code></pre></div>
<p>But when I restart bash, this is what I see:</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb486-1" title="1">nvm ls</a>
<a class="sourceLine" id="cb486-2" title="2"><span class="va">v0</span>.<span class="fl">6.19</span></a>
<a class="sourceLine" id="cb486-3" title="3">current<span class="op">:</span>    <span class="va">v0</span>.<span class="fl">6.1</span><span class="op">-</span>pre</a>
<a class="sourceLine" id="cb486-4" title="4"><span class="im">default</span> <span class="op">-&amp;</span>gt<span class="op">;</span> <span class="dv">0</span>.<span class="fl">6.19</span> (<span class="op">-&amp;</span>gt<span class="op">;</span> <span class="va">v0</span>.<span class="fl">6.19</span>)</a></code></pre></div>
<p>So where is this phantom node 0.6.1-pre version and how can I get rid of it? I’m trying to install libraries via NPM so that I can work on a project.</p>
<p>
I tried using BREW to update before NVM, using “brew update” and “brew install node”. I’ve tried deleting the “node” directory in my /usr/local/include and the “node” and “node_modules” in my “/usr/local/lib”. I’ve tried uninstalling npm and reinstalling it following <a href="https://superuser.com/questions/268946/uninstall-node-js">these</a> instructions.
</p>
<p>All of this because I was trying to update an older version of node to install the “zipstream” library. Now there’s folders in my users directory, and the node version STILL isn’t up to date, even though NVM says it’s using 0.6.19.</p>
<p><strong>Ideally, I’d like to uninstall nodejs, npm, and nvm, and just reinstall the entire thing from scratch on my system.</strong></p>
</section>
<section id="answer-accepted-score-1593" class="level4">
<h4>Answer accepted (score 1593)</h4>
<p>Apparently, there was a <code>/Users/myusername/local</code> folder that contained a <code>include</code> with <code>node</code> and <code>lib</code> with <code>node</code> and <code>node_modules</code>. How and why this was created instead of in my <code>/usr/local</code> folder, I do not know.</p>
<p>Deleting these local references fixed the phantom v0.6.1-pre. If anyone has an explanation, I’ll choose that as the correct answer.</p>
<p><strong>EDIT:</strong></p>
<p>You may need to do the additional instructions as well:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb487-1" title="1">sudo rm <span class="op">-</span>rf /usr/local/<span class="op">{</span>lib/node<span class="op">{,</span><span class="ss">/.npm,_modules},bin,share/man</span><span class="op">}</span><span class="ss">/{npm</span><span class="sc">*</span><span class="ss">,node</span><span class="sc">*</span><span class="ss">,man1/node</span><span class="op">*}</span></a></code></pre></div>
<p>which is the equivalent of (same as above)…</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb488-1" title="1">sudo rm <span class="op">-</span>rf /usr/local/bin/npm /usr/local/share/man/man1/node<span class="op">*</span> <span class="ss">/usr/local/lib/dtrace/node.d ~/</span>.<span class="at">npm</span> <span class="op">~</span><span class="ss">/.node-gyp </span></a></code></pre></div>
<p>or (same as above) broken down…</p>
<p>To completely uninstall node + npm is to do the following:</p>
<ol>
<li>
go to <strong>/usr/local/lib</strong> and delete any <strong>node</strong> and <strong>node_modules</strong>
</li>
<li>
go to <strong>/usr/local/include</strong> and delete any <strong>node</strong> and <strong>node_modules</strong> directory
</li>
<li>
if you installed with <strong>brew install node</strong>, then run <strong>brew uninstall node</strong> in your terminal
</li>
<li>
check your Home directory for any <strong>local</strong> or <strong>lib</strong> or <strong>include</strong> folders, and delete any <strong>node</strong> or <strong>node_modules</strong> from there
</li>
<li>
go to <strong>/usr/local/bin</strong> and delete any <strong>node</strong> executable
</li>
</ol>
<p>You may also need to do:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb489-1" title="1">sudo rm <span class="op">-</span>rf /opt/local/bin/node /opt/local/include/node /opt/local/lib/node_modules</a>
<a class="sourceLine" id="cb489-2" title="2">sudo rm <span class="op">-</span>rf /usr/local/bin/npm /usr/local/share/man/man1/<span class="va">node</span>.<span class="dv">1</span> /usr/local/lib/dtrace/<span class="va">node</span>.<span class="at">d</span></a></code></pre></div>
<p>Additionally, NVM modifies the PATH variable in <code>$HOME/.bashrc</code>, which must be <a href="https://github.com/creationix/nvm#removal" rel="noreferrer">reverted manually</a>.</p>
<p>Then download <strong>nvm</strong> and follow the instructions to install node. The latest versions of node come with <strong>npm</strong>, I believe, but you can also reinstall that as well.</p>
</section>
<section id="answer-2-score-450" class="level4">
<h4>Answer 2 (score 450)</h4>
<h5>
<strong>For brew users, OSX</strong>:
</h1>
<p>To remove:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb490-1" title="1">brew uninstall node<span class="op">;</span> </a>
<a class="sourceLine" id="cb490-2" title="2"># or <span class="vs">`brew uninstall --force node`</span> which removes all versions</a>
<a class="sourceLine" id="cb490-3" title="3">brew cleanup<span class="op">;</span></a>
<a class="sourceLine" id="cb490-4" title="4">rm <span class="op">-</span>f /usr/local/bin/npm /usr/local/lib/dtrace/<span class="va">node</span>.<span class="at">d</span><span class="op">;</span></a>
<a class="sourceLine" id="cb490-5" title="5">rm <span class="op">-</span>rf <span class="op">~</span><span class="ss">/.npm;</span></a></code></pre></div>
<p>To install:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb491-1" title="1">brew install node<span class="op">;</span></a>
<a class="sourceLine" id="cb491-2" title="2">which node # <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="ss">/usr/local/bin/node</span></a>
<a class="sourceLine" id="cb491-3" title="3"><span class="im">export</span> NODE_PATH<span class="op">=</span><span class="st">&#39;/usr/local/lib/node_modules&#39;</span> # <span class="op">&amp;</span>lt<span class="op">;---</span> add <span class="kw">this</span> <span class="op">~</span><span class="ss">/.bashrc</span></a></code></pre></div>
<p>You can run <code>brew info node</code> for more details regarding your node installs.</p>
<hr>
<h5>
consider using NVM instead of brew
</h1>
<p>NVM (node version manager) is a portable solution for managing multiple versions of node</p>
<h5>
<a href="https://github.com/creationix/nvm" rel="noreferrer">https://github.com/creationix/nvm</a>
</h2>
<div class="sourceCode" id="cb492"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb492-1" title="1"><span class="op">&amp;</span>gt<span class="op">;</span> nvm uninstall <span class="va">v4</span>.<span class="fl">1.0</span></a>
<a class="sourceLine" id="cb492-2" title="2"><span class="op">&amp;</span>gt<span class="op">;</span> nvm install <span class="va">v8</span>.<span class="fl">1.2</span></a>
<a class="sourceLine" id="cb492-3" title="3"><span class="op">&amp;</span>gt<span class="op">;</span> nvm use <span class="va">v8</span>.<span class="fl">1.2</span></a>
<a class="sourceLine" id="cb492-4" title="4"><span class="op">&amp;</span>gt<span class="op">;</span> nvm list</a>
<a class="sourceLine" id="cb492-5" title="5">         <span class="va">v4</span>.<span class="fl">2.0</span></a>
<a class="sourceLine" id="cb492-6" title="6">         <span class="va">v5</span>.<span class="fl">8.0</span></a>
<a class="sourceLine" id="cb492-7" title="7">        <span class="va">v6</span>.<span class="fl">11.0</span></a>
<a class="sourceLine" id="cb492-8" title="8"><span class="op">-&amp;</span>gt<span class="op">;</span>       <span class="va">v8</span>.<span class="fl">1.2</span></a>
<a class="sourceLine" id="cb492-9" title="9">         system</a></code></pre></div>
<ul>
<li>
<a href="https://github.com/wbyoung/avn" rel="noreferrer">you can use this with AVN</a> to automatically switch versions as you hop between different projects with different node dependencies.
</li>
</ul>
</section>
<section id="answer-3-score-179" class="level4">
<h4>Answer 3 (score 179)</h4>
<p>I know this post is a little dated but just wanted to share the commands that worked for me in Terminal when removing Node.js.</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb493-1" title="1">lsbom <span class="op">-</span>f <span class="op">-</span>l <span class="op">-</span>s <span class="op">-</span>pf /<span class="kw">var</span><span class="ss">/db/receipts/org.nodejs.pkg.bom </span><span class="sc">|</span><span class="ss"> while read f; do  sudo rm /usr/local/</span>$<span class="op">{</span>f<span class="op">};</span> done</a>
<a class="sourceLine" id="cb493-2" title="2"></a>
<a class="sourceLine" id="cb493-3" title="3">sudo rm <span class="op">-</span>rf /usr/local/lib/node /usr/local/lib/node_modules /<span class="kw">var</span><span class="ss">/db/receipts/org.nodejs.</span><span class="sc">*</span></a></code></pre></div>
<hr/>
<h5>
UPDATE: <code>23 SEP 2016</code>
</h1>
<hr/>
<h5>
If you’re afraid of running these commands…
</h1>
<p>Thanks to <a href="https://gist.github.com/jguix" rel="noreferrer"><code>jguix</code></a> for <a href="https://gist.github.com/TonyMtz/d75101d9bdf764c890ef#gistcomment-1880118" rel="noreferrer"><code>this quick tutorial</code></a>.</p>
<p><strong>First, create an intermediate file:</strong></p>
<div class="sourceCode" id="cb494"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb494-1" title="1">lsbom <span class="op">-</span>f <span class="op">-</span>l <span class="op">-</span>s <span class="op">-</span>pf /<span class="kw">var</span><span class="ss">/db/receipts/org.nodejs.node.pkg.bom &amp;gt;&amp;gt; ~/filelist</span>.<span class="at">txt</span></a></code></pre></div>
<p><strong>Manually review your file (located in your <code>Home</code> folder)</strong></p>
<div class="sourceCode" id="cb495"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb495-1" title="1"> <span class="op">~</span><span class="ss">/filelist.txt</span></a></code></pre></div>
<p><strong>Then delete the files:</strong></p>
<div class="sourceCode" id="cb496"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb496-1" title="1">cat <span class="op">~</span><span class="ss">/filelist.txt </span><span class="sc">|</span><span class="ss"> while read f; do sudo rm /usr/local/</span>$<span class="op">{</span>f<span class="op">};</span> done</a>
<a class="sourceLine" id="cb496-2" title="2"></a>
<a class="sourceLine" id="cb496-3" title="3">sudo rm <span class="op">-</span>rf /usr/local/lib/node /usr/local/lib/node_modules /<span class="kw">var</span><span class="ss">/db/receipts/org.nodejs.</span><span class="sc">*</span></a></code></pre></div>
<hr/>
<h5>
For 10.10.5 and above
</h1>
<p><strong>Thanks <a href="https://stackoverflow.com/users/852592/lenar-hoyt"><code>Lenar Hoyt</code></a></strong></p>
<p><strong>Gist Comment Source:</strong> <a href="https://gist.github.com/TonyMtz/d75101d9bdf764c890ef#gistcomment-1572198" rel="noreferrer"><code>gistcomment-1572198</code></a></p>
<p><strong>Original Gist:</strong> <a href="https://gist.github.com/TonyMtz/d75101d9bdf764c890ef#file-gistfile1-txt" rel="noreferrer"><code>TonyMtz/d75101d9bdf764c890ef</code></a></p>
<div class="sourceCode" id="cb497"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb497-1" title="1">lsbom <span class="op">-</span>f <span class="op">-</span>l <span class="op">-</span>s <span class="op">-</span>pf /<span class="kw">var</span><span class="ss">/db/receipts/org.nodejs.node.pkg.bom </span><span class="sc">|</span><span class="ss"> while read f; do sudo rm /usr/local/</span>$<span class="op">{</span>f<span class="op">};</span> done</a>
<a class="sourceLine" id="cb497-2" title="2"></a>
<a class="sourceLine" id="cb497-3" title="3">sudo rm <span class="op">-</span>rf /usr/local/lib/node /usr/local/lib/node_modules /<span class="kw">var</span><span class="ss">/db/receipts/org.nodejs.</span><span class="sc">*</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-check-if-an-object-is-an-array-score-1421658-in-2019" class="level3">
<h3>74: How to check if an object is an array? (score <a href="https://stackoverflow.com/q/4775722.html">1421658</a> in 2019)</h3>
<section id="question-73" class="level4">
<h4>Question</h4>
<p>I’m trying to write a function that either accepts a list of strings, or a single string. If it’s a string, then I want to convert it to an array with just the one item. Then I can loop over it without fear of an error.</p>
<p>So how do I check if the variable is an array?</p>
<hr>
<p>I’ve rounded up the various solutions below and created a <a href="http://jsperf.com/js-isarray-comparison" rel="noreferrer">jsperf test</a>.</p>
</section>
<section id="answer-accepted-score-773" class="level4">
<h4>Answer accepted (score 773)</h4>
<p>In modern browsers you can do</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb498-1" title="1"><span class="va">Array</span>.<span class="at">isArray</span>(obj)</a></code></pre></div>
<p>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray" rel="noreferrer">Supported by</a> Chrome 5, Firefox 4.0, IE 9, Opera 10.5 and Safari 5)</p>
<p>For backward compatibility you can add the following</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb499-1" title="1"># only implement <span class="cf">if</span> no native implementation is available</a>
<a class="sourceLine" id="cb499-2" title="2"><span class="cf">if</span> (<span class="kw">typeof</span> <span class="va">Array</span>.<span class="at">isArray</span> <span class="op">===</span> <span class="st">&#39;undefined&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb499-3" title="3">  <span class="va">Array</span>.<span class="at">isArray</span> <span class="op">=</span> <span class="kw">function</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb499-4" title="4">    <span class="cf">return</span> <span class="va">Object</span>.<span class="va">prototype</span>.<span class="va">toString</span>.<span class="at">call</span>(obj) <span class="op">===</span> <span class="st">&#39;[object Array]&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb499-5" title="5">  <span class="op">}</span></a>
<a class="sourceLine" id="cb499-6" title="6"><span class="op">};</span></a></code></pre></div>
<p>If you use jQuery you can use <code>jQuery.isArray(obj)</code> or <code>$.isArray(obj)</code>. If you use underscore you can use <code>_.isArray(obj)</code></p>
<p>If you don’t need to detect arrays created in different frames you can also just use <code>instanceof</code></p>
<div class="sourceCode" id="cb500"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb500-1" title="1">obj <span class="kw">instanceof</span> Array</a></code></pre></div>
</section>
<section id="answer-2-score-1916" class="level4">
<h4>Answer 2 (score 1916)</h4>
<p>The method given in the ECMAScript standard to find the class of Object is to use the <code>toString</code> method from <code>Object.prototype</code>.</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb501-1" title="1"><span class="cf">if</span>( <span class="va">Object</span>.<span class="va">prototype</span>.<span class="va">toString</span>.<span class="at">call</span>( someVar ) <span class="op">===</span> <span class="st">&#39;[object Array]&#39;</span> ) <span class="op">{</span></a>
<a class="sourceLine" id="cb501-2" title="2">    <span class="at">alert</span>( <span class="st">&#39;Array!&#39;</span> )<span class="op">;</span></a>
<a class="sourceLine" id="cb501-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Or you could use <code>typeof</code> to test if it is a String:</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb502-1" title="1"><span class="cf">if</span>( <span class="kw">typeof</span> someVar <span class="op">===</span> <span class="st">&#39;string&#39;</span> ) <span class="op">{</span></a>
<a class="sourceLine" id="cb502-2" title="2">    someVar <span class="op">=</span> [ someVar ]<span class="op">;</span></a>
<a class="sourceLine" id="cb502-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>Or if you’re not concerned about performance, you could just do a <code>concat</code> to a new empty Array.</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb503-1" title="1">someVar <span class="op">=</span> [].<span class="at">concat</span>( someVar )<span class="op">;</span></a></code></pre></div>
<p>There’s also the constructor which you can query directly:</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb504-1" title="1"><span class="cf">if</span> (<span class="va">somevar</span>.<span class="va">constructor</span>.<span class="at">name</span> <span class="op">==</span> <span class="st">&quot;Array&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb504-2" title="2">    <span class="co">// do something</span></a>
<a class="sourceLine" id="cb504-3" title="3"><span class="op">}</span></a></code></pre></div>
<hr>
<p>Check out a <a href="http://blog.niftysnippets.org/2010/09/say-what.html" rel="noreferrer">thorough treatment</a> from <a href="https://stackoverflow.com/users/157247/t-j-crowder"><span class="citation" data-cites="T.J">@T.J</span>. Crowder’s</a> blog, as posted in his comment below.</p>
<p>Check out this <a href="http://jsben.ch/#/QgYAV" rel="noreferrer">benchmark</a> to get an idea which method performs better: <a href="http://jsben.ch/#/QgYAV" rel="noreferrer">http://jsben.ch/#/QgYAV</a></p>
<p>From <a href="https://stackoverflow.com/users/8432239/bharath?tab=profile"><span class="citation" data-cites="Bharath">@Bharath</span></a> convert string to array using Es6 for the question asked:</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb505-1" title="1"><span class="kw">const</span> convertStringToArray <span class="op">=</span> (object) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb505-2" title="2">   <span class="cf">return</span> (<span class="kw">typeof</span> object <span class="op">===</span> <span class="st">&#39;string&#39;</span>) <span class="op">?</span> <span class="at">Array</span>(object) : object </a>
<a class="sourceLine" id="cb505-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>suppose:</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb506-1" title="1"><span class="kw">let</span> m <span class="op">=</span> <span class="st">&#39;bla&#39;</span></a>
<a class="sourceLine" id="cb506-2" title="2"><span class="kw">let</span> n <span class="op">=</span> [<span class="st">&#39;bla&#39;</span><span class="op">,</span><span class="st">&#39;Meow&#39;</span>]</a>
<a class="sourceLine" id="cb506-3" title="3"><span class="kw">let</span> y <span class="op">=</span> <span class="at">convertStringToArray</span>(m)</a>
<a class="sourceLine" id="cb506-4" title="4"><span class="kw">let</span> z <span class="op">=</span> <span class="at">convertStringToArray</span>(n)</a>
<a class="sourceLine" id="cb506-5" title="5"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;check y: &#39;</span><span class="op">+</span><span class="va">JSON</span>.<span class="at">stringify</span>(y)) . <span class="co">// check y: [&#39;bla&#39;]</span></a>
<a class="sourceLine" id="cb506-6" title="6"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;check y: &#39;</span><span class="op">+</span><span class="va">JSON</span>.<span class="at">stringify</span>(z)) . <span class="co">// check y: [&#39;bla&#39;,&#39;Meow&#39;]</span></a></code></pre></div>
</section>
<section id="answer-3-score-1254" class="level4">
<h4>Answer 3 (score 1254)</h4>
<p>I would first check if your implementation supports <code>isArray</code>:</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb507-1" title="1"><span class="cf">if</span> (<span class="va">Array</span>.<span class="at">isArray</span>)</a>
<a class="sourceLine" id="cb507-2" title="2">    <span class="cf">return</span> <span class="va">Array</span>.<span class="at">isArray</span>(v)<span class="op">;</span></a></code></pre></div>
<p>You could also try using the <code>instanceof</code> operator</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb508-1" title="1">v <span class="kw">instanceof</span> Array</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="get-the-size-of-the-screen-current-web-page-and-browser-window-score-1416478-in-2017" class="level3">
<h3>75: Get the size of the screen, current web page and browser window (score <a href="https://stackoverflow.com/q/3437786.html">1416478</a> in 2017)</h3>
<section id="question-74" class="level4">
<h4>Question</h4>
<p>How can I get <code>windowWidth</code>, <code>windowHeight</code>, <code>pageWidth</code>, <code>pageHeight</code>, <code>screenWidth</code>, <code>screenHeight</code>, <code>pageX</code>, <code>pageY</code>, <code>screenX</code>, <code>screenY</code> which will work in all major browsers?</p>
<p><img src="https://i.stack.imgur.com/6xPdH.png" alt="screenshot describing which values are wanted"></p>
</section>
<section id="answer-accepted-score-1313" class="level4">
<h4>Answer accepted (score 1313)</h4>
<p>You can get the size of the window or document with jQuery:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb509-1" title="1"><span class="co">// Size of browser viewport.</span></a>
<a class="sourceLine" id="cb509-2" title="2"><span class="at">$</span>(window).<span class="at">height</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb509-3" title="3"><span class="at">$</span>(window).<span class="at">width</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb509-4" title="4"></a>
<a class="sourceLine" id="cb509-5" title="5"><span class="co">// Size of HTML document (same as pageHeight/pageWidth in screenshot).</span></a>
<a class="sourceLine" id="cb509-6" title="6"><span class="at">$</span>(document).<span class="at">height</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb509-7" title="7"><span class="at">$</span>(document).<span class="at">width</span>()<span class="op">;</span></a></code></pre></div>
<p>For screen size you can use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/screen" rel="noreferrer"><code>screen</code></a> object:</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb510-1" title="1"><span class="va">window</span>.<span class="va">screen</span>.<span class="at">height</span><span class="op">;</span></a>
<a class="sourceLine" id="cb510-2" title="2"><span class="va">window</span>.<span class="va">screen</span>.<span class="at">width</span><span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-920" class="level4">
<h4>Answer 2 (score 920)</h4>
<p>This has everything you need to know: <a href="https://andylangton.co.uk/blog/development/get-viewportwindow-size-width-and-height-javascript" rel="noreferrer">Get viewport/window size</a></p>
<p>but in short:</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb511-1" title="1"><span class="kw">var</span> win <span class="op">=</span> window<span class="op">,</span></a>
<a class="sourceLine" id="cb511-2" title="2">    doc <span class="op">=</span> document<span class="op">,</span></a>
<a class="sourceLine" id="cb511-3" title="3">    docElem <span class="op">=</span> <span class="va">doc</span>.<span class="at">documentElement</span><span class="op">,</span></a>
<a class="sourceLine" id="cb511-4" title="4">    body <span class="op">=</span> <span class="va">doc</span>.<span class="at">getElementsByTagName</span>(<span class="st">&#39;body&#39;</span>)[<span class="dv">0</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb511-5" title="5">    x <span class="op">=</span> <span class="va">win</span>.<span class="at">innerWidth</span> <span class="op">||</span> <span class="va">docElem</span>.<span class="at">clientWidth</span> <span class="op">||</span> <span class="va">body</span>.<span class="at">clientWidth</span><span class="op">,</span></a>
<a class="sourceLine" id="cb511-6" title="6">    y <span class="op">=</span> <span class="va">win</span>.<span class="at">innerHeight</span><span class="op">||</span> <span class="va">docElem</span>.<span class="at">clientHeight</span><span class="op">||</span> <span class="va">body</span>.<span class="at">clientHeight</span><span class="op">;</span></a>
<a class="sourceLine" id="cb511-7" title="7"><span class="at">alert</span>(x <span class="op">+</span> <span class="st">&#39; × &#39;</span> <span class="op">+</span> y)<span class="op">;</span></a></code></pre></div>
<p><strong><a href="http://fiddle.jshell.net/L6uPV/show/" rel="noreferrer">Fiddle</a></strong></p>
<p>Please stop editing this answer. It’s been edited 20 times now by different people to match their code format preference. It’s also been pointed out that this isn’t required if you only want to target modern browsers - if so you only need the following:</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb512-1" title="1"><span class="kw">const</span> width  <span class="op">=</span> <span class="va">window</span>.<span class="at">innerWidth</span> <span class="op">||</span> <span class="va">document</span>.<span class="va">documentElement</span>.<span class="at">clientWidth</span> <span class="op">||</span> </a>
<a class="sourceLine" id="cb512-2" title="2"><span class="va">document</span>.<span class="va">body</span>.<span class="at">clientWidth</span><span class="op">,</span></a>
<a class="sourceLine" id="cb512-3" title="3"><span class="kw">const</span> height <span class="op">=</span> <span class="va">window</span>.<span class="at">innerHeight</span><span class="op">||</span> <span class="va">document</span>.<span class="va">documentElement</span>.<span class="at">clientHeight</span><span class="op">||</span> </a>
<a class="sourceLine" id="cb512-4" title="4"><span class="va">document</span>.<span class="va">body</span>.<span class="at">clientHeight</span><span class="op">;</span></a>
<a class="sourceLine" id="cb512-5" title="5"></a>
<a class="sourceLine" id="cb512-6" title="6"><span class="va">console</span>.<span class="at">log</span>(width<span class="op">,</span> height)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-455" class="level4">
<h4>Answer 3 (score 455)</h4>
<p>Here is a cross browser solution with pure <strong>JavaScript</strong> (<a href="http://www.w3schools.com/jsref/prop_win_innerheight.asp" rel="noreferrer">Source</a>):</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb513-1" title="1"><span class="kw">var</span> width <span class="op">=</span> <span class="va">window</span>.<span class="at">innerWidth</span></a>
<a class="sourceLine" id="cb513-2" title="2"><span class="op">||</span> <span class="va">document</span>.<span class="va">documentElement</span>.<span class="at">clientWidth</span></a>
<a class="sourceLine" id="cb513-3" title="3"><span class="op">||</span> <span class="va">document</span>.<span class="va">body</span>.<span class="at">clientWidth</span><span class="op">;</span></a>
<a class="sourceLine" id="cb513-4" title="4"></a>
<a class="sourceLine" id="cb513-5" title="5"><span class="kw">var</span> height <span class="op">=</span> <span class="va">window</span>.<span class="at">innerHeight</span></a>
<a class="sourceLine" id="cb513-6" title="6"><span class="op">||</span> <span class="va">document</span>.<span class="va">documentElement</span>.<span class="at">clientHeight</span></a>
<a class="sourceLine" id="cb513-7" title="7"><span class="op">||</span> <span class="va">document</span>.<span class="va">body</span>.<span class="at">clientHeight</span><span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-does-access-control-allow-origin-header-work-score-1414222-in-2016" class="level3">
<h3>76: How does Access-Control-Allow-Origin header work? (score <a href="https://stackoverflow.com/q/10636611.html">1414222</a> in 2016)</h3>
<section id="question-75" class="level4">
<h4>Question</h4>
<p>Apparently, I have completely misunderstood its semantics. I thought of something like this:</p>
<ol>
<li>
A client downloads javascript code MyCode.js from http://siteA - <strong>the origin</strong>.
</li>
<li>
The response header of MyCode.js contains <strong>Access-Control-Allow-Origin: http://siteB</strong>, which I thought meant that MyCode.js was allowed to make cross-origin references to the site B.
</li>
<li>
The client triggers some functionality of MyCode.js, which in turn make requests to http://siteB, which should be fine, despite being cross-origin requests.
</li>
</ol>
<p>Well, I am wrong. It does not work like this at all. So, I have read <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross-origin resource sharing</a> and attempted to read <a href="http://www.w3.org/TR/cors/.">Cross-Origin Resource Sharing in w3c recommendation</a></p>
<p>One thing is sure - I still do not understand how am I supposed to use this header.</p>
<p>I have full control of both site A and site B. How do I enable the javascript code downloaded from the site A to access resources on the site B using this header?</p>
<p>P.S.</p>
<p>I do not want to utilize JSONP.</p>
</section>
<section id="answer-accepted-score-1313-1" class="level4">
<h4>Answer accepted (score 1313)</h4>
<p><code>Access-Control-Allow-Origin</code> is a <a href="http://www.html5rocks.com/en/tutorials/cors/" rel="noreferrer">CORS (Cross-Origin Resource Sharing) header</a>.</p>
<p>When Site A tries to fetch content from Site B, Site B can send an <code>Access-Control-Allow-Origin</code> response header to tell the browser that the content of this page is accessible to certain origins. (An <em>origin</em> is a <a href="https://stackoverflow.com/a/19542686/710446">domain, plus a scheme and port number</a>.) By default, Site B’s pages are <a href="https://en.wikipedia.org/wiki/Same-origin_policy" rel="noreferrer">not accessible to any other origin</a>; using the <code>Access-Control-Allow-Origin</code> header opens a door for cross-origin access by specific requesting origins.</p>
<p>For each resource/page that Site B wants to make accessible to Site A, Site B should serve its pages with the response header:</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb514-1" title="1">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Origin<span class="op">:</span> http<span class="op">:</span><span class="co">//siteA.com</span></a></code></pre></div>
<p>Modern browsers will not block cross-domain requests outright. If Site A requests a page from Site B, the browser will actually fetch the requested page <em>on the network level</em> and check if the response headers list Site A as a permitted requester domain. If Site B has not indicated that Site A is allowed to access this page, the browser will trigger the <code>XMLHttpRequest</code>’s <code>error</code> event and deny the response data to the requesting JavaScript code.</p>
<h5>
Non-simple requests
</h1>
<p>What happens on the network level can be <em>slightly</em> more complex than explained above. If the request is a <a href="http://www.html5rocks.com/en/tutorials/cors/#toc-handling-a-not-so-simple-request" rel="noreferrer">“non-simple” request</a>, the browser first sends a data-less “preflight” OPTIONS request, to verify that the server will accept the request. A request is non-simple when either (or both):</p>
<ul>
<li>
using an HTTP verb other than GET or POST (e.g. PUT, DELETE)
</li>
<li>
<p>using non-simple request headers; the only simple requests headers are:</p>
<ul>
<li>
<code>Accept</code>
</li>
<li>
<code>Accept-Language</code>
</li>
<li>
<code>Content-Language</code>
</li>
<li>
<code>Content-Type</code> (this is only simple when its value is <code>application/x-www-form-urlencoded</code>, <code>multipart/form-data</code>, or <code>text/plain</code>)
</li>
</ul>
</li>
</ul>
<p>If the server responds to the OPTIONS preflight with appropriate response headers (<code>Access-Control-Allow-Headers</code> for non-simple headers, <code>Access-Control-Allow-Methods</code> for non-simple verbs) that match the non-simple verb and/or non-simple headers, then the browser sends the actual request.</p>
<p>Supposing that Site A wants to send a PUT request for <code>/somePage</code>, with a non-simple <code>Content-Type</code> value of <code>application/json</code>, the browser would first send a preflight request:</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb515-1" title="1">OPTIONS /somePage HTTP/<span class="fl">1.1</span></a>
<a class="sourceLine" id="cb515-2" title="2">Origin<span class="op">:</span> http<span class="op">:</span><span class="co">//siteA.com</span></a>
<a class="sourceLine" id="cb515-3" title="3">Access<span class="op">-</span>Control<span class="op">-</span>Request<span class="op">-</span>Method<span class="op">:</span> PUT</a>
<a class="sourceLine" id="cb515-4" title="4">Access<span class="op">-</span>Control<span class="op">-</span>Request<span class="op">-</span>Headers<span class="op">:</span> Content<span class="op">-</span>Type</a></code></pre></div>
<p>Note that <code>Access-Control-Request-Method</code> and <code>Access-Control-Request-Headers</code> are added by the browser automatically; you do not need to add them. This OPTIONS preflight gets the successful response headers:</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb516-1" title="1">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Origin<span class="op">:</span> http<span class="op">:</span><span class="co">//siteA.com</span></a>
<a class="sourceLine" id="cb516-2" title="2">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Methods<span class="op">:</span> GET<span class="op">,</span> POST<span class="op">,</span> PUT</a>
<a class="sourceLine" id="cb516-3" title="3">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Headers<span class="op">:</span> Content<span class="op">-</span>Type</a></code></pre></div>
<p>When sending the actual request (after preflight is done), the behavior is identical to how a simple request is handled. In other words, a non-simple request whose preflight is successful is treated the same as a simple request (i.e., the server must still send <code>Access-Control-Allow-Origin</code> again for the actual response).</p>
<p>The browsers sends the actual request:</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb517-1" title="1">PUT /somePage HTTP/<span class="fl">1.1</span></a>
<a class="sourceLine" id="cb517-2" title="2">Origin<span class="op">:</span> http<span class="op">:</span><span class="co">//siteA.com</span></a>
<a class="sourceLine" id="cb517-3" title="3">Content<span class="op">-</span>Type<span class="op">:</span> application/json</a>
<a class="sourceLine" id="cb517-4" title="4"></a>
<a class="sourceLine" id="cb517-5" title="5"><span class="op">{</span> <span class="st">&quot;myRequestContent&quot;</span><span class="op">:</span> <span class="st">&quot;JSON is so great&quot;</span> <span class="op">}</span></a></code></pre></div>
<p>And the server sends back an <code>Access-Control-Allow-Origin</code>, just as it would for a simple request:</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb518-1" title="1">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Origin<span class="op">:</span> http<span class="op">:</span><span class="co">//siteA.com</span></a></code></pre></div>
<p>See <a href="https://stackoverflow.com/a/13400954/710446">Understanding XMLHttpRequest over CORS</a> for a little more information about non-simple requests.</p>
</section>
<section id="answer-2-score-114" class="level4">
<h4>Answer 2 (score 114)</h4>
<p>Cross-Origin Request Sharing - <code>CORS</code> (A.K.A. Cross-Domain AJAX request) is an issue that most web developers might encounter, according to Same-Origin-Policy, browsers restrict client JavaScript in a security sandbox, usually JS cannot directly communicate with a remote server from a different domain. In the past developers created many tricky ways to achieve Cross-Domain resource request, most commonly using ways are:</p>
<ol>
<li>
Use Flash/Silverlight or server side as a “proxy” to communicate with remote.
</li>
<li>
JSON With Padding (<a href="http://en.wikipedia.org/wiki/JSONP">JSONP</a>).
</li>
<li>
Embeds remote server in an iframe and communicate through fragment or window.name, refer <a href="http://www.ibm.com/developerworks/library/wa-crossdomaincomm/#N10120">here</a>.
</li>
</ol>
<p>Those tricky ways have more or less some issues, for example JSONP might result in security hole if developers simply “eval” it, and #3 above, although it works, both domains should build strict contract between each other, it neither flexible nor elegant IMHO:)</p>
<p>W3C had introduced Cross-Origin Resource Sharing (CORS) as a standard solution to provide a safe, flexible and a recommended standard way to solve this issue.</p>
<p><strong>The Mechanism</strong></p>
<p>From a high level we can simply deem CORS is a contract between client AJAX call from domain A and a page hosted on domain B, a typical Cross-Origin request/response would be:</p>
<p><strong>DomainA AJAX request headers</strong></p>
<div class="sourceCode" id="cb519"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb519-1" title="1">Host <span class="va">DomainB</span>.<span class="at">com</span></a>
<a class="sourceLine" id="cb519-2" title="2">User<span class="op">-</span>Agent Mozilla/<span class="fl">5.0</span> (Windows NT <span class="fl">6.1</span><span class="op">;</span> WOW64<span class="op">;</span> rv<span class="op">:</span><span class="fl">2.0</span>) Gecko/<span class="dv">20100101</span> Firefox/<span class="fl">4.0</span></a>
<a class="sourceLine" id="cb519-3" title="3">Accept text/html<span class="op">,</span>application/xhtml<span class="op">+</span>xml<span class="op">,</span>application/xml<span class="op">;</span>q<span class="op">=</span><span class="fl">0.9</span><span class="op">,*</span><span class="co">/*;q=0.8,application/json</span></a>
<a class="sourceLine" id="cb519-4" title="4"><span class="co">Accept-Language en-us;</span></a>
<a class="sourceLine" id="cb519-5" title="5"><span class="co">Accept-Encoding gzip, deflate</span></a>
<a class="sourceLine" id="cb519-6" title="6"><span class="co">Keep-Alive 115</span></a>
<a class="sourceLine" id="cb519-7" title="7"><span class="co">Origin http://DomainA.com </span></a></code></pre></div>
<p><strong>DomainB response headers</strong></p>
<div class="sourceCode" id="cb520"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb520-1" title="1">Cache<span class="op">-</span>Control <span class="kw">private</span></a>
<a class="sourceLine" id="cb520-2" title="2">Content<span class="op">-</span>Type application/json<span class="op">;</span> charset<span class="op">=</span>utf<span class="dv">-8</span></a>
<a class="sourceLine" id="cb520-3" title="3">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Origin <span class="va">DomainA</span>.<span class="at">com</span></a>
<a class="sourceLine" id="cb520-4" title="4">Content<span class="op">-</span>Length <span class="dv">87</span></a>
<a class="sourceLine" id="cb520-5" title="5">Proxy<span class="op">-</span>Connection Keep<span class="op">-</span>Alive</a>
<a class="sourceLine" id="cb520-6" title="6">Connection Keep<span class="op">-</span>Alive</a></code></pre></div>
<p>The blue parts I marked above were the kernal facts, “Origin” request header “indicates where the cross-origin request or preflight request originates from”, the “Access-Control-Allow-Origin” response header indicates this page allows remote request from DomainA (if the value is * indicate allows remote requests from any domain).</p>
<p>As I mentioned above, W3 recommended browser to implement a “<strong>preflight request</strong>” before submiting the actually Cross-Origin HTTP request, in a nutshell it is an HTTP <code>OPTIONS</code> request:</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb521-1" title="1">OPTIONS <span class="va">DomainB</span>.<span class="at">com</span>/<span class="va">foo</span>.<span class="at">aspx</span> HTTP/<span class="fl">1.1</span></a></code></pre></div>
<p>If foo.aspx supports OPTIONS HTTP verb, it might return response like below:</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb522-1" title="1">HTTP/<span class="fl">1.1</span> <span class="dv">200</span> OK</a>
<a class="sourceLine" id="cb522-2" title="2">Date<span class="op">:</span> Wed<span class="op">,</span> <span class="dv">01</span> Mar <span class="dv">2011</span> <span class="dv">15</span><span class="op">:</span><span class="dv">38</span><span class="op">:</span><span class="dv">19</span> GMT</a>
<a class="sourceLine" id="cb522-3" title="3">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Origin<span class="op">:</span> http<span class="op">:</span><span class="co">//DomainA.com</span></a>
<a class="sourceLine" id="cb522-4" title="4">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Methods<span class="op">:</span> POST<span class="op">,</span> GET<span class="op">,</span> OPTIONS<span class="op">,</span> HEAD</a>
<a class="sourceLine" id="cb522-5" title="5">Access<span class="op">-</span>Control<span class="op">-</span>Allow<span class="op">-</span>Headers<span class="op">:</span> X<span class="op">-</span>Requested<span class="op">-</span>With</a>
<a class="sourceLine" id="cb522-6" title="6">Access<span class="op">-</span>Control<span class="op">-</span>Max<span class="op">-</span>Age<span class="op">:</span> <span class="dv">1728000</span></a>
<a class="sourceLine" id="cb522-7" title="7">Connection<span class="op">:</span> Keep<span class="op">-</span>Alive</a>
<a class="sourceLine" id="cb522-8" title="8">Content<span class="op">-</span>Type<span class="op">:</span> application/json</a></code></pre></div>
<p>Only if the response contains “Access-Control-Allow-Origin” AND its value is &quot;*&quot; or contain the domain who submitted the CORS request, by satisfying this mandtory condition browser will submit the actual Cross-Domain request, and cache the result in “<strong>Preflight-Result-Cache</strong>”.</p>
<p>I blogged about CORS three years ago: <a href="http://wayneye.com/Blog/Ajax-Cross-Origin-HTTP-request">AJAX Cross-Origin HTTP request</a></p>
</section>
<section id="answer-3-score-50" class="level4">
<h4>Answer 3 (score 50)</h4>
<p>Question is a bit too old to answer, but I am posting this for any future reference to this question.</p>
<p>According to <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" rel="noreferrer">this</a> Mozilla Developer Network article,</p>
<blockquote>
A resource makes a <strong>cross-origin HTTP request</strong> when it requests a resource from a different domain, or port than the one which the first resource itself serves.
</blockquote>
<p><a href="https://i.stack.imgur.com/zn3sT.png" rel="noreferrer"><img src="https://i.stack.imgur.com/zn3sT.png" alt="enter image description here"></a></p>
<p>
An <strong>HTML page</strong> served from <code>http://domain-a.com</code> makes an <code>&amp;lt;img&amp;gt;</code> src request for <code>http://domain-b.com/image.jpg</code>.<br> Many pages on the web today load resources like <strong>CSS stylesheets</strong>, <strong>images</strong> and <strong>scripts</strong> from separate domains (thus it should be cool).
</p>
<h5>
Same-Origin Policy
</h1>
<p>
For security reasons, browsers restrict <strong>cross-origin HTTP</strong> requests <strong>initiated from within scripts</strong>.<br> For example, <code>XMLHttpRequest</code> and <code>Fetch</code> follow the <strong>same-origin policy</strong>.<br> So, a web application using <code>XMLHttpRequest</code> or <code>Fetch</code> could only make <strong>HTTP requests</strong> to <strong>its own domain</strong>.
</p>
<h5>
Cross-Origin Resource Sharing (CORS)
</h1>
<p>To improve web applications, developers asked browser vendors to allow cross-domain requests.</p>
<p>
The <strong>Cross-Origin Resource Sharing (CORS)</strong> mechanism gives web servers <strong>cross-domain access controls</strong>, which enable secure cross-domain data transfers.<br> Modern browsers use <strong>CORS</strong> in an <strong>API container</strong> - such as <code>XMLHttpRequest</code> or <code>Fetch</code> - to mitigate risks of cross-origin HTTP requests.
</p>
<h5>
How CORS works (<code>Access-Control-Allow-Origin</code> header)
</h2>
<p><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" rel="noreferrer">Wikipedia</a>:</p>
<blockquote>
<p>The CORS standard describes new HTTP headers which provide browsers and servers a way to request remote URLs only when they have permission.</p>
Although some validation and authorization can be performed by the server, <strong>it is generally the browser’s responsibility</strong> to support these headers and honor the restrictions they impose.
</blockquote>
<h5>
Example
</h1>
<ol>
<li>
<p>
The browser sends the <code>OPTIONS</code> request with an <code>Origin HTTP</code> header.
</p>
<p>The value of this header is the domain that served the parent page. When a page from <code>http://www.example.com</code> attempts to access a user’s data in <code>service.example.com</code>, the following request header would be sent to <code>service.example.com</code>:</p>
Origin: <a href="http://www.example.com" rel="noreferrer">http://www.example.com</a>
</li>
<li>
<p>
The server at <code>service.example.com</code> may respond with:
</p>
<ul>
<li>
<p>
An <code>Access-Control-Allow-Origin</code> (ACAO) header in its response indicating which origin sites are allowed.<br> For example:
</p>
<code>Access-Control-Allow-Origin: http://www.example.com</code>
</li>
<li>
<p>
An error page if the server does not allow the cross-origin request
</p>
</li>
<li>
<p>
An <code>Access-Control-Allow-Origin</code> (ACAO) header with a wildcard that allows all domains:
</p>
<code>Access-Control-Allow-Origin: *</code>
</li>
</ul>
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-element-by-id-score-1399549-in-2016" class="level3">
<h3>77: Remove element by id (score <a href="https://stackoverflow.com/q/3387427.html">1399549</a> in 2016)</h3>
<section id="question-76" class="level4">
<h4>Question</h4>
<p>When removing an element with standard JavaScript, you must go to its parent first:</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb523-1" title="1"><span class="kw">var</span> element <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;element-id&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb523-2" title="2"><span class="va">element</span>.<span class="va">parentNode</span>.<span class="at">removeChild</span>(element)<span class="op">;</span></a></code></pre></div>
<p>Having to go to the parent node first seems a bit odd to me, is there a reason JavaScript works like this?</p>
</section>
<section id="answer-accepted-score-79" class="level4">
<h4>Answer accepted (score 79)</h4>
<p>The DOM is organized in a tree of nodes, where each node has a value, along with a list of references to its child nodes. So <code>element.parentNode.removeChild(element)</code> mimics exactly what is happening internally: First you go the the parent node, then remove the reference to the child node.</p>
<p>As of DOM4, a helper function is provided to do the same thing: <a href="https://developer.mozilla.org/en/docs/Web/API/ChildNode.remove"><code>element.remove()</code></a>. This <a href="http://caniuse.com/#search=remove">works in 87% of browsers</a> (as of 2016), but not IE 11. If you need to support older browsers, you can:</p>
<ul>
<li>
Remove elements via the parent node, as in <a href="https://www.google.com/search?q=What%20is%20the%20answer%20to%20the%20ultimate%20question%20of%20life,%20the%20universe,%20and%20everything%3F">the question</a>,
</li>
<li>
modify the native DOM functions, as in <a href="https://stackoverflow.com/a/18120786/405550">Johan Dettmar’s answer</a>, or
</li>
<li>
use a <a href="https://github.com/WebReflection/dom4#dom4">DOM4 polyfill</a>.
</li>
</ul>
</section>
<section id="answer-2-score-603" class="level4">
<h4>Answer 2 (score 603)</h4>
<p>I know that augmenting native DOM functions isn’t always the best or most popular solution, but this works fine for modern browsers.</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb524-1" title="1"><span class="va">Element</span>.<span class="va">prototype</span>.<span class="at">remove</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb524-2" title="2">    <span class="kw">this</span>.<span class="va">parentElement</span>.<span class="at">removeChild</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb524-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb524-4" title="4"><span class="va">NodeList</span>.<span class="va">prototype</span>.<span class="at">remove</span> <span class="op">=</span> <span class="va">HTMLCollection</span>.<span class="va">prototype</span>.<span class="at">remove</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb524-5" title="5">    <span class="cf">for</span>(<span class="kw">var</span> i <span class="op">=</span> <span class="kw">this</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&amp;</span>gt<span class="op">;=</span> <span class="dv">0</span><span class="op">;</span> i<span class="op">--</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb524-6" title="6">        <span class="cf">if</span>(<span class="kw">this</span>[i] <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="kw">this</span>[i].<span class="at">parentElement</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb524-7" title="7">            <span class="kw">this</span>[i].<span class="va">parentElement</span>.<span class="at">removeChild</span>(<span class="kw">this</span>[i])<span class="op">;</span></a>
<a class="sourceLine" id="cb524-8" title="8">        <span class="op">}</span></a>
<a class="sourceLine" id="cb524-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb524-10" title="10"><span class="op">}</span></a></code></pre></div>
<p>And then you can remove elements like this</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb525-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;my-element&quot;</span>).<span class="at">remove</span>()<span class="op">;</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb526-1" title="1"><span class="va">document</span>.<span class="at">getElementsByClassName</span>(<span class="st">&quot;my-elements&quot;</span>).<span class="at">remove</span>()<span class="op">;</span></a></code></pre></div>
<p><strong>Note:</strong> this solution doesn’t work for IE 7 and below. For more info about extending the DOM read this <a href="http://perfectionkills.com/whats-wrong-with-extending-the-dom/" rel="noreferrer">article</a>.</p>
<p><strong>EDIT</strong>: Reviewing my answer in 2019, <code>node.remove()</code> has come to the rescue and can be used as follows (without the polyfill above):</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb527-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;my-element&quot;</span>).<span class="at">remove</span>()<span class="op">;</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb528-1" title="1">[...<span class="va">document</span>.<span class="at">getElementsByClassName</span>(<span class="st">&quot;my-elements&quot;</span>)].<span class="at">map</span>(n <span class="op">=&amp;</span>gt<span class="op">;</span> n <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">n</span>.<span class="at">remove</span>())<span class="op">;</span></a></code></pre></div>
<p>These functions are available in all modern browsers (not IE). Read more on <a href="https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove" rel="noreferrer">MDN</a>.</p>
</section>
<section id="answer-3-score-268" class="level4">
<h4>Answer 3 (score 268)</h4>
<p>Crossbrowser and IE &gt;= 11:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb529-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;element-id&quot;</span>).<span class="at">outerHTML</span> <span class="op">=</span> <span class="st">&quot;&quot;</span><span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="javascript-check-if-variable-exists-is-definedinitialized-score-1385078-in-2015" class="level3">
<h3>78: JavaScript check if variable exists (is defined/initialized) (score <a href="https://stackoverflow.com/q/5113374.html">1385078</a> in 2015)</h3>
<section id="question-77" class="level4">
<h4>Question</h4>
<p>
Which method of checking if a variable has been initialized is better/correct? (Assuming the variable could hold anything (string, int, object, function, etc.))
</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb530-1" title="1"><span class="cf">if</span> (elem) <span class="op">{</span> <span class="co">// or !elem</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb531-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span>(elem) <span class="op">!==</span> <span class="st">&#39;undefined&#39;</span>) <span class="op">{</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb532-1" title="1"><span class="cf">if</span> (elem <span class="op">!=</span> <span class="kw">null</span>) <span class="op">{</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-801" class="level4">
<h4>Answer accepted (score 801)</h4>
<p>The <code>typeof</code> operator will check if the variable is really undefined.</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb533-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span> variable <span class="op">===</span> <span class="st">&#39;undefined&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb533-2" title="2">    <span class="co">// variable is undefined</span></a>
<a class="sourceLine" id="cb533-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>The <code>typeof</code> operator, unlike the other operators, doesn’t throw a <em>ReferenceError</em> exception when used with an undeclared variable.</p>
<p>However, do note that <code>typeof null</code> will return <code>&quot;object&quot;</code>. We have to be careful to avoid the mistake of initializing a variable to <code>null</code>. To be safe, this is what we could use instead:</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb534-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span> variable <span class="op">===</span> <span class="st">&#39;undefined&#39;</span> <span class="op">||</span> variable <span class="op">===</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb534-2" title="2">    <span class="co">// variable is undefined or null</span></a>
<a class="sourceLine" id="cb534-3" title="3"><span class="op">}</span></a></code></pre></div>
<hr>
<p>For more info on using strict comparison <code>===</code> instead of simple equality <code>==</code>, see:<br><a href="https://stackoverflow.com/q/359494/584192">Which equals operator (== vs ===) should be used in JavaScript comparisons?</a></p>
</section>
<section id="answer-2-score-2862" class="level4">
<h4>Answer 2 (score 2862)</h4>
<p>You want <a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Operators/Special_Operators/typeof_Operator" rel="noreferrer">the <code>typeof</code> operator</a>. Specifically:</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb535-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span> variable <span class="op">!==</span> <span class="st">&#39;undefined&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb535-2" title="2">    <span class="co">// the variable is defined</span></a>
<a class="sourceLine" id="cb535-3" title="3"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-205" class="level4">
<h4>Answer 3 (score 205)</h4>
<p>In JavaScript, a variable can be defined, but hold the value <code>undefined</code>, so the most common answer is not technically correct, and instead performs the following:</p>
<div class="sourceCode" id="cb536"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb536-1" title="1"><span class="cf">if</span> (<span class="kw">typeof</span> v <span class="op">===</span> <span class="st">&quot;undefined&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb536-2" title="2">   <span class="co">// no variable &quot;v&quot; is defined in the current scope</span></a>
<a class="sourceLine" id="cb536-3" title="3">   <span class="co">// *or* some variable v exists and has been assigned the value undefined</span></a>
<a class="sourceLine" id="cb536-4" title="4"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb536-5" title="5">   <span class="co">// some variable (global or local) &quot;v&quot; is defined in the current scope</span></a>
<a class="sourceLine" id="cb536-6" title="6">   <span class="co">// *and* it contains a value other than undefined</span></a>
<a class="sourceLine" id="cb536-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>That may suffice for your purposes. The following test has simpler semantics, which makes it easier to precisely describe your code’s behavior and understand it yourself (if you care about such things):</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb537-1" title="1"><span class="cf">if</span> (<span class="st">&quot;v&quot;</span> <span class="kw">in</span> window) <span class="op">{</span></a>
<a class="sourceLine" id="cb537-2" title="2">   <span class="co">// global variable v is defined</span></a>
<a class="sourceLine" id="cb537-3" title="3"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb537-4" title="4">   <span class="co">// global variable v is not defined</span></a>
<a class="sourceLine" id="cb537-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>This, of course, assumes you are running in a browser (where <code>window</code> is a name for the global object). But if you’re mucking around with globals like this you’re probably in a browser. Subjectively, using <code>'name' in window</code> is stylistically consistent with using <code>window.name</code> to refer to globals. Accessing globals as properties of <code>window</code> rather than as variables allows you to minimize the number of undeclared variables you reference in your code (for the benefit of linting), and avoids the possibility of your global being shadowed by a local variable. Also, if globals make your skin crawl you might feel more comfortable touching them only with this relatively long stick.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="writing-files-in-node.js-score-1381849-in-2018" class="level3">
<h3>79: Writing files in Node.js (score <a href="https://stackoverflow.com/q/2496710.html">1381849</a> in 2018)</h3>
<section id="question-78" class="level4">
<h4>Question</h4>
<p>I’ve been trying to find a way to write to a file when using Node.js, but with no success. How can I do that?</p>
</section>
<section id="answer-accepted-score-2282" class="level4">
<h4>Answer accepted (score 2282)</h4>
<p>There are a lot of details in the <a href="http://nodejs.org/docs/latest/api/fs.html" rel="noreferrer">File System API</a>. The most common way is:</p>
<div class="sourceCode" id="cb538"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb538-1" title="1"><span class="kw">const</span> fs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb538-2" title="2"></a>
<a class="sourceLine" id="cb538-3" title="3"><span class="va">fs</span>.<span class="at">writeFile</span>(<span class="st">&quot;/tmp/test&quot;</span><span class="op">,</span> <span class="st">&quot;Hey there!&quot;</span><span class="op">,</span> <span class="kw">function</span>(err) <span class="op">{</span></a>
<a class="sourceLine" id="cb538-4" title="4"></a>
<a class="sourceLine" id="cb538-5" title="5">    <span class="cf">if</span>(err) <span class="op">{</span></a>
<a class="sourceLine" id="cb538-6" title="6">        <span class="cf">return</span> <span class="va">console</span>.<span class="at">log</span>(err)<span class="op">;</span></a>
<a class="sourceLine" id="cb538-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb538-8" title="8"></a>
<a class="sourceLine" id="cb538-9" title="9">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;The file was saved!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb538-10" title="10"><span class="op">}</span>)<span class="op">;</span> </a></code></pre></div>
</section>
<section id="answer-2-score-512" class="level4">
<h4>Answer 2 (score 512)</h4>
<p>Currently there are three ways to write a file:</p>
<ol>
<li>
<p>
<a href="http://nodejs.org/api/fs.html#fs_fs_write_fd_buffer_offset_length_position_callback" rel="noreferrer"><code>fs.write(fd, buffer, offset, length, position, callback</code>)</a>
</p>
You need to wait for the callback to ensure that the buffer is written to disk. It’s not buffered.
</li>
<li>
<p>
<a href="http://nodejs.org/api/fs.html#fs_fs_writefile_filename_data_options_callback" rel="noreferrer"><code>fs.writeFile(filename, data, [encoding], callback)</code></a>
</p>
All data must be stored at the same time; you cannot perform sequential writes.
</li>
<li>
<p>
<a href="http://nodejs.org/api/fs.html#fs_fs_createwritestream_path_options" rel="noreferrer"><code>fs.createWriteStream(path, [options]</code>)</a>
</p>
Creates a <a href="https://github.com/joyent/node/blob/master/lib/fs.js#L1623" rel="noreferrer"><code>WriteStream</code></a>, which is convenient because you don’t need to wait for a callback. But again, it’s not buffered.
</li>
</ol>
<p>A <a href="https://github.com/joyent/node/blob/master/lib/fs.js#L1623" rel="noreferrer"><code>WriteStream</code></a>, as the name says, is a stream. A stream by definition is “a buffer” containing data which moves in one direction (source ► destination). But a writable stream is not necessarily “buffered”. A stream is “buffered” when you write <code>n</code> times, and at time <code>n+1</code>, the stream sends the buffer to the kernel (because it’s full and needs to be flushed).</p>
<p><strong>In other words:</strong> “A buffer” is the object. Whether or not it “is buffered” is a property of that object.</p>
<p>If you look at the code, the <code>WriteStream</code> inherits from a writable <code>Stream</code> object. If you pay attention, you’ll see how they flush the content; they don’t have any buffering system.</p>
<p>If you write a string, it’s converted to a buffer, and then sent to the native layer and written to disk. When writing strings, they’re not filling up any buffer. So, if you do:</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb539-1" title="1"><span class="at">write</span>(<span class="st">&quot;a&quot;</span>)</a>
<a class="sourceLine" id="cb539-2" title="2"><span class="at">write</span>(<span class="st">&quot;b&quot;</span>)</a>
<a class="sourceLine" id="cb539-3" title="3"><span class="at">write</span>(<span class="st">&quot;c&quot;</span>)</a></code></pre></div>
<p>You’re doing:</p>
<div class="sourceCode" id="cb540"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb540-1" title="1"><span class="va">fs</span>.<span class="at">write</span>(<span class="kw">new</span> <span class="at">Buffer</span>(<span class="st">&quot;a&quot;</span>))</a>
<a class="sourceLine" id="cb540-2" title="2"><span class="va">fs</span>.<span class="at">write</span>(<span class="kw">new</span> <span class="at">Buffer</span>(<span class="st">&quot;b&quot;</span>))</a>
<a class="sourceLine" id="cb540-3" title="3"><span class="va">fs</span>.<span class="at">write</span>(<span class="kw">new</span> <span class="at">Buffer</span>(<span class="st">&quot;c&quot;</span>))</a></code></pre></div>
<p>That’s <em>three</em> calls to the I/O layer. Although you’re using “buffers”, the data is not buffered. A buffered stream would do: <code>fs.write(new Buffer (&quot;abc&quot;))</code>, one call to the I/O layer.</p>
<p>
As of now, in Node.js v0.12 (stable version announced 02/06/2015) now supports two functions: <a href="http://nodejs.org/docs/v0.11.5/api/stream.html#stream_writable_cork" rel="noreferrer"><code>cork()</code></a> and <a href="http://nodejs.org/docs/v0.11.5/api/stream.html#stream_writable_uncork" rel="noreferrer"><code>uncork()</code></a>. It seems that these functions will finally allow you to buffer/flush the write calls.
</p>
<p>For example, in Java there are some classes that provide buffered streams (<code>BufferedOutputStream</code>, <code>BufferedWriter</code>…). If you write three bytes, these bytes will be stored in the buffer (memory) instead of doing an I/O call just for three bytes. When the buffer is full the content is flushed and saved to disk. This improves performance.</p>
<p>I’m not discovering anything, just remembering how a disk access should be done.</p>
</section>
<section id="answer-3-score-243" class="level4">
<h4>Answer 3 (score 243)</h4>
<p>You can of course make it a little more advanced. Non-blocking, writing bits and pieces, not writing the whole file at once:</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb541-1" title="1"><span class="kw">var</span> fs <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb541-2" title="2"><span class="kw">var</span> stream <span class="op">=</span> <span class="va">fs</span>.<span class="at">createWriteStream</span>(<span class="st">&quot;my_file.txt&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb541-3" title="3"><span class="va">stream</span>.<span class="at">once</span>(<span class="st">&#39;open&#39;</span><span class="op">,</span> <span class="kw">function</span>(fd) <span class="op">{</span></a>
<a class="sourceLine" id="cb541-4" title="4">  <span class="va">stream</span>.<span class="at">write</span>(<span class="st">&quot;My first row</span><span class="sc">\n</span><span class="st">&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb541-5" title="5">  <span class="va">stream</span>.<span class="at">write</span>(<span class="st">&quot;My second row</span><span class="sc">\n</span><span class="st">&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb541-6" title="6">  <span class="va">stream</span>.<span class="at">end</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb541-7" title="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-javascript-closures-work-score-1379921-in-2017" class="level3">
<h3>80: How do JavaScript closures work? (score <a href="https://stackoverflow.com/q/111102.html">1379921</a> in 2017)</h3>
<section id="question-79" class="level4">
<h4>Question</h4>
<p>How would you explain JavaScript closures to someone with a knowledge of the concepts they consist of (for example functions, variables and the like), but does not understand closures themselves?</p>
<p>I have seen <a href="http://en.wikipedia.org/wiki/Scheme_%28programming_language%29" rel="noreferrer">the Scheme example</a> given on Wikipedia, but unfortunately it did not help.</p>
</section>
<section id="answer-accepted-score-7025" class="level4">
<h4>Answer accepted (score 7025)</h4>
<h5>
JavaScript closures for beginners
</h1>
<blockquote>
Submitted by Morris on Tue, 2006-02-21 10:19. Community-edited since.
</blockquote>
<h5>
Closures are not magic
</h2>
<p>This page explains closures so that a programmer can understand them — using working JavaScript code. It is not for gurus or functional programmers.</p>
<p>Closures are <em>not hard</em> to understand once the core concept is grokked. However, they are impossible to understand by reading any theoretical or academically oriented explanations!</p>
<p>This article is intended for programmers with some programming experience in a mainstream language, and who can read the following JavaScript function:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript function sayHello(name) {   var text = 'Hello ' + name;   var say = function() { console.log(text); }   say(); } sayHello('Joe');</code></p>
</div>
</div>
<h5>
Two brief summaries
</h2>
<ul>
<li>
<p>
When a function (<code>foo</code>) declares other functions (bar and baz), the family of local variables created in <code>foo</code> is <em>not destroyed</em> when the function exits. The variables merely become invisible to the outside world. <code>foo</code> can therefore cunningly return the functions <code>bar</code> and <code>baz</code>, and they can continue to read, write and communicate with each other through this closed-off family of variables (“the closure”) that nobody else can meddle with, not even someone who calls <code>foo</code> again in future.
</p>
</li>
<li>
<p>
A closure is one way of supporting <a href="https://en.wikipedia.org/wiki/First-class_function" rel="noreferrer">first-class functions</a>; it is an expression that can reference variables within its scope (when it was first declared), be assigned to a variable, be passed as an argument to a function, or be returned as a function result.
</p>
</li>
</ul>
<h5>
An example of a closure
</h2>
<p>The following code returns a reference to a function:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript function sayHello2(name) {   var text = 'Hello ' + name; // Local variable   var say = function() { console.log(text); }   return say; } var say2 = sayHello2('Bob'); say2(); // logs &quot;Hello Bob&quot;</code></p>
</div>
</div>
<p>Most JavaScript programmers will understand how a reference to a function is returned to a variable (<code>say2</code>) in the above code. If you don’t, then you need to look at that before you can learn closures. A programmer using C would think of the function as returning a pointer to a function, and that the variables <code>say</code> and <code>say2</code> were each a pointer to a function.</p>
<p>There is a critical difference between a C pointer to a function and a JavaScript reference to a function. In JavaScript, you can think of a function reference variable as having both a pointer to a function <em>as well</em> as a hidden pointer to a closure.</p>
<p>The above code has a closure because the anonymous function <code>function() { console.log(text); }</code> is declared <em>inside</em> another function, <code>sayHello2()</code> in this example. In JavaScript, if you use the <code>function</code> keyword inside another function, you are creating a closure.</p>
<p>In C and most other common languages, <em>after</em> a function returns, all the local variables are no longer accessible because the stack-frame is destroyed.</p>
<p>In JavaScript, if you declare a function within another function, then the local variables of the outer function can remain accessible after returning from it. This is demonstrated above, because we call the function <code>say2()</code> after we have returned from <code>sayHello2()</code>. Notice that the code that we call references the variable <code>text</code>, which was a <em>local variable</em> of the function <code>sayHello2()</code>.</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb542-1" title="1"><span class="kw">function</span>() <span class="op">{</span> <span class="va">console</span>.<span class="at">log</span>(text)<span class="op">;</span> <span class="op">}</span> <span class="co">// Output of say2.toString();</span></a></code></pre></div>
<p>Looking at the output of <code>say2.toString()</code>, we can see that the code refers to the variable <code>text</code>. The anonymous function can reference <code>text</code> which holds the value <code>'Hello Bob'</code> because the local variables of <code>sayHello2()</code> have been secretly kept alive in a closure.</p>
<p>The genius is that in JavaScript a function reference also has a secret reference to the closure it was created in — similar to how delegates are a method pointer plus a secret reference to an object.</p>
<h5>
More examples
</h2>
<p>
For some reason, closures seem really hard to understand when you read about them, but when you see some examples, it becomes clear how they work (it took me a while). I recommend working through the examples carefully until you understand how they work. If you start using closures without fully understanding how they work, you would soon create some very weird bugs!
</p>
<h5>
Example 3
</h3>
<p>This example shows that the local variables are not copied — they are kept by reference. It is as though the stack-frame stays alive in memory even after the outer function exits!</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript function say667() {   // Local variable that ends up within closure   var num = 42;   var say = function() { console.log(num); }   num++;   return say; } var sayNumber = say667(); sayNumber(); // logs 43</code></p>
</div>
</div>
<h5>
Example 4
</h3>
<p>All three global functions have a common reference to the <em>same</em> closure because they are all declared within a single call to <code>setupSomeGlobals()</code>.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var gLogNumber, gIncreaseNumber, gSetNumber; function setupSomeGlobals() { // Local variable that ends up within closure var num = 42; // Store some references to functions as global variables gLogNumber = function() { console.log(num); } gIncreaseNumber = function() { num++; } gSetNumber = function(x) { num = x; } }</p>
<p>setupSomeGlobals(); gIncreaseNumber(); gLogNumber(); // 43 gSetNumber(5); gLogNumber(); // 5</p>
<p>var oldLog = gLogNumber;</p>
<p>setupSomeGlobals(); gLogNumber(); // 42</p>
<p>oldLog() // 5```</p>
</div>
</div>
<p>The three functions have shared access to the same closure — the local variables of <code>setupSomeGlobals()</code> when the three functions were defined.</p>
<p>Note that in the above example, if you call <code>setupSomeGlobals()</code> again, then a new closure (stack-frame!) is created. The old <code>gLogNumber</code>, <code>gIncreaseNumber</code>, <code>gSetNumber</code> variables are overwritten with <em>new</em> functions that have the new closure. (In JavaScript, whenever you declare a function inside another function, the inside function(s) is/are recreated again <em>each</em> time the outside function is called.)</p>
<h5>
Example 5
</h3>
<p>
This example shows that the closure contains any local variables that were declared inside the outer function before it exited. Note that the variable <code>alice</code> is actually declared after the anonymous function. The anonymous function is declared first and when that function is called it can access the <code>alice</code> variable because <code>alice</code> is in the same scope (JavaScript does <a href="https://stackoverflow.com/a/3725763/1269037">variable hoisting</a>). Also <code>sayAlice()()</code> just directly calls the function reference returned from <code>sayAlice()</code> — it is exactly the same as what was done previously but without the temporary variable.
</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript function sayAlice() {     var say = function() { console.log(alice); }     // Local variable that ends up within closure     var alice = 'Hello Alice';     return say; } sayAlice()();// logs &quot;Hello Alice&quot;</code></p>
</div>
</div>
<p>Tricky: note the <code>say</code> variable is also inside the closure and could be accessed by any other function that might be declared within <code>sayAlice()</code>, or it could be accessed recursively within the inside function.</p>
<h5>
Example 6
</h3>
<p>This one is a real gotcha for many people, so you need to understand it. Be very careful if you are defining a function within a loop: the local variables from the closure may not act as you might first think.</p>
<p>You need to understand the “variable hoisting” feature in Javascript in order to understand this example.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function buildList(list) { var result = []; for (var i = 0; i &lt; list.length; i++) { var item = ‘item’ + i; result.push( function() {console.log(item + ’ ’ + list[i])} ); } return result; }</p>
<p>function testList() { var fnlist = buildList([1,2,3]); // Using j only to help prevent confusion – could use i. for (var j = 0; j &lt; fnlist.length; j++) { fnlist<a href="">j</a>; } }</p>
<p>testList() //logs “item2 undefined” 3 times```</p>
</div>
</div>
<p>The line <code>result.push( function() {console.log(item + ' ' + list[i])}</code> adds a reference to an anonymous function three times to the result array. If you are not so familiar with anonymous functions think of it like:</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb543-1" title="1">pointer <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span><span class="va">console</span>.<span class="at">log</span>(item <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> list[i])<span class="op">};</span></a>
<a class="sourceLine" id="cb543-2" title="2"><span class="va">result</span>.<span class="at">push</span>(pointer)<span class="op">;</span></a></code></pre></div>
<p>Note that when you run the example, <code>&quot;item2 undefined&quot;</code> is logged three times! This is because just like previous examples, there is only one closure for the local variables for <code>buildList</code> (which are <code>result</code>, <code>i</code>, <code>list</code> and <code>item</code>). When the anonymous functions are called on the line <code>fnlist[j]()</code>; they all use the same single closure, and they use the current value for <code>i</code> and <code>item</code> within that one closure (where <code>i</code> has a value of <code>3</code> because the loop had completed, and <code>item</code> has a value of <code>'item2'</code>). Note we are indexing from 0 hence <code>item</code> has a value of <code>item2</code>. And the i++ will increment <code>i</code> to the value <code>3</code>.</p>
<p>It may be helpful to see what happens when a block-level declaration of the variable <code>item</code> is used (via the <code>let</code> keyword) instead of a function-scoped variable declaration via the <code>var</code> keyword. If that change is made, then each anonymous function in the array <code>result</code> has its own closure; when the example is run the output is as follows:</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb544-1" title="1">item0 <span class="kw">undefined</span></a>
<a class="sourceLine" id="cb544-2" title="2">item1 <span class="kw">undefined</span></a>
<a class="sourceLine" id="cb544-3" title="3">item2 <span class="kw">undefined</span></a></code></pre></div>
<p>If the variable <code>i</code> is also defined using <code>let</code> instead of <code>var</code>, then the output is:</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb545-1" title="1">item0 <span class="dv">1</span></a>
<a class="sourceLine" id="cb545-2" title="2">item1 <span class="dv">2</span></a>
<a class="sourceLine" id="cb545-3" title="3">item2 <span class="dv">3</span></a></code></pre></div>
<h5>
Example 7
</h3>
<p>In this final example, each call to the main function creates a separate closure.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript function newClosure(someNum, someRef) {     // Local variables that end up within closure     var num = someNum;     var anArray = [1,2,3];     var ref = someRef;     return function(x) {         num += x;         anArray.push(num);         console.log('num: ' + num +             '; anArray: ' + anArray.toString() +             '; ref.someVar: ' + ref.someVar + ';');       } } obj = {someVar: 4}; fn1 = newClosure(4, obj); fn2 = newClosure(5, obj); fn1(1); // num: 5; anArray: 1,2,3,5; ref.someVar: 4; fn2(1); // num: 6; anArray: 1,2,3,6; ref.someVar: 4; obj.someVar++; fn1(2); // num: 7; anArray: 1,2,3,5,7; ref.someVar: 5; fn2(2); // num: 8; anArray: 1,2,3,6,8; ref.someVar: 5;</code></p>
</div>
</div>
<h5>
Summary
</h2>
<p>
If everything seems completely unclear, then the best thing to do is to play with the examples. Reading an explanation is much harder than understanding examples. My explanations of closures and stack-frames, etc. are not technically correct — they are gross simplifications intended to help to understand. Once the basic idea is grokked, you can pick up the details later.
</p>
<h5>
Final points:
</h2>
<ul>
<li>
Whenever you use <code>function</code> inside another function, a closure is used.
</li>
<li>
Whenever you use <code>eval()</code> inside a function, a closure is used. The text you <code>eval</code> can reference local variables of the function, and within <code>eval</code> you can even create new local variables by using <code>eval('var foo = …')</code>
</li>
<li>
When you use <code>new Function(…)</code> (the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" rel="noreferrer">Function constructor</a>) inside a function, it does not create a closure. (The new function cannot reference the local variables of the outer function.)
</li>
<li>
A closure in JavaScript is like keeping a copy of all the local variables, just as they were when a function exited.
</li>
<li>
It is probably best to think that a closure is always created just an entry to a function, and the local variables are added to that closure.
</li>
<li>
A new set of local variables is kept every time a function with a closure is called (given that the function contains a function declaration inside it, and a reference to that inside function is either returned or an external reference is kept for it in some way).
</li>
<li>
Two functions might look like they have the same source text, but have completely different behavior because of their ‘hidden’ closure. I don’t think JavaScript code can actually find out if a function reference has a closure or not.
</li>
<li>
If you are trying to do any dynamic source code modifications (for example: <code>myFunction = Function(myFunction.toString().replace(/Hello/,'Hola'));</code>), it won’t work if <code>myFunction</code> is a closure (of course, you would never even think of doing source code string substitution at runtime, but…).
</li>
<li>
It is possible to get function declarations within function declarations within functions… and you can get closures at more than one level.
</li>
<li>
I think normally a closure is a term for both the function along with the variables that are captured. Note that I do not use that definition in this article!
</li>
<li>
I suspect that closures in JavaScript differ from those normally found in functional languages.
</li>
</ul>
<h5>
Links
</h2>
<ul>
<li>
Douglas Crockford’s simulated <a href="http://www.crockford.com/javascript/private.html" rel="noreferrer">private attributes and private methods</a> for an object, using closures.
</li>
<li>
A great explanation of how closures can <a href="https://www.codeproject.com/Articles/12231/Memory-Leakage-in-Internet-Explorer-revisited" rel="noreferrer">cause memory leaks in IE</a> if you are not careful.
</li>
</ul>
<h5>
Thanks
</h2>
<p>If you have <em>just</em> learned closures (here or elsewhere!), then I am interested in any feedback from you about any changes you might suggest that could make this article clearer. Send an email to morrisjohns.com (morris_closure @). Please note that I am not a guru on JavaScript — nor on closures.</p>
<hr>
<p>Original post by Morris can be found in the <a href="http://web.archive.org/web/20080209105120/http:/blog.morrisjohns.com/javascript_closures_for_dummies" rel="noreferrer">Internet Archive</a>.</p>
</section>
<section id="answer-2-score-3935" class="level4">
<h4>Answer 2 (score 3935)</h4>
<p>Whenever you see the function keyword within another function, the inner function has access to variables in the outer function.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function foo(x) { var tmp = 3;</p>
<p>function bar(y) { console.log(x + y + (++tmp)); // will log 16 }</p>
<p>bar(10); }</p>
<p>foo(2);```</p>
</div>
</div>
<p>This will always log 16, because <code>bar</code> can access the <code>x</code> which was defined as an argument to <code>foo</code>, and it can also access <code>tmp</code> from <code>foo</code>.</p>
<p>That <strong><em>is</em></strong> a closure. A function doesn’t have to <em>return</em> in order to be called a closure. <strong><em>Simply accessing variables outside of your immediate lexical scope creates a closure</em></strong>.</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function foo(x) { var tmp = 3;</p>
<p>return function (y) { console.log(x + y + (++tmp)); // will also log 16 } }</p>
<p>var bar = foo(2); // bar is now a closure. bar(10);```</p>
</div>
</div>
<p>The above function will also log 16, because <code>bar</code> can still refer to <code>x</code> and <code>tmp</code>, even though it is no longer directly inside the scope.</p>
<p>However, since <code>tmp</code> is still hanging around inside <code>bar</code>’s closure, it is also being incremented. It will be incremented each time you call <code>bar</code>.</p>
<p>The simplest example of a closure is this:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript var a = 10;</p>
<p>function test() { console.log(a); // will output 10 console.log(b); // will output 6 } var b = 6; test();```</p>
</div>
</div>
<p>When a JavaScript function is invoked, a new execution context is created. Together with the function arguments and the parent object, this execution context also receives all the variables declared outside of it (in the above example, both ‘a’ and ‘b’).</p>
<p>It is possible to create more than one closure function, either by returning a list of them or by setting them to global variables. All of these will refer to the <strong>same</strong> <code>x</code> and the same <code>tmp</code>, they don’t make their own copies.</p>
<p>Here the number <code>x</code> is a literal number. As with other literals in JavaScript, when <code>foo</code> is called, the number <code>x</code> is <strong>copied</strong> into <code>foo</code> as its argument <code>x</code>.</p>
<p>On the other hand, JavaScript always uses references when dealing with objects. If say, you called <code>foo</code> with an object, the closure it returns will <strong>reference</strong> that original object!</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function foo(x) { var tmp = 3;</p>
<p>return function (y) { console.log(x + y + tmp); x.memb = x.memb ? x.memb + 1 : 1; console.log(x.memb); } }</p>
<p>var age = new Number(2); var bar = foo(age); // bar is now a closure referencing age. bar(10);```</p>
</div>
</div>
<p>As expected, each call to <code>bar(10)</code> will increment <code>x.memb</code>. What might not be expected, is that <code>x</code> is simply referring to the same object as the <code>age</code> variable! After a couple of calls to <code>bar</code>, <code>age.memb</code> will be 2! This referencing is the basis for memory leaks with HTML objects.</p>
</section>
<section id="answer-3-score-2380" class="level4">
<h4>Answer 3 (score 2380)</h4>
<p>FOREWORD: this answer was written when the question was:</p>
<blockquote>
<p>Like the old Albert said : “If you can’t explain it to a six-year old, you really don’t understand it yourself.”. Well I tried to explain JS closures to a 27 years old friend and completely failed.</p>
Can anybody consider that I am 6 and strangely interested in that subject ?
</blockquote>
<p>I’m pretty sure I was one of the only people that attempted to take the initial question literally. Since then, the question has mutated several times, so my answer may now seem incredibly silly &amp; out of place. Hopefully the general idea of the story remains fun for some.</p>
<hr>
<p>I’m a big fan of analogy and metaphor when explaining difficult concepts, so let me try my hand with a story.</p>
<p><strong>Once upon a time:</strong></p>
<p>There was a princess…</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb546-1" title="1"><span class="kw">function</span> <span class="at">princess</span>() <span class="op">{</span></a></code></pre></div>
<p>She lived in a wonderful world full of adventures. She met her Prince Charming, rode around her world on a unicorn, battled dragons, encountered talking animals, and many other fantastical things.</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb547-1" title="1">    <span class="kw">var</span> adventures <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb547-2" title="2"></a>
<a class="sourceLine" id="cb547-3" title="3">    <span class="kw">function</span> <span class="at">princeCharming</span>() <span class="op">{</span> <span class="co">/* ... */</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb547-4" title="4"></a>
<a class="sourceLine" id="cb547-5" title="5">    <span class="kw">var</span> unicorn <span class="op">=</span> <span class="op">{</span> <span class="co">/* ... */</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb547-6" title="6">        dragons <span class="op">=</span> [ <span class="co">/* ... */</span> ]<span class="op">,</span></a>
<a class="sourceLine" id="cb547-7" title="7">        squirrel <span class="op">=</span> <span class="st">&quot;Hello!&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb547-8" title="8"></a>
<a class="sourceLine" id="cb547-9" title="9">    <span class="co">/* ... */</span></a></code></pre></div>
<p>But she would always have to return back to her dull world of chores and grown-ups.</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb548-1" title="1">    <span class="cf">return</span> <span class="op">{</span></a></code></pre></div>
<p>And she would often tell them of her latest amazing adventure as a princess.</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb549-1" title="1">        story<span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb549-2" title="2">            <span class="cf">return</span> adventures[<span class="va">adventures</span>.<span class="at">length</span> <span class="op">-</span> <span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb549-3" title="3">        <span class="op">}</span></a>
<a class="sourceLine" id="cb549-4" title="4">    }<span class="op">;</span></a>
<a class="sourceLine" id="cb549-5" title="5">}</a></code></pre></div>
<p>But all they would see is a little girl…</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb550-1" title="1"><span class="kw">var</span> littleGirl <span class="op">=</span> <span class="at">princess</span>()<span class="op">;</span></a></code></pre></div>
<p>…telling stories about magic and fantasy.</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb551-1" title="1"><span class="va">littleGirl</span>.<span class="at">story</span>()<span class="op">;</span></a></code></pre></div>
<p>And even though the grown-ups knew of real princesses, they would never believe in the unicorns or dragons because they could never see them. The grown-ups said that they only existed inside the little girl’s imagination.</p>
<p>But we know the real truth; that the little girl with the princess inside…</p>
<p>…is really a princess with a little girl inside.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="javascript-post-request-like-a-form-submit-score-1368289-in-2017" class="level3">
<h3>81: JavaScript post request like a form submit (score <a href="https://stackoverflow.com/q/133925.html">1368289</a> in 2017)</h3>
<section id="question-80" class="level4">
<h4>Question</h4>
<p>I’m trying to direct a browser to a different page. If I wanted a GET request, I might say</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb552-1" title="1"><span class="va">document</span>.<span class="va">location</span>.<span class="at">href</span> <span class="op">=</span> <span class="st">&#39;http://example.com/q=a&#39;</span><span class="op">;</span></a></code></pre></div>
<p>But the resource I’m trying to access won’t respond properly unless I use a POST request. If this were not dynamically generated, I might use the HTML</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb553-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>form action<span class="op">=</span><span class="st">&quot;http://example.com/&quot;</span> method<span class="op">=</span><span class="st">&quot;POST&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb553-2" title="2">  <span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;hidden&quot;</span> name<span class="op">=</span><span class="st">&quot;q&quot;</span> value<span class="op">=</span><span class="st">&quot;a&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb553-3" title="3"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/form&amp;gt;</span></a></code></pre></div>
<p>Then I would just submit the form from the DOM.</p>
<p>But really I would like JavaScript code that allows me to say</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb554-1" title="1"><span class="at">post_to_url</span>(<span class="st">&#39;http://example.com/&#39;</span><span class="op">,</span> <span class="op">{</span><span class="st">&#39;q&#39;</span><span class="op">:</span><span class="st">&#39;a&#39;</span><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>What’s the best cross browser implementation?</p>
<p><strong>Edit</strong></p>
<p>I’m sorry I was not clear. I need a solution that changes the location of the browser, just like submitting a form. If this is possible with <a href="http://en.wikipedia.org/wiki/XMLHttpRequest" rel="noreferrer">XMLHttpRequest</a>, it is not obvious. And this should not be asynchronous, nor use XML, so Ajax is not the answer.</p>
</section>
<section id="answer-accepted-score-2058-1" class="level4">
<h4>Answer accepted (score 2058)</h4>
<h5>
Dynamically create <code>&amp;lt;input&amp;gt;</code>s in a form and submit it
</h2>
<div class="sourceCode" id="cb555"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb555-1" title="1"><span class="co">/**</span></a>
<a class="sourceLine" id="cb555-2" title="2"><span class="co"> * sends a request to the specified url from a form. this will change the window location.</span></a>
<a class="sourceLine" id="cb555-3" title="3"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">{string}</span><span class="co"> path the path to send the post request to</span></a>
<a class="sourceLine" id="cb555-4" title="4"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">{object}</span><span class="co"> params the paramiters to add to the url</span></a>
<a class="sourceLine" id="cb555-5" title="5"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">{string}</span><span class="co"> [method=post] the method to use on the form</span></a>
<a class="sourceLine" id="cb555-6" title="6"><span class="co"> */</span></a>
<a class="sourceLine" id="cb555-7" title="7"></a>
<a class="sourceLine" id="cb555-8" title="8"><span class="kw">function</span> <span class="at">post</span>(path<span class="op">,</span> params<span class="op">,</span> method<span class="op">=</span><span class="st">&#39;post&#39;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb555-9" title="9"></a>
<a class="sourceLine" id="cb555-10" title="10">  <span class="co">// The rest of this code assumes you are not using a library.</span></a>
<a class="sourceLine" id="cb555-11" title="11">  <span class="co">// It can be made less wordy if you use one.</span></a>
<a class="sourceLine" id="cb555-12" title="12">  <span class="kw">const</span> form <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;form&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb555-13" title="13">  <span class="va">form</span>.<span class="at">method</span> <span class="op">=</span> method<span class="op">;</span></a>
<a class="sourceLine" id="cb555-14" title="14">  <span class="va">form</span>.<span class="at">action</span> <span class="op">=</span> path<span class="op">;</span></a>
<a class="sourceLine" id="cb555-15" title="15"></a>
<a class="sourceLine" id="cb555-16" title="16">  <span class="cf">for</span> (<span class="kw">const</span> key <span class="kw">in</span> params) <span class="op">{</span></a>
<a class="sourceLine" id="cb555-17" title="17">    <span class="cf">if</span> (<span class="va">params</span>.<span class="at">hasOwnProperty</span>(key)) <span class="op">{</span></a>
<a class="sourceLine" id="cb555-18" title="18">      <span class="kw">const</span> hiddenField <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&#39;input&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb555-19" title="19">      <span class="va">hiddenField</span>.<span class="at">type</span> <span class="op">=</span> <span class="st">&#39;hidden&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb555-20" title="20">      <span class="va">hiddenField</span>.<span class="at">name</span> <span class="op">=</span> key<span class="op">;</span></a>
<a class="sourceLine" id="cb555-21" title="21">      <span class="va">hiddenField</span>.<span class="at">value</span> <span class="op">=</span> params[key]<span class="op">;</span></a>
<a class="sourceLine" id="cb555-22" title="22"></a>
<a class="sourceLine" id="cb555-23" title="23">      <span class="va">form</span>.<span class="at">appendChild</span>(hiddenField)<span class="op">;</span></a>
<a class="sourceLine" id="cb555-24" title="24">    <span class="op">}</span></a>
<a class="sourceLine" id="cb555-25" title="25">  <span class="op">}</span></a>
<a class="sourceLine" id="cb555-26" title="26"></a>
<a class="sourceLine" id="cb555-27" title="27">  <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(form)<span class="op">;</span></a>
<a class="sourceLine" id="cb555-28" title="28">  <span class="va">form</span>.<span class="at">submit</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb555-29" title="29"><span class="op">}</span></a></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb556-1" title="1"><span class="at">post</span>(<span class="st">&#39;/contact/&#39;</span><span class="op">,</span> <span class="op">{</span><span class="dt">name</span><span class="op">:</span> <span class="st">&#39;Johnny Bravo&#39;</span><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>EDIT</strong>: Since this has gotten upvoted so much, I’m guessing people will be copy-pasting this a lot. So I added the <code>hasOwnProperty</code> check to fix any inadvertent bugs.</p>
</section>
<section id="answer-2-score-126" class="level4">
<h4>Answer 2 (score 126)</h4>
<p>This would be a version of the selected answer using <a href="http://en.wikipedia.org/wiki/JQuery">jQuery</a>.</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb557-1" title="1"><span class="co">// Post to the provided URL with the specified parameters.</span></a>
<a class="sourceLine" id="cb557-2" title="2"><span class="kw">function</span> <span class="at">post</span>(path<span class="op">,</span> parameters) <span class="op">{</span></a>
<a class="sourceLine" id="cb557-3" title="3">    <span class="kw">var</span> form <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;&amp;lt;form&amp;gt;&amp;lt;/form&amp;gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-4" title="4"></a>
<a class="sourceLine" id="cb557-5" title="5">    <span class="va">form</span>.<span class="at">attr</span>(<span class="st">&quot;method&quot;</span><span class="op">,</span> <span class="st">&quot;post&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-6" title="6">    <span class="va">form</span>.<span class="at">attr</span>(<span class="st">&quot;action&quot;</span><span class="op">,</span> path)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-7" title="7"></a>
<a class="sourceLine" id="cb557-8" title="8">    <span class="va">$</span>.<span class="at">each</span>(parameters<span class="op">,</span> <span class="kw">function</span>(key<span class="op">,</span> value) <span class="op">{</span></a>
<a class="sourceLine" id="cb557-9" title="9">        <span class="kw">var</span> field <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;&amp;lt;input&amp;gt;&amp;lt;/input&amp;gt;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-10" title="10"></a>
<a class="sourceLine" id="cb557-11" title="11">        <span class="va">field</span>.<span class="at">attr</span>(<span class="st">&quot;type&quot;</span><span class="op">,</span> <span class="st">&quot;hidden&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-12" title="12">        <span class="va">field</span>.<span class="at">attr</span>(<span class="st">&quot;name&quot;</span><span class="op">,</span> key)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-13" title="13">        <span class="va">field</span>.<span class="at">attr</span>(<span class="st">&quot;value&quot;</span><span class="op">,</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-14" title="14"></a>
<a class="sourceLine" id="cb557-15" title="15">        <span class="va">form</span>.<span class="at">append</span>(field)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-16" title="16">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-17" title="17"></a>
<a class="sourceLine" id="cb557-18" title="18">    <span class="co">// The form needs to be a part of the document in</span></a>
<a class="sourceLine" id="cb557-19" title="19">    <span class="co">// order for us to be able to submit it.</span></a>
<a class="sourceLine" id="cb557-20" title="20">    <span class="at">$</span>(<span class="va">document</span>.<span class="at">body</span>).<span class="at">append</span>(form)<span class="op">;</span></a>
<a class="sourceLine" id="cb557-21" title="21">    <span class="va">form</span>.<span class="at">submit</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb557-22" title="22"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-65-1" class="level4">
<h4>Answer 3 (score 65)</h4>
<p>A simple quick-and-dirty implementation of <span class="citation" data-cites="Aaron">@Aaron</span> answer:</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb558-1" title="1"><span class="va">document</span>.<span class="va">body</span>.<span class="at">innerHTML</span> <span class="op">+=</span> <span class="st">&#39;&amp;lt;form id=&quot;dynForm&quot; action=&quot;http://example.com/&quot; method=&quot;post&quot;&amp;gt;&amp;lt;input type=&quot;hidden&quot; name=&quot;q&quot; value=&quot;a&quot;&amp;gt;&amp;lt;/form&amp;gt;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb558-2" title="2"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;dynForm&quot;</span>).<span class="at">submit</span>()<span class="op">;</span></a></code></pre></div>
<p>Of course, you should rather use a JavaScript framework such as <a href="http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework" rel="noreferrer">Prototype</a> or <a href="http://en.wikipedia.org/wiki/JQuery" rel="noreferrer">jQuery</a>…</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-change-the-href-for-a-hyperlink-using-jquery-score-1363581-in-2016" class="level3">
<h3>82: How to change the href for a hyperlink using jQuery (score <a href="https://stackoverflow.com/q/179713.html">1363581</a> in 2016)</h3>
<section id="question-81" class="level4">
<h4>Question</h4>
<p>How can you change the href for a hyperlink using jQuery?</p>
</section>
<section id="answer-accepted-score-1775-1" class="level4">
<h4>Answer accepted (score 1775)</h4>
<p>Using</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb559-1" title="1"><span class="at">$</span>(<span class="st">&quot;a&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;href&quot;</span><span class="op">,</span> <span class="st">&quot;http://www.google.com/&quot;</span>)</a></code></pre></div>
<p>will modify the href of all hyperlinks to point to Google. You probably want a somewhat more refined selector though. For instance, if you have a mix of link source (hyperlink) and link target (a.k.a. “anchor”) anchor tags:</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb560-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>a name<span class="op">=</span><span class="st">&quot;MyLinks&quot;</span><span class="op">&amp;</span>gt<span class="op">;&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;</span></a>
<a class="sourceLine" id="cb560-2" title="2"><span class="ss">&amp;lt;a href=&quot;http://www.codeproject.com/</span><span class="st">&quot;&amp;gt;The CodeProject&amp;lt;/a&amp;gt;</span></a></code></pre></div>
<p>…Then you probably don’t want to accidentally add <code>href</code> attributes to them. For safety then, we can specify that our selector will only match <code>&amp;lt;a&amp;gt;</code> tags with an existing <code>href</code> attribute:</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb561-1" title="1"><span class="at">$</span>(<span class="st">&quot;a[href]&quot;</span>) <span class="co">//...</span></a></code></pre></div>
<p>Of course, you’ll probably have something more interesting in mind. If you want to match an anchor with a specific existing <code>href</code>, you might use something like this:</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb562-1" title="1"><span class="at">$</span>(<span class="st">&quot;a[href=&#39;http://www.google.com/&#39;]&quot;</span>).<span class="at">attr</span>(<span class="st">&#39;href&#39;</span><span class="op">,</span> <span class="st">&#39;http://www.live.com/&#39;</span>)</a></code></pre></div>
<p>This will find links where the <code>href</code> exactly matches the string <code>http://www.google.com/</code>. A more involved task might be matching, then updating only part of the <code>href</code>:</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb563-1" title="1"><span class="at">$</span>(<span class="st">&quot;a[href^=&#39;http://stackoverflow.com&#39;]&quot;</span>)</a>
<a class="sourceLine" id="cb563-2" title="2">   .<span class="at">each</span>(<span class="kw">function</span>()</a>
<a class="sourceLine" id="cb563-3" title="3">   <span class="op">{</span> </a>
<a class="sourceLine" id="cb563-4" title="4">      <span class="kw">this</span>.<span class="at">href</span> <span class="op">=</span> <span class="kw">this</span>.<span class="va">href</span>.<span class="at">replace</span>(<span class="ss">/</span><span class="sc">^</span><span class="ss">http:</span><span class="sc">\/\/</span><span class="ss">beta</span><span class="sc">\.</span><span class="ss">stackoverflow</span><span class="sc">\.</span><span class="ss">com/</span><span class="op">,</span> </a>
<a class="sourceLine" id="cb563-5" title="5">         <span class="st">&quot;http://stackoverflow.com&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb563-6" title="6">   <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>The first part selects only links where the href <em>starts</em> with <code>http://stackoverflow.com</code>. Then, a function is defined that uses a simple regular expression to replace this part of the URL with a new one. Note the flexibility this gives you - any sort of modification to the link could be done here.</p>
</section>
<section id="answer-2-score-277" class="level4">
<h4>Answer 2 (score 277)</h4>
<p>With jQuery 1.6 and above you should use:</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb564-1" title="1"><span class="at">$</span>(<span class="st">&quot;a&quot;</span>).<span class="at">prop</span>(<span class="st">&quot;href&quot;</span><span class="op">,</span> <span class="st">&quot;http://www.jakcms.com&quot;</span>)</a></code></pre></div>
<p>The difference between <code>prop</code> and <code>attr</code> is that <code>attr</code> grabs the HTML attribute whereas <code>prop</code> grabs the DOM property.</p>
<p>You can find more details in this post: <a href="https://stackoverflow.com/questions/5874652/prop-vs-attr">.prop() vs .attr()</a></p>
</section>
<section id="answer-3-score-75" class="level4">
<h4>Answer 3 (score 75)</h4>
<p>Use the <code>attr</code> method on your lookup. You can switch out any attribute with a new value.</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb565-1" title="1"><span class="at">$</span>(<span class="st">&quot;a.mylink&quot;</span>).<span class="at">attr</span>(<span class="st">&quot;href&quot;</span><span class="op">,</span> <span class="st">&quot;http://cupcream.com&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-select-an-element-by-name-with-jquery-score-1362990-in-2018" class="level3">
<h3>83: How can I select an element by name with jQuery? (score <a href="https://stackoverflow.com/q/1107220.html">1362990</a> in 2018)</h3>
<section id="question-82" class="level4">
<h4>Question</h4>
<p>Have a table column I’m trying to expand and hide:</p>
<p>jQuery seems to hide the <code>td</code> elements when I select it by <a href="http://docs.jquery.com/Selectors/class#class" rel="noreferrer">class</a> but not by element’s <a href="http://docs.jquery.com/Selectors/element#element" rel="noreferrer">name</a>.</p>
<p>For example, why does:</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb566-1" title="1"><span class="at">$</span>(<span class="st">&quot;.bold&quot;</span>).<span class="at">hide</span>()<span class="op">;</span> <span class="co">// selecting by class works</span></a>
<a class="sourceLine" id="cb566-2" title="2"><span class="at">$</span>(<span class="st">&quot;tcol1&quot;</span>).<span class="at">hide</span>()<span class="op">;</span> <span class="co">// select by element name does not work</span></a></code></pre></div>
<p>Note the HTML below, the second column has the same name for all rows. How could I create this collection using the <code>name</code> attribute?</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb567-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>tr<span class="op">&amp;</span>gt<span class="op">;</span>    </a>
<a class="sourceLine" id="cb567-2" title="2">    <span class="op">&amp;</span>lt<span class="op">;</span>td<span class="op">&amp;</span>gt<span class="op">;</span>data1<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/td&amp;gt;</span></a>
<a class="sourceLine" id="cb567-3" title="3"><span class="ss">    &amp;lt;td name=&quot;tcol1&quot; class=&quot;bold&quot;&amp;gt; data2&amp;lt;/td</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb567-4" title="4"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tr&amp;gt;</span></a>
<a class="sourceLine" id="cb567-5" title="5"><span class="ss">&amp;lt;tr&amp;gt;    </span></a>
<a class="sourceLine" id="cb567-6" title="6"><span class="ss">    &amp;lt;td&amp;gt;data1&amp;lt;/td</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb567-7" title="7">    <span class="op">&amp;</span>lt<span class="op">;</span>td name<span class="op">=</span><span class="st">&quot;tcol1&quot;</span> <span class="kw">class</span><span class="op">=</span><span class="st">&quot;bold&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span> data2<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/td&amp;gt;</span></a>
<a class="sourceLine" id="cb567-8" title="8"><span class="ss">&amp;lt;/tr</span><span class="op">&amp;</span>gt<span class="op">;</span>  </a>
<a class="sourceLine" id="cb567-9" title="9"><span class="op">&amp;</span>lt<span class="op">;</span>tr<span class="op">&amp;</span>gt<span class="op">;</span>    </a>
<a class="sourceLine" id="cb567-10" title="10">    <span class="op">&amp;</span>lt<span class="op">;</span>td<span class="op">&amp;</span>gt<span class="op">;</span>data1<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/td&amp;gt;</span></a>
<a class="sourceLine" id="cb567-11" title="11"><span class="ss">    &amp;lt;td name=&quot;tcol1&quot; class=&quot;bold&quot;&amp;gt; data2&amp;lt;/td</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb567-12" title="12"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tr&amp;gt;</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-2043" class="level4">
<h4>Answer accepted (score 2043)</h4>
<p>You can use the <a href="https://api.jquery.com/category/selectors/attribute-selectors/" rel="noreferrer">jQuery attribute selector</a>:</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb568-1" title="1"><span class="at">$</span>(<span class="st">&#39;td[name =&quot;tcol1&quot;]&#39;</span>)   <span class="co">// matches exactly &#39;tcol1&#39;</span></a>
<a class="sourceLine" id="cb568-2" title="2"><span class="at">$</span>(<span class="st">&#39;td[name^=&quot;tcol&quot;]&#39;</span> )   <span class="co">// matches those that begin with &#39;tcol&#39;</span></a>
<a class="sourceLine" id="cb568-3" title="3"><span class="at">$</span>(<span class="st">&#39;td[name$=&quot;tcol&quot;]&#39;</span> )   <span class="co">// matches those that end with &#39;tcol&#39;</span></a>
<a class="sourceLine" id="cb568-4" title="4"><span class="at">$</span>(<span class="st">&#39;td[name*=&quot;tcol&quot;]&#39;</span> )   <span class="co">// matches those that contain &#39;tcol&#39;</span></a></code></pre></div>
</section>
<section id="answer-2-score-205" class="level4">
<h4>Answer 2 (score 205)</h4>
<p>
Any attribute can be selected using <code>[attribute_name=value]</code> way. See the sample <a href="http://myvedham.blogspot.in/2013/09/jquery-select-by-name-and-id.html" rel="noreferrer">here</a>:
</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb569-1" title="1"><span class="kw">var</span> value <span class="op">=</span> <span class="at">$</span>(<span class="st">&quot;[name=&#39;nameofobject&#39;]&quot;</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-57" class="level4">
<h4>Answer 3 (score 57)</h4>
<p>If you have something like:</p>
<div class="sourceCode" id="cb570"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb570-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;checkbox&quot;</span> name<span class="op">=</span><span class="st">&quot;mycheckbox&quot;</span> value<span class="op">=</span><span class="st">&quot;11&quot;</span> checked<span class="op">=</span><span class="st">&quot;&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb570-2" title="2"><span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;checkbox&quot;</span> name<span class="op">=</span><span class="st">&quot;mycheckbox&quot;</span> value<span class="op">=</span><span class="st">&quot;12&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>You can read all like this:</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb571-1" title="1"><span class="at">jQuery</span>(<span class="st">&quot;input[name=&#39;mycheckbox&#39;]&quot;</span>).<span class="at">each</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb571-2" title="2">    <span class="va">console</span>.<span class="at">log</span>( <span class="kw">this</span>.<span class="at">value</span> <span class="op">+</span> <span class="st">&quot;:&quot;</span> <span class="op">+</span> <span class="kw">this</span>.<span class="at">checked</span> )<span class="op">;</span></a>
<a class="sourceLine" id="cb571-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>The snippet:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript jQuery(&quot;input[name='mycheckbox']&quot;).each(function() {   console.log( this.value + &quot;:&quot; + this.checked ); });</code> <code>javascript &amp;lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;input type=&quot;checkbox&quot; name=&quot;mycheckbox&quot; value=&quot;11&quot; checked=&quot;&quot;&amp;gt; &amp;lt;input type=&quot;checkbox&quot; name=&quot;mycheckbox&quot; value=&quot;12&quot;&amp;gt;</code></p>
</div>
</div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="jquery-get-selected-option-from-dropdown-score-1350883-in-2017" class="level3">
<h3>84: jQuery Get Selected Option From Dropdown (score <a href="https://stackoverflow.com/q/10659097.html">1350883</a> in 2017)</h3>
<section id="question-83" class="level4">
<h4>Question</h4>
<p>
Usually I use <code>$(&quot;#id&quot;).val()</code> to return the value of the selected option, but this time it doesn’t work. The selected tag has the id <code>aioConceptName</code>
</p>
<p><strong>html code</strong></p>
<div class="sourceCode" id="cb572"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb572-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>label<span class="op">&amp;</span>gt<span class="op">;</span>Name<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/label&amp;gt;</span></a>
<a class="sourceLine" id="cb572-2" title="2"><span class="ss">&amp;lt;input type=&quot;text&quot; name=&quot;name&quot; /</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb572-3" title="3"><span class="op">&amp;</span>lt<span class="op">;</span>select id<span class="op">=</span><span class="st">&quot;aioConceptName&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb572-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>option<span class="op">&amp;</span>gt<span class="op">;</span>choose io<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb572-5" title="5"><span class="ss">    &amp;lt;option&amp;gt;roma&amp;lt;/option</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb572-6" title="6">    <span class="op">&amp;</span>lt<span class="op">;</span>option<span class="op">&amp;</span>gt<span class="op">;</span>totti<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb572-7" title="7"><span class="ss">&amp;lt;/select</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-1750" class="level4">
<h4>Answer accepted (score 1750)</h4>
<p>For dropdown options you probably want something like this:</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb573-1" title="1"><span class="kw">var</span> conceptName <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;#aioConceptName&#39;</span>).<span class="at">find</span>(<span class="st">&quot;:selected&quot;</span>).<span class="at">text</span>()<span class="op">;</span></a></code></pre></div>
<p>The reason <code>val()</code> doesn’t do the trick is because clicking an option doesn’t change the value of the dropdown–it just adds the <code>:selected</code> property to the selected option which is a <em>child</em> of the dropdown.</p>
</section>
<section id="answer-2-score-326" class="level4">
<h4>Answer 2 (score 326)</h4>
<p><strong>Set the values for each of the options</strong></p>
<div class="sourceCode" id="cb574"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb574-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>select id<span class="op">=</span><span class="st">&quot;aioConceptName&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb574-2" title="2">    <span class="op">&amp;</span>lt<span class="op">;</span>option value<span class="op">=</span><span class="st">&quot;0&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>choose io<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb574-3" title="3"><span class="ss">    &amp;lt;option value=&quot;1&quot;&amp;gt;roma&amp;lt;/option</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb574-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>option value<span class="op">=</span><span class="st">&quot;2&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span>totti<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb574-5" title="5"><span class="ss">&amp;lt;/select</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p><code>$('#aioConceptName').val()</code> didn’t work because <code>.val()</code> returns the <code>value</code> attribute. To have it work properly, the <code>value</code> attributes must be set on each <code>&amp;lt;option&amp;gt;</code>.</p>
<p>Now you can call <code>$('#aioConceptName').val()</code> instead of all this <code>:selected</code> voodoo being suggested by others.</p>
</section>
<section id="answer-3-score-158" class="level4">
<h4>Answer 3 (score 158)</h4>
<p>I stumbled across this question and developed a more concise version of Elliot BOnneville’s answer:</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb575-1" title="1"><span class="kw">var</span> conceptName <span class="op">=</span> <span class="at">$</span>(<span class="st">&#39;#aioConceptName :selected&#39;</span>).<span class="at">text</span>()<span class="op">;</span></a></code></pre></div>
<p>or generically:</p>
<div class="sourceCode" id="cb576"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb576-1" title="1"><span class="at">$</span>(<span class="st">&#39;#id :pseudoclass&#39;</span>)</a></code></pre></div>
<p>This saves you an extra jQuery call, selects everything in one shot, and is more clear (my opinion).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="creating-multiline-strings-in-javascript-score-1336887-in-2013" class="level3">
<h3>85: Creating multiline strings in JavaScript (score <a href="https://stackoverflow.com/q/805107.html">1336887</a> in 2013)</h3>
<section id="question-84" class="level4">
<h4>Question</h4>
<p>I have the following code in Ruby. I want to convert this code into JavaScript. what’s the equivalent code in JS?</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb577-1" title="1">text <span class="op">=</span> <span class="op">&amp;</span>lt<span class="op">;&amp;</span>lt<span class="op">;</span><span class="st">&quot;HERE&quot;</span></a>
<a class="sourceLine" id="cb577-2" title="2">This</a>
<a class="sourceLine" id="cb577-3" title="3">Is</a>
<a class="sourceLine" id="cb577-4" title="4">A</a>
<a class="sourceLine" id="cb577-5" title="5">Multiline</a>
<a class="sourceLine" id="cb577-6" title="6">String</a>
<a class="sourceLine" id="cb577-7" title="7">HERE</a></code></pre></div>
</section>
<section id="answer-accepted-score-2958" class="level4">
<h4>Answer accepted (score 2958)</h4>
<h5>
Update:
</h3>
<p>ECMAScript 6 (ES6) introduces a new type of literal, namely <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings" rel="noreferrer"><strong>template literals</strong></a>. They have many features, variable interpolation among others, but most importantly for this question, they can be multiline.</p>
<p>A template literal is delimited by <em>backticks</em>:</p>
<div class="sourceCode" id="cb578"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb578-1" title="1"><span class="kw">var</span> html <span class="op">=</span> <span class="vs">`</span></a>
<a class="sourceLine" id="cb578-2" title="2"><span class="vs">  &amp;lt;div&amp;gt;</span></a>
<a class="sourceLine" id="cb578-3" title="3"><span class="vs">    &amp;lt;span&amp;gt;Some HTML here&amp;lt;/span&amp;gt;</span></a>
<a class="sourceLine" id="cb578-4" title="4"><span class="vs">  &amp;lt;/div&amp;gt;</span></a>
<a class="sourceLine" id="cb578-5" title="5"><span class="vs">`</span><span class="op">;</span></a></code></pre></div>
<p>(Note: I’m not advocating to use HTML in strings)</p>
<p><a href="https://kangax.github.io/compat-table/es6/#test-template_literals" rel="noreferrer">Browser support is OK</a>, but you can use <a href="https://babeljs.io/" rel="noreferrer">transpilers</a> to be more compatible.</p>
<hr>
<h5>
Original ES5 answer:
</h3>
<p>Javascript doesn’t have a here-document syntax. You can escape the literal newline, however, which comes close:</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb579-1" title="1"><span class="st">&quot;foo </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb579-2" title="2"><span class="st">bar&quot;</span></a></code></pre></div>
</section>
<section id="answer-2-score-1240" class="level4">
<h4>Answer 2 (score 1240)</h4>
<h5>
ES6 Update:
</h2>
<p>As the first answer mentions, with ES6/Babel, you can now create multi-line strings simply by using backticks:</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb580-1" title="1"><span class="kw">const</span> htmlString <span class="op">=</span> <span class="vs">`Say hello to </span></a>
<a class="sourceLine" id="cb580-2" title="2"><span class="vs">multi-line</span></a>
<a class="sourceLine" id="cb580-3" title="3"><span class="vs">strings!`</span><span class="op">;</span></a></code></pre></div>
<p>Interpolating variables is a popular new feature that comes with back-tick delimited strings:</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb581-1" title="1"><span class="kw">const</span> htmlString <span class="op">=</span> <span class="vs">`</span><span class="sc">${</span><span class="va">user</span>.<span class="at">name</span><span class="sc">}</span><span class="vs"> liked your post about strings`</span><span class="op">;</span></a></code></pre></div>
<p>This just transpiles down to concatenation:</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb582-1" title="1"><span class="va">user</span>.<span class="at">name</span> <span class="op">+</span> <span class="st">&#39; liked your post about strings&#39;</span></a></code></pre></div>
<h5>
Original ES5 answer:
</h2>
<blockquote>
<p><a href="https://google.github.io/styleguide/javascriptguide.xml?showone=Multiline_string_literals#Multiline_string_literals" rel="noreferrer">Google’s JavaScript style guide</a> recommends to use string concatenation instead of escaping newlines:</p>
<p><strong>Do not do this:</strong></p>
<div class="sourceCode" id="cb583"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb583-1" title="1"><span class="kw">var</span> myString <span class="op">=</span> <span class="st">&#39;A rather long string of English text, an error message </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb583-2" title="2"><span class="st">                actually that just keeps going and going -- an error </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb583-3" title="3"><span class="st">                message to make the Energizer bunny blush (right through </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb583-4" title="4"><span class="st">                those Schwarzenegger shades)! Where was I? Oh yes, </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb583-5" title="5"><span class="st">                you</span><span class="sc">\&#39;</span><span class="st">ve got an error and all the extraneous whitespace is </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb583-6" title="6"><span class="st">                just gravy.  Have a nice day.&#39;</span><span class="op">;</span></a></code></pre></div>
<p>The whitespace at the beginning of each line can’t be safely stripped at compile time; whitespace after the slash will result in tricky errors; and while most script engines support this, it is not part of ECMAScript.</p>
<p><strong>Use string concatenation instead:</strong></p>
<div class="sourceCode" id="cb584"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb584-1" title="1"><span class="kw">var</span> myString <span class="op">=</span> <span class="st">&#39;A rather long string of English text, an error message &#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb584-2" title="2">               <span class="st">&#39;actually that just keeps going and going -- an error &#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb584-3" title="3">               <span class="st">&#39;message to make the Energizer bunny blush (right through &#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb584-4" title="4">               <span class="st">&#39;those Schwarzenegger shades)! Where was I? Oh yes, &#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb584-5" title="5">               <span class="st">&#39;you</span><span class="sc">\&#39;</span><span class="st">ve got an error and all the extraneous whitespace is &#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb584-6" title="6">               <span class="st">&#39;just gravy.  Have a nice day.&#39;</span><span class="op">;</span></a></code></pre></div>
</blockquote>
</section>
<section id="answer-3-score-660" class="level4">
<h4>Answer 3 (score 660)</h4>
<p>the pattern <code>text = &amp;lt;&amp;lt;&quot;HERE&quot; This Is A Multiline String HERE</code> is not available in js (I remember using it much in my good old Perl days).</p>
<p>To keep oversight with complex or long multiline strings I sometimes use an array pattern:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb585-1" title="1"><span class="kw">var</span> myString <span class="op">=</span> </a>
<a class="sourceLine" id="cb585-2" title="2">   [<span class="st">&#39;&amp;lt;div id=&quot;someId&quot;&amp;gt;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb585-3" title="3">    <span class="st">&#39;some content&amp;lt;br /&amp;gt;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb585-4" title="4">    <span class="st">&#39;&amp;lt;a href=&quot;#someRef&quot;&amp;gt;someRefTxt&amp;lt;/a&amp;gt;&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb585-5" title="5">    <span class="st">&#39;&amp;lt;/div&amp;gt;&#39;</span></a>
<a class="sourceLine" id="cb585-6" title="6">   ].<span class="at">join</span>(<span class="st">&#39;</span><span class="sc">\n</span><span class="st">&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>or the pattern anonymous already showed (escape newline), which can be an ugly block in your code:</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb586-1" title="1">    <span class="kw">var</span> myString <span class="op">=</span> </a>
<a class="sourceLine" id="cb586-2" title="2">       <span class="st">&#39;&amp;lt;div id=&quot;someId&quot;&amp;gt; </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb586-3" title="3"><span class="st">some content&amp;lt;br /&amp;gt; </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb586-4" title="4"><span class="st">&amp;lt;a href=&quot;#someRef&quot;&amp;gt;someRefTxt&amp;lt;/a&amp;gt; </span><span class="sc">\</span></a>
<a class="sourceLine" id="cb586-5" title="5"><span class="st">&amp;lt;/div&amp;gt;&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Here’s another weird but working ‘trick’<sup><b>1</b></sup>:</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb587-1" title="1"><span class="kw">var</span> myString <span class="op">=</span> (<span class="kw">function</span> () <span class="op">{</span><span class="co">/*</span></a>
<a class="sourceLine" id="cb587-2" title="2"><span class="co">   &amp;lt;div id=&quot;someId&quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb587-3" title="3"><span class="co">     some content&amp;lt;br /&amp;gt;</span></a>
<a class="sourceLine" id="cb587-4" title="4"><span class="co">     &amp;lt;a href=&quot;#someRef&quot;&amp;gt;someRefTxt&amp;lt;/a&amp;gt;</span></a>
<a class="sourceLine" id="cb587-5" title="5"><span class="co">    &amp;lt;/div&amp;gt;        </span></a>
<a class="sourceLine" id="cb587-6" title="6"><span class="co">*/</span><span class="op">}</span>).<span class="at">toString</span>().<span class="at">match</span>(<span class="ss">/</span><span class="sc">[^]*\/\*([^]*)\*\/\}$</span><span class="ss">/</span>)[<span class="dv">1</span>]<span class="op">;</span></a></code></pre></div>
<p><em>external edit: <a href="http://jsfiddle.net/orwellophile/hna15vLw/2/" rel="noreferrer">jsfiddle</a></em></p>
<p><strong>ES20xx</strong> supports spanning strings over multiple lines using <a href="http://www.2ality.com/2011/09/quasi-literals.html" rel="noreferrer">template strings</a>:</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb588-1" title="1"><span class="kw">let</span> str <span class="op">=</span> <span class="vs">`This is a text</span></a>
<a class="sourceLine" id="cb588-2" title="2"><span class="vs">    with multiple lines.</span></a>
<a class="sourceLine" id="cb588-3" title="3"><span class="vs">    Escapes are interpreted,</span></a>
<a class="sourceLine" id="cb588-4" title="4"><span class="vs">    </span><span class="sc">\n</span><span class="vs"> is a newline.`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb588-5" title="5"><span class="kw">let</span> str <span class="op">=</span> <span class="vs">String.raw`This is a text</span></a>
<a class="sourceLine" id="cb588-6" title="6"><span class="vs">    with multiple lines.</span></a>
<a class="sourceLine" id="cb588-7" title="7"><span class="vs">    Escapes are not interpreted,</span></a>
<a class="sourceLine" id="cb588-8" title="8"><span class="vs">    \n is not a newline.`</span><span class="op">;</span></a></code></pre></div>
<p><sup><b>1</b></sup> Note: this will be lost after minifying/obfuscating your code</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="trigger-a-button-click-with-javascript-on-the-enter-key-in-a-text-box-score-1329593-in-2015" class="level3">
<h3>86: Trigger a button click with JavaScript on the Enter key in a text box (score <a href="https://stackoverflow.com/q/155188.html">1329593</a> in 2015)</h3>
<section id="question-85" class="level4">
<h4>Question</h4>
<p>I have one text input and one button (see below). How can I use JavaScript to <strong>trigger the button’s click event</strong> when the <kbd>Enter</kbd> key is pressed inside the text box?</p>
<p>There is already a different submit button on my current page, so I can’t simply make the button a submit button. And, I <em>only</em> want the <kbd>Enter</kbd> key to click this specific button if it is pressed from within this one text box, nothing else.</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb589-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;text&quot;</span> id<span class="op">=</span><span class="st">&quot;txtSearch&quot;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb589-2" title="2"><span class="ss">&amp;lt;input type=&quot;button&quot; id=&quot;btnSearch&quot; value=&quot;Search&quot; onclick=&quot;doSomething</span><span class="sc">()</span><span class="ss">;&quot; /</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-1390" class="level4">
<h4>Answer accepted (score 1390)</h4>
<p>In jQuery, the following would work:</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb590-1" title="1"><span class="at">$</span>(<span class="st">&quot;#id_of_textbox&quot;</span>).<span class="at">keyup</span>(<span class="kw">function</span>(event) <span class="op">{</span></a>
<a class="sourceLine" id="cb590-2" title="2">    <span class="cf">if</span> (<span class="va">event</span>.<span class="at">keyCode</span> <span class="op">===</span> <span class="dv">13</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb590-3" title="3">        <span class="at">$</span>(<span class="st">&quot;#id_of_button&quot;</span>).<span class="at">click</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb590-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb590-5" title="5"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript $(“#pw”).keyup(function(event) { if (event.keyCode === 13) { $(“#myButton”).click(); } });</p>
<p>$(“#myButton”).click(function() { alert(“Button code executed.”); });<code></code>javascript &lt;script src=“https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js”&gt;&lt;/script&gt;</p>
<p>Username:&lt;input id=“username” type=“text”&gt;&lt;br&gt; Password:&amp;nbsp;&lt;input id=“pw” type=“password”&gt;&lt;br&gt; &lt;button id=“myButton”&gt;Submit&lt;/button&gt;```</p>
</div>
</div>
<p>Or in plain JavaScript, the following would work:</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb591-1" title="1"><span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;id_of_textbox&quot;</span>)</a>
<a class="sourceLine" id="cb591-2" title="2">    .<span class="at">addEventListener</span>(<span class="st">&quot;keyup&quot;</span><span class="op">,</span> <span class="kw">function</span>(event) <span class="op">{</span></a>
<a class="sourceLine" id="cb591-3" title="3">    <span class="va">event</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb591-4" title="4">    <span class="cf">if</span> (<span class="va">event</span>.<span class="at">keyCode</span> <span class="op">===</span> <span class="dv">13</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb591-5" title="5">        <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;id_of_button&quot;</span>).<span class="at">click</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb591-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb591-7" title="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript document.getElementById(“pw”) .addEventListener(“keyup”, function(event) { event.preventDefault(); if (event.keyCode === 13) { document.getElementById(“myButton”).click(); } });</p>
<p>function buttonCode() { alert(“Button code executed.”); }<code></code>javascript &lt;script src=“https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js”&gt;&lt;/script&gt;</p>
<p>Username:&lt;input id=“username” type=“text”&gt;&lt;br&gt; Password:&amp;nbsp;&lt;input id=“pw” type=“password”&gt;&lt;br&gt; &lt;button id=“myButton” onclick=“buttonCode()”&gt;Submit&lt;/button&gt;```</p>
</div>
</div>
</section>
<section id="answer-2-score-387" class="level4">
<h4>Answer 2 (score 387)</h4>
<p>Then just code it in!</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb592-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>input type <span class="op">=</span> <span class="st">&quot;text&quot;</span></a>
<a class="sourceLine" id="cb592-2" title="2">       id <span class="op">=</span> <span class="st">&quot;txtSearch&quot;</span> </a>
<a class="sourceLine" id="cb592-3" title="3">       onkeydown <span class="op">=</span> <span class="st">&quot;if (event.keyCode == 13)</span></a>
<a class="sourceLine" id="cb592-4" title="4">                        <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;btnSearch&#39;</span>).<span class="at">click</span>()<span class="st">&quot;    </span></a>
<a class="sourceLine" id="cb592-5" title="5"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb592-6" title="6"></a>
<a class="sourceLine" id="cb592-7" title="7"><span class="ss">&amp;lt;input type = &quot;button&quot;</span></a>
<a class="sourceLine" id="cb592-8" title="8"><span class="ss">       id = &quot;btnSearch&quot;</span></a>
<a class="sourceLine" id="cb592-9" title="9"><span class="ss">       value = &quot;Search&quot;</span></a>
<a class="sourceLine" id="cb592-10" title="10"><span class="ss">       onclick = &quot;doSomething</span><span class="sc">()</span><span class="ss">;&quot;</span></a>
<a class="sourceLine" id="cb592-11" title="11"><span class="ss">/</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-176-1" class="level4">
<h4>Answer 3 (score 176)</h4>
<p>Figured this out:</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb593-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">=</span><span class="st">&quot;text&quot;</span> id<span class="op">=</span><span class="st">&quot;txtSearch&quot;</span> onkeypress<span class="op">=</span><span class="st">&quot;return searchKeyPress(event);&quot;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb593-2" title="2"><span class="ss">&amp;lt;input type=&quot;button&quot; id=&quot;btnSearch&quot; Value=&quot;Search&quot; onclick=&quot;doSomething</span><span class="sc">()</span><span class="ss">;&quot; /</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb593-3" title="3"></a>
<a class="sourceLine" id="cb593-4" title="4"><span class="op">&amp;</span>lt<span class="op">;</span>script<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb593-5" title="5"><span class="kw">function</span> <span class="at">searchKeyPress</span>(e)</a>
<a class="sourceLine" id="cb593-6" title="6"><span class="op">{</span></a>
<a class="sourceLine" id="cb593-7" title="7">    <span class="co">// look for window.event in case event isn&#39;t passed in</span></a>
<a class="sourceLine" id="cb593-8" title="8">    e <span class="op">=</span> e <span class="op">||</span> <span class="va">window</span>.<span class="at">event</span><span class="op">;</span></a>
<a class="sourceLine" id="cb593-9" title="9">    <span class="cf">if</span> (<span class="va">e</span>.<span class="at">keyCode</span> <span class="op">==</span> <span class="dv">13</span>)</a>
<a class="sourceLine" id="cb593-10" title="10">    <span class="op">{</span></a>
<a class="sourceLine" id="cb593-11" title="11">        <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;btnSearch&#39;</span>).<span class="at">click</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb593-12" title="12">        <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb593-13" title="13">    <span class="op">}</span></a>
<a class="sourceLine" id="cb593-14" title="14">    <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb593-15" title="15"><span class="op">}</span></a>
<a class="sourceLine" id="cb593-16" title="16"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="deleting-array-elements-in-javascript---delete-vs-splice-score-1329284-in-2016" class="level3">
<h3>87: Deleting array elements in JavaScript - delete vs splice (score <a href="https://stackoverflow.com/q/500606.html">1329284</a> in 2016)</h3>
<section id="question-86" class="level4">
<h4>Question</h4>
<p>What is the difference between using <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete" rel="noreferrer">the <code>delete</code> operator</a> on the array element as opposed to using <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/splice" rel="noreferrer">the <code>Array.splice</code> method</a>?</p>
<p>For example:</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb594-1" title="1">myArray <span class="op">=</span> [<span class="st">&#39;a&#39;</span><span class="op">,</span> <span class="st">&#39;b&#39;</span><span class="op">,</span> <span class="st">&#39;c&#39;</span><span class="op">,</span> <span class="st">&#39;d&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb594-2" title="2"></a>
<a class="sourceLine" id="cb594-3" title="3"><span class="kw">delete</span> myArray[<span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb594-4" title="4"><span class="co">//  or</span></a>
<a class="sourceLine" id="cb594-5" title="5"><span class="va">myArray</span>.<span class="at">splice</span> (<span class="dv">1</span><span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a></code></pre></div>
<p>Why even have the splice method if I can delete array elements like I can with objects?</p>
</section>
<section id="answer-accepted-score-1659" class="level4">
<h4>Answer accepted (score 1659)</h4>
<p><code>delete</code> will delete the object property, but will not reindex the array or update its length. This makes it appears as if it is undefined:</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb595-1" title="1"><span class="op">&amp;</span>gt<span class="op">;</span> myArray <span class="op">=</span> [<span class="st">&#39;a&#39;</span><span class="op">,</span> <span class="st">&#39;b&#39;</span><span class="op">,</span> <span class="st">&#39;c&#39;</span><span class="op">,</span> <span class="st">&#39;d&#39;</span>]</a>
<a class="sourceLine" id="cb595-2" title="2">  [<span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span><span class="op">,</span> <span class="st">&quot;d&quot;</span>]</a>
<a class="sourceLine" id="cb595-3" title="3"><span class="op">&amp;</span>gt<span class="op">;</span> <span class="kw">delete</span> myArray[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb595-4" title="4">  <span class="kw">true</span></a>
<a class="sourceLine" id="cb595-5" title="5"><span class="op">&amp;</span>gt<span class="op">;</span> myArray[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb595-6" title="6">  <span class="kw">undefined</span></a></code></pre></div>
<p>Note that it is not in fact set to the value <code>undefined</code>, rather the property is removed from the array, making it <em>appear</em> undefined. The Chrome dev tools make this distinction clear by printing <code>empty</code> when logging the array.</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb596-1" title="1"><span class="op">&amp;</span>gt<span class="op">;</span> myArray[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb596-2" title="2">  <span class="kw">undefined</span></a>
<a class="sourceLine" id="cb596-3" title="3"><span class="op">&amp;</span>gt<span class="op">;</span> myArray</a>
<a class="sourceLine" id="cb596-4" title="4">  [empty<span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span><span class="op">,</span> <span class="st">&quot;d&quot;</span>]</a></code></pre></div>
<p><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" rel="noreferrer"><code>myArray.splice(start, deleteCount)</code></a> actually removes the element, reindexes the array, and changes its length.</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb597-1" title="1"><span class="op">&amp;</span>gt<span class="op">;</span> myArray <span class="op">=</span> [<span class="st">&#39;a&#39;</span><span class="op">,</span> <span class="st">&#39;b&#39;</span><span class="op">,</span> <span class="st">&#39;c&#39;</span><span class="op">,</span> <span class="st">&#39;d&#39;</span>]</a>
<a class="sourceLine" id="cb597-2" title="2">  [<span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span><span class="op">,</span> <span class="st">&quot;d&quot;</span>]</a>
<a class="sourceLine" id="cb597-3" title="3"><span class="op">&amp;</span>gt<span class="op">;</span> <span class="va">myArray</span>.<span class="at">splice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb597-4" title="4">  [<span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span>]</a>
<a class="sourceLine" id="cb597-5" title="5"><span class="op">&amp;</span>gt<span class="op">;</span> myArray</a>
<a class="sourceLine" id="cb597-6" title="6">  [<span class="st">&quot;c&quot;</span><span class="op">,</span> <span class="st">&quot;d&quot;</span>]</a></code></pre></div>
</section>
<section id="answer-2-score-336" class="level4">
<h4>Answer 2 (score 336)</h4>
<h5>
Array.remove() Method
</h1>
<p><strong>John Resig</strong>, creator of jQuery created a very handy <code>Array.remove</code> method that I always use it in my projects.</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb598-1" title="1"><span class="co">// Array Remove - By John Resig (MIT Licensed)</span></a>
<a class="sourceLine" id="cb598-2" title="2"><span class="va">Array</span>.<span class="va">prototype</span>.<span class="at">remove</span> <span class="op">=</span> <span class="kw">function</span>(<span class="im">from</span><span class="op">,</span> to) <span class="op">{</span></a>
<a class="sourceLine" id="cb598-3" title="3">  <span class="kw">var</span> rest <span class="op">=</span> <span class="kw">this</span>.<span class="at">slice</span>((to <span class="op">||</span> <span class="im">from</span>) <span class="op">+</span> <span class="dv">1</span> <span class="op">||</span> <span class="kw">this</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb598-4" title="4">  <span class="kw">this</span>.<span class="at">length</span> <span class="op">=</span> <span class="im">from</span> <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">0</span> <span class="op">?</span> <span class="kw">this</span>.<span class="at">length</span> <span class="op">+</span> <span class="im">from</span> : <span class="im">from</span><span class="op">;</span></a>
<a class="sourceLine" id="cb598-5" title="5">  <span class="cf">return</span> <span class="kw">this</span>.<span class="va">push</span>.<span class="at">apply</span>(<span class="kw">this</span><span class="op">,</span> rest)<span class="op">;</span></a>
<a class="sourceLine" id="cb598-6" title="6"><span class="op">};</span></a></code></pre></div>
<p>and here’s some examples of how it could be used:</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb599-1" title="1"><span class="co">// Remove the second item from the array</span></a>
<a class="sourceLine" id="cb599-2" title="2"><span class="va">array</span>.<span class="at">remove</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb599-3" title="3"><span class="co">// Remove the second-to-last item from the array</span></a>
<a class="sourceLine" id="cb599-4" title="4"><span class="va">array</span>.<span class="at">remove</span>(<span class="op">-</span><span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb599-5" title="5"><span class="co">// Remove the second and third items from the array</span></a>
<a class="sourceLine" id="cb599-6" title="6"><span class="va">array</span>.<span class="at">remove</span>(<span class="dv">1</span><span class="op">,</span><span class="dv">2</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb599-7" title="7"><span class="co">// Remove the last and second-to-last items from the array</span></a>
<a class="sourceLine" id="cb599-8" title="8"><span class="va">array</span>.<span class="at">remove</span>(<span class="op">-</span><span class="dv">2</span><span class="op">,-</span><span class="dv">1</span>)<span class="op">;</span></a></code></pre></div>
<p><a href="http://ejohn.org/blog/javascript-array-remove/" rel="noreferrer">John’s website</a></p>
</section>
<section id="answer-3-score-102" class="level4">
<h4>Answer 3 (score 102)</h4>
<p>Because delete only removes the object from the element in the array, the length of the array won’t change. Splice removes the object and shortens the array.</p>
<p>The following code will display “a”, “b”, “undefined”, “d”</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb600-1" title="1">myArray <span class="op">=</span> [<span class="st">&#39;a&#39;</span><span class="op">,</span> <span class="st">&#39;b&#39;</span><span class="op">,</span> <span class="st">&#39;c&#39;</span><span class="op">,</span> <span class="st">&#39;d&#39;</span>]<span class="op">;</span> <span class="kw">delete</span> myArray[<span class="dv">2</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb600-2" title="2"></a>
<a class="sourceLine" id="cb600-3" title="3"><span class="cf">for</span> (<span class="kw">var</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> count <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">myArray</span>.<span class="at">length</span><span class="op">;</span> count<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb600-4" title="4">    <span class="at">alert</span>(myArray[count])<span class="op">;</span></a>
<a class="sourceLine" id="cb600-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>Whereas this will display “a”, “b”, “d”</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb601-1" title="1">myArray <span class="op">=</span> [<span class="st">&#39;a&#39;</span><span class="op">,</span> <span class="st">&#39;b&#39;</span><span class="op">,</span> <span class="st">&#39;c&#39;</span><span class="op">,</span> <span class="st">&#39;d&#39;</span>]<span class="op">;</span> <span class="va">myArray</span>.<span class="at">splice</span>(<span class="dv">2</span><span class="op">,</span><span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb601-2" title="2"></a>
<a class="sourceLine" id="cb601-3" title="3"><span class="cf">for</span> (<span class="kw">var</span> count <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> count <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">myArray</span>.<span class="at">length</span><span class="op">;</span> count<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb601-4" title="4">    <span class="at">alert</span>(myArray[count])<span class="op">;</span></a>
<a class="sourceLine" id="cb601-5" title="5"><span class="op">}</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="sort-array-of-objects-by-string-property-value-score-1325247-in-2018" class="level3">
<h3>88: Sort array of objects by string property value (score <a href="https://stackoverflow.com/q/1129216.html">1325247</a> in 2018)</h3>
<section id="question-87" class="level4">
<h4>Question</h4>
<p>I have an array of JavaScript objects:</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb602-1" title="1"><span class="kw">var</span> objs <span class="op">=</span> [ </a>
<a class="sourceLine" id="cb602-2" title="2">    <span class="op">{</span> <span class="dt">first_nom</span><span class="op">:</span> <span class="st">&#39;Lazslo&#39;</span><span class="op">,</span> <span class="dt">last_nom</span><span class="op">:</span> <span class="st">&#39;Jamf&#39;</span>     <span class="op">},</span></a>
<a class="sourceLine" id="cb602-3" title="3">    <span class="op">{</span> <span class="dt">first_nom</span><span class="op">:</span> <span class="st">&#39;Pig&#39;</span><span class="op">,</span>    <span class="dt">last_nom</span><span class="op">:</span> <span class="st">&#39;Bodine&#39;</span>   <span class="op">},</span></a>
<a class="sourceLine" id="cb602-4" title="4">    <span class="op">{</span> <span class="dt">first_nom</span><span class="op">:</span> <span class="st">&#39;Pirate&#39;</span><span class="op">,</span> <span class="dt">last_nom</span><span class="op">:</span> <span class="st">&#39;Prentice&#39;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb602-5" title="5">]<span class="op">;</span></a></code></pre></div>
<p>How can I sort them by the value of <code>last_nom</code> in JavaScript?</p>
<p>I know about <code>sort(a,b)</code>, but that only seems to work on strings and numbers. Do I need to add a <code>toString()</code> method to my objects?</p>
</section>
<section id="answer-accepted-score-3576" class="level4">
<h4>Answer accepted (score 3576)</h4>
<p>It’s easy enough to write your own comparison function:</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb603-1" title="1"><span class="kw">function</span> <span class="at">compare</span>( a<span class="op">,</span> b ) <span class="op">{</span></a>
<a class="sourceLine" id="cb603-2" title="2">  <span class="cf">if</span> ( <span class="va">a</span>.<span class="at">last_nom</span> <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">b</span>.<span class="at">last_nom</span> )<span class="op">{</span></a>
<a class="sourceLine" id="cb603-3" title="3">    <span class="cf">return</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb603-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb603-5" title="5">  <span class="cf">if</span> ( <span class="va">a</span>.<span class="at">last_nom</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="va">b</span>.<span class="at">last_nom</span> )<span class="op">{</span></a>
<a class="sourceLine" id="cb603-6" title="6">    <span class="cf">return</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb603-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb603-8" title="8">  <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb603-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb603-10" title="10"></a>
<a class="sourceLine" id="cb603-11" title="11"><span class="va">objs</span>.<span class="at">sort</span>( compare )<span class="op">;</span></a></code></pre></div>
<p>Or inline (c/o Marco Demaio):</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb604-1" title="1"><span class="va">objs</span>.<span class="at">sort</span>((a<span class="op">,</span>b) <span class="op">=&amp;</span>gt<span class="op">;</span> (<span class="va">a</span>.<span class="at">last_nom</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="va">b</span>.<span class="at">last_nom</span>) <span class="op">?</span> <span class="dv">1</span> : ((<span class="va">b</span>.<span class="at">last_nom</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="va">a</span>.<span class="at">last_nom</span>) <span class="op">?</span> <span class="dv">-1</span> : <span class="dv">0</span>))<span class="op">;</span> </a></code></pre></div>
</section>
<section id="answer-2-score-793" class="level4">
<h4>Answer 2 (score 793)</h4>
<p>You can also create a dynamic sort function that sorts objects by their value that you pass:</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb605-1" title="1"><span class="kw">function</span> <span class="at">dynamicSort</span>(property) <span class="op">{</span></a>
<a class="sourceLine" id="cb605-2" title="2">    <span class="kw">var</span> sortOrder <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb605-3" title="3">    <span class="cf">if</span>(property[<span class="dv">0</span>] <span class="op">===</span> <span class="st">&quot;-&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb605-4" title="4">        sortOrder <span class="op">=</span> <span class="dv">-1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb605-5" title="5">        property <span class="op">=</span> <span class="va">property</span>.<span class="at">substr</span>(<span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb605-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb605-7" title="7">    <span class="cf">return</span> <span class="kw">function</span> (a<span class="op">,</span>b) <span class="op">{</span></a>
<a class="sourceLine" id="cb605-8" title="8">        <span class="co">/* next line works with strings and numbers, </span></a>
<a class="sourceLine" id="cb605-9" title="9"><span class="co">         * and you may want to customize it to your needs</span></a>
<a class="sourceLine" id="cb605-10" title="10"><span class="co">         */</span></a>
<a class="sourceLine" id="cb605-11" title="11">        <span class="kw">var</span> result <span class="op">=</span> (a[property] <span class="op">&amp;</span>lt<span class="op">;</span> b[property]) <span class="op">?</span> <span class="dv">-1</span> : (a[property] <span class="op">&amp;</span>gt<span class="op">;</span> b[property]) <span class="op">?</span> <span class="dv">1</span> : <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb605-12" title="12">        <span class="cf">return</span> result <span class="op">*</span> sortOrder<span class="op">;</span></a>
<a class="sourceLine" id="cb605-13" title="13">    <span class="op">}</span></a>
<a class="sourceLine" id="cb605-14" title="14"><span class="op">}</span></a></code></pre></div>
<p>So you can have an array of objects like this:</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb606-1" title="1"><span class="kw">var</span> People <span class="op">=</span> [</a>
<a class="sourceLine" id="cb606-2" title="2">    <span class="op">{</span><span class="dt">Name</span><span class="op">:</span> <span class="st">&quot;Name&quot;</span><span class="op">,</span> <span class="dt">Surname</span><span class="op">:</span> <span class="st">&quot;Surname&quot;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb606-3" title="3">    <span class="op">{</span><span class="dt">Name</span><span class="op">:</span><span class="st">&quot;AAA&quot;</span><span class="op">,</span> <span class="dt">Surname</span><span class="op">:</span><span class="st">&quot;ZZZ&quot;</span><span class="op">},</span></a>
<a class="sourceLine" id="cb606-4" title="4">    <span class="op">{</span><span class="dt">Name</span><span class="op">:</span> <span class="st">&quot;Name&quot;</span><span class="op">,</span> <span class="dt">Surname</span><span class="op">:</span> <span class="st">&quot;AAA&quot;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb606-5" title="5">]<span class="op">;</span></a></code></pre></div>
<p>…and it will work when you do:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb607-1" title="1"><span class="va">People</span>.<span class="at">sort</span>(<span class="at">dynamicSort</span>(<span class="st">&quot;Name&quot;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb607-2" title="2"><span class="va">People</span>.<span class="at">sort</span>(<span class="at">dynamicSort</span>(<span class="st">&quot;Surname&quot;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb607-3" title="3"><span class="va">People</span>.<span class="at">sort</span>(<span class="at">dynamicSort</span>(<span class="st">&quot;-Surname&quot;</span>))<span class="op">;</span></a></code></pre></div>
<p>Actually this already answers the question. Below part is written because many people contacted me, complaining that <a href="https://stackoverflow.com/questions/11379361">it doesn’t work with multiple parameters</a>.</p>
<h5>
Multiple Parameters
</h2>
<p>You can use the function below to generate sort functions with multiple sort parameters.</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb608-1" title="1"><span class="kw">function</span> <span class="at">dynamicSortMultiple</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb608-2" title="2">    <span class="co">/*</span></a>
<a class="sourceLine" id="cb608-3" title="3"><span class="co">     * save the arguments object as it will be overwritten</span></a>
<a class="sourceLine" id="cb608-4" title="4"><span class="co">     * note that arguments object is an array-like object</span></a>
<a class="sourceLine" id="cb608-5" title="5"><span class="co">     * consisting of the names of the properties to sort by</span></a>
<a class="sourceLine" id="cb608-6" title="6"><span class="co">     */</span></a>
<a class="sourceLine" id="cb608-7" title="7">    <span class="kw">var</span> props <span class="op">=</span> <span class="kw">arguments</span><span class="op">;</span></a>
<a class="sourceLine" id="cb608-8" title="8">    <span class="cf">return</span> <span class="kw">function</span> (obj1<span class="op">,</span> obj2) <span class="op">{</span></a>
<a class="sourceLine" id="cb608-9" title="9">        <span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> result <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> numberOfProperties <span class="op">=</span> <span class="va">props</span>.<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb608-10" title="10">        <span class="co">/* try getting a different result from 0 (equal)</span></a>
<a class="sourceLine" id="cb608-11" title="11"><span class="co">         * as long as we have extra properties to compare</span></a>
<a class="sourceLine" id="cb608-12" title="12"><span class="co">         */</span></a>
<a class="sourceLine" id="cb608-13" title="13">        <span class="cf">while</span>(result <span class="op">===</span> <span class="dv">0</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> numberOfProperties) <span class="op">{</span></a>
<a class="sourceLine" id="cb608-14" title="14">            result <span class="op">=</span> <span class="at">dynamicSort</span>(props[i])(obj1<span class="op">,</span> obj2)<span class="op">;</span></a>
<a class="sourceLine" id="cb608-15" title="15">            i<span class="op">++;</span></a>
<a class="sourceLine" id="cb608-16" title="16">        <span class="op">}</span></a>
<a class="sourceLine" id="cb608-17" title="17">        <span class="cf">return</span> result<span class="op">;</span></a>
<a class="sourceLine" id="cb608-18" title="18">    <span class="op">}</span></a>
<a class="sourceLine" id="cb608-19" title="19"><span class="op">}</span></a></code></pre></div>
<p>Which would enable you to do something like this:</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb609-1" title="1"><span class="va">People</span>.<span class="at">sort</span>(<span class="at">dynamicSortMultiple</span>(<span class="st">&quot;Name&quot;</span><span class="op">,</span> <span class="st">&quot;-Surname&quot;</span>))<span class="op">;</span></a></code></pre></div>
<h5>
Subclassing Array
</h3>
<p>For the lucky among us who can use ES6, which allows extending the native objects:</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb610-1" title="1"><span class="kw">class</span> MyArray <span class="kw">extends</span> Array <span class="op">{</span></a>
<a class="sourceLine" id="cb610-2" title="2">    <span class="at">sortBy</span>(...<span class="at">args</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb610-3" title="3">        <span class="cf">return</span> <span class="kw">this</span>.<span class="at">sort</span>(<span class="va">dynamicSortMultiple</span>.<span class="at">apply</span>(<span class="kw">null</span><span class="op">,</span> args))<span class="op">;</span></a>
<a class="sourceLine" id="cb610-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb610-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>That would enable this:</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb611-1" title="1"><span class="va">MyArray</span>.<span class="at">from</span>(People).<span class="at">sortBy</span>(<span class="st">&quot;Name&quot;</span><span class="op">,</span> <span class="st">&quot;-Surname&quot;</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-317" class="level4">
<h4>Answer 3 (score 317)</h4>
<p>In ES6/ES2015 or later you can do this way:</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb612-1" title="1"><span class="va">objs</span>.<span class="at">sort</span>((a<span class="op">,</span> b) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">a</span>.<span class="va">last_nom</span>.<span class="at">localeCompare</span>(<span class="va">b</span>.<span class="at">last_nom</span>))<span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-return-the-response-from-an-asynchronous-call-score-1313831-in-2019" class="level3">
<h3>89: How do I return the response from an asynchronous call? (score <a href="https://stackoverflow.com/q/14220321.html">1313831</a> in 2019)</h3>
<section id="question-88" class="level4">
<h4>Question</h4>
<p>I have a function <code>foo</code> which makes an Ajax request. How can I return the response from <code>foo</code>?</p>
<p>I tried returning the value from the <code>success</code> callback as well as assigning the response to a local variable inside the function and returning that one, but none of those ways actually return the response.</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb613-1" title="1"><span class="kw">function</span> <span class="at">foo</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb613-2" title="2">    <span class="kw">var</span> result<span class="op">;</span></a>
<a class="sourceLine" id="cb613-3" title="3"></a>
<a class="sourceLine" id="cb613-4" title="4">    <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb613-5" title="5">        <span class="dt">url</span><span class="op">:</span> <span class="st">&#39;...&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb613-6" title="6">        <span class="dt">success</span><span class="op">:</span> <span class="kw">function</span>(response) <span class="op">{</span></a>
<a class="sourceLine" id="cb613-7" title="7">            result <span class="op">=</span> response<span class="op">;</span></a>
<a class="sourceLine" id="cb613-8" title="8">            <span class="co">// return response; // &amp;lt;- I tried that one as well</span></a>
<a class="sourceLine" id="cb613-9" title="9">        <span class="op">}</span></a>
<a class="sourceLine" id="cb613-10" title="10">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb613-11" title="11"></a>
<a class="sourceLine" id="cb613-12" title="12">    <span class="cf">return</span> result<span class="op">;</span></a>
<a class="sourceLine" id="cb613-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb613-14" title="14"></a>
<a class="sourceLine" id="cb613-15" title="15"><span class="kw">var</span> result <span class="op">=</span> <span class="at">foo</span>()<span class="op">;</span> <span class="co">// It always ends up being `undefined`.</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-5413" class="level4">
<h4>Answer accepted (score 5413)</h4>
<blockquote>
<p><em>→ For a more general explanation of async behaviour with different examples, please see</em> <a href="https://stackoverflow.com/q/23667086/218196">Why is my variable unaltered after I modify it inside of a function? - Asynchronous code reference</a></p>
<em>→ If you already understand the problem, skip to the possible solutions below.</em>
</blockquote>
<h5>
The problem
</h1>
<p>The <strong>A</strong> in <a href="https://en.wikipedia.org/wiki/Ajax_(programming)" rel="noreferrer">Ajax</a> stands for <a href="https://www.merriam-webster.com/dictionary/asynchronous" rel="noreferrer"><strong>asynchronous</strong></a> . That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example, <code>$.ajax</code> returns immediately and the next statement, <code>return result;</code>, is executed before the function you passed as <code>success</code> callback was even called.</p>
<p>Here is an analogy which hopefully makes the difference between synchronous and asynchronous flow clearer:</p>
<h5>
Synchronous
</h2>
<p>Imagine you make a phone call to a friend and ask him to look something up for you. Although it might take a while, you wait on the phone and stare into space, until your friend gives you the answer that you needed.</p>
<p>The same is happening when you make a function call containing “normal” code:</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb614-1" title="1"><span class="kw">function</span> <span class="at">findItem</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb614-2" title="2">    <span class="kw">var</span> item<span class="op">;</span></a>
<a class="sourceLine" id="cb614-3" title="3">    <span class="cf">while</span>(item_not_found) <span class="op">{</span></a>
<a class="sourceLine" id="cb614-4" title="4">        <span class="co">// search</span></a>
<a class="sourceLine" id="cb614-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb614-6" title="6">    <span class="cf">return</span> item<span class="op">;</span></a>
<a class="sourceLine" id="cb614-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb614-8" title="8"></a>
<a class="sourceLine" id="cb614-9" title="9"><span class="kw">var</span> item <span class="op">=</span> <span class="at">findItem</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb614-10" title="10"></a>
<a class="sourceLine" id="cb614-11" title="11"><span class="co">// Do something with item</span></a>
<a class="sourceLine" id="cb614-12" title="12"><span class="at">doSomethingElse</span>()<span class="op">;</span></a></code></pre></div>
<p>Even though <code>findItem</code> might take a long time to execute, any code coming after <code>var item = findItem();</code> has to <em>wait</em> until the function returns the result.</p>
<h5>
Asynchronous
</h2>
<p>You call your friend again for the same reason. But this time you tell him that you are in a hurry and he should <em>call you back</em> on your mobile phone. You hang up, leave the house and do whatever you planned to do. Once your friend calls you back, you are dealing with the information he gave to you.</p>
<p>That’s exactly what’s happening when you do an Ajax request.</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb615-1" title="1"><span class="at">findItem</span>(<span class="kw">function</span>(item) <span class="op">{</span></a>
<a class="sourceLine" id="cb615-2" title="2">    <span class="co">// Do something with item</span></a>
<a class="sourceLine" id="cb615-3" title="3"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb615-4" title="4"><span class="at">doSomethingElse</span>()<span class="op">;</span></a></code></pre></div>
<p>Instead of waiting for the response, the execution continues immediately and the statement after the Ajax call is executed. To get the response eventually, you provide a function to be called once the response was received, a <em>callback</em> (notice something? <em>call back</em> ?). Any statement coming after that call is executed before the callback is called.</p>
<hr>
<h5>
Solution(s)
</h1>
<p><strong>Embrace the asynchronous nature of JavaScript!</strong> While certain asynchronous operations provide synchronous counterparts (so does “Ajax”), it’s generally discouraged to use them, especially in a browser context.</p>
<p>Why is it bad do you ask?</p>
<p>JavaScript runs in the UI thread of the browser and any long running process will lock the UI, making it unresponsive. Additionally, there is an upper limit on the execution time for JavaScript and the browser will ask the user whether to continue the execution or not.</p>
<p>All of this is really bad user experience. The user won’t be able to tell whether everything is working fine or not. Furthermore, the effect will be worse for users with a slow connection.</p>
<p>In the following we will look at three different solutions that are all building on top of each other:</p>
<ul>
<li>
<strong>Promises with <code>async/await</code></strong> (ES2017+, available in older browsers if you use a transpiler or regenerator)
</li>
<li>
<strong>Callbacks</strong> (popular in node)
</li>
<li>
<strong>Promises with <code>then()</code></strong> (ES2015+, available in older browsers if you use one of the many promise libraries)
</li>
</ul>
<p><strong>All three are available in current browsers, and node 7+.</strong></p>
<hr>
<h5>
ES2017+: Promises with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" rel="noreferrer"><code>async/await</code></a>
</h2>
<p>The ECMAScript version released in 2017 introduced <em>syntax-level support</em> for asynchronous functions. With the help of <code>async</code> and <code>await</code>, you can write asynchronous in a “synchronous style”. The code is still asynchronous, but it’s easier to read/understand.</p>
<p><code>async/await</code> builds on top of promises: an <code>async</code> function always returns a promise. <code>await</code> “unwraps” a promise and either result in the value the promise was resolved with or throws an error if the promise was rejected.</p>
<p><strong>Important:</strong> You can only use <code>await</code> inside an <code>async</code> function. Right now, top-level <code>await</code> isn’t yet supported, so you might have to make an async IIFE (<a href="https://en.wikipedia.org/wiki/Immediately_invoked_function_expression" rel="noreferrer">Immediately Invoked Function Expression</a>) to start an <code>async</code> context.</p>
<p>You can read more about <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" rel="noreferrer"><code>async</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" rel="noreferrer"><code>await</code></a> on MDN.</p>
<p>Here is an example that builds on top of delay above:</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb616-1" title="1"><span class="co">// Using &#39;superagent&#39; which will return a promise.</span></a>
<a class="sourceLine" id="cb616-2" title="2"><span class="kw">var</span> superagent <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;superagent&#39;</span>)</a>
<a class="sourceLine" id="cb616-3" title="3"></a>
<a class="sourceLine" id="cb616-4" title="4"><span class="co">// This is isn&#39;t declared as `async` because it already returns a promise</span></a>
<a class="sourceLine" id="cb616-5" title="5"><span class="kw">function</span> <span class="at">delay</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb616-6" title="6">  <span class="co">// `delay` returns a promise</span></a>
<a class="sourceLine" id="cb616-7" title="7">  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>(<span class="kw">function</span>(resolve<span class="op">,</span> reject) <span class="op">{</span></a>
<a class="sourceLine" id="cb616-8" title="8">    <span class="co">// Only `delay` is able to resolve or reject the promise</span></a>
<a class="sourceLine" id="cb616-9" title="9">    <span class="at">setTimeout</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb616-10" title="10">      <span class="at">resolve</span>(<span class="dv">42</span>)<span class="op">;</span> <span class="co">// After 3 seconds, resolve the promise with value 42</span></a>
<a class="sourceLine" id="cb616-11" title="11">    <span class="op">},</span> <span class="dv">3000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb616-12" title="12">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb616-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb616-14" title="14"></a>
<a class="sourceLine" id="cb616-15" title="15"></a>
<a class="sourceLine" id="cb616-16" title="16"><span class="kw">async</span> <span class="kw">function</span> <span class="at">getAllBooks</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb616-17" title="17">  <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb616-18" title="18">    <span class="co">// GET a list of book IDs of the current user</span></a>
<a class="sourceLine" id="cb616-19" title="19">    <span class="kw">var</span> bookIDs <span class="op">=</span> <span class="cf">await</span> <span class="va">superagent</span>.<span class="at">get</span>(<span class="st">&#39;/user/books&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb616-20" title="20">    <span class="co">// wait for 3 seconds (just for the sake of this example)</span></a>
<a class="sourceLine" id="cb616-21" title="21">    <span class="cf">await</span> <span class="at">delay</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb616-22" title="22">    <span class="co">// GET information about each book</span></a>
<a class="sourceLine" id="cb616-23" title="23">    <span class="cf">return</span> <span class="cf">await</span> <span class="va">superagent</span>.<span class="at">get</span>(<span class="st">&#39;/books/ids=&#39;</span><span class="op">+</span><span class="va">JSON</span>.<span class="at">stringify</span>(bookIDs))<span class="op">;</span></a>
<a class="sourceLine" id="cb616-24" title="24">  <span class="op">}</span> <span class="cf">catch</span>(error) <span class="op">{</span></a>
<a class="sourceLine" id="cb616-25" title="25">    <span class="co">// If any of the awaited promises was rejected, this catch block</span></a>
<a class="sourceLine" id="cb616-26" title="26">    <span class="co">// would catch the rejection reason</span></a>
<a class="sourceLine" id="cb616-27" title="27">    <span class="cf">return</span> <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb616-28" title="28">  <span class="op">}</span></a>
<a class="sourceLine" id="cb616-29" title="29"><span class="op">}</span></a>
<a class="sourceLine" id="cb616-30" title="30"></a>
<a class="sourceLine" id="cb616-31" title="31"><span class="co">// Start an IIFE to use `await` at the top level</span></a>
<a class="sourceLine" id="cb616-32" title="32">(<span class="kw">async</span> <span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb616-33" title="33">  <span class="kw">let</span> books <span class="op">=</span> <span class="cf">await</span> <span class="at">getAllBooks</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb616-34" title="34">  <span class="va">console</span>.<span class="at">log</span>(books)<span class="op">;</span></a>
<a class="sourceLine" id="cb616-35" title="35"><span class="op">}</span>)()<span class="op">;</span></a></code></pre></div>
<p>Current <a href="https://kangax.github.io/compat-table/es2016plus/#test-async_functions" rel="noreferrer">browser</a> and <a href="http://node.green/#ES2017-features-async-functions" rel="noreferrer">node</a> versions support <code>async/await</code>. You can also support older environments by transforming your code to ES5 with the help of <a href="https://github.com/facebook/regenerator" rel="noreferrer">regenerator</a> (or tools that use regenerator, such as <a href="https://babeljs.io/" rel="noreferrer">Babel</a>).</p>
<hr>
<h5>
Let functions accept <em>callbacks</em>
</h2>
<p>A callback is simply a function passed to another function. That other function can call the function passed whenever it is ready. In the context of an asynchronous process, the callback will be called whenever the asynchronous process is done. Usually, the result is passed to the callback.</p>
<p>In the example of the question, you can make <code>foo</code> accept a callback and use it as <code>success</code> callback. So this</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb617-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="at">foo</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb617-2" title="2"><span class="co">// Code that depends on &#39;result&#39;</span></a></code></pre></div>
<p>becomes</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb618-1" title="1"><span class="at">foo</span>(<span class="kw">function</span>(result) <span class="op">{</span></a>
<a class="sourceLine" id="cb618-2" title="2">    <span class="co">// Code that depends on &#39;result&#39;</span></a>
<a class="sourceLine" id="cb618-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Here we defined the function “inline” but you can pass any function reference:</p>
<div class="sourceCode" id="cb619"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb619-1" title="1"><span class="kw">function</span> <span class="at">myCallback</span>(result) <span class="op">{</span></a>
<a class="sourceLine" id="cb619-2" title="2">    <span class="co">// Code that depends on &#39;result&#39;</span></a>
<a class="sourceLine" id="cb619-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb619-4" title="4"></a>
<a class="sourceLine" id="cb619-5" title="5"><span class="at">foo</span>(myCallback)<span class="op">;</span></a></code></pre></div>
<p><code>foo</code> itself is defined as follows:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb620-1" title="1"><span class="kw">function</span> <span class="at">foo</span>(callback) <span class="op">{</span></a>
<a class="sourceLine" id="cb620-2" title="2">    <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb620-3" title="3">        <span class="co">// ...</span></a>
<a class="sourceLine" id="cb620-4" title="4">        <span class="dt">success</span><span class="op">:</span> callback</a>
<a class="sourceLine" id="cb620-5" title="5">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb620-6" title="6"><span class="op">}</span></a></code></pre></div>
<p><code>callback</code> will refer to the function we pass to <code>foo</code> when we call it and we simply pass it on to <code>success</code>. I.e. once the Ajax request is successful, <code>$.ajax</code> will call <code>callback</code> and pass the response to the callback (which can be referred to with <code>result</code>, since this is how we defined the callback).</p>
<p>You can also process the response before passing it to the callback:</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb621-1" title="1"><span class="kw">function</span> <span class="at">foo</span>(callback) <span class="op">{</span></a>
<a class="sourceLine" id="cb621-2" title="2">    <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb621-3" title="3">        <span class="co">// ...</span></a>
<a class="sourceLine" id="cb621-4" title="4">        <span class="dt">success</span><span class="op">:</span> <span class="kw">function</span>(response) <span class="op">{</span></a>
<a class="sourceLine" id="cb621-5" title="5">            <span class="co">// For example, filter the response</span></a>
<a class="sourceLine" id="cb621-6" title="6">            <span class="at">callback</span>(filtered_response)<span class="op">;</span></a>
<a class="sourceLine" id="cb621-7" title="7">        <span class="op">}</span></a>
<a class="sourceLine" id="cb621-8" title="8">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb621-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>
It’s easier to write code using callbacks than it may seem. After all, JavaScript in the browser is heavily event-driven (DOM events). Receiving the Ajax response is nothing else but an event.<br> Difficulties could arise when you have to work with third-party code, but most problems can be solved by just thinking through the application flow.
</p>
<hr>
<h5>
ES2015+: Promises with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">then()</a>
</h2>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" rel="noreferrer">Promise API</a> is a new feature of ECMAScript 6 (ES2015), but it has good <a href="http://caniuse.com/#feat=promises" rel="noreferrer" title="caniuse">browser support</a> already. There are also many libraries which implement the standard Promises API and provide additional methods to ease the use and composition of asynchronous functions (e.g. <a href="https://github.com/petkaantonov/bluebird" rel="noreferrer">bluebird</a>).</p>
<p>Promises are containers for <em>future</em> values. When the promise receives the value (it is <em>resolved</em>) or when it is cancelled (<em>rejected</em>), it notifies all of its “listeners” who want to access this value.</p>
<p>The advantage over plain callbacks is that they allow you to decouple your code and they are easier to compose.</p>
<p>Here is a simple example of using a promise:</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb622-1" title="1"><span class="kw">function</span> <span class="at">delay</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb622-2" title="2">  <span class="co">// `delay` returns a promise</span></a>
<a class="sourceLine" id="cb622-3" title="3">  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>(<span class="kw">function</span>(resolve<span class="op">,</span> reject) <span class="op">{</span></a>
<a class="sourceLine" id="cb622-4" title="4">    <span class="co">// Only `delay` is able to resolve or reject the promise</span></a>
<a class="sourceLine" id="cb622-5" title="5">    <span class="at">setTimeout</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb622-6" title="6">      <span class="at">resolve</span>(<span class="dv">42</span>)<span class="op">;</span> <span class="co">// After 3 seconds, resolve the promise with value 42</span></a>
<a class="sourceLine" id="cb622-7" title="7">    <span class="op">},</span> <span class="dv">3000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb622-8" title="8">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb622-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb622-10" title="10"></a>
<a class="sourceLine" id="cb622-11" title="11"><span class="at">delay</span>()</a>
<a class="sourceLine" id="cb622-12" title="12">  .<span class="at">then</span>(<span class="kw">function</span>(v) <span class="op">{</span> <span class="co">// `delay` returns a promise</span></a>
<a class="sourceLine" id="cb622-13" title="13">    <span class="va">console</span>.<span class="at">log</span>(v)<span class="op">;</span> <span class="co">// Log the value once it is resolved</span></a>
<a class="sourceLine" id="cb622-14" title="14">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb622-15" title="15">  .<span class="at">catch</span>(<span class="kw">function</span>(v) <span class="op">{</span></a>
<a class="sourceLine" id="cb622-16" title="16">    <span class="co">// Or do something else if it is rejected </span></a>
<a class="sourceLine" id="cb622-17" title="17">    <span class="co">// (it would not happen in this example, since `reject` is not called).</span></a>
<a class="sourceLine" id="cb622-18" title="18">  <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Applied to our Ajax call we could use promises like this:</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb623-1" title="1"><span class="kw">function</span> <span class="at">ajax</span>(url) <span class="op">{</span></a>
<a class="sourceLine" id="cb623-2" title="2">  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>(<span class="kw">function</span>(resolve<span class="op">,</span> reject) <span class="op">{</span></a>
<a class="sourceLine" id="cb623-3" title="3">    <span class="kw">var</span> xhr <span class="op">=</span> <span class="kw">new</span> <span class="at">XMLHttpRequest</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb623-4" title="4">    <span class="va">xhr</span>.<span class="at">onload</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb623-5" title="5">      <span class="at">resolve</span>(<span class="kw">this</span>.<span class="at">responseText</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb623-6" title="6">    <span class="op">};</span></a>
<a class="sourceLine" id="cb623-7" title="7">    <span class="va">xhr</span>.<span class="at">onerror</span> <span class="op">=</span> reject<span class="op">;</span></a>
<a class="sourceLine" id="cb623-8" title="8">    <span class="va">xhr</span>.<span class="at">open</span>(<span class="st">&#39;GET&#39;</span><span class="op">,</span> url)<span class="op">;</span></a>
<a class="sourceLine" id="cb623-9" title="9">    <span class="va">xhr</span>.<span class="at">send</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb623-10" title="10">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb623-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb623-12" title="12"></a>
<a class="sourceLine" id="cb623-13" title="13"><span class="at">ajax</span>(<span class="st">&quot;/echo/json&quot;</span>)</a>
<a class="sourceLine" id="cb623-14" title="14">  .<span class="at">then</span>(<span class="kw">function</span>(result) <span class="op">{</span></a>
<a class="sourceLine" id="cb623-15" title="15">    <span class="co">// Code depending on result</span></a>
<a class="sourceLine" id="cb623-16" title="16">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb623-17" title="17">  .<span class="at">catch</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb623-18" title="18">    <span class="co">// An error occurred</span></a>
<a class="sourceLine" id="cb623-19" title="19">  <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Describing all the advantages that promise offer is beyond the scope of this answer, but if you write new code, you should seriously consider them. They provide a great abstraction and separation of your code.</p>
<p>More information about promises: <a href="http://www.html5rocks.com/en/tutorials/es6/promises/" rel="noreferrer">HTML5 rocks - JavaScript Promises</a></p>
<h5>
Side note: jQuery’s deferred objects
</h3>
<p><a href="https://stackoverflow.com/questions/4866721/what-are-deferred-objects">Deferred objects</a> are jQuery’s custom implementation of promises (before the Promise API was standardized). They behave almost like promises but expose a slightly different API.</p>
<p>Every Ajax method of jQuery already returns a “deferred object” (actually a promise of a deferred object) which you can just return from your function:</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb624-1" title="1"><span class="kw">function</span> <span class="at">ajax</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb624-2" title="2">    <span class="cf">return</span> <span class="va">$</span>.<span class="at">ajax</span>(...)<span class="op">;</span></a>
<a class="sourceLine" id="cb624-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb624-4" title="4"></a>
<a class="sourceLine" id="cb624-5" title="5"><span class="at">ajax</span>().<span class="at">done</span>(<span class="kw">function</span>(result) <span class="op">{</span></a>
<a class="sourceLine" id="cb624-6" title="6">    <span class="co">// Code depending on result</span></a>
<a class="sourceLine" id="cb624-7" title="7"><span class="op">}</span>).<span class="at">fail</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb624-8" title="8">    <span class="co">// An error occurred</span></a>
<a class="sourceLine" id="cb624-9" title="9"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h5>
Side note: Promise gotchas
</h3>
<p>Keep in mind that promises and deferred objects are just <em>containers</em> for a future value, they are not the value itself. For example, suppose you had the following:</p>
<div class="sourceCode" id="cb625"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb625-1" title="1"><span class="kw">function</span> <span class="at">checkPassword</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb625-2" title="2">    <span class="cf">return</span> <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb625-3" title="3">        <span class="dt">url</span><span class="op">:</span> <span class="st">&#39;/password&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb625-4" title="4">        <span class="dt">data</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb625-5" title="5">            <span class="dt">username</span><span class="op">:</span> <span class="at">$</span>(<span class="st">&#39;#username&#39;</span>).<span class="at">val</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb625-6" title="6">            <span class="dt">password</span><span class="op">:</span> <span class="at">$</span>(<span class="st">&#39;#password&#39;</span>).<span class="at">val</span>()</a>
<a class="sourceLine" id="cb625-7" title="7">        <span class="op">},</span></a>
<a class="sourceLine" id="cb625-8" title="8">        <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;POST&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb625-9" title="9">        <span class="dt">dataType</span><span class="op">:</span> <span class="st">&#39;json&#39;</span></a>
<a class="sourceLine" id="cb625-10" title="10">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb625-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb625-12" title="12"></a>
<a class="sourceLine" id="cb625-13" title="13"><span class="cf">if</span> (<span class="at">checkPassword</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb625-14" title="14">    <span class="co">// Tell the user they&#39;re logged in</span></a>
<a class="sourceLine" id="cb625-15" title="15"><span class="op">}</span></a></code></pre></div>
<p>This code misunderstands the above asynchrony issues. Specifically, <code>$.ajax()</code> doesn’t freeze the code while it checks the ‘/password’ page on your server - it sends a request to the server and while it waits, immediately returns a jQuery Ajax Deferred object, not the response from the server. That means the <code>if</code> statement is going to always get this Deferred object, treat it as <code>true</code>, and proceed as though the user is logged in. Not good.</p>
<p>But the fix is easy:</p>
<div class="sourceCode" id="cb626"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb626-1" title="1"><span class="at">checkPassword</span>()</a>
<a class="sourceLine" id="cb626-2" title="2">.<span class="at">done</span>(<span class="kw">function</span>(r) <span class="op">{</span></a>
<a class="sourceLine" id="cb626-3" title="3">    <span class="cf">if</span> (r) <span class="op">{</span></a>
<a class="sourceLine" id="cb626-4" title="4">        <span class="co">// Tell the user they&#39;re logged in</span></a>
<a class="sourceLine" id="cb626-5" title="5">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb626-6" title="6">        <span class="co">// Tell the user their password was bad</span></a>
<a class="sourceLine" id="cb626-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb626-8" title="8"><span class="op">}</span>)</a>
<a class="sourceLine" id="cb626-9" title="9">.<span class="at">fail</span>(<span class="kw">function</span>(x) <span class="op">{</span></a>
<a class="sourceLine" id="cb626-10" title="10">    <span class="co">// Tell the user something bad happened</span></a>
<a class="sourceLine" id="cb626-11" title="11"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<hr>
<h5>
Not recommended: Synchronous “Ajax” calls
</h2>
<p>As I mentioned, some(!) asynchronous operations have synchronous counterparts. I don’t advocate their use, but for completeness’ sake, here is how you would perform a synchronous call:</p>
<h5>
Without jQuery
</h3>
<p>If you directly use a <a href="http://www.w3.org/TR/XMLHttpRequest/" rel="noreferrer"><code>XMLHTTPRequest</code></a> object, pass <code>false</code> as third argument to <a href="http://www.w3.org/TR/XMLHttpRequest/#the-open%28%29-method" rel="noreferrer"><code>.open</code></a>.</p>
<h5>
jQuery
</h3>
<p>
If you use <a href="http://api.jquery.com/jQuery.ajax/" rel="noreferrer">jQuery</a>, you can set the <code>async</code> option to <code>false</code>. Note that this option is <em>deprecated</em> since jQuery 1.8. You can then either still use a <code>success</code> callback or access the <code>responseText</code> property of the <a href="http://api.jquery.com/jQuery.ajax/#jqXHR" rel="noreferrer">jqXHR object</a>:
</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb627-1" title="1"><span class="kw">function</span> <span class="at">foo</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb627-2" title="2">    <span class="kw">var</span> jqXHR <span class="op">=</span> <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb627-3" title="3">        <span class="co">//...</span></a>
<a class="sourceLine" id="cb627-4" title="4">        <span class="dt">async</span><span class="op">:</span> <span class="kw">false</span></a>
<a class="sourceLine" id="cb627-5" title="5">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb627-6" title="6">    <span class="cf">return</span> <span class="va">jqXHR</span>.<span class="at">responseText</span><span class="op">;</span></a>
<a class="sourceLine" id="cb627-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>If you use any other jQuery Ajax method, such as <code>$.get</code>, <code>$.getJSON</code>, etc., you have to change it to <code>$.ajax</code> (since you can only pass configuration parameters to <code>$.ajax</code>).</p>
<p><strong>Heads up!</strong> It is not possible to make a synchronous <a href="https://stackoverflow.com/questions/2067472/please-explain-jsonp">JSONP</a> request. JSONP by its very nature is always asynchronous (one more reason to not even consider this option).</p>
</section>
<section id="answer-2-score-1034" class="level4">
<h4>Answer 2 (score 1034)</h4>
<h5>
If you’re <em>not</em> using jQuery in your code, this answer is for you
</h1>
<p>Your code should be something along the lines of this:</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb628-1" title="1"><span class="kw">function</span> <span class="at">foo</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb628-2" title="2">    <span class="kw">var</span> httpRequest <span class="op">=</span> <span class="kw">new</span> <span class="at">XMLHttpRequest</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb628-3" title="3">    <span class="va">httpRequest</span>.<span class="at">open</span>(<span class="st">&#39;GET&#39;</span><span class="op">,</span> <span class="st">&quot;/echo/json&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb628-4" title="4">    <span class="va">httpRequest</span>.<span class="at">send</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb628-5" title="5">    <span class="cf">return</span> <span class="va">httpRequest</span>.<span class="at">responseText</span><span class="op">;</span></a>
<a class="sourceLine" id="cb628-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb628-7" title="7"></a>
<a class="sourceLine" id="cb628-8" title="8"><span class="kw">var</span> result <span class="op">=</span> <span class="at">foo</span>()<span class="op">;</span> <span class="co">// always ends up being &#39;undefined&#39;</span></a></code></pre></div>
<p>Felix Kling did a fine job writing an answer for people using jQuery for AJAX, I’ve decided to provide an alternative for people who aren’t.</p>
<p>(<a href="https://stackoverflow.com/a/30180679/1348195">Note, for those using the new <code>fetch</code> API, Angular or promises I’ve added another answer below</a>)</p>
<hr>
<h5>
What you’re facing
</h1>
<p>This is a short summary of “Explanation of the problem” from the other answer, if you’re not sure after reading this, read that.</p>
<p>The <strong>A</strong> in AJAX stands for <strong>asynchronous</strong>. That means sending the request (or rather receiving the response) is taken out of the normal execution flow. In your example, <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#send%28%29" rel="noreferrer"><code>.send</code></a> returns immediately and the next statement, <code>return result;</code>, is executed before the function you passed as <code>success</code> callback was even called.</p>
<p>This means when you’re returning, the listener you’ve defined did not execute yet, which means the value you’re returning has not been defined.</p>
<p>Here is a simple analogy</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb629-1" title="1"><span class="kw">function</span> <span class="at">getFive</span>()<span class="op">{</span> </a>
<a class="sourceLine" id="cb629-2" title="2">    <span class="kw">var</span> a<span class="op">;</span></a>
<a class="sourceLine" id="cb629-3" title="3">    <span class="at">setTimeout</span>(<span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb629-4" title="4">         a<span class="op">=</span><span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb629-5" title="5">    <span class="op">},</span><span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb629-6" title="6">    <span class="cf">return</span> a<span class="op">;</span></a>
<a class="sourceLine" id="cb629-7" title="7"><span class="op">}</span></a></code></pre></div>
<p><a href="http://jsfiddle.net/7RK3k/" rel="noreferrer">(Fiddle)</a></p>
<p>The value of <code>a</code> returned is <code>undefined</code> since the <code>a=5</code> part has not executed yet. AJAX acts like this, you’re returning the value before the server got the chance to tell your browser what that value is.</p>
<p>One possible solution to this problem is to code <em>re-actively</em> , telling your program what to do when the calculation completed.</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb630-1" title="1"><span class="kw">function</span> <span class="at">onComplete</span>(a)<span class="op">{</span> <span class="co">// When the code completes, do this</span></a>
<a class="sourceLine" id="cb630-2" title="2">    <span class="at">alert</span>(a)<span class="op">;</span></a>
<a class="sourceLine" id="cb630-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb630-4" title="4"></a>
<a class="sourceLine" id="cb630-5" title="5"><span class="kw">function</span> <span class="at">getFive</span>(whenDone)<span class="op">{</span> </a>
<a class="sourceLine" id="cb630-6" title="6">    <span class="kw">var</span> a<span class="op">;</span></a>
<a class="sourceLine" id="cb630-7" title="7">    <span class="at">setTimeout</span>(<span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb630-8" title="8">         a<span class="op">=</span><span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb630-9" title="9">         <span class="at">whenDone</span>(a)<span class="op">;</span></a>
<a class="sourceLine" id="cb630-10" title="10">    <span class="op">},</span><span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb630-11" title="11"><span class="op">}</span></a></code></pre></div>
<p>This is called <a href="http://en.wikipedia.org/wiki/Continuation-passing_style" rel="noreferrer">CPS</a>. Basically, we’re passing <code>getFive</code> an action to perform when it completes, we’re telling our code how to react when an event completes (like our AJAX call, or in this case the timeout).</p>
<p>Usage would be:</p>
<div class="sourceCode" id="cb631"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb631-1" title="1"><span class="at">getFive</span>(onComplete)<span class="op">;</span></a></code></pre></div>
<p>Which should alert “5” to the screen. <a href="http://jsfiddle.net/PAjZR/" rel="noreferrer">(Fiddle)</a>.</p>
<h5>
Possible solutions
</h1>
<p>There are basically two ways how to solve this:</p>
<ol>
<li>
Make the AJAX call synchronous (lets call it SJAX).
</li>
<li>
Restructure your code to work properly with callbacks.
</li>
</ol>
<h5>
<ol type="1">
<li>Synchronous AJAX - Don’t do it!!
</h2></li>
</ol>
<p>As for synchronous AJAX, <strong>don’t do it!</strong> Felix’s answer raises some compelling arguments about why it’s a bad idea. To sum it up, it’ll freeze the user’s browser until the server returns the response and create a very bad user experience. Here is another short summary taken from MDN on why:</p>
<blockquote>
<p>XMLHttpRequest supports both synchronous and asynchronous communications. In general, however, asynchronous requests should be preferred to synchronous requests for performance reasons.</p>
In short, synchronous requests block the execution of code… …this can cause serious issues…
</blockquote>
<p>If you <em>have</em> to do it, you can pass a flag: <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests#Synchronous_request" rel="noreferrer">Here is how:</a></p>
<div class="sourceCode" id="cb632"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb632-1" title="1"><span class="kw">var</span> request <span class="op">=</span> <span class="kw">new</span> <span class="at">XMLHttpRequest</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb632-2" title="2"><span class="va">request</span>.<span class="at">open</span>(<span class="st">&#39;GET&#39;</span><span class="op">,</span> <span class="st">&#39;yourURL&#39;</span><span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span>  <span class="co">// `false` makes the request synchronous</span></a>
<a class="sourceLine" id="cb632-3" title="3"><span class="va">request</span>.<span class="at">send</span>(<span class="kw">null</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb632-4" title="4"></a>
<a class="sourceLine" id="cb632-5" title="5"><span class="cf">if</span> (<span class="va">request</span>.<span class="at">status</span> <span class="op">===</span> <span class="dv">200</span>) <span class="op">{</span><span class="co">// That&#39;s HTTP for &#39;ok&#39;</span></a>
<a class="sourceLine" id="cb632-6" title="6">  <span class="va">console</span>.<span class="at">log</span>(<span class="va">request</span>.<span class="at">responseText</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb632-7" title="7"><span class="op">}</span></a></code></pre></div>
<h5>
<ol start="2" type="1">
<li>Restructure code
</h2></li>
</ol>
<p>Let your function accept a callback. In the example code <code>foo</code> can be made to accept a callback. We’ll be telling our code how to <em>react</em> when <code>foo</code> completes.</p>
<p>So:</p>
<div class="sourceCode" id="cb633"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb633-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="at">foo</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb633-2" title="2"><span class="co">// code that depends on `result` goes here</span></a></code></pre></div>
<p>Becomes:</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb634-1" title="1"><span class="at">foo</span>(<span class="kw">function</span>(result) <span class="op">{</span></a>
<a class="sourceLine" id="cb634-2" title="2">    <span class="co">// code that depends on `result`</span></a>
<a class="sourceLine" id="cb634-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Here we passed an anonymous function, but we could just as easily pass a reference to an existing function, making it look like:</p>
<div class="sourceCode" id="cb635"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb635-1" title="1"><span class="kw">function</span> <span class="at">myHandler</span>(result) <span class="op">{</span></a>
<a class="sourceLine" id="cb635-2" title="2">    <span class="co">// code that depends on `result`</span></a>
<a class="sourceLine" id="cb635-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb635-4" title="4"><span class="at">foo</span>(myHandler)<span class="op">;</span></a></code></pre></div>
<p>For more details on how this sort of callback design is done, check Felix’s answer.</p>
<p>Now, let’s define foo itself to act accordingly</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb636-1" title="1"><span class="kw">function</span> <span class="at">foo</span>(callback) <span class="op">{</span></a>
<a class="sourceLine" id="cb636-2" title="2">    <span class="kw">var</span> httpRequest <span class="op">=</span> <span class="kw">new</span> <span class="at">XMLHttpRequest</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb636-3" title="3">    <span class="va">httpRequest</span>.<span class="at">onload</span> <span class="op">=</span> <span class="kw">function</span>()<span class="op">{</span> <span class="co">// when the request is loaded</span></a>
<a class="sourceLine" id="cb636-4" title="4">       <span class="at">callback</span>(<span class="va">httpRequest</span>.<span class="at">responseText</span>)<span class="op">;</span><span class="co">// we&#39;re calling our method</span></a>
<a class="sourceLine" id="cb636-5" title="5">    <span class="op">};</span></a>
<a class="sourceLine" id="cb636-6" title="6">    <span class="va">httpRequest</span>.<span class="at">open</span>(<span class="st">&#39;GET&#39;</span><span class="op">,</span> <span class="st">&quot;/echo/json&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb636-7" title="7">    <span class="va">httpRequest</span>.<span class="at">send</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb636-8" title="8"><span class="op">}</span></a></code></pre></div>
<p><a href="http://jsfiddle.net/DAcWT/" rel="noreferrer">(fiddle)</a></p>
<p>We have now made our foo function accept an action to run when the AJAX completes successfully, we can extend this further by checking if the response status is not 200 and acting accordingly (create a fail handler and such). Effectively solving our issue.</p>
<p>If you’re still having a hard time understanding this <a href="https://developer.mozilla.org/en-US/docs/AJAX/Getting_Started" rel="noreferrer">read the AJAX getting started guide</a> at MDN.</p>
</section>
<section id="answer-3-score-380" class="level4">
<h4>Answer 3 (score 380)</h4>
<p><strong><a href="http://en.wikipedia.org/wiki/XMLHttpRequest" rel="noreferrer">XMLHttpRequest</a> 2</strong> (first of all read the answers from <a href="https://stackoverflow.com/a/16825593/19068">Benjamin Gruenbaum</a> &amp; <a href="https://stackoverflow.com/a/14220323/19068">Felix Kling</a>)</p>
<p>If you don’t use jQuery and want a nice short XMLHttpRequest 2 which works on the modern browsers and also on the mobile browsers I suggest to use it this way:</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb637-1" title="1"><span class="kw">function</span> <span class="at">ajax</span>(a<span class="op">,</span> b<span class="op">,</span> c)<span class="op">{</span> <span class="co">// URL, callback, just a placeholder</span></a>
<a class="sourceLine" id="cb637-2" title="2">  c <span class="op">=</span> <span class="kw">new</span> XMLHttpRequest<span class="op">;</span></a>
<a class="sourceLine" id="cb637-3" title="3">  <span class="va">c</span>.<span class="at">open</span>(<span class="st">&#39;GET&#39;</span><span class="op">,</span> a)<span class="op">;</span></a>
<a class="sourceLine" id="cb637-4" title="4">  <span class="va">c</span>.<span class="at">onload</span> <span class="op">=</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb637-5" title="5">  <span class="va">c</span>.<span class="at">send</span>()</a>
<a class="sourceLine" id="cb637-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>As you can see:</p>
<ol>
<li>
It’s shorter than all other functions Listed.
</li>
<li>
The callback is set directly (so no extra unnecessary closures).
</li>
<li>
It uses the new onload (so you don’t have to check for readystate &amp;&amp; status)
</li>
<li>
There are some other situations which I don’t remember that make the XMLHttpRequest 1 annoying.
</li>
</ol>
<p>There are two ways to get the response of this Ajax call (three using the XMLHttpRequest var name):</p>
<p>The simplest:</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb638-1" title="1"><span class="kw">this</span>.<span class="at">response</span></a></code></pre></div>
<p>Or if for some reason you <code>bind()</code> the callback to a class:</p>
<div class="sourceCode" id="cb639"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb639-1" title="1"><span class="va">e</span>.<span class="va">target</span>.<span class="at">response</span></a></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb640-1" title="1"><span class="kw">function</span> <span class="at">callback</span>(e)<span class="op">{</span></a>
<a class="sourceLine" id="cb640-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">response</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb640-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb640-4" title="4"><span class="at">ajax</span>(<span class="st">&#39;URL&#39;</span><span class="op">,</span> callback)<span class="op">;</span></a></code></pre></div>
<p>Or (the above one is better anonymous functions are always a problem):</p>
<div class="sourceCode" id="cb641"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb641-1" title="1"><span class="at">ajax</span>(<span class="st">&#39;URL&#39;</span><span class="op">,</span> <span class="kw">function</span>(e)<span class="op">{</span><span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">response</span>)<span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Nothing easier.</p>
<p>Now some people will probably say that it’s better to use onreadystatechange or the even the XMLHttpRequest variable name. That’s wrong.</p>
<p>Check out <a href="http://caniuse.com/xhr2" rel="noreferrer">XMLHttpRequest advanced features</a></p>
<p>It supported all *modern browsers. And I can confirm as I’m using this approach since XMLHttpRequest 2 exists. I never had any type of problem on all browsers I use.</p>
<p>onreadystatechange is only useful if you want to get the headers on state 2.</p>
<p>Using the <code>XMLHttpRequest</code> variable name is another big error as you need to execute the callback inside the onload/oreadystatechange closures else you lost it.</p>
<hr>
<p>Now if you want something more complex using post and FormData you can easily extend this function:</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb642-1" title="1"><span class="kw">function</span> <span class="at">x</span>(a<span class="op">,</span> b<span class="op">,</span> e<span class="op">,</span> d<span class="op">,</span> c)<span class="op">{</span> <span class="co">// URL, callback, method, formdata or {key:val},placeholder</span></a>
<a class="sourceLine" id="cb642-2" title="2">  c <span class="op">=</span> <span class="kw">new</span> XMLHttpRequest<span class="op">;</span></a>
<a class="sourceLine" id="cb642-3" title="3">  <span class="va">c</span>.<span class="at">open</span>(e<span class="op">||</span><span class="st">&#39;get&#39;</span><span class="op">,</span> a)<span class="op">;</span></a>
<a class="sourceLine" id="cb642-4" title="4">  <span class="va">c</span>.<span class="at">onload</span> <span class="op">=</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb642-5" title="5">  <span class="va">c</span>.<span class="at">send</span>(d<span class="op">||</span><span class="kw">null</span>)</a>
<a class="sourceLine" id="cb642-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>Again … it’s a very short function, but it does get &amp; post.</p>
<p>Examples of usage:</p>
<div class="sourceCode" id="cb643"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb643-1" title="1"><span class="at">x</span>(url<span class="op">,</span> callback)<span class="op">;</span> <span class="co">// By default it&#39;s get so no need to set</span></a>
<a class="sourceLine" id="cb643-2" title="2"><span class="at">x</span>(url<span class="op">,</span> callback<span class="op">,</span> <span class="st">&#39;post&#39;</span><span class="op">,</span> <span class="op">{</span><span class="st">&#39;key&#39;</span><span class="op">:</span> <span class="st">&#39;val&#39;</span><span class="op">}</span>)<span class="op">;</span> <span class="co">// No need to set post data</span></a></code></pre></div>
<p>Or pass a full form element (<code>document.getElementsByTagName('form')[0]</code>):</p>
<div class="sourceCode" id="cb644"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb644-1" title="1"><span class="kw">var</span> fd <span class="op">=</span> <span class="kw">new</span> <span class="at">FormData</span>(form)<span class="op">;</span></a>
<a class="sourceLine" id="cb644-2" title="2"><span class="at">x</span>(url<span class="op">,</span> callback<span class="op">,</span> <span class="st">&#39;post&#39;</span><span class="op">,</span> fd)<span class="op">;</span></a></code></pre></div>
<p>Or set some custom values:</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb645-1" title="1"><span class="kw">var</span> fd <span class="op">=</span> <span class="kw">new</span> <span class="at">FormData</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb645-2" title="2"><span class="va">fd</span>.<span class="at">append</span>(<span class="st">&#39;key&#39;</span><span class="op">,</span> <span class="st">&#39;val&#39;</span>)</a>
<a class="sourceLine" id="cb645-3" title="3"><span class="at">x</span>(url<span class="op">,</span> callback<span class="op">,</span> <span class="st">&#39;post&#39;</span><span class="op">,</span> fd)<span class="op">;</span></a></code></pre></div>
<p>As you can see I didn’t implement sync… it’s a bad thing.</p>
<p>Having said that … why don’t do it the easy way?</p>
<hr>
<p>As mentioned in the comment the use of error &amp;&amp; synchronous does completely break the point of the answer. Which is a nice short way to use Ajax in the proper way?</p>
<p><em>Error handler</em></p>
<div class="sourceCode" id="cb646"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb646-1" title="1"><span class="kw">function</span> <span class="at">x</span>(a<span class="op">,</span> b<span class="op">,</span> e<span class="op">,</span> d<span class="op">,</span> c)<span class="op">{</span> <span class="co">// URL, callback, method, formdata or {key:val}, placeholder</span></a>
<a class="sourceLine" id="cb646-2" title="2">  c <span class="op">=</span> <span class="kw">new</span> XMLHttpRequest<span class="op">;</span></a>
<a class="sourceLine" id="cb646-3" title="3">  <span class="va">c</span>.<span class="at">open</span>(e<span class="op">||</span><span class="st">&#39;get&#39;</span><span class="op">,</span> a)<span class="op">;</span></a>
<a class="sourceLine" id="cb646-4" title="4">  <span class="va">c</span>.<span class="at">onload</span> <span class="op">=</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb646-5" title="5">  <span class="va">c</span>.<span class="at">onerror</span> <span class="op">=</span> error<span class="op">;</span></a>
<a class="sourceLine" id="cb646-6" title="6">  <span class="va">c</span>.<span class="at">send</span>(d<span class="op">||</span><span class="kw">null</span>)</a>
<a class="sourceLine" id="cb646-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb646-8" title="8"></a>
<a class="sourceLine" id="cb646-9" title="9"><span class="kw">function</span> <span class="at">error</span>(e)<span class="op">{</span></a>
<a class="sourceLine" id="cb646-10" title="10">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;--Error--&#39;</span><span class="op">,</span> <span class="kw">this</span>.<span class="at">type</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb646-11" title="11">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;this: &#39;</span><span class="op">,</span> <span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb646-12" title="12">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Event: &#39;</span><span class="op">,</span> e)</a>
<a class="sourceLine" id="cb646-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb646-14" title="14"><span class="kw">function</span> <span class="at">displayAjax</span>(e)<span class="op">{</span></a>
<a class="sourceLine" id="cb646-15" title="15">  <span class="va">console</span>.<span class="at">log</span>(e<span class="op">,</span> <span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb646-16" title="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb646-17" title="17"><span class="at">x</span>(<span class="st">&#39;WRONGURL&#39;</span><span class="op">,</span> displayAjax)<span class="op">;</span></a></code></pre></div>
<p>In the above script, you have an error handler which is statically defined so it does not compromise the function. The error handler can be used for other functions too.</p>
<p>But to really get out an error the <strong>only</strong> way is to write a wrong URL in which case every browser throws an error.</p>
<p>Error handlers are maybe useful if you set custom headers, set the responseType to blob array buffer or whatever…</p>
<p>Even if you pass ‘POSTAPAPAP’ as the method it won’t throw an error.</p>
<p>Even if you pass ‘fdggdgilfdghfldj’ as formdata it won’t throw an error.</p>
<p>In the first case the error is inside the <code>displayAjax()</code> under <code>this.statusText</code> as <code>Method not Allowed</code>.</p>
<p>In the second case, it simply works. You have to check at the server side if you passed the right post data.</p>
<p>cross-domain not allowed throws error automatically.</p>
<p>In the error response, there are no error codes.</p>
<p>There is only the <code>this.type</code> which is set to error.</p>
<p>
Why add an error handler if you totally have no control over errors? Most of the errors are returned inside this in the callback function <code>displayAjax()</code>.
</p>
<p>So: No need for error checks if you’re able to copy and paste the URL properly. ;)</p>
<p><em>PS: As the first test I wrote x(‘x’, displayAjax)…, and it totally got a response…??? So I checked the folder where the HTML is located, and there was a file called ‘x.xml’. So even if you forget the extension of your file XMLHttpRequest 2 WILL FIND IT</em>. I LOL’d</p>
<hr>
<p><em>Read a file synchronous</em></p>
<p><strong>Don’t do that.</strong></p>
<p>If you want to block the browser for a while load a nice big <code>.txt</code> file synchronous.</p>
<div class="sourceCode" id="cb647"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb647-1" title="1"><span class="kw">function</span> <span class="at">omg</span>(a<span class="op">,</span> c)<span class="op">{</span> <span class="co">// URL</span></a>
<a class="sourceLine" id="cb647-2" title="2">  c <span class="op">=</span> <span class="kw">new</span> XMLHttpRequest<span class="op">;</span></a>
<a class="sourceLine" id="cb647-3" title="3">  <span class="va">c</span>.<span class="at">open</span>(<span class="st">&#39;GET&#39;</span><span class="op">,</span> a<span class="op">,</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb647-4" title="4">  <span class="va">c</span>.<span class="at">send</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb647-5" title="5">  <span class="cf">return</span> c<span class="op">;</span> <span class="co">// Or c.response</span></a>
<a class="sourceLine" id="cb647-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>Now you can do</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb648-1" title="1"> <span class="kw">var</span> res <span class="op">=</span> <span class="at">omg</span>(<span class="st">&#39;thisIsGonnaBlockThePage.txt&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>There is no other way to do this in a non-asynchronous way. (Yeah, with setTimeout loop… but seriously?)</p>
<p>Another point is… if you work with APIs or just your own list’s files or whatever you always use different functions for each request…</p>
<p>Only if you have a page where you load always the same XML/JSON or whatever you need only one function. In that case, modify a little the Ajax function and replace b with your special function.</p>
<hr>
<p>The functions above are for basic use.</p>
<p>If you want to EXTEND the function…</p>
<p>Yes, you can.</p>
<p>I’m using a lot of APIs and one of the first functions I integrate into every HTML page is the first Ajax function in this answer, with GET only…</p>
<p>But you can do a lot of stuff with XMLHttpRequest 2:</p>
<p>I made a download manager (using ranges on both sides with resume, filereader, filesystem), various image resizers converters using canvas, populate web SQL databases with base64images and much more… But in these cases you should create a function only for that purpose… sometimes you need a blob, array buffers, you can set headers, override mimetype and there is a lot more…</p>
<p>But the question here is how to return an Ajax response… (I added an easy way.)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="convert-a-string-to-an-integer-score-1303678-in-2019" class="level3">
<h3>90: Convert a string to an integer? (score <a href="https://stackoverflow.com/q/1133770.html">1303678</a> in 2019)</h3>
<section id="question-89" class="level4">
<h4>Question</h4>
<p>How do I convert a string to an integer in JavaScript?</p>
</section>
<section id="answer-accepted-score-2032" class="level4">
<h4>Answer accepted (score 2032)</h4>
<p>The simplest way would be to use the native <code>Number</code> function:</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb649-1" title="1"><span class="kw">var</span> x <span class="op">=</span> <span class="at">Number</span>(<span class="st">&quot;1000&quot;</span>)</a></code></pre></div>
<p>If that doesn’t work for you, then there are the <strong>parseInt</strong>, <strong>unary plus</strong>, <strong>parseFloat with floor</strong>, and <strong>Math.round</strong> methods.</p>
<p>parseInt:</p>
<div class="sourceCode" id="cb650"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb650-1" title="1"><span class="kw">var</span> x <span class="op">=</span> <span class="at">parseInt</span>(<span class="st">&quot;1000&quot;</span><span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span> <span class="co">// you want to use radix 10</span></a>
<a class="sourceLine" id="cb650-2" title="2">    <span class="co">// so you get a decimal number even with a leading 0 and an old browser ([IE8, Firefox 20, Chrome 22 and older][1])</span></a></code></pre></div>
<p>
unary plus if your string is already in the form of an integer:
</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb651-1" title="1"><span class="kw">var</span> x <span class="op">=</span> <span class="op">+</span><span class="st">&quot;1000&quot;</span><span class="op">;</span></a></code></pre></div>
<p>if your string is or might be a float and you want an integer:</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb652-1" title="1"><span class="kw">var</span> x <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="st">&quot;1000.01&quot;</span>)<span class="op">;</span> <span class="co">//floor automatically converts string to number</span></a></code></pre></div>
<p>or, if you’re going to be using Math.floor several times:</p>
<div class="sourceCode" id="cb653"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb653-1" title="1"><span class="kw">var</span> floor <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span><span class="op">;</span></a>
<a class="sourceLine" id="cb653-2" title="2"><span class="kw">var</span> x <span class="op">=</span> <span class="at">floor</span>(<span class="st">&quot;1000.01&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>If you’re the type who forgets to put the radix in when you call parseInt, you can use parseFloat and round it however you like. Here I use floor.</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb654-1" title="1"><span class="kw">var</span> floor <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span><span class="op">;</span></a>
<a class="sourceLine" id="cb654-2" title="2"><span class="kw">var</span> x <span class="op">=</span> <span class="at">floor</span>(<span class="at">parseFloat</span>(<span class="st">&quot;1000.01&quot;</span>))<span class="op">;</span></a></code></pre></div>
<p>Interestingly, Math.round (like Math.floor) will do a string to number conversion, so if you want the number rounded (or if you have an integer in the string), this is a great way, maybe my favorite:</p>
<div class="sourceCode" id="cb655"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb655-1" title="1"><span class="kw">var</span> round <span class="op">=</span> <span class="va">Math</span>.<span class="at">round</span><span class="op">;</span></a>
<a class="sourceLine" id="cb655-2" title="2"><span class="kw">var</span> x <span class="op">=</span> <span class="at">round</span>(<span class="st">&quot;1000&quot;</span>)<span class="op">;</span> <span class="co">//equivalent to round(&quot;1000&quot;,0)</span></a></code></pre></div>
</section>
<section id="answer-2-score-214" class="level4">
<h4>Answer 2 (score 214)</h4>
<p>Try parseInt function:</p>
<div class="sourceCode" id="cb656"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb656-1" title="1"><span class="kw">var</span> number <span class="op">=</span> <span class="at">parseInt</span>(<span class="st">&quot;10&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>But there is a problem. If you try to convert “010” using parseInt function, it detects as octal number, and will return number 8. So, you need to specify a radix (from 2 to 36). In this case base 10.</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb657-1" title="1"><span class="at">parseInt</span>(string<span class="op">,</span> radix)</a></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb658"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb658-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="at">parseInt</span>(<span class="st">&quot;010&quot;</span><span class="op">,</span> <span class="dv">10</span>) <span class="op">==</span> <span class="dv">10</span><span class="op">;</span> <span class="co">// Returns true</span></a>
<a class="sourceLine" id="cb658-2" title="2"></a>
<a class="sourceLine" id="cb658-3" title="3"><span class="kw">var</span> result <span class="op">=</span> <span class="at">parseInt</span>(<span class="st">&quot;010&quot;</span>) <span class="op">==</span> <span class="dv">10</span><span class="op">;</span> <span class="co">// Returns false</span></a></code></pre></div>
<p>
Note that <code>parseInt</code> ignores bad data after parsing anything valid.<br> This guid will parse as 51:
</p>
<div class="sourceCode" id="cb659"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb659-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="at">parseInt</span>(<span class="st">&#39;51e3daf6-b521-446a-9f5b-a1bb4d8bac36&#39;</span><span class="op">,</span> <span class="dv">10</span>) <span class="op">==</span> <span class="dv">51</span><span class="op">;</span> <span class="co">// Returns true</span></a></code></pre></div>
</section>
<section id="answer-3-score-120" class="level4">
<h4>Answer 3 (score 120)</h4>
<p>There are two main ways to convert a string to a number in javascript. One way is to parse it and the other way is to change its type to a Number. All of the tricks in the other answers (e.g. unary plus) involve implicitly coercing the type of the string to a number. You can also do the same thing explicitly with the Number function.</p>
<p><strong>Parsing</strong></p>
<div class="sourceCode" id="cb660"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb660-1" title="1"><span class="kw">var</span> parsed <span class="op">=</span> <span class="at">parseInt</span>(<span class="st">&quot;97&quot;</span><span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span></a></code></pre></div>
<p>parseInt and parseFloat are the two functions used for parsing strings to numbers. Parsing will stop silently if it hits a character it doesn’t recognise, which can be useful for parsing strings like “92px”, but it’s also somewhat dangerous, since it won’t give you any kind of error on bad input, instead you’ll get back NaN unless the string starts with a number. Whitespace at the beginning of the string is ignored. Here’s an example of it doing something different to what you want, and giving no indication that anything went wrong:</p>
<div class="sourceCode" id="cb661"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb661-1" title="1"><span class="kw">var</span> widgetsSold <span class="op">=</span> <span class="at">parseInt</span>(<span class="st">&quot;97,800&quot;</span><span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span> <span class="co">// widgetsSold is now 97</span></a></code></pre></div>
<p>It’s good practice to always specify the radix as the second argument. In older browsers, if the string started with a 0, it would be interpreted as octal if the radix wasn’t specified which took a lot of people by surprise. The behaviour for hexadecimal is triggered by having the string start with 0x if no radix is specified, e.g. <code>0xff</code>. The standard actually changed with ecmascript 5, so modern browsers no longer trigger octal when there’s a leading 0 if no radix has been specified. parseInt understands radixes up to base 36, in which case both upper and lower case letters are treated as equivalent.</p>
<p><strong>Changing the Type of a String to a Number</strong></p>
<p>All of the other tricks mentioned above that don’t use parseInt, involve implicitly coercing the string into a number. I prefer to do this explicitly,</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb662-1" title="1"><span class="kw">var</span> cast <span class="op">=</span> <span class="at">Number</span>(<span class="st">&quot;97&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>This has different behavior to the parse methods (although it still ignores whitespace). It’s more strict: if it doesn’t understand the whole of the string than it returns <code>NaN</code>, so you can’t use it for strings like <code>97px</code>. Since you want a primitive number rather than a Number wrapper object, make sure you don’t put <code>new</code> in front of the Number function.</p>
<p>Obviously, converting to a Number gives you a value that might be a float rather than an integer, so if you want an integer, you need to modify it. There are a few ways of doing this:</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb663-1" title="1"><span class="kw">var</span> rounded <span class="op">=</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="at">Number</span>(<span class="st">&quot;97.654&quot;</span>))<span class="op">;</span>  <span class="co">// other options are Math.ceil, Math.round</span></a>
<a class="sourceLine" id="cb663-2" title="2"><span class="kw">var</span> fixed <span class="op">=</span> <span class="at">Number</span>(<span class="st">&quot;97.654&quot;</span>).<span class="at">toFixed</span>(<span class="dv">0</span>)<span class="op">;</span> <span class="co">// rounded rather than truncated</span></a>
<a class="sourceLine" id="cb663-3" title="3"><span class="kw">var</span> bitwised <span class="op">=</span> <span class="at">Number</span>(<span class="st">&quot;97.654&quot;</span>)<span class="op">|</span><span class="dv">0</span><span class="op">;</span>  <span class="co">// do not use for large numbers</span></a></code></pre></div>
<p>Any bitwise operator (here I’ve done a bitwise or, but you could also do double negation as in an earlier answer or a bitshift) will convert the value to a 32bit integer, and most of them will convert to a signed integer. Note that this <strong>will not do want you want for large integers</strong>. If the integer cannot be represented in 32bits, it will wrap.</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb664-1" title="1"><span class="op">~~</span><span class="st">&quot;3000000000.654&quot;</span> <span class="op">===</span> <span class="dv">-1294967296</span></a>
<a class="sourceLine" id="cb664-2" title="2"><span class="co">// This is the same as</span></a>
<a class="sourceLine" id="cb664-3" title="3"><span class="at">Number</span>(<span class="st">&quot;3000000000.654&quot;</span>)<span class="op">|</span><span class="dv">0</span></a>
<a class="sourceLine" id="cb664-4" title="4"><span class="st">&quot;3000000000.654&quot;</span> <span class="op">&amp;</span>gt<span class="op">;&amp;</span>gt<span class="op">;&amp;</span>gt<span class="op">;</span> <span class="dv">0</span> <span class="op">===</span> <span class="dv">3000000000</span> <span class="co">// unsigned right shift gives you an extra bit</span></a>
<a class="sourceLine" id="cb664-5" title="5"><span class="st">&quot;300000000000.654&quot;</span> <span class="op">&amp;</span>gt<span class="op">;&amp;</span>gt<span class="op">;&amp;</span>gt<span class="op">;</span> <span class="dv">0</span> <span class="op">===</span> <span class="dv">3647256576</span> <span class="co">// but still fails with larger numbers</span></a></code></pre></div>
<p>To work correctly with larger numbers, you should use the rounding methods</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb665-1" title="1"><span class="va">Math</span>.<span class="at">floor</span>(<span class="st">&quot;3000000000.654&quot;</span>) <span class="op">===</span> <span class="dv">3000000000</span></a>
<a class="sourceLine" id="cb665-2" title="2"><span class="co">// This is the same as</span></a>
<a class="sourceLine" id="cb665-3" title="3"><span class="va">Math</span>.<span class="at">floor</span>(<span class="at">Number</span>(<span class="st">&quot;3000000000.654&quot;</span>))</a></code></pre></div>
<p>Bear in mind that all of these methods understand exponential notation, so <code>2e2</code> is <code>200</code> rather than NaN. Also, Number understands “Infinity”, while the parse methods don’t.</p>
<p><strong>Custom</strong></p>
<p>It’s unlikely that either of these methods do exactly what you want. For example, usually I would want an error thrown if parsing fails, and I don’t need support for Infinity, exponentials or leading whitespace. Depending on your usecase, sometimes it makes sense to write a custom conversion function.</p>
<p>Always check that the output of Number or one of the parse methods is the sort of number you expect. You will almost certainly want to use <code>isNaN</code> to make sure the number is not NaN (usually the only way you find out that the parse failed).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="generate-random-number-between-two-numbers-in-javascript-score-1293869-in-2016" class="level3">
<h3>91: Generate random number between two numbers in JavaScript (score <a href="https://stackoverflow.com/q/4959975.html">1293869</a> in 2016)</h3>
<section id="question-90" class="level4">
<h4>Question</h4>
<p>Is there a way to generate a random number in a specified range (e.g. from 1 to 6: 1, 2, 3, 4, 5, or 6) in JavaScript?</p>
</section>
<section id="answer-accepted-score-1949" class="level4">
<h4>Answer accepted (score 1949)</h4>
<h5>
Important
</h3>
<p>The following code works only if the minimum value is <code>1</code>. It does not work for minimum values other than <code>1</code>.</p>
<p>If you wanted to get a random integer between 1 (<strong>and only 1</strong>) and 6, you would calculate:</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb666-1" title="1"><span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="dv">6</span>) <span class="op">+</span> <span class="dv">1</span>  </a></code></pre></div>
<p>Where:</p>
<ul>
<li>
1 is the start number
</li>
<li>
6 is the number of possible results (1 + start <em>(6)</em> - end <em>(1)</em>)
</li>
</ul>
</section>
<section id="answer-2-score-2050" class="level4">
<h4>Answer 2 (score 2050)</h4>
<div class="sourceCode" id="cb667"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb667-1" title="1"><span class="kw">function</span> <span class="at">randomIntFromInterval</span>(min<span class="op">,</span> max) <span class="op">{</span> <span class="co">// min and max included </span></a>
<a class="sourceLine" id="cb667-2" title="2">  <span class="cf">return</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> (max <span class="op">-</span> min <span class="op">+</span> <span class="dv">1</span>) <span class="op">+</span> min)<span class="op">;</span></a>
<a class="sourceLine" id="cb667-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>
What it does “extra” is it allows random intervals that do not start with 1. So you can get a random number from 10 to 15 for example. Flexibility.
</p>
</section>
<section id="answer-3-score-260" class="level4">
<h4>Answer 3 (score 260)</h4>
<h5>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" rel="noreferrer">Math.random()</a>
</h1>
<p>From the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random" rel="noreferrer">Mozilla</a> Developer Network documentation:</p>
<div class="sourceCode" id="cb668"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb668-1" title="1"><span class="co">// Returns a random integer between min (include) and max (include)</span></a>
<a class="sourceLine" id="cb668-2" title="2"></a>
<a class="sourceLine" id="cb668-3" title="3"><span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> (max <span class="op">-</span> min <span class="op">+</span> <span class="dv">1</span>)) <span class="op">+</span> min<span class="op">;</span></a></code></pre></div>
<p>Useful examples:</p>
<div class="sourceCode" id="cb669"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb669-1" title="1"><span class="co">// 0 -&amp;gt; 10</span></a>
<a class="sourceLine" id="cb669-2" title="2"><span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="dv">11</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb669-3" title="3"></a>
<a class="sourceLine" id="cb669-4" title="4"><span class="co">// 1 -&amp;gt; 10</span></a>
<a class="sourceLine" id="cb669-5" title="5"><span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="dv">10</span>) <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb669-6" title="6"></a>
<a class="sourceLine" id="cb669-7" title="7"><span class="co">// 5 -&amp;gt; 20</span></a>
<a class="sourceLine" id="cb669-8" title="8"><span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="dv">16</span>) <span class="op">+</span> <span class="dv">5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb669-9" title="9"></a>
<a class="sourceLine" id="cb669-10" title="10"><span class="co">// -10 -&amp;gt; (-2)</span></a>
<a class="sourceLine" id="cb669-11" title="11"><span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="dv">9</span>) <span class="op">-</span> <span class="dv">10</span><span class="op">;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-upload-files-asynchronously-score-1286681-in-2019" class="level3">
<h3>92: How can I upload files asynchronously? (score <a href="https://stackoverflow.com/q/166221.html">1286681</a> in 2019)</h3>
<section id="question-91" class="level4">
<h4>Question</h4>
<p>I would like to upload a file asynchronously with jQuery. This is my HTML:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb670-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>span<span class="op">&amp;</span>gt<span class="op">;</span>File<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/span&amp;gt;</span></a>
<a class="sourceLine" id="cb670-2" title="2"><span class="ss">&amp;lt;input type=&quot;file&quot; id=&quot;file&quot; name=&quot;file&quot; size=&quot;10&quot;/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb670-3" title="3"><span class="op">&amp;</span>lt<span class="op">;</span>input id<span class="op">=</span><span class="st">&quot;uploadbutton&quot;</span> type<span class="op">=</span><span class="st">&quot;button&quot;</span> value<span class="op">=</span><span class="st">&quot;Upload&quot;</span><span class="ss">/&amp;gt;</span></a></code></pre></div>
<p>And here my <code>Jquery</code> code:</p>
<div class="sourceCode" id="cb671"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb671-1" title="1"><span class="at">$</span>(document).<span class="at">ready</span>(<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb671-2" title="2">    <span class="at">$</span>(<span class="st">&quot;#uploadbutton&quot;</span>).<span class="at">click</span>(<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb671-3" title="3">        <span class="kw">var</span> filename <span class="op">=</span> <span class="at">$</span>(<span class="st">&quot;#file&quot;</span>).<span class="at">val</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb671-4" title="4"></a>
<a class="sourceLine" id="cb671-5" title="5">        <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb671-6" title="6">            <span class="dt">type</span><span class="op">:</span> <span class="st">&quot;POST&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb671-7" title="7">            <span class="dt">url</span><span class="op">:</span> <span class="st">&quot;addFile.do&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb671-8" title="8">            <span class="dt">enctype</span><span class="op">:</span> <span class="st">&#39;multipart/form-data&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb671-9" title="9">            <span class="dt">data</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb671-10" title="10">                <span class="dt">file</span><span class="op">:</span> filename</a>
<a class="sourceLine" id="cb671-11" title="11">            <span class="op">},</span></a>
<a class="sourceLine" id="cb671-12" title="12">            <span class="dt">success</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb671-13" title="13">                <span class="at">alert</span>(<span class="st">&quot;Data Uploaded: &quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb671-14" title="14">            <span class="op">}</span></a>
<a class="sourceLine" id="cb671-15" title="15">        <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb671-16" title="16">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb671-17" title="17"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Instead of the file being uploaded, I am only getting the filename. What can I do to fix this problem?</p>
<h5>
Current Solution
</h3>
<p>I am using the <a href="http://malsup.com/jquery/form/#code-samples" rel="noreferrer">jQuery Form Plugin</a> to upload files.</p>
</section>
<section id="answer-2-score-2474" class="level4">
<h4>Answer 2 (score 2474)</h4>
<p>With <a href="http://en.wikipedia.org/wiki/HTML5" rel="noreferrer">HTML5</a> you can make file uploads with Ajax and jQuery. Not only that, you can do file validations (name, size, and MIME type) or handle the progress event with the HTML5 progress tag (or a div). Recently I had to make a file uploader, but I didn’t want to use <a href="http://en.wikipedia.org/wiki/Adobe_Flash" rel="noreferrer">Flash</a> nor Iframes or plugins and after some research I came up with the solution.</p>
<p>The HTML:</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb672-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>form enctype<span class="op">=</span><span class="st">&quot;multipart/form-data&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb672-2" title="2">    <span class="op">&amp;</span>lt<span class="op">;</span>input name<span class="op">=</span><span class="st">&quot;file&quot;</span> type<span class="op">=</span><span class="st">&quot;file&quot;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb672-3" title="3"><span class="ss">    &amp;lt;input type=&quot;button&quot; value=&quot;Upload&quot; /</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb672-4" title="4"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/form&amp;gt;</span></a>
<a class="sourceLine" id="cb672-5" title="5"><span class="ss">&amp;lt;progress&amp;gt;&amp;lt;/progress</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>First, you can do some validation if you want. For example, in the <code>.on('change')</code> event of the file:</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb673-1" title="1"><span class="at">$</span>(<span class="st">&#39;:file&#39;</span>).<span class="at">on</span>(<span class="st">&#39;change&#39;</span><span class="op">,</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb673-2" title="2">  <span class="kw">var</span> file <span class="op">=</span> <span class="kw">this</span>.<span class="at">files</span>[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb673-3" title="3"></a>
<a class="sourceLine" id="cb673-4" title="4">  <span class="cf">if</span> (<span class="va">file</span>.<span class="at">size</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">1024</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb673-5" title="5">    <span class="at">alert</span>(<span class="st">&#39;max upload size is 1k&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb673-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb673-7" title="7"></a>
<a class="sourceLine" id="cb673-8" title="8">  <span class="co">// Also see .name, .type</span></a>
<a class="sourceLine" id="cb673-9" title="9"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Now the <code>$.ajax()</code> submit with the button’s click:</p>
<div class="sourceCode" id="cb674"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb674-1" title="1"><span class="at">$</span>(<span class="st">&#39;:button&#39;</span>).<span class="at">on</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb674-2" title="2">  <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb674-3" title="3">    <span class="co">// Your server script to process the upload</span></a>
<a class="sourceLine" id="cb674-4" title="4">    <span class="dt">url</span><span class="op">:</span> <span class="st">&#39;upload.php&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb674-5" title="5">    <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;POST&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb674-6" title="6"></a>
<a class="sourceLine" id="cb674-7" title="7">    <span class="co">// Form data</span></a>
<a class="sourceLine" id="cb674-8" title="8">    <span class="dt">data</span><span class="op">:</span> <span class="kw">new</span> <span class="at">FormData</span>(<span class="at">$</span>(<span class="st">&#39;form&#39;</span>)[<span class="dv">0</span>])<span class="op">,</span></a>
<a class="sourceLine" id="cb674-9" title="9"></a>
<a class="sourceLine" id="cb674-10" title="10">    <span class="co">// Tell jQuery not to process data or worry about content-type</span></a>
<a class="sourceLine" id="cb674-11" title="11">    <span class="co">// You *must* include these options!</span></a>
<a class="sourceLine" id="cb674-12" title="12">    <span class="dt">cache</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb674-13" title="13">    <span class="dt">contentType</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb674-14" title="14">    <span class="dt">processData</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb674-15" title="15"></a>
<a class="sourceLine" id="cb674-16" title="16">    <span class="co">// Custom XMLHttpRequest</span></a>
<a class="sourceLine" id="cb674-17" title="17">    <span class="dt">xhr</span><span class="op">:</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb674-18" title="18">      <span class="kw">var</span> myXhr <span class="op">=</span> <span class="va">$</span>.<span class="va">ajaxSettings</span>.<span class="at">xhr</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb674-19" title="19">      <span class="cf">if</span> (<span class="va">myXhr</span>.<span class="at">upload</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb674-20" title="20">        <span class="co">// For handling the progress of the upload</span></a>
<a class="sourceLine" id="cb674-21" title="21">        <span class="va">myXhr</span>.<span class="va">upload</span>.<span class="at">addEventListener</span>(<span class="st">&#39;progress&#39;</span><span class="op">,</span> <span class="kw">function</span> (e) <span class="op">{</span></a>
<a class="sourceLine" id="cb674-22" title="22">          <span class="cf">if</span> (<span class="va">e</span>.<span class="at">lengthComputable</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb674-23" title="23">            <span class="at">$</span>(<span class="st">&#39;progress&#39;</span>).<span class="at">attr</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb674-24" title="24">              <span class="dt">value</span><span class="op">:</span> <span class="va">e</span>.<span class="at">loaded</span><span class="op">,</span></a>
<a class="sourceLine" id="cb674-25" title="25">              <span class="dt">max</span><span class="op">:</span> <span class="va">e</span>.<span class="at">total</span><span class="op">,</span></a>
<a class="sourceLine" id="cb674-26" title="26">            <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb674-27" title="27">          <span class="op">}</span></a>
<a class="sourceLine" id="cb674-28" title="28">        <span class="op">},</span> <span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb674-29" title="29">      <span class="op">}</span></a>
<a class="sourceLine" id="cb674-30" title="30">      <span class="cf">return</span> myXhr<span class="op">;</span></a>
<a class="sourceLine" id="cb674-31" title="31">    <span class="op">}</span></a>
<a class="sourceLine" id="cb674-32" title="32">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb674-33" title="33"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>As you can see, with HTML5 (and some research) file uploading not only becomes possible but super easy. Try it with <a href="http://en.wikipedia.org/wiki/Google_Chrome" rel="noreferrer">Google Chrome</a> as some of the HTML5 components of the examples aren’t available in every browser.</p>
</section>
<section id="answer-3-score-263" class="level4">
<h4>Answer 3 (score 263)</h4>
<h5>
2019 Update: It <em>still</em> depends on the browsers <em>your</em> demographic uses.
</h2>
<p>An important thing to understand with the “new” HTML5 <code>file</code> API is that it <a href="http://caniuse.com/fileapi" rel="nofollow noreferrer">wasn’t supported until IE 10</a>. If the specific market you’re aiming at has a higher-than-average propensity toward older versions of Windows, you might not have access to it.</p>
<p>As of 2017, about 5% of browsers are one of IE 6, 7, 8 or 9. If you head into a big corporation (e.g., this is a B2B tool, or something you’re delivering for training) that number can skyrocket. In 2016, I dealt with a company using IE8 on over 60% of their machines.</p>
<p>It’s 2019 as of this edit, almost 11 years after my initial answer. IE9 and lower are <em>globally</em> around the 1% mark but there are still clusters of higher usage.</p>
<p>The important take-away from this —whatever the feature— is, <strong>check what browser <em>your</em> users use</strong>. If you don’t, you’ll learn a quick and painful lesson in why “works for me” isn’t good enough in a deliverable to a client. <a href="https://caniuse.com/" rel="nofollow noreferrer">caniuse</a> is a useful tool but note where they get their demographics from. They may not align with yours. This is never truer than enterprise environments.</p>
<p>My answer from 2008 follows.</p>
<hr>
<p>However, there are viable non-JS methods of file uploads. You can create an iframe on the page (that you hide with CSS) and then target your form to post to that iframe. The main page doesn’t need to move.</p>
<p>It’s a “real” post so it’s not wholly interactive. If you need status you need something server-side to process that. This varies massively depending on your server. <a href="http://en.wikipedia.org/wiki/ASP.NET" rel="nofollow noreferrer">ASP.NET</a> has nicer mechanisms. PHP plain fails, but you can use <a href="http://en.wikipedia.org/wiki/Perl" rel="nofollow noreferrer">Perl</a> or Apache modifications to get around it.</p>
<p>If you need multiple file-uploads, it’s best to do each file one at a time (to overcome maximum file upload limits). Post the first form to the iframe, monitor its progress using the above and when it has finished, post the second form to the iframe, and so on.</p>
<p>Or use a Java/Flash solution. They’re a lot more flexible in what they can do with their posts…</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-object-by-id-in-an-array-of-javascript-objects-score-1282573-in-2016" class="level3">
<h3>93: Find object by id in an array of JavaScript objects (score <a href="https://stackoverflow.com/q/7364150.html">1282573</a> in 2016)</h3>
<section id="question-92" class="level4">
<h4>Question</h4>
<p>I’ve got an array:</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb675-1" title="1">myArray <span class="op">=</span> [<span class="op">{</span><span class="st">&#39;id&#39;</span><span class="op">:</span><span class="st">&#39;73&#39;</span><span class="op">,</span><span class="st">&#39;foo&#39;</span><span class="op">:</span><span class="st">&#39;bar&#39;</span><span class="op">},{</span><span class="st">&#39;id&#39;</span><span class="op">:</span><span class="st">&#39;45&#39;</span><span class="op">,</span><span class="st">&#39;foo&#39;</span><span class="op">:</span><span class="st">&#39;bar&#39;</span><span class="op">},</span> <span class="va">etc</span>.]</a></code></pre></div>
<p>I’m unable to change the structure of the array. I’m being passed an id of <code>45</code>, and I want to get <code>'bar'</code> for that object in the array.</p>
<p>How do I do this in JavaScript or using jQuery?</p>
</section>
<section id="answer-accepted-score-916" class="level4">
<h4>Answer accepted (score 916)</h4>
<p>Use the <code>find()</code> method:</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb676-1" title="1"><span class="va">myArray</span>.<span class="at">find</span>(x <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">x</span>.<span class="at">id</span> <span class="op">===</span> <span class="st">&#39;45&#39;</span>).<span class="at">foo</span><span class="op">;</span></a></code></pre></div>
<p>From <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find" rel="noreferrer">MDN</a>:</p>
<blockquote>
The <code>find()</code> method returns the first value in the array, if an element in the array satisfies the provided testing function. Otherwise <code>undefined</code> is returned.
</blockquote>
<hr>
<p>If you want to find its <em>index</em> instead, use <code>findIndex()</code>:</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb677-1" title="1"><span class="va">myArray</span>.<span class="at">findIndex</span>(x <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">x</span>.<span class="at">id</span> <span class="op">===</span> <span class="st">&#39;45&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>From <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex" rel="noreferrer">MDN</a>:</p>
<blockquote>
The <code>findIndex()</code> method returns the index of the first element in the array that satisfies the provided testing function. Otherwise -1 is returned.
</blockquote>
<hr>
<p>If you want to get an array of matching elements, use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="noreferrer"><code>filter()</code></a> method instead:</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb678-1" title="1"><span class="va">myArray</span>.<span class="at">filter</span>(x <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">x</span>.<span class="at">id</span> <span class="op">===</span> <span class="st">&#39;45&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>This will return an array of objects. If you want to get an array of <code>foo</code> properties, you can do this with the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" rel="noreferrer"><code>map()</code></a> method:</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb679-1" title="1"><span class="va">myArray</span>.<span class="at">filter</span>(x <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">x</span>.<span class="at">id</span> <span class="op">===</span> <span class="st">&#39;45&#39;</span>).<span class="at">map</span>(x <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">x</span>.<span class="at">foo</span>)<span class="op">;</span></a></code></pre></div>
<hr>
<p>Side note: methods like <code>find()</code> or <code>filter()</code>, and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" rel="noreferrer">arrow functions</a> are not supported by older browsers (like IE), so if you want to support these browsers, you should transpile your code using <a href="https://babeljs.io/" rel="noreferrer">Babel</a> (with the <a href="https://babeljs.io/docs/usage/polyfill/" rel="noreferrer">polyfill</a>).</p>
</section>
<section id="answer-2-score-1446" class="level4">
<h4>Answer 2 (score 1446)</h4>
<p>As you are already using jQuery, you can use the <a href="http://api.jquery.com/jQuery.grep/" rel="noreferrer">grep</a> function which is intended for searching an array:</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb680-1" title="1"><span class="kw">var</span> result <span class="op">=</span> <span class="va">$</span>.<span class="at">grep</span>(myArray<span class="op">,</span> <span class="kw">function</span>(e)<span class="op">{</span> <span class="cf">return</span> <span class="va">e</span>.<span class="at">id</span> <span class="op">==</span> id<span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>The result is an array with the items found. If you know that the object is always there and that it only occurs once, you can just use <code>result[0].foo</code> to get the value. Otherwise you should check the length of the resulting array. Example:</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb681-1" title="1"><span class="cf">if</span> (<span class="va">result</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb681-2" title="2">  <span class="co">// no result found</span></a>
<a class="sourceLine" id="cb681-3" title="3"><span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="va">result</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb681-4" title="4">  <span class="co">// property found, access the foo property using result[0].foo</span></a>
<a class="sourceLine" id="cb681-5" title="5"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb681-6" title="6">  <span class="co">// multiple items found</span></a>
<a class="sourceLine" id="cb681-7" title="7"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-353-1" class="level4">
<h4>Answer 3 (score 353)</h4>
<p>Another solution is to create a lookup object:</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb682-1" title="1"><span class="kw">var</span> lookup <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb682-2" title="2"><span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> len <span class="op">=</span> <span class="va">array</span>.<span class="at">length</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> len<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb682-3" title="3">    lookup[array[i].<span class="at">id</span>] <span class="op">=</span> array[i]<span class="op">;</span></a>
<a class="sourceLine" id="cb682-4" title="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb682-5" title="5"></a>
<a class="sourceLine" id="cb682-6" title="6">... <span class="at">now</span> you can use lookup[id]...</a></code></pre></div>
<p>This is especially interesting if you need to do many lookups.</p>
<p>This won’t need much more memory since the IDs and objects will be shared.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-duplicate-values-from-js-array-score-1269025-in-2018" class="level3">
<h3>94: Remove duplicate values from JS array (score <a href="https://stackoverflow.com/q/9229645.html">1269025</a> in 2018)</h3>
<section id="question-93" class="level4">
<h4>Question</h4>
<p>I have a very simple JavaScript array that may or may not contain duplicates.</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb683-1" title="1"><span class="kw">var</span> names <span class="op">=</span> [<span class="st">&quot;Mike&quot;</span><span class="op">,</span><span class="st">&quot;Matt&quot;</span><span class="op">,</span><span class="st">&quot;Nancy&quot;</span><span class="op">,</span><span class="st">&quot;Adam&quot;</span><span class="op">,</span><span class="st">&quot;Jenny&quot;</span><span class="op">,</span><span class="st">&quot;Nancy&quot;</span><span class="op">,</span><span class="st">&quot;Carl&quot;</span>]<span class="op">;</span></a></code></pre></div>
<p>I need to remove the duplicates and put the unique values in a new array.</p>
<p>I could point to all the codes that I’ve tried but I think it’s useless because they don’t work. I accept jQuery solutions too.</p>
<h5>
Similar question:
</h3>
<ul>
<li>
<a href="https://stackoverflow.com/questions/840781">Get all non-unique values (i.e.: duplicate/more than one occurrence) in an array</a>
</li>
</ul>
</section>
<section id="answer-accepted-score-427" class="level4">
<h4>Answer accepted (score 427)</h4>
<p>Quick and dirty using jQuery:</p>
<div class="sourceCode" id="cb684"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb684-1" title="1"><span class="kw">var</span> names <span class="op">=</span> [<span class="st">&quot;Mike&quot;</span><span class="op">,</span><span class="st">&quot;Matt&quot;</span><span class="op">,</span><span class="st">&quot;Nancy&quot;</span><span class="op">,</span><span class="st">&quot;Adam&quot;</span><span class="op">,</span><span class="st">&quot;Jenny&quot;</span><span class="op">,</span><span class="st">&quot;Nancy&quot;</span><span class="op">,</span><span class="st">&quot;Carl&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb684-2" title="2"><span class="kw">var</span> uniqueNames <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb684-3" title="3"><span class="va">$</span>.<span class="at">each</span>(names<span class="op">,</span> <span class="kw">function</span>(i<span class="op">,</span> el)<span class="op">{</span></a>
<a class="sourceLine" id="cb684-4" title="4">    <span class="cf">if</span>(<span class="va">$</span>.<span class="at">inArray</span>(el<span class="op">,</span> uniqueNames) <span class="op">===</span> <span class="dv">-1</span>) <span class="va">uniqueNames</span>.<span class="at">push</span>(el)<span class="op">;</span></a>
<a class="sourceLine" id="cb684-5" title="5"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-2-score-3116" class="level4">
<h4>Answer 2 (score 3116)</h4>
<h5>
TL;DR
</h2>
<p>Using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noreferrer">Set</a> constructor and the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" rel="noreferrer">spread syntax</a>:</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb685-1" title="1">uniq <span class="op">=</span> [...<span class="at">new</span> <span class="at">Set</span>(array)]<span class="op">;</span></a></code></pre></div>
<hr>
<h5>
“Smart” but naïve way
</h2>
<div class="sourceCode" id="cb686"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb686-1" title="1">uniqueArray <span class="op">=</span> <span class="va">a</span>.<span class="at">filter</span>(<span class="kw">function</span>(item<span class="op">,</span> pos) <span class="op">{</span></a>
<a class="sourceLine" id="cb686-2" title="2">    <span class="cf">return</span> <span class="va">a</span>.<span class="at">indexOf</span>(item) <span class="op">==</span> pos<span class="op">;</span></a>
<a class="sourceLine" id="cb686-3" title="3"><span class="op">}</span>)</a></code></pre></div>
<p>Basically, we iterate over the array and, for each element, check if the first position of this element in the array is equal to the current position. Obviously, these two positions are different for duplicate elements.</p>
<p>Using the 3rd (“this array”) parameter of the filter callback we can avoid a closure of the array variable:</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb687-1" title="1">uniqueArray <span class="op">=</span> <span class="va">a</span>.<span class="at">filter</span>(<span class="kw">function</span>(item<span class="op">,</span> pos<span class="op">,</span> self) <span class="op">{</span></a>
<a class="sourceLine" id="cb687-2" title="2">    <span class="cf">return</span> <span class="va">self</span>.<span class="at">indexOf</span>(item) <span class="op">==</span> pos<span class="op">;</span></a>
<a class="sourceLine" id="cb687-3" title="3"><span class="op">}</span>)</a></code></pre></div>
<p>Although concise, this algorithm is not particularly efficient for large arrays (quadratic time).</p>
<h5>
Hashtables to the rescue
</h2>
<div class="sourceCode" id="cb688"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb688-1" title="1"><span class="kw">function</span> <span class="at">uniq</span>(a) <span class="op">{</span></a>
<a class="sourceLine" id="cb688-2" title="2">    <span class="kw">var</span> seen <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb688-3" title="3">    <span class="cf">return</span> <span class="va">a</span>.<span class="at">filter</span>(<span class="kw">function</span>(item) <span class="op">{</span></a>
<a class="sourceLine" id="cb688-4" title="4">        <span class="cf">return</span> <span class="va">seen</span>.<span class="at">hasOwnProperty</span>(item) <span class="op">?</span> <span class="kw">false</span> : (seen[item] <span class="op">=</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb688-5" title="5">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb688-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>This is how it’s usually done. The idea is to place each element in a hashtable and then check for its presence instantly. This gives us linear time, but has at least two drawbacks:</p>
<ul>
<li>
since hash keys can only be strings in JavaScript, this code doesn’t distinguish numbers and “numeric strings”. That is, <code>uniq([1,&quot;1&quot;])</code> will return just <code>[1]</code>
</li>
<li>
for the same reason, all objects will be considered equal: <code>uniq([{foo:1},{foo:2}])</code> will return just <code>[{foo:1}]</code>.
</li>
</ul>
<p>That said, if your arrays contain only primitives and you don’t care about types (e.g. it’s always numbers), this solution is optimal.</p>
<h5>
The best from two worlds
</h2>
<p>A universal solution combines both approaches: it uses hash lookups for primitives and linear search for objects.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb689-1" title="1"><span class="kw">function</span> <span class="at">uniq</span>(a) <span class="op">{</span></a>
<a class="sourceLine" id="cb689-2" title="2">    <span class="kw">var</span> prims <span class="op">=</span> <span class="op">{</span><span class="st">&quot;boolean&quot;</span><span class="op">:{},</span> <span class="st">&quot;number&quot;</span><span class="op">:{},</span> <span class="st">&quot;string&quot;</span><span class="op">:{}},</span> objs <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb689-3" title="3"></a>
<a class="sourceLine" id="cb689-4" title="4">    <span class="cf">return</span> <span class="va">a</span>.<span class="at">filter</span>(<span class="kw">function</span>(item) <span class="op">{</span></a>
<a class="sourceLine" id="cb689-5" title="5">        <span class="kw">var</span> type <span class="op">=</span> <span class="kw">typeof</span> item<span class="op">;</span></a>
<a class="sourceLine" id="cb689-6" title="6">        <span class="cf">if</span>(type <span class="kw">in</span> prims)</a>
<a class="sourceLine" id="cb689-7" title="7">            <span class="cf">return</span> prims[type].<span class="at">hasOwnProperty</span>(item) <span class="op">?</span> <span class="kw">false</span> : (prims[type][item] <span class="op">=</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb689-8" title="8">        <span class="cf">else</span></a>
<a class="sourceLine" id="cb689-9" title="9">            <span class="cf">return</span> <span class="va">objs</span>.<span class="at">indexOf</span>(item) <span class="op">&amp;</span>gt<span class="op">;=</span> <span class="dv">0</span> <span class="op">?</span> <span class="kw">false</span> : <span class="va">objs</span>.<span class="at">push</span>(item)<span class="op">;</span></a>
<a class="sourceLine" id="cb689-10" title="10">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb689-11" title="11"><span class="op">}</span></a></code></pre></div>
<h5>
sort | uniq
</h2>
<p>Another option is to sort the array first, and then remove each element equal to the preceding one:</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb690-1" title="1"><span class="kw">function</span> <span class="at">uniq</span>(a) <span class="op">{</span></a>
<a class="sourceLine" id="cb690-2" title="2">    <span class="cf">return</span> <span class="va">a</span>.<span class="at">sort</span>().<span class="at">filter</span>(<span class="kw">function</span>(item<span class="op">,</span> pos<span class="op">,</span> ary) <span class="op">{</span></a>
<a class="sourceLine" id="cb690-3" title="3">        <span class="cf">return</span> <span class="op">!</span>pos <span class="op">||</span> item <span class="op">!=</span> ary[pos <span class="op">-</span> <span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb690-4" title="4">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb690-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>Again, this doesn’t work with objects (because all objects are equal for <code>sort</code>). Additionally, we silently change the original array as a side effect - not good! However, if your input is already sorted, this is the way to go (just remove <code>sort</code> from the above).</p>
<h5>
Unique by…
</h2>
<p>Sometimes it’s desired to uniquify a list based on some criteria other than just equality, for example, to filter out objects that are different, but share some property. This can be done elegantly by passing a callback. This “key” callback is applied to each element, and elements with equal “keys” are removed. Since <code>key</code> is expected to return a primitive, hash table will work fine here:</p>
<div class="sourceCode" id="cb691"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb691-1" title="1"><span class="kw">function</span> <span class="at">uniqBy</span>(a<span class="op">,</span> key) <span class="op">{</span></a>
<a class="sourceLine" id="cb691-2" title="2">    <span class="kw">var</span> seen <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb691-3" title="3">    <span class="cf">return</span> <span class="va">a</span>.<span class="at">filter</span>(<span class="kw">function</span>(item) <span class="op">{</span></a>
<a class="sourceLine" id="cb691-4" title="4">        <span class="kw">var</span> k <span class="op">=</span> <span class="at">key</span>(item)<span class="op">;</span></a>
<a class="sourceLine" id="cb691-5" title="5">        <span class="cf">return</span> <span class="va">seen</span>.<span class="at">hasOwnProperty</span>(k) <span class="op">?</span> <span class="kw">false</span> : (seen[k] <span class="op">=</span> <span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb691-6" title="6">    <span class="op">}</span>)</a>
<a class="sourceLine" id="cb691-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>A particularly useful <code>key()</code> is <code>JSON.stringify</code> which will remove objects that are physically different, but “look” the same:</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb692-1" title="1">a <span class="op">=</span> [[<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span>]<span class="op">,</span> [<span class="dv">4</span><span class="op">,</span><span class="dv">5</span><span class="op">,</span><span class="dv">6</span>]<span class="op">,</span> [<span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span>]]</a>
<a class="sourceLine" id="cb692-2" title="2">b <span class="op">=</span> <span class="at">uniqBy</span>(a<span class="op">,</span> <span class="va">JSON</span>.<span class="at">stringify</span>)</a>
<a class="sourceLine" id="cb692-3" title="3"><span class="va">console</span>.<span class="at">log</span>(b) <span class="co">// [[1,2,3], [4,5,6]]</span></a></code></pre></div>
<p>If the <code>key</code> is not primitive, you have to resort to the linear search:</p>
<div class="sourceCode" id="cb693"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb693-1" title="1"><span class="kw">function</span> <span class="at">uniqBy</span>(a<span class="op">,</span> key) <span class="op">{</span></a>
<a class="sourceLine" id="cb693-2" title="2">    <span class="kw">var</span> index <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb693-3" title="3">    <span class="cf">return</span> <span class="va">a</span>.<span class="at">filter</span>(<span class="kw">function</span> (item) <span class="op">{</span></a>
<a class="sourceLine" id="cb693-4" title="4">        <span class="kw">var</span> k <span class="op">=</span> <span class="at">key</span>(item)<span class="op">;</span></a>
<a class="sourceLine" id="cb693-5" title="5">        <span class="cf">return</span> <span class="va">index</span>.<span class="at">indexOf</span>(k) <span class="op">&amp;</span>gt<span class="op">;=</span> <span class="dv">0</span> <span class="op">?</span> <span class="kw">false</span> : <span class="va">index</span>.<span class="at">push</span>(k)<span class="op">;</span></a>
<a class="sourceLine" id="cb693-6" title="6">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb693-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>In ES6 you can use a <code>Set</code>:</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb694-1" title="1"><span class="kw">function</span> <span class="at">uniqBy</span>(a<span class="op">,</span> key) <span class="op">{</span></a>
<a class="sourceLine" id="cb694-2" title="2">    <span class="kw">let</span> seen <span class="op">=</span> <span class="kw">new</span> <span class="at">Set</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb694-3" title="3">    <span class="cf">return</span> <span class="va">a</span>.<span class="at">filter</span>(item <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb694-4" title="4">        <span class="kw">let</span> k <span class="op">=</span> <span class="at">key</span>(item)<span class="op">;</span></a>
<a class="sourceLine" id="cb694-5" title="5">        <span class="cf">return</span> <span class="va">seen</span>.<span class="at">has</span>(k) <span class="op">?</span> <span class="kw">false</span> : <span class="va">seen</span>.<span class="at">add</span>(k)<span class="op">;</span></a>
<a class="sourceLine" id="cb694-6" title="6">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb694-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>or a <code>Map</code>:</p>
<div class="sourceCode" id="cb695"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb695-1" title="1"><span class="kw">function</span> <span class="at">uniqBy</span>(a<span class="op">,</span> key) <span class="op">{</span></a>
<a class="sourceLine" id="cb695-2" title="2">    <span class="cf">return</span> [</a>
<a class="sourceLine" id="cb695-3" title="3">        ...<span class="at">new</span> <span class="at">Map</span>(</a>
<a class="sourceLine" id="cb695-4" title="4">            <span class="va">a</span>.<span class="at">map</span>(x <span class="op">=&amp;</span>gt<span class="op">;</span> [<span class="at">key</span>(x)<span class="op">,</span> x])</a>
<a class="sourceLine" id="cb695-5" title="5">        ).<span class="at">values</span>()</a>
<a class="sourceLine" id="cb695-6" title="6">    ]</a>
<a class="sourceLine" id="cb695-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>which both also work with non-primitive keys.</p>
<h5>
First or last?
</h2>
<p>When removing objects by a key, you might to want to keep the first of “equal” objects or the last one.</p>
<p>Use the <code>Set</code> variant above to keep the first, and the <code>Map</code> to keep the last:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function uniqByKeepFirst(a, key) { let seen = new Set(); return a.filter(item =&gt; { let k = key(item); return seen.has(k) ? false : seen.add(k); }); }</p>
<p>function uniqByKeepLast(a, key) { return [ …new Map( a.map(x =&gt; [key(x), x]) ).values() ] }</p>
<p>//</p>
<p>data = [ {a:1, u:1}, {a:2, u:2}, {a:3, u:3}, {a:4, u:1}, {a:5, u:2}, {a:6, u:3},];</p>
<p>console.log(uniqByKeepFirst(data, it =&gt; it.u)) console.log(uniqByKeepLast(data, it =&gt; it.u))```</p>
</div>
</div>
<h5>
Libraries
</h2>
<p>Both <a href="http://underscorejs.org/#uniq" rel="noreferrer">underscore</a> and <a href="https://lodash.com/docs#uniq" rel="noreferrer">Lo-Dash</a> provide <code>uniq</code> methods. Their algorithms are basically similar to the first snippet above and boil down to this:</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb696-1" title="1"><span class="kw">var</span> result <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb696-2" title="2"><span class="va">a</span>.<span class="at">forEach</span>(<span class="kw">function</span>(item) <span class="op">{</span></a>
<a class="sourceLine" id="cb696-3" title="3">     <span class="cf">if</span>(<span class="va">result</span>.<span class="at">indexOf</span>(item) <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb696-4" title="4">         <span class="va">result</span>.<span class="at">push</span>(item)<span class="op">;</span></a>
<a class="sourceLine" id="cb696-5" title="5">     <span class="op">}</span></a>
<a class="sourceLine" id="cb696-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>This is quadratic, but there are nice additional goodies, like wrapping native <code>indexOf</code>, ability to uniqify by a key (<code>iteratee</code> in their parlance), and optimizations for already sorted arrays.</p>
<p>If you’re using jQuery and can’t stand anything without a dollar before it, it goes like this:</p>
<div class="sourceCode" id="cb697"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb697-1" title="1">  <span class="va">$</span>.<span class="at">uniqArray</span> <span class="op">=</span> <span class="kw">function</span>(a) <span class="op">{</span></a>
<a class="sourceLine" id="cb697-2" title="2">        <span class="cf">return</span> <span class="va">$</span>.<span class="at">grep</span>(a<span class="op">,</span> <span class="kw">function</span>(item<span class="op">,</span> pos) <span class="op">{</span></a>
<a class="sourceLine" id="cb697-3" title="3">            <span class="cf">return</span> <span class="va">$</span>.<span class="at">inArray</span>(item<span class="op">,</span> a) <span class="op">===</span> pos<span class="op">;</span></a>
<a class="sourceLine" id="cb697-4" title="4">        <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb697-5" title="5">  <span class="op">}</span></a></code></pre></div>
<p>which is, again, a variation of the first snippet.</p>
<h5>
Performance
</h2>
<p>Function calls are expensive in JavaScript, therefore the above solutions, as concise as they are, are not particularly efficient. For maximal performance, replace <code>filter</code> with a loop and get rid of other function calls:</p>
<div class="sourceCode" id="cb698"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb698-1" title="1"><span class="kw">function</span> <span class="at">uniq_fast</span>(a) <span class="op">{</span></a>
<a class="sourceLine" id="cb698-2" title="2">    <span class="kw">var</span> seen <span class="op">=</span> <span class="op">{};</span></a>
<a class="sourceLine" id="cb698-3" title="3">    <span class="kw">var</span> out <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb698-4" title="4">    <span class="kw">var</span> len <span class="op">=</span> <span class="va">a</span>.<span class="at">length</span><span class="op">;</span></a>
<a class="sourceLine" id="cb698-5" title="5">    <span class="kw">var</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb698-6" title="6">    <span class="cf">for</span>(<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> len<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb698-7" title="7">         <span class="kw">var</span> item <span class="op">=</span> a[i]<span class="op">;</span></a>
<a class="sourceLine" id="cb698-8" title="8">         <span class="cf">if</span>(seen[item] <span class="op">!==</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb698-9" title="9">               seen[item] <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb698-10" title="10">               out[j<span class="op">++</span>] <span class="op">=</span> item<span class="op">;</span></a>
<a class="sourceLine" id="cb698-11" title="11">         <span class="op">}</span></a>
<a class="sourceLine" id="cb698-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb698-13" title="13">    <span class="cf">return</span> out<span class="op">;</span></a>
<a class="sourceLine" id="cb698-14" title="14"><span class="op">}</span></a></code></pre></div>
<p>This chunk of ugly code does the same as the snippet #3 above, <s>but an order of magnitude faster</s> (as of 2017 it’s only twice as fast - JS core folks are doing a great job!)</p>
<p>
<div class="snippet" data-lang="js" data-hide="true" data-console="false" data-babel="false">
<div class="snippet-code snippet-currently-hidden">
<p>```javascript function uniq(a) { var seen = {}; return a.filter(function(item) { return seen.hasOwnProperty(item) ? false : (seen[item] = true); }); }</p>
<p>function uniq_fast(a) { var seen = {}; var out = []; var len = a.length; var j = 0; for(var i = 0; i &lt; len; i++) { var item = a[i]; if(seen[item] !== 1) { seen[item] = 1; out[j++] = item; } } return out; }</p>
<p>/////</p>
<p>var r = [0,1,2,3,4,5,6,7,8,9], a = [], LEN = 1000, LOOPS = 1000;</p>
<p>while(LEN–) a = a.concat(r);</p>
<p>var d = new Date(); for(var i = 0; i &lt; LOOPS; i++) uniq(a); document.write(‘&lt;br&gt;uniq, ms/loop:’ + (new Date() - d)/LOOPS)</p>
<p>var d = new Date(); for(var i = 0; i &lt; LOOPS; i++) uniq_fast(a); document.write(‘&lt;br&gt;uniq_fast, ms/loop:’ + (new Date() - d)/LOOPS)```</p>
</div>
</div>
<h5>
ES6
</h2>
<p>ES6 provides the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" rel="noreferrer">Set</a> object, which makes things a whole lot easier:</p>
<div class="sourceCode" id="cb699"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb699-1" title="1"><span class="kw">function</span> <span class="at">uniq</span>(a) <span class="op">{</span></a>
<a class="sourceLine" id="cb699-2" title="2">   <span class="cf">return</span> <span class="va">Array</span>.<span class="at">from</span>(<span class="kw">new</span> <span class="at">Set</span>(a))<span class="op">;</span></a>
<a class="sourceLine" id="cb699-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb700"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb700-1" title="1"><span class="kw">let</span> uniq <span class="op">=</span> a <span class="op">=&amp;</span>gt<span class="op">;</span> [...<span class="at">new</span> <span class="at">Set</span>(a)]<span class="op">;</span></a></code></pre></div>
<p>Note that, unlike in python, ES6 sets are iterated in insertion order, so this code preserves the order of the original array.</p>
<p>However, if you need an array with unique elements, why not use sets right from the beginning?</p>
<h5>
Generators
</h2>
<p>A “lazy”, generator-based version of <code>uniq</code> can be built on the same basis:</p>
<ul>
<li>
take the next value from the argument
</li>
<li>
if it’s been seen already, skip it
</li>
<li>
otherwise, yield it and add it to the set of already seen values
</li>
</ul>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p>```javascript function* uniqIter(a) { let seen = new Set();</p>
<pre><code>for (let x of a) {
    if (!seen.has(x)) {
        seen.add(x);
        yield x;
    }
}</code></pre>
<p>}</p>
<p>// example:</p>
<p>function* randomsBelow(limit) { while (1) yield Math.floor(Math.random() * limit); }</p>
<p>// note that randomsBelow is endless</p>
<p>count = 20; limit = 30;</p>
<p>for (let r of uniqIter(randomsBelow(limit))) { console.log(r); if (–count === 0) break }</p>
<p>// exercise for the reader: what happens if we set <code>limit</code> less than <code>count</code> and why```</p>
</div>
</div>
</section>
<section id="answer-3-score-310" class="level4">
<h4>Answer 3 (score 310)</h4>
<p>Got tired of seeing all bad examples with for-loops or jQuery. Javascript has the perfect tools for this nowadays: sort, map and reduce.</p>
<h5>
Uniq reduce while keeping existing order
</h2>
<div class="sourceCode" id="cb702"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb702-1" title="1"><span class="kw">var</span> names <span class="op">=</span> [<span class="st">&quot;Mike&quot;</span><span class="op">,</span><span class="st">&quot;Matt&quot;</span><span class="op">,</span><span class="st">&quot;Nancy&quot;</span><span class="op">,</span><span class="st">&quot;Adam&quot;</span><span class="op">,</span><span class="st">&quot;Jenny&quot;</span><span class="op">,</span><span class="st">&quot;Nancy&quot;</span><span class="op">,</span><span class="st">&quot;Carl&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb702-2" title="2"></a>
<a class="sourceLine" id="cb702-3" title="3"><span class="kw">var</span> uniq <span class="op">=</span> <span class="va">names</span>.<span class="at">reduce</span>(<span class="kw">function</span>(a<span class="op">,</span>b)<span class="op">{</span></a>
<a class="sourceLine" id="cb702-4" title="4">    <span class="cf">if</span> (<span class="va">a</span>.<span class="at">indexOf</span>(b) <span class="op">&amp;</span>lt<span class="op">;</span> <span class="dv">0</span> ) <span class="va">a</span>.<span class="at">push</span>(b)<span class="op">;</span></a>
<a class="sourceLine" id="cb702-5" title="5">    <span class="cf">return</span> a<span class="op">;</span></a>
<a class="sourceLine" id="cb702-6" title="6">  <span class="op">},</span>[])<span class="op">;</span></a>
<a class="sourceLine" id="cb702-7" title="7"></a>
<a class="sourceLine" id="cb702-8" title="8"><span class="va">console</span>.<span class="at">log</span>(uniq<span class="op">,</span> names) <span class="co">// [ &#39;Mike&#39;, &#39;Matt&#39;, &#39;Nancy&#39;, &#39;Adam&#39;, &#39;Jenny&#39;, &#39;Carl&#39; ]</span></a>
<a class="sourceLine" id="cb702-9" title="9"></a>
<a class="sourceLine" id="cb702-10" title="10"><span class="co">// one liner</span></a>
<a class="sourceLine" id="cb702-11" title="11"><span class="cf">return</span> <span class="va">names</span>.<span class="at">reduce</span>(<span class="kw">function</span>(a<span class="op">,</span>b)<span class="op">{</span><span class="cf">if</span>(<span class="va">a</span>.<span class="at">indexOf</span>(b)<span class="op">&amp;</span>lt<span class="op">;</span><span class="dv">0</span>)<span class="va">a</span>.<span class="at">push</span>(b)<span class="op">;</span><span class="cf">return</span> a<span class="op">;},</span>[])<span class="op">;</span></a></code></pre></div>
<h5>
Faster uniq with sorting
</h2>
<p>There are probably faster ways but this one is pretty decent.</p>
<div class="sourceCode" id="cb703"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb703-1" title="1"><span class="kw">var</span> uniq <span class="op">=</span> <span class="va">names</span>.<span class="at">slice</span>() <span class="co">// slice makes copy of array before sorting it</span></a>
<a class="sourceLine" id="cb703-2" title="2">  .<span class="at">sort</span>(<span class="kw">function</span>(a<span class="op">,</span>b)<span class="op">{</span></a>
<a class="sourceLine" id="cb703-3" title="3">    <span class="cf">return</span> a <span class="op">&amp;</span>gt<span class="op">;</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb703-4" title="4">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb703-5" title="5">  .<span class="at">reduce</span>(<span class="kw">function</span>(a<span class="op">,</span>b)<span class="op">{</span></a>
<a class="sourceLine" id="cb703-6" title="6">    <span class="cf">if</span> (<span class="va">a</span>.<span class="at">slice</span>(<span class="op">-</span><span class="dv">1</span>)[<span class="dv">0</span>] <span class="op">!==</span> b) <span class="va">a</span>.<span class="at">push</span>(b)<span class="op">;</span> <span class="co">// slice(-1)[0] means last item in array without removing it (like .pop())</span></a>
<a class="sourceLine" id="cb703-7" title="7">    <span class="cf">return</span> a<span class="op">;</span></a>
<a class="sourceLine" id="cb703-8" title="8">  <span class="op">},</span>[])<span class="op">;</span> <span class="co">// this empty array becomes the starting value for a</span></a>
<a class="sourceLine" id="cb703-9" title="9"></a>
<a class="sourceLine" id="cb703-10" title="10"><span class="co">// one liner</span></a>
<a class="sourceLine" id="cb703-11" title="11"><span class="cf">return</span> <span class="va">names</span>.<span class="at">slice</span>().<span class="at">sort</span>(<span class="kw">function</span>(a<span class="op">,</span>b)<span class="op">{</span><span class="cf">return</span> a <span class="op">&amp;</span>gt<span class="op">;</span> b<span class="op">}</span>).<span class="at">reduce</span>(<span class="kw">function</span>(a<span class="op">,</span>b)<span class="op">{</span><span class="cf">if</span> (<span class="va">a</span>.<span class="at">slice</span>(<span class="op">-</span><span class="dv">1</span>)[<span class="dv">0</span>] <span class="op">!==</span> b) <span class="va">a</span>.<span class="at">push</span>(b)<span class="op">;</span><span class="cf">return</span> a<span class="op">;},</span>[])<span class="op">;</span></a></code></pre></div>
<h5>
Update 2015: ES6 version:
</h2>
<p>In ES6 you have Sets and Spread which makes it very easy and performant to remove all duplicates:</p>
<div class="sourceCode" id="cb704"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb704-1" title="1"><span class="kw">var</span> uniq <span class="op">=</span> [ ...<span class="at">new</span> <span class="at">Set</span>(names) ]<span class="op">;</span> <span class="co">// [ &#39;Mike&#39;, &#39;Matt&#39;, &#39;Nancy&#39;, &#39;Adam&#39;, &#39;Jenny&#39;, &#39;Carl&#39; ]</span></a></code></pre></div>
<h5>
Sort based on occurrence:
</h2>
<p>Someone asked about ordering the results based on how many unique names there are:</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb705-1" title="1"><span class="kw">var</span> names <span class="op">=</span> [<span class="st">&#39;Mike&#39;</span><span class="op">,</span> <span class="st">&#39;Matt&#39;</span><span class="op">,</span> <span class="st">&#39;Nancy&#39;</span><span class="op">,</span> <span class="st">&#39;Adam&#39;</span><span class="op">,</span> <span class="st">&#39;Jenny&#39;</span><span class="op">,</span> <span class="st">&#39;Nancy&#39;</span><span class="op">,</span> <span class="st">&#39;Carl&#39;</span>]</a>
<a class="sourceLine" id="cb705-2" title="2"></a>
<a class="sourceLine" id="cb705-3" title="3"><span class="kw">var</span> uniq <span class="op">=</span> names</a>
<a class="sourceLine" id="cb705-4" title="4">  .<span class="at">map</span>((name) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb705-5" title="5">    <span class="cf">return</span> <span class="op">{</span><span class="dt">count</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> name<span class="op">}</span></a>
<a class="sourceLine" id="cb705-6" title="6">  <span class="op">}</span>)</a>
<a class="sourceLine" id="cb705-7" title="7">  .<span class="at">reduce</span>((a<span class="op">,</span> b) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb705-8" title="8">    a[<span class="va">b</span>.<span class="at">name</span>] <span class="op">=</span> (a[<span class="va">b</span>.<span class="at">name</span>] <span class="op">||</span> <span class="dv">0</span>) <span class="op">+</span> <span class="va">b</span>.<span class="at">count</span></a>
<a class="sourceLine" id="cb705-9" title="9">    <span class="cf">return</span> a</a>
<a class="sourceLine" id="cb705-10" title="10">  <span class="op">},</span> <span class="op">{}</span>)</a>
<a class="sourceLine" id="cb705-11" title="11"></a>
<a class="sourceLine" id="cb705-12" title="12"><span class="kw">var</span> sorted <span class="op">=</span> <span class="va">Object</span>.<span class="at">keys</span>(uniq).<span class="at">sort</span>((a<span class="op">,</span> b) <span class="op">=&amp;</span>gt<span class="op">;</span> uniq[a] <span class="op">&amp;</span>lt<span class="op">;</span> uniq[b])</a>
<a class="sourceLine" id="cb705-13" title="13"></a>
<a class="sourceLine" id="cb705-14" title="14"><span class="va">console</span>.<span class="at">log</span>(sorted)</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-modify-the-url-without-reloading-the-page-score-1266619-in-2019" class="level3">
<h3>95: How do I modify the URL without reloading the page? (score <a href="https://stackoverflow.com/q/824349.html">1266619</a> in 2019)</h3>
<section id="question-94" class="level4">
<h4>Question</h4>
<p>Is there a way I can modify the URL of the current page without reloading the page?</p>
<p>I would like to access the portion <strong>before</strong> the # hash if possible.</p>
<p>I only need to change the portion <strong>after</strong> the domain, so it’s not like I’m violating cross-domain policies.</p>
<div class="sourceCode" id="cb706"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb706-1" title="1"> <span class="va">window</span>.<span class="va">location</span>.<span class="at">href</span> <span class="op">=</span> <span class="st">&quot;www.mysite.com/page2.php&quot;</span><span class="op">;</span>  <span class="co">// Sadly this reloads</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-1899" class="level4">
<h4>Answer accepted (score 1899)</h4>
<p>This can now be done in Chrome, Safari, Firefox 4+, and Internet Explorer 10pp4+!</p>
<p>
See this question’s answer for more information: <em><a href="https://stackoverflow.com/questions/3338642/updating-address-bar-with-new-url-without-hash-or-reloading-the-page">Updating address bar with new URL without hash or reloading the page</a></em>
</p>
<p>Example:</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb707-1" title="1"> <span class="kw">function</span> <span class="at">processAjaxData</span>(response<span class="op">,</span> urlPath)<span class="op">{</span></a>
<a class="sourceLine" id="cb707-2" title="2">     <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;content&quot;</span>).<span class="at">innerHTML</span> <span class="op">=</span> <span class="va">response</span>.<span class="at">html</span><span class="op">;</span></a>
<a class="sourceLine" id="cb707-3" title="3">     <span class="va">document</span>.<span class="at">title</span> <span class="op">=</span> <span class="va">response</span>.<span class="at">pageTitle</span><span class="op">;</span></a>
<a class="sourceLine" id="cb707-4" title="4">     <span class="va">window</span>.<span class="va">history</span>.<span class="at">pushState</span>(<span class="op">{</span><span class="st">&quot;html&quot;</span><span class="op">:</span><span class="va">response</span>.<span class="at">html</span><span class="op">,</span><span class="st">&quot;pageTitle&quot;</span><span class="op">:</span><span class="va">response</span>.<span class="at">pageTitle</span><span class="op">},</span><span class="st">&quot;&quot;</span><span class="op">,</span> urlPath)<span class="op">;</span></a>
<a class="sourceLine" id="cb707-5" title="5"> <span class="op">}</span></a></code></pre></div>
<p>You can then use <code>window.onpopstate</code> to detect the back/forward button navigation:</p>
<div class="sourceCode" id="cb708"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb708-1" title="1"><span class="va">window</span>.<span class="at">onpopstate</span> <span class="op">=</span> <span class="kw">function</span>(e)<span class="op">{</span></a>
<a class="sourceLine" id="cb708-2" title="2">    <span class="cf">if</span>(<span class="va">e</span>.<span class="at">state</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb708-3" title="3">        <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;content&quot;</span>).<span class="at">innerHTML</span> <span class="op">=</span> <span class="va">e</span>.<span class="va">state</span>.<span class="at">html</span><span class="op">;</span></a>
<a class="sourceLine" id="cb708-4" title="4">        <span class="va">document</span>.<span class="at">title</span> <span class="op">=</span> <span class="va">e</span>.<span class="va">state</span>.<span class="at">pageTitle</span><span class="op">;</span></a>
<a class="sourceLine" id="cb708-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb708-6" title="6"><span class="op">};</span></a></code></pre></div>
<hr>
<p>For a more in-depth look at manipulating browser history, see <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history" rel="noreferrer">this MDN article</a>.</p>
</section>
<section id="answer-2-score-512-1" class="level4">
<h4>Answer 2 (score 512)</h4>
<p>HTML5 introduced the <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API#The_pushState()_method" rel="noreferrer"><code>history.pushState()</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API#The_replaceState()_method" rel="noreferrer"><code>history.replaceState()</code></a> methods, which allow you to add and modify history entries, respectively.</p>
<div class="sourceCode" id="cb709"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb709-1" title="1"><span class="va">window</span>.<span class="va">history</span>.<span class="at">pushState</span>(<span class="st">&#39;page2&#39;</span><span class="op">,</span> <span class="st">&#39;Title&#39;</span><span class="op">,</span> <span class="st">&#39;/page2.php&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Read more about this from <a href="https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history" rel="noreferrer">here</a></p>
</section>
<section id="answer-3-score-116" class="level4">
<h4>Answer 3 (score 116)</h4>
<p>You can also use HTML5 <strong>replaceState</strong> if you want to change the url but don’t want to add the entry to the browser history:</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb710-1" title="1"><span class="cf">if</span> (<span class="va">window</span>.<span class="va">history</span>.<span class="at">replaceState</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb710-2" title="2">   <span class="co">//prevents browser from storing history with each change:</span></a>
<a class="sourceLine" id="cb710-3" title="3">   <span class="va">window</span>.<span class="va">history</span>.<span class="at">replaceState</span>(statedata<span class="op">,</span> title<span class="op">,</span> url)<span class="op">;</span></a>
<a class="sourceLine" id="cb710-4" title="4"><span class="op">}</span></a></code></pre></div>
<p>This would ‘break’ the back button functionality. This may be required in some instances such as an image gallery (where you want the back button to return back to the gallery index page instead of moving back through each and every image you viewed) whilst giving each image its own unique url.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="convert-a-unix-timestamp-to-time-in-javascript-score-1259520-in-2018" class="level3">
<h3>96: Convert a Unix timestamp to time in JavaScript (score <a href="https://stackoverflow.com/q/847185.html">1259520</a> in 2018)</h3>
<section id="question-95" class="level4">
<h4>Question</h4>
<p>I am storing time in a MySQL database as a Unix timestamp and that gets sent to some JavaScript code. How would I get just the time out of it?</p>
<p>For example, in HH/MM/SS format.</p>
</section>
<section id="answer-accepted-score-1549" class="level4">
<h4>Answer accepted (score 1549)</h4>
<div class="sourceCode" id="cb711"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb711-1" title="1"><span class="co">// Create a new JavaScript Date object based on the timestamp</span></a>
<a class="sourceLine" id="cb711-2" title="2"><span class="co">// multiplied by 1000 so that the argument is in milliseconds, not seconds.</span></a>
<a class="sourceLine" id="cb711-3" title="3"><span class="kw">var</span> date <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(unix_timestamp<span class="op">*</span><span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb711-4" title="4"><span class="co">// Hours part from the timestamp</span></a>
<a class="sourceLine" id="cb711-5" title="5"><span class="kw">var</span> hours <span class="op">=</span> <span class="va">date</span>.<span class="at">getHours</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb711-6" title="6"><span class="co">// Minutes part from the timestamp</span></a>
<a class="sourceLine" id="cb711-7" title="7"><span class="kw">var</span> minutes <span class="op">=</span> <span class="st">&quot;0&quot;</span> <span class="op">+</span> <span class="va">date</span>.<span class="at">getMinutes</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb711-8" title="8"><span class="co">// Seconds part from the timestamp</span></a>
<a class="sourceLine" id="cb711-9" title="9"><span class="kw">var</span> seconds <span class="op">=</span> <span class="st">&quot;0&quot;</span> <span class="op">+</span> <span class="va">date</span>.<span class="at">getSeconds</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb711-10" title="10"></a>
<a class="sourceLine" id="cb711-11" title="11"><span class="co">// Will display time in 10:30:23 format</span></a>
<a class="sourceLine" id="cb711-12" title="12"><span class="kw">var</span> formattedTime <span class="op">=</span> hours <span class="op">+</span> <span class="st">&#39;:&#39;</span> <span class="op">+</span> <span class="va">minutes</span>.<span class="at">substr</span>(<span class="op">-</span><span class="dv">2</span>) <span class="op">+</span> <span class="st">&#39;:&#39;</span> <span class="op">+</span> <span class="va">seconds</span>.<span class="at">substr</span>(<span class="op">-</span><span class="dv">2</span>)<span class="op">;</span></a></code></pre></div>
<p>For more information regarding the Date object, please refer to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" rel="noreferrer">MDN</a> or the <a href="http://ecma-international.org/ecma-262/5.1/#sec-15.9" rel="noreferrer">ECMAScript 5 specification</a>.</p>
</section>
<section id="answer-2-score-274" class="level4">
<h4>Answer 2 (score 274)</h4>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<p><code>javascript function timeConverter(UNIX_timestamp){   var a = new Date(UNIX_timestamp * 1000);   var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];   var year = a.getFullYear();   var month = months[a.getMonth()];   var date = a.getDate();   var hour = a.getHours();   var min = a.getMinutes();   var sec = a.getSeconds();   var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;   return time; } console.log(timeConverter(0));</code></p>
</div>
</div>
</section>
<section id="answer-3-score-176-2" class="level4">
<h4>Answer 3 (score 176)</h4>
<p>JavaScript works in milliseconds, so you’ll first have to convert the UNIX timestamp from seconds to milliseconds.</p>
<div class="sourceCode" id="cb712"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb712-1" title="1"><span class="kw">var</span> date <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>(UNIX_Timestamp <span class="op">*</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb712-2" title="2"><span class="co">// Manipulate JavaScript Date object here...</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="retrieve-the-position-xy-of-an-html-element-score-1258174-in-2013" class="level3">
<h3>97: Retrieve the position (X,Y) of an HTML element (score <a href="https://stackoverflow.com/q/442404.html">1258174</a> in 2013)</h3>
<section id="question-96" class="level4">
<h4>Question</h4>
<p>I want to know how to get the X and Y position of HTML elements such as <code>img</code> and <code>div</code> in JavaScript.</p>
</section>
<section id="answer-2-score-1645" class="level4">
<h4>Answer 2 (score 1645)</h4>
<p>The correct approach is to use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect" rel="noreferrer"><code>element.getBoundingClientRect()</code></a>:</p>
<div class="sourceCode" id="cb713"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb713-1" title="1"><span class="kw">var</span> rect <span class="op">=</span> <span class="va">element</span>.<span class="at">getBoundingClientRect</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb713-2" title="2"><span class="va">console</span>.<span class="at">log</span>(<span class="va">rect</span>.<span class="at">top</span><span class="op">,</span> <span class="va">rect</span>.<span class="at">right</span><span class="op">,</span> <span class="va">rect</span>.<span class="at">bottom</span><span class="op">,</span> <span class="va">rect</span>.<span class="at">left</span>)<span class="op">;</span></a></code></pre></div>
<p>Internet Explorer has supported this since as long as you are likely to care about and it was finally standardized in <a href="http://www.w3.org/TR/cssom-view/#the-getclientrects-and-getboundingclientrect-methods" rel="noreferrer">CSSOM Views</a>. All other browsers adopted it <a href="http://www.quirksmode.org/dom/w3c_cssom.html#t21" rel="noreferrer">a long time ago</a>.</p>
<p>Some browsers also return height and width properties, though this is non-standard. If you’re worried about older browser compatibility, check this answer’s revisions for an optimised degrading implementation.</p>
<p>The values returned by <code>element.getBoundingClientRect()</code> are relative to the viewport. If you need it relative to another element, simply subtract one rectangle from the other:</p>
<div class="sourceCode" id="cb714"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb714-1" title="1"><span class="kw">var</span> bodyRect <span class="op">=</span> <span class="va">document</span>.<span class="va">body</span>.<span class="at">getBoundingClientRect</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb714-2" title="2">    elemRect <span class="op">=</span> <span class="va">element</span>.<span class="at">getBoundingClientRect</span>()<span class="op">,</span></a>
<a class="sourceLine" id="cb714-3" title="3">    offset   <span class="op">=</span> <span class="va">elemRect</span>.<span class="at">top</span> <span class="op">-</span> <span class="va">bodyRect</span>.<span class="at">top</span><span class="op">;</span></a>
<a class="sourceLine" id="cb714-4" title="4"></a>
<a class="sourceLine" id="cb714-5" title="5"><span class="at">alert</span>(<span class="st">&#39;Element is &#39;</span> <span class="op">+</span> offset <span class="op">+</span> <span class="st">&#39; vertical pixels from &amp;lt;body&amp;gt;&#39;</span>)<span class="op">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-307" class="level4">
<h4>Answer 3 (score 307)</h4>
<p>
The libraries go to some lengths to get accurate offsets for an element.<br> here’s a simple function that does the job in every circumstances that I’ve tried.
</p>
<div class="sourceCode" id="cb715"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb715-1" title="1"><span class="kw">function</span> <span class="at">getOffset</span>( el ) <span class="op">{</span></a>
<a class="sourceLine" id="cb715-2" title="2">    <span class="kw">var</span> _x <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb715-3" title="3">    <span class="kw">var</span> _y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb715-4" title="4">    <span class="cf">while</span>( el <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">!</span><span class="at">isNaN</span>( <span class="va">el</span>.<span class="at">offsetLeft</span> ) <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">!</span><span class="at">isNaN</span>( <span class="va">el</span>.<span class="at">offsetTop</span> ) ) <span class="op">{</span></a>
<a class="sourceLine" id="cb715-5" title="5">        _x <span class="op">+=</span> <span class="va">el</span>.<span class="at">offsetLeft</span> <span class="op">-</span> <span class="va">el</span>.<span class="at">scrollLeft</span><span class="op">;</span></a>
<a class="sourceLine" id="cb715-6" title="6">        _y <span class="op">+=</span> <span class="va">el</span>.<span class="at">offsetTop</span> <span class="op">-</span> <span class="va">el</span>.<span class="at">scrollTop</span><span class="op">;</span></a>
<a class="sourceLine" id="cb715-7" title="7">        el <span class="op">=</span> <span class="va">el</span>.<span class="at">offsetParent</span><span class="op">;</span></a>
<a class="sourceLine" id="cb715-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb715-9" title="9">    <span class="cf">return</span> <span class="op">{</span> <span class="dt">top</span><span class="op">:</span> _y<span class="op">,</span> <span class="dt">left</span><span class="op">:</span> _x <span class="op">};</span></a>
<a class="sourceLine" id="cb715-10" title="10"><span class="op">}</span></a>
<a class="sourceLine" id="cb715-11" title="11"><span class="kw">var</span> x <span class="op">=</span> <span class="at">getOffset</span>( <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;yourElId&#39;</span>) ).<span class="at">left</span><span class="op">;</span> </a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="pure-javascript-equivalent-of-jquerys-.ready---how-to-call-a-function-when-the-pagedom-is-ready-for-it-score-1254609-in-2017" class="level3">
<h3>98: Pure JavaScript equivalent of jQuery’s $.ready() - how to call a function when the page/DOM is ready for it (score <a href="https://stackoverflow.com/q/9899372.html">1254609</a> in 2017)</h3>
<section id="question-97" class="level4">
<h4>Question</h4>
<p>Okay, this might just be a silly question, though I’m sure there are plenty of other people asking the same question from time to time. Me, I just want to make 100% sure about it either way. With jQuery we all know the wonderful</p>
<div class="sourceCode" id="cb716"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb716-1" title="1"><span class="at">$</span>(<span class="st">&#39;document&#39;</span>).<span class="at">ready</span>(<span class="kw">function</span>()<span class="op">{}</span>)<span class="op">;</span></a></code></pre></div>
<p>However, let’s say I want to run a function that is written in standard JavaScript with no library backing it, and that I want to launch a function as soon as the page is ready to handle it. What’s the proper way to approach this?</p>
<p>I know I can do:</p>
<div class="sourceCode" id="cb717"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb717-1" title="1"><span class="va">window</span>.<span class="at">onload</span><span class="op">=</span><span class="st">&quot;myFunction()&quot;</span><span class="op">;</span></a></code></pre></div>
<p>…or I can use the <code>body</code> tag:</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb718-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>body onload<span class="op">=</span><span class="st">&quot;myFunction()&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<p>…or I can even try at the bottom of the page after everything, but the end <code>body</code> or <code>html</code> tag like:</p>
<div class="sourceCode" id="cb719"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb719-1" title="1"><span class="op">&amp;</span>lt<span class="op">;</span>script type<span class="op">=</span><span class="st">&quot;text/javascript&quot;</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb719-2" title="2">   <span class="at">myFunction</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb719-3" title="3"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/script&amp;gt;</span></a></code></pre></div>
<p>What is a cross-browser(old/new)-compliant method of issuing one or more functions in a manner like jQuery’s <code>$.ready()</code>?</p>
</section>
<section id="answer-accepted-score-1727" class="level4">
<h4>Answer accepted (score 1727)</h4>
<p>The simplest thing to do in the absence of a framework that does all the cross-browser compatibility for you is to just put a call to your code at the end of the body. This is faster to execute than an <code>onload</code> handler because this waits only for the DOM to be ready, not for all images to load. And, this works in every browser.</p>
<div class="sourceCode" id="cb720"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb720-1" title="1"><span class="op">&amp;</span>lt<span class="op">;!</span>doctype html<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb720-2" title="2"><span class="op">&amp;</span>lt<span class="op">;</span>html<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb720-3" title="3"><span class="op">&amp;</span>lt<span class="op">;</span>head<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb720-4" title="4"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/head&amp;gt;</span></a>
<a class="sourceLine" id="cb720-5" title="5"><span class="ss">&amp;lt;body&amp;gt;</span></a>
<a class="sourceLine" id="cb720-6" title="6"><span class="ss">Your HTML here</span></a>
<a class="sourceLine" id="cb720-7" title="7"></a>
<a class="sourceLine" id="cb720-8" title="8"><span class="ss">&amp;lt;script&amp;gt;</span></a>
<a class="sourceLine" id="cb720-9" title="9"><span class="ss">// self executing function here</span></a>
<a class="sourceLine" id="cb720-10" title="10"><span class="sc">(</span><span class="ss">function</span><span class="sc">()</span><span class="ss"> {</span></a>
<a class="sourceLine" id="cb720-11" title="11"><span class="ss">   // your page initialization code here</span></a>
<a class="sourceLine" id="cb720-12" title="12"><span class="ss">   // the DOM will be available here</span></a>
<a class="sourceLine" id="cb720-13" title="13"></a>
<a class="sourceLine" id="cb720-14" title="14"><span class="ss">}</span><span class="sc">)()</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb720-15" title="15"><span class="ss">&amp;lt;/script</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb720-16" title="16"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/body&amp;gt;</span></a>
<a class="sourceLine" id="cb720-17" title="17"><span class="ss">&amp;lt;/html</span><span class="op">&amp;</span>gt<span class="op">;</span></a></code></pre></div>
<hr>
<p>For modern browsers (anything from IE9 and newer and any version of Chrome, Firefox or Safari), if you want to be able to implement a jQuery like <code>$(document).ready()</code> method that you can call from anywhere (without worrying about where the calling script is positioned), you can just use something like this:</p>
<div class="sourceCode" id="cb721"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb721-1" title="1"><span class="kw">function</span> <span class="at">docReady</span>(fn) <span class="op">{</span></a>
<a class="sourceLine" id="cb721-2" title="2">    <span class="co">// see if DOM is already available</span></a>
<a class="sourceLine" id="cb721-3" title="3">    <span class="cf">if</span> (<span class="va">document</span>.<span class="at">readyState</span> <span class="op">===</span> <span class="st">&quot;complete&quot;</span> <span class="op">||</span> <span class="va">document</span>.<span class="at">readyState</span> <span class="op">===</span> <span class="st">&quot;interactive&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb721-4" title="4">        <span class="co">// call on next available tick</span></a>
<a class="sourceLine" id="cb721-5" title="5">        <span class="at">setTimeout</span>(fn<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb721-6" title="6">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb721-7" title="7">        <span class="va">document</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> fn)<span class="op">;</span></a>
<a class="sourceLine" id="cb721-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb721-9" title="9"><span class="op">}</span>    </a></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb722-1" title="1"><span class="at">docReady</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb722-2" title="2">    <span class="co">// DOM is loaded and ready for manipulation here</span></a>
<a class="sourceLine" id="cb722-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<hr>
<p>If you need full cross browser compatibility (including old versions of IE) and you don’t want to wait for <code>window.onload</code>, then you probably should go look at how a framework like jQuery implements its <code>$(document).ready()</code> method. It’s fairly involved depending upon the capabilities of the browser.</p>
<p>To give you a little idea what jQuery does (which will work wherever the script tag is placed).</p>
<p>If supported, it tries the standard:</p>
<div class="sourceCode" id="cb723"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb723-1" title="1"><span class="va">document</span>.<span class="at">addEventListener</span>(<span class="st">&#39;DOMContentLoaded&#39;</span><span class="op">,</span> fn<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a></code></pre></div>
<p>with a fallback to:</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb724-1" title="1"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;load&#39;</span><span class="op">,</span> fn<span class="op">,</span> <span class="kw">false</span> )</a></code></pre></div>
<p>or for older versions of IE, it uses:</p>
<div class="sourceCode" id="cb725"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb725-1" title="1"><span class="va">document</span>.<span class="at">attachEvent</span>(<span class="st">&quot;onreadystatechange&quot;</span><span class="op">,</span> fn)<span class="op">;</span></a></code></pre></div>
<p>with a fallback to:</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb726-1" title="1"><span class="va">window</span>.<span class="at">attachEvent</span>(<span class="st">&quot;onload&quot;</span><span class="op">,</span> fn)<span class="op">;</span></a></code></pre></div>
<p>And, there are some work-arounds in the IE code path that I don’t quite follow, but it looks like it has something to do with frames.</p>
<hr>
<p>Here is a full substitute for jQuery’s <code>.ready()</code> written in plain javascript:</p>
<div class="sourceCode" id="cb727"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb727-1" title="1">(<span class="kw">function</span>(funcName<span class="op">,</span> baseObj) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-2" title="2">    <span class="co">// The public function name defaults to window.docReady</span></a>
<a class="sourceLine" id="cb727-3" title="3">    <span class="co">// but you can pass in your own object and own function name and those will be used</span></a>
<a class="sourceLine" id="cb727-4" title="4">    <span class="co">// if you want to put them in a different namespace</span></a>
<a class="sourceLine" id="cb727-5" title="5">    funcName <span class="op">=</span> funcName <span class="op">||</span> <span class="st">&quot;docReady&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb727-6" title="6">    baseObj <span class="op">=</span> baseObj <span class="op">||</span> window<span class="op">;</span></a>
<a class="sourceLine" id="cb727-7" title="7">    <span class="kw">var</span> readyList <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb727-8" title="8">    <span class="kw">var</span> readyFired <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb727-9" title="9">    <span class="kw">var</span> readyEventHandlersInstalled <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb727-10" title="10"></a>
<a class="sourceLine" id="cb727-11" title="11">    <span class="co">// call this when the document is ready</span></a>
<a class="sourceLine" id="cb727-12" title="12">    <span class="co">// this function protects itself against being called more than once</span></a>
<a class="sourceLine" id="cb727-13" title="13">    <span class="kw">function</span> <span class="at">ready</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb727-14" title="14">        <span class="cf">if</span> (<span class="op">!</span>readyFired) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-15" title="15">            <span class="co">// this must be set to true before we start calling callbacks</span></a>
<a class="sourceLine" id="cb727-16" title="16">            readyFired <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb727-17" title="17">            <span class="cf">for</span> (<span class="kw">var</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&amp;</span>lt<span class="op">;</span> <span class="va">readyList</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-18" title="18">                <span class="co">// if a callback here happens to add new ready handlers,</span></a>
<a class="sourceLine" id="cb727-19" title="19">                <span class="co">// the docReady() function will see that it already fired</span></a>
<a class="sourceLine" id="cb727-20" title="20">                <span class="co">// and will schedule the callback to run right after</span></a>
<a class="sourceLine" id="cb727-21" title="21">                <span class="co">// this event loop finishes so all handlers will still execute</span></a>
<a class="sourceLine" id="cb727-22" title="22">                <span class="co">// in order and no new ones will be added to the readyList</span></a>
<a class="sourceLine" id="cb727-23" title="23">                <span class="co">// while we are processing the list</span></a>
<a class="sourceLine" id="cb727-24" title="24">                readyList[i].<span class="va">fn</span>.<span class="at">call</span>(window<span class="op">,</span> readyList[i].<span class="at">ctx</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-25" title="25">            <span class="op">}</span></a>
<a class="sourceLine" id="cb727-26" title="26">            <span class="co">// allow any closures held by these functions to free</span></a>
<a class="sourceLine" id="cb727-27" title="27">            readyList <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb727-28" title="28">        <span class="op">}</span></a>
<a class="sourceLine" id="cb727-29" title="29">    <span class="op">}</span></a>
<a class="sourceLine" id="cb727-30" title="30"></a>
<a class="sourceLine" id="cb727-31" title="31">    <span class="kw">function</span> <span class="at">readyStateChange</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb727-32" title="32">        <span class="cf">if</span> ( <span class="va">document</span>.<span class="at">readyState</span> <span class="op">===</span> <span class="st">&quot;complete&quot;</span> ) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-33" title="33">            <span class="at">ready</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb727-34" title="34">        <span class="op">}</span></a>
<a class="sourceLine" id="cb727-35" title="35">    <span class="op">}</span></a>
<a class="sourceLine" id="cb727-36" title="36"></a>
<a class="sourceLine" id="cb727-37" title="37">    <span class="co">// This is the one public interface</span></a>
<a class="sourceLine" id="cb727-38" title="38">    <span class="co">// docReady(fn, context);</span></a>
<a class="sourceLine" id="cb727-39" title="39">    <span class="co">// the context argument is optional - if present, it will be passed</span></a>
<a class="sourceLine" id="cb727-40" title="40">    <span class="co">// as an argument to the callback</span></a>
<a class="sourceLine" id="cb727-41" title="41">    baseObj[funcName] <span class="op">=</span> <span class="kw">function</span>(callback<span class="op">,</span> context) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-42" title="42">        <span class="cf">if</span> (<span class="kw">typeof</span> callback <span class="op">!==</span> <span class="st">&quot;function&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-43" title="43">            <span class="cf">throw</span> <span class="kw">new</span> <span class="at">TypeError</span>(<span class="st">&quot;callback for docReady(fn) must be a function&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-44" title="44">        <span class="op">}</span></a>
<a class="sourceLine" id="cb727-45" title="45">        <span class="co">// if ready has already fired, then just schedule the callback</span></a>
<a class="sourceLine" id="cb727-46" title="46">        <span class="co">// to fire asynchronously, but right away</span></a>
<a class="sourceLine" id="cb727-47" title="47">        <span class="cf">if</span> (readyFired) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-48" title="48">            <span class="at">setTimeout</span>(<span class="kw">function</span>() <span class="op">{</span><span class="at">callback</span>(context)<span class="op">;},</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-49" title="49">            <span class="cf">return</span><span class="op">;</span></a>
<a class="sourceLine" id="cb727-50" title="50">        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb727-51" title="51">            <span class="co">// add the function and context to the list</span></a>
<a class="sourceLine" id="cb727-52" title="52">            <span class="va">readyList</span>.<span class="at">push</span>(<span class="op">{</span><span class="dt">fn</span><span class="op">:</span> callback<span class="op">,</span> <span class="dt">ctx</span><span class="op">:</span> context<span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-53" title="53">        <span class="op">}</span></a>
<a class="sourceLine" id="cb727-54" title="54">        <span class="co">// if document already ready to go, schedule the ready function to run</span></a>
<a class="sourceLine" id="cb727-55" title="55">        <span class="cf">if</span> (<span class="va">document</span>.<span class="at">readyState</span> <span class="op">===</span> <span class="st">&quot;complete&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-56" title="56">            <span class="at">setTimeout</span>(ready<span class="op">,</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-57" title="57">        <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (<span class="op">!</span>readyEventHandlersInstalled) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-58" title="58">            <span class="co">// otherwise if we don&#39;t have event handlers installed, install them</span></a>
<a class="sourceLine" id="cb727-59" title="59">            <span class="cf">if</span> (<span class="va">document</span>.<span class="at">addEventListener</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb727-60" title="60">                <span class="co">// first choice is DOMContentLoaded event</span></a>
<a class="sourceLine" id="cb727-61" title="61">                <span class="va">document</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> ready<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-62" title="62">                <span class="co">// backup is window load event</span></a>
<a class="sourceLine" id="cb727-63" title="63">                <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;load&quot;</span><span class="op">,</span> ready<span class="op">,</span> <span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-64" title="64">            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb727-65" title="65">                <span class="co">// must be IE</span></a>
<a class="sourceLine" id="cb727-66" title="66">                <span class="va">document</span>.<span class="at">attachEvent</span>(<span class="st">&quot;onreadystatechange&quot;</span><span class="op">,</span> readyStateChange)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-67" title="67">                <span class="va">window</span>.<span class="at">attachEvent</span>(<span class="st">&quot;onload&quot;</span><span class="op">,</span> ready)<span class="op">;</span></a>
<a class="sourceLine" id="cb727-68" title="68">            <span class="op">}</span></a>
<a class="sourceLine" id="cb727-69" title="69">            readyEventHandlersInstalled <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb727-70" title="70">        <span class="op">}</span></a>
<a class="sourceLine" id="cb727-71" title="71">    <span class="op">}</span></a>
<a class="sourceLine" id="cb727-72" title="72"><span class="op">}</span>)(<span class="st">&quot;docReady&quot;</span><span class="op">,</span> window)<span class="op">;</span></a></code></pre></div>
<p>The latest version of the code is shared publicly on GitHub at <a href="https://github.com/jfriend00/docReady" rel="noreferrer">https://github.com/jfriend00/docReady</a></p>
<p>Usage:</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb728-1" title="1"><span class="co">// pass a function reference</span></a>
<a class="sourceLine" id="cb728-2" title="2"><span class="at">docReady</span>(fn)<span class="op">;</span></a>
<a class="sourceLine" id="cb728-3" title="3"></a>
<a class="sourceLine" id="cb728-4" title="4"><span class="co">// use an anonymous function</span></a>
<a class="sourceLine" id="cb728-5" title="5"><span class="at">docReady</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb728-6" title="6">    <span class="co">// code here</span></a>
<a class="sourceLine" id="cb728-7" title="7"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb728-8" title="8"></a>
<a class="sourceLine" id="cb728-9" title="9"><span class="co">// pass a function reference and a context</span></a>
<a class="sourceLine" id="cb728-10" title="10"><span class="co">// the context will be passed to the function as the first argument</span></a>
<a class="sourceLine" id="cb728-11" title="11"><span class="at">docReady</span>(fn<span class="op">,</span> context)<span class="op">;</span></a>
<a class="sourceLine" id="cb728-12" title="12"></a>
<a class="sourceLine" id="cb728-13" title="13"><span class="co">// use an anonymous function with a context</span></a>
<a class="sourceLine" id="cb728-14" title="14"><span class="at">docReady</span>(<span class="kw">function</span>(context) <span class="op">{</span></a>
<a class="sourceLine" id="cb728-15" title="15">    <span class="co">// code here that can use the context argument that was passed to docReady</span></a>
<a class="sourceLine" id="cb728-16" title="16"><span class="op">},</span> ctx)<span class="op">;</span></a></code></pre></div>
<hr>
<p>This has been tested in:</p>
<div class="sourceCode" id="cb729"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb729-1" title="1">IE6 and up</a>
<a class="sourceLine" id="cb729-2" title="2">Firefox <span class="fl">3.6</span> and up</a>
<a class="sourceLine" id="cb729-3" title="3">Chrome <span class="dv">14</span> and up</a>
<a class="sourceLine" id="cb729-4" title="4">Safari <span class="fl">5.1</span> and up</a>
<a class="sourceLine" id="cb729-5" title="5">Opera <span class="fl">11.6</span> and up</a>
<a class="sourceLine" id="cb729-6" title="6">Multiple iOS devices</a>
<a class="sourceLine" id="cb729-7" title="7">Multiple Android devices</a></code></pre></div>
<p>Working implementation and test bed: <a href="http://jsfiddle.net/jfriend00/YfD3C/" rel="noreferrer">http://jsfiddle.net/jfriend00/YfD3C/</a></p>
<hr>
<p>Here’s a summary of how it works:</p>
<ol>
<li>
Create an <a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/" rel="noreferrer">IIFE</a> (immediately invoked function expression) so we can have non-public state variables.
</li>
<li>
Declare a public function <code>docReady(fn, context)</code>
</li>
<li>
When <code>docReady(fn, context)</code> is called, check if the ready handler has already fired. If so, just schedule the newly added callback to fire right after this thread of JS finishes with <code>setTimeout(fn, 1)</code>.
</li>
<li>
If the ready handler has not already fired, then add this new callback to the list of callbacks to be called later.
</li>
<li>
Check if the document is already ready. If so, execute all ready handlers.
</li>
<li>
If we haven’t installed event listeners yet to know when the document becomes ready, then install them now.
</li>
<li>
If <code>document.addEventListener</code> exists, then install event handlers using <code>.addEventListener()</code> for both <code>&quot;DOMContentLoaded&quot;</code> and <code>&quot;load&quot;</code> events. The “load” is a backup event for safety and should not be needed.
</li>
<li>
If <code>document.addEventListener</code> doesn’t exist, then install event handlers using <code>.attachEvent()</code> for <code>&quot;onreadystatechange&quot;</code> and <code>&quot;onload&quot;</code> events.
</li>
<li>
In the <code>onreadystatechange</code> event, check to see if the <code>document.readyState === &quot;complete&quot;</code> and if so, call a function to fire all the ready handlers.
</li>
<li>
In all the other event handlers, call a function to fire all the ready handlers.
</li>
<li>
In the function to call all the ready handlers, check a state variable to see if we’ve already fired. If we have, do nothing. If we haven’t yet been called, then loop through the array of ready functions and call each one in the order they were added. Set a flag to indicate these have all been called so they are never executed more than once.
</li>
<li>
Clear the function array so any closures they might be using can be freed.
</li>
</ol>
<p>Handlers registered with <code>docReady()</code> are guaranteed to be fired in the order they were registered.</p>
<p>If you call <code>docReady(fn)</code> after the document is already ready, the callback will be scheduled to execute as soon as the current thread of execution completes using <code>setTimeout(fn, 1)</code>. This allows the calling code to always assume they are async callbacks that will be called later, even if later is as soon as the current thread of JS finishes and it preserves calling order.</p>
</section>
<section id="answer-2-score-146" class="level4">
<h4>Answer 2 (score 146)</h4>
<p>I would like to mention some of the possible ways here together with a <strong>pure javascript trick which works across all browsers</strong>:</p>
<div class="sourceCode" id="cb730"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb730-1" title="1"><span class="co">// with jQuery </span></a>
<a class="sourceLine" id="cb730-2" title="2"><span class="at">$</span>(document).<span class="at">ready</span>(<span class="kw">function</span>()<span class="op">{</span> <span class="co">/* ... */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb730-3" title="3"></a>
<a class="sourceLine" id="cb730-4" title="4"><span class="co">// shorter jQuery version </span></a>
<a class="sourceLine" id="cb730-5" title="5"><span class="at">$</span>(<span class="kw">function</span>()<span class="op">{</span> <span class="co">/* ... */</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb730-6" title="6"></a>
<a class="sourceLine" id="cb730-7" title="7"><span class="co">// without jQuery (doesn&#39;t work in older IEs)</span></a>
<a class="sourceLine" id="cb730-8" title="8"><span class="va">document</span>.<span class="at">addEventListener</span>(<span class="st">&#39;DOMContentLoaded&#39;</span><span class="op">,</span> <span class="kw">function</span>()<span class="op">{</span> </a>
<a class="sourceLine" id="cb730-9" title="9">    <span class="co">// your code goes here</span></a>
<a class="sourceLine" id="cb730-10" title="10"><span class="op">},</span> <span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb730-11" title="11"></a>
<a class="sourceLine" id="cb730-12" title="12"><span class="co">// and here&#39;s the trick (works everywhere)</span></a>
<a class="sourceLine" id="cb730-13" title="13"><span class="kw">function</span> <span class="at">r</span>(f)<span class="op">{</span><span class="ss">/in/</span>.<span class="at">test</span>(<span class="va">document</span>.<span class="at">readyState</span>)<span class="op">?</span><span class="at">setTimeout</span>(<span class="st">&#39;r(&#39;</span><span class="op">+</span>f<span class="op">+</span><span class="st">&#39;)&#39;</span><span class="op">,</span><span class="dv">9</span>):<span class="at">f</span>()<span class="op">}</span></a>
<a class="sourceLine" id="cb730-14" title="14"><span class="co">// use like</span></a>
<a class="sourceLine" id="cb730-15" title="15"><span class="at">r</span>(<span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb730-16" title="16">    <span class="at">alert</span>(<span class="st">&#39;DOM Ready!&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb730-17" title="17"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>The trick here, as explained by the <a href="http://www.dustindiaz.com/smallest-domready-ever" rel="noreferrer">original author</a>, is that we are checking the <strong>document.readyState</strong> property. If it contains the string <code>in</code> (as in <code>uninitialized</code> and <code>loading</code>, the first two <a href="http://www.w3schools.com/jsref/prop_doc_readystate.asp" rel="noreferrer">DOM ready states</a> out of 5) we set a timeout and check again. Otherwise, we execute the passed function.</p>
<p>And here’s the <a href="http://jsfiddle.net/ramswaroop/br21uzk7/" rel="noreferrer">jsFiddle</a> for the trick which <strong>works across all browsers.</strong></p>
<p>Thanks to <a href="http://tutorialzine.com/" rel="noreferrer">Tutorialzine</a> for including this in their book.</p>
</section>
<section id="answer-3-score-127" class="level4">
<h4>Answer 3 (score 127)</h4>
<p>If you are doing <strong>VANILLA</strong> plain <strong>JavaScript</strong> without jQuery, then you must use (Internet Explorer 9 or later):</p>
<div class="sourceCode" id="cb731"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb731-1" title="1"><span class="va">document</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> <span class="kw">function</span>(event) <span class="op">{</span></a>
<a class="sourceLine" id="cb731-2" title="2">    <span class="co">// Your code to run since DOM is loaded and ready</span></a>
<a class="sourceLine" id="cb731-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Above is the equivalent of jQuery <code>.ready</code>:</p>
<div class="sourceCode" id="cb732"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb732-1" title="1"><span class="at">$</span>(document).<span class="at">ready</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb732-2" title="2">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Ready!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb732-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Which ALSO could be written SHORTHAND like this, which jQuery will run after the ready even <a href="https://stackoverflow.com/q/7614574/32453">occurs</a>.</p>
<div class="sourceCode" id="cb733"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb733-1" title="1"><span class="at">$</span>(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb733-2" title="2">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;ready!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb733-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>NOT TO BE CONFUSED with BELOW</strong> (which is not meant to be DOM ready):</p>
<p>DO NOT use an <a href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE" rel="noreferrer">IIFE</a> like this that is self executing:</p>
<div class="sourceCode" id="cb734"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb734-1" title="1"> Example<span class="op">:</span></a>
<a class="sourceLine" id="cb734-2" title="2"></a>
<a class="sourceLine" id="cb734-3" title="3">(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb734-4" title="4">   <span class="co">// Your page initialization code here  - WRONG</span></a>
<a class="sourceLine" id="cb734-5" title="5">   <span class="co">// The DOM will be available here   - WRONG</span></a>
<a class="sourceLine" id="cb734-6" title="6"><span class="op">}</span>)()<span class="op">;</span></a></code></pre></div>
<p>This IIFE will NOT wait for your DOM to load. (I’m even talking about latest version of Chrome browser!)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-if-element-exists-in-jquery-score-1244831-in-2013" class="level3">
<h3>99: Check if element exists in jQuery (score <a href="https://stackoverflow.com/q/4592493.html">1244831</a> in 2013)</h3>
<section id="question-98" class="level4">
<h4>Question</h4>
<p>
How do I check if an element exists if the element is created by <code>.append()</code> method? <code>$('elemId').length</code> doesn’t work for me.
</p>
</section>
<section id="answer-accepted-score-1663" class="level4">
<h4>Answer accepted (score 1663)</h4>
<blockquote>
<p>
<code>$('elemId').length</code> doesn’t work for me.
</p>
</blockquote>
<p>You need to put <code>#</code> before element id:</p>
<div class="sourceCode" id="cb735"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb735-1" title="1"><span class="at">$</span>(<span class="st">&#39;#elemId&#39;</span>).<span class="at">length</span></a>
<a class="sourceLine" id="cb735-2" title="2"><span class="op">---^</span></a></code></pre></div>
<hr>
<p>With vanilla JavaScript, you don’t need the hash (<code>#</code>) e.g. <code>document.getElementById('id_here')</code> , however when using jQuery, you do need to put hash to target elements based on <code>id</code> just like CSS.</p>
</section>
<section id="answer-2-score-348" class="level4">
<h4>Answer 2 (score 348)</h4>
<p>Try to check the length of the selector, if it returns you something then the element must exists else not.</p>
<div class="sourceCode" id="cb736"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb736-1" title="1"> <span class="cf">if</span>( <span class="at">$</span>(<span class="st">&#39;#selector&#39;</span>).<span class="at">length</span> )         <span class="co">// use this if you are using id to check</span></a>
<a class="sourceLine" id="cb736-2" title="2"><span class="op">{</span></a>
<a class="sourceLine" id="cb736-3" title="3">     <span class="co">// it exists</span></a>
<a class="sourceLine" id="cb736-4" title="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb736-5" title="5"></a>
<a class="sourceLine" id="cb736-6" title="6"></a>
<a class="sourceLine" id="cb736-7" title="7"> <span class="cf">if</span>( <span class="at">$</span>(<span class="st">&#39;.selector&#39;</span>).<span class="at">length</span> )         <span class="co">// use this if you are using class to check</span></a>
<a class="sourceLine" id="cb736-8" title="8"><span class="op">{</span></a>
<a class="sourceLine" id="cb736-9" title="9">     <span class="co">// it exists</span></a>
<a class="sourceLine" id="cb736-10" title="10"><span class="op">}</span></a></code></pre></div>
</section>
<section id="answer-3-score-127-1" class="level4">
<h4>Answer 3 (score 127)</h4>
<p>Try this:</p>
<div class="sourceCode" id="cb737"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb737-1" title="1"><span class="cf">if</span> (<span class="at">$</span>(<span class="st">&quot;#mydiv&quot;</span>).<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb737-2" title="2">  <span class="co">// do something here</span></a>
<a class="sourceLine" id="cb737-3" title="3"><span class="op">}</span></a></code></pre></div>
<p>The length property will return zero if element does not exists.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-get-started-with-node.js-score-1227201-in-2013" class="level3">
<h3>100: How do I get started with Node.js (score <a href="https://stackoverflow.com/q/2353818.html">1227201</a> in 2013)</h3>
<section id="question-99" class="level4">
<h4>Question</h4>
<p>Are there any good resources to get started with Node.JS? Any good tutorials, blogs or books?</p>
<p>Of course, I have visited its official website <a href="http://nodejs.org/" rel="noreferrer">http://nodejs.org/</a>, but I didn’t think the documentation they have is a good starting point.</p>
</section>
<section id="answer-2-score-4549" class="level4">
<h4>Answer 2 (score 4549)</h4>
<p><strong>Tutorials</strong></p>
<ul>
<li>
<a href="http://nodeschool.io/" rel="nofollow noreferrer">NodeSchool.io interactive lessons</a>
</li>
<li>
<a href="https://github.com/maxogden/art-of-node/#the-art-of-node" rel="nofollow noreferrer">The Art of Node (an introduction to Node.js)</a>
</li>
<li>
<a href="http://www.nodebeginner.org/#hello-world" rel="nofollow noreferrer">Hello World</a>
</li>
<li>
<a href="http://www.nodebeginner.org/#building-the-application-stack" rel="nofollow noreferrer">Hello World Web Server</a> (paid)
</li>
<li>
<a href="http://nodeguide.com/" rel="nofollow noreferrer">Node.js guide</a>
</li>
<li>
<a href="http://howtonode.org/express-mongodb" rel="nofollow noreferrer">Build a blog with Node.js, express and MongoDB</a>
</li>
<li>
<a href="http://net.tutsplus.com/tutorials/javascript-ajax/node-js-for-beginners/" rel="nofollow noreferrer">Node.js for Beginners</a>
</li>
<li>
<a href="http://javascriptissexy.com/learn-node-js-completely-and-with-confidence/" rel="nofollow noreferrer">Learn Node.js Completely and with Confidence</a>
</li>
<li>
<a href="http://www.journaldev.com/7462/node-js-processing-model-single-threaded-model-with-event-loop-architecture" rel="nofollow noreferrer">Node JS Processing Model – Single Threaded Model with Event Loop Architecture</a>
</li>
<li>
<a href="https://blog.risingstack.com/node-hero-tutorial-getting-started-with-node-js/" rel="nofollow noreferrer">RisingStack’s Node Hero Series</a>
</li>
<li>
<a href="https://hackr.io/tutorials/learn-node-js" rel="nofollow noreferrer">Great Node.js tutorials voted by the programming community</a>
</li>
<li>
<a href="http://www.nodejsrecipes.com/" rel="nofollow noreferrer">Node.js Recipes</a>
</li>
<li>
<p>
<a href="https://www.tutorialkart.com/nodejs/nodejs-tutorial/" rel="nofollow noreferrer">Node.js Tutorial</a>
</p>
</li>
<li>
<p>
<a href="https://www.nodejsera.com/30-days-of-node.html" rel="nofollow noreferrer">30 days of Node</a>
</p>
</li>
</ul>
<p><strong>Developer Sites</strong></p>
<ul>
<li>
<a href="http://www.joyent.com/developers/node" rel="nofollow noreferrer">Joyent’s developer site for node</a>
</li>
<li>
<a href="https://www.tutorialsteacher.com/nodejs/nodejs-tutorials" rel="nofollow noreferrer">Tutorials Teacher</a>
</li>
</ul>
<p><strong>Videos</strong></p>
<ul>
<li>
<a href="http://nodetuts.com/" rel="nofollow noreferrer">Node Tuts</a> (Node.js video tutorials)
</li>
<li>
<a href="https://vimeo.com/thenativeweb" rel="nofollow noreferrer">Einführung in Node.js (in German)</a>
</li>
<li>
<a href="http://www.youtube.com/watch?v=jo_B4LTHi3I" rel="nofollow noreferrer">Introduction to Node.js with Ryan Dahl</a>
</li>
<li>
<a href="http://www.infoq.com/presentations/nodejs" rel="nofollow noreferrer">Node.js: Asynchronous Purity Leads to Faster Development</a>
</li>
<li>
<a href="http://www.infoq.com/presentations/Parallel-Programming-with-Nodejs" rel="nofollow noreferrer">Parallel Programming with Node.js</a>
</li>
<li>
<a href="http://vimeo.com/18077379" rel="nofollow noreferrer">Server-side JavaScript with Node, Connect &amp; Express</a>
</li>
<li>
<a href="http://www.lynda.com/Nodejs-tutorials/Nodejs-First-Look/101554-2.html" rel="nofollow noreferrer">Node.js First Look</a>
</li>
<li>
<a href="http://www.youtube.com/watch?v=0_GNHWZHc-o" rel="nofollow noreferrer">Node.js with MongoDB</a>
</li>
<li>
<a href="http://www.youtube.com/watch?v=F6k8lTrAE2g" rel="nofollow noreferrer">Ryan Dahl’s Google Tech Talk</a>
</li>
<li>
<a href="http://node.codeschool.com/levels/1" rel="nofollow noreferrer">Real Time Web with Node.js</a>
</li>
<li>
<a href="https://www.youtube.com/playlist?list=PL6gx4Cwl9DGBMdkKFn3HasZnnAqVjzHn_" rel="nofollow noreferrer">Node.js Tutorials for Beginners</a>
</li>
<li>
<a href="http://www.pluralsight.com/search/?searchTerm=Node.js" rel="nofollow noreferrer">Pluralsight courses (paid)</a>
</li>
<li>
<a href="https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwj6oMvR35nTAhWFuY8KHfC-BFoQFggZMAA&amp;url=https%3A%2F%2Fwww.udemy.com%2Funderstand-nodejs%2F&amp;usg=AFQjCNF3WkS8cFyYrTgzgd5V_S1ANKkZJw&amp;sig2=rD4t8JYDPvQKjwAMzQnH7Q" rel="nofollow noreferrer">Udemy Learn and understand Nodejs (paid)</a>
</li>
<li>
<a href="https://www.youtube.com/watch?v=-u-j7uqU7sI&amp;list=PL6gx4Cwl9DGBMdkKFn3HasZnnAqVjzHn_" rel="nofollow noreferrer">The New Boston</a>
</li>
</ul>
<p><strong>Screencasts</strong></p>
<ul>
<li>
<a href="http://learnallthenodes.com" rel="nofollow noreferrer">Learn All The Nodes</a>
</li>
<li>
<a href="http://nodetuts.com/" rel="nofollow noreferrer">Node Tuts</a>
</li>
<li>
<a href="https://vimeo.com/thenativeweb" rel="nofollow noreferrer">Einführung in Node.js (in German)</a>
</li>
<li>
<a href="http://nodecasts.net/" rel="nofollow noreferrer">NodeCasts</a>
</li>
</ul>
<p><strong>Books</strong></p>
<ul>
<li>
<a href="http://nodebeginner.org/" rel="nofollow noreferrer">The Node Beginner Book</a>
</li>
<li>
<a href="https://github.com/tj/masteringnode" rel="nofollow noreferrer">Mastering Node.js</a>
</li>
<li>
<a href="http://chimera.labs.oreilly.com/books/1234000001808/index.html" rel="nofollow noreferrer">Up and Running with Node.js</a>
</li>
<li>
<a href="http://www.manning.com/cantelon/" rel="nofollow noreferrer">Node.js in Action</a>
</li>
<li>
<a href="https://rads.stackoverflow.com/amzn/click/com/B008Z5OEUY" rel="nofollow noreferrer" rel="nofollow noreferrer">Smashing Node.js: JavaScript Everywhere</a>
</li>
<li>
<a href="http://www.amazon.de/dp/389864829X" rel="nofollow noreferrer">Node.js &amp; Co. (in German)</a>
</li>
<li>
<a href="http://nodejsbook.io/" rel="nofollow noreferrer">Sam’s Teach Yourself Node.js in 24 Hours</a>
</li>
<li>
<a href="http://jsbooks.revolunet.com/" rel="nofollow noreferrer">Most detailed list of free JavaScript Books</a>
</li>
<li>
<a href="http://book.mixu.net/node/index.html" rel="nofollow noreferrer">Mixu’s Node Book</a>
</li>
<li>
<a href="http://pragprog.com/book/jwnode/node-js-the-right-way" rel="nofollow noreferrer">Node.js the Right Way: Practical, Server-Side JavaScript That Scale</a>
</li>
<li>
<a href="https://leanpub.com/webdevelopmentwithnodejs" rel="nofollow noreferrer">Beginning Web Development with Node.js</a>
</li>
<li>
<a href="http://www.packtpub.com/node-javascript-web-development/book" rel="nofollow noreferrer">Node Web Development</a>
</li>
<li>
<a href="http://node.codeschool.com/" rel="nofollow noreferrer">NodeJS for Righteous Universal Domination!</a>
</li>
</ul>
<p><strong>Courses</strong></p>
<ul>
<li>
<a href="http://node.codeschool.com/" rel="nofollow noreferrer">Real Time Web with Node.js</a>
</li>
<li>
<a href="http://www.develop.com/training-course/nodejs-featuring-node-npm-express-mocha-mongodb-with-mongoose" rel="nofollow noreferrer">Essential Node.js from DevelopMentor</a>
</li>
<li>
<a href="https://www.freecodecamp.org/" rel="nofollow noreferrer">Freecodecamp - Learn to code for free</a>
</li>
</ul>
<p><strong>Blogs</strong></p>
<ul>
<li>
<a href="http://blog.nodejs.org/" rel="nofollow noreferrer">The Node.js blog</a>
</li>
<li>
<a href="http://howtonode.org/" rel="nofollow noreferrer">How To Node</a>
</li>
<li>
<a href="http://dailyjs.com/" rel="nofollow noreferrer">DailyJS</a>
</li>
<li>
<a href="http://blog.nodejitsu.com/" rel="nofollow noreferrer">Nodejitsu blog</a>
</li>
<li>
<a href="http://www.wilcoxd.com/whitepapers/node_js/" rel="nofollow noreferrer">Ryan Wilcox’s Whitepaper</a>
</li>
<li>
<a href="http://www.devthought.com/" rel="nofollow noreferrer">devthought</a>
</li>
</ul>
<p><strong>Podcasts</strong></p>
<ul>
<li>
<a href="http://nodeup.com/" rel="nofollow noreferrer">NodeUp</a>
</li>
</ul>
<p><strong>JavaScript resources</strong></p>
<ul>
<li>
<a href="https://www.youtube.com/playlist?list=PL7664379246A246CB" rel="nofollow noreferrer">Crockford’s videos</a> (must see!)
</li>
<li>
<a href="http://www.addyosmani.com/resources/essentialjsdesignpatterns/book/" rel="nofollow noreferrer">Essential JavaScript Design Patterns For Beginners</a>
</li>
<li>
<a href="http://bonsaiden.github.com/JavaScript-Garden/" rel="nofollow noreferrer">JavaScript garden</a>
</li>
<li>
<a href="http://oreilly.com/catalog/9780596806767" rel="nofollow noreferrer">JavaScript Patterns</a> book
</li>
<li>
<a href="http://oreilly.com/catalog/9780596517748/" rel="nofollow noreferrer">JavaScript: The Good Parts</a> book
</li>
<li>
<a href="http://eloquentjavascript.net/" rel="nofollow noreferrer">Eloquent javascript </a> book
</li>
</ul>
<p><strong>Node.js Modules</strong></p>
<ul>
<li>
<a href="http://npmjs.org/" rel="nofollow noreferrer">Search for registered Node.js modules</a>
</li>
<li>
<a href="https://github.com/sindresorhus/awesome-nodejs" rel="nofollow noreferrer">A curated list of awesome Node.js libraries</a>
</li>
<li>
<a href="https://github.com/joyent/node/wiki/modules" rel="nofollow noreferrer">Wiki List on GitHub/Joyent/Node.js</a> (start here last!)
</li>
</ul>
<p><strong>Other</strong></p>
<ul>
<li>
<a href="http://jsapp.us/" rel="nofollow noreferrer">JSApp.US - like jsfiddle, but for Node.js</a>
</li>
<li>
<a href="https://www.ebayopensource.org/index.php/VJET/NodeJS" rel="nofollow noreferrer">Node with VJET JS (for Eclipse IDE)</a>
</li>
<li>
<p>Production sites with published source:</p>
<ul>
<li>
<a href="http://nodeknockout.com/" rel="nofollow noreferrer">Node Knockout Hackathon</a> <a href="https://github.com/nko3/website" rel="nofollow noreferrer">(source)</a>
</li>
<li>
<a href="https://www.freecodecamp.org/" rel="nofollow noreferrer">Freecodecamp - Learn to code for free</a> <a href="https://github.com/freeCodeCamp/freeCodeCamp" rel="nofollow noreferrer">(source)</a>
</li>
</ul>
</li>
<li>
<a href="http://coding.smashingmagazine.com/2011/09/16/useful-node-js-tools-tutorials-and-resources/" rel="nofollow noreferrer">Useful Node.js Tools, Tutorials and Resources</a>
</li>
<li>
<a href="http://runnable.com/" rel="nofollow noreferrer">Runnable.com - like jsfiddle, but for server side as well</a>
</li>
<li>
<a href="https://devcenter.heroku.com/categories/nodejs" rel="nofollow noreferrer">Getting Started with Node.js on Heroku</a>
</li>
<li>
<a href="https://blog.openshift.com/run-your-nodejs-projects-on-openshift-in-two-simple-steps/" rel="nofollow noreferrer">Getting Started with Node.js on Open-Shift</a>
</li>
<li>
<a href="http://passportjs.org/guide/" rel="nofollow noreferrer">Authentication using Passport</a>
</li>
</ul>
</section>
<section id="answer-3-score-1782" class="level4">
<h4>Answer 3 (score 1782)</h4>
<p><strong>First, learn the core concepts of Node.js:</strong></p>
<ul>
<li>
<p>
<a href="http://blog.shinetech.com/2011/08/26/asynchronous-code-design-with-node-js/" rel="noreferrer">You’ll want to understand the asynchronous coding style that Node.js encourages</a>.
</p>
</li>
<li>
<p>
<a href="http://blog.mixu.net/2011/02/01/understanding-the-node-js-event-loop/" rel="noreferrer">Async != concurrent. Understand Node.js’s event loop</a>!
</p>
</li>
<li>
<p>
<a href="http://docs.nodejitsu.com/articles/getting-started/what-is-require" rel="noreferrer">Node.js uses CommonJS-style require() for code loading; it’s probably a bit different from what you’re used to</a>.
</p>
</li>
<li>
<p>
<a href="http://nodejs.org/api/index.html" rel="noreferrer">Familiarize yourself with Node.js’s standard library</a>.
</p>
</li>
</ul>
<p><strong>Then, you’re going to want to see what the community has to offer:</strong></p>
<p>The gold standard for Node.js package management is <a href="http://npmjs.org/" rel="noreferrer">NPM</a>.</p>
<ul>
<li>
<p>
<a href="http://docs.nodejitsu.com/articles/getting-started/npm/what-is-npm" rel="noreferrer">It is a command line tool for managing your project’s dependencies</a>.
</p>
</li>
<li>
<p>
<a href="http://nodejs.org/api/modules.html" rel="noreferrer">Make sure you understand how Node.js and NPM interact with your project via the node_modules folder and package.json</a>.
</p>
</li>
<li>
<p>
<a href="http://search.npmjs.org/" rel="noreferrer">NPM is also a registry of pretty much every Node.js package out there</a>
</p>
</li>
</ul>
<p><strong>Finally, you’re going to want to know what some of the more popular packages are for various tasks:</strong></p>
<p><strong>Useful Tools for Every Project:</strong></p>
<ul>
<li>
<a href="http://underscorejs.org/" rel="noreferrer">Underscore</a> contains just about every core utility method you want.
</li>
<li>
<a href="http://lodash.com/" rel="noreferrer">Lo-Dash</a> is a clone of Underscore that aims to be faster, more customizable, and has quite a few functions that underscore doesn’t have. Certain versions of it can be used as drop-in replacements of underscore.
</li>
<li>
<a href="http://www.typescriptlang.org" rel="noreferrer">TypeScript</a> makes JavaScript considerably more bearable, while also keeping you out of trouble!
</li>
<li>
<a href="http://jshint.com/" rel="noreferrer">JSHint</a> is a code-checking tool that’ll save you loads of time finding stupid errors. Find a plugin for your text editor that will automatically run it on your code.
</li>
</ul>
<p><strong>Unit Testing:</strong></p>
<ul>
<li>
<a href="https://github.com/mochajs/mocha" rel="noreferrer">Mocha</a> is a popular test framework.
</li>
<li>
<a href="http://vowsjs.org/" rel="noreferrer">Vows</a> is a fantastic take on asynchronous testing, albeit somewhat stale.
</li>
<li>
<a href="http://visionmedia.github.com/expresso/" rel="noreferrer">Expresso</a> is a more traditional unit testing framework.
</li>
<li>
<a href="https://github.com/caolan/nodeunit" rel="noreferrer">node-unit</a> is another relatively traditional unit testing framework.
</li>
<li>
<a href="https://github.com/sindresorhus/ava" rel="noreferrer">AVA</a> is a new test runner with Babel built-in and runs tests concurrently.
</li>
</ul>
<p><strong>Web Frameworks:</strong></p>
<ul>
<li>
<a href="http://expressjs.com/" rel="noreferrer">Express.js</a> is by far the most popular framework.
</li>
<li>
<a href="http://koajs.com/" rel="noreferrer">Koa</a> is a new web framework designed by the team behind Express.js, which aims to be a smaller, more expressive, and more robust foundation for web applications and APIs.
</li>
<li>
<a href="https://sailsjs.org" rel="noreferrer">sails.js</a> the most popular MVC framework for Node.js, and is based on express. It is designed to emulate the familiar MVC pattern of frameworks like Ruby on Rails, but with support for the requirements of modern apps: data-driven APIs with a scalable, service-oriented architecture.
</li>
<li>
<a href="http://www.meteor.com/" rel="noreferrer">Meteor</a> bundles together jQuery, Handlebars, Node.js, <a href="http://en.wikipedia.org/wiki/WebSocket" rel="noreferrer">WebSocket</a>, <a href="http://en.wikipedia.org/wiki/MongoDB" rel="noreferrer">MongoDB</a>, and DDP and promotes convention over configuration without being a <a href="http://en.wikipedia.org/wiki/Ruby_on_Rails" rel="noreferrer">Ruby on Rails</a> clone.
</li>
<li>
<a href="http://towerjs.org/" rel="noreferrer">Tower</a> (<em>deprecated</em>) is an abstraction of a top of Express.js that aims to be a Ruby on Rails clone.
</li>
<li>
<a href="http://geddyjs.org/" rel="noreferrer">Geddy</a> is another take on web frameworks.
</li>
<li>
<a href="https://npmjs.org/package/railway" rel="noreferrer">RailwayJS</a> is a Ruby on Rails inspired MVC web framework.
</li>
<li>
<a href="https://sleekjs.com" rel="noreferrer">Sleek.js</a> is a simple web framework, built upon Express.js.
</li>
<li>
<a href="http://hapijs.com" rel="noreferrer">Hapi</a> is a configuration-centric framework with built-in support for input validation, caching, authentication, etc.
</li>
<li>
<p>
<a href="http://www.trailsjs.io" rel="noreferrer">Trails</a> is a modern web application framework. It builds on the pedigree of <a href="http://rubyonrails.org/" rel="noreferrer">Rails</a> and <a href="https://grails.org/" rel="noreferrer">Grails</a> to accelerate development by adhering to a straightforward, convention-based, API-driven design philosophy.
</p>
</li>
<li>
<p>
<a href="https://github.com/gnodi/danf" rel="noreferrer">Danf</a> is a full-stack OOP framework providing many features in order to produce a scalable, maintainable, testable and performant applications and allowing to code the same way on both the server (Node.js) and client (browser) sides.
</p>
</li>
<li>
<p>
<a href="http://derbyjs.com/" rel="noreferrer">Derbyjs</a> is a reactive full-stack JavaScript framework. They are using patterns like reactive programming and isomorphic JavaScript for a long time.
</p>
</li>
<li>
<p>
<a href="http://loopback.io/" rel="noreferrer">Loopback.io</a> is a powerful Node.js framework for creating APIs and easily connecting to backend data sources. It has an Angular.js SDK and provides SDKs for iOS and Android.
</p>
</li>
</ul>
<p><strong>Web Framework Tools:</strong></p>
<ul>
<li>
<a href="https://github.com/visionmedia/jade" rel="noreferrer">Jade</a> is the HAML/Slim of the Node.js world
</li>
<li>
<a href="https://github.com/visionmedia/ejs" rel="noreferrer">EJS</a> is a more traditional templating language.
</li>
<li>
Don’t forget about <a href="http://documentcloud.github.com/underscore/#template" rel="noreferrer">Underscore’s template method</a>!
</li>
</ul>
<p><strong>Networking:</strong></p>
<ul>
<li>
<a href="http://www.senchalabs.org/connect/" rel="noreferrer">Connect</a> is the Rack or WSGI of the Node.js world.
</li>
<li>
<a href="https://github.com/mikeal/request" rel="noreferrer">Request</a> is a very popular HTTP request library.
</li>
<li>
<a href="https://github.com/LearnBoost/socket.io" rel="noreferrer">socket.io</a> is handy for building WebSocket servers.
</li>
</ul>
<p><strong>Command Line Interaction:</strong></p>
<ul>
<li>
<a href="https://www.npmjs.com/package/minimist" rel="noreferrer">minimist</a> just command line argument parsing.
</li>
<li>
<a href="https://github.com/bcoe/yargs" rel="noreferrer">Yargs</a> is a powerful library for parsing command-line arguments.
</li>
<li>
<a href="https://github.com/tj/commander.js" rel="noreferrer">Commander.js</a> is a complete solution for building single-use command-line applications.
</li>
<li>
<a href="https://github.com/dthree/vorpal" rel="noreferrer">Vorpal.js</a> is a framework for building mature, immersive command-line applications.
</li>
<li>
<a href="https://github.com/chalk/chalk" rel="noreferrer">Chalk</a> makes your CLI output pretty.
</li>
</ul>
<p><strong>Work with streams:</strong></p>
<ul>
<li>
<a href="https://github.com/maxogden/mississippi" rel="noreferrer">mississipi</a> everything you miss about streams.
</li>
<li>
<a href="https://github.com/calvinmetcalf/streams-a-love-story" rel="noreferrer">https://github.com/calvinmetcalf/streams-a-love-story</a>
</li>
<li>
<a href="http://maxogden.com/node-streams.html" rel="noreferrer">http://maxogden.com/node-streams.html</a>
</li>
<li>
<a href="https://github.com/substack/stream-handbook" rel="noreferrer">https://github.com/substack/stream-handbook</a>
</li>
<li>
<a href="https://www.youtube.com/watch?v=QgEuZ52OZtU" rel="noreferrer">How streams help to raise Node.js performance</a>
</li>
</ul>
</section>
</section>
</section>
</body>
</html>
