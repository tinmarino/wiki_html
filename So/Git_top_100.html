<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Git_top_100.md – Git &lt;- StackOverflow top 100</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #232629;
    color: #7a7c7d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
div.sourceCode
  { color: #cfcfc2; background-color: #232629; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #cfcfc2; } /* Normal */
code span.al { color: #95da4c; } /* Alert */
code span.an { color: #3f8058; } /* Annotation */
code span.at { color: #2980b9; } /* Attribute */
code span.bn { color: #f67400; } /* BaseN */
code span.bu { color: #7f8c8d; } /* BuiltIn */
code span.cf { color: #fdbc4b; } /* ControlFlow */
code span.ch { color: #3daee9; } /* Char */
code span.cn { color: #27aeae; } /* Constant */
code span.co { color: #7a7c7d; } /* Comment */
code span.cv { color: #7f8c8d; } /* CommentVar */
code span.do { color: #a43340; } /* Documentation */
code span.dt { color: #2980b9; } /* DataType */
code span.dv { color: #f67400; } /* DecVal */
code span.er { color: #da4453; } /* Error */
code span.ex { color: #0099ff; } /* Extension */
code span.fl { color: #f67400; } /* Float */
code span.fu { color: #8e44ad; } /* Function */
code span.im { color: #27ae60; } /* Import */
code span.in { color: #c45b00; } /* Information */
code span.kw { color: #cfcfc2; } /* Keyword */
code span.op { color: #cfcfc2; } /* Operator */
code span.ot { color: #27ae60; } /* Other */
code span.pp { color: #27ae60; } /* Preprocessor */
code span.re { color: #2980b9; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #da4453; } /* SpecialString */
code span.st { color: #f44f4f; } /* String */
code span.va { color: #27aeae; } /* Variable */
code span.vs { color: #da4453; } /* VerbatimString */
code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="../Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="../Css/layout_toc.css" />
  <script type="text/javascript" src="../Css/js_masonry_desandro.js"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Git &lt;- StackOverflow top 100</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#how-do-i-undo-the-most-recent-local-commits-in-git-score-8179416-in-2019">1: How do I undo the most recent local commits in Git? (score <span>8179416</span> in 2019)</a></li>
<li><a href="#how-do-i-delete-a-git-branch-locally-and-remotely-score-7599991-in-2019">2: How do I delete a Git branch locally and remotely? (score <span>7599991</span> in 2019)</a></li>
<li><a href="#how-do-i-revert-a-git-repository-to-a-previous-commit-score-5388210-in-2019">3: How do I revert a Git repository to a previous commit? (score <span>5388210</span> in 2019)</a></li>
<li><a href="#how-do-i-check-out-a-remote-git-branch-score-4913384-in-2017">4: How do I check out a remote Git branch? (score <span>4913384</span> in 2017)</a></li>
<li><a href="#how-do-i-force-git-pull-to-overwrite-local-files-score-4145107-in-2018">5: How do I force “git pull” to overwrite local files? (score <span>4145107</span> in 2018)</a></li>
<li><a href="#how-do-i-push-a-new-local-branch-to-a-remote-git-repository-and-track-it-too-score-3200291-in-2019">6: How do I push a new local branch to a remote Git repository and track it too? (score <span>3200291</span> in 2019)</a></li>
<li><a href="#how-do-i-clone-a-specific-git-branch-score-2851810-in-2019">7: How do I clone a specific Git branch? (score <span>2851810</span> in 2019)</a></li>
<li><a href="#how-do-i-undo-git-add-before-commit-score-2801667-in-2019">8: How do I undo ‘git add’ before commit? (score <span>2801667</span> in 2019)</a></li>
<li><a href="#reset-local-repository-branch-to-be-just-like-remote-repository-head-score-2740228-in-2016">9: Reset local repository branch to be just like remote repository HEAD (score <span>2740228</span> in 2016)</a></li>
<li><a href="#how-do-i-use-git-reset-hard-head-to-revert-to-a-previous-commit-score-2672030-in-2015">10: How do I use ‘git reset –hard HEAD’ to revert to a previous commit? (score <span>2672030</span> in 2015)</a></li>
<li><a href="#what-is-the-difference-between-git-pull-and-git-fetch-score-2657617-in-2018">11: What is the difference between ‘git pull’ and ‘git fetch’? (score <span>2657617</span> in 2018)</a></li>
<li><a href="#how-do-i-rename-a-local-git-branch-score-2621697-in-2019">12: How do I rename a local Git branch? (score <span>2621697</span> in 2019)</a></li>
<li><a href="#how-can-i-determine-the-url-that-a-local-git-repository-was-originally-cloned-from-score-2524689-in-2015">13: How can I determine the URL that a local Git repository was originally cloned from? (score <span>2524689</span> in 2015)</a></li>
<li><a href="#how-to-resolve-merge-conflicts-in-git-score-2455683-in-2019">14: How to resolve merge conflicts in Git (score <span>2455683</span> in 2019)</a></li>
<li><a href="#how-to-modify-existing-unpushed-commit-messages-score-2441373-in-2019">15: How to modify existing, unpushed commit messages? (score <span>2441373</span> in 2019)</a></li>
<li><a href="#how-do-i-discard-unstaged-changes-in-git-score-2381631-in-2019">16: How do I discard unstaged changes in Git? (score <span>2381631</span> in 2019)</a></li>
<li><a href="#git-fetch-remote-branch-score-2247058-in-2019">17: Git fetch remote branch (score <span>2247058</span> in 2019)</a></li>
<li><a href="#how-to-remove-local-untracked-files-from-the-current-git-working-tree-score-2119033-in-2019">18: How to remove local (untracked) files from the current Git working tree (score <span>2119033</span> in 2019)</a></li>
<li><a href="#delete-commits-from-a-branch-in-git-score-2101706-in-2018">19: Delete commits from a branch in Git (score <span>2101706</span> in 2018)</a></li>
<li><a href="#how-can-i-delete-a-file-from-a-git-repository-score-2100597-in-2019">20: How can I delete a file from a Git repository? (score <span>2100597</span> in 2019)</a></li>
<li><a href="#how-do-you-create-a-remote-git-branch-score-1980171-in-2017">21: How do you create a remote Git branch? (score <span>1980171</span> in 2017)</a></li>
<li><a href="#undo-a-git-merge-that-hasnt-been-pushed-yet-score-1960312-in-2016">22: Undo a Git merge that hasn’t been pushed yet (score <span>1960312</span> in 2016)</a></li>
<li><a href="#how-can-i-reset-or-revert-a-file-to-a-specific-revision-score-1760694-in-2019">23: How can I reset or revert a file to a specific revision? (score <span>1760694</span> in 2019)</a></li>
<li><a href="#how-do-you-clone-a-git-repository-into-a-specific-folder-score-1749479-in-2016">24: How do you clone a Git repository into a specific folder? (score <span>1749479</span> in 2016)</a></li>
<li><a href="#message-src-refspec-master-does-not-match-any-when-pushing-commits-in-git-score-1674634-in-2019">25: Message ‘src refspec master does not match any’ when pushing commits in Git (score <span>1674634</span> in 2019)</a></li>
<li><a href="#i-ran-into-a-merge-conflict.-how-can-i-abort-the-merge-score-1595425-in-2018">26: I ran into a merge conflict. How can I abort the merge? (score <span>1595425</span> in 2018)</a></li>
<li><a href="#difference-between-git-add--a-and-git-add-.-score-1568771-in-2013">27: Difference between “git add -A” and “git add .” (score <span>1568771</span> in 2013)</a></li>
<li><a href="#view-the-change-history-of-a-file-using-git-versioning-score-1532762-in-2017">28: View the change history of a file using Git versioning (score <span>1532762</span> in 2017)</a></li>
<li><a href="#squash-my-last-x-commits-together-using-git-score-1425969-in-2017">29: Squash my last X commits together using Git (score <span>1425969</span> in 2017)</a></li>
<li><a href="#comparing-two-branches-in-git-score-1416596-in-2015">30: Comparing two branches in Git? (score <span>1416596</span> in 2015)</a></li>
<li><a href="#what-is-the-best-and-safest-way-to-merge-a-git-branch-into-master-score-1403349-in-2019">31: What is the best (and safest) way to merge a Git branch into master? (score <span>1403349</span> in 2019)</a></li>
<li><a href="#how-to-change-the-uri-url-for-a-remote-git-repository-score-1386571-in-2018">32: How to change the URI (URL) for a remote Git repository? (score <span>1386571</span> in 2018)</a></li>
<li><a href="#how-do-i-revert-all-local-changes-in-git-managed-project-to-previous-state-score-1362819-in-2015">33: How do I revert all local changes in Git managed project to previous state? (score <span>1362819</span> in 2015)</a></li>
<li><a href="#how-to-list-all-the-files-in-a-commit-score-1353105-in-2015">34: How to list all the files in a commit? (score <span>1353105</span> in 2015)</a></li>
<li><a href="#download-a-specific-tag-with-git-score-1311826-in-2017">35: Download a specific tag with Git (score <span>1311826</span> in 2017)</a></li>
<li><a href="#how-to-get-the-current-branch-name-in-git-score-1309177-in-2016">36: How to get the current branch name in Git? (score <span>1309177</span> in 2016)</a></li>
<li><a href="#make-an-existing-git-branch-track-a-remote-branch-score-1272353-in-2014">37: Make an existing Git branch track a remote branch? (score <span>1272353</span> in 2014)</a></li>
<li><a href="#fix-a-git-detached-head-score-1238695-in-2018">38: Fix a Git detached head? (score <span>1238695</span> in 2018)</a></li>
<li><a href="#git-refusing-to-merge-unrelated-histories-on-rebase-score-1194768-in-2019">39: Git refusing to merge unrelated histories on rebase (score <span>1194768</span> in 2019)</a></li>
<li><a href="#how-to-fetch-all-git-branches-score-1191591-in-2018">40: How to fetch all Git branches (score <span>1191591</span> in 2018)</a></li>
<li><a href="#how-do-i-properly-force-a-git-push-score-1164381-in-2017">41: How do I properly force a Git push? (score <span>1164381</span> in 2017)</a></li>
<li><a href="#how-to-clone-all-remote-branches-in-git-score-1148399-in-2017">42: How to clone all remote branches in Git? (score <span>1148399</span> in 2017)</a></li>
<li><a href="#remove-files-from-git-commit-score-1142383-in-2013">43: Remove files from Git commit (score <span>1142383</span> in 2013)</a></li>
<li><a href="#how-do-i-provide-a-username-and-password-when-running-git-clone-gitremote.git-score-1128830-in-2019">44: How do I provide a username and password when running “git clone git@remote.git”? (score <span>1128830</span> in 2019)</a></li>
<li><a href="#how-to-remove-a-directory-from-git-repository-score-1101791-in-2016">45: How to remove a directory from git repository? (score <span>1101791</span> in 2016)</a></li>
<li><a href="#how-to-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-score-1080222-in-2017">46: How to make Git “forget” about a file that was tracked but is now in .gitignore? (score <span>1080222</span> in 2017)</a></li>
<li><a href="#git-pull-a-certain-branch-from-github-score-1066120-in-2018">47: Git pull a certain branch from GitHub (score <span>1066120</span> in 2018)</a></li>
<li><a href="#how-to-fully-delete-a-git-repository-created-with-init-score-1051497-in-2016">48: How to fully delete a git repository created with init? (score <span>1051497</span> in 2016)</a></li>
<li><a href="#git-merge-master-into-feature-branch-score-1045383-in-2019">49: Git merge master into feature branch (score <span>1045383</span> in 2019)</a></li>
<li><a href="#how-to-delete-a-remote-tag-score-1035939-in-2018">50: How to delete a remote tag? (score <span>1035939</span> in 2018)</a></li>
<li><a href="#gitignore-and-the-following-untracked-working-tree-files-would-be-overwritten-by-checkout-score-1011972-in-2019">51: .gitignore and “The following untracked working tree files would be overwritten by checkout” (score <span>1011972</span> in 2019)</a></li>
<li><a href="#how-to-create-a-.gitignore-file-score-990996-in-2019">52: How to create a .gitignore file (score <span>990996</span> in 2019)</a></li>
<li><a href="#why-are-there-two-ways-to-unstage-a-file-in-git-score-986301-in-2019">53: Why are there two ways to unstage a file in Git? (score <span>986301</span> in 2019)</a></li>
<li><a href="#how-do-you-push-a-tag-to-a-remote-repository-using-git-score-983045-in-2018">54: How do you push a tag to a remote repository using Git? (score <span>983045</span> in 2018)</a></li>
<li><a href="#getting-git-to-work-with-a-proxy-server-score-982415-in-2017">55: Getting git to work with a proxy server (score <span>982415</span> in 2017)</a></li>
<li><a href="#what-does-cherry-picking-a-commit-with-git-mean-score-962343-in-2019">56: What does cherry-picking a commit with Git mean? (score <span>962343</span> in 2019)</a></li>
<li><a href="#create-a-branch-in-git-from-another-branch-score-946581-in-2017">57: Create a branch in Git from another branch (score <span>946581</span> in 2017)</a></li>
<li><a href="#is-there-a-way-to-cache-github-credentials-for-pushing-commits-score-938473-in-2019">58: Is there a way to cache GitHub credentials for pushing commits? (score <span>938473</span> in 2019)</a></li>
<li><a href="#ignoring-directories-in-git-repos-on-windows-score-935943-in-2017">59: Ignoring directories in Git repos on Windows (score <span>935943</span> in 2017)</a></li>
<li><a href="#how-to-specify-the-private-ssh-key-to-use-when-executing-shell-command-on-git-score-927267-in-2018">60: How to specify the private SSH-key to use when executing shell command on Git? (score <span>927267</span> in 2018)</a></li>
<li><a href="#easy-way-to-pull-latest-of-all-git-submodules-score-926733-in-2018">61: Easy way to pull latest of all git submodules (score <span>926733</span> in 2018)</a></li>
<li><a href="#why-do-i-need-to-do---set-upstream-all-the-time-score-918075-in-2013">62: Why do I need to do <code>--set-upstream</code> all the time? (score <span>918075</span> in 2013)</a></li>
<li><a href="#find-and-restore-a-deleted-file-in-a-git-repository-score-914401-in-2016">63: Find and restore a deleted file in a Git repository (score <span>914401</span> in 2016)</a></li>
<li><a href="#git-fatal-could-not-read-from-remote-repository-score-907938-in-2014">64: git: fatal: Could not read from remote repository (score <span>907938</span> in 2014)</a></li>
<li><a href="#move-the-most-recent-commits-to-a-new-branch-with-git-score-904253-in-2017">65: Move the most recent commit(s) to a new branch with Git (score <span>904253</span> in 2017)</a></li>
<li><a href="#undoing-a-git-rebase-score-900162-in-2014">66: Undoing a git rebase (score <span>900162</span> in 2014)</a></li>
<li><a href="#how-can-i-reconcile-detached-head-with-masterorigin-score-897094-in-2017">67: How can I reconcile detached HEAD with master/origin? (score <span>897094</span> in 2017)</a></li>
<li><a href="#how-to-ignore-certain-files-in-git-score-883957-in-2019">68: How to ignore certain files in Git (score <span>883957</span> in 2019)</a></li>
<li><a href="#how-to-see-the-changes-in-a-git-commit-score-879722-in-2019">69: How to see the changes in a Git commit? (score <span>879722</span> in 2019)</a></li>
<li><a href="#lf-will-be-replaced-by-crlf-in-git---what-is-that-and-is-it-important-score-875112-in-2017">70: LF will be replaced by CRLF in git - What is that and is it important? (score <span>875112</span> in 2017)</a></li>
<li><a href="#why-is-git-better-than-subversion-score-874452-in-2010">71: Why is Git better than Subversion? (score <span>874452</span> in 2010)</a></li>
<li><a href="#how-to-solve-permission-denied-publickey-error-when-using-git-score-870971-in-2018">72: How to solve Permission denied (publickey) error when using Git? (score <span>870971</span> in 2018)</a></li>
<li><a href="#how-can-i-add-an-empty-directory-to-a-git-repository-score-869097-in-2014">73: How can I add an empty directory to a Git repository? (score <span>869097</span> in 2014)</a></li>
<li><a href="#updating-a-local-repository-with-changes-from-a-github-repository-score-867048-in-2019">74: Updating a local repository with changes from a GitHub repository (score <span>867048</span> in 2019)</a></li>
<li><a href="#rollback-to-an-old-git-commit-in-a-public-repo-score-861582-in-2015">75: Rollback to an old Git commit in a public repo (score <span>861582</span> in 2015)</a></li>
<li><a href="#github-error-message---permission-denied-publickey-score-852612-in-2016">76: GitHub Error Message - Permission denied (publickey) (score <span>852612</span> in 2016)</a></li>
<li><a href="#how-do-i-resolve-git-saying-commit-your-changes-or-stash-them-before-you-can-merge-score-849978-in-2019">77: How do I resolve git saying “Commit your changes or stash them before you can merge”? (score <span>849978</span> in 2019)</a></li>
<li><a href="#ignoring-any-bin-directory-on-a-git-project-score-846770-in-2017">78: ignoring any ‘bin’ directory on a git project (score <span>846770</span> in 2017)</a></li>
<li><a href="#how-do-i-make-git-use-the-editor-of-my-choice-for-commits-score-845181-in-2017">79: How do I make Git use the editor of my choice for commits? (score <span>845181</span> in 2017)</a></li>
<li><a href="#how-do-i-make-git-ignore-file-mode-chmod-changes-score-843774-in-2014">80: How do I make Git ignore file mode (chmod) changes? (score <span>843774</span> in 2014)</a></li>
<li><a href="#how-to-change-the-commit-author-for-one-specific-commit-score-841438-in-2018">81: How to change the commit author for one specific commit? (score <span>841438</span> in 2018)</a></li>
<li><a href="#how-can-i-remove-a-commit-on-github-score-840447-in-2018">82: How can I remove a commit on GitHub? (score <span>840447</span> in 2018)</a></li>
<li><a href="#how-do-i-remove-a-submodule-score-815253-in-2018">83: How do I remove a submodule? (score <span>815253</span> in 2018)</a></li>
<li><a href="#you-have-not-concluded-your-merge-merge_head-exists-score-804474-in-2016">84: You have not concluded your merge (MERGE_HEAD exists) (score <span>804474</span> in 2016)</a></li>
<li><a href="#git-cannot-checkout-branch---error-pathspec-did-not-match-any-files-known-to-git-score-794843-in-2017">85: Git: cannot checkout branch - error: pathspec ‘…’ did not match any file(s) known to git (score <span>794843</span> in 2017)</a></li>
<li><a href="#how-to-retrieve-the-hash-for-the-current-commit-in-git-score-792346-in-2017">86: How to retrieve the hash for the current commit in Git? (score <span>792346</span> in 2017)</a></li>
<li><a href="#how-to-change-the-author-and-committer-name-and-e-mail-of-multiple-commits-in-git-score-789248-in-2018">87: How to change the author and committer name and e-mail of multiple commits in Git? (score <span>789248</span> in 2018)</a></li>
<li><a href="#receiving-fatal-not-a-git-repository-when-attempting-to-remote-add-a-git-repo-score-783501-in-2014">88: Receiving “fatal: Not a git repository” when attempting to remote add a Git repo (score <span>783501</span> in 2014)</a></li>
<li><a href="#cannot-push-to-github---keeps-saying-need-merge-score-779252-in-2016">89: Cannot push to GitHub - keeps saying need merge (score <span>779252</span> in 2016)</a></li>
<li><a href="#download-single-files-from-github-score-775547-in-2015">90: Download single files from GitHub (score <span>775547</span> in 2015)</a></li>
<li><a href="#how-do-i-show-the-changes-which-have-been-staged-score-772216-in-2018">91: How do I show the changes which have been staged? (score <span>772216</span> in 2018)</a></li>
<li><a href="#remove-a-file-from-a-git-repository-without-deleting-it-from-the-local-filesystem-score-768277-in-2015">92: Remove a file from a Git repository without deleting it from the local filesystem (score <span>768277</span> in 2015)</a></li>
<li><a href="#how-to-git-clone-including-submodules-score-763224-in-2019">93: How to “git clone” including submodules? (score <span>763224</span> in 2019)</a></li>
<li><a href="#throw-away-local-commits-in-git-score-758261-in-2019">94: Throw away local commits in Git (score <span>758261</span> in 2019)</a></li>
<li><a href="#pushing-to-git-returning-error-code-403-fatal-http-request-failed-score-740028-in-2014">95: Pushing to Git returning Error Code 403 fatal: HTTP request failed (score <span>740028</span> in 2014)</a></li>
<li><a href="#git-error-failed-to-push-some-refs-to-score-736623-in-2015">96: git error: failed to push some refs to (score <span>736623</span> in 2015)</a></li>
<li><a href="#how-do-i-access-my-ssh-public-key-score-735775-in-2018">97: How do I access my SSH public key? (score <span>735775</span> in 2018)</a></li>
<li><a href="#viewing-unpushed-git-commits-score-730034-in-2019">98: Viewing unpushed Git commits (score <span>730034</span> in 2019)</a></li>
<li><a href="#how-to-uncommit-my-last-commit-in-git-score-725603-in-2018">99: How to uncommit my last commit in Git (score <span>725603</span> in 2018)</a></li>
<li><a href="#stash-only-one-file-out-of-multiple-files-that-have-changed-with-git-score-720799-in-2019">100: Stash only one file out of multiple files that have changed with Git? (score <span>720799</span> in 2019)</a></li>
</ul>
</nav>
<section class="level2">
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
<section id="how-do-i-undo-the-most-recent-local-commits-in-git-score-8179416-in-2019" class="level3">
<h3>1: How do I undo the most recent local commits in Git? (score <a href="https://stackoverflow.com/q/927358.html">8179416</a> in 2019)</h3>
<section id="question" class="level4">
<h4>Question</h4>
<p>I accidentally committed the wrong files to <a href="https://en.wikipedia.org/wiki/Git" rel="noreferrer">Git</a>, but I haven’t pushed the commit to the server yet.</p>
<p><strong>How can I undo those commits from the local repository?</strong></p>
</section>
<section id="answer-accepted-score-21822" class="level4">
<h4>Answer accepted (score 21822)</h4>
<h5>
Undo a commit and redo
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1">$ <span class="fu">git</span> commit -m <span class="st">&quot;Something terribly misguided&quot;</span>             <span class="co"># (1)</span></a>
<a class="sourceLine" id="cb1-2" title="2">$ <span class="fu">git</span> reset HEAD~                                          <span class="co"># (2)</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="op">&lt;&lt; edit</span> <span class="ex">files</span> as necessary <span class="op">&gt;&gt;</span>                              <span class="co"># (3)</span></a>
<a class="sourceLine" id="cb1-4" title="4">$ git add ...                                              # (4)</a>
<a class="sourceLine" id="cb1-5" title="5">$ git commit -c ORIG_HEAD                                  # (5)</a></code></pre></div>
<ol>
<li>
This is what you want to undo.
</li>
<li>
This leaves your working tree (the state of your files on disk) unchanged but undoes the commit and leaves the changes you committed unstaged (so they’ll appear as “Changes not staged for commit” in <code>git status</code>, so you’ll need to add them again before committing). If you <em>only</em> want to <em>add</em> more changes to the previous commit, or change the commit message<sup>1</sup>, you could use <code>git reset --soft HEAD~</code> instead, which is like <code>git reset HEAD~</code> (where <code>HEAD~</code> is the same as <code>HEAD~1</code>) but leaves your existing changes staged.
</li>
<li>
Make corrections to working tree files.
</li>
<li>
<code>git add</code> anything that you want to include in your new commit.
</li>
<li>
Commit the changes, reusing the old commit message. <code>reset</code> copied the old head to <code>.git/ORIG_HEAD</code>; <code>commit</code> with <code>-c ORIG_HEAD</code> will open an editor, which initially contains the log message from the old commit and allows you to edit it. If you do not need to edit the message, you could use the <code>-C</code> option.
</li>
</ol>
<p>Beware however that if you have added any new changes to the index, using <code>commit --amend</code> will add them to your previous commit.</p>
<p>If the code is already pushed to your server and you have permissions to overwrite history (rebase) then:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">git</span> push origin master --force</a></code></pre></div>
<p>You can also look at this answer:</p>
<p><a href="https://stackoverflow.com/questions/34519665/how-to-move-head-back-to-a-previous-location-detached-head/34519716#34519716">How to move HEAD back to a previous location? (Detached head) &amp; Undo commits</a></p>
<p>The above answer will show you <code>git reflog</code> which is used to find out what is the SHA-1 which you wish to revert to. Once you found the point to which you wish to undo to use the sequence of commands as explained above.</p>
<hr>
<p><sup>1</sup> Note, however, that you don’t need to reset to an earlier commit if you just made a mistake in your <em>commit message</em>. The easier option is to <code>git reset</code> (to unstage any changes you’ve made since) and then <a href="https://stackoverflow.com/q/179123/1146608"><code>git commit --amend</code></a>, which will open your default commit message editor pre-populated with the last commit message.</p>
</section>
<section id="answer-2-score-10426" class="level4">
<h4>Answer 2 (score 10426)</h4>
<p>Undoing a commit is a little scary if you don’t know how it works. But it’s actually amazingly easy if you do understand.</p>
<p>Say you have this, where C is your HEAD and (F) is the state of your files.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1">   <span class="kw">(</span><span class="ex">F</span><span class="kw">)</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="ex">A-B-C</span></a>
<a class="sourceLine" id="cb3-3" title="3">    ↑</a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="ex">master</span></a></code></pre></div>
<p>You want to <strong>nuke commit C and never see it again</strong>. You do this:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">git</span> reset --hard HEAD~1</a></code></pre></div>
<p>The result is:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"> <span class="kw">(</span><span class="ex">F</span><span class="kw">)</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="ex">A-B</span></a>
<a class="sourceLine" id="cb5-3" title="3">  ↑</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="ex">master</span></a></code></pre></div>
<p>Now B is the HEAD. Because you used <code>--hard</code>, your files are reset to their state at commit B.</p>
<p>Ah, but suppose commit C wasn’t a disaster, but just a bit off. You want to <strong>undo the commit but keep your changes</strong> for a bit of editing before you do a better commit. Starting again from here, with C as your HEAD:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1">   <span class="kw">(</span><span class="ex">F</span><span class="kw">)</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="ex">A-B-C</span></a>
<a class="sourceLine" id="cb6-3" title="3">    ↑</a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="ex">master</span></a></code></pre></div>
<p>You can do this, leaving off the <code>--hard</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="fu">git</span> reset HEAD~1</a></code></pre></div>
<p>In this case the result is:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1">   <span class="kw">(</span><span class="ex">F</span><span class="kw">)</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="ex">A-B-C</span></a>
<a class="sourceLine" id="cb8-3" title="3">  ↑</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="ex">master</span></a></code></pre></div>
<p>In both cases, HEAD is just a pointer to the latest commit. When you do a <code>git reset HEAD~1</code>, you tell Git to move the HEAD pointer back one commit. But (unless you use <code>--hard</code>) you leave your files as they were. So now <code>git status</code> shows the changes you had checked into C. You haven’t lost a thing!</p>
<p>For the lightest touch, you can even <strong>undo your commit but leave your files and your <a href="https://git.wiki.kernel.org/index.php/WhatIsTheIndex" rel="noreferrer">index</a></strong>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">git</span> reset --soft HEAD~1</a></code></pre></div>
<p>This not only leaves your files alone, it even leaves your <em>index</em> alone. When you do <code>git status</code>, you’ll see that the same files are in the index as before. In fact, right after this command, you could do <code>git commit</code> and you’d be redoing the same commit you just had.</p>
<p>One more thing: <strong>Suppose you destroy a commit</strong> as in the first example, <strong>but then discover you needed it after all</strong>? Tough luck, right?</p>
<p>Nope, there’s <em>still</em> a way to get it back. Type <code>git reflog</code> and you’ll see a list of (partial) commit <a href="https://en.wikipedia.org/wiki/SHA-1#Data_integrity" rel="noreferrer">shas</a> (that is, hashes) that you’ve moved around in. Find the commit you destroyed, and do this:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="fu">git</span> checkout -b someNewBranchName shaYouDestroyed</a></code></pre></div>
<p>You’ve now resurrected that commit. Commits don’t actually get destroyed in Git for some 90 days, so you can usually go back and rescue one you didn’t mean to get rid of.</p>
</section>
<section id="answer-3-score-2005" class="level4">
<h4>Answer 3 (score 2005)</h4>
<p>This took me a while to figure out, so maybe this will help someone…</p>
<p>There are two ways to “undo” your last commit, depending on whether or not you have already made your commit public (pushed to your remote repository):</p>
<h5>
How to undo a local commit
</h2>
<p>Let’s say I committed locally, but now want to remove that commit.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">git</span> log</a>
<a class="sourceLine" id="cb11-2" title="2">    <span class="ex">commit</span> 101: bad commit    <span class="co"># latest commit, this would be called &#39;HEAD&#39;</span></a>
<a class="sourceLine" id="cb11-3" title="3">    <span class="ex">commit</span> 100: good commit   <span class="co"># second to last commit, this is the one we want</span></a></code></pre></div>
<p>To restore everything back to the way it was prior to the last commit, we need to <code>reset</code> to the commit before <code>HEAD</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" title="1"><span class="fu">git</span> reset --soft HEAD^     <span class="co"># use --soft if you want to keep your changes</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="fu">git</span> reset --hard HEAD^     <span class="co"># use --hard if you don&#39;t care about keeping the changes you made</span></a></code></pre></div>
<p>Now <code>git log</code> will show that our last commit has been removed.</p>
<h5>
How to undo a public commit
</h2>
<p>If you have already made your commits public, you will want to create a new commit which will “revert” the changes you made in your previous commit (current HEAD).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" title="1"><span class="fu">git</span> revert HEAD</a></code></pre></div>
<p>Your changes will now be reverted and ready for you to commit:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" title="1"><span class="fu">git</span> commit -m <span class="st">&#39;restoring the file I removed by accident&#39;</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="fu">git</span> log</a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="ex">commit</span> 102: restoring the file I removed by accident</a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="ex">commit</span> 101: removing a file we don<span class="st">&#39;t need</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="st">    commit 100: adding a file that we need</span></a></code></pre></div>
<p>For more info, check out <a href="https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things" rel="noreferrer">Git Basics - Undoing Things</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-delete-a-git-branch-locally-and-remotely-score-7599991-in-2019" class="level3">
<h3>2: How do I delete a Git branch locally and remotely? (score <a href="https://stackoverflow.com/q/2003505.html">7599991</a> in 2019)</h3>
<section id="question-1" class="level4">
<h4>Question</h4>
<p>I want to delete a branch both locally and remotely.</p>
<h5>
Failed Attempts to Delete Remote Branch
</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" title="1">$ <span class="fu">git</span> branch -d remotes/origin/bugfix</a>
<a class="sourceLine" id="cb15-2" title="2"><span class="ex">error</span>: branch <span class="st">&#39;remotes/origin/bugfix&#39;</span> not found.</a>
<a class="sourceLine" id="cb15-3" title="3"></a>
<a class="sourceLine" id="cb15-4" title="4">$ <span class="fu">git</span> branch -d origin/bugfix</a>
<a class="sourceLine" id="cb15-5" title="5"><span class="ex">error</span>: branch <span class="st">&#39;origin/bugfix&#39;</span> not found.</a>
<a class="sourceLine" id="cb15-6" title="6"></a>
<a class="sourceLine" id="cb15-7" title="7">$ <span class="fu">git</span> branch -rd origin/bugfix</a>
<a class="sourceLine" id="cb15-8" title="8"><span class="ex">Deleted</span> remote branch origin/bugfix (was 2a14ef7)<span class="ex">.</span></a>
<a class="sourceLine" id="cb15-9" title="9"></a>
<a class="sourceLine" id="cb15-10" title="10">$ <span class="fu">git</span> push</a>
<a class="sourceLine" id="cb15-11" title="11"><span class="ex">Everything</span> up-to-date</a>
<a class="sourceLine" id="cb15-12" title="12"></a>
<a class="sourceLine" id="cb15-13" title="13">$ <span class="fu">git</span> pull</a>
<a class="sourceLine" id="cb15-14" title="14"><span class="ex">From</span> github.com:gituser/gitproject</a>
<a class="sourceLine" id="cb15-15" title="15"><span class="ex">*</span> [new branch] bugfix -<span class="op">&gt;</span> origin/bugfix</a>
<a class="sourceLine" id="cb15-16" title="16"><span class="ex">Already</span> up-to-date.</a></code></pre></div>
<p>
What should I do differently to successfully delete the <code>remotes/origin/bugfix</code> branch both locally and remotely?
</p>
</section>
<section id="answer-accepted-score-20171" class="level4">
<h4>Answer accepted (score 20171)</h4>
<h5>
Executive Summary
</h1>
<div class="sourceCode" id="cb16"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" title="1">$ <span class="fu">git</span> push -d <span class="op">&lt;</span>remote_name<span class="op">&gt;</span> <span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb16-2" title="2">$ <span class="fu">git</span> branch -d <span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a></code></pre></div>
<p>Note that in most cases the remote name is <code>origin</code>.</p>
<h5>
Delete Local Branch
</h1>
<p>To delete the <em>local</em> branch use one of the following:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb17-1" title="1">$ <span class="fu">git</span> branch -d branch_name</a>
<a class="sourceLine" id="cb17-2" title="2">$ <span class="fu">git</span> branch -D branch_name</a></code></pre></div>
<p><strong>Note:</strong> The <code>-d</code> option is an alias for <code>--delete</code>, which only deletes the branch if it has already been fully merged in its upstream branch. You could also use <code>-D</code>, which is an alias for <code>--delete --force</code>, which deletes the branch “irrespective of its merged status.” [Source: <code>man git-branch</code>]</p>
<h5>
Delete Remote Branch [Updated on 8-Sep-2017]
</h1>
<p>As of <a href="https://github.com/gitster/git/blob/master/Documentation/RelNotes/1.7.0.txt" rel="noreferrer">Git v1.7.0</a>, you can delete a <strong><em>remote</em></strong> branch using</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb18-1" title="1">$ <span class="fu">git</span> push <span class="op">&lt;</span>remote_name<span class="op">&gt;</span> --delete <span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a></code></pre></div>
<p>which might be easier to remember than</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb19-1" title="1">$ <span class="fu">git</span> push <span class="op">&lt;</span>remote_name<span class="op">&gt;</span> :<span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a></code></pre></div>
<p>which was added in <a href="https://github.com/gitster/git/blob/master/Documentation/RelNotes/1.5.0.txt" rel="noreferrer">Git v1.5.0</a> “to delete a remote branch or a tag.”</p>
<p>Starting on <a href="https://github.com/git/git/blob/master/Documentation/RelNotes/2.8.0.txt" rel="noreferrer">Git v2.8.0</a> you can also use <code>git push</code> with the <code>-d</code> option as an alias for <code>--delete</code>.</p>
<p>Therefore, the version of Git you have installed will dictate whether you need to use the easier or harder syntax.</p>
<h5>
Delete Remote Branch [Original Answer from 5-Jan-2010]
</h2>
<p>From Chapter 3 of <a href="http://git-scm.com/book/en/Git-Branching-Remote-Branches" rel="noreferrer"><em>Pro Git</em></a> by Scott Chacon:</p>
<blockquote>
<h5>
Deleting Remote Branches
</h3>
<p>Suppose you’re done with a remote branch — say, you and your collaborators are finished with a feature and have merged it into your remote’s master branch (or whatever branch your stable code-line is in). You can delete a remote branch using the rather obtuse syntax <code>git push [remotename] :[branch]</code>. If you want to delete your server-fix branch from the server, you run the following:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" title="1">$ <span class="fu">git</span> push origin :serverfix</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="ex">To</span> git@github.com:schacon/simplegit.git</a>
<a class="sourceLine" id="cb20-3" title="3"> <span class="ex">-</span> [deleted]         serverfix</a></code></pre></div>
Boom. No more branches on your server. You may want to dog-ear this page, because you’ll need that command, and you’ll likely forget the syntax. A way to remember this command is by recalling the <code>git push [remotename] [localbranch]:[remotebranch]</code> syntax that we went over a bit earlier. If you leave off the <code>[localbranch]</code> portion, then you’re basically saying, “Take nothing on my side and make it be <code>[remotebranch]</code>.”<br />

</blockquote>
<p>I issued <code>git push origin: bugfix</code> and it worked beautifully. Scott Chacon was right—I will want to <a href="http://en.wiktionary.org/wiki/dogear#Verb" rel="noreferrer">dog ear</a> that page (or virtually dog ear by answering this on Stack Overflow).</p>
<p>Then you should execute this on other machines</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb21-1" title="1"><span class="co"># Fetch changes from all remotes and locally delete </span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="co"># remote deleted branches/tags etc</span></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="co"># --prune will do the job :-;</span></a>
<a class="sourceLine" id="cb21-4" title="4"><span class="fu">git</span> fetch --all --prune</a></code></pre></div>
<p>to propagate changes.</p>
</section>
<section id="answer-2-score-3198" class="level4">
<h4>Answer 2 (score 3198)</h4>
<p><a href="https://stackoverflow.com/a/2003515/2637261">Matthew’s answer</a> is great for removing <em>remote</em> branches and I also appreciate the explanation, but to make a simple distinction between the two commands:</p>
<p>To remove a <strong><em>local branch</em></strong> from your machine:</p>
<p><code>git branch -d {the_local_branch}</code> (use <code>-D</code> instead to force deleting the branch without checking merged status)</p>
<p>To remove a <strong><em>remote branch</em></strong> from the server:</p>
<p><code>git push origin --delete {the_remote_branch}</code></p>
<p>Reference: <a href="https://makandracards.com/makandra/621-git-delete-a-branch-local-or-remote" rel="noreferrer">https://makandracards.com/makandra/621-git-delete-a-branch-local-or-remote</a></p>
</section>
<section id="answer-3-score-1805" class="level4">
<h4>Answer 3 (score 1805)</h4>
<h5>
The Short Answers
</h1>
<p>If you want more detailed explanations of the following commands, then see the long answers in the next section.</p>
<p>Deleting a remote branch:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb22-1" title="1"><span class="fu">git</span> push origin --delete <span class="op">&lt;</span>branch<span class="op">&gt;</span>  <span class="co"># Git version 1.7.0 or newer</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="fu">git</span> push origin :<span class="op">&lt;</span>branch<span class="op">&gt;</span>          <span class="co"># Git versions older than 1.7.0</span></a></code></pre></div>
<p>Deleting a local branch:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" title="1"><span class="fu">git</span> branch --delete <span class="op">&lt;</span>branch<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="fu">git</span> branch -d <span class="op">&lt;</span>branch<span class="op">&gt;</span> <span class="co"># Shorter version</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="fu">git</span> branch -D <span class="op">&lt;</span>branch<span class="op">&gt;</span> <span class="co"># Force delete un-merged branches</span></a></code></pre></div>
<p>Deleting a local remote-tracking branch:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" title="1"><span class="fu">git</span> branch --delete --remotes <span class="op">&lt;</span>remote<span class="op">&gt;</span>/<span class="op">&lt;</span>branch<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="fu">git</span> branch -dr <span class="op">&lt;</span>remote<span class="op">&gt;</span>/<span class="op">&lt;</span>branch<span class="op">&gt;</span> <span class="co"># Shorter</span></a>
<a class="sourceLine" id="cb24-3" title="3"></a>
<a class="sourceLine" id="cb24-4" title="4"><span class="fu">git</span> fetch <span class="op">&lt;</span>remote<span class="op">&gt;</span> --prune <span class="co"># Delete multiple obsolete tracking branches</span></a>
<a class="sourceLine" id="cb24-5" title="5"><span class="fu">git</span> fetch <span class="op">&lt;</span>remote<span class="op">&gt;</span> -p      <span class="co"># Shorter</span></a></code></pre></div>
<h5>
The Long Answer: there are 3 different branches to delete!
</h1>
<p>When you’re dealing with deleting branches both locally and remotely, keep in mind that <strong>there are 3 different branches involved</strong>:</p>
<ol>
<li>
The local branch <code>X</code>.
</li>
<li>
The remote origin branch <code>X</code>.
</li>
<li>
The local remote-tracking branch <code>origin/X</code> that tracks the remote branch <code>X</code>.
</li>
</ol>
<p><img src="https://i.stack.imgur.com/NLAqw.png" alt="Visualization of 3 branches"></p>
<p>The original poster used</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" title="1"><span class="fu">git</span> branch -rd origin/bugfix</a></code></pre></div>
<p>which only deleted his <strong>local remote-tracking branch</strong> <code>origin/bugfix</code>, and not the actual remote branch <code>bugfix</code> on <code>origin</code>.</p>
<p><img src="https://i.stack.imgur.com/iCOnz.png" alt="Diagram 2"></p>
<p><strong>To delete that actual remote branch</strong>, you need</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb26-1" title="1"><span class="fu">git</span> push origin --delete bugfix</a></code></pre></div>
<p><img src="https://i.stack.imgur.com/6Z3GY.png" alt="Diagram 3"></p>
<h5>
Additional Details
</h1>
<p>The following sections describe additional details to consider when deleting your remote and remote-tracking branches.</p>
<h5>
Pushing to delete remote branches also deletes remote-tracking branches
</h2>
<p>Note that deleting the remote branch <code>X</code> from the command line using a <code>git push</code> <strong>will also delete the local remote-tracking branch</strong> <code>origin/X</code>, so it is not necessary to prune the obsolete remote-tracking branch with <code>git fetch --prune</code> or <code>git fetch -p</code>, though it wouldn’t hurt if you did it anyway.</p>
<p>You can verify that the remote-tracking branch <code>origin/X</code> was also deleted by running the following:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb27-1" title="1"><span class="co"># View just remote-tracking branches</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="fu">git</span> branch --remotes</a>
<a class="sourceLine" id="cb27-3" title="3"><span class="fu">git</span> branch -r</a>
<a class="sourceLine" id="cb27-4" title="4"></a>
<a class="sourceLine" id="cb27-5" title="5"><span class="co"># View both strictly local as well as remote-tracking branches</span></a>
<a class="sourceLine" id="cb27-6" title="6"><span class="fu">git</span> branch --all</a>
<a class="sourceLine" id="cb27-7" title="7"><span class="fu">git</span> branch -a</a></code></pre></div>
<h5>
Pruning the obsolete local remote-tracking branch origin/X
</h2>
<p>If you didn’t delete your remote branch <code>X</code> from the command line (like above), then your local repo will still contain (a now obsolete) remote-tracking branch <code>origin/X</code>. This can happen if you deleted a remote branch directly through GitHub’s web interface, for example.</p>
<p>A typical way to remove these obsolete remote-tracking branches (since Git version 1.6.6) is to simply run <code>git fetch</code> with the <code>--prune</code> or shorter <code>-p</code>. <strong>Note that this removes all obsolete local remote-tracking branches for any remote branches that no longer exist on the remote</strong>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb28-1" title="1"><span class="fu">git</span> fetch origin --prune</a>
<a class="sourceLine" id="cb28-2" title="2"><span class="fu">git</span> fetch origin -p <span class="co"># Shorter</span></a></code></pre></div>
<p>Here is the relevant quote from the <a href="https://github.com/git/git/blob/v2.0.0/Documentation/RelNotes/1.6.6.txt#L162-L166" rel="noreferrer">1.6.6 release notes</a> (emphasis mine):</p>
<blockquote>
<p>
<strong>“git fetch” learned</strong> <code>--all</code> and <code>--multiple</code>options, to run fetch from many repositories, and <strong><code>--prune</code> option to remove remote tracking branches that went stale.</strong> These make “git remote update” and “git remote prune” less necessary (there is no plan to remove “remote update” nor “remote prune”, though).
</p>
</blockquote>
<h5>
Alternative to above automatic pruning for obsolete remote-tracking branches
</h3>
<p>Alternatively, instead of pruning your obsolete local remote-tracking branches through <code>git fetch -p</code>, <em>you can avoid making the extra network operation</em> by just manually removing the branch(es) with the <code>--remote</code> or <code>-r</code> flags:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb29-1" title="1"><span class="fu">git</span> branch --delete --remotes origin/X</a>
<a class="sourceLine" id="cb29-2" title="2"><span class="fu">git</span> branch -dr origin/X <span class="co"># Shorter</span></a></code></pre></div>
<h5>
See Also
</h2>
<ul>
<li>
<a href="https://jk.gs/git-branch.html" rel="noreferrer">git-branch(1) Manual Page</a>.
</li>
<li>
<a href="https://jk.gs/git-fetch.html" rel="noreferrer">git-fetch(1) Manual Page</a>.
</li>
<li>
<a href="https://git-scm.com/book/en/Git-Branching-Remote-Branches" rel="noreferrer">Pro Git § 3.5 Git Branching - Remote Branches</a>.
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-revert-a-git-repository-to-a-previous-commit-score-5388210-in-2019" class="level3">
<h3>3: How do I revert a Git repository to a previous commit? (score <a href="https://stackoverflow.com/q/4114095.html">5388210</a> in 2019)</h3>
<section id="question-2" class="level4">
<h4>Question</h4>
<p>How do I revert from my current state to a snapshot made on a certain commit?</p>
<p>If I do <code>git log</code>, then I get the following output:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb30-1" title="1">$ <span class="fu">git</span> log</a>
<a class="sourceLine" id="cb30-2" title="2"><span class="ex">commit</span> a867b4af366350be2e7c21b8de9cc6504678a61b<span class="kw">`</span></a>
<a class="sourceLine" id="cb30-3" title="3"><span class="ex">Author</span>: Me <span class="op">&lt;</span>me@me.com<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb30-4" title="4"><span class="ex">Date</span>:   Thu Nov 4 18:59:41 2010 -0400</a>
<a class="sourceLine" id="cb30-5" title="5"></a>
<a class="sourceLine" id="cb30-6" title="6"><span class="ex">blah</span> blah blah...</a>
<a class="sourceLine" id="cb30-7" title="7"></a>
<a class="sourceLine" id="cb30-8" title="8"><span class="ex">commit</span> 25eee4caef46ae64aa08e8ab3f988bc917ee1ce4</a>
<a class="sourceLine" id="cb30-9" title="9"><span class="ex">Author</span>: Me <span class="op">&lt;</span>me@me.com<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb30-10" title="10"><span class="ex">Date</span>:   Thu Nov 4 05:13:39 2010 -0400</a>
<a class="sourceLine" id="cb30-11" title="11"></a>
<a class="sourceLine" id="cb30-12" title="12"><span class="fu">more</span> blah blah blah...</a>
<a class="sourceLine" id="cb30-13" title="13"></a>
<a class="sourceLine" id="cb30-14" title="14"><span class="ex">commit</span> 0766c053c0ea2035e90f504928f8df3c9363b8bd</a>
<a class="sourceLine" id="cb30-15" title="15"><span class="ex">Author</span>: Me <span class="op">&lt;</span>me@me.com<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb30-16" title="16"><span class="ex">Date</span>:   Thu Nov 4 00:55:06 2010 -0400</a>
<a class="sourceLine" id="cb30-17" title="17"></a>
<a class="sourceLine" id="cb30-18" title="18"><span class="ex">And</span> yet more blah blah...</a>
<a class="sourceLine" id="cb30-19" title="19"></a>
<a class="sourceLine" id="cb30-20" title="20"><span class="ex">commit</span> 0d1d7fc32e5a947fbd92ee598033d85bfc445a50</a>
<a class="sourceLine" id="cb30-21" title="21"><span class="ex">Author</span>: Me <span class="op">&lt;</span>me@me.com<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb30-22" title="22"><span class="ex">Date</span>:   Wed Nov 3 23:56:08 2010 -0400</a>
<a class="sourceLine" id="cb30-23" title="23"></a>
<a class="sourceLine" id="cb30-24" title="24"><span class="ex">Yep</span>, more blah blah.</a></code></pre></div>
<p>How do revert to the commit from November 3, i.e. commit <code>0d1d7fc</code>?</p>
</section>
<section id="answer-accepted-score-9090" class="level4">
<h4>Answer accepted (score 9090)</h4>
<p>This depends a lot on what you mean by “revert”.</p>
<h5>
Temporarily switch to a different commit
</h2>
<p>If you want to temporarily go back to it, fool around, then come back to where you are, all you have to do is check out the desired commit:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb31-1" title="1"><span class="co"># This will detach your HEAD, that is, leave you with no branch checked out:</span></a>
<a class="sourceLine" id="cb31-2" title="2"><span class="fu">git</span> checkout 0d1d7fc32</a></code></pre></div>
<p>Or if you want to make commits while you’re there, go ahead and make a new branch while you’re at it:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb32-1" title="1"><span class="fu">git</span> checkout -b old-state 0d1d7fc32</a></code></pre></div>
<p>To go back to where you were, just check out the branch you were on again. (If you’ve made changes, as always when switching branches, you’ll have to deal with them as appropriate. You could reset to throw them away; you could stash, checkout, stash pop to take them with you; you could commit them to a branch there if you want a branch there.)</p>
<h5>
Hard delete unpublished commits
</h2>
<p>If, on the other hand, you want to really get rid of everything you’ve done since then, there are two possibilities. One, if you haven’t published any of these commits, simply reset:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb33-1" title="1"><span class="co"># This will destroy any local modifications.</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="co"># Don&#39;t do it if you have uncommitted work you want to keep.</span></a>
<a class="sourceLine" id="cb33-3" title="3"><span class="fu">git</span> reset --hard 0d1d7fc32</a>
<a class="sourceLine" id="cb33-4" title="4"></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="co"># Alternatively, if there&#39;s work to keep:</span></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="fu">git</span> stash</a>
<a class="sourceLine" id="cb33-7" title="7"><span class="fu">git</span> reset --hard 0d1d7fc32</a>
<a class="sourceLine" id="cb33-8" title="8"><span class="fu">git</span> stash pop</a>
<a class="sourceLine" id="cb33-9" title="9"><span class="co"># This saves the modifications, then reapplies that patch after resetting.</span></a>
<a class="sourceLine" id="cb33-10" title="10"><span class="co"># You could get merge conflicts, if you&#39;ve modified things which were</span></a>
<a class="sourceLine" id="cb33-11" title="11"><span class="co"># changed since the commit you reset to.</span></a></code></pre></div>
<p>If you mess up, you’ve already thrown away your local changes, but you can at least get back to where you were before by resetting again.</p>
<h5>
Undo published commits with new commits
</h2>
<p>On the other hand, if you’ve published the work, you probably don’t want to reset the branch, since that’s effectively rewriting history. In that case, you could indeed revert the commits. With Git, revert has a very specific meaning: create a commit with the reverse patch to cancel it out. This way you don’t rewrite any history.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb34-1" title="1"><span class="co"># This will create three separate revert commits:</span></a>
<a class="sourceLine" id="cb34-2" title="2"><span class="fu">git</span> revert a867b4af 25eee4ca 0766c053</a>
<a class="sourceLine" id="cb34-3" title="3"></a>
<a class="sourceLine" id="cb34-4" title="4"><span class="co"># It also takes ranges. This will revert the last two commits:</span></a>
<a class="sourceLine" id="cb34-5" title="5"><span class="fu">git</span> revert HEAD~2..HEAD</a>
<a class="sourceLine" id="cb34-6" title="6"></a>
<a class="sourceLine" id="cb34-7" title="7"><span class="co">#Similarly, you can revert a range of commits using commit hashes:</span></a>
<a class="sourceLine" id="cb34-8" title="8"><span class="fu">git</span> revert a867b4af..0766c053 </a>
<a class="sourceLine" id="cb34-9" title="9"></a>
<a class="sourceLine" id="cb34-10" title="10"><span class="co"># Reverting a merge commit</span></a>
<a class="sourceLine" id="cb34-11" title="11"><span class="fu">git</span> revert -m 1 <span class="op">&lt;</span>merge_commit_sha<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb34-12" title="12"></a>
<a class="sourceLine" id="cb34-13" title="13"><span class="co"># To get just one, you could use `rebase -i` to squash them afterwards</span></a>
<a class="sourceLine" id="cb34-14" title="14"><span class="co"># Or, you could do it manually (be sure to do this at top level of the repo)</span></a>
<a class="sourceLine" id="cb34-15" title="15"><span class="co"># get your index and work tree into the desired state, without changing HEAD:</span></a>
<a class="sourceLine" id="cb34-16" title="16"><span class="fu">git</span> checkout 0d1d7fc32 .</a>
<a class="sourceLine" id="cb34-17" title="17"></a>
<a class="sourceLine" id="cb34-18" title="18"><span class="co"># Then commit. Be sure and write a good message describing what you just did</span></a>
<a class="sourceLine" id="cb34-19" title="19"><span class="fu">git</span> commit</a></code></pre></div>
<p>The <a href="http://schacon.github.com/git/git-revert.html" rel="noreferrer"><code>git-revert</code> manpage</a> actually covers a lot of this in its description. Another useful link is <a href="https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging#_undoing_merges" rel="noreferrer">this git-scm.com section discussing git-revert</a>.</p>
<p>If you decide you didn’t want to revert after all, you can revert the revert (as described here) or reset back to before the revert (see the previous section).</p>
<p>
You may also find this answer helpful in this case:<br> <a href="https://stackoverflow.com/questions/34519665/how-to-move-head-forward-checkout-revet-reflog-reset/34519716#34519716">How to move HEAD back to a previous location? (Detached head)</a>
</p>
</section>
<section id="answer-2-score-1571" class="level4">
<h4>Answer 2 (score 1571)</h4>
<p>Lots of complicated and dangerous answers here, but it’s actually easy:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb35-1" title="1"><span class="fu">git</span> revert --no-commit 0766c053..HEAD</a>
<a class="sourceLine" id="cb35-2" title="2"><span class="fu">git</span> commit</a></code></pre></div>
<p>This will revert everything from the HEAD back to the commit hash, meaning it will recreate that commit state in the working tree <em>as if</em> every commit since had been walked back. You can then commit the current tree, and it will create a brand new commit essentially equivalent to the commit you “reverted” to.</p>
<p>(The <code>--no-commit</code> flag lets git revert all the commits at once- otherwise you’ll be prompted for a message for each commit in the range, littering your history with unnecessary new commits.)</p>
<p>This is a <strong>safe and easy way to rollback to a previous state</strong>. No history is destroyed, so it can be used for commits that have already been made public.</p>
</section>
<section id="answer-3-score-1521" class="level4">
<h4>Answer 3 (score 1521)</h4>
<h5>
Rogue Coder?
</h2>
<p>Working on your own and just want it to work? Follow these instructions below, they’ve worked reliably for me and many others for years.</p>
<p>Working with others? Git is complicated. Read the comments below this answer before you do something rash.</p>
<h5>
Reverting Working Copy to Most Recent Commit
</h3>
<p>To revert to a previous commit, ignoring any changes:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb36-1" title="1"><span class="fu">git</span> reset --hard HEAD</a></code></pre></div>
<p>where HEAD is the last commit in your current branch</p>
<h5>
Reverting The Working Copy to an Older Commit
</h3>
<p>To revert to a commit that’s older than the most recent commit:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb37-1" title="1"><span class="co"># Resets index to former commit; replace &#39;56e05fced&#39; with your commit code</span></a>
<a class="sourceLine" id="cb37-2" title="2"><span class="fu">git</span> reset 56e05fced </a>
<a class="sourceLine" id="cb37-3" title="3"></a>
<a class="sourceLine" id="cb37-4" title="4"><span class="co"># Moves pointer back to previous HEAD</span></a>
<a class="sourceLine" id="cb37-5" title="5"><span class="fu">git</span> reset --soft HEAD@<span class="dt">{1}</span></a>
<a class="sourceLine" id="cb37-6" title="6"></a>
<a class="sourceLine" id="cb37-7" title="7"><span class="fu">git</span> commit -m <span class="st">&quot;Revert to 56e05fced&quot;</span></a>
<a class="sourceLine" id="cb37-8" title="8"></a>
<a class="sourceLine" id="cb37-9" title="9"><span class="co"># Updates working copy to reflect the new commit</span></a>
<a class="sourceLine" id="cb37-10" title="10"><span class="fu">git</span> reset --hard</a></code></pre></div>
<p>Credits go to a similar Stack Overflow question, <em><a href="https://stackoverflow.com/questions/1895059/git-revert-to-a-commit-by-sha-hash">Revert to a commit by a SHA hash in Git?</a></em>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-check-out-a-remote-git-branch-score-4913384-in-2017" class="level3">
<h3>4: How do I check out a remote Git branch? (score <a href="https://stackoverflow.com/q/1783405.html">4913384</a> in 2017)</h3>
<section id="question-3" class="level4">
<h4>Question</h4>
<p>Somebody pushed a branch called <code>test</code> with <code>git push origin test</code> to a shared repository. I can see the branch with <code>git branch -r</code>.</p>
<p>Now I’m trying to check out the remote <code>test</code> branch.</p>
<p>I’ve tried:</p>
<ul>
<li>
<p>
<code>git checkout test</code> which does nothing
</p>
</li>
<li>
<p>
<code>git checkout origin/test</code> gives <code>* (no branch)</code>. Which is confusing. How can I be on “no branch”?
</p>
</li>
</ul>
<p>How do I check out a remote Git branch?</p>
</section>
<section id="answer-accepted-score-8745" class="level4">
<h4>Answer accepted (score 8745)</h4>
<h5>
Update
</h2>
<p><a href="https://stackoverflow.com/a/1787014/456814">Jakub’s answer</a> actually improves on this. With Git versions ≥ 1.6.6, with only one remote, you can just do:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb38-1" title="1"><span class="fu">git</span> fetch</a>
<a class="sourceLine" id="cb38-2" title="2"><span class="fu">git</span> checkout test</a></code></pre></div>
<p>As user masukomi points out in a comment, <code>git checkout test</code> will NOT work in modern git if you have multiple remotes. In this case use</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb39-1" title="1"><span class="fu">git</span> checkout -b test <span class="op">&lt;</span>name of remote<span class="op">&gt;</span>/test</a></code></pre></div>
<p>or the shorthand</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb40-1" title="1"><span class="fu">git</span> checkout -t <span class="op">&lt;</span>name of remote<span class="op">&gt;</span>/test</a></code></pre></div>
<h5>
Old Answer
</h2>
<p>Before you can start working locally on a remote branch, you need to fetch it as called out in answers below.</p>
<p>To fetch a branch, you simply need to:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb41-1" title="1"><span class="fu">git</span> fetch origin</a></code></pre></div>
<p>This will fetch all of the remote branches for you. You can see the branches available for checkout with:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb42-1" title="1"><span class="fu">git</span> branch -v -a</a></code></pre></div>
<p>With the remote branches in hand, you now need to check out the branch you are interested in, giving you a local working copy:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb43-1" title="1"><span class="fu">git</span> checkout -b test origin/test</a></code></pre></div>
</section>
<section id="answer-2-score-1221" class="level4">
<h4>Answer 2 (score 1221)</h4>
<p><strong><em>Sidenote:</em></strong> With modern Git (&gt;= <a href="https://raw.github.com/git/git/master/Documentation/RelNotes/1.6.6.txt" rel="noreferrer">1.6.6</a>), you are able to use just</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb44-1" title="1"><span class="fu">git</span> checkout test</a></code></pre></div>
<p>(note that it is ‘test’ not ‘origin/test’) to perform magical <a href="http://en.wikipedia.org/wiki/DWIM" rel="noreferrer" title="Do What I Mean">DWIM</a>-mery and create local branch ‘test’ for you, for which upstream would be remote-tracking branch ‘origin/test’.</p>
<hr>
<p>The <code>* (no branch)</code> in <code>git branch</code> output means that you are on unnamed branch, in so called “detached HEAD” state (HEAD points directly to commit, and is not symbolic reference to some local branch). If you made some commits on this unnamed branch, you can always create local branch off current commit:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb45-1" title="1"><span class="fu">git</span> checkout -b test HEAD</a></code></pre></div>
</section>
<section id="answer-3-score-542" class="level4">
<h4>Answer 3 (score 542)</h4>
<p>In this case, you probably want to create a local <code>test</code> branch which is tracking the remote <code>test</code> branch:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb46-1" title="1">$ <span class="fu">git</span> branch test origin/test</a></code></pre></div>
<p>In earlier versions of <code>git</code>, you needed an explicit <code>--track</code> option, but that is the default now when you are branching off a remote branch.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-force-git-pull-to-overwrite-local-files-score-4145107-in-2018" class="level3">
<h3>5: How do I force “git pull” to overwrite local files? (score <a href="https://stackoverflow.com/q/1125968.html">4145107</a> in 2018)</h3>
<section id="question-4" class="level4">
<h4>Question</h4>
<p>How do I force an overwrite of local files on a <code>git pull</code>?</p>
<p>The scenario is following:</p>
<ul>
<li>
A team member is modifying the templates for a website we are working on
</li>
<li>
They are adding some images to the images directory (but forgets to add them under source control)
</li>
<li>
They are sending the images by mail, later, to me
</li>
<li>
I’m adding the images under the source control and pushing them to GitHub together with other changes
</li>
<li>
They cannot pull updates from GitHub because Git doesn’t want to overwrite their files.
</li>
</ul>
<p>This is the error I’m getting:</p>
<blockquote>
error: Untracked working tree file ‘public/images/icon.gif’ would be overwritten by merge
</blockquote>
<p>How do I force Git to overwrite them? The person is a designer - usually I resolve all the conflicts by hand, so the server has the most recent version that they just needs to update on their computer.</p>
</section>
<section id="answer-accepted-score-9103" class="level4">
<h4>Answer accepted (score 9103)</h4>
<h5>
Important: If you have any local changes, they will be lost. With or without <code>--hard</code> option, any local commits that haven’t been pushed will be lost.<sup>[*]</sup>
</h2>
<p>If you have any files that are <em>not</em> tracked by Git (e.g. uploaded user content), these files will not be affected.</p>
<hr>
<p>I think this is the right way:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb47-1" title="1"><span class="fu">git</span> fetch --all</a></code></pre></div>
<p>Then, you have two options:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb48-1" title="1"><span class="fu">git</span> reset --hard origin/master</a></code></pre></div>
<p>OR If you are on some other branch:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb49-1" title="1"><span class="fu">git</span> reset --hard origin/<span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a></code></pre></div>
<h5>
Explanation:
</h3>
<p><code>git fetch</code> downloads the latest from remote without trying to merge or rebase anything.</p>
<p>Then the <code>git reset</code> resets the master branch to what you just fetched. The <code>--hard</code> option changes all the files in your working tree to match the files in <code>origin/master</code></p>
<hr>
<h5>
Maintain current local commits
</h3>
<p><sup>[*]</sup>: It’s worth noting that it is possible to maintain current local commits by creating a branch from <code>master</code> before resetting:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb50-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb50-2" title="2"><span class="fu">git</span> branch new-branch-to-save-current-commits</a>
<a class="sourceLine" id="cb50-3" title="3"><span class="fu">git</span> fetch --all</a>
<a class="sourceLine" id="cb50-4" title="4"><span class="fu">git</span> reset --hard origin/master</a></code></pre></div>
<p>After this, all of the old commits will be kept in <code>new-branch-to-save-current-commits</code>.</p>
<h5>
Uncommitted changes
</h3>
<p>Uncommitted changes, however (even staged), will be lost. Make sure to stash and commit anything you need. For that you can run the following:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb51-1" title="1"><span class="fu">git</span> stash</a></code></pre></div>
<p>And then to reapply these uncommitted changes:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb52-1" title="1"><span class="fu">git</span> stash pop</a></code></pre></div>
</section>
<section id="answer-2-score-876" class="level4">
<h4>Answer 2 (score 876)</h4>
<p>Try this:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb53-1" title="1"><span class="fu">git</span> reset --hard HEAD</a>
<a class="sourceLine" id="cb53-2" title="2"><span class="fu">git</span> pull</a></code></pre></div>
<p>It should do what you want.</p>
</section>
<section id="answer-3-score-439" class="level4">
<h4>Answer 3 (score 439)</h4>
<p><strong>WARNING: <code>git clean</code> deletes all your untracked files/directories and can’t be undone.</strong></p>
<hr>
<p>Sometimes just <code>clean -f</code> does not help. In case you have untracked DIRECTORIES, -d option also needed:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb54-1" title="1"><span class="co"># </span><span class="al">WARNING</span><span class="co">: this can&#39;t be undone!</span></a>
<a class="sourceLine" id="cb54-2" title="2"></a>
<a class="sourceLine" id="cb54-3" title="3"><span class="fu">git</span> reset --hard HEAD</a>
<a class="sourceLine" id="cb54-4" title="4"><span class="fu">git</span> clean -f -d</a>
<a class="sourceLine" id="cb54-5" title="5"><span class="fu">git</span> pull</a></code></pre></div>
<p><strong>WARNING: <code>git clean</code> deletes all your untracked files/directories and can’t be undone.</strong></p>
<p>Consider using <code>-n</code> (<code>--dry-run</code>) flag first. This will show you what will be deleted without actually deleting anything:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb55-1" title="1"><span class="fu">git</span> clean -n -f -d</a></code></pre></div>
<p>Example output:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb56-1" title="1"><span class="ex">Would</span> remove untracked-file-1.txt</a>
<a class="sourceLine" id="cb56-2" title="2"><span class="ex">Would</span> remove untracked-file-2.txt</a>
<a class="sourceLine" id="cb56-3" title="3"><span class="ex">Would</span> remove untracked/folder</a>
<a class="sourceLine" id="cb56-4" title="4"><span class="ex">...</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-push-a-new-local-branch-to-a-remote-git-repository-and-track-it-too-score-3200291-in-2019" class="level3">
<h3>6: How do I push a new local branch to a remote Git repository and track it too? (score <a href="https://stackoverflow.com/q/2765421.html">3200291</a> in 2019)</h3>
<section id="question-5" class="level4">
<h4>Question</h4>
<p>I want to be able to do the following:</p>
<ol>
<li>
<p>
Create a local branch based on some other (remote or local) branch (via <code>git branch</code> or <code>git checkout -b</code>)
</p>
</li>
<li>
<p>
Push the local branch to the remote repository (publish), but make it trackable so <code>git pull</code> and <code>git push</code> will work immediately.
</p>
</li>
</ol>
<p>How do I do that?</p>
<p>I know about <code>--set-upstream</code> in Git 1.7, but that is a post-creation action. I want to find a way to make a similar change when pushing the branch to the remote repository.</p>
</section>
<section id="answer-accepted-score-6363" class="level4">
<h4>Answer accepted (score 6363)</h4>
<p>In Git 1.7.0 and later, you can checkout a new branch:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb57-1" title="1"><span class="fu">git</span> checkout -b <span class="op">&lt;</span>branch<span class="op">&gt;</span></a></code></pre></div>
<p>Edit files, add and commit. Then <a href="https://git-scm.com/docs/git-push" rel="noreferrer">push with the <code>-u</code> (short for <code>--set-upstream</code>)</a> option:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb58-1" title="1"><span class="fu">git</span> push -u origin <span class="op">&lt;</span>branch<span class="op">&gt;</span></a></code></pre></div>
<p>Git will set up the tracking information during the push.</p>
</section>
<section id="answer-2-score-478" class="level4">
<h4>Answer 2 (score 478)</h4>
<p>If you are not sharing your repo with others, this is useful to push <strong>all</strong> your branches to the remote, and <code>--set-upstream</code> tracking correctly for you:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb59-1" title="1"><span class="fu">git</span> push --all -u</a></code></pre></div>
<p>(Not exactly what the OP was asking for, but this one-liner is pretty popular)</p>
<p>If you are sharing your repo with others this isn’t really good form as you will clog up the repo with all your dodgy experimental branches.</p>
</section>
<section id="answer-3-score-147" class="level4">
<h4>Answer 3 (score 147)</h4>
<p>Prior to the introduction of <code>git push -u</code>, there was no <code>git push</code> option to obtain what you desire. You had to add new configuration statements.</p>
<p>If you create a new branch using:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb60-1" title="1">$ <span class="fu">git</span> checkout -b branchB</a>
<a class="sourceLine" id="cb60-2" title="2">$ <span class="fu">git</span> push origin branchB:branchB</a></code></pre></div>
<p>You can use the <code>git config</code> command to avoid editing directly the <code>.git/config</code> file.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb61-1" title="1">$ <span class="fu">git</span> config branch.branchB.remote origin</a>
<a class="sourceLine" id="cb61-2" title="2">$ <span class="fu">git</span> config branch.branchB.merge refs/heads/branchB</a></code></pre></div>
<p>Or you can edit manually the <code>.git/config</code> file to had tracking information to this branch.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb62-1" title="1">[<span class="ex">branch</span> <span class="st">&quot;branchB&quot;</span>]</a>
<a class="sourceLine" id="cb62-2" title="2">    <span class="ex">remote</span> = origin</a>
<a class="sourceLine" id="cb62-3" title="3">    <span class="ex">merge</span> = refs/heads/branchB</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-clone-a-specific-git-branch-score-2851810-in-2019" class="level3">
<h3>7: How do I clone a specific Git branch? (score <a href="https://stackoverflow.com/q/1911109.html">2851810</a> in 2019)</h3>
<section id="question-6" class="level4">
<h4>Question</h4>
<p>Git clone will behave copying remote current working branch into local.</p>
<p>Is there any way to clone a specific branch by myself without switching branches on the remote repository?</p>
</section>
<section id="answer-accepted-score-948" class="level4">
<h4>Answer accepted (score 948)</h4>
<div class="sourceCode" id="cb63"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb63-1" title="1"><span class="fu">git</span> clone --single-branch --branch <span class="op">&lt;</span>branchname<span class="op">&gt;</span> <span class="op">&lt;</span>remote-repo<span class="op">&gt;</span></a></code></pre></div>
<p>The <code>--single-branch</code> option is valid from version <a href="https://github.com/git/git/blob/master/Documentation/RelNotes/1.7.10.txt" rel="noreferrer">1.7.10</a> and later.</p>
<p>Please see also the <a href="https://stackoverflow.com/a/4568323/134077">other answer</a> which many people prefer.</p>
<p>You may also want to make sure you understand the difference. And the difference is: by invoking <code>git clone --branch &amp;lt;branchname&amp;gt; url</code> you’re fetching <em>all</em> the branches and checking out one. That may, for instance, mean that your repository has a 5kB documentation or wiki branch and 5GB data branch. And whenever you want to edit your frontpage, you may end up cloning 5GB of data.</p>
<p>Again, that is not to say <code>git clone --branch</code> is not the way to accomplish that, it’s just that it’s not <em>always</em> what you want to accomplish, when you’re asking about cloning a specific branch.</p>
<p>At the time of writing the original answer below, git had no <code>--single-branch</code> option, but let’s preserve it for full satisfaction of angry bees.</p>
<p>The answer so badly disliked by copypasters was this:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb64-1" title="1"><span class="fu">git</span> init</a>
<a class="sourceLine" id="cb64-2" title="2"><span class="fu">git</span> remote add -t refspec remotename host:/dir.git</a>
<a class="sourceLine" id="cb64-3" title="3"><span class="fu">git</span> fetch</a></code></pre></div>
</section>
<section id="answer-2-score-7485" class="level4">
<h4>Answer 2 (score 7485)</h4>
<div class="sourceCode" id="cb65"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb65-1" title="1"><span class="fu">git</span> clone -b <span class="op">&lt;</span>branch<span class="op">&gt;</span> <span class="op">&lt;</span>remote_repo<span class="op">&gt;</span></a></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb66-1" title="1"><span class="fu">git</span> clone -b my-branch git@github.com:user/myproject.git</a></code></pre></div>
<p>With Git 1.7.10 and later, add <code>--single-branch</code> to prevent fetching of all branches. Example, with OpenCV 2.4 branch:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb67-1" title="1"><span class="fu">git</span> clone -b opencv-2.4 --single-branch https://github.com/Itseez/opencv.git</a></code></pre></div>
</section>
<section id="answer-3-score-252" class="level4">
<h4>Answer 3 (score 252)</h4>
<p>Here is a really simple way to do it :)</p>
<p>Clone the repository</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb68-1" title="1"><span class="fu">git</span> clone <span class="op">&lt;</span>repository_url<span class="op">&gt;</span></a></code></pre></div>
<p>List all branches</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb69-1" title="1"><span class="fu">git</span> branch -a </a></code></pre></div>
<p>Checkout the branch that you want</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb70-1" title="1"><span class="fu">git</span> checkout <span class="op">&lt;</span>name_of_branch<span class="op">&gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-undo-git-add-before-commit-score-2801667-in-2019" class="level3">
<h3>8: How do I undo ‘git add’ before commit? (score <a href="https://stackoverflow.com/q/348170.html">2801667</a> in 2019)</h3>
<section id="question-7" class="level4">
<h4>Question</h4>
<p>I mistakenly added files to git using the command:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb71-1" title="1"><span class="fu">git</span> add myfile.txt</a></code></pre></div>
<p>I have not yet run <code>git commit</code>. Is there a way to undo this, so these files won’t be included in the commit?</p>
</section>
<section id="answer-accepted-score-9641" class="level4">
<h4>Answer accepted (score 9641)</h4>
<p>You can undo <code>git add</code> before commit with</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb72-1" title="1"><span class="fu">git</span> reset <span class="op">&lt;</span>file<span class="op">&gt;</span></a></code></pre></div>
<p>which will remove it from the current index (the “about to be committed” list) without changing anything else.</p>
<p>You can use</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb73-1" title="1"><span class="fu">git</span> reset</a></code></pre></div>
<p>without any file name to unstage all due changes. This can come in handy when there are too many files to be listed one by one in a reasonable amount of time.</p>
<p>In old versions of Git, the above commands are equivalent to <code>git reset HEAD &amp;lt;file&amp;gt;</code> and <code>git reset HEAD</code> respectively, and will fail if <code>HEAD</code> is undefined (because you haven’t yet made any commits in your repo) or ambiguous (because you created a branch called <code>HEAD</code>, which is a stupid thing that you shouldn’t do). This <a href="https://git.kernel.org/cgit/git/git.git/tree/Documentation/RelNotes/1.8.2.txt#n179" rel="noreferrer">was changed in Git 1.8.2</a>, though, so in modern versions of Git you can use the commands above even prior to making your first commit:</p>
<blockquote>
<p>
“git reset” (without options or parameters) used to error out when you do not have any commits in your history, but it now gives you an empty index (to match non-existent commit you are not even on).
</p>
</blockquote>
</section>
<section id="answer-2-score-2097" class="level4">
<h4>Answer 2 (score 2097)</h4>
<p>You want:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb74-1" title="1"><span class="fu">git</span> rm --cached <span class="op">&lt;</span>added_file_to_undo<span class="op">&gt;</span></a></code></pre></div>
<p>Reasoning:</p>
<p>When I was new to this, I first tried</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb75-1" title="1"><span class="fu">git</span> reset .</a></code></pre></div>
<p>(to undo my entire initial add), only to get this (not so) helpful message:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb76-1" title="1"><span class="ex">fatal</span>: Failed to resolve <span class="st">&#39;HEAD&#39;</span> as a valid ref.</a></code></pre></div>
<p>It turns out that this is because the HEAD ref (branch?) doesn’t exist until after the first commit. That is, you’ll run into the same beginner’s problem as me if your workflow, like mine, was something like:</p>
<ol>
<li>
cd to my great new project directory to try out Git, the new hotness
</li>
<li>
<code>git init</code>
</li>
<li>
<code>git add .</code>
</li>
<li>
<p>
<code>git status</code>
</p>
<p>… lots of crap scrolls by …</p>
=&gt; Damn, I didn’t want to add all of that.
</li>
<li>
<p>
google “undo git add”
</p>
=&gt; find Stack Overflow - yay
</li>
<li>
<p>
<code>git reset .</code>
</p>
=&gt; fatal: Failed to resolve ‘HEAD’ as a valid ref.
</li>
</ol>
<p>It further turns out that there’s <a href="http://kerneltrap.org/mailarchive/git/2008/2/13/846664/thread" rel="noreferrer">a bug logged</a> against the unhelpfulness of this in the mailing list.</p>
<p>And that the correct solution was right there in the Git status output (which, yes, I glossed over as ’crap)</p>
<blockquote>
<div class="sourceCode" id="cb77"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb77-1" title="1"><span class="ex">...</span></a>
<a class="sourceLine" id="cb77-2" title="2"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb77-3" title="3"><span class="co">#   (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span></a>
<a class="sourceLine" id="cb77-4" title="4"><span class="ex">...</span></a></code></pre></div>
</blockquote>
<p>And the solution indeed is to use <code>git rm --cached FILE</code>.</p>
<p>Note the warnings elsewhere here - <code>git rm</code> deletes your local working copy of the file, but <em>not</em> if you use <strong>–cached</strong>. Here’s the result of <code>git help rm</code>:</p>
<blockquote>
<p>
–cached Use this option to unstage and remove paths only from the index. Working tree files, whether modified or not, will be left.
</p>
</blockquote>
<p>I proceed to use</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb78-1" title="1"><span class="fu">git</span> rm --cached .</a></code></pre></div>
<p>to remove everything and start again. Didn’t work though, because while <code>add .</code> is recursive, turns out <code>rm</code> needs <code>-r</code> to recurse. Sigh.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb79-1" title="1"><span class="fu">git</span> rm -r --cached .</a></code></pre></div>
<p>Okay, now I’m back to where I started. Next time I’m going to use <code>-n</code> to do a dry run and see what will be added:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb80-1" title="1"><span class="fu">git</span> add -n .</a></code></pre></div>
<p>I zipped up everything to a safe place before trusting <code>git help rm</code> about the <code>--cached</code> not destroying anything (and what if I misspelled it).</p>
</section>
<section id="answer-3-score-518" class="level4">
<h4>Answer 3 (score 518)</h4>
<p>If you type:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb81-1" title="1"><span class="fu">git</span> status</a></code></pre></div>
<p>git will tell you what is staged, etc, including instructions on how to unstage:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb82-1" title="1"><span class="ex">use</span> <span class="st">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage</a></code></pre></div>
<p>I find git does a pretty good job of nudging me to do the right thing in situations like this.</p>
<p><strong>Note: Recent git versions (1.8.4.x) have changed this message:</strong></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb83-1" title="1"><span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git rm --cached &lt;file&gt;...&quot;</span> to unstage<span class="kw">)</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="reset-local-repository-branch-to-be-just-like-remote-repository-head-score-2740228-in-2016" class="level3">
<h3>9: Reset local repository branch to be just like remote repository HEAD (score <a href="https://stackoverflow.com/q/1628088.html">2740228</a> in 2016)</h3>
<section id="question-8" class="level4">
<h4>Question</h4>
<p>How do I reset my local branch to be just like the branch on the remote repository?</p>
<p>I did:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb84-1" title="1"><span class="fu">git</span> reset --hard HEAD</a></code></pre></div>
<p>But when I run a <code>git status</code>,</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb85-1" title="1"><span class="ex">On</span> branch master</a>
<a class="sourceLine" id="cb85-2" title="2"><span class="ex">Changes</span> to be committed:</a>
<a class="sourceLine" id="cb85-3" title="3">  <span class="kw">(</span><span class="ex">use</span> <span class="st">&quot;git reset HEAD &lt;file&gt;...&quot;</span> to unstage<span class="kw">)</span></a>
<a class="sourceLine" id="cb85-4" title="4">      <span class="ex">modified</span>:   java/com/mycompany/TestContacts.java</a>
<a class="sourceLine" id="cb85-5" title="5">      <span class="ex">modified</span>:   java/com/mycompany/TestParser.java</a></code></pre></div>
<p>Can you please tell me why I have these ‘modified’? I haven’t touched these files? If I did, I want to remove those.</p>
</section>
<section id="answer-accepted-score-5911" class="level4">
<h4>Answer accepted (score 5911)</h4>
<p>Setting your branch to exactly match the remote branch can be done in two steps:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb86-1" title="1"><span class="fu">git</span> fetch origin</a>
<a class="sourceLine" id="cb86-2" title="2"><span class="fu">git</span> reset --hard origin/master</a></code></pre></div>
<p>If you want to save your current branch’s state before doing this (just in case), you can do:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb87-1" title="1"><span class="fu">git</span> commit -a -m <span class="st">&quot;Saving my work, just in case&quot;</span></a>
<a class="sourceLine" id="cb87-2" title="2"><span class="fu">git</span> branch my-saved-work</a></code></pre></div>
<p>Now your work is saved on the branch “my-saved-work” in case you decide you want it back (or want to look at it later or diff it against your updated branch).</p>
<p>Note that the first example assumes that the remote repo’s name is “origin” and that the branch named “master” in the remote repo matches the currently checked-out branch in your local repo.</p>
<p>BTW, this situation that you’re in looks an awful lot like a common case where a push has been done into the currently checked out branch of a non-bare repository. Did you recently push into your local repo? If not, then no worries – something else must have caused these files to unexpectedly end up modified. Otherwise, you should be aware that it’s not recommended to push into a non-bare repository (and not into the currently checked-out branch, in particular).</p>
</section>
<section id="answer-2-score-354" class="level4">
<h4>Answer 2 (score 354)</h4>
<p>I needed to do (the solution in the accepted answer):</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb88-1" title="1"><span class="fu">git</span> fetch origin</a>
<a class="sourceLine" id="cb88-2" title="2"><span class="fu">git</span> reset --hard origin/master</a></code></pre></div>
<p>Followed by:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb89-1" title="1"><span class="fu">git</span> clean -f</a></code></pre></div>
<p><a href="https://stackoverflow.com/questions/61212/remove-local-untracked-files-from-my-current-git-branch">to remove local files</a></p>
<p>To see what files will be removed (without actually removing them):</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb90-1" title="1"><span class="fu">git</span> clean -n -f</a></code></pre></div>
</section>
<section id="answer-3-score-245" class="level4">
<h4>Answer 3 (score 245)</h4>
<p>First, reset to the previously fetched <code>HEAD</code> of the corresponding upstream branch:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb91-1" title="1"><span class="fu">git</span> reset --hard @<span class="dt">{u}</span></a></code></pre></div>
<p>The advantage of specifying <code>@{u}</code> or its verbose form <code>@{upstream}</code> is that the name of the remote repo and branch don’t have to be explicitly specified.</p>
<p>Next, as needed, remove untracked files, optionally also with <code>-x</code>:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb92-1" title="1"><span class="fu">git</span> clean -df</a></code></pre></div>
<p>Finally, as needed, get the latest changes:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb93-1" title="1"><span class="fu">git</span> pull</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-use-git-reset-hard-head-to-revert-to-a-previous-commit-score-2672030-in-2015" class="level3">
<h3>10: How do I use ‘git reset –hard HEAD’ to revert to a previous commit? (score <a href="https://stackoverflow.com/q/9529078.html">2672030</a> in 2015)</h3>
<section id="question-9" class="level4">
<h4>Question</h4>
<p>I know that Git tracks changes I make to my application, and it holds on to them until I commit the changes, but here’s where I’m hung up:</p>
<p>When I want to revert to a previous commit I use:</p>
<p><code>sh git reset --hard HEAD</code></p>
<p>And Git returns:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb94-1" title="1"><span class="ex">HEAD</span> is now at 820f417 micro</a></code></pre></div>
<p>How do I then revert the files on my hard drive back to that previous commit?</p>
<p>My next steps were:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb95-1" title="1"><span class="fu">git</span> add .</a>
<a class="sourceLine" id="cb95-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;revert&quot;</span></a></code></pre></div>
<p>But none of the files have changed on my hard drive…</p>
<p>What am I doing right/wrong?</p>
</section>
<section id="answer-accepted-score-1005" class="level4">
<h4>Answer accepted (score 1005)</h4>
<p>First, it’s always worth noting that <code>git reset --hard</code> is a potentially dangerous command, since it throws away all your uncommitted changes. For safety, you should always check that the output of <code>git status</code> is clean (that is, empty) before using it.</p>
<p>Initially you say the following:</p>
<blockquote>
So I know that Git tracks changes I make to my application, and it holds on to them until I commit the changes, but here’s where I’m hung up:
</blockquote>
<p>That’s incorrect. Git only records the state of the files when you stage them (with <code>git add</code>) or when you create a commit. Once you’ve created a commit which has your project files in a particular state, they’re very safe, but until then Git’s not really “tracking changes” to your files. (for example, even if you do <code>git add</code> to stage a new version of the file, that overwrites the previously staged version of that file in the staging area.)</p>
<p>In your question you then go on to ask the following:</p>
<blockquote>
<p>When I want to revert to a previous commit I use: git reset –hard HEAD And git returns: HEAD is now at 820f417 micro</p>
How do I then revert the files on my hard drive back to that previous commit?
</blockquote>
<p>If you do <code>git reset --hard &amp;lt;SOME-COMMIT&amp;gt;</code> then Git will:</p>
<ul>
<li>
Make your current branch (typically <code>master</code>) back to point at <code>&amp;lt;SOME-COMMIT&amp;gt;</code>.
</li>
<li>
Then make the files in your working tree and the index (“staging area”) the same as the versions committed in <code>&amp;lt;SOME-COMMIT&amp;gt;</code>.
</li>
</ul>
<p><code>HEAD</code> points to your current branch (or current commit), so all that <code>git reset --hard HEAD</code> will do is to throw away any uncommitted changes you have.</p>
<p>So, suppose the good commit that you want to go back to is <code>f414f31</code>. (You can find that via <code>git log</code> or any history browser.) You then have a few different options depending on exactly what you want to do:</p>
<ul>
<li>
Change your current branch to point to the older commit instead. You could do that with <code>git reset --hard f414f31</code>. However, this is rewriting the history of your branch, so you should avoid it if you’ve shared this branch with anyone. Also, the commits you did after <code>f414f31</code> will no longer be in the history of your <code>master</code> branch.
</li>
<li>
<p>
Create a new commit that represents exactly the same state of the project as <code>f414f31</code>, but just adds that on to the history, so you don’t lose any history. You can do that using the steps suggested in <a href="https://stackoverflow.com/a/1895095/223092">this answer</a> - something like:
</p>
<code>sh git reset --hard f414f31 git reset --soft HEAD@{1} git commit -m "Reverting to the state of the project at f414f31"</code>
</li>
</ul>
</section>
<section id="answer-2-score-202" class="level4">
<h4>Answer 2 (score 202)</h4>
<blockquote>
<strong>WARNING: <code>git clean -f</code> will remove untracked files, meaning they’re gone for good since they aren’t stored in the repository. Make sure you really want to remove all untracked files before doing this.</strong>
</blockquote>
<hr>
<p>Try this and see <code>git clean -f</code>.</p>
<p><code>git reset --hard</code> will not remove untracked files, where as <code>git-clean</code> will remove any files from the tracked root directory that are not under Git tracking.</p>
<p>Alternatively, as <span class="citation" data-cites="Paul">@Paul</span> Betts said, you can do this (beware though - that removes all ignored files too)</p>
<ul>
<li>
<code>git clean -df</code>
</li>
<li>
<code>git clean -xdf</code> <strong>CAUTION! This will also delete ignored files</strong>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-difference-between-git-pull-and-git-fetch-score-2657617-in-2018" class="level3">
<h3>11: What is the difference between ‘git pull’ and ‘git fetch’? (score <a href="https://stackoverflow.com/q/292357.html">2657617</a> in 2018)</h3>
<section id="question-10" class="level4">
<h4>Question</h4>
<blockquote>
<strong>Moderator Note:</strong> Given that this question has already had <em>sixty-seven answers</em> posted to it (some of them deleted), consider whether or not you are <strong><em>contributing anything new</em></strong> before posting another one.
</blockquote>
<p>What are the differences between <code>git pull</code> and <code>git fetch</code>?</p>
</section>
<section id="answer-accepted-score-9440" class="level4">
<h4>Answer accepted (score 9440)</h4>
<p>In the simplest terms, <code>git pull</code> does a <code>git fetch</code> followed by a <code>git merge</code>.</p>
<p>You can do a <code>git fetch</code> at any time to update your remote-tracking branches under <code>refs/remotes/&amp;lt;remote&amp;gt;/</code>.</p>
<p>This operation never changes any of your own local branches under <code>refs/heads</code>, and is safe to do without changing your working copy. I have even heard of people running <code>git fetch</code> periodically in a cron job in the background (although I wouldn’t recommend doing this).</p>
<p>A <code>git pull</code> is what you would do to bring a local branch up-to-date with its remote version, while also updating your other remote-tracking branches.</p>
<p>Git documentation – <a href="http://git-scm.com/docs/git-pull" rel="noreferrer"><strong>git pull</strong></a>:</p>
<blockquote>
In its default mode, <code>git pull</code> is shorthand for <code>git fetch</code> followed by <code>git merge FETCH_HEAD</code>.
</blockquote>
</section>
<section id="answer-2-score-2076" class="level4">
<h4>Answer 2 (score 2076)</h4>
<ul>
<li>
<p>
When you use <code>pull</code>, Git tries to automatically do your work for you. <strong>It is context sensitive</strong>, so Git will merge any pulled commits into the branch you are currently working in. <code>pull</code> <strong>automatically merges the commits without letting you review them first</strong>. If you don’t closely manage your branches, you may run into frequent conflicts.
</p>
</li>
<li>
<p>
When you <code>fetch</code>, Git gathers any commits from the target branch that do not exist in your current branch and <strong>stores them in your local repository</strong>. However, <strong>it does not merge them with your current branch</strong>. This is particularly useful if you need to keep your repository up to date, but are working on something that might break if you update your files. To integrate the commits into your master branch, you use <code>merge</code>.
</p>
</li>
</ul>
</section>
<section id="answer-3-score-1155" class="level4">
<h4>Answer 3 (score 1155)</h4>
<p>It is important to contrast the design philosophy of git with the philosophy of a more traditional source control tool like SVN.</p>
<p>Subversion was designed and built with a client/server model. There is a single repository that is the server, and several clients can fetch code from the server, work on it, then commit it back to the server. The assumption is that the client can always contact the server when it needs to perform an operation.</p>
<p>Git was designed to support a more distributed model with no need for a central repository (though you can certainly use one if you like). Also git was designed so that the client and the “server” don’t need to be online at the same time. Git was designed so that people on an unreliable link could exchange code via email, even. It is possible to work completely disconnected and burn a CD to exchange code via git.</p>
<p>In order to support this model git maintains a local repository with your code and also an additional local repository that mirrors the state of the remote repository. By keeping a copy of the remote repository locally, git can figure out the changes needed even when the remote repository is not reachable. Later when you need to send the changes to someone else, git can transfer them as a set of changes from a point in time known to the remote repository.</p>
<ul>
<li>
<p>
<strong><code>git fetch</code></strong> is the command that says “bring my local copy of the remote repository up to date.”
</p>
</li>
<li>
<p>
<strong><code>git pull</code></strong> says “bring the changes in the remote repository to where I keep my own code.”
</p>
</li>
</ul>
<p>Normally <strong><code>git pull</code></strong> does this by doing a <strong><code>git fetch</code></strong> to bring the local copy of the remote repository up to date, and then merging the changes into your own code repository and possibly your working copy.</p>
<p>The take away is to keep in mind that there are often at least <strong>three copies</strong> of a project on your workstation. One copy is your own repository with your own commit history. The second copy is your working copy where you are editing and building. The third copy is your local “cached” copy of a remote repository.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-rename-a-local-git-branch-score-2621697-in-2019" class="level3">
<h3>12: How do I rename a local Git branch? (score <a href="https://stackoverflow.com/q/6591213.html">2621697</a> in 2019)</h3>
<section id="question-11" class="level4">
<h4>Question</h4>
<p>I don’t want to rename a remote branch, as described in <em><a href="https://stackoverflow.com/questions/1526794/rename-master-branch-for-both-local-and-remote-git-repositories?answertab=votes#tab-top">Rename master branch for both local and remote Git repositories</a></em>.</p>
<p>How can I rename a local branch which hasn’t been pushed to a remote branch?</p>
<p>
In case you need to rename <strong>remote</strong> branch as well:<br> <em><a href="https://stackoverflow.com/questions/30590083/how-to-rename-a-remote-git-branch-name/30590238#30590238">How do I rename both a Git local and remote branch name</a></em>
</p>
</section>
<section id="answer-accepted-score-12738" class="level4">
<h4>Answer accepted (score 12738)</h4>
<p>If you want to rename a branch while pointed to any branch, do:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb96-1" title="1"><span class="fu">git</span> branch -m <span class="op">&lt;</span>oldname<span class="op">&gt;</span> <span class="op">&lt;</span>newname<span class="op">&gt;</span></a></code></pre></div>
<p>If you want to rename the current branch, you can do:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb97-1" title="1"><span class="fu">git</span> branch -m <span class="op">&lt;</span>newname<span class="op">&gt;</span></a></code></pre></div>
<p>A way to remember this is <code>-m</code> is for “move” (or <code>mv</code>), which is how you rename files.</p>
<p>If you are on Windows or another case-insensitive filesystem, and there are any capitalization change in the name, you need to use <code>-M</code>, otherwise, git will throw <em><strong>branch already exists</strong></em> error:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb98-1" title="1"><span class="fu">git</span> branch -M <span class="op">&lt;</span>newname<span class="op">&gt;</span></a></code></pre></div>
</section>
<section id="answer-2-score-412" class="level4">
<h4>Answer 2 (score 412)</h4>
<div class="sourceCode" id="cb99"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb99-1" title="1"><span class="fu">git</span> branch -m old_branch_name new_branch_name</a></code></pre></div>
<p>The above command will change your branch name, but you have to be very careful using the renamed branch, because it will still refer to the old upstream branch associated with it, if any.</p>
<p>If you want to push some changes into master after your local branch is renamed into new_branch_name (example name):</p>
<p><code>git push origin new_branch_name:master</code> (now changes will go to master branch but your local branch name is new_branch_name)</p>
<p>For more details, see “<a href="http://madhan-tech-updates.blogspot.in/2013/01/how-to-rename-your-local-branch-name-in.html">How to rename your local branch name in Git</a>.”</p>
</section>
<section id="answer-3-score-301" class="level4">
<h4>Answer 3 (score 301)</h4>
<p>To rename your current branch:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb100-1" title="1"><span class="fu">git</span> branch -m <span class="op">&lt;</span>newname<span class="op">&gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-determine-the-url-that-a-local-git-repository-was-originally-cloned-from-score-2524689-in-2015" class="level3">
<h3>13: How can I determine the URL that a local Git repository was originally cloned from? (score <a href="https://stackoverflow.com/q/4089430.html">2524689</a> in 2015)</h3>
<section id="question-12" class="level4">
<h4>Question</h4>
<p>I pulled a project from GitHub a few days ago. I’ve since discovered that there are several forks on GitHub, and I neglected to note which one I took originally. How can I determine which of those forks I pulled?</p>
</section>
<section id="answer-accepted-score-5209" class="level4">
<h4>Answer accepted (score 5209)</h4>
<p>If you want only the remote URL, or if your are not connected to a network that can reach the remote repo:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb101-1" title="1"><span class="fu">git</span> config --get remote.origin.url</a></code></pre></div>
<p>If you require full output and you <em>are</em> on a network that can reach the remote repo where the origin resides :</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb102-1" title="1"><span class="fu">git</span> remote show origin</a></code></pre></div>
<p>When using <code>git clone</code> (from GitHub, or any source repository for that matter) the default name for the source of the clone is “origin”. Using <code>git remote show</code> will display the information about this remote name. The first few lines should show:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb103-1" title="1"><span class="ex">C</span>:\Users\jaredpar\VsVim<span class="op">&gt;</span> git remote show origin</a>
<a class="sourceLine" id="cb103-2" title="2"><span class="ex">*</span> remote origin</a>
<a class="sourceLine" id="cb103-3" title="3">  <span class="ex">Fetch</span> URL: git@github.com:jaredpar/VsVim.git</a>
<a class="sourceLine" id="cb103-4" title="4">  <span class="ex">Push</span>  URL: git@github.com:jaredpar/VsVim.git</a>
<a class="sourceLine" id="cb103-5" title="5">  <span class="ex">HEAD</span> branch: master</a>
<a class="sourceLine" id="cb103-6" title="6">  <span class="ex">Remote</span> branches:</a></code></pre></div>
<p>If you want to use the value in the script, you would use the first command listed in this answer.</p>
</section>
<section id="answer-2-score-597" class="level4">
<h4>Answer 2 (score 597)</h4>
<p>Should you want this for scripting purposes, you can get only the URL with</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb104-1" title="1"><span class="fu">git</span> config --get remote.origin.url</a></code></pre></div>
</section>
<section id="answer-3-score-514" class="level4">
<h4>Answer 3 (score 514)</h4>
<p>You can try:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb105-1" title="1"><span class="fu">git</span> remote -v</a></code></pre></div>
<p>It will print all your remotes’ fetch/push URLs.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-resolve-merge-conflicts-in-git-score-2455683-in-2019" class="level3">
<h3>14: How to resolve merge conflicts in Git (score <a href="https://stackoverflow.com/q/161813.html">2455683</a> in 2019)</h3>
<section id="question-13" class="level4">
<h4>Question</h4>
<p>How do I resolve merge conflicts in Git?</p>
</section>
<section id="answer-accepted-score-2738" class="level4">
<h4>Answer accepted (score 2738)</h4>
<p>Try: <code>git mergetool</code></p>
<p>It opens a GUI that steps you through each conflict, and you get to choose how to merge. Sometimes it requires a bit of hand editing afterwards, but usually it’s enough by itself. It is much better than doing the whole thing by hand certainly.</p>
<p>As per <span class="citation" data-cites="JoshGlover">@JoshGlover</span> comment:</p>
<p>The command doesn’t necessarily open a GUI unless you install one. Running <code>git mergetool</code> for me resulted in <code>vimdiff</code> being used. You can install one of the following tools to use it instead: <code>meld</code>, <code>opendiff</code>, <code>kdiff3</code>, <code>tkdiff</code>, <code>xxdiff</code>, <code>tortoisemerge</code>, <code>gvimdiff</code>, <code>diffuse</code>, <code>ecmerge</code>, <code>p4merge</code>, <code>araxis</code>, <code>vimdiff</code>, <code>emerge</code>.</p>
<p>Below is the sample procedure to use <code>vimdiff</code> for resolve merge conflicts. Based on <a href="http://www.rosipov.com/blog/use-vimdiff-as-git-mergetool/#fromHistor" rel="noreferrer">this link</a></p>
<p><strong>Step 1</strong>: Run following commands in your terminal</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb106-1" title="1"><span class="fu">git</span> config merge.tool vimdiff</a>
<a class="sourceLine" id="cb106-2" title="2"><span class="fu">git</span> config merge.conflictstyle diff3</a>
<a class="sourceLine" id="cb106-3" title="3"><span class="fu">git</span> config mergetool.prompt false</a></code></pre></div>
<p>This will set vimdiff as the default merge tool.</p>
<p><strong>Step 2</strong>: Run following command in terminal</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb107-1" title="1"><span class="fu">git</span> mergetool</a></code></pre></div>
<p><strong>Step 3</strong>: You will see a vimdiff display in following format</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb108-1" title="1">  ╔═══════╦══════╦════════╗</a>
<a class="sourceLine" id="cb108-2" title="2">  ║       ║      ║        ║</a>
<a class="sourceLine" id="cb108-3" title="3">  ║ <span class="ex">LOCAL</span> ║ BASE ║ REMOTE ║</a>
<a class="sourceLine" id="cb108-4" title="4">  ║       ║      ║        ║</a>
<a class="sourceLine" id="cb108-5" title="5">  ╠═══════╩══════╩════════╣</a>
<a class="sourceLine" id="cb108-6" title="6">  ║                       ║</a>
<a class="sourceLine" id="cb108-7" title="7">  ║        <span class="ex">MERGED</span>         ║</a>
<a class="sourceLine" id="cb108-8" title="8">  ║                       ║</a>
<a class="sourceLine" id="cb108-9" title="9">  ╚═══════════════════════╝</a></code></pre></div>
<p>These 4 views are</p>
<blockquote>
<p>LOCAL – this is file from the current branch</p>
<p>BASE – common ancestor, how file looked before both changes</p>
<p>REMOTE – file you are merging into your branch</p>
MERGED – merge result, this is what gets saved in the repo
</blockquote>
<p>You can navigate among these views using <kbd>ctrl</kbd>+<kbd>w</kbd>. You can directly reach MERGED view using <kbd>ctrl</kbd>+<kbd>w</kbd> followed by <kbd>j</kbd>.</p>
<p>More info about vimdiff navigation <a href="https://stackoverflow.com/questions/4556184/vim-move-window-left-right">here</a> and <a href="https://stackoverflow.com/questions/27151456/how-do-i-jump-to-the-next-prev-diff-in-git-difftool">here</a></p>
<p><strong>Step 4</strong>. You could edit the MERGED view the following way</p>
<p>If you want to get changes from REMOTE</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb109-1" title="1">:<span class="ex">diffg</span> RE  </a></code></pre></div>
<p>If you want to get changes from BASE</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb110-1" title="1">:<span class="ex">diffg</span> BA  </a></code></pre></div>
<p>If you want to get changes from LOCAL</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb111-1" title="1">:<span class="ex">diffg</span> LO </a></code></pre></div>
<p><strong>Step 5</strong>. Save, Exit, Commit and Clean up</p>
<p><code>:wqa</code> save and exit from vi</p>
<p><code>git commit -m "message"</code></p>
<p><code>git clean</code> Remove extra files (e.g. *.orig) created by diff tool.</p>
</section>
<section id="answer-2-score-1662" class="level4">
<h4>Answer 2 (score 1662)</h4>
<p>Here’s a probable use-case, from the top:</p>
<p>You’re going to pull some changes, but oops, you’re not up to date:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb112-1" title="1"><span class="fu">git</span> fetch origin</a>
<a class="sourceLine" id="cb112-2" title="2"><span class="fu">git</span> pull origin master</a>
<a class="sourceLine" id="cb112-3" title="3"></a>
<a class="sourceLine" id="cb112-4" title="4"><span class="ex">From</span> ssh://gitosis@example.com:22/projectname</a>
<a class="sourceLine" id="cb112-5" title="5"> <span class="ex">*</span> branch            master     -<span class="op">&gt;</span> FETCH_HEAD</a>
<a class="sourceLine" id="cb112-6" title="6"><span class="ex">Updating</span> a030c3a..ee25213</a>
<a class="sourceLine" id="cb112-7" title="7"><span class="ex">error</span>: Entry <span class="st">&#39;filename.c&#39;</span> not uptodate. Cannot merge.</a></code></pre></div>
<p>So you get up-to-date and try again, but have a conflict:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb113-1" title="1"><span class="fu">git</span> add filename.c</a>
<a class="sourceLine" id="cb113-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;made some wild and crazy changes&quot;</span></a>
<a class="sourceLine" id="cb113-3" title="3"><span class="fu">git</span> pull origin master</a>
<a class="sourceLine" id="cb113-4" title="4"></a>
<a class="sourceLine" id="cb113-5" title="5"><span class="ex">From</span> ssh://gitosis@example.com:22/projectname</a>
<a class="sourceLine" id="cb113-6" title="6"> <span class="ex">*</span> branch            master     -<span class="op">&gt;</span> FETCH_HEAD</a>
<a class="sourceLine" id="cb113-7" title="7"><span class="ex">Auto-merging</span> filename.c</a>
<a class="sourceLine" id="cb113-8" title="8"><span class="ex">CONFLICT</span> (content)<span class="bu">:</span> Merge conflict in filename.c</a>
<a class="sourceLine" id="cb113-9" title="9"><span class="ex">Automatic</span> merge failed<span class="kw">;</span> <span class="ex">fix</span> conflicts and then commit the result.</a></code></pre></div>
<p>So you decide to take a look at the changes:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb114-1" title="1"><span class="fu">git</span> mergetool</a></code></pre></div>
<p>Oh my, oh my, upstream changed some things, but just to use my changes…no…their changes…</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb115-1" title="1"><span class="fu">git</span> checkout --ours filename.c</a>
<a class="sourceLine" id="cb115-2" title="2"><span class="fu">git</span> checkout --theirs filename.c</a>
<a class="sourceLine" id="cb115-3" title="3"><span class="fu">git</span> add filename.c</a>
<a class="sourceLine" id="cb115-4" title="4"><span class="fu">git</span> commit -m <span class="st">&quot;using theirs&quot;</span></a></code></pre></div>
<p>And then we try a final time</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb116-1" title="1"><span class="fu">git</span> pull origin master</a>
<a class="sourceLine" id="cb116-2" title="2"></a>
<a class="sourceLine" id="cb116-3" title="3"><span class="ex">From</span> ssh://gitosis@example.com:22/projectname</a>
<a class="sourceLine" id="cb116-4" title="4"> <span class="ex">*</span> branch            master     -<span class="op">&gt;</span> FETCH_HEAD</a>
<a class="sourceLine" id="cb116-5" title="5"><span class="ex">Already</span> up-to-date.</a></code></pre></div>
<p>Ta-da!</p>
</section>
<section id="answer-3-score-718" class="level4">
<h4>Answer 3 (score 718)</h4>
<p>I find merge tools rarely help me understand the conflict or the resolution. I’m usually more successful looking at the conflict markers in a text editor and using git log as a supplement.</p>
<p>Here are a few tips:</p>
<h5>
Tip One
</h1>
<p>The best thing I have found is to use the “diff3” merge conflict style:</p>
<p><code>git config merge.conflictstyle diff3</code></p>
<p>This produces conflict markers like this:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb117-1" title="1"><span class="op">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span></a>
<a class="sourceLine" id="cb117-2" title="2"><span class="ex">Changes</span> made on the branch that is being merged into. In most cases,</a>
<a class="sourceLine" id="cb117-3" title="3"><span class="ex">this</span> is the branch that I have currently checked out (i.e. HEAD)<span class="ex">.</span></a>
<a class="sourceLine" id="cb117-4" title="4"><span class="kw">|||||||</span></a>
<a class="sourceLine" id="cb117-5" title="5"><span class="ex">The</span> common ancestor version.</a>
<a class="sourceLine" id="cb117-6" title="6">=======</a>
<a class="sourceLine" id="cb117-7" title="7"><span class="ex">Changes</span> made on the branch that is being merged in. This is often a </a>
<a class="sourceLine" id="cb117-8" title="8"><span class="ex">feature/topic</span> branch.</a>
<a class="sourceLine" id="cb117-9" title="9"><span class="op">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span></a></code></pre></div>
<p>The middle section is what the common ancestor looked like. This is useful because you can compare it to the top and bottom versions to get a better sense of what was changed on each branch, which gives you a better idea for what the purpose of each change was.</p>
<p>If the conflict is only a few lines, this generally makes the conflict very obvious. (Knowing how to fix a conflict is very different; you need to be aware of what other people are working on. If you’re confused, it’s probably best to just call that person into your room so they can see what you’re looking at.)</p>
<p>If the conflict is longer, then I will cut and paste each of the three sections into three separate files, such as “mine”, “common” and “theirs”.</p>
<p>Then I can run the following commands to see the two diff hunks that caused the conflict:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb118-1" title="1"><span class="fu">diff</span> common mine</a>
<a class="sourceLine" id="cb118-2" title="2"><span class="fu">diff</span> common theirs</a></code></pre></div>
<p>This is not the same as using a merge tool, since a merge tool will include all of the non-conflicting diff hunks too. I find that to be distracting.</p>
<h5>
Tip Two
</h1>
<p>Somebody already mentioned this, but understanding the intention behind each diff hunk is generally very helpful for understanding where a conflict came from and how to handle it.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb119-1" title="1"><span class="fu">git</span> log --merge -p <span class="op">&lt;</span>name of file<span class="op">&gt;</span></a></code></pre></div>
<p>This shows all of the commits that touched that file in between the common ancestor and the two heads you are merging. (So it doesn’t include commits that already exist in both branches before merging.) This helps you ignore diff hunks that clearly are not a factor in your current conflict.</p>
<h5>
Tip Three
</h1>
<p>Verify your changes with automated tools.</p>
<p>If you have automated tests, run those. If you have a <a href="https://en.wikipedia.org/wiki/Lint_%28software%29">lint</a>, run that. If it’s a buildable project, then build it before you commit, etc. In all cases, you need to do a bit of testing to make sure your changes didn’t break anything. (Heck, even a merge without conflicts can break working code.)</p>
<h5>
Tip Four
</h1>
<p>Plan ahead; communicate with co-workers.</p>
<p>Planning ahead and being aware of what others are working on can help prevent merge conflicts and/or help resolve them earlier – while the details are still fresh in mind.</p>
<p>For example, if you know that you and another person are both working on different refactoring that will both affect the same set of files, you should talk to each other ahead of time and get a better sense for what types of changes each of you is making. You might save considerable time and effort if you conduct your planned changes serially rather than in parallel.</p>
<p>For major refactorings that cut across a large swath of code, you should strongly consider working serially: everybody stops working on that area of the code while one person performs the complete refactoring.</p>
<p>If you can’t work serially (due to time pressure, maybe), then communicating about expected merge conflicts at least helps you solve the problems sooner while the details are still fresh in mind. For example, if a co-worker is making a disruptive series of commits over the course of a one-week period, you may choose to merge/rebase on that co-workers branch once or twice each day during that week. That way, if you do find merge/rebase conflicts, you can solve them more quickly than if you wait a few weeks to merge everything together in one big lump.</p>
<h5>
Tip Five
</h1>
<p>If you’re unsure of a merge, don’t force it.</p>
<p>Merging can feel overwhelming, especially when there are a lot of conflicting files and the conflict markers cover hundreds of lines. Often times when estimating software projects we don’t include enough time for overhead items like handling a gnarly merge, so it feels like a real drag to spend several hours dissecting each conflict.</p>
<p>In the long run, planning ahead and being aware of what others are working on are the best tools for anticipating merge conflicts and prepare yourself to resolve them correctly in less time.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-modify-existing-unpushed-commit-messages-score-2441373-in-2019" class="level3">
<h3>15: How to modify existing, unpushed commit messages? (score <a href="https://stackoverflow.com/q/179123.html">2441373</a> in 2019)</h3>
<section id="question-14" class="level4">
<h4>Question</h4>
<p>I wrote the wrong thing in a commit message.</p>
<p>How can I change the message? The commit has not been pushed yet.</p>
</section>
<section id="answer-accepted-score-15563" class="level4">
<h4>Answer accepted (score 15563)</h4>
<h5>
Amending the most recent commit message
</h1>
<div class="sourceCode" id="cb120"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb120-1" title="1"><span class="fu">git</span> commit --amend</a></code></pre></div>
<p>will open your editor, allowing you to change the commit message of the most recent commit. Additionally, you can set the commit message directly in the command line with:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb121-1" title="1"><span class="fu">git</span> commit --amend -m <span class="st">&quot;New commit message&quot;</span></a></code></pre></div>
<p>…however, this can make multi-line commit messages or small corrections more cumbersome to enter.</p>
<p>Make sure you don’t have any working copy changes <em>staged</em> before doing this or they will get committed too. (<em>Unstaged</em> changes will not get committed.)</p>
<h5>
Changing the message of a commit that you’ve already pushed to your remote branch
</h2>
<p>If you’ve already pushed your commit up to your remote branch, then you’ll <a href="https://stackoverflow.com/questions/41003071/why-must-i-force-push-after-changing-a-commit-message">need to force push the commit</a> with:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb122-1" title="1"><span class="fu">git</span> push <span class="op">&lt;</span>remote<span class="op">&gt;</span> <span class="op">&lt;</span>branch<span class="op">&gt;</span> --force</a>
<a class="sourceLine" id="cb122-2" title="2"><span class="co"># Or</span></a>
<a class="sourceLine" id="cb122-3" title="3"><span class="fu">git</span> push <span class="op">&lt;</span>remote<span class="op">&gt;</span> <span class="op">&lt;</span>branch<span class="op">&gt;</span> -f</a></code></pre></div>
<p><strong>Warning: force-pushing will overwrite the remote branch with the state of your local one</strong>. If there are commits on the remote branch that you don’t have in your local branch, you <em>will</em> lose those commits.</p>
<p><strong>Warning: be cautious about amending commits that you have already shared with other people.</strong> Amending commits essentially <em>rewrites</em> them to have different <a href="http://en.wikipedia.org/wiki/SHA-1" rel="noreferrer">SHA</a> IDs, which poses a problem if other people have copies of the old commit that you’ve rewritten. Anyone who has a copy of the old commit will need to synchronize their work with your newly re-written commit, which can sometimes be difficult, so make sure you coordinate with others when attempting to rewrite shared commit history, or just avoid rewriting shared commits altogether.</p>
<hr>
<h5>
Use interactive rebase
</h3>
<p>
Another option is to use interactive rebase.<br> This allows you to edit any message you want to update even if it’s not the latest message.
</p>
<p>In order to do a git squash, follow these steps:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb123-1" title="1"><span class="ex">//</span> X is the number of commits to the last commit you want to be able to edit</a>
<a class="sourceLine" id="cb123-2" title="2"><span class="fu">git</span> rebase -i HEAD~X</a></code></pre></div>
<p>Once you squash your commits - choose the <code>e/r</code> for editing the message</p>
<p><a href="https://i.stack.imgur.com/LVcm9.png" rel="noreferrer"><img src="https://i.stack.imgur.com/LVcm9.png" alt="enter image description here"></a></p>
<h5>
Important note about Interactive rebase
</h3>
<p>When you use the <code>git rebase -i HEAD~X</code> there can be <strong>more</strong> than <code>X</code> commits. Git will “collect” all the commits in the last <code>X</code> commits and if there was a merge somewhere in between that range you will see all the commits as well so the outcome will be X+.</p>
<h5>
Good tip:
</h3>
<p>If you have to do it for more than a single branch and you might face conflicts when amending the content, set up <a href="https://stackoverflow.com/questions/35415925/is-it-possible-to-setup-git-merge-for-automatic-resolving-git-rerere/35417944#35417944"><code>git rerere</code></a> and let git resolve those conflicts automatically for you.</p>
<hr>
<h5>
Documentation
</h2>
<ul>
<li>
<p>
<a href="https://www.kernel.org/pub/software/scm/git/docs/git-commit.html" rel="noreferrer">git-commit(1) Manual Page</a>
</p>
</li>
<li>
<p>
<a href="https://www.kernel.org/pub/software/scm/git/docs/git-rebase.html" rel="noreferrer">git-rebase(1) Manual Page</a>
</p>
</li>
<li>
<p>
<a href="https://www.kernel.org/pub/software/scm/git/docs/git-push.html" rel="noreferrer">git-push(1) Manual Page</a>
</p>
</li>
</ul>
</section>
<section id="answer-2-score-2471" class="level4">
<h4>Answer 2 (score 2471)</h4>
<div class="sourceCode" id="cb124"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb124-1" title="1"><span class="fu">git</span> commit --amend -m <span class="st">&quot;your new message&quot;</span></a></code></pre></div>
</section>
<section id="answer-3-score-2351" class="level4">
<h4>Answer 3 (score 2351)</h4>
<p>If the commit you want to fix isn’t the most recent one:</p>
<ol>
<li>
<p>
<code>git rebase --interactive $parent_of_flawed_commit</code>
</p>
If you want to fix several flawed commits, pass the parent of the oldest one of them.
</li>
<li>
<p>
An editor will come up, with a list of all commits since the one you gave.
</p>
<ol>
<li>
Change <code>pick</code> to <code>reword</code> (or on old versions of Git, to <code>edit</code>) in front of any commits you want to fix.
</li>
<li>
Once you save, Git will replay the listed commits. <br /> <br />
</li>
</ol>
</li>
<li>
<p>
For each commit you want to <em>reword</em>, Git will drop you back into your editor. For each commit you want to <em>edit</em>, Git drops you into the shell. If you’re in the shell:
</p>
<ol>
<li>
Change the commit in any way you like.
</li>
<li>
<code>git commit --amend</code>
</li>
<li>
<code>git rebase --continue</code>
</li>
</ol>
</li>
</ol>
<p>Most of this sequence will be explained to you by the output of the various commands as you go. It’s very easy, you don’t need to memorise it – just remember that <code>git rebase --interactive</code> lets you correct commits no matter how long ago they were.</p>
<hr>
<p>Note that you will not want to change commits that you have already pushed. Or maybe you do, but in that case you will have to take great care to communicate with everyone who may have pulled your commits and done work on top of them. <a href="https://stackoverflow.com/questions/4084868">How do I recover/resynchronise after someone pushes a rebase or a reset to a published branch?</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-discard-unstaged-changes-in-git-score-2381631-in-2019" class="level3">
<h3>16: How do I discard unstaged changes in Git? (score <a href="https://stackoverflow.com/q/52704.html">2381631</a> in 2019)</h3>
<section id="question-15" class="level4">
<h4>Question</h4>
<p>How do I discard changes in my working copy that are not in the index?</p>
</section>
<section id="answer-accepted-score-2515" class="level4">
<h4>Answer accepted (score 2515)</h4>
<p>Another quicker way is:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb125-1" title="1"><span class="fu">git</span> stash save --keep-index --include-untracked</a></code></pre></div>
<p>You don’t need to include <code>--include-untracked</code> if you don’t want to be thorough about it.</p>
<p>After that, you can drop that stash with a <code>git stash drop</code> command if you like.</p>
</section>
<section id="answer-2-score-4950" class="level4">
<h4>Answer 2 (score 4950)</h4>
<p>For all unstaged files in current working directory use:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb126-1" title="1"><span class="fu">git</span> checkout -- .</a></code></pre></div>
<p>For a specific file use:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb127-1" title="1"><span class="fu">git</span> checkout -- path/to/file/to/revert</a></code></pre></div>
<p><code>--</code> here to remove <a href="https://git-scm.com/docs/git-checkout#_argument_disambiguation" rel="noreferrer">argument ambiguation</a>.</p>
</section>
<section id="answer-3-score-1803" class="level4">
<h4>Answer 3 (score 1803)</h4>
<p>It seems like the complete solution is:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb128-1" title="1"><span class="fu">git</span> clean -df</a>
<a class="sourceLine" id="cb128-2" title="2"><span class="fu">git</span> checkout -- .</a></code></pre></div>
<p><a href="https://git-scm.com/docs/git-clean" rel="noreferrer"><code>git clean</code></a> removes all untracked files (<strong>warning</strong>: while it won’t delete ignored files mentioned directly in .gitignore, <strong>it may delete ignored files residing in folders</strong>) and <code>git checkout</code> clears all unstaged changes.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="git-fetch-remote-branch-score-2247058-in-2019" class="level3">
<h3>17: Git fetch remote branch (score <a href="https://stackoverflow.com/q/9537392.html">2247058</a> in 2019)</h3>
<section id="question-16" class="level4">
<h4>Question</h4>
<p>My colleague and I are working on the same repository we’ve branched it into two branches each technically for different projects, but they have similarities so we’ll sometimes want to commit back to the *<code>master</code> from the <code>branch</code>.</p>
<p>However, I have the <code>branch</code>. My question is, <strong>how can my colleague pull that branch specifically?</strong></p>
<p>A <code>git clone</code> of the repo does not seem to create the branches locally for him, though I can see them live on unfuddle after a push on my end.</p>
<p>Also, when I originally made the branch I did <code>-b checkout</code>. <strong><em>Not sure if that makes much difference?</em></strong></p>
<div class="sourceCode" id="cb129"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb129-1" title="1">$ <span class="fu">git</span> branch -r</a>
<a class="sourceLine" id="cb129-2" title="2"><span class="ex">origin/HEAD</span> -<span class="op">&gt;</span> origin/master</a>
<a class="sourceLine" id="cb129-3" title="3"><span class="ex">origin/daves_branch</span></a>
<a class="sourceLine" id="cb129-4" title="4"><span class="ex">origin/discover</span></a>
<a class="sourceLine" id="cb129-5" title="5"><span class="ex">origin/master</span></a>
<a class="sourceLine" id="cb129-6" title="6"></a>
<a class="sourceLine" id="cb129-7" title="7">$ <span class="fu">git</span> fetch origin discover</a>
<a class="sourceLine" id="cb129-8" title="8">$ <span class="fu">git</span> checkout discover</a></code></pre></div>
<p>These are the commands I ran. But it definitely is not working.</p>
<p><strong>I want to be able to check out that branch and then push and commit back just the branches changes from various collaborators or workstations</strong>.</p>
</section>
<section id="answer-accepted-score-2768" class="level4">
<h4>Answer accepted (score 2768)</h4>
<p>You need to create a local branch that tracks a remote branch. The following command will create a local branch named <strong>daves_branch</strong>, tracking the remote branch <strong>origin/daves_branch</strong>. When you push your changes the remote branch will be updated.</p>
<p>For most recent versions of git:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb130-1" title="1"><span class="fu">git</span> checkout --track origin/daves_branch</a></code></pre></div>
<p><code>--track</code> is shorthand for <code>git checkout -b [branch] [remotename]/[branch]</code> where [remotename] is <strong>origin</strong> in this case and [branch] is twice the same, <strong>daves_branch</strong> in this case.</p>
<p>For git 1.5.6.5 you needed this:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb131-1" title="1"><span class="fu">git</span> checkout --track -b daves_branch origin/daves_branch</a></code></pre></div>
<p>For git 1.7.2.3 and higher this is enough (might have started earlier but this is the earliest confirmation I could find quickly):</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb132-1" title="1"><span class="fu">git</span> checkout daves_branch</a></code></pre></div>
<p>
Note that with recent git versions, this command will not create a local branch and will put you in a ‘detached HEAD’ state. If you want a local branch, use the <code>--track</code> option. Full details here: <a href="http://git-scm.com/book/en/v2/Git-Branching-Remote-Branches#Tracking-Branches" rel="noreferrer">http://git-scm.com/book/en/v2/Git-Branching-Remote-Branches#Tracking-Branches</a>
</p>
</section>
<section id="answer-2-score-907" class="level4">
<h4>Answer 2 (score 907)</h4>
<p>I have used <a href="https://www.kernel.org/pub/software/scm/git/docs/git-fetch.html" rel="noreferrer"><code>fetch</code></a> followed by <a href="https://www.kernel.org/pub/software/scm/git/docs/git-checkout.html" rel="noreferrer"><code>checkout</code></a>…</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb133-1" title="1"><span class="fu">git</span> fetch <span class="op">&lt;</span>remote<span class="op">&gt;</span> <span class="op">&lt;</span>rbranch<span class="op">&gt;</span>:<span class="op">&lt;</span>lbranch<span class="op">&gt;</span> </a>
<a class="sourceLine" id="cb133-2" title="2"><span class="fu">git</span> checkout <span class="op">&lt;</span>lbranch<span class="op">&gt;</span></a></code></pre></div>
<p>…where <code>&amp;lt;rbranch&amp;gt;</code> is the remote branch or <em>source ref</em> and <code>&amp;lt;lbranch&amp;gt;</code> is the as yet <strong>non-existent</strong> local branch or <em>destination ref</em> you want to track and which you probably want to name the same as the remote branch or source ref. This is explained under <a href="https://www.kernel.org/pub/software/scm/git/docs/git-fetch.html#_options" rel="noreferrer">options</a> in the explanation of <code>&amp;lt;refspec&amp;gt;</code>.</p>
<p><strong>Git is so smart it auto completes the first command if I <em>tab</em> after the first few letters of the remote branch. IE: I don’t even have to name the local branch, Git automatically copies the name of the remote branch for me. Thanks Git!</strong></p>
<p>Also as <a href="https://stackoverflow.com/a/1783426/1020470">the answer in this similar SO post</a> shows, if you don’t name the local branch in <code>fetch</code>, you can still create it when you check it out by using the <code>-b</code> flag. <em>IE:</em> <code>git fetch &amp;lt;remote&amp;gt; &amp;lt;branch&amp;gt;</code> followed by <code>git checkout -b &amp;lt;branch&amp;gt; &amp;lt;remote&amp;gt;/&amp;lt;branch&amp;gt;</code> does exactly the same as my initial answer. And evidently if your repo has <em>only one</em> remote, then you can just do <code>git checkout &amp;lt;branch&amp;gt;</code> after <code>fetch</code> and it will create a local branch for you. <em>EG:</em> You just cloned a repo and want to check out additional branches from the remote.</p>
<p>I believe that some of the documentation for <code>fetch</code> may have been copied verbatim from <a href="https://www.kernel.org/pub/software/scm/git/docs/git-pull.html" rel="noreferrer"><code>pull</code></a>. In particular the section on <code>&amp;lt;refspec&amp;gt;</code> in <a href="https://www.kernel.org/pub/software/scm/git/docs/git-pull.html#_options" rel="noreferrer">options</a> is the same. However, I do not believe that <code>fetch</code> will ever <a href="https://www.kernel.org/pub/software/scm/git/docs/git-merge.html" rel="noreferrer"><code>merge</code></a>, so that if you leave the destination side of the colon empty <code>fetch</code> <strong>should do nothing</strong>.</p>
<p>NOTE: That <code>git fetch &amp;lt;remote&amp;gt; &amp;lt;refspec&amp;gt;</code> is short for <code>git fetch &amp;lt;remote&amp;gt; &amp;lt;refspec&amp;gt;:</code> which would therefore do nothing, but <code>git fetch &amp;lt;remote&amp;gt; &amp;lt;tag&amp;gt;</code> is the same as <code>git fetch &amp;lt;remote&amp;gt; &amp;lt;tag&amp;gt;:&amp;lt;tag&amp;gt;</code> which should copy the remote <code>&amp;lt;tag&amp;gt;</code> locally.</p>
<p>I guess this is only helpful if you want to copy a remote branch locally, but not necessarily check it out right away. Otherwise I now would use <a href="https://stackoverflow.com/a/9537923/1020470">the accepted answer above</a>, which is explained in detail in the first section of the <a href="https://www.kernel.org/pub/software/scm/git/docs/git-checkout.html#_description" rel="noreferrer">checkout description</a> and later in the <a href="https://www.kernel.org/pub/software/scm/git/docs/git-checkout.html#_options" rel="noreferrer">options</a> section under the explanation of <code>--track</code>, since it’s a 1-liner. <em>Well…</em> sort of a 1-liner, because you would <em>still</em> have to run <code>git fetch &amp;lt;remote&amp;gt;</code> first.</p>
<p>FYI: The order of the <code>&amp;lt;refspecs&amp;gt;</code> (source:destination) explains the bizarre pre Git-1.7 method for <a href="http://git-scm.com/book/en/Git-Branching-Remote-Branches#Deleting-Remote-Branches" rel="noreferrer">deleting remote branches</a>. IE: Push nothing into the destination refspec.</p>
</section>
<section id="answer-3-score-347" class="level4">
<h4>Answer 3 (score 347)</h4>
<p>If you are trying to “checkout” a new remote branch (that exists only on the remote, but not locally), here’s what you’ll need:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb134-1" title="1"><span class="fu">git</span> fetch origin</a>
<a class="sourceLine" id="cb134-2" title="2"><span class="fu">git</span> checkout --track origin/<span class="op">&lt;</span>remote_branch_name<span class="op">&gt;</span></a></code></pre></div>
<p>This assumes you want to fetch from <em>origin</em>. If not, replace <em>origin</em> by your <em>remote</em> name.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-remove-local-untracked-files-from-the-current-git-working-tree-score-2119033-in-2019" class="level3">
<h3>18: How to remove local (untracked) files from the current Git working tree (score <a href="https://stackoverflow.com/q/61212.html">2119033</a> in 2019)</h3>
<section id="question-17" class="level4">
<h4>Question</h4>
<p>How do you delete untracked local files from your current working tree?</p>
</section>
<section id="answer-accepted-score-8380" class="level4">
<h4>Answer accepted (score 8380)</h4>
<p>As per the Git Documentation <a href="https://git-scm.com/docs/git-clean" rel="noreferrer">git clean</a></p>
<blockquote>
Remove untracked files from the working tree
</blockquote>
<hr>
<p>Step 1 is to show what will be deleted by using the <code>-n</code> option:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb135-1" title="1"><span class="co"># Print out the list of files which will be removed (dry run)</span></a>
<a class="sourceLine" id="cb135-2" title="2"><span class="fu">git</span> clean -n</a></code></pre></div>
<p>Clean Step - <strong>beware: this will delete files</strong>:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb136-1" title="1"><span class="co"># Delete the files from the repository</span></a>
<a class="sourceLine" id="cb136-2" title="2"><span class="fu">git</span> clean -f</a></code></pre></div>
<ul>
<li>
To remove directories, run <code>git clean -f -d</code> or <code>git clean -fd</code>
</li>
<li>
To remove ignored files, run <code>git clean -f -X</code> or <code>git clean -fX</code>
</li>
<li>
To remove ignored and non-ignored files, run <code>git clean -f -x</code> or <code>git clean -fx</code>
</li>
</ul>
<p><strong>Note</strong> the case difference on the <code>X</code> for the two latter commands.</p>
<p>If <code>clean.requireForce</code> is set to “true” (the default) in your configuration, one needs to specify <code>-f</code> otherwise nothing will actually happen.</p>
<p>Again see the <a href="http://git-scm.com/docs/git-clean" rel="noreferrer"><code>git-clean</code></a> docs for more information.</p>
<hr>
<h5>
Options
</h1>
<blockquote>
<p><strong><code>-f</code>, <code>--force</code></strong></p>
<p>
If the Git configuration variable clean.requireForce is not set to false, git clean will refuse to run unless given <code>-f</code>, <code>-n</code> or <code>-i</code>.
</p>
<p><strong><code>-x</code></strong></p>
<p>
Don’t use the standard ignore rules read from .gitignore (per directory) and <code>$GIT_DIR/info/exclude</code>, but do still use the ignore rules given with <code>-e</code> options. This allows removing all untracked files, including build products. This can be used (possibly in conjunction with git reset) to create a pristine working directory to test a clean build.
</p>
<p><strong><code>-X</code></strong></p>
<p>
Remove only files ignored by Git. This may be useful to rebuild everything from scratch, but keep manually created files.
</p>
<p><strong><code>-n</code>, <code>--dry-run</code></strong></p>
<p>Don’t actually remove anything, just show what would be done.</p>
<p><strong><code>-d</code></strong></p>
<p>
Remove untracked directories in addition to untracked files. If an untracked directory is managed by a different Git repository, it is not removed by default. Use <code>-f</code> option twice if you really want to remove such a directory.
</p>
</blockquote>
</section>
<section id="answer-2-score-921" class="level4">
<h4>Answer 2 (score 921)</h4>
<p>Use <code>git clean -f -d</code> to make sure that <strong>directories</strong> are also removed.</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb137-1" title="1"><span class="ex">-n</span>, -dry-run</a></code></pre></div>
<p>Don’t actually remove anything, just show what would be done.</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb138-1" title="1"><span class="ex">-d</span></a></code></pre></div>
<p>Remove untracked directories in addition to untracked files. If an untracked directory is managed by a different Git repository, it is not removed by default. Use -f option twice if you really want to remove such a directory.</p>
<p>You can then check if your files are really gone with <code>git status</code>.</p>
</section>
<section id="answer-3-score-450" class="level4">
<h4>Answer 3 (score 450)</h4>
<p>I am surprised nobody mentioned this before:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb139-1" title="1"><span class="fu">git</span> clean -i</a></code></pre></div>
<p>That stands for <em>interactive</em> and you will get a quick overview of what is going to be deleted offering you the possibility to include/exclude the affected files. Overall, still faster than running the mandatory <code>--dry-run</code> before the real cleaning.</p>
<p>You will have to toss in a <code>-d</code> if you also want to take care of empty folders. At the end, it makes for a nice alias:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb140-1" title="1"><span class="fu">git</span> iclean</a></code></pre></div>
<p>That being said, the extra hand holding of interactive commands can be tiring for experienced users. These days I just use the already mentioned <code>git clean -fd</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="delete-commits-from-a-branch-in-git-score-2101706-in-2018" class="level3">
<h3>19: Delete commits from a branch in Git (score <a href="https://stackoverflow.com/q/1338728.html">2101706</a> in 2018)</h3>
<section id="question-18" class="level4">
<h4>Question</h4>
<p>I would like to know how to delete a commit.</p>
<p>By <code>delete</code>, I mean it is as if I didn’t make that commit, and when I do a push in the future, my changes will not push to the remote branch.</p>
<p>I read git help, and I think the command I should use is <code>git reset --hard HEAD</code>. Is this correct?</p>
</section>
<section id="answer-accepted-score-3810" class="level4">
<h4>Answer accepted (score 3810)</h4>
<p><strong>Careful:</strong> <code>git reset --hard</code> <em>WILL DELETE YOUR WORKING DIRECTORY CHANGES</em>. Be sure to <strong>stash any local changes you want to keep</strong> before running this command.</p>
<p>Assuming you are sitting on that commit, then this command will wack it…</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb141-1" title="1"><span class="fu">git</span> reset --hard HEAD~1</a></code></pre></div>
<p>The <code>HEAD~1</code> means the commit before head.</p>
<p>Or, you could look at the output of <code>git log</code>, find the commit id of the commit you want to back up to, and then do this:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb142-1" title="1"><span class="fu">git</span> reset --hard <span class="op">&lt;</span>sha1-commit-id<span class="op">&gt;</span></a></code></pre></div>
<hr/>
<p>If you already pushed it, you will need to do a force push to get rid of it…</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb143-1" title="1"><span class="fu">git</span> push origin HEAD --force</a></code></pre></div>
<p><strong>However</strong>, if others may have pulled it, then you would be better off starting a new branch. Because when they pull, it will just merge it into their work, and you will get it pushed back up again.</p>
<p>If you already pushed, it may be better to use <code>git revert</code>, to create a “mirror image” commit that will undo the changes. However, both commits will be in the log.</p>
<hr />
<p>FYI – <code>git reset --hard HEAD</code> is great if you want to get rid of WORK IN PROGRESS. It will reset you back to the most recent commit, and erase all the changes in your working tree and index.</p>
<hr />
<p>Lastly, if you need to find a commit that you “deleted”, it is typically present in <code>git reflog</code> unless you have garbage collected your repository.</p>
</section>
<section id="answer-2-score-672" class="level4">
<h4>Answer 2 (score 672)</h4>
<p>If you have not yet pushed the commit anywhere, you can use <a href="http://git-scm.com/docs/git-rebase" rel="noreferrer"><code>git rebase -i</code></a> to remove that commit. First, find out how far back that commit is (approximately). Then do:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb144-1" title="1"><span class="fu">git</span> rebase -i HEAD~N</a></code></pre></div>
<p>The <code>~N</code> means rebase the last <code>N</code> commits (<code>N</code> must be a number, for example <code>HEAD~10</code>). Then, you can edit the file that Git presents to you to delete the offending commit. On saving that file, Git will then rewrite all the following commits as if the one you deleted didn’t exist.</p>
<p>The Git Book has a good <a href="http://git-scm.com/book/en/Git-Branching-Rebasing" rel="noreferrer">section on rebasing</a> with pictures and examples.</p>
<p>Be careful with this though, because if you change something that you <em>have</em> pushed elsewhere, another approach will be needed unless you are planning to do a force push.</p>
</section>
<section id="answer-3-score-473" class="level4">
<h4>Answer 3 (score 473)</h4>
<p>Another possibility is one of my personal favorite commands:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb145-1" title="1"><span class="fu">git</span> rebase -i <span class="op">&lt;</span>commit<span class="op">&gt;</span>~1</a></code></pre></div>
<p>This will start the rebase in interactive mode <code>-i</code> at the point just before the commit you want to whack. The editor will start up listing all of the commits since then. Delete the line containing the commit you want to obliterate and save the file. Rebase will do the rest of the work, deleting only that commit, and replaying all of the others back into the log.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-delete-a-file-from-a-git-repository-score-2100597-in-2019" class="level3">
<h3>20: How can I delete a file from a Git repository? (score <a href="https://stackoverflow.com/q/2047465.html">2100597</a> in 2019)</h3>
<section id="question-19" class="level4">
<h4>Question</h4>
<p>I have added a file named <code>"file1.txt"</code> to a Git repository. After that, I committed it, added a couple of directories called <code>dir1</code> and <code>dir2</code>, and committed them to the Git repository.</p>
<p>Now the current repository has <code>"file1.txt"</code>, <code>dir1</code>, and <code>dir2</code>. How can I delete <code>"file1.txt"</code> without affecting others, like <code>dir1</code> and <code>dir2</code>?</p>
</section>
<section id="answer-accepted-score-2900" class="level4">
<h4>Answer accepted (score 2900)</h4>
<p>Use <a href="https://git-scm.com/docs/git-rm" rel="noreferrer"><code>git rm</code></a>:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb146-1" title="1"><span class="fu">git</span> rm file1.txt</a>
<a class="sourceLine" id="cb146-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;remove file1.txt&quot;</span></a></code></pre></div>
<p>But if you want to remove the file only from the Git repository and not remove it from the filesystem, use:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb147-1" title="1"><span class="fu">git</span> rm --cached file1.txt</a>
<a class="sourceLine" id="cb147-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;remove file1.txt&quot;</span></a></code></pre></div>
<p>And to push changes to remote repo</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb148-1" title="1"><span class="fu">git</span> push origin branch_name  </a></code></pre></div>
</section>
<section id="answer-2-score-594" class="level4">
<h4>Answer 2 (score 594)</h4>
<p><code>git rm file.txt</code> removes the file from the repo but <strong>also deletes it from the local file system</strong>.</p>
<p>
To remove the file from the repo and <strong>not</strong> delete it from the local file system use:<br> <code>git rm --cached file.txt</code>
</p>
<p>The below exact situation is where I use git to maintain version control for my business’s website, but the “mickey” directory was a tmp folder to share private content with a CAD developer. When he needed HUGE files, I made a private, unlinked directory and ftpd the files there for him to fetch via browser. Forgetting I did this, I later performed a <code>git add -A</code> from the website’s base directory. Subsequently, <code>git status</code> showed the new files needing committing. Now I needed to delete them from git’s tracking and version control…</p>
<p>Sample output below is from what just happened to me, where I unintentionally deleted the <code>.003</code> file. Thankfully, I don’t care what happened to the local copy to <code>.003</code>, but some of the other currently changed files were updates I just made to the website and would be epic to have been deleted on the local file system! “Local file system” = the live website <em>(not a great practice, but is reality)</em>.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb149-1" title="1">[<span class="ex">~</span>/<span class="ex">www</span>]$ git rm shop/mickey/mtt_flange_SCN.7z.003</a>
<a class="sourceLine" id="cb149-2" title="2"><span class="ex">error</span>: <span class="st">&#39;shop/mickey/mtt_flange_SCN.7z.003&#39;</span> has local modifications</a>
<a class="sourceLine" id="cb149-3" title="3"><span class="kw">(</span><span class="ex">use</span> --cached to keep the file, or -f to force removal<span class="kw">)</span></a>
<a class="sourceLine" id="cb149-4" title="4">[<span class="ex">~</span>/<span class="ex">www</span>]$ git rm -f shop/mickey/mtt_flange_SCN.7z.003</a>
<a class="sourceLine" id="cb149-5" title="5"><span class="fu">rm</span> <span class="st">&#39;shop/mickey/mtt_flange_SCN.7z.003&#39;</span></a>
<a class="sourceLine" id="cb149-6" title="6">[<span class="ex">~</span>/<span class="ex">www</span>]$ </a>
<a class="sourceLine" id="cb149-7" title="7">[<span class="ex">~</span>/<span class="ex">www</span>]$ git status</a>
<a class="sourceLine" id="cb149-8" title="8"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb149-9" title="9"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb149-10" title="10"><span class="co">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span></a>
<a class="sourceLine" id="cb149-11" title="11"><span class="co">#</span></a>
<a class="sourceLine" id="cb149-12" title="12"><span class="co">#   deleted:    shop/mickey/mtt_flange_SCN.7z.003</span></a>
<a class="sourceLine" id="cb149-13" title="13"><span class="co">#</span></a>
<a class="sourceLine" id="cb149-14" title="14"><span class="co"># Changed but not updated:</span></a>
<a class="sourceLine" id="cb149-15" title="15"><span class="co">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span></a>
<a class="sourceLine" id="cb149-16" title="16"><span class="co">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span></a>
<a class="sourceLine" id="cb149-17" title="17"><span class="co">#</span></a>
<a class="sourceLine" id="cb149-18" title="18"><span class="co">#   modified:   shop/mickey/mtt_flange_SCN.7z.001</span></a>
<a class="sourceLine" id="cb149-19" title="19"><span class="co">#   modified:   shop/mickey/mtt_flange_SCN.7z.002</span></a>
<a class="sourceLine" id="cb149-20" title="20">[<span class="ex">~</span>/<span class="ex">www</span>]$ ls shop/mickey/mtt_flange_S*</a>
<a class="sourceLine" id="cb149-21" title="21"><span class="ex">shop/mickey/mtt_flange_SCN.7z.001</span>  shop/mickey/mtt_flange_SCN.7z.002</a>
<a class="sourceLine" id="cb149-22" title="22">[<span class="ex">~</span>/<span class="ex">www</span>]$ </a>
<a class="sourceLine" id="cb149-23" title="23">[<span class="ex">~</span>/<span class="ex">www</span>]$ </a>
<a class="sourceLine" id="cb149-24" title="24">[<span class="ex">~</span>/<span class="ex">www</span>]$ git rm --cached shop/mickey/mtt_flange_SCN.7z.002</a>
<a class="sourceLine" id="cb149-25" title="25"><span class="fu">rm</span> <span class="st">&#39;shop/mickey/mtt_flange_SCN.7z.002&#39;</span></a>
<a class="sourceLine" id="cb149-26" title="26">[<span class="ex">~</span>/<span class="ex">www</span>]$ ls shop/mickey/mtt_flange_S*</a>
<a class="sourceLine" id="cb149-27" title="27"><span class="ex">shop/mickey/mtt_flange_SCN.7z.001</span>  shop/mickey/mtt_flange_SCN.7z.002</a>
<a class="sourceLine" id="cb149-28" title="28">[<span class="ex">~</span>/<span class="ex">www</span>]$ </a>
<a class="sourceLine" id="cb149-29" title="29">[<span class="ex">~</span>/<span class="ex">www</span>]$ </a>
<a class="sourceLine" id="cb149-30" title="30">[<span class="ex">~</span>/<span class="ex">www</span>]$ git status</a>
<a class="sourceLine" id="cb149-31" title="31"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb149-32" title="32"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb149-33" title="33"><span class="co">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span></a>
<a class="sourceLine" id="cb149-34" title="34"><span class="co">#</span></a>
<a class="sourceLine" id="cb149-35" title="35"><span class="co">#   deleted:    shop/mickey/mtt_flange_SCN.7z.002</span></a>
<a class="sourceLine" id="cb149-36" title="36"><span class="co">#   deleted:    shop/mickey/mtt_flange_SCN.7z.003</span></a>
<a class="sourceLine" id="cb149-37" title="37"><span class="co">#</span></a>
<a class="sourceLine" id="cb149-38" title="38"><span class="co"># Changed but not updated:</span></a>
<a class="sourceLine" id="cb149-39" title="39"><span class="co">#   modified:   shop/mickey/mtt_flange_SCN.7z.001</span></a>
<a class="sourceLine" id="cb149-40" title="40">[<span class="ex">~</span>/<span class="ex">www</span>]$</a></code></pre></div>
<p><strong>Update:</strong> This answer is getting some traffic, so I thought I’d mention my <a href="https://stackoverflow.com/questions/9069061">other Git answer</a> shares a couple of great resources: <a href="http://nvie.com/posts/a-successful-git-branching-model/" rel="noreferrer">This page</a> has a graphic that help demystify Git for me. The <a href="http://git-scm.com/book" rel="noreferrer">“Pro Git” book is online</a> and helps me a lot.</p>
</section>
<section id="answer-3-score-68" class="level4">
<h4>Answer 3 (score 68)</h4>
<p>First, if you are using <a href="https://git-scm.com/docs/git-rm" rel="nofollow noreferrer"><code>git rm</code></a>, especially for multiple files, consider any wildcard will be resolved by the shell, not by the <code>git</code> command.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb150-1" title="1"><span class="fu">git</span> rm -- *.anExtension</a>
<a class="sourceLine" id="cb150-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;remove multiple files&quot;</span></a></code></pre></div>
<p>But, if your file is already on GitHub, <a href="https://github.com/blog/1545-deleting-files-on-github" rel="nofollow noreferrer">you can (since July 2013)</a> directly delete it from the web GUI!</p>
<blockquote>
Simply view any file in your repository, click the trash can icon at the top, and commit the removal just like any other web-based edit.
</blockquote>
<p>
Then “<code>git pull</code>” on your local repo, and that will delete the file locally too.<br> Which makes this answer a (roundabout) way to delete a file from git repo?<br> (Not to mention that a file on GitHub <em>is</em> in a “git repo”)
</p>
<hr>
<p><a href="https://i.stack.imgur.com/259au.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/259au.jpg" alt="delete button"></a></p>
<p>(the commit will reflect the deletion of that file):</p>
<p><img src="https://i.stack.imgur.com/fgXe9.png" alt="commit a deletion"></p>
<blockquote>
<p>And just like that, it’s gone.</p>
<p>For help with these features, be sure to read our help articles on <a href="https://help.github.com/articles/creating-new-files" rel="nofollow noreferrer">creating</a>, <a href="https://help.github.com/articles/moving-a-file-to-a-new-location" rel="nofollow noreferrer">moving</a>, <a href="https://help.github.com/articles/renaming-a-file" rel="nofollow noreferrer">renaming</a>, and <a href="https://help.github.com/articles/deleting-files" rel="nofollow noreferrer">deleting</a> files.</p>
Note: Since it’s a version control system, Git always has your back if you need to recover the file later.
</blockquote>
<p>The last sentence means that the deleted file is still part of the history, and you can restore it easily enough (but not yet through the GitHub web interface):</p>
<p>See “<a href="https://stackoverflow.com/q/953481/6309">Restore a deleted file in a Git repo</a>”.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-create-a-remote-git-branch-score-1980171-in-2017" class="level3">
<h3>21: How do you create a remote Git branch? (score <a href="https://stackoverflow.com/q/1519006.html">1980171</a> in 2017)</h3>
<section id="question-20" class="level4">
<h4>Question</h4>
<p>I created a local branch which I want to ‘push’ upstream. There is a similar question here on Stack Overflow on how to track a newly created remote branch.</p>
<p>However, my workflow is slightly different. <strong>First</strong> I want to create a local branch, and I will only push it upstream when I’m satisfied and want to share my branch.</p>
<ul>
<li>
How would I do that? (my google searches did not seem to come up with anything).
</li>
<li>
How would I tell my colleagues to pull it from the upstream repository?
</li>
</ul>
<p><strong>UPDATE With Git 2.0 there is a simpler answer</strong> I have written below: <a href="https://stackoverflow.com/a/27185855/109305">https://stackoverflow.com/a/27185855/109305</a></p>
</section>
<section id="answer-accepted-score-309" class="level4">
<h4>Answer accepted (score 309)</h4>
<h5>
Simple Git 2.0+ solution:
</h2>
<p>As of <strong>Git 2.0 the behaviour has become simpler</strong>:</p>
<p>You can configure git with <strong><code>push.default = current</code></strong> to make life easier:</p>
<p>I added this so now I can just push a new branch upstream with</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb151-1" title="1">$ <span class="fu">git</span> push -u</a></code></pre></div>
<p><code>-u</code> will track remote branch of same name. Now with this configuration you will auto-guess the remote reference to git push. From <a href="http://git-scm.com/docs/git-config" rel="noreferrer">git.config documentation</a>:</p>
<blockquote>
<p><strong>push.default</strong></p>
<p>Defines the action git push should take if no refspec is explicitly given.</p>
<p>
<strong><code>push.default = current</code></strong> - push the current branch to update a branch with the same name on the receiving end. Works in both central and non-central workflows.
</p>
</blockquote>
<p>For me, this is a good simplification of my day-to-day Git workflow. The configuration setting takes care of the ‘usual’ use case where you add a branch locally and want to create it remotely. Also, I can just as easily create local branches from remotes by just doing <code>git co remote_branch_name</code> (as opposed to using <code>--set-upstream-to</code> flag).</p>
<p>I know this question and the accepted answers are rather old, but the behaviour has changed so that now configuration options exists to make your workflow simpler.</p>
<p>To add to your global Git configuration, run this on the command line:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb152-1" title="1">$ <span class="fu">git</span> config --global push.default current</a></code></pre></div>
</section>
<section id="answer-2-score-3610" class="level4">
<h4>Answer 2 (score 3610)</h4>
<p>First, you create your branch locally:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb153-1" title="1"><span class="fu">git</span> checkout -b <span class="op">&lt;</span>branch-name<span class="op">&gt;</span> <span class="co"># Create a new branch and check it out</span></a></code></pre></div>
<p>The remote branch is automatically created when you push it to the remote server. So when you feel ready for it, you can just do:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb154-1" title="1"><span class="fu">git</span> push <span class="op">&lt;</span>remote-name<span class="op">&gt;</span> <span class="op">&lt;</span>branch-name<span class="op">&gt;</span> </a></code></pre></div>
<p>Where <code>&amp;lt;remote-name&amp;gt;</code> is typically <code>origin</code>, the name which git gives to the remote you cloned from. Your colleagues would then just pull that branch, and it’s automatically created locally.</p>
<p>Note however that formally, the format is:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb155-1" title="1"><span class="fu">git</span> push <span class="op">&lt;</span>remote-name<span class="op">&gt;</span> <span class="op">&lt;</span>local-branch-name<span class="op">&gt;</span>:<span class="op">&lt;</span>remote-branch-name<span class="op">&gt;</span></a></code></pre></div>
<p>But when you omit one, it assumes both branch names are the same. Having said this, as a word of <strong>caution</strong>, do not make the critical mistake of specifying only <code>:&amp;lt;remote-branch-name&amp;gt;</code> (with the colon), or the remote branch will be deleted!</p>
<p>So that a subsequent <code>git pull</code> will know what to do, you might instead want to use:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb156-1" title="1"><span class="fu">git</span> push --set-upstream <span class="op">&lt;</span>remote-name<span class="op">&gt;</span> <span class="op">&lt;</span>local-branch-name<span class="op">&gt;</span> </a></code></pre></div>
<p>As described below, the <code>--set-upstream</code> option sets up an upstream branch:</p>
<blockquote>
<p>
For every branch that is up to date or successfully pushed, add upstream (tracking) reference, used by argument-less git-pull(1) and other commands.
</p>
</blockquote>
</section>
<section id="answer-3-score-854" class="level4">
<h4>Answer 3 (score 854)</h4>
<p>First, you must create your branch locally</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb157-1" title="1"><span class="fu">git</span> checkout -b your_branch</a></code></pre></div>
<p>After that, you can work locally in your branch, when you are ready to share the branch, push it. The next command push the branch to the remote repository origin and tracks it</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb158-1" title="1"><span class="fu">git</span> push -u origin your_branch</a></code></pre></div>
<p>Teammates can reach your branch, by doing:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb159-1" title="1"><span class="fu">git</span> fetch</a>
<a class="sourceLine" id="cb159-2" title="2"><span class="fu">git</span> checkout origin/your_branch</a></code></pre></div>
<p>You can continue working in the branch and pushing whenever you want without passing arguments to git push (argumentless git push will push the master to remote master, your_branch local to remote your_branch, etc…)</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb160-1" title="1"><span class="fu">git</span> push</a></code></pre></div>
<p>Teammates can push to your branch by doing commits and then push explicitly</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb161-1" title="1"><span class="ex">...</span> work ...</a>
<a class="sourceLine" id="cb161-2" title="2"><span class="fu">git</span> commit</a>
<a class="sourceLine" id="cb161-3" title="3"><span class="ex">...</span> work ...</a>
<a class="sourceLine" id="cb161-4" title="4"><span class="fu">git</span> commit</a>
<a class="sourceLine" id="cb161-5" title="5"><span class="fu">git</span> push origin HEAD:refs/heads/your_branch</a></code></pre></div>
<p>Or tracking the branch to avoid the arguments to git push</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb162-1" title="1"><span class="fu">git</span> checkout --track -b your_branch origin/your_branch</a>
<a class="sourceLine" id="cb162-2" title="2"><span class="ex">...</span> work ...</a>
<a class="sourceLine" id="cb162-3" title="3"><span class="fu">git</span> commit</a>
<a class="sourceLine" id="cb162-4" title="4"><span class="ex">...</span> work ...</a>
<a class="sourceLine" id="cb162-5" title="5"><span class="fu">git</span> commit</a>
<a class="sourceLine" id="cb162-6" title="6"><span class="fu">git</span> push</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="undo-a-git-merge-that-hasnt-been-pushed-yet-score-1960312-in-2016" class="level3">
<h3>22: Undo a Git merge that hasn’t been pushed yet (score <a href="https://stackoverflow.com/q/2389361.html">1960312</a> in 2016)</h3>
<section id="question-21" class="level4">
<h4>Question</h4>
<p>Within my master branch, I did a <code>git merge some-other-branch</code> locally, but never pushed the changes to origin master. I didn’t mean to merge, so I’d like to undo it. When doing a <code>git status</code> after my merge, I was getting this message:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb163-1" title="1"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb163-2" title="2"><span class="co"># Your branch is ahead of &#39;origin/master&#39; by 4 commits.</span></a></code></pre></div>
<p>Based upon some <a href="http://www.gitready.com/intermediate/2009/03/16/rolling-back-changes-with-revert.html" rel="noreferrer">instructions I found</a>, I tried running</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb164-1" title="1"><span class="fu">git</span> revert HEAD -m 1</a></code></pre></div>
<p>but now I’m getting this message with <code>git status</code>:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb165-1" title="1"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb165-2" title="2"><span class="co"># Your branch is ahead of &#39;origin/master&#39; by 5 commits.</span></a></code></pre></div>
<p>I don’t want my branch to be ahead by any number of commits. How do I get back to that point?</p>
</section>
<section id="answer-accepted-score-4068" class="level4">
<h4>Answer accepted (score 4068)</h4>
<p>With <code>git reflog</code> check which commit is one prior the merge (<code>git reflog</code> will be a better option than <code>git log</code>). Then you can reset it using:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb166-1" title="1"><span class="fu">git</span> reset --hard commit_sha</a></code></pre></div>
<p>There’s also another way:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb167-1" title="1"><span class="fu">git</span> reset --hard HEAD~1</a></code></pre></div>
<p>It will get you back 1 commit.</p>
<p><strong>Be aware that any modified and uncommitted/unstashed files will be reset to their unmodified state</strong>. To keep them either stash changes away or see <code>--merge</code> option below.</p>
<hr>
<p>As <span class="citation" data-cites="Velmont">@Velmont</span> suggested below in his answer, in this direct case using:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb168-1" title="1"><span class="fu">git</span> reset --hard ORIG_HEAD</a></code></pre></div>
<p>might yield better results, as it should preserve your changes. <code>ORIG_HEAD</code> will point to a commit directly before merge has occurred, so you don’t have to hunt for it yourself.</p>
<hr>
<p>A further tip is to use the <code>--merge</code> switch instead of <code>--hard</code> since it doesn’t reset files unnecessarily:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb169-1" title="1"><span class="fu">git</span> reset --merge ORIG_HEAD</a></code></pre></div>
<blockquote>
<p>–merge</p>
Resets the index and updates the files in the working tree that are different between &lt;commit&gt; and HEAD, but keeps those which are different between the index and working tree (i.e. which have changes which have not been added).
</blockquote>
</section>
<section id="answer-2-score-1396" class="level4">
<h4>Answer 2 (score 1396)</h4>
<p>Assuming your local master was not ahead of origin/master, you should be able to do</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb170-1" title="1"><span class="fu">git</span> reset --hard origin/master</a></code></pre></div>
<p>Then your local <code>master</code> branch should look identical to <code>origin/master</code>.</p>
</section>
<section id="answer-3-score-1146" class="level4">
<h4>Answer 3 (score 1146)</h4>
<p>See <a href="http://git-scm.com/book/en/Git-Basics-Undoing-Things" rel="noreferrer">chapter 4 in the Git book</a> and <a href="http://opensource.apple.com/source/Git/Git-26/src/git-htmldocs/howto/revert-a-faulty-merge.txt" rel="noreferrer">the original post by Linus Torvalds</a>.</p>
<p>To undo a merge <strong>that was already pushed</strong>:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb171-1" title="1"><span class="fu">git</span> revert -m 1 commit_hash</a></code></pre></div>
<p>Be sure to revert the revert if you’re committing the branch again, like Linus said.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-reset-or-revert-a-file-to-a-specific-revision-score-1760694-in-2019" class="level3">
<h3>23: How can I reset or revert a file to a specific revision? (score <a href="https://stackoverflow.com/q/215718.html">1760694</a> in 2019)</h3>
<section id="question-22" class="level4">
<h4>Question</h4>
<p>I have made some changes to a file which has been committed a few times as part of a group of files, but now want to reset/revert the changes on it back to a previous version.</p>
<p>I have done a <code>git log</code> along with a <code>git diff</code> to find the revision I need, but just have no idea how to get the file back to its former state in the past.</p>
</section>
<section id="answer-accepted-score-5679" class="level4">
<h4>Answer accepted (score 5679)</h4>
<p>Assuming the hash of the commit you want is <code>c5f567</code>:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb172-1" title="1"><span class="fu">git</span> checkout c5f567 -- file1/to/restore file2/to/restore</a></code></pre></div>
<p>The <a href="https://git-scm.com/docs/git-checkout" rel="noreferrer">git checkout</a> man page gives more information.</p>
<p>If you want to revert to the commit before <code>c5f567</code>, append <code>~1</code> (works with any number):</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb173-1" title="1"><span class="fu">git</span> checkout c5f567~1 -- file1/to/restore file2/to/restore</a></code></pre></div>
<p>As a side note, I’ve always been uncomfortable with this command because it’s used for both ordinary things (changing between branches) and unusual, destructive things (discarding changes in the working directory).</p>
</section>
<section id="answer-2-score-581" class="level4">
<h4>Answer 2 (score 581)</h4>
<p>You can quickly review the changes made to a file using the diff command:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb174-1" title="1"><span class="fu">git</span> diff <span class="op">&lt;</span>commit hash<span class="op">&gt;</span> <span class="op">&lt;</span>filename<span class="op">&gt;</span></a></code></pre></div>
<p>Then to revert a specific file to that commit use the reset command:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb175-1" title="1"><span class="fu">git</span> reset <span class="op">&lt;</span>commit hash<span class="op">&gt;</span> <span class="op">&lt;</span>filename<span class="op">&gt;</span></a></code></pre></div>
<p>You may need to use the <code>--hard</code> option if you have local modifications.</p>
<p>A good workflow for managaging waypoints is to use tags to cleanly mark points in your timeline. I can’t quite understand your last sentence but what you may want is diverge a branch from a previous point in time. To do this, use the handy checkout command:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb176-1" title="1"><span class="fu">git</span> checkout <span class="op">&lt;</span>commit hash<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb176-2" title="2"><span class="fu">git</span> checkout -b <span class="op">&lt;</span>new branch name<span class="op">&gt;</span></a></code></pre></div>
<p>You can then rebase that against your mainline when you are ready to merge those changes:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb177-1" title="1"><span class="fu">git</span> checkout <span class="op">&lt;</span>my branch<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb177-2" title="2"><span class="fu">git</span> rebase master</a>
<a class="sourceLine" id="cb177-3" title="3"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb177-4" title="4"><span class="fu">git</span> merge <span class="op">&lt;</span>my branch<span class="op">&gt;</span></a></code></pre></div>
</section>
<section id="answer-3-score-347-1" class="level4">
<h4>Answer 3 (score 347)</h4>
<p>You can use any reference to a git commit, including the SHA-1 if that’s most convenient. The point is that the command looks like this:</p>
<p><code>git checkout [commit-ref] -- [filename]</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-clone-a-git-repository-into-a-specific-folder-score-1749479-in-2016" class="level3">
<h3>24: How do you clone a Git repository into a specific folder? (score <a href="https://stackoverflow.com/q/651038.html">1749479</a> in 2016)</h3>
<section id="question-23" class="level4">
<h4>Question</h4>
<p>Executing the command <code>git clone git@github.com:whatever</code> creates a directory in my current folder named whatever, and drops the contents of the Git repository into that folder:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb178-1" title="1"><span class="ex">/httpdocs/whatever/public</span></a></code></pre></div>
<p>My problem is that I need the contents of the Git repository cloned into my current directory so that they appear in the proper location for the web server:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb179-1" title="1"><span class="ex">/httpdocs/public</span></a></code></pre></div>
<p>I know how to move the files after I’ve cloned the repository, but this seems to break Git, and I’d like to be able to update just by calling <code>git pull</code>. How can I do this?</p>
</section>
<section id="answer-accepted-score-2940" class="level4">
<h4>Answer accepted (score 2940)</h4>
<p><strong>Option A:</strong></p>
<div class="sourceCode" id="cb180"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb180-1" title="1"><span class="fu">git</span> clone git@github.com:whatever folder-name</a></code></pre></div>
<p>Ergo, for <code>right here</code> use:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb181-1" title="1"><span class="fu">git</span> clone git@github.com:whatever .</a></code></pre></div>
<p><strong>Option B:</strong></p>
<p>Move the <code>.git</code> folder, too. Note that the <code>.git</code> folder is hidden in most graphical file explorers, so be sure to show hidden files.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb182-1" title="1"><span class="fu">mv</span> /where/it/is/right/now/* /where/I/want/it/</a>
<a class="sourceLine" id="cb182-2" title="2"><span class="fu">mv</span> /where/it/is/right/now/.* /where/I/want/it/</a></code></pre></div>
<p>The first line grabs all normal files, the second line grabs dot-files. It is also possibe to do it in one line by enabling dotglob (i.e. <code>shopt -s dotglob</code>) but that is probably a bad solution if you are asking the question this answer answers.</p>
<p><strong>Better yet:</strong></p>
<p>Keep your working copy somewhere else, and create a symbolic link. Like this:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb183-1" title="1"><span class="fu">ln</span> -s /where/it/is/right/now /the/path/I/want/to/use</a></code></pre></div>
<p>For you case this would be something like:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb184-1" title="1"><span class="fu">ln</span> -sfn /opt/projectA/prod/public /httpdocs/public</a></code></pre></div>
<p>Which easily could be changed to test if you wanted it, i.e.:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb185-1" title="1"><span class="fu">ln</span> -sfn /opt/projectA/test/public /httpdocs/public</a></code></pre></div>
<p>without moving files around. Added <code>-fn</code> in case someone is copying these lines (<code>-f</code> is force, <code>-n</code> avoid some often unwanted interactions with already and non-existing links).</p>
<p>If you just want it to work, use Option A, if someone else is going to look at what you have done, use Option C.</p>
</section>
<section id="answer-2-score-578" class="level4">
<h4>Answer 2 (score 578)</h4>
<p>The example I think a lot of people asking this question are after is this. If you are <em>in</em> the directory you want the contents of the git repository dumped to, run:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb186-1" title="1"><span class="fu">git</span> clone git@github.com:whatever .</a></code></pre></div>
<p>The “.” at the end specifies the current folder as the checkout folder.</p>
</section>
<section id="answer-3-score-208" class="level4">
<h4>Answer 3 (score 208)</h4>
<p>Go into the folder.. If the folder is empty, then:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb187-1" title="1"><span class="fu">git</span> clone git@github.com:whatever .</a></code></pre></div>
<p>else</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb188-1" title="1"><span class="fu">git</span> init</a>
<a class="sourceLine" id="cb188-2" title="2"><span class="fu">git</span> remote add origin PATH/TO/REPO</a>
<a class="sourceLine" id="cb188-3" title="3"><span class="fu">git</span> fetch</a>
<a class="sourceLine" id="cb188-4" title="4"><span class="fu">git</span> checkout -t origin/master</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="message-src-refspec-master-does-not-match-any-when-pushing-commits-in-git-score-1674634-in-2019" class="level3">
<h3>25: Message ‘src refspec master does not match any’ when pushing commits in Git (score <a href="https://stackoverflow.com/q/4181861.html">1674634</a> in 2019)</h3>
<section id="question-24" class="level4">
<h4>Question</h4>
<p>I clone my repository with:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb189-1" title="1"><span class="fu">git</span> clone ssh://xxxxx/xx.git </a></code></pre></div>
<p>But after I change some files and <code>add</code> and <code>commit</code> them, I want to push them to the server:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb190-1" title="1"><span class="fu">git</span> add xxx.php</a>
<a class="sourceLine" id="cb190-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;TEST&quot;</span></a>
<a class="sourceLine" id="cb190-3" title="3"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>But the error I get back is:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb191-1" title="1"><span class="ex">error</span>: src refspec master does not match any.  </a>
<a class="sourceLine" id="cb191-2" title="2"><span class="ex">error</span>: failed to push some refs to <span class="st">&#39;ssh://xxxxx.com/project.git&#39;</span></a></code></pre></div>
</section>
<section id="answer-2-score-3735" class="level4">
<h4>Answer 2 (score 3735)</h4>
<p>Maybe you just need to commit. I ran into this when I did:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb192-1" title="1"><span class="fu">mkdir</span> repo <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> repo</a>
<a class="sourceLine" id="cb192-2" title="2"><span class="fu">git</span> remote add origin /path/to/origin.git</a>
<a class="sourceLine" id="cb192-3" title="3"><span class="fu">git</span> add .</a></code></pre></div>
<p>Oops! Never committed!</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb193-1" title="1"><span class="fu">git</span> push -u origin master</a>
<a class="sourceLine" id="cb193-2" title="2"><span class="ex">error</span>: src refspec master does not match any.</a></code></pre></div>
<p>All I had to do was:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb194-1" title="1"><span class="fu">git</span> commit -m <span class="st">&quot;initial commit&quot;</span></a>
<a class="sourceLine" id="cb194-2" title="2"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>Success!</p>
</section>
<section id="answer-3-score-762" class="level4">
<h4>Answer 3 (score 762)</h4>
<ol>
<li>
<p>
Try <code>git show-ref</code> to see what refs do you have. Is there <code>refs/heads/master</code>?
</p>
</li>
<li>
<p>
You can try <code>git push origin HEAD:master</code> as more local-reference-independent solution. This explicitly states that you want to push the local ref <code>HEAD</code> to the remote ref <code>master</code> (see the <a href="https://git-scm.com/docs/git-push#git-push-ltrefspecgt82308203" rel="noreferrer">git-push refspec</a> documentation).
</p>
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="i-ran-into-a-merge-conflict.-how-can-i-abort-the-merge-score-1595425-in-2018" class="level3">
<h3>26: I ran into a merge conflict. How can I abort the merge? (score <a href="https://stackoverflow.com/q/101752.html">1595425</a> in 2018)</h3>
<section id="question-25" class="level4">
<h4>Question</h4>
<p>I used <code>git pull</code> and had a merge conflict:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb195-1" title="1"><span class="ex">unmerged</span>:   _widget.html.erb</a>
<a class="sourceLine" id="cb195-2" title="2"></a>
<a class="sourceLine" id="cb195-3" title="3"><span class="ex">You</span> are in the middle of a conflicted merge.</a></code></pre></div>
<p>I know that the other version of the file is good and that mine is bad so all my changes should be abandoned. How can I do this?</p>
</section>
<section id="answer-2-score-2093" class="level4">
<h4>Answer 2 (score 2093)</h4>
<p>Since your <code>pull</code> was unsuccessful then <code>HEAD</code> (not <code>HEAD^</code>) is the last “valid” commit on your branch:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb196-1" title="1"><span class="fu">git</span> reset --hard HEAD</a></code></pre></div>
<p>The other piece you want is to let their changes over-ride your changes.</p>
<p>Older versions of git allowed you to use the “theirs” merge strategy:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb197-1" title="1"><span class="fu">git</span> pull --strategy=theirs remote_branch</a></code></pre></div>
<p>But this has since been removed, as explained in <a href="http://marc.info/?l=git&amp;m=121637513604413&amp;w=2" rel="noreferrer">this message by Junio Hamano</a> (the Git maintainer). As noted in <a href="http://marc.info/?l=git&amp;m=121637513604413&amp;w=2" rel="noreferrer">the link</a>, instead you would do this:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb198-1" title="1"><span class="fu">git</span> fetch origin</a>
<a class="sourceLine" id="cb198-2" title="2"><span class="fu">git</span> reset --hard origin</a></code></pre></div>
</section>
<section id="answer-3-score-1851" class="level4">
<h4>Answer 3 (score 1851)</h4>
<p>If your git version is &gt;= 1.6.1, you can use <code>git reset --merge</code>.</p>
<p>Also, as <span class="citation" data-cites="Michael">@Michael</span> Johnson mentions, if your git version is &gt;= 1.7.4, you can also use <code>git merge --abort</code>.</p>
<p>As always, make sure you have no uncommitted changes before you start a merge.</p>
<p>From the <a href="https://www.kernel.org/pub/software/scm/git/docs/git-merge.html" rel="noreferrer">git merge man page</a></p>
<p><code>git merge --abort</code> is equivalent to <code>git reset --merge</code> when <code>MERGE_HEAD</code> is present.</p>
<p><code>MERGE_HEAD</code> is present when a merge is in progress.</p>
<p>Also, regarding uncommitted changes when starting a merge:</p>
<p>If you have changes you don’t want to commit before starting a merge, just <code>git stash</code> them before the merge and <code>git stash pop</code> after finishing the merge or aborting it.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="difference-between-git-add--a-and-git-add-.-score-1568771-in-2013" class="level3">
<h3>27: Difference between “git add -A” and “git add .” (score <a href="https://stackoverflow.com/q/572549.html">1568771</a> in 2013)</h3>
<section id="question-26" class="level4">
<h4>Question</h4>
<p>The command <code>git add [--all|-A]</code> appears to be identical to <code>git add .</code>. Is this correct? If not, how do they differ?</p>
</section>
<section id="answer-accepted-score-4037" class="level4">
<h4>Answer accepted (score 4037)</h4>
<p><em>This answer only applies to <strong>Git version 1.x</strong>. For Git version 2.x, see other answers.</em></p>
<hr>
<p><strong>Summary:</strong></p>
<ul>
<li>
<p>
<code>git add -A</code> stages <strong>all changes</strong>
</p>
</li>
<li>
<p>
<code>git add .</code> stages new files and modifications, <strong>without deletions</strong>
</p>
</li>
<li>
<p>
<code>git add -u</code> stages modifications and deletions, <strong>without new files</strong>
</p>
</li>
</ul>
<hr>
<p><strong>Detail:</strong></p>
<p><code>git add -A</code> is equivalent to <code>git add .; git add -u</code>.</p>
<p>The important point about <code>git add .</code> is that it looks at the working tree and adds all those paths to the staged changes if they are either changed or are new and not ignored, it does not stage any ‘rm’ actions.</p>
<p><code>git add -u</code> looks at all the <em>already</em> tracked files and stages the changes to those files if they are different or if they have been removed. It does not add any new files, it only stages changes to already tracked files.</p>
<p><code>git add -A</code> is a handy shortcut for doing both of those.</p>
<p>You can test the differences out with something like this (note that for Git version 2.x your output for <code>git add .</code> <code>git status</code> <strong>will</strong> be different):</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb199-1" title="1"><span class="fu">git</span> init</a>
<a class="sourceLine" id="cb199-2" title="2"><span class="bu">echo</span> Change me <span class="op">&gt;</span> change-me</a>
<a class="sourceLine" id="cb199-3" title="3"><span class="bu">echo</span> Delete me <span class="op">&gt;</span> delete-me</a>
<a class="sourceLine" id="cb199-4" title="4"><span class="fu">git</span> add change-me delete-me</a>
<a class="sourceLine" id="cb199-5" title="5"><span class="fu">git</span> commit -m initial</a>
<a class="sourceLine" id="cb199-6" title="6"></a>
<a class="sourceLine" id="cb199-7" title="7"><span class="bu">echo</span> OK <span class="op">&gt;&gt;</span> change-me</a>
<a class="sourceLine" id="cb199-8" title="8"><span class="fu">rm</span> delete-me</a>
<a class="sourceLine" id="cb199-9" title="9"><span class="bu">echo</span> Add me <span class="op">&gt;</span> add-me</a>
<a class="sourceLine" id="cb199-10" title="10"></a>
<a class="sourceLine" id="cb199-11" title="11"><span class="fu">git</span> status</a>
<a class="sourceLine" id="cb199-12" title="12"><span class="co"># Changed but not updated:</span></a>
<a class="sourceLine" id="cb199-13" title="13"><span class="co">#   modified:   change-me</span></a>
<a class="sourceLine" id="cb199-14" title="14"><span class="co">#   deleted:    delete-me</span></a>
<a class="sourceLine" id="cb199-15" title="15"><span class="co"># Untracked files:</span></a>
<a class="sourceLine" id="cb199-16" title="16"><span class="co">#   add-me</span></a>
<a class="sourceLine" id="cb199-17" title="17"></a>
<a class="sourceLine" id="cb199-18" title="18"><span class="fu">git</span> add .</a>
<a class="sourceLine" id="cb199-19" title="19"><span class="fu">git</span> status</a>
<a class="sourceLine" id="cb199-20" title="20"></a>
<a class="sourceLine" id="cb199-21" title="21"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb199-22" title="22"><span class="co">#   new file:   add-me</span></a>
<a class="sourceLine" id="cb199-23" title="23"><span class="co">#   modified:   change-me</span></a>
<a class="sourceLine" id="cb199-24" title="24"><span class="co"># Changed but not updated:</span></a>
<a class="sourceLine" id="cb199-25" title="25"><span class="co">#   deleted:    delete-me</span></a>
<a class="sourceLine" id="cb199-26" title="26"></a>
<a class="sourceLine" id="cb199-27" title="27"><span class="fu">git</span> reset</a>
<a class="sourceLine" id="cb199-28" title="28"></a>
<a class="sourceLine" id="cb199-29" title="29"><span class="fu">git</span> add -u</a>
<a class="sourceLine" id="cb199-30" title="30"><span class="fu">git</span> status</a>
<a class="sourceLine" id="cb199-31" title="31"></a>
<a class="sourceLine" id="cb199-32" title="32"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb199-33" title="33"><span class="co">#   modified:   change-me</span></a>
<a class="sourceLine" id="cb199-34" title="34"><span class="co">#   deleted:    delete-me</span></a>
<a class="sourceLine" id="cb199-35" title="35"><span class="co"># Untracked files:</span></a>
<a class="sourceLine" id="cb199-36" title="36"><span class="co">#   add-me</span></a>
<a class="sourceLine" id="cb199-37" title="37"></a>
<a class="sourceLine" id="cb199-38" title="38"><span class="fu">git</span> reset</a>
<a class="sourceLine" id="cb199-39" title="39"></a>
<a class="sourceLine" id="cb199-40" title="40"><span class="fu">git</span> add -A</a>
<a class="sourceLine" id="cb199-41" title="41"><span class="fu">git</span> status</a>
<a class="sourceLine" id="cb199-42" title="42"></a>
<a class="sourceLine" id="cb199-43" title="43"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb199-44" title="44"><span class="co">#   new file:   add-me</span></a>
<a class="sourceLine" id="cb199-45" title="45"><span class="co">#   modified:   change-me</span></a>
<a class="sourceLine" id="cb199-46" title="46"><span class="co">#   deleted:    delete-me</span></a></code></pre></div>
</section>
<section id="answer-2-score-852" class="level4">
<h4>Answer 2 (score 852)</h4>
<p>Here is a table for quick understanding:</p>
<p><strong>Git Version 1.x</strong>:</p>
<p><img src="https://i.stack.imgur.com/YfLUZ.jpg" alt="Enter image description here"></p>
<p><strong>Git Version 2.x</strong>:</p>
<p><img src="https://i.stack.imgur.com/KwOLu.jpg" alt="Enter image description here"></p>
<p>Long-form flags:</p>
<ul>
<li>
<code>git add -A</code> is equivalent to <code>git add --all</code>
</li>
<li>
<code>git add -u</code> is equivalent to <code>git add --update</code>
</li>
</ul>
<p><strong>Further reading:</strong></p>
<ul>
<li>
<em><a href="https://stackoverflow.com/questions/315911/git-for-beginners-the-definitive-practical-guide">Git for beginners: The definitive practical guide</a></em>
</li>
<li>
<em><a href="https://try.github.io/levels/1/challenges/1" rel="noreferrer">Got 15 minutes and want to learn Git? (in an interactive way)</a></em>
</li>
<li>
<em><a href="http://pcottle.github.io/learnGitBranching/" rel="noreferrer">Learn Git Branching</a></em>
</li>
<li>
<em><a href="https://onlywei.github.io/explain-git-with-d3/" rel="noreferrer">Explain Git With D3</a></em>
</li>
</ul>
</section>
<section id="answer-3-score-161" class="level4">
<h4>Answer 3 (score 161)</h4>
<p>With <a href="https://github.com/git/git/blob/f99a38c0121456822f8a9dfb7928eefceaa98201/Documentation/RelNotes/2.0.0.txt#L32-L36" rel="noreferrer"><strong>Git 2.0, <code>git add -A</code> is default: <code>git add .</code> equals <code>git add -A .</code></strong></a>.</p>
<blockquote>
<p>
<code>git add &amp;lt;path&amp;gt;</code> is the same as “<code>git add -A &amp;lt;path&amp;gt;</code>” now, so that “<code>git add dir/</code>” will notice paths you removed from the directory and record the removal.<br> In older versions of Git, “<code>git add &amp;lt;path&amp;gt;</code>” used to ignore removals.
</p>
<p>
You can say “<code>git add --ignore-removal &amp;lt;path&amp;gt;</code>” to add only added or modified paths in <code>&amp;lt;path&amp;gt;</code>, if you really want to.
</p>
</blockquote>
<p>
<code>git add</code> is like <code>git add :/</code> (<a href="https://stackoverflow.com/a/31951899/6309">add everything from top git repo folder</a>).<br> Note that git 2.7 (Nov. 2015) will allow you to add a folder named “<code>:</code>”!<br> See <a href="https://github.com/git/git/commit/29abb33978f713cd0a5cc3687bf61077b0928840" rel="noreferrer">commit 29abb33</a> (25 Oct 2015) by <a href="https://github.com/gitster" rel="noreferrer">Junio C Hamano (<code>gitster</code>)</a>.
</p>
<hr>
<p>Note that <a href="https://github.com/git/git/blob/master/Documentation/RelNotes/1.8.3.txt#L19-L30" rel="noreferrer">starting git 2.0 (Q1 or Q2 2014)</a>, when talking about <strong><code>git add .</code></strong> (current path within the working tree), you must use ‘<code>.</code>’ in the other <code>git add</code> commands as well.</p>
<p>That means:</p>
<blockquote>
“<code>git add -A .</code>” is equivalent to “<code>git add .; git add -u .</code>”
</blockquote>
<p>(Note the extra ‘<code>.</code>’ for <code>git add -A</code> and <code>git add -u</code>)</p>
<p>Because <code>git add -A</code> or <code>git add -u</code> would operate (starting git 2.0 only) on the <strong>entire working tree</strong>, and not just on the current path.</p>
<blockquote>
<p>
Those commands will <strong>operate on the entire tree in Git 2.0 for consistency with “<code>git commit -a</code>” and other commands</strong>. Because there will be no mechanism to make “<code>git add -u</code>” behave as if “<code>git add -u .</code>”, it is important for those who are used to “<code>git add -u</code>” (without pathspec) updating the index only for paths in the current subdirectory to start training their fingers to explicitly say “<code>git add -u .</code>” when they mean it before Git 2.0 comes.
</p>
<p>
<strong>A warning is issued when these commands are run without a pathspec and when you have local changes outside the current directory</strong>, because the behaviour in Git 2.0 will be different from today’s version in such a situation.
</p>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="view-the-change-history-of-a-file-using-git-versioning-score-1532762-in-2017" class="level3">
<h3>28: View the change history of a file using Git versioning (score <a href="https://stackoverflow.com/q/278192.html">1532762</a> in 2017)</h3>
<section id="question-27" class="level4">
<h4>Question</h4>
<p>How can I view the change history of an individual file in Git, complete details with what has changed?</p>
<p>I have got as far as:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb200-1" title="1"><span class="fu">git</span> log -- [filename]</a></code></pre></div>
<p>which shows me the commit history of the file, but how do I get at the content of each of the file changes?</p>
<p>I’m trying to make the transition from MS SourceSafe and that used to be a simple <code>right-click</code> → <code>show history</code>.</p>
</section>
<section id="answer-accepted-score-2222" class="level4">
<h4>Answer accepted (score 2222)</h4>
<p>For this I’d use:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb201-1" title="1"><span class="ex">gitk</span> [filename]</a></code></pre></div>
<p>or to follow filename past renames</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb202-1" title="1"><span class="ex">gitk</span> --follow [filename]</a></code></pre></div>
</section>
<section id="answer-2-score-2083" class="level4">
<h4>Answer 2 (score 2083)</h4>
<p>You can use</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb203-1" title="1"><span class="fu">git</span> log -p filename</a></code></pre></div>
<p>to let git generate the patches for each log entry.</p>
<p>See</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb204-1" title="1"><span class="fu">git</span> help log</a></code></pre></div>
<p>for more options - it can actually do a lot of nice things :) To get just the diff for a specific commit you can</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb205-1" title="1"><span class="fu">git</span> show HEAD </a></code></pre></div>
<p>or any other revision by identifier. Or use</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb206-1" title="1"><span class="ex">gitk</span></a></code></pre></div>
<p>to browse the changes visually.</p>
</section>
<section id="answer-3-score-1389" class="level4">
<h4>Answer 3 (score 1389)</h4>
<p><code>git log --follow -p -- path-to-file</code></p>
<p>This will show the <strong>entire</strong> history of the file (including history beyond renames and with diffs for each change).</p>
<p>In other words, if the file named <code>bar</code> was once named <code>foo</code>, then <code>git log -p bar</code> (without the <code>--follow</code> option) will only show the file’s history up to the point where it was renamed – it won’t show the file’s history when it was known as <code>foo</code>. Using <code>git log --follow -p bar</code> will show the file’s entire history, including any changes to the file when it was known as <code>foo</code>. The <code>-p</code> option ensures that diffs are included for each change.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="squash-my-last-x-commits-together-using-git-score-1425969-in-2017" class="level3">
<h3>29: Squash my last X commits together using Git (score <a href="https://stackoverflow.com/q/5189560.html">1425969</a> in 2017)</h3>
<section id="question-28" class="level4">
<h4>Question</h4>
<p>How can I squash my last X commits together into one commit using Git?</p>
</section>
<section id="answer-accepted-score-1819" class="level4">
<h4>Answer accepted (score 1819)</h4>
<p>Use <code>git rebase -i &amp;lt;after-this-commit&amp;gt;</code> and replace “pick” on the second and subsequent commits with “squash” or “fixup”, as described in <a href="http://git-scm.com/docs/git-rebase#_interactive_mode">the manual</a>.</p>
<p>In this example, <code>&amp;lt;after-this-commit&amp;gt;</code> is either the SHA1 hash or the relative location from the HEAD of the current branch from which commits are analyzed for the rebase command. For example, if the user wishes to view 5 commits from the current HEAD in the past the command is <code>git rebase -i HEAD~5</code>.</p>
</section>
<section id="answer-2-score-3450" class="level4">
<h4>Answer 2 (score 3450)</h4>
<p>You can do this fairly easily without <code>git rebase</code> or <code>git merge --squash</code>. In this example, we’ll squash the last 3 commits.</p>
<p>If you want to write the new commit message from scratch, this suffices:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb207-1" title="1"><span class="fu">git</span> reset --soft HEAD~3 <span class="kw">&amp;&amp;</span></a>
<a class="sourceLine" id="cb207-2" title="2"><span class="fu">git</span> commit</a></code></pre></div>
<p>If you want to start editing the new commit message with a concatenation of the existing commit messages (i.e. similar to what a pick/squash/squash/…/squash <code>git rebase -i</code> instruction list would start you with), then you need to extract those messages and pass them to <code>git commit</code>:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb208-1" title="1"><span class="fu">git</span> reset --soft HEAD~3 <span class="kw">&amp;&amp;</span> </a>
<a class="sourceLine" id="cb208-2" title="2"><span class="fu">git</span> commit --edit -m<span class="st">&quot;</span><span class="va">$(</span><span class="fu">git</span> log --format=%B --reverse HEAD..HEAD@<span class="dt">{1}</span><span class="va">)</span><span class="st">&quot;</span></a></code></pre></div>
<p>Both of those methods squash the last three commits into a single new commit in the same way. The soft reset just re-points HEAD to the last commit that you do not want to squash. Neither the index nor the working tree are touched by the soft reset, leaving the index in the desired state for your new commit (i.e. it already has all the changes from the commits that you are about to “throw away”).</p>
</section>
<section id="answer-3-score-693" class="level4">
<h4>Answer 3 (score 693)</h4>
<p>You can use <code>git merge --squash</code> for this, which is slightly more elegant than <code>git rebase -i</code>. Suppose you’re on master and you want to squash the last 12 commits into one.</p>
<p>WARNING: First make sure you commit your work—check that <code>git status</code> is clean (since <code>git reset --hard</code> will throw away staged and unstaged changes)</p>
<p>Then:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb209-1" title="1"><span class="co"># Reset the current branch to the commit just before the last 12:</span></a>
<a class="sourceLine" id="cb209-2" title="2"><span class="fu">git</span> reset --hard HEAD~12</a>
<a class="sourceLine" id="cb209-3" title="3"></a>
<a class="sourceLine" id="cb209-4" title="4"><span class="co"># HEAD@{1} is where the branch was just before the previous command.</span></a>
<a class="sourceLine" id="cb209-5" title="5"><span class="co"># This command sets the state of the index to be as it would just</span></a>
<a class="sourceLine" id="cb209-6" title="6"><span class="co"># after a merge from that commit:</span></a>
<a class="sourceLine" id="cb209-7" title="7"><span class="fu">git</span> merge --squash HEAD@<span class="dt">{1}</span></a>
<a class="sourceLine" id="cb209-8" title="8"></a>
<a class="sourceLine" id="cb209-9" title="9"><span class="co"># Commit those squashed changes.  The commit message will be helpfully</span></a>
<a class="sourceLine" id="cb209-10" title="10"><span class="co"># prepopulated with the commit messages of all the squashed commits:</span></a>
<a class="sourceLine" id="cb209-11" title="11"><span class="fu">git</span> commit</a></code></pre></div>
<p>The <a href="http://www.kernel.org/pub/software/scm/git/docs/git-merge.html" rel="noreferrer">documentation for <code>git merge</code></a> describes the <code>--squash</code> option in more detail.</p>
<hr>
<p><em>Update:</em> the only real advantage of this method over the simpler <code>git reset --soft HEAD~12 &amp;amp;&amp;amp; git commit</code> suggested by Chris Johnsen in <a href="https://stackoverflow.com/questions/5189560/how-can-i-squash-my-last-x-commits-together-using-git/5201642#5201642">his answer</a> is that you get the commit message prepopulated with every commit message that you’re squashing.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="comparing-two-branches-in-git-score-1416596-in-2015" class="level3">
<h3>30: Comparing two branches in Git? (score <a href="https://stackoverflow.com/q/9834689.html">1416596</a> in 2015)</h3>
<section id="question-29" class="level4">
<h4>Question</h4>
<p>I have two branches, <code>branch_1</code> and <code>branch_2</code>.</p>
<p>I want to see the differences between the two branches in Git.</p>
</section>
<section id="answer-2-score-2890" class="level4">
<h4>Answer 2 (score 2890)</h4>
<div class="sourceCode" id="cb210"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb210-1" title="1"><span class="fu">git</span> diff branch_1..branch_2</a></code></pre></div>
<p>That will produce the diff between the tips of the two branches. If you’d prefer to find the diff from their common ancestor to test, you can use three dots instead of two:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb211-1" title="1"><span class="fu">git</span> diff branch_1...branch_2</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-best-and-safest-way-to-merge-a-git-branch-into-master-score-1403349-in-2019" class="level3">
<h3>31: What is the best (and safest) way to merge a Git branch into master? (score <a href="https://stackoverflow.com/q/5601931.html">1403349</a> in 2019)</h3>
<section id="question-30" class="level4">
<h4>Question</h4>
<p>A new branch from <code>master</code> is created, we call it <code>test</code>.</p>
<p>There are several developers who either commit to <code>master</code> or create other branches and later merge into <code>master</code>.</p>
<p>Let’s say work on <code>test</code> is taking several days and you want to continuously keep <code>test</code> updated with commits inside <code>master</code>.</p>
<p>I would do <code>git pull origin master</code> from <code>test</code>.</p>
<p><strong>Question 1:</strong> Is this the right approach? Other developers could have easily worked on same files as I have worked btw.</p>
<hr>
<p>My work on <code>test</code> is done and I am ready to merge it back to <code>master</code>. Here are the two ways I can think of:</p>
<p><strong>A:</strong></p>
<div class="sourceCode" id="cb212"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb212-1" title="1"><span class="fu">git</span> checkout test</a>
<a class="sourceLine" id="cb212-2" title="2"><span class="fu">git</span> pull origin master</a>
<a class="sourceLine" id="cb212-3" title="3"><span class="fu">git</span> push origin test</a>
<a class="sourceLine" id="cb212-4" title="4"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb212-5" title="5"><span class="fu">git</span> pull origin test </a></code></pre></div>
<p><strong>B:</strong></p>
<div class="sourceCode" id="cb213"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb213-1" title="1"><span class="fu">git</span> checkout test</a>
<a class="sourceLine" id="cb213-2" title="2"><span class="fu">git</span> pull origin master</a>
<a class="sourceLine" id="cb213-3" title="3"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb213-4" title="4"><span class="fu">git</span> merge test</a></code></pre></div>
<p>I am not using <code>--rebase</code> because from my understanding, rebase will get the changes from <code>master</code> and stack mine on top of that hence it could overwrite changes other people made.</p>
<p><strong>Question 2:</strong> Which one of these two methods is right? What is the difference there?</p>
<p>The goal in all of this is to keep my <code>test</code> branch updated with the things happening in <code>master</code> and later I could merge them back into <code>master</code> hoping to keep the timeline as linear as possible.</p>
</section>
<section id="answer-accepted-score-2791" class="level4">
<h4>Answer accepted (score 2791)</h4>
<p>How I would do this</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb214-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb214-2" title="2"><span class="fu">git</span> pull origin master</a>
<a class="sourceLine" id="cb214-3" title="3"><span class="fu">git</span> merge test</a>
<a class="sourceLine" id="cb214-4" title="4"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>If I have a local branch from a remote one, I don’t feel comfortable with merging other branches than this one with the remote. Also I would not push my changes, until I’m happy with what I want to push and also I wouldn’t push things at all, that are only for me and my local repository. In your description it seems, that <code>test</code> is only for you? So no reason to publish it.</p>
<p>git always tries to respect yours and others changes, and so will <code>--rebase</code>. I don’t think I can explain it appropriately, so have a look at <a href="http://git-scm.com/book/en/Git-Branching-Rebasing" rel="noreferrer">the Git book - Rebasing</a> or <a href="http://gitready.com/intermediate/2009/01/31/intro-to-rebase.html" rel="noreferrer">git-ready: Intro into rebasing</a> for a little description. It’s a quite cool feature</p>
</section>
<section id="answer-2-score-357" class="level4">
<h4>Answer 2 (score 357)</h4>
<p>This is a very practical question, but all the answers above are not practical.</p>
<p>Like</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb215-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb215-2" title="2"><span class="fu">git</span> pull origin master</a>
<a class="sourceLine" id="cb215-3" title="3"><span class="fu">git</span> merge test</a>
<a class="sourceLine" id="cb215-4" title="4"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>This approach has <strong>two issues</strong>:</p>
<ol>
<li>
<p>
It’s unsafe, because we don’t know if there are any conflicts between test branch and master branch.
</p>
</li>
<li>
<p>
It would “squeeze” all test commits into one merge commit on master; that is to say on master branch, we can’t see the all change logs of test branch.
</p>
</li>
</ol>
<p>So, when we suspect there would some conflicts, we can have following git operations:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb216-1" title="1"><span class="fu">git</span> checkout test</a>
<a class="sourceLine" id="cb216-2" title="2"><span class="fu">git</span> pull </a>
<a class="sourceLine" id="cb216-3" title="3"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb216-4" title="4"><span class="fu">git</span> pull</a>
<a class="sourceLine" id="cb216-5" title="5"><span class="fu">git</span> merge --no-ff --no-commit test</a></code></pre></div>
<p>Test <code>merge</code> before <code>commit</code>, avoid a fast-forward commit by <code>--no-ff</code>,</p>
<p>If conflict is encountered, we can run <code>git status</code> to check details about the conflicts and try to solve</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb217-1" title="1"><span class="fu">git</span> status</a></code></pre></div>
<p>Once we solve the conflicts, or if there is no conflict, we <code>commit</code> and <code>push</code> them</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb218-1" title="1"><span class="fu">git</span> commit -m <span class="st">&#39;merge test branch&#39;</span></a>
<a class="sourceLine" id="cb218-2" title="2"><span class="fu">git</span> push</a></code></pre></div>
<p>But this way will lose the changes history logged in test branch, and it would make master branch to be hard for other developers to understand the history of the project.</p>
<p>So the best method is we have to use <code>rebase</code> instead of <code>merge</code> (suppose, when in this time, we have solved the branch conflicts).</p>
<p>Following is one simple sample, for advanced operations, please refer to <a href="http://git-scm.com/book/en/v2/Git-Branching-Rebasing" rel="noreferrer">http://git-scm.com/book/en/v2/Git-Branching-Rebasing</a></p>
<div class="sourceCode" id="cb219"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb219-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb219-2" title="2"><span class="fu">git</span> pull</a>
<a class="sourceLine" id="cb219-3" title="3"><span class="fu">git</span> checkout test</a>
<a class="sourceLine" id="cb219-4" title="4"><span class="fu">git</span> pull</a>
<a class="sourceLine" id="cb219-5" title="5"><span class="fu">git</span> rebase -i master</a>
<a class="sourceLine" id="cb219-6" title="6"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb219-7" title="7"><span class="fu">git</span> merge test</a></code></pre></div>
<p>Yep, when you have uppers done, all the Test branch’s commits will be moved onto the head of Master branch. The major benefit of rebasing is that you get a linear and much cleaner project history.</p>
<p>The only thing you need to avoid is: never use <code>rebase</code> on public branch, like master branch.</p>
<p><strong>Never do operations</strong> like the following:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb220-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb220-2" title="2"><span class="fu">git</span> rebase -i test</a></code></pre></div>
<p>Details for <a href="https://www.atlassian.com/git/tutorials/merging-vs-rebasing/the-golden-rule-of-rebasing" rel="noreferrer">https://www.atlassian.com/git/tutorials/merging-vs-rebasing/the-golden-rule-of-rebasing</a></p>
<p>appendix:</p>
<ul>
<li>
if you are not sure about rebasing operations, please refer to: <a href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing" rel="noreferrer">https://git-scm.com/book/en/v2/Git-Branching-Rebasing</a>
</li>
</ul>
</section>
<section id="answer-3-score-87" class="level4">
<h4>Answer 3 (score 87)</h4>
<p>Neither a rebase nor a merge should overwrite anyone’s changes (unless you choose to do so when resolving a conflict).</p>
<p>The usual approach while developing is</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb221-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb221-2" title="2"><span class="fu">git</span> pull</a>
<a class="sourceLine" id="cb221-3" title="3"><span class="fu">git</span> checkout test</a>
<a class="sourceLine" id="cb221-4" title="4"><span class="fu">git</span> log master.. <span class="co"># if you&#39;re curious</span></a>
<a class="sourceLine" id="cb221-5" title="5"><span class="fu">git</span> merge origin/test <span class="co"># to update your local test from the fetch in the pull earlier</span></a></code></pre></div>
<p>When you’re ready to merge back into master,</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb222-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb222-2" title="2"><span class="fu">git</span> log ..test <span class="co"># if you&#39;re curious</span></a>
<a class="sourceLine" id="cb222-3" title="3"><span class="fu">git</span> merge test</a>
<a class="sourceLine" id="cb222-4" title="4"><span class="fu">git</span> push</a></code></pre></div>
<p>If you’re worried about breaking something on the merge, <code>git merge --abort</code> is there for you.</p>
<p>Using push and then pull as a means of merging is silly. I’m also not sure why you’re pushing test to origin.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-change-the-uri-url-for-a-remote-git-repository-score-1386571-in-2018" class="level3">
<h3>32: How to change the URI (URL) for a remote Git repository? (score <a href="https://stackoverflow.com/q/2432764.html">1386571</a> in 2018)</h3>
<section id="question-31" class="level4">
<h4>Question</h4>
<p>I have a repo (origin) on a USB key that I cloned on my hard drive (local). I moved “origin” to a NAS and successfully tested cloning it from here.</p>
<p>I would like to know if I can change the URI of “origin” in the settings of “local” so it will now pull from the NAS, and not from the USB key.</p>
<p>For now, I can see two solutions:</p>
<ul>
<li>
<p>
push everything to the usb-orign, and copy it to the NAS again (implies a lot of work due to new commits to nas-origin);
</p>
</li>
<li>
<p>
add a new remote to “local” and delete the old one (I fear I’ll break my history).
</p>
</li>
</ul>
</section>
<section id="answer-accepted-score-5612" class="level4">
<h4>Answer accepted (score 5612)</h4>
<p>You can</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb223-1" title="1"><span class="fu">git</span> remote set-url origin new.git.url/here</a></code></pre></div>
<p>(see <code>git help remote</code>) or you can just edit <code>.git/config</code> and change the URLs there. You’re not in any danger of losing history unless you do something very silly (and if you’re worried, just make a copy of your repo, since your repo <em>is</em> your history.)</p>
</section>
<section id="answer-2-score-771" class="level4">
<h4>Answer 2 (score 771)</h4>
<div class="sourceCode" id="cb224"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb224-1" title="1"><span class="fu">git</span> remote -v</a>
<a class="sourceLine" id="cb224-2" title="2"><span class="co"># View existing remotes</span></a>
<a class="sourceLine" id="cb224-3" title="3"><span class="co"># origin  https://github.com/user/repo.git (fetch)</span></a>
<a class="sourceLine" id="cb224-4" title="4"><span class="co"># origin  https://github.com/user/repo.git (push)</span></a>
<a class="sourceLine" id="cb224-5" title="5"></a>
<a class="sourceLine" id="cb224-6" title="6"><span class="fu">git</span> remote set-url origin https://github.com/user/repo2.git</a>
<a class="sourceLine" id="cb224-7" title="7"><span class="co"># Change the &#39;origin&#39; remote&#39;s URL</span></a>
<a class="sourceLine" id="cb224-8" title="8"></a>
<a class="sourceLine" id="cb224-9" title="9"><span class="fu">git</span> remote -v</a>
<a class="sourceLine" id="cb224-10" title="10"><span class="co"># Verify new remote URL</span></a>
<a class="sourceLine" id="cb224-11" title="11"><span class="co"># origin  https://github.com/user/repo2.git (fetch)</span></a>
<a class="sourceLine" id="cb224-12" title="12"><span class="co"># origin  https://github.com/user/repo2.git (push)</span></a></code></pre></div>
<p><a href="http://help.github.com/articles/changing-a-remote-s-url">Changing a remote’s URL</a></p>
</section>
<section id="answer-3-score-89" class="level4">
<h4>Answer 3 (score 89)</h4>
<p><a href="http://pseudofish.com/blog/2010/06/28/change-host-for-a-git-origin-server/" rel="noreferrer">Change Host for a Git Origin Server</a></p>
<p>from: <a href="http://pseudofish.com/blog/2010/06/28/change-host-for-a-git-origin-server/" rel="noreferrer">http://pseudofish.com/blog/2010/06/28/change-host-for-a-git-origin-server/</a></p>
<p>Hopefully this isn’t something you need to do. The server that I’ve been using to collaborate on a few git projects with had the domain name expire. This meant finding a way of migrating the local repositories to get back in sync.</p>
<p>Update: Thanks to <span class="citation" data-cites="mawolf">@mawolf</span> for pointing out there is an easy way with recent git versions (post Feb, 2010):</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb225-1" title="1"><span class="fu">git</span> remote set-url origin ssh://newhost.com/usr/local/gitroot/myproject.git</a></code></pre></div>
<p>See the man page for details.</p>
<p>If you’re on an older version, then try this:</p>
<p>As a caveat, this works only as it is the same server, just with different names.</p>
<p>Assuming that the new hostname is <code>newhost.com</code>, and the old one was <code>oldhost.com</code>, the change is quite simple.</p>
<p>Edit the <code>.git/config</code> file in your working directory. You should see something like:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb226-1" title="1">[<span class="ex">remote</span> <span class="st">&quot;origin&quot;</span>]</a>
<a class="sourceLine" id="cb226-2" title="2"><span class="ex">fetch</span> = +refs/heads/*:refs/remotes/origin/*</a>
<a class="sourceLine" id="cb226-3" title="3"><span class="ex">url</span> = ssh://oldhost.com/usr/local/gitroot/myproject.git</a></code></pre></div>
<p>Change <code>oldhost.com</code> to <code>newhost.com</code>, save the file and you’re done.</p>
<p>From my limited testing (<code>git pull origin; git push origin; gitx</code>) everything seems in order. And yes, I know it is bad form to mess with git internals.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-revert-all-local-changes-in-git-managed-project-to-previous-state-score-1362819-in-2015" class="level3">
<h3>33: How do I revert all local changes in Git managed project to previous state? (score <a href="https://stackoverflow.com/q/1146973.html">1362819</a> in 2015)</h3>
<section id="question-32" class="level4">
<h4>Question</h4>
<p>
I have a project in which I ran <code>git init</code>. After several commits, I did <code>git status</code> which told me everything was up to date and there were no local changes.
</p>
<p>Then I made several consecutive changes and realized I wanted to throw everything away and get back to my original state. Will this command do it for me?</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb227-1" title="1"><span class="fu">git</span> reset --hard HEAD</a></code></pre></div>
</section>
<section id="answer-accepted-score-3210" class="level4">
<h4>Answer accepted (score 3210)</h4>
<p>If you want to revert changes made to your working copy, do this:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb228-1" title="1"><span class="fu">git</span> checkout .</a></code></pre></div>
<p>If you want to revert changes made to the index (i.e., that you have added), do this. <strong>Warning this will reset all of your unpushed commits to master!</strong>:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb229-1" title="1"><span class="fu">git</span> reset</a></code></pre></div>
<p>If you want to revert a change that you have committed, do this:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb230-1" title="1"><span class="fu">git</span> revert <span class="op">&lt;</span>commit <span class="op">1&gt;</span> <span class="op">&lt;</span>commit <span class="op">2&gt;</span></a></code></pre></div>
<p>If you want to remove untracked files (e.g., new files, generated files):</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb231-1" title="1"><span class="fu">git</span> clean -f</a></code></pre></div>
<p>Or untracked directories (e.g., new or automatically generated directories):</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb232-1" title="1"><span class="fu">git</span> clean -fd</a></code></pre></div>
</section>
<section id="answer-2-score-373" class="level4">
<h4>Answer 2 (score 373)</h4>
<p>Note: You may also want to run</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb233-1" title="1"><span class="fu">git</span> clean -fd</a></code></pre></div>
<p>as</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb234-1" title="1"><span class="fu">git</span> reset --hard</a></code></pre></div>
<p>will <em>not</em> remove untracked files, where as git-clean will remove any files from the tracked root directory that are not under git tracking. WARNING - BE CAREFUL WITH THIS! It is helpful to run a dry-run with git-clean first, to see what it will delete.</p>
<p>This is also especially useful when you get the error message</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb235-1" title="1"><span class="ex">~</span><span class="st">&quot;performing this command will cause an un-tracked file to be overwritten&quot;</span></a></code></pre></div>
<p>Which can occur when doing several things, one being updating a working copy when you and your friend have both added a new file of the same name, but he’s committed it into source control first, and you don’t care about deleting your untracked copy.</p>
<p>In this situation, doing a dry run will also help show you a list of files that would be overwritten.</p>
</section>
<section id="answer-3-score-113" class="level4">
<h4>Answer 3 (score 113)</h4>
<h5>
Re-clone
</h1>
<div class="sourceCode" id="cb236"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb236-1" title="1"><span class="va">GIT=$(</span><span class="fu">git</span> rev-parse --show-toplevel<span class="va">)</span></a>
<a class="sourceLine" id="cb236-2" title="2"><span class="bu">cd</span> <span class="va">$GIT</span>/..</a>
<a class="sourceLine" id="cb236-3" title="3"><span class="fu">rm</span> -rf <span class="va">$GIT</span></a>
<a class="sourceLine" id="cb236-4" title="4"><span class="fu">git</span> clone ...</a></code></pre></div>
<ul>
<li>
✅ Deletes local, non-pushed commits
</li>
<li>
✅ Reverts changes you made to tracked files
</li>
<li>
✅ Restores tracked files you deleted
</li>
<li>
✅ Deletes files/dirs listed in <code>.gitignore</code> (like build files)
</li>
<li>
✅ Deletes files/dirs that are not tracked and not in <code>.gitignore</code>
</li>
<li>
😀 You won’t forget this approach
</li>
<li>
😔 Wastes bandwidth
</li>
</ul>
<hr>
<p>Following are other commands I forget daily.</p>
<h5>
Clean and reset
</h1>
<div class="sourceCode" id="cb237"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb237-1" title="1"><span class="fu">git</span> clean --force -d -x</a>
<a class="sourceLine" id="cb237-2" title="2"><span class="fu">git</span> reset --hard</a></code></pre></div>
<ul>
<li>
❌ Deletes local, non-pushed commits
</li>
<li>
✅ Reverts changes you made to tracked files
</li>
<li>
✅ Restores tracked files you deleted
</li>
<li>
✅ Deletes files/dirs listed in <code>.gitignore</code> (like build files)
</li>
<li>
✅ Deletes files/dirs that are not tracked and not in <code>.gitignore</code>
</li>
</ul>
<h5>
Clean
</h1>
<div class="sourceCode" id="cb238"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb238-1" title="1"><span class="fu">git</span> clean --force -d -x</a></code></pre></div>
<ul>
<li>
❌ Deletes local, non-pushed commits
</li>
<li>
❌ Reverts changes you made to tracked files
</li>
<li>
❌ Restores tracked files you deleted
</li>
<li>
✅ Deletes files/dirs listed in <code>.gitignore</code> (like build files)
</li>
<li>
✅ Deletes files/dirs that are not tracked and not in <code>.gitignore</code>
</li>
</ul>
<h5>
Reset
</h1>
<div class="sourceCode" id="cb239"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb239-1" title="1"><span class="fu">git</span> reset --hard</a></code></pre></div>
<ul>
<li>
❌ Deletes local, non-pushed commits
</li>
<li>
✅ Reverts changes you made to tracked files
</li>
<li>
✅ Restores tracked files you deleted
</li>
<li>
❌ Deletes files/dirs listed in <code>.gitignore</code> (like build files)
</li>
<li>
❌ Deletes files/dirs that are not tracked and not in <code>.gitignore</code>
</li>
</ul>
<hr>
<h5>
Notes
</h2>
<p><strong>Test case for confirming all the above (use bash or sh):</strong></p>
<div class="sourceCode" id="cb240"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb240-1" title="1"><span class="fu">mkdir</span> project</a>
<a class="sourceLine" id="cb240-2" title="2"><span class="bu">cd</span> project</a>
<a class="sourceLine" id="cb240-3" title="3"><span class="fu">git</span> init</a>
<a class="sourceLine" id="cb240-4" title="4"><span class="bu">echo</span> <span class="st">&#39;*.built&#39;</span> <span class="op">&gt;</span> .gitignore</a>
<a class="sourceLine" id="cb240-5" title="5"><span class="bu">echo</span> <span class="st">&#39;CODE&#39;</span> <span class="op">&gt;</span> a.sourceCode</a>
<a class="sourceLine" id="cb240-6" title="6"><span class="fu">mkdir</span> b</a>
<a class="sourceLine" id="cb240-7" title="7"><span class="bu">echo</span> <span class="st">&#39;CODE&#39;</span> <span class="op">&gt;</span> b/b.sourceCode</a>
<a class="sourceLine" id="cb240-8" title="8"><span class="fu">cp</span> -r b c</a>
<a class="sourceLine" id="cb240-9" title="9"><span class="fu">git</span> add .</a>
<a class="sourceLine" id="cb240-10" title="10"><span class="fu">git</span> commit -m <span class="st">&#39;Initial checkin&#39;</span></a>
<a class="sourceLine" id="cb240-11" title="11"><span class="bu">echo</span> <span class="st">&#39;NEW FEATURE&#39;</span> <span class="op">&gt;&gt;</span> a.sourceCode</a>
<a class="sourceLine" id="cb240-12" title="12"><span class="fu">cp</span> a.sourceCode a.built</a>
<a class="sourceLine" id="cb240-13" title="13"><span class="fu">rm</span> -rf c</a>
<a class="sourceLine" id="cb240-14" title="14"><span class="bu">echo</span> <span class="st">&#39;CODE&#39;</span> <span class="op">&gt;</span> <span class="st">&#39;d.sourceCode&#39;</span></a></code></pre></div>
<p><strong>See also</strong></p>
<ul>
<li>
<a href="https://git-scm.com/docs/git-revert" rel="noreferrer"><code>git revert</code></a> to make new commits that undo prior commits
</li>
<li>
<a href="https://git-scm.com/docs/git-checkout" rel="noreferrer"><code>git checkout</code></a> to go back in time to prior commits (may require running above commands first)
</li>
<li>
<a href="https://git-scm.com/docs/git-stash" rel="noreferrer"><code>git stash</code></a> same as <code>git reset</code> above, but you can undo it
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-list-all-the-files-in-a-commit-score-1353105-in-2015" class="level3">
<h3>34: How to list all the files in a commit? (score <a href="https://stackoverflow.com/q/424071.html">1353105</a> in 2015)</h3>
<section id="question-33" class="level4">
<h4>Question</h4>
<p>I am looking for a simple <code>git</code> command that provides a nicely formatted list of all files that were part of the commit given by a hash (SHA1), with no extraneous information.</p>
<p>I have tried:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb241-1" title="1"><span class="fu">git</span> show a303aa90779efdd2f6b9d90693e2cbbbe4613c1d</a></code></pre></div>
<p>Although it lists the files, it also includes unwanted diff information for each.</p>
<p>Is there another <code>git</code> command that will provide just the list I want, so that I can avoid parsing it from the <code>git show</code> output?</p>
</section>
<section id="answer-accepted-score-3451" class="level4">
<h4>Answer accepted (score 3451)</h4>
<p><strong>Preferred Way</strong> (because it’s a <em>plumbing</em> command; meant to be programmatic):</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb242-1" title="1">$ <span class="fu">git</span> diff-tree --no-commit-id --name-only -r bd61ad98</a>
<a class="sourceLine" id="cb242-2" title="2"><span class="ex">index.html</span></a>
<a class="sourceLine" id="cb242-3" title="3"><span class="ex">javascript/application.js</span></a>
<a class="sourceLine" id="cb242-4" title="4"><span class="ex">javascript/ie6.js</span></a></code></pre></div>
<p><strong>Another Way</strong> (less preferred for scripts, because it’s a <em>porcelain</em> command; meant to be user-facing)</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb243-1" title="1">$ <span class="fu">git</span> show --pretty=<span class="st">&quot;&quot;</span> --name-only bd61ad98    </a>
<a class="sourceLine" id="cb243-2" title="2"><span class="ex">index.html</span></a>
<a class="sourceLine" id="cb243-3" title="3"><span class="ex">javascript/application.js</span></a>
<a class="sourceLine" id="cb243-4" title="4"><span class="ex">javascript/ie6.js</span></a></code></pre></div>
<hr>
<ul>
<li>
The <code>--no-commit-id</code> suppresses the commit ID output.
</li>
<li>
The <code>--pretty</code> argument specifies an empty format string to avoid the cruft at the beginning.
</li>
<li>
The <code>--name-only</code> argument shows only the file names that were affected (Thanks Hank). Use <code>--name-status</code> instead, if you want to see what happened to each file (<strong>D</strong>eleted, <strong>M</strong>odified, <strong>A</strong>dded)
</li>
<li>
The <code>-r</code> argument is to recurse into sub-trees
</li>
</ul>
</section>
<section id="answer-2-score-220" class="level4">
<h4>Answer 2 (score 220)</h4>
<p>If you want to get list of changed files:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb244-1" title="1"><span class="fu">git</span> diff-tree --no-commit-id --name-only -r <span class="op">&lt;</span>commit-ish<span class="op">&gt;</span></a></code></pre></div>
<p>If you want to get list of all files in a commit, you can use</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb245-1" title="1"><span class="fu">git</span> ls-tree --name-only -r <span class="op">&lt;</span>commit-ish<span class="op">&gt;</span></a></code></pre></div>
</section>
<section id="answer-3-score-208-1" class="level4">
<h4>Answer 3 (score 208)</h4>
<p>I’ll just assume that <code>gitk</code> is not desired for this. In that case, try <code>git show --name-only &amp;lt;sha&amp;gt;</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="download-a-specific-tag-with-git-score-1311826-in-2017" class="level3">
<h3>35: Download a specific tag with Git (score <a href="https://stackoverflow.com/q/791959.html">1311826</a> in 2017)</h3>
<section id="question-34" class="level4">
<h4>Question</h4>
<p>I’m trying to figure out how I can download a particular tag of a Git repository - it’s one version behind the current version.</p>
<p>I saw there was a tag for the previous version on the git web page, with object name of something long hex number.</p>
<p>But the version name is “<code>Tagged release 1.1.5</code>” according the site.</p>
<p>I tried a command like this (with names changed):</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb246-1" title="1"><span class="fu">git</span> clone http://git.abc.net/git/abc.git my_abc</a></code></pre></div>
<p>And I did get something - a directory, a bunch of subdirectories, etc.</p>
<p>If it’s the whole repository, how do I get at the version I’m seeking? If not, how do I download that particular version?</p>
</section>
<section id="answer-accepted-score-2810" class="level4">
<h4>Answer accepted (score 2810)</h4>
<div class="sourceCode" id="cb247"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb247-1" title="1">$ <span class="fu">git</span> clone</a></code></pre></div>
<p>will give you the whole repository.</p>
<p>After the clone, you can list the tags with <code>$ git tag -l</code> and then checkout a specific tag:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb248-1" title="1">$ <span class="fu">git</span> checkout tags/<span class="op">&lt;</span>tag_name<span class="op">&gt;</span></a></code></pre></div>
<p>Even better, checkout and create a branch (otherwise you will be on a branch named after the revision number of tag):</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb249-1" title="1">$ <span class="fu">git</span> checkout tags/<span class="op">&lt;</span>tag_name<span class="op">&gt;</span> -b <span class="op">&lt;</span>branch_name<span class="op">&gt;</span></a></code></pre></div>
</section>
<section id="answer-2-score-385" class="level4">
<h4>Answer 2 (score 385)</h4>
<div class="sourceCode" id="cb250"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb250-1" title="1"><span class="fu">git</span> clone --branch my_abc http://git.abc.net/git/abc.git</a></code></pre></div>
<p>Will clone the repo and leave you on the tag you are interested in.</p>
<p>Documentation for 1.8.0 of <strong>git clone</strong> states.</p>
<blockquote>
–branch can also take tags and detaches the HEAD at that commit in the resulting repository.
</blockquote>
</section>
<section id="answer-3-score-155" class="level4">
<h4>Answer 3 (score 155)</h4>
<p>For checking out only a given tag for deployment, I use e.g.:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb251-1" title="1"><span class="fu">git</span> clone -b <span class="st">&#39;v2.0&#39;</span> --single-branch --depth 1 https://github.com/git/git.git</a></code></pre></div>
<p>This seems to be the fastest way to check out code from a remote repository if one has only interest in the most recent code instead of in a complete repository. In this way, it resembles the ‘svn co’ command.</p>
<p>Note: Per <a href="https://git-scm.com/docs/git-clone" rel="noreferrer">the Git manual</a>, passing the <code>--depth</code> flag implies <code>--single-branch</code> by default.</p>
<blockquote>
<p>–depth</p>
Create a shallow clone with a history truncated to the specified number of commits. Implies –single-branch unless –no-single-branch is given to fetch the histories near the tips of all branches. If you want to clone submodules shallowly, also pass –shallow-submodules.
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-get-the-current-branch-name-in-git-score-1309177-in-2016" class="level3">
<h3>36: How to get the current branch name in Git? (score <a href="https://stackoverflow.com/q/6245570.html">1309177</a> in 2016)</h3>
<section id="question-35" class="level4">
<h4>Question</h4>
<p>I’m from a Subversion background and, when I had a branch, I knew what I was working on with “These working files point to this branch”.</p>
<p>But with Git I’m not sure when I am editing a file in NetBeans or Notepad++, whether it’s tied to the master or another branch.</p>
<p>There’s no problem with <code>git</code> in bash, it tells me what I’m doing.</p>
</section>
<section id="answer-accepted-score-1831" class="level4">
<h4>Answer accepted (score 1831)</h4>
<div class="sourceCode" id="cb252"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb252-1" title="1"><span class="fu">git</span> branch</a></code></pre></div>
<p>should show all the local branches of your repo. The starred branch is your current branch.</p>
<p>If you want to retrieve only the name of the branch you are on, you can do:</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb253-1" title="1"><span class="fu">git</span> branch <span class="kw">|</span> <span class="fu">grep</span> <span class="dt">\*</span> <span class="kw">|</span> <span class="fu">cut</span> -d <span class="st">&#39; &#39;</span> -f2</a></code></pre></div>
</section>
<section id="answer-2-score-4456" class="level4">
<h4>Answer 2 (score 4456)</h4>
<p>To display the current branch you’re on, without the other branches listed, you can do the following:<br/></p>
<div class="sourceCode" id="cb254"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb254-1" title="1"><span class="fu">git</span> rev-parse --abbrev-ref HEAD</a></code></pre></div>
<p>Reference:</p>
<ul>
<li>
<a href="https://stackoverflow.com/a/1418022/367456">Show just the current branch in Git (Sep 2009)</a>
</li>
</ul>
</section>
<section id="answer-3-score-493" class="level4">
<h4>Answer 3 (score 493)</h4>
<p>You have also <code>git symbolic-ref HEAD</code> which displays the full refspec.</p>
<p>To show only the branch name in Git v1.8 and later (thank’s to Greg for pointing that out):</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb255-1" title="1">$ <span class="fu">git</span> symbolic-ref --short HEAD</a></code></pre></div>
<p>On Git v1.7+ you can also do:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb256-1" title="1">$ <span class="fu">git</span> rev-parse --abbrev-ref HEAD</a></code></pre></div>
<p>Both should give the same branch name if you’re on a branch. If you’re on a detached head answers differ.</p>
<blockquote>
<p><strong><em>Note:</em></strong></p>
<p>On an earlier client, this seems to work:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb257-1" title="1">$ <span class="fu">git</span> symbolic-ref HEAD <span class="kw">|</span> <span class="fu">sed</span> -e <span class="st">&quot;s/^refs\/heads\///&quot;</span></a></code></pre></div>
– <em>Darien 26. Mar 2014</em>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="make-an-existing-git-branch-track-a-remote-branch-score-1272353-in-2014" class="level3">
<h3>37: Make an existing Git branch track a remote branch? (score <a href="https://stackoverflow.com/q/520650.html">1272353</a> in 2014)</h3>
<section id="question-36" class="level4">
<h4>Question</h4>
<p>I know how to make a new branch that tracks remote branches, but <strong>how do I make an existing branch track a remote branch?</strong></p>
<p>I know I can just edit the <code>.git/config</code> file, but it seems there should be an easier way.</p>
</section>
<section id="answer-accepted-score-4145" class="level4">
<h4>Answer accepted (score 4145)</h4>
<p>Given a branch <code>foo</code> and a remote <code>upstream</code>:</p>
<p><strong>As of Git 1.8.0:</strong></p>
<div class="sourceCode" id="cb258"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb258-1" title="1"><span class="fu">git</span> branch -u upstream/foo</a></code></pre></div>
<p>Or, if local branch <code>foo</code> is not the current branch:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb259-1" title="1"><span class="fu">git</span> branch -u upstream/foo foo</a></code></pre></div>
<p>Or, if you like to type longer commands, these are equivalent to the above two:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb260-1" title="1"><span class="fu">git</span> branch --set-upstream-to=upstream/foo</a>
<a class="sourceLine" id="cb260-2" title="2"></a>
<a class="sourceLine" id="cb260-3" title="3"><span class="fu">git</span> branch --set-upstream-to=upstream/foo foo</a></code></pre></div>
<p><strong>As of Git 1.7.0:</strong></p>
<div class="sourceCode" id="cb261"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb261-1" title="1"><span class="fu">git</span> branch --set-upstream foo upstream/foo</a></code></pre></div>
<p><strong>Notes:</strong></p>
<ul>
<li>
All of the above commands will cause local branch <code>foo</code> to track remote branch <code>foo</code> from remote <code>upstream</code>.
</li>
<li>
The old (1.7.x) syntax is deprecated in favor of the new (1.8+) syntax. The new syntax is intended to be more intuitive and easier to remember.
</li>
<li>
Defining the upstream will fail with newly created remotes that have not been fetched. In that case run <code>git fetch upstream</code> beforehand.
</li>
</ul>
<hr>
<p>See also: <a href="https://stackoverflow.com/q/6089294/95706">Why do I need to do <code>--set-upstream</code> all the time?</a></p>
</section>
<section id="answer-2-score-232" class="level4">
<h4>Answer 2 (score 232)</h4>
<p>You can do the following (assuming you are checked out on master and want to push to a remote branch master):</p>
<p>Set up the ‘remote’ if you don’t have it already</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb262-1" title="1"><span class="fu">git</span> remote add origin ssh://...</a></code></pre></div>
<p>Now configure master to know to track:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb263-1" title="1"><span class="fu">git</span> config branch.master.remote origin</a>
<a class="sourceLine" id="cb263-2" title="2"><span class="fu">git</span> config branch.master.merge refs/heads/master</a></code></pre></div>
<p>And push:</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb264-1" title="1"><span class="fu">git</span> push origin master</a></code></pre></div>
</section>
<section id="answer-3-score-156" class="level4">
<h4>Answer 3 (score 156)</h4>
<p>I do this as a side-effect of pushing with the <code>-u</code> option as in</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb265-1" title="1">$ <span class="fu">git</span> push -u origin branch-name</a></code></pre></div>
<p>The equivalent long option is <code>--set-upstream</code>.</p>
<p>The <code>git-branch</code> command also understands <code>--set-upstream</code>, but its use can be confusing. <a href="https://lkml.org/lkml/2012/10/1/419" rel="noreferrer">Version 1.8.0</a> modifies the interface.</p>
<blockquote>
<p><code>git branch --set-upstream</code> is deprecated and may be removed in a relatively distant future. <code>git branch [-u|--set-upstream-to]</code> has been introduced with a saner order of arguments.</p>
<p>…</p>
It was tempting to say <code>git branch --set-upstream origin/master</code>, but that tells Git to arrange the local branch “origin/master” to integrate with the currently checked out branch, which is highly unlikely what the user meant. The option is deprecated; use the new <code>--set-upstream-to</code> (with a short-and-sweet <code>-u</code>) option instead.
</blockquote>
<p>Say you have a local <code>foo</code> branch and want it to treat the branch by the same name as its upstream. Make this happen with</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb266-1" title="1">$ <span class="fu">git</span> branch foo</a>
<a class="sourceLine" id="cb266-2" title="2">$ <span class="fu">git</span> branch --set-upstream-to=origin/foo</a></code></pre></div>
<p>or just</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb267-1" title="1">$ <span class="fu">git</span> branch --set-upstream-to=origin/foo foo</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="fix-a-git-detached-head-score-1238695-in-2018" class="level3">
<h3>38: Fix a Git detached head? (score <a href="https://stackoverflow.com/q/10228760.html">1238695</a> in 2018)</h3>
<section id="question-37" class="level4">
<h4>Question</h4>
<p>I was doing some work in my repository and noticed a file had local changes. I didn’t want them anymore so I deleted the file, thinking I can just checkout a fresh copy. I wanted to do the Git equivalent of</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb268-1" title="1"><span class="fu">svn</span> up .</a></code></pre></div>
<p>Using <code>git pull</code> didn’t seem to work. Some random searching led me to a site where someone recommended doing</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb269-1" title="1"><span class="fu">git</span> checkout HEAD^ src/</a></code></pre></div>
<p>(<code>src</code> is the directory containing the deleted file).</p>
<p><strong>Now I find out I have a detached head. I have no idea what that is. How can I undo?</strong></p>
</section>
<section id="answer-accepted-score-1868" class="level4">
<h4>Answer accepted (score 1868)</h4>
<p>Detached head means you are no longer on a branch, you have checked out a single commit in the history (in this case the commit previous to HEAD, i.e. HEAD^).</p>
<h5>
If you want to <em>delete</em> your changes associated with the detached HEAD
</h2>
<p>You only need to checkout the branch you were on, e.g. </p>
<div class="sourceCode" id="cb270"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb270-1" title="1"><span class="fu">git</span> checkout master</a></code></pre></div>
<p>Next time you have changed a file and want to restore it to the state it is in the index, don’t delete the file first, just do</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb271-1" title="1"><span class="fu">git</span> checkout -- path/to/foo</a></code></pre></div>
<p>This will restore the file foo to the state it is in the index.</p>
<h5>
If you want to <em>keep</em> your changes associated with the detached HEAD
</h2>
<ol>
<li>
Run <code>git log -n 1</code>; this will display the most recent commit on the detached HEAD. Copy the commit hash.
</li>
<li>
Run <code>git checkout master</code>
</li>
<li>
Run <code>git branch tmp &amp;lt;commit-hash&amp;gt;</code>. This will save your changes in a new branch called <code>tmp</code>.
</li>
<li>
If you would like to incorporate the changes you made into <code>master</code>, run <code>git merge tmp</code> from the <code>master</code> branch. You should be on the <code>master</code> branch after running <code>git checkout master</code>.
</li>
</ol>
</section>
<section id="answer-2-score-446" class="level4">
<h4>Answer 2 (score 446)</h4>
<p>If you have changed files you don’t want to lose, you can push them. I have committed them in the detached mode and after that you can move to a temporary branch to integrate later in master.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb272-1" title="1"><span class="fu">git</span> commit -m <span class="st">&quot;.....&quot;</span></a>
<a class="sourceLine" id="cb272-2" title="2"><span class="fu">git</span> branch my-temporary-work</a>
<a class="sourceLine" id="cb272-3" title="3"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb272-4" title="4"><span class="fu">git</span> merge my-temporary-work</a></code></pre></div>
<p>Extracted from:</p>
<p><a href="https://stackoverflow.com/questions/7124486/what-to-do-with-commit-made-in-a-detached-head/7124513#7124513">What to do with commit made in a detached head</a></p>
</section>
<section id="answer-3-score-143" class="level4">
<h4>Answer 3 (score 143)</h4>
<p><strong>A solution without creating a temporary branch.</strong></p>
<p>How to exit (“fix”) detached HEAD state <em>when you already changed something in this mode</em> and, optionally, want to save your changes:</p>
<ol>
<li>
<p>
<strong>Commit changes you want to keep.</strong> If you want to take over any of the changes you made in detached HEAD state, commit them. Like:
</p>
<code>sh git commit -a -m "your commit message"</code>
</li>
<li>
<p>
<strong>Discard changes you do not want to keep.</strong> The hard reset will discard any uncommitted changes that you made in detached HEAD state:
</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb273-1" title="1"><span class="fu">git</span> reset --hard</a></code></pre></div>
(Without this, step 3 would fail, complaining about modified uncommitted files in the detached HEAD.)
</li>
<li>
<p>
<strong>Check out your branch.</strong> Exit detached HEAD state by checking out the branch you worked on before, for example:
</p>
<code>sh git checkout master</code>
</li>
<li>
<p>
<strong>Take over your commits.</strong> You can now take over the commits you made in detached HEAD state by cherry-picking, as shown in <a href="https://stackoverflow.com/a/15774498/1270008">my answer to another question</a>.
</p>
<code>sh git reflog git cherry-pick &lt;hash1&gt; &lt;hash2&gt; &lt;hash3&gt; …</code>
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="git-refusing-to-merge-unrelated-histories-on-rebase-score-1194768-in-2019" class="level3">
<h3>39: Git refusing to merge unrelated histories on rebase (score <a href="https://stackoverflow.com/q/37937984.html">1194768</a> in 2019)</h3>
<section id="question-38" class="level4">
<h4>Question</h4>
<p>During <code>git rebase origin/development</code> the following error message is shown from Git:</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb274-1" title="1"><span class="ex">fatal</span>: refusing to merge unrelated histories</a>
<a class="sourceLine" id="cb274-2" title="2"><span class="ex">Error</span> redoing merge 1234deadbeef1234deadbeef</a></code></pre></div>
<p>My Git version is 2.9.0. It used to work fine in the previous version.</p>
<p>How can I continue this rebase allowing unrelated histories with the forced flag introduced in the new release?</p>
</section>
<section id="answer-2-score-2284" class="level4">
<h4>Answer 2 (score 2284)</h4>
<p>The default behavior has changed since Git 2.9:</p>
<blockquote>
<p>
“git merge” used to allow merging two branches that have no common base by default, which led to a brand new history of an existing project created and then get pulled by an unsuspecting maintainer, which allowed an unnecessary parallel history merged into the existing project. The command has been taught <strong>not to allow this by default</strong>, with an escape hatch <code>--allow-unrelated-histories</code> option to be used in a rare event that merges histories of two projects that started their lives independently.
</p>
</blockquote>
<p>See the <a href="https://github.com/git/git/blob/master/Documentation/RelNotes/2.9.0.txt#L58-L68" rel="noreferrer">Git release changelog</a> for more information.</p>
<p>You can use <code>--allow-unrelated-histories</code> to force the merge to happen.</p>
</section>
<section id="answer-3-score-999" class="level4">
<h4>Answer 3 (score 999)</h4>
<p>In my case, the error was just <code>fatal: refusing to merge unrelated histories</code> on every try, especially the first pull request after remotely adding a Git repository.</p>
<p>Using the <code>--allow-unrelated-histories</code> flag worked with a pull request in this way:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb275-1" title="1"><span class="fu">git</span> pull origin branchname --allow-unrelated-histories</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-fetch-all-git-branches-score-1191591-in-2018" class="level3">
<h3>40: How to fetch all Git branches (score <a href="https://stackoverflow.com/q/10312521.html">1191591</a> in 2018)</h3>
<section id="question-39" class="level4">
<h4>Question</h4>
<p>I cloned a Git repository, which contains about five branches. However, when I do <code>git branch</code> I only see one of them:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb276-1" title="1">$ <span class="fu">git</span> branch</a>
<a class="sourceLine" id="cb276-2" title="2"><span class="ex">*</span> master</a></code></pre></div>
<p>I know that I can do <code>git branch -a</code> to see <strong>all</strong> the branches, but how would I pull all the branches locally so when I do <code>git branch</code>, it shows the following?</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb277-1" title="1">$ <span class="fu">git</span> branch</a>
<a class="sourceLine" id="cb277-2" title="2"><span class="ex">*</span> master</a>
<a class="sourceLine" id="cb277-3" title="3"><span class="ex">*</span> staging</a>
<a class="sourceLine" id="cb277-4" title="4"><span class="ex">*</span> etc...</a></code></pre></div>
</section>
<section id="answer-accepted-score-1791" class="level4">
<h4>Answer accepted (score 1791)</h4>
<p>You can fetch all branches from all remotes like this:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb278-1" title="1"><span class="fu">git</span> fetch --all</a></code></pre></div>
<p>It’s basically a <a href="https://www.atlassian.com/git/tutorials/syncing/git-fetch" rel="noreferrer">power move</a>.</p>
<p><code>fetch</code> updates local copies of remote branches so this is always safe for your local branches <strong>BUT</strong>:</p>
<ol>
<li>
<p>
<code>fetch</code> will not <strong>update</strong> local branches (which <strong>track</strong> remote branches); if you want to update your local branches you still need to pull every branch.
</p>
</li>
<li>
<p>
<code>fetch</code> will not <strong>create</strong> local branches (which <strong>track</strong> remote branches), you have to do this manually. If you want to list all remote branches: <code>git branch -a</code>
</p>
</li>
</ol>
<p>To <strong>update</strong> local branches which track remote branches:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb279-1" title="1"><span class="fu">git</span> pull --all</a></code></pre></div>
<p>However, this can be still insufficient. It will work only for your local branches which track remote branches. To track all remote branches execute this oneliner <strong>BEFORE</strong> <code>git pull --all</code>:</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb280-1" title="1"><span class="fu">git</span> branch -r <span class="kw">|</span> <span class="fu">grep</span> -v <span class="st">&#39;\-&gt;&#39;</span> <span class="kw">|</span> <span class="kw">while</span> <span class="bu">read</span> <span class="va">remote</span>; <span class="kw">do</span> <span class="fu">git</span> branch --track <span class="st">&quot;</span><span class="va">${remote#</span>origin/<span class="va">}</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">$remote</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span></a></code></pre></div>
<h5>
TL;DR version
</h3>
<div class="sourceCode" id="cb281"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb281-1" title="1"><span class="fu">git</span> branch -r <span class="kw">|</span> <span class="fu">grep</span> -v <span class="st">&#39;\-&gt;&#39;</span> <span class="kw">|</span> <span class="kw">while</span> <span class="bu">read</span> <span class="va">remote</span>; <span class="kw">do</span> <span class="fu">git</span> branch --track <span class="st">&quot;</span><span class="va">${remote#</span>origin/<span class="va">}</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">$remote</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span></a>
<a class="sourceLine" id="cb281-2" title="2"><span class="fu">git</span> fetch --all</a>
<a class="sourceLine" id="cb281-3" title="3"><span class="fu">git</span> pull --all</a></code></pre></div>
<p>(It seems that pull fetches all branches from all remotes, but I always fetch first just to be sure.)</p>
<p>Run the first command only if there are remote branches on the server that aren’t tracked by your local branches.</p>
<p>P.S. AFAIK <code>git fetch --all</code> and <code>git remote update</code> are equivalent.</p>
<hr>
<hr>
<p>Kamil Szot’s <a href="https://stackoverflow.com/questions/10312521/how-to-fetch-all-git-branches#comment27984640_10312587">comment</a>, which folks have found useful.</p>
<blockquote>
<p>I had to use:</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb282-1" title="1"><span class="kw">for</span> <span class="ex">remote</span> in <span class="kw">`</span><span class="fu">git</span> branch -r<span class="kw">`;</span> <span class="kw">do</span> <span class="fu">git</span> branch --track <span class="va">${remote#</span>origin/<span class="va">}</span> <span class="va">$remote</span><span class="kw">;</span> <span class="kw">done</span></a></code></pre></div>
<p>
because your code created local branches named <code>origin/branchname</code> and I was getting "refname ‘origin/branchname’ is ambiguous whenever I referred to it.
</p>
</blockquote>
</section>
<section id="answer-2-score-628" class="level4">
<h4>Answer 2 (score 628)</h4>
<p>
To list remote branches:<br> <code>git branch -r</code>
</p>
<p>
You can check them out as local branches with:<br> <code>git checkout -b LocalName origin/remotebranchname</code>
</p>
</section>
<section id="answer-3-score-181" class="level4">
<h4>Answer 3 (score 181)</h4>
<p>You will need to create local branches tracking remote branches.</p>
<p>Assuming that you’ve got only one remote called <code>origin</code>, this snippet will create local branches for all remote tracking ones:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb283-1" title="1"><span class="kw">for</span> <span class="ex">b</span> in <span class="kw">`</span><span class="fu">git</span> branch -r <span class="kw">|</span> <span class="fu">grep</span> -v -- <span class="st">&#39;-&gt;&#39;</span><span class="kw">`;</span> <span class="kw">do</span> <span class="fu">git</span> branch --track <span class="va">${b##</span>origin/<span class="va">}</span> <span class="va">$b</span><span class="kw">;</span> <span class="kw">done</span></a></code></pre></div>
<p>After that, <code>git fetch --all</code> will update all local copies of remote branches.</p>
<p>Also, <code>git pull --all</code> will update your local tracking branches, but depending on your local commits and how the ‘merge’ configure option is set it might create a merge commit, fast-forward or fail.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-properly-force-a-git-push-score-1164381-in-2017" class="level3">
<h3>41: How do I properly force a Git push? (score <a href="https://stackoverflow.com/q/5509543.html">1164381</a> in 2017)</h3>
<section id="question-40" class="level4">
<h4>Question</h4>
<p>I’ve set up a remote non-bare “main” repo and cloned it to my computer. I made some local changes, updated my local repository, and pushed the changes back to my remote repo. Things were fine up to that point.</p>
<p>Now, I had to change something in the remote repo. Then I changed something in my local repo. I realized that the change to the remote repo was not needed. So I tried to <code>git push</code> from my local repo to my remote repo, but I got an error like:</p>
<blockquote>
<p>
To prevent you from losing history, non-fast-forward updates were rejected Merge the remote changes before pushing again. See the ‘Note about fast-forwards’ section of <code>git push --help</code> for details.
</p>
</blockquote>
<p>I thought that probably a</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb284-1" title="1"><span class="fu">git</span> push --force</a></code></pre></div>
<p>would force my local copy to push changes to the remote one and make it the same. <strong>It does force the update</strong>, but when I go back to the remote repo and make a commit, I notice that the files contain outdated changes (ones that the main remote repo previously had).</p>
<p>As I mentioned in the <a href="https://stackoverflow.com/questions/5509543/how-do-i-properly-force-a-git-push#comment6275726_5509588">comments to one of the answers</a>:</p>
<blockquote>
[I] tried forcing, but when going back to master server to save the changes, i get outdated staging. Thus, when i commit the repositories are not the same. And when i try to use git push again, i get the same error.
</blockquote>
<p>How can I fix this issue?</p>
</section>
<section id="answer-accepted-score-2168" class="level4">
<h4>Answer accepted (score 2168)</h4>
<p>Just do:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb285-1" title="1"><span class="fu">git</span> push origin <span class="op">&lt;</span>your_branch_name<span class="op">&gt;</span> --force</a></code></pre></div>
<p>or if you have a specific repo:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb286-1" title="1"><span class="fu">git</span> push https://git.... --force</a></code></pre></div>
<p>This will delete your previous commit(s) and push your current one.</p>
<p>It may not be proper, but if anyone stumbles upon this page, thought they might want a simple solution…</p>
<h5>
Short flag
</h3>
<p>Also note that <code>-f</code> is short for <code>--force</code>, so</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb287-1" title="1"><span class="fu">git</span> push origin <span class="op">&lt;</span>your_branch_name<span class="op">&gt;</span> -f</a></code></pre></div>
<p>will also work.</p>
</section>
<section id="answer-2-score-235" class="level4">
<h4>Answer 2 (score 235)</h4>
<p>And if <code>push --force</code> doesn’t work you can do <strong><code>push --delete</code></strong>. Look at 2<sup>nd</sup> line on this instance:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb288-1" title="1"><span class="fu">git</span> reset --hard HEAD~3  <span class="co"># reset current branch to 3 commits ago</span></a>
<a class="sourceLine" id="cb288-2" title="2"><span class="fu">git</span> push origin master --delete  <span class="co"># do a very very bad bad thing</span></a>
<a class="sourceLine" id="cb288-3" title="3"><span class="fu">git</span> push origin master  <span class="co"># regular push</span></a></code></pre></div>
<p>But beware…</p>
<h5>
Never ever go back on a public git history!
</h1>
<p>In other words:</p>
<ul>
<li>
Don’t ever <code>force</code> push on a public repository.
</li>
<li>
Don’t do this or anything that can break someone’s <code>pull</code>.
</li>
<li>
Don’t ever <code>reset</code> or <code>rewrite</code> history in a <em>repo</em> someone might have already pulled.
</li>
</ul>
<p>Of course there are exceptionally rare exceptions even to this rule, but in most cases it’s not needed to do it and it will generate problems to everyone else.</p>
<h5>
Do a revert instead.
</h1>
<p>And <strong>always be careful with what you push to a public repo</strong>. Reverting:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb289-1" title="1"><span class="fu">git</span> revert -n HEAD~3..HEAD  <span class="co"># prepare a new commit reverting last 3 commits</span></a>
<a class="sourceLine" id="cb289-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;sorry - revert last 3 commits because I was not careful&quot;</span></a>
<a class="sourceLine" id="cb289-3" title="3"><span class="fu">git</span> push origin master  <span class="co"># regular push</span></a></code></pre></div>
<p>In effect, <strong>both</strong> origin HEADs (from the <strong>revert</strong> and from the <strong>evil reset</strong>) will contain the same files.</p>
<hr>
<h5>
edit to add updated info and more arguments around <code>push --force</code>
</h3>
<h5>
Consider pushing force with lease instead of push, but still prefer revert
</h2>
<p>Another problem <code>push --force</code> may bring is when someone push anything before you do, but after you’ve already fetched. If you push force your <em>rebased</em> version now you will <strong>replace work from others</strong>.</p>
<p><code>git push --force-with-lease</code> introduced in the <a href="https://raw.github.com/git/git/master/Documentation/RelNotes/1.8.5.txt" rel="noreferrer">git 1.8.5</a> (<a href="https://stackoverflow.com/questions/3166713/git-how-to-ignore-fast-forward-and-revert-origin-branch-to-earlier-commit/18505634#18505634">thanks to <span class="citation" data-cites="VonC">@VonC</span></a> comment on the question) tries to address this specific issue. Basically, it will bring an error and not push if the remote was modified since your latest fetch.</p>
<p>This is good if you’re really sure a <code>push --force</code> is needed, but still want to prevent more problems. I’d go as far to say it should be the default <code>push --force</code> behaviour. But it’s still far from being an excuse to force a <code>push</code>. People who <em>fetched</em> before your <em>rebase</em> will still have lots of troubles, which could be easily avoided if you had <em>reverted</em> instead.</p>
<p>And since we’re talking about <code>git --push</code> instances…</p>
<h5>
Why would anyone want to force push?
</h2>
<p><a href="https://stackoverflow.com/users/1031218/linquize"><span class="citation" data-cites="linquize">@linquize</span></a> brought a good push force example on the comments: <strong>sensitive data</strong>. You’ve wrongly leaked data that shouldn’t be pushed. If you’re fast enough, you can <em>“fix”</em><code>*</code> it by forcing a push on top.</p>
<p><code>*</code> The <a href="http://git-scm.com/book/en/Git-Internals-Maintenance-and-Data-Recovery" rel="noreferrer">data will still be on the remote</a> unless you also do a <a href="https://stackoverflow.com/questions/3162786/how-to-do-git-gc-on-git-remote-repository">garbage collect</a>, or <a href="https://stackoverflow.com/a/8295172/274502">clean it somehow</a>. There is also the obvious potential for it to be spread by others who’d <em>fetched</em> it already, but you get the idea.</p>
</section>
<section id="answer-3-score-18" class="level4">
<h4>Answer 3 (score 18)</h4>
<p>First of all, I would not make any changes directly in the “main” repo. If you really want to have a “main” repo, then you should only push to it, never change it directly.</p>
<p>Regarding the error you are getting, have you tried <code>git pull</code> from your local repo, and then <code>git push</code> to the main repo? What you are currently doing (if I understood it well) is forcing the push and then losing your changes in the “main” repo. You should merge the changes locally first.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-clone-all-remote-branches-in-git-score-1148399-in-2017" class="level3">
<h3>42: How to clone all remote branches in Git? (score <a href="https://stackoverflow.com/q/67699.html">1148399</a> in 2017)</h3>
<section id="question-41" class="level4">
<h4>Question</h4>
<p>I have a <code>master</code> and a <code>development</code> branch, both pushed to <a href="http://en.wikipedia.org/wiki/GitHub" rel="noreferrer">GitHub</a>. I’ve <code>clone</code>d, <code>pull</code>ed, and <code>fetch</code>ed, but I remain unable to get anything other than the <code>master</code> branch back.</p>
<p>I’m sure I’m missing something obvious, but I have read the manual and I’m getting no joy at all.</p>
</section>
<section id="answer-accepted-score-4373" class="level4">
<h4>Answer accepted (score 4373)</h4>
<p>First, clone a remote <a href="http://en.wikipedia.org/wiki/Git_%28software%29" rel="noreferrer">Git</a> repository and <a href="http://en.wikipedia.org/wiki/Cd_%28command%29" rel="noreferrer">cd</a> into it:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb290-1" title="1">$ <span class="fu">git</span> clone git://example.com/myproject</a>
<a class="sourceLine" id="cb290-2" title="2">$ <span class="bu">cd</span> myproject</a></code></pre></div>
<p>Next, look at the local branches in your repository:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb291-1" title="1">$ <span class="fu">git</span> branch</a>
<a class="sourceLine" id="cb291-2" title="2"><span class="ex">*</span> master</a></code></pre></div>
<p>But there are other branches hiding in your repository! You can see these using the <code>-a</code> flag:</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb292-1" title="1">$ <span class="fu">git</span> branch -a</a>
<a class="sourceLine" id="cb292-2" title="2"><span class="ex">*</span> master</a>
<a class="sourceLine" id="cb292-3" title="3">  <span class="ex">remotes/origin/HEAD</span></a>
<a class="sourceLine" id="cb292-4" title="4">  <span class="ex">remotes/origin/master</span></a>
<a class="sourceLine" id="cb292-5" title="5">  <span class="ex">remotes/origin/v1.0-stable</span></a>
<a class="sourceLine" id="cb292-6" title="6">  <span class="ex">remotes/origin/experimental</span></a></code></pre></div>
<p>If you just want to take a quick peek at an upstream branch, you can check it out directly:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb293-1" title="1">$ <span class="fu">git</span> checkout origin/experimental</a></code></pre></div>
<p>But if you want to work on that branch, you’ll need to create a local tracking branch which is done automatically by:</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb294-1" title="1">$ <span class="fu">git</span> checkout experimental</a></code></pre></div>
<p>and you will see</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb295-1" title="1"><span class="ex">Branch</span> experimental set up to track remote branch experimental from origin.</a>
<a class="sourceLine" id="cb295-2" title="2"><span class="ex">Switched</span> to a new branch <span class="st">&#39;experimental&#39;</span></a></code></pre></div>
<p>
That last line throws some people: “New branch” - huh? What it really means is that the branch is taken from the index and created locally for you. The <em>previous</em> line is actually more informative as it tells you that the branch is being set up to track the remote branch, which usually means the origin/branch_name branch
</p>
<p>Now, if you look at your local branches, this is what you’ll see:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb296-1" title="1">$ <span class="fu">git</span> branch</a>
<a class="sourceLine" id="cb296-2" title="2"><span class="ex">*</span> experimental</a>
<a class="sourceLine" id="cb296-3" title="3">  <span class="ex">master</span></a></code></pre></div>
<p>You can actually track more than one remote repository using <code>git remote</code>.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb297-1" title="1">$ <span class="fu">git</span> remote add win32 git://example.com/users/joe/myproject-win32-port</a>
<a class="sourceLine" id="cb297-2" title="2">$ <span class="fu">git</span> branch -a</a>
<a class="sourceLine" id="cb297-3" title="3"><span class="ex">*</span> master</a>
<a class="sourceLine" id="cb297-4" title="4">  <span class="ex">remotes/origin/HEAD</span></a>
<a class="sourceLine" id="cb297-5" title="5">  <span class="ex">remotes/origin/master</span></a>
<a class="sourceLine" id="cb297-6" title="6">  <span class="ex">remotes/origin/v1.0-stable</span></a>
<a class="sourceLine" id="cb297-7" title="7">  <span class="ex">remotes/origin/experimental</span></a>
<a class="sourceLine" id="cb297-8" title="8">  <span class="ex">remotes/win32/master</span></a>
<a class="sourceLine" id="cb297-9" title="9">  <span class="ex">remotes/win32/new-widgets</span></a></code></pre></div>
<p>At this point, things are getting pretty crazy, so run <code>gitk</code> to see what’s going on:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb298-1" title="1">$ <span class="ex">gitk</span> --all <span class="kw">&amp;</span></a></code></pre></div>
</section>
<section id="answer-2-score-790" class="level4">
<h4>Answer 2 (score 790)</h4>
<p>If you have many remote branches that you want to fetch at once, do:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb299-1" title="1">$ <span class="fu">git</span> pull --all</a></code></pre></div>
<p>Now you can checkout any branch as you need to, without hitting the remote repository.</p>
</section>
<section id="answer-3-score-411" class="level4">
<h4>Answer 3 (score 411)</h4>
<p>This <a href="http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29">Bash</a> script helped me out:</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb300-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb300-2" title="2"><span class="kw">for</span> <span class="ex">branch</span> in <span class="va">$(</span><span class="fu">git</span> branch --all <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&#39;^\s*remotes&#39;</span> <span class="kw">|</span> <span class="fu">egrep</span> --invert-match <span class="st">&#39;(:?HEAD|master)$&#39;</span><span class="va">)</span><span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb300-3" title="3">    <span class="fu">git</span> branch --track <span class="st">&quot;</span><span class="va">${branch##</span>*/<span class="va">}</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">$branch</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb300-4" title="4"><span class="kw">done</span></a></code></pre></div>
<p>It will create tracking branches for all remote branches, except master (which you probably got from the original clone command). I think you might still need to do a</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb301-1" title="1"><span class="fu">git</span> fetch --all</a>
<a class="sourceLine" id="cb301-2" title="2"><span class="fu">git</span> pull --all</a></code></pre></div>
<p>to be sure.</p>
<blockquote>
<p><strong>One liner</strong>: <code>git branch -a | grep -v HEAD | perl -ne 'chomp($_); s|^\*?\s*||; if (m|(.+)/(.+)| &amp;amp;&amp;amp; not $d{$2}) {print qq(git branch --track $2 $1/$2\n)} else {$d{$_}=1}' | csh -xfs</code> As usual: test in your setup before copying rm -rf universe as we know it</p>
<em>Credits for one-liner go to user cfi</em>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-files-from-git-commit-score-1142383-in-2013" class="level3">
<h3>43: Remove files from Git commit (score <a href="https://stackoverflow.com/q/12481639.html">1142383</a> in 2013)</h3>
<section id="question-42" class="level4">
<h4>Question</h4>
<p>I am using Git and I have committed few files using</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb302-1" title="1"><span class="fu">git</span> commit -a</a></code></pre></div>
<p>Later, I found that a file had mistakenly been added to the commit.</p>
<p>How can I remove a file from the last commit?</p>
</section>
<section id="answer-accepted-score-2773" class="level4">
<h4>Answer accepted (score 2773)</h4>
<p>I think other answers here are wrong, because this is a question of moving the mistakenly committed files back to the staging area from the previous commit, without cancelling the changes done to them. This can be done like Paritosh Singh suggested:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb303-1" title="1"><span class="fu">git</span> reset --soft HEAD^ </a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb304-1" title="1"><span class="fu">git</span> reset --soft HEAD~1</a></code></pre></div>
<p>Then reset the unwanted files in order to leave them out from the commit:</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb305-1" title="1"><span class="fu">git</span> reset HEAD path/to/unwanted_file</a></code></pre></div>
<p>Now commit again, you can even re-use the same commit message:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb306-1" title="1"><span class="fu">git</span> commit -c ORIG_HEAD  </a></code></pre></div>
</section>
<section id="answer-2-score-293" class="level4">
<h4>Answer 2 (score 293)</h4>
<p><strong>ATTENTION</strong>! If you only want to remove a file from your previous commit, and <em>keep it on disk</em>, read <a href="https://stackoverflow.com/a/15321456/11343">juzzlin’s answer</a> just above.</p>
<p>If this is your last commit and you want to <strong>completely delete the file from your local and the remote repository</strong>, you can:</p>
<ol>
<li>
remove the file <code>git rm &amp;lt;file&amp;gt;</code>
</li>
<li>
commit with amend flag: <code>git commit --amend</code>
</li>
</ol>
<p>The amend flag tells git to commit again, but “merge” (not in the sense of merging two branches) this commit with the last commit.</p>
<p>As stated in the comments, using <code>git rm</code> here is like using the <code>rm</code> command itself!</p>
</section>
<section id="answer-3-score-144" class="level4">
<h4>Answer 3 (score 144)</h4>
<p>Existing answers are all talking about removing the unwanted files from the <strong><em>last</em></strong> commit.</p>
<p>If you want to remove unwanted files from an <strong><em>old</em></strong> commit (even pushed) and don’t want to create a new commit, which is unnecessary, because of the action:</p>
<ol type="1">
<li></li>
</ol>
<p>Find the commit that you want the file to conform to.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb307-1" title="1"><span class="fu">git</span> checkout <span class="op">&lt;</span>commit_id<span class="op">&gt;</span> <span class="op">&lt;</span>path_to_file<span class="op">&gt;</span></a></code></pre></div>
<p>you can do this multiple times if you want to remove many files.</p>
<ol start="2" type="1">
<li></li>
</ol>
<div class="sourceCode" id="cb308"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb308-1" title="1"><span class="fu">git</span> commit -am <span class="st">&quot;remove unwanted files&quot;</span></a></code></pre></div>
<ol start="3" type="1">
<li></li>
</ol>
<p>Find the commit_id of the commit <strong>on which the files were added mistakenly</strong>, let’s say “35c23c2” here</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb309-1" title="1"><span class="fu">git</span> rebase 35c23c2~1 -i  // notice: <span class="st">&quot;~1&quot;</span> is necessary</a></code></pre></div>
<p>This command opens the editor according to your settings. The default one is vim.</p>
<p>Move the last commit, which should be “remove unwanted files”, to the next line of the incorrect commit(“35c23c2” in our case), and set the command as <code>fixup</code>:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb310-1" title="1"><span class="ex">pick</span> 35c23c2 the first commit</a>
<a class="sourceLine" id="cb310-2" title="2"><span class="ex">fixup</span> 0d78b28 remove unwanted files</a></code></pre></div>
<p>You should be good after saving the file.</p>
<p>To finish :</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb311-1" title="1"><span class="fu">git</span> push -f</a></code></pre></div>
<p>If you unfortunately get conflicts, you have to solve them manually.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-provide-a-username-and-password-when-running-git-clone-gitremote.git-score-1128830-in-2019" class="level3">
<h3>44: How do I provide a username and password when running “git clone git@remote.git”? (score <a href="https://stackoverflow.com/q/10054318.html">1128830</a> in 2019)</h3>
<section id="question-43" class="level4">
<h4>Question</h4>
<p>I know how to provide a username and password to an HTTPS request like this:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb312-1" title="1"><span class="fu">git</span> clone https://username:password@remote</a></code></pre></div>
<p>But I’d like to know how to provide a username and password to the remote like this:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb313-1" title="1"><span class="fu">git</span> clone git@remote.git</a></code></pre></div>
<p>I’ve tried like this:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb314-1" title="1"><span class="fu">git</span> clone username:password@git@remote.git</a>
<a class="sourceLine" id="cb314-2" title="2"><span class="fu">git</span> clone git@username:password@remote.git</a>
<a class="sourceLine" id="cb314-3" title="3"><span class="fu">git</span> clone git@remote.git@username:password</a></code></pre></div>
<p>But they haven’t worked.</p>
</section>
<section id="answer-accepted-score-1115" class="level4">
<h4>Answer accepted (score 1115)</h4>
<p>Use:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb315-1" title="1"><span class="fu">git</span> clone https://username:password@github.com/username/repository.git</a></code></pre></div>
<p>This way worked for me from a GitHub repository.</p>
<p>Based on Michael Scharf’s comment:</p>
<p>You can leave out the password so that it won’t be logged in your Bash history file:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb316-1" title="1"><span class="fu">git</span> clone https://username@github.com/username/repository.git</a></code></pre></div>
<p>It will prompt you for your password.</p>
</section>
<section id="answer-2-score-193" class="level4">
<h4>Answer 2 (score 193)</h4>
<p>The <code>user@host:path/to/repo</code> format tells Git to use ssh to log in to <code>host</code> with username <code>user</code>. From <a href="http://schacon.github.com/git/git-clone.html" rel="noreferrer"><code>git help clone</code></a>:</p>
<blockquote>
<p>An alternative scp-like syntax may also be used with the ssh protocol:</p>
<code>[user@]host.xz:path/to/repo.git/</code>
</blockquote>
<p>The part before the <code>@</code> is the username, and the authentication method (password, public key, etc.) is determined by ssh, not Git. Git has no way to pass a password to ssh, because ssh might not even use a password depending on the configuration of the remote server.</p>
<h5>
Use <code>ssh-agent</code> to avoid typing passwords all the time
</h2>
<p>If you don’t want to type your ssh password all the time, the typical solution is to <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-keygen&amp;sektion=1" rel="noreferrer">generate a public/private key pair</a>, put the public key in your <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8" rel="noreferrer"><code>~/.ssh/authorized_keys</code> file</a> on the remote server, and load your private key into <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssh-agent&amp;sektion=1" rel="noreferrer"><code>ssh-agent</code></a>. Also see <a href="https://stackoverflow.com/q/1595848/712605">Configuring Git over SSH to login once</a>, <a href="http://help.github.com/ssh-key-passphrases/" rel="noreferrer">GitHub’s help page on ssh key passphrases</a>, <a href="http://sitaramc.github.com/gitolite/gl_ssh.html" rel="noreferrer">gitolite’s ssh documentation</a>, and <a href="https://devcenter.heroku.com/articles/keys" rel="noreferrer">Heroku’s ssh keys documentation</a>.</p>
<h5>
Choosing between multiple accounts at GitHub (or Heroku or…)
</h2>
<p>If you have multiple accounts at a place like GitHub or Heroku, you’ll have multiple ssh keys (at least one per account). To pick which account you want to log in as, you have to <a href="https://superuser.com/q/232373">tell ssh which private key to use</a>.</p>
<p>For example, suppose you had two GitHub accounts: <code>foo</code> and <code>bar</code>. Your ssh key for <code>foo</code> is <code>~/.ssh/foo_github_id</code> and your ssh key for <code>bar</code> is <code>~/.ssh/bar_github_id</code>. You want to access <code>git@github.com:foo/foo.git</code> with your <code>foo</code> account and <code>git@github.com:bar/bar.git</code> with your <code>bar</code> account. You would add the following to your <code>~/.ssh/config</code>:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb317-1" title="1"><span class="ex">Host</span> gh-foo</a>
<a class="sourceLine" id="cb317-2" title="2">    <span class="ex">Hostname</span> github.com</a>
<a class="sourceLine" id="cb317-3" title="3">    <span class="ex">User</span> git</a>
<a class="sourceLine" id="cb317-4" title="4">    <span class="ex">IdentityFile</span> ~/.ssh/foo_github_id</a>
<a class="sourceLine" id="cb317-5" title="5"><span class="ex">Host</span> gh-bar</a>
<a class="sourceLine" id="cb317-6" title="6">    <span class="ex">Hostname</span> github.com</a>
<a class="sourceLine" id="cb317-7" title="7">    <span class="ex">User</span> git</a>
<a class="sourceLine" id="cb317-8" title="8">    <span class="ex">IdentityFile</span> ~/.ssh/bar_github_id</a></code></pre></div>
<p>You would then clone the two repositories as follows:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb318-1" title="1"><span class="fu">git</span> clone gh-foo:foo/foo.git  <span class="co"># logs in with account foo</span></a>
<a class="sourceLine" id="cb318-2" title="2"><span class="fu">git</span> clone gh-bar:bar/bar.git  <span class="co"># logs in with account bar</span></a></code></pre></div>
<h5>
Avoiding ssh altogether
</h2>
<p>Some services provide HTTP access as an alternative to ssh:</p>
<ul>
<li>
<p>
GitHub:
</p>
<code>sh https://username:password@github.com/username/repository.git</code>
</li>
<li>
<p>
Gitorious:
</p>
<code>sh https://username:password@gitorious.org/project/repository.git</code>
</li>
<li>
<p>
Heroku: See <a href="https://devcenter.heroku.com/articles/http-git" rel="noreferrer">this support article</a>.
</p>
</li>
</ul>
<p><strong>WARNING</strong>: Adding your password to the clone URL will cause Git to store your plaintext password in <code>.git/config</code>. To securely store your password when using HTTP, use a credential helper. For example:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb319-1" title="1"><span class="fu">git</span> config --global credential.helper cache</a>
<a class="sourceLine" id="cb319-2" title="2"><span class="fu">git</span> config --global credential.https://github.com.username foo</a>
<a class="sourceLine" id="cb319-3" title="3"><span class="fu">git</span> clone https://github.com/foo/repository.git</a></code></pre></div>
<p>The above will cause Git to ask for your password once every 15 minutes (by default). See <a href="http://git-scm.com/docs/gitcredentials" rel="noreferrer"><code>git help credentials</code></a> for details.</p>
</section>
<section id="answer-3-score-28" class="level4">
<h4>Answer 3 (score 28)</h4>
<p>In the comments of <span class="citation" data-cites="Bassetassen">@Bassetassen</span>’s <a href="https://stackoverflow.com/a/10054470/1021259">answer</a>, <span class="citation" data-cites="plosco">@plosco</span> mentioned that you can use <code>git clone https://&amp;lt;token&amp;gt;@github.com/username/repository.git</code> to clone from GitHub at the very least. I thought I would expand on how to do that, in case anyone comes across this answer like I did while trying to automate some cloning.</p>
<p>GitHub has a <a href="https://help.github.com/articles/git-automation-with-oauth-tokens/" rel="noreferrer">very handy</a> guide on how to do this, but it doesn’t cover what to do if you want to include it all in one line for automation purposes. It warns that <strong>adding the token to the clone URL will store it in plaintext in</strong> <code>.git/config</code>. This is obviously a security risk for almost every use case, but since I plan on deleting the repo and revoking the token when I’m done, I don’t care.</p>
<h5>
<ol type="1">
<li>Create a Token
</h2></li>
</ol>
<p>GitHub has a <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/" rel="noreferrer">whole guide here</a> on how to get a token, but here’s the TL;DR.</p>
<ol>
<li>
Go to <em>Settings &gt; Developer Settings &gt; Personal Access Tokens</em> (<a href="https://github.com/settings/tokens" rel="noreferrer">here’s a direct link</a>)
</li>
<li>
Click “Generate a New Token” and enter your password again. (h<a href="https://github.com/settings/tokens/new" rel="noreferrer">ere’s another direct link</a>)
</li>
<li>
Set a description/name for it, check the “repo” permission and hit the “Generate token” button at the bottom of the page.
</li>
<li>
Copy your new token <strong>before you leave the page</strong>
</li>
</ol>
<h5>
<ol start="2" type="1">
<li>Clone the Repo
</h2></li>
</ol>
<p>Same as the command <span class="citation" data-cites="plosco">@plosco</span> gave, <code>git clone https://&amp;lt;token&amp;gt;@github.com/&amp;lt;username&amp;gt;/&amp;lt;repository&amp;gt;.git</code>, just replace <code>&amp;lt;token&amp;gt;</code>, <code>&amp;lt;username&amp;gt;</code> and <code>&amp;lt;repository&amp;gt;</code> with whatever your info is.</p>
<p>If you want to clone it to a specific folder, just insert the folder address at the end like so: <code>git clone https://&amp;lt;token&amp;gt;@github.com/&amp;lt;username&amp;gt;/&amp;lt;repository.git&amp;gt; &amp;lt;folder&amp;gt;</code>, where <code>&amp;lt;folder&amp;gt;</code> is, you guessed it, the folder to clone it to! You can of course use <code>.</code>, <code>..</code>, <code>~</code>, etc. here like you can elsewhere.</p>
<h5>
<ol start="3" type="1">
<li>Leave No Trace
</h2></li>
</ol>
<p>Not all of this may be necessary, depending on how sensitive what you’re doing is.</p>
<ul>
<li>
You probably don’t want to leave that token hanging around if you have no intentions of using it for some time, so go back to the <a href="https://github.com/settings/tokens" rel="noreferrer">tokens page</a> and hit the delete button next to it.
</li>
<li>
If you don’t need the repo again, delete it <code>rm -rf &amp;lt;folder&amp;gt;</code>.
</li>
<li>
If do need the repo again, but don’t need to automate it again, you can remove the remote by doing <code>git remote remove origin</code> or just remove the token by running <code>git remote set-url origin https://github.com/&amp;lt;username&amp;gt;/&amp;lt;repository.git&amp;gt;</code>.
</li>
<li>
Clear your bash history to make sure the token doesn’t stay logged there. There are many ways to do this, see <a href="https://askubuntu.com/q/903362/487048">this question</a> and <a href="https://stackoverflow.com/q/14750650/1021259">this question</a>. However, it may be easier to just prepend all the above commands with a space in order to prevent them being stored to begin with.
</li>
</ul>
<p>Note that I’m no pro, so the above may not be secure in the sense that no trace would be left for any sort of forensic work.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-remove-a-directory-from-git-repository-score-1101791-in-2016" class="level3">
<h3>45: How to remove a directory from git repository? (score <a href="https://stackoverflow.com/q/6313126.html">1101791</a> in 2016)</h3>
<section id="question-44" class="level4">
<h4>Question</h4>
<p>I have 2 directories on my GitHub repository. I’d like to delete one of them. How could I do that without deleting and re-creating entire repository?</p>
</section>
<section id="answer-accepted-score-2100" class="level4">
<h4>Answer accepted (score 2100)</h4>
<h5>
Remove directory from git and local
</h1>
<p>You could checkout ‘master’ with both directories;</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb320-1" title="1"><span class="fu">git</span> rm -r one-of-the-directories</a>
<a class="sourceLine" id="cb320-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;Remove duplicated directory&quot;</span></a>
<a class="sourceLine" id="cb320-3" title="3"><span class="fu">git</span> push origin <span class="op">&lt;</span>your-git-branch<span class="op">&gt;</span> (typically <span class="st">&#39;master&#39;</span>, but not always)</a></code></pre></div>
<h5>
Remove directory from git but NOT local
</h1>
<p>As mentioned in the comments, what you usually want to do is remove this directory from git but not delete it entirely from the filesystem (local)</p>
<p>In that case use:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb321-1" title="1"><span class="fu">git</span> rm -r --cached myFolder</a></code></pre></div>
</section>
<section id="answer-2-score-257" class="level4">
<h4>Answer 2 (score 257)</h4>
<h5>
To remove folder/directory only from git repository and not from the local try 3 simple commands.
</h3>
<hr>
<p><strong>Steps to remove directory</strong></p>
<div class="sourceCode" id="cb322"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb322-1" title="1"><span class="fu">git</span> rm -r --cached FolderName</a>
<a class="sourceLine" id="cb322-2" title="2"><span class="fu">git</span> commit -m <span class="st">&quot;Removed folder from repository&quot;</span></a>
<a class="sourceLine" id="cb322-3" title="3"><span class="fu">git</span> push origin master</a></code></pre></div>
<hr>
<p><strong>Steps to ignore that folder in next commits</strong></p>
<blockquote>
<p>
To ignore that folder from next commits make one file in root named <strong>.gitignore</strong> and put that folders name into it. You can put as many as you want
</p>
</blockquote>
<p><strong>.gitignore</strong> file will be look like this</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb323-1" title="1"><span class="ex">/FolderName</span></a></code></pre></div>
<hr>
<p><img src="https://i.stack.imgur.com/mJYfF.png" alt="remove directory"></p>
</section>
<section id="answer-3-score-71" class="level4">
<h4>Answer 3 (score 71)</h4>
<p>
If, for some reason, what karmakaze said doesn’t work, you could try deleting the directory you want using or with your file system browser (ex. In Windows File Explorer). After deleting the directory, issuing the command: <br> <code>git add -A</code> <br> and then <br> <code>git commit -m 'deleting directory'</code> <br> and then <br> <code>git push origin master</code>.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-make-git-forget-about-a-file-that-was-tracked-but-is-now-in-.gitignore-score-1080222-in-2017" class="level3">
<h3>46: How to make Git “forget” about a file that was tracked but is now in .gitignore? (score <a href="https://stackoverflow.com/q/1274057.html">1080222</a> in 2017)</h3>
<section id="question-45" class="level4">
<h4>Question</h4>
<p>There is a file that was being tracked by <code>git</code>, but now the file is on the <code>.gitignore</code> list.</p>
<p>However, that file keeps showing up in <code>git status</code> after it’s edited. How do you force <code>git</code> to completely forget about it?</p>
</section>
<section id="answer-accepted-score-5017" class="level4">
<h4>Answer accepted (score 5017)</h4>
<p><code>.gitignore</code> will prevent untracked files from being added (without an <code>add -f</code>) to the set of files tracked by git, however git will continue to track any files that are already being tracked.</p>
<p>To stop tracking a file you need to remove it from the index. This can be achieved with this command.</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb324-1" title="1"><span class="fu">git</span> rm --cached <span class="op">&lt;</span>file<span class="op">&gt;</span></a></code></pre></div>
<p>If you want to remove a whole folder, you need to remove all files in it recursively.</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb325-1" title="1"><span class="fu">git</span> rm -r --cached <span class="op">&lt;</span>folder<span class="op">&gt;</span></a></code></pre></div>
<p>The removal of the file from the head revision will happen on the next commit.</p>
<p><strong>WARNING: While this will not remove the physical file from your local, it will remove the files from other developers machines on next <code>git pull</code>.</strong></p>
</section>
<section id="answer-2-score-2450" class="level4">
<h4>Answer 2 (score 2450)</h4>
<p>The series of commands below will remove all of the items from the Git Index (not from the working directory or local repo), and then updates the Git Index, while respecting git ignores. <em>PS. Index = Cache</em></p>
<p><strong>First:</strong></p>
<div class="sourceCode" id="cb326"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb326-1" title="1"><span class="fu">git</span> rm -r --cached . </a>
<a class="sourceLine" id="cb326-2" title="2"><span class="fu">git</span> add .</a></code></pre></div>
<p><strong>Then:</strong></p>
<div class="sourceCode" id="cb327"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb327-1" title="1"><span class="fu">git</span> commit -am <span class="st">&quot;Remove ignored files&quot;</span></a></code></pre></div>
</section>
<section id="answer-3-score-994" class="level4">
<h4>Answer 3 (score 994)</h4>
<p><strong>git update-index</strong> does the job for me:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb328-1" title="1"><span class="fu">git</span> update-index --assume-unchanged <span class="op">&lt;</span>file<span class="op">&gt;</span></a></code></pre></div>
<p><strong>Note:</strong> This solution is actually independent on <code>.gitignore</code> as gitignore is only for untracked files.</p>
<p><strong>edit:</strong> Since this answer was posted, a new option has been created and that should be prefered. You should use <strong><code>--skip-worktree</code></strong> which is for modified tracked files that the user don’t want to commit anymore and keep <code>--assume-unchanged</code> for performance to prevent git to check status of big tracked files. See <a href="https://stackoverflow.com/a/13631525/717372">https://stackoverflow.com/a/13631525/717372</a> for more details…</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb329-1" title="1"><span class="fu">git</span> update-index --skip-worktree <span class="op">&lt;</span>file<span class="op">&gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="git-pull-a-certain-branch-from-github-score-1066120-in-2018" class="level3">
<h3>47: Git pull a certain branch from GitHub (score <a href="https://stackoverflow.com/q/1709177.html">1066120</a> in 2018)</h3>
<section id="question-46" class="level4">
<h4>Question</h4>
<p>I have a project with multiple branches. I’ve been pushing them to <a href="http://en.wikipedia.org/wiki/GitHub" rel="noreferrer">GitHub</a>, and now that someone else is working on the project I need to pull their branches from GitHub. It works fine in master. But say that someone created a branch <code>xyz</code>. How can I pull branch <code>xyz</code> from GitHub and merge it into branch <code>xyz</code> on my <code>localhost</code>?</p>
<p>
I actually have my answer here: <em><a href="https://stackoverflow.com/questions/1072261/push-and-pull-branches-in-git">Push and pull branches in Git</a></em>
</p>
<p>But I get an error “! [rejected]” and something about “non fast forward”.</p>
<p>Any suggestions?</p>
</section>
<section id="answer-accepted-score-664" class="level4">
<h4>Answer accepted (score 664)</h4>
<blockquote>
But I get an error “! [rejected]” and something about “non fast forward”
</blockquote>
<p>That’s because Git can’t merge the changes from the branches into your current master. Let’s say you’ve checked out branch <code>master</code>, and you want to merge in the remote branch <code>other-branch</code>. When you do this:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb330-1" title="1">$ <span class="fu">git</span> pull origin other-branch</a></code></pre></div>
<p>Git is basically doing this:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb331-1" title="1">$ <span class="fu">git</span> fetch origin other-branch <span class="kw">&amp;&amp;</span> <span class="fu">git</span> merge other-branch</a></code></pre></div>
<p>That is, a <code>pull</code> is just a <code>fetch</code> followed by a <code>merge</code>. However, when <code>pull</code>-ing, Git will <em>only</em> merge <code>other-branch</code> <em>if</em> it can perform a <em>fast-forward</em> merge. A <em>fast-forward</em> merge is a merge in which the head of the branch you are trying to merge into is a <em>direct descendent</em> of the head of the branch you want to merge. For example, if you have this history tree, then merging <code>other-branch</code> would result in a fast-forward merge:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb332-1" title="1"><span class="ex">O-O-O-O-O-O</span></a>
<a class="sourceLine" id="cb332-2" title="2">^         ^</a>
<a class="sourceLine" id="cb332-3" title="3"><span class="ex">master</span>    other-branch</a></code></pre></div>
<p>However, this would <em>not</em> be a fast-forward merge:</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb333-1" title="1">    <span class="ex">v</span> master</a>
<a class="sourceLine" id="cb333-2" title="2"><span class="ex">O-O-O</span></a>
<a class="sourceLine" id="cb333-3" title="3"><span class="kw">\</span></a>
<a class="sourceLine" id="cb333-4" title="4"> \<span class="ex">-O-O-O-O</span></a>
<a class="sourceLine" id="cb333-5" title="5">         ^ <span class="ex">other-branch</span></a></code></pre></div>
<p>To solve your problem, first <em>fetch</em> the remote branch:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb334-1" title="1">$ <span class="fu">git</span> fetch origin other-branch</a></code></pre></div>
<p>Then merge it into your current branch (I’ll assume that’s <code>master</code>), and fix any merge conflicts:</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb335-1" title="1">$ <span class="fu">git</span> merge origin/other-branch</a>
<a class="sourceLine" id="cb335-2" title="2"><span class="co"># Fix merge conflicts, if they occur</span></a>
<a class="sourceLine" id="cb335-3" title="3"><span class="co"># Add merge conflict fixes</span></a>
<a class="sourceLine" id="cb335-4" title="4">$ <span class="fu">git</span> commit    <span class="co"># And commit the merge!</span></a></code></pre></div>
</section>
<section id="answer-2-score-290" class="level4">
<h4>Answer 2 (score 290)</h4>
<p>Simply track your remote branches explicitly and a simple <code>git pull</code> will do just what you want:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb336-1" title="1"><span class="fu">git</span> branch -f remote_branch_name origin/remote_branch_name</a>
<a class="sourceLine" id="cb336-2" title="2"><span class="fu">git</span> checkout remote_branch_name</a></code></pre></div>
<p>The latter is a local operation.</p>
<p>Or even more fitting in with the <a href="https://help.github.com/articles/fork-a-repo" rel="noreferrer">GitHub documentation on forking</a>:</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb337-1" title="1"><span class="fu">git</span> branch -f new_local_branch_name upstream/remote_branch_name</a></code></pre></div>
</section>
<section id="answer-3-score-112" class="level4">
<h4>Answer 3 (score 112)</h4>
<p>You could pull a branch to a branch with the following commands.</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb338-1" title="1"><span class="fu">git</span> pull <span class="dt">{repo}</span> <span class="dt">{remotebranchname}</span>:<span class="dt">{localbranchname}</span></a>
<a class="sourceLine" id="cb338-2" title="2"></a>
<a class="sourceLine" id="cb338-3" title="3"><span class="fu">git</span> pull origin xyz:xyz</a></code></pre></div>
<p>When you are on the master branch you also could first checkout a branch like:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb339-1" title="1"><span class="fu">git</span> checkout -b xyz</a></code></pre></div>
<p>This creates a new branch, “xyz”, from the master and directly checks it out.</p>
<p>Then you do:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb340-1" title="1"><span class="fu">git</span> pull origin xyz</a></code></pre></div>
<p>This pulls the new branch to your local <code>xyz</code> branch.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-fully-delete-a-git-repository-created-with-init-score-1051497-in-2016" class="level3">
<h3>48: How to fully delete a git repository created with init? (score <a href="https://stackoverflow.com/q/1213430.html">1051497</a> in 2016)</h3>
<section id="question-47" class="level4">
<h4>Question</h4>
<p>I created a git repository with <code>git init</code>. I’d like to delete it entirely and init a new one.</p>
</section>
<section id="answer-accepted-score-1768" class="level4">
<h4>Answer accepted (score 1768)</h4>
<p>Git keeps all of its files in the <code>.git</code> directory. Just remove that one and init again.</p>
<p>If you can’t find it, it’s because it is hidden.</p>
<ul>
<li>
<p>
In Windows 7, you need to go to your folder, click on <kbd>Organize</kbd> on the top left, then click on <kbd>Folder and search options</kbd>, then click on the <kbd>View</kbd> tab and click on the <kbd>Show hidden files, folders and drives</kbd> radio button.
</p>
</li>
<li>
<p>
On a Mac OS:
</p>
<ul>
<li>
<p>
Open a Terminal (via Spotlight: press <kbd>CMD</kbd> + <kbd>SPACE</kbd>, type <code>terminal</code> and press <kbd>Enter</kbd>) and run:
</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb341-1" title="1"><span class="ex">defaults</span> write com.apple.finder AppleShowAllFiles 1 <span class="kw">&amp;&amp;</span> <span class="fu">killall</span> Finder</a></code></pre></div>
<p>
Note: The keyboard shortcut to show hidden files in Finder is <kbd>CMD</kbd> + <kbd>SHIFT</kbd> + <kbd>.</kbd> so it is no longer necessary to modify the finder config this way
</p>
</li>
<li>
<p>
You could also type <code>cd</code> (the space is important), drag and drop your git repo folder from Finder to the terminal window, press <kbd>return</kbd>, then type <code>rm -fr .git</code>, then <kbd>return</kbd> again.
</p>
</li>
</ul>
</li>
<li>
<p>
On Ubuntu, use shortcut <kbd>Ctrl + H</kbd>.
</p>
</li>
</ul>
</section>
<section id="answer-2-score-703" class="level4">
<h4>Answer 2 (score 703)</h4>
<p>If you really want to remove all of the repository, leaving only the working directory then it should be as simple as this.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb342-1" title="1"><span class="fu">rm</span> -rf .git</a></code></pre></div>
<p>The usual provisos about <code>rm -rf</code> apply. Make sure you have an up to date backup and are absolutely sure that you’re in the right place before running the command. etc., etc.</p>
</section>
<section id="answer-3-score-59" class="level4">
<h4>Answer 3 (score 59)</h4>
<p>If you want to delete all .git folders in a project use the following command:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb343-1" title="1"><span class="fu">find</span> . -type f <span class="kw">|</span> <span class="fu">grep</span> -i <span class="st">&quot;\.git&quot;</span> <span class="kw">|</span> <span class="fu">xargs</span> rm</a></code></pre></div>
<p>This will also delete all the .git folders and .gitignore files from all subfolders</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="git-merge-master-into-feature-branch-score-1045383-in-2019" class="level3">
<h3>49: Git merge master into feature branch (score <a href="https://stackoverflow.com/q/16955980.html">1045383</a> in 2019)</h3>
<section id="question-48" class="level4">
<h4>Question</h4>
<p>Lets say we have the following situation in git:</p>
<ol>
<li>
<p>
A created repository:
</p>
<code>sh mkdir GitTest2 cd GitTest2 git init</code>
</li>
<li>
<p>
Some modifications in the master take place and get committed.
</p>
<code>sh echo "On Master" &gt; file git commit -a -m "Initial commit"</code>
</li>
<li>
<p>
Feature1 branched off master and some work is done:
</p>
<code>sh git branch feature1 git checkout feature1 echo "Feature1" &gt; featureFile git commit -a -m "Commit for feature1"</code>
</li>
<li>
<p>
Meanwhile, a bug is discovered in the master-code and a hotfix-branch is established
</p>
<code>sh git checkout master git branch hotfix1 git checkout hotfix1</code>
</li>
<li>
<p>
The bug is fixed in the hotfix branch and merged back into the master (perhaps after a pull request/code review):
</p>
<code>sh echo "Bugfix" &gt; bugfixFile git commit -a -m "Bugfix Commit" git checkout master git merge --no-ff hotfix1</code>
</li>
<li>
<p>
Development on feature1 continues:
</p>
<code>sh git checkout feature1</code>
</li>
</ol>
<p>Now my question: Say I need the hotfix in my feature branch, maybe because the bug also occurs there. How can I achieve this without duplicating the commits into my feature branch? I want to prevent to get two new commits on my feature branch which have no relation to the feature implementation. This especially seems important for me if I use Pull Requests: All these commits will also be included in the Pull Request and have to be reviewed although this has already been done (as the hotfix is already in the master).</p>
<p>I can not do a <code>git merge master --ff-only</code>: “fatal: Not possible to fast-forward, aborting.”, but I am not sure if this helped me.</p>
</section>
<section id="answer-accepted-score-530" class="level4">
<h4>Answer accepted (score 530)</h4>
<p>You should be able to rebase your branch on master:</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb344-1" title="1"><span class="fu">git</span> checkout feature1</a>
<a class="sourceLine" id="cb344-2" title="2"><span class="fu">git</span> rebase master</a></code></pre></div>
<p>Manage all conflicts that arise. When you get to the commits with the bugfixes (already in master), git will say that there were no changes and that maybe they were already applied. You then continue the rebase (while skipping the commits already in master) with</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb345-1" title="1"><span class="fu">git</span> rebase --skip</a></code></pre></div>
<p>If you perform a <code>git log</code> on your feature branch, you’ll see the bugfix commit appear only once, and in the master portion.</p>
<p>For a more detailed discussion, take a look at the Git book docs on <code>git rebase</code> (<a href="https://git-scm.com/docs/git-rebase" rel="noreferrer">https://git-scm.com/docs/git-rebase</a>) which cover this exact use case.</p>
<p>================ Edit for additional context ====================</p>
<p>This answer was provided specifically for the question asked by <span class="citation" data-cites="theomega">@theomega</span>, taking his particular situation into account. Note this part:</p>
<blockquote>
I want to prevent […] commits on my feature branch which have no relation to the feature implementation.
</blockquote>
<p>Rebasing his private branch on master is exactly what will yield that result. In contrast, merging master into his branch would precisely do what he <strong><em>specifically does not want to happen</em></strong>: adding a commit that is not related to the feature implementation he is working on via his branch.</p>
<p>To address the users that read the question title, skip over the actual content and context of the question, and then only read the top answer blindly assuming it will always apply to their (different) use case, allow me to elaborate:</p>
<ul>
<li>
only rebase private branches (i.e. that only exist in your local repo and haven’t been shared with others). Rebasing shared branches would “break” the copies other people may have.
</li>
<li>
if you want to integrate changes from a branch (whether it’s master or another branch) into a branch that is public (e.g. you’ve pushed the branch to open a pull request, but there are now conflicts with master and you need to update your branch to resolve those conflicts) you’ll need to merge them in (e.g. with <code>git merge master</code> as in <span class="citation" data-cites="Sven">@Sven</span>’s answer).
</li>
<li>
you can also merge branches into your local private branches if that’s your preference, but be aware that it will result in “foreign” commits in your branch.
</li>
</ul>
<p>Finally, if you’re unhappy with the fact that this answer is not the best fit for your situation even though it was for <span class="citation" data-cites="theomega">@theomega</span>, adding a comment below won’t be particularly helpful: I don’t control which answer is selected, only <span class="citation" data-cites="theomega">@theomega</span> does.</p>
</section>
<section id="answer-2-score-1032" class="level4">
<h4>Answer 2 (score 1032)</h4>
<p>How to merge the master branch into the feature branch? Easy:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb346-1" title="1"><span class="fu">git</span> checkout feature1</a>
<a class="sourceLine" id="cb346-2" title="2"><span class="fu">git</span> merge master</a></code></pre></div>
<p>There is no point in forcing a fast forward merge here, as it cannot be done. You committed both into the feature branch and the master branch. Fast forward is impossible now.</p>
<p>Have a look at <a href="https://github.com/nvie/gitflow" rel="noreferrer">gitflow</a>. It is a branching model for git that can be followed, and you unconsciously already did. It also is an extension to git which adds some commands for the new workflow steps that do things automatically which you would otherwise need to do manually.</p>
<p>So what did you do right in your workflow? You have two branches to work with, your feature1 branch is basically the “develop” branch in the gitflow model.</p>
<p>You created a hotfix branch from master and merged it back. And now you are stuck.</p>
<p>The gitflow model asks you to merge the hotfix also to the devel branch, which is “feature1” in your case.</p>
<p>So the real answer would be:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb347-1" title="1"><span class="fu">git</span> checkout feature1</a>
<a class="sourceLine" id="cb347-2" title="2"><span class="fu">git</span> merge --no-ff hotfix1</a></code></pre></div>
<p>This adds all the changes that were made inside the hotfix to the feature branch, but ONLY those changes. They might conflict with other development changes in the branch, but they will not conflict with the master branch should you merge the feature branch back to master eventually.</p>
<p>Be very careful with rebasing. Only rebase if the changes you did stayed local to your repository, e.g. you did not push any branches to some other repository. Rebasing is a great tool for you to arrange your local commits into a useful order before pushing it out into the world, but rebasing afterwards will mess up things for the git beginners like you.</p>
</section>
<section id="answer-3-score-63" class="level4">
<h4>Answer 3 (score 63)</h4>
<p>Basing on <a href="http://goodcode.io/blog/git-merge-rebase/" rel="nofollow noreferrer">this article</a> you should:</p>
<ul>
<li>
<p>
create new branch which is based upon new version of master
</p>
<code>git branch -b newmaster</code>
</li>
<li>
<p>
merge your old feature branch into new one
</p>
<code>git checkout newmaster</code>
</li>
<li>
<p>
resolve conflict on new feature branch
</p>
</li>
</ul>
<p>The first two commands can be combined to <code>git checkout -b newmaster</code></p>
<p>
This way your history stays clear because you don’t need back merges. And you don’t need to be so super cautious since you don’t need git rebase
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-delete-a-remote-tag-score-1035939-in-2018" class="level3">
<h3>50: How to delete a remote tag? (score <a href="https://stackoverflow.com/q/5480258.html">1035939</a> in 2018)</h3>
<section id="question-49" class="level4">
<h4>Question</h4>
<p>How do you delete a Git tag that has already been pushed?</p>
</section>
<section id="answer-accepted-score-5046" class="level4">
<h4>Answer accepted (score 5046)</h4>
<p>You just need to push an ‘empty’ reference to the remote tag name:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb348-1" title="1"><span class="fu">git</span> push origin :tagname</a></code></pre></div>
<p>Or, more expressively, use the <code>--delete</code> option (or <code>-d</code> if your git version is older than 1.8.0):</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb349-1" title="1"><span class="fu">git</span> push --delete origin tagname</a></code></pre></div>
<p>Note that git has tag namespace and branch namespace so you may use the same name for a branch and for a tag. If you want to make sure that you cannot accidentally remove the branch instead of the tag, you can specify full ref which will never delete a branch:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb350-1" title="1"><span class="fu">git</span> push origin :refs/tags/tagname</a></code></pre></div>
<p>If you also need to delete the local tag, use:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb351-1" title="1"><span class="fu">git</span> tag --delete tagname</a></code></pre></div>
<hr>
<h5>
Background
</h3>
<p>Pushing a branch, tag, or other ref to a remote repository involves specifying “which repo, what source, what destination?”</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb352-1" title="1"><span class="fu">git</span> push remote-repo source-ref:destination-ref</a></code></pre></div>
<p>A real world example where you push your master branch to the origin’s master branch is:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb353-1" title="1"><span class="fu">git</span> push origin refs/heads/master:refs/heads/master</a></code></pre></div>
<p>Which because of default paths, can be shortened to:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb354-1" title="1"><span class="fu">git</span> push origin master:master</a></code></pre></div>
<p>Tags work the same way:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb355-1" title="1"><span class="fu">git</span> push origin refs/tags/release-1.0:refs/tags/release-1.0</a></code></pre></div>
<p>Which can also be shortened to:</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb356-1" title="1"><span class="fu">git</span> push origin release-1.0:release-1.0</a></code></pre></div>
<p>By omitting the source ref (the part before the colon), you push ‘nothing’ to the destination, deleting the ref on the remote end.</p>
</section>
<section id="answer-2-score-339" class="level4">
<h4>Answer 2 (score 339)</h4>
<p>A more straightforward way is</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb357-1" title="1"><span class="fu">git</span> push --delete origin YOUR_TAG_NAME</a></code></pre></div>
<p>IMO prefixing colon syntax is a little bit odd in this situation</p>
</section>
<section id="answer-3-score-195" class="level4">
<h4>Answer 3 (score 195)</h4>
<p>If you have a remote tag <code>v0.1.0</code> to delete, and your remote is <code>origin</code>, then simply:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb358-1" title="1"><span class="fu">git</span> push origin :refs/tags/v0.1.0</a></code></pre></div>
<p>If you also need to delete the tag locally:</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb359-1" title="1"><span class="fu">git</span> tag -d v0.1.0</a></code></pre></div>
<p>See <a href="https://stackoverflow.com/a/5480292/535871"><strong>Adam Franco</strong>’s answer</a> for an explanation of Git’s unusual <code>:</code> syntax for deletion.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="gitignore-and-the-following-untracked-working-tree-files-would-be-overwritten-by-checkout-score-1011972-in-2019" class="level3">
<h3>51: .gitignore and “The following untracked working tree files would be overwritten by checkout” (score <a href="https://stackoverflow.com/q/4858047.html">1011972</a> in 2019)</h3>
<section id="question-50" class="level4">
<h4>Question</h4>
<p>So I added a folder to my .gitignore file.</p>
<p>Once I do a <code>git status</code> it tells me</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb360-1" title="1"><span class="co"># On branch latest</span></a>
<a class="sourceLine" id="cb360-2" title="2"><span class="ex">nothing</span> to commit (working directory clean)</a></code></pre></div>
<p>However, when I try to change branches I get the following:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb361-1" title="1"><span class="ex">My-MacBook-Pro</span>:webapp marcamillion$ git checkout develop</a>
<a class="sourceLine" id="cb361-2" title="2"><span class="ex">error</span>: The following untracked working tree files would be overwritten by checkout:</a>
<a class="sourceLine" id="cb361-3" title="3">    <span class="ex">public/system/images/9/thumb/red-stripe.jpg</span></a>
<a class="sourceLine" id="cb361-4" title="4">    <span class="ex">public/system/images/9/original/red-stripe.jpg</span></a>
<a class="sourceLine" id="cb361-5" title="5">    <span class="ex">public/system/images/8/thumb/red-stripe-red.jpg</span></a>
<a class="sourceLine" id="cb361-6" title="6">    <span class="ex">public/system/images/8/original/red-stripe-red.jpg</span></a>
<a class="sourceLine" id="cb361-7" title="7">    <span class="ex">public/system/images/8/original/00-louis_c.k.-chewed_up-cover-2008.jpg</span></a>
<a class="sourceLine" id="cb361-8" title="8">    <span class="ex">public/system/images/7/thumb/red-stripe-dark.jpg</span></a>
<a class="sourceLine" id="cb361-9" title="9">    <span class="ex">public/system/images/7/original/red-stripe-dark.jpg</span></a>
<a class="sourceLine" id="cb361-10" title="10">    <span class="ex">public/system/images/7/original/DSC07833.JPG</span></a>
<a class="sourceLine" id="cb361-11" title="11">    <span class="ex">public/system/images/6/thumb/red-stripe-bw.jpg</span></a>
<a class="sourceLine" id="cb361-12" title="12">    <span class="ex">public/system/images/6/original/website-logo.png</span></a>
<a class="sourceLine" id="cb361-13" title="13">    <span class="ex">public/system/images/6/original/red-stripe-bw.jpg</span></a>
<a class="sourceLine" id="cb361-14" title="14">    <span class="ex">public/system/images/5/thumb/Guy_Waving_Jamaican_Flag.jpg</span></a>
<a class="sourceLine" id="cb361-15" title="15">    <span class="ex">public/system/images/5/original/logocompv-colored-squares-100px.png</span></a>
<a class="sourceLine" id="cb361-16" title="16">    <span class="ex">public/system/images/5/original/Guy_Waving_Jamaican_Flag.jpg</span></a>
<a class="sourceLine" id="cb361-17" title="17">    <span class="ex">public/system/images/4/thumb/DSC_0001.JPG</span></a>
<a class="sourceLine" id="cb361-18" title="18">    <span class="ex">public/system/images/4/original/logo.png</span></a>
<a class="sourceLine" id="cb361-19" title="19">    <span class="ex">public/system/images/4/original/DSC_0001.JPG</span></a>
<a class="sourceLine" id="cb361-20" title="20">    <span class="ex">public/system/images/4/original/2-up.jpg</span></a>
<a class="sourceLine" id="cb361-21" title="21">    <span class="ex">public/system/images/3/thumb/logo2.gif</span></a>
<a class="sourceLine" id="cb361-22" title="22">    <span class="ex">public/system/images/3/original/logo2.gif</span></a>
<a class="sourceLine" id="cb361-23" title="23">    <span class="ex">public/system/images/3/original/Guy_Waving_Jamaican_Flag.jpg</span></a>
<a class="sourceLine" id="cb361-24" title="24">    <span class="ex">public/system/images/3/original/11002000962.jpg</span></a>
<a class="sourceLine" id="cb361-25" title="25">    <span class="ex">public/system/images/2/thumb/Profile</span> Pic.jpg</a>
<a class="sourceLine" id="cb361-26" title="26">    <span class="ex">public/system/images/2/original/Profile</span> Pic.jpg</a>
<a class="sourceLine" id="cb361-27" title="27">    <span class="ex">public/system/images/2/original/02</span> Login Screen.jpg</a>
<a class="sourceLine" id="cb361-28" title="28">    <span class="ex">public/system/images/1/original/Argentina-2010-World-Cup.jpg</span></a>
<a class="sourceLine" id="cb361-29" title="29"><span class="ex">Please</span> move or remove them before you can switch branches.</a>
<a class="sourceLine" id="cb361-30" title="30"><span class="ex">Aborting</span></a></code></pre></div>
<p>This is what my .gitignore file looks like:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb362-1" title="1"><span class="ex">.bundle</span></a>
<a class="sourceLine" id="cb362-2" title="2"><span class="ex">.DS_Store</span></a>
<a class="sourceLine" id="cb362-3" title="3"><span class="ex">db/*.sqlite3</span></a>
<a class="sourceLine" id="cb362-4" title="4"><span class="ex">log/*.log</span></a>
<a class="sourceLine" id="cb362-5" title="5"><span class="ex">tmp/**/*</span></a>
<a class="sourceLine" id="cb362-6" title="6"><span class="ex">public/system/images/*</span></a>
<a class="sourceLine" id="cb362-7" title="7"><span class="ex">public/system/avatars/*</span></a></code></pre></div>
<p>How do I get this working so I can switch branches without deleting those files?</p>
<p>If I make a change, will it affect those files? In other words, if I came back to this branch afterwards would everything be perfect as up to my latest commit?</p>
<p>I don’t want to lose those files, I just don’t want them tracked.</p>
</section>
<section id="answer-accepted-score-254" class="level4">
<h4>Answer accepted (score 254)</h4>
<p>It seems like you want the files ignored but they have already been commited. .gitignore has no effect on files that are already in the repo so they need to be removed with <code>git rm --cached</code>. The <code>--cached</code> will prevent it from having any effect on your working copy and it will just mark as removed the next time you commit. After the files are removed from the repo then the .gitignore will prevent them from being added again.</p>
<p>But you have another problem with your .gitignore, you are excessively using wildcards and its causing it to match less than you expect it to. Instead lets change the .gitignore and try this.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb363-1" title="1"><span class="ex">.bundle</span></a>
<a class="sourceLine" id="cb363-2" title="2"><span class="ex">.DS_Store</span></a>
<a class="sourceLine" id="cb363-3" title="3"><span class="ex">db/*.sqlite3</span></a>
<a class="sourceLine" id="cb363-4" title="4"><span class="ex">log/*.log</span></a>
<a class="sourceLine" id="cb363-5" title="5"><span class="ex">tmp/</span></a>
<a class="sourceLine" id="cb363-6" title="6"><span class="ex">public/system/images/</span></a>
<a class="sourceLine" id="cb363-7" title="7"><span class="ex">public/system/avatars/</span></a></code></pre></div>
</section>
<section id="answer-2-score-986" class="level4">
<h4>Answer 2 (score 986)</h4>
<h5>
<strong>WARNING: it will delete untracked files, so it’s not a great answer to the question being posed.</strong>
</h1>
<p>I hit this message as well. In my case, I didn’t want to keep the files, so this worked for me:</p>
<h5>
git 2.11 and newer
</h3>
<div class="sourceCode" id="cb364"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb364-1" title="1"><span class="fu">git</span> clean  -d  -f .</a></code></pre></div>
<h5>
older git
</h3>
<div class="sourceCode" id="cb365"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb365-1" title="1"><span class="fu">git</span> clean  -d  -f <span class="st">&quot;&quot;</span></a></code></pre></div>
<p>If you also want to remove files ignored by git, then execute the following command.</p>
<h5>
BE WARNED!!! THIS MOST PROBABLY DESTROYS YOUR PROJECT, USE ONLY IF YOU KNOW 100% WHAT YOU ARE DOING
</h2>
<h5>
git 2.11 and newer
</h3>
<div class="sourceCode" id="cb366"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb366-1" title="1"><span class="fu">git</span> clean  -d  -fx .</a></code></pre></div>
<h5>
older git
</h3>
<div class="sourceCode" id="cb367"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb367-1" title="1"><span class="fu">git</span> clean  -d  -fx <span class="st">&quot;&quot;</span></a></code></pre></div>
<p><a href="http://www.kernel.org/pub/software/scm/git/docs/git-clean.html" rel="noreferrer">http://www.kernel.org/pub/software/scm/git/docs/git-clean.html</a></p>
<ul>
<li>
<p>
<code>-x</code> means ignored files are also removed as well as files unknown to git.
</p>
</li>
<li>
<p>
<code>-d</code> means remove untracked directories in addition to untracked files.
</p>
</li>
<li>
<p>
<code>-f</code> is required to force it to run.
</p>
</li>
</ul>
</section>
<section id="answer-3-score-559" class="level4">
<h4>Answer 3 (score 559)</h4>
<blockquote>
<strong>Warning: This will delete the local files that are not indexed</strong>
</blockquote>
<p>Just force it : <code>git checkout -f another-branch</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-create-a-.gitignore-file-score-990996-in-2019" class="level3">
<h3>52: How to create a .gitignore file (score <a href="https://stackoverflow.com/q/10744305.html">990996</a> in 2019)</h3>
<section id="question-51" class="level4">
<h4>Question</h4>
<p>I need to add some rules to my <code>.gitignore</code> file. However, I can’t find it in my project folder. Isn’t it created automatically by Xcode? If not, what command allows me to create one?</p>
</section>
<section id="answer-2-score-1587" class="level4">
<h4>Answer 2 (score 1587)</h4>
<p>If you’re using Windows it will not let you create a file without a filename in Windows Explorer. It will give you the error “<em>You must type a file name</em>” if you try to rename a text file as <strong>.gitignore</strong></p>
<p><img src="https://i.imgur.com/W0J6Ort.png" alt="enter image description here"></p>
<p>To get around this I used the following steps</p>
<ol>
<li>
Create the text file gitignore.txt
</li>
<li>
Open it in a text editor and add your rules, then save and close
</li>
<li>
Hold SHIFT, right click the folder you’re in, then select <strong>Open command window here</strong>
</li>
<li>
Then rename the file in the command line, with <code>ren gitignore.txt .gitignore</code>
</li>
</ol>
<p>Alternatively <a href="https://stackoverflow.com/users/1526257/henningcash"><span class="citation" data-cites="HenningCash">@HenningCash</span></a> suggests in the comments</p>
<blockquote>
<p>
You can get around this Windows Explorer error by appending a dot to the filename without extension: .gitignore. will be automatically changed to .gitignore
</p>
</blockquote>
</section>
<section id="answer-3-score-455" class="level4">
<h4>Answer 3 (score 455)</h4>
<p>As simple as things can (sometimes) be: Just add the following into your preferred command line interface (GNU Bash, Git Bash, etc.)</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb368-1" title="1"><span class="fu">touch</span> .gitignore</a></code></pre></div>
<p>As <span class="citation" data-cites="Wardy">@Wardy</span> pointed out in the comments, <code>touch</code> works on Windows as well as long as you provide the full path. This might also explain why it does not work for some users on <em>Windows</em>: The <code>touch</code> command seems to not be in the <code>$PATH</code> on some Windows versions per default.</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb369-1" title="1"><span class="ex">C</span>:<span class="dt">\&gt;</span> <span class="st">&quot;c:\program files (x86)\git\bin\touch.exe&quot;</span> .gitignore</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="why-are-there-two-ways-to-unstage-a-file-in-git-score-986301-in-2019" class="level3">
<h3>53: Why are there two ways to unstage a file in Git? (score <a href="https://stackoverflow.com/q/6919121.html">986301</a> in 2019)</h3>
<section id="question-52" class="level4">
<h4>Question</h4>
<p>Sometimes git suggests <code>git rm --cached</code> to unstage a file, sometimes <code>git reset HEAD file</code>. When should I use which?</p>
<p>EDIT:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb370-1" title="1"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git init</a>
<a class="sourceLine" id="cb370-2" title="2"><span class="ex">Initialized</span> empty Git repository in D:/code/gt2/.git/</a>
<a class="sourceLine" id="cb370-3" title="3"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>touch a</a>
<a class="sourceLine" id="cb370-4" title="4"></a>
<a class="sourceLine" id="cb370-5" title="5"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git status</a>
<a class="sourceLine" id="cb370-6" title="6"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb370-7" title="7"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-8" title="8"><span class="co"># Initial commit</span></a>
<a class="sourceLine" id="cb370-9" title="9"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-10" title="10"><span class="co"># Untracked files:</span></a>
<a class="sourceLine" id="cb370-11" title="11"><span class="co">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span></a>
<a class="sourceLine" id="cb370-12" title="12"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-13" title="13"><span class="co">#       a</span></a>
<a class="sourceLine" id="cb370-14" title="14"><span class="ex">nothing</span> added to commit but untracked files present (use <span class="st">&quot;git add&quot;</span> to track)</a>
<a class="sourceLine" id="cb370-15" title="15"></a>
<a class="sourceLine" id="cb370-16" title="16"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git add a</a>
<a class="sourceLine" id="cb370-17" title="17"></a>
<a class="sourceLine" id="cb370-18" title="18"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git status</a>
<a class="sourceLine" id="cb370-19" title="19"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb370-20" title="20"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-21" title="21"><span class="co"># Initial commit</span></a>
<a class="sourceLine" id="cb370-22" title="22"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-23" title="23"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb370-24" title="24"><span class="co">#   (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span></a>
<a class="sourceLine" id="cb370-25" title="25"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-26" title="26"><span class="co">#       new file:   a</span></a>
<a class="sourceLine" id="cb370-27" title="27"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-28" title="28"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git commit -m a</a>
<a class="sourceLine" id="cb370-29" title="29">[<span class="ex">master</span> (root-commit) <span class="ex">c271e05</span>] a</a>
<a class="sourceLine" id="cb370-30" title="30"> <span class="ex">0</span> files changed, 0 insertions(+), <span class="ex">0</span> deletions(-)</a>
<a class="sourceLine" id="cb370-31" title="31"> <span class="ex">create</span> mode 100644 a</a>
<a class="sourceLine" id="cb370-32" title="32"></a>
<a class="sourceLine" id="cb370-33" title="33"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>touch b</a>
<a class="sourceLine" id="cb370-34" title="34"></a>
<a class="sourceLine" id="cb370-35" title="35"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git status</a>
<a class="sourceLine" id="cb370-36" title="36"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb370-37" title="37"><span class="co"># Untracked files:</span></a>
<a class="sourceLine" id="cb370-38" title="38"><span class="co">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span></a>
<a class="sourceLine" id="cb370-39" title="39"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-40" title="40"><span class="co">#       b</span></a>
<a class="sourceLine" id="cb370-41" title="41"><span class="ex">nothing</span> added to commit but untracked files present (use <span class="st">&quot;git add&quot;</span> to track)</a>
<a class="sourceLine" id="cb370-42" title="42"></a>
<a class="sourceLine" id="cb370-43" title="43"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git add b</a>
<a class="sourceLine" id="cb370-44" title="44"></a>
<a class="sourceLine" id="cb370-45" title="45"><span class="ex">D</span>:\code\gt2<span class="op">&gt;</span>git status</a>
<a class="sourceLine" id="cb370-46" title="46"><span class="co"># On branch master</span></a>
<a class="sourceLine" id="cb370-47" title="47"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb370-48" title="48"><span class="co">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span></a>
<a class="sourceLine" id="cb370-49" title="49"><span class="co">#</span></a>
<a class="sourceLine" id="cb370-50" title="50"><span class="co">#       new file:   b</span></a>
<a class="sourceLine" id="cb370-51" title="51"><span class="co">#</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-1766" class="level4">
<h4>Answer accepted (score 1766)</h4>
<p><code>git rm --cached &amp;lt;filePath&amp;gt;</code> <strong>does not unstage</strong> a file, it actually <strong>stages the removal of the file(s)</strong> from the repo (assuming it was already committed before) but leaves the file in your working tree (leaving you with an untracked file).</p>
<p><code>git reset -- &amp;lt;filePath&amp;gt;</code> will <strong>unstage</strong> any staged changes for the given file(s).</p>
<p>That said, if you used <code>git rm --cached</code> on a new file that is staged, it would basically look like you had just unstaged it since it had never been committed before.</p>
</section>
<section id="answer-2-score-326" class="level4">
<h4>Answer 2 (score 326)</h4>
<p><code>git rm --cached</code> is used to remove a file from the index. In the case where the file is already in the repo, <code>git rm --cached</code> will remove the file from the index, leaving it in the working directory and a commit will now remove it from the repo as well. Basically, after the commit, you would have unversioned the file and kept a local copy.</p>
<p><code>git reset HEAD file</code> ( which by default is using the <code>--mixed</code> flag) is different in that in the case where the file is already in the repo, it replaces the index version of the file with the one from repo (HEAD), effectively unstaging the <strong>modifications</strong> to it.</p>
<p>In the case of unversioned file, it is going to unstage the entire file as the file was not there in the HEAD. In this aspect <code>git reset HEAD file</code> and <code>git rm --cached</code> are same, but they are not same ( as explained in the case of files already in the repo)</p>
<p>To the question of <code>Why are there 2 ways to unstage a file in git?</code> - there is never really only one way to do anything in git. that is the beauty of it :)</p>
</section>
<section id="answer-3-score-119" class="level4">
<h4>Answer 3 (score 119)</h4>
<p>Quite simply:</p>
<ul>
<li>
<code>git rm --cached &amp;lt;file&amp;gt;</code> <strong>makes git stop tracking the file completely</strong> (leaving it in the filesystem, unlike plain <code>git rm</code>*)
</li>
<li>
<code>git reset HEAD &amp;lt;file&amp;gt;</code> <strong>unstages any modifications made to the file since the last commit</strong> (but doesn’t revert them in the filesystem, contrary to what the command name might suggest**). The file remains under revision control.
</li>
</ul>
<p>If the file wasn’t in revision control before (i.e. you’re unstaging a file that you had just <code>git add</code>ed for the first time), then the two commands have the same effect, hence the appearance of these being “two ways of doing something”.</p>
<p><sub>* Keep in mind the caveat <span class="citation" data-cites="DrewT">@DrewT</span> mentions in his answer, regarding <code>git rm --cached</code> of a file that was <em>previously committed</em> to the repository. In the context of this question, of a file just added and not committed yet, there’s nothing to worry about.</sub></p>
<p><sub>** I was scared for an embarrassingly long time to use the git reset command because of its name – and still today I often look up the syntax to make sure I don’t screw up. (<strong>update</strong>: I finally took the time to <a href="https://github.com/tldr-pages/tldr/blob/master/pages/common/git-reset.md" rel="noreferrer">summarize the usage of <code>git reset</code> in a tldr page</a>, so now I have a better mental model of how it works, and a quick reference for when I forget some detail.)</sub></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-push-a-tag-to-a-remote-repository-using-git-score-983045-in-2018" class="level3">
<h3>54: How do you push a tag to a remote repository using Git? (score <a href="https://stackoverflow.com/q/5195859.html">983045</a> in 2018)</h3>
<section id="question-53" class="level4">
<h4>Question</h4>
<p>I have cloned a remote Git repository to my laptop, then I wanted to add a tag so I ran</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb371-1" title="1"><span class="fu">git</span> tag mytag master</a></code></pre></div>
<p>When I run <code>git tag</code> on my laptop the tag <code>mytag</code> is shown. I then want to push this to the remote repository so I have this tag on all my clients, so I run <code>git push</code> but I got the message:</p>
<blockquote>
Everything up-to-date
</blockquote>
<p>And if I go to my desktop and run <code>git pull</code> and then <code>git tag</code> no tags are shown.</p>
<p>I have also tried to do a minor change on a file in the project, then push it to the server. After that I could pull the change from the server to my Desktop computer, but there’s still no tag when running <code>git tag</code> on my desktop computer.</p>
<p>How can I push my tag to the remote repository so that all client computers can see it?</p>
</section>
<section id="answer-accepted-score-914" class="level4">
<h4>Answer accepted (score 914)</h4>
<p><strong><code>git push --follow-tags</code></strong></p>
<p>This is a sane option introduced in Git 1.8.3:</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb372-1" title="1"><span class="fu">git</span> push --follow-tags</a></code></pre></div>
<p>It pushes both commits and only tags that are both:</p>
<ul>
<li>
annotated
</li>
<li>
reachable (an ancestor) from the pushed commits
</li>
</ul>
<p>This is sane because:</p>
<ul>
<li>
you should only push annotated tags to the remote, and keep lightweight tags for local development to avoid tag clashes. See also: <a href="https://stackoverflow.com/questions/11514075">What is the difference between an annotated and unannotated tag?</a>
</li>
<li>
it won’t push annotated tags on unrelated branches
</li>
</ul>
<p>It is for those reasons that <code>--tags</code> should be avoided.</p>
<p>Git 2.4 <a href="https://github.com/git/git/commit/61ca378275e83c48343c74a849ff0dcdef9abc91" rel="noreferrer">has added</a> the <code>push.followTags</code> option to turn that flag on by default which you can set with:</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb373-1" title="1"><span class="fu">git</span> config --global push.followTags true</a></code></pre></div>
</section>
<section id="answer-2-score-3406" class="level4">
<h4>Answer 2 (score 3406)</h4>
<p>To push a <strong>single</strong> tag:</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb374-1" title="1"><span class="fu">git</span> push origin <span class="op">&lt;</span>tag_name<span class="op">&gt;</span></a></code></pre></div>
<p>And the following command should push <strong>all</strong> tags (<strong>not recommended</strong>):</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb375-1" title="1"><span class="fu">git</span> push --tags</a></code></pre></div>
</section>
<section id="answer-3-score-251" class="level4">
<h4>Answer 3 (score 251)</h4>
<p>
To push specific, one tag do following <code>git push origin tag_name</code>
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="getting-git-to-work-with-a-proxy-server-score-982415-in-2017" class="level3">
<h3>55: Getting git to work with a proxy server (score <a href="https://stackoverflow.com/q/783811.html">982415</a> in 2017)</h3>
<section id="question-54" class="level4">
<h4>Question</h4>
<p>How do I get git to use a proxy server?</p>
<p>I need to check out code from a git server, it shows “Request timed out” every time. How do I get around this?</p>
<p>Alternatively, how can I set a proxy server?</p>
</section>
<section id="answer-accepted-score-1575" class="level4">
<h4>Answer accepted (score 1575)</h4>
<p>Command to use:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb376-1" title="1"><span class="fu">git</span> config --global http.proxy http://proxyuser:proxypwd@proxy.server.com:8080</a></code></pre></div>
<ul>
<li>
change <code>proxyuser</code> to your proxy user
</li>
<li>
change <code>proxypwd</code> to your proxy password
</li>
<li>
change <code>proxy.server.com</code> to the URL of your proxy server
</li>
<li>
change <code>8080</code> to the proxy port configured on your proxy server
</li>
</ul>
<p>If you decide at any time to reset this proxy and work without proxy:</p>
<p>Command to use:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb377-1" title="1"><span class="fu">git</span> config --global --unset http.proxy</a></code></pre></div>
<p>Finally, to check the currently set proxy:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb378-1" title="1"><span class="fu">git</span> config --global --get http.proxy</a></code></pre></div>
</section>
<section id="answer-2-score-129" class="level4">
<h4>Answer 2 (score 129)</h4>
<p>This worked for me, in windows XP behind a corporate firewall.</p>
<p>I didnt have to install any local proxy or any other software besides git v1.771 from <a href="http://code.google.com/p/msysgit/downloads/list?can=3" rel="noreferrer">http://code.google.com/p/msysgit/downloads/list?can=3</a></p>
<div class="sourceCode" id="cb379"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb379-1" title="1">$ <span class="fu">git</span> config --global http.proxy http://proxyuser:proxypwd@proxy.server.com:8080</a>
<a class="sourceLine" id="cb379-2" title="2">$ <span class="fu">git</span> config --system http.sslcainfo /bin/curl-ca-bundle.crt</a>
<a class="sourceLine" id="cb379-3" title="3">$ <span class="fu">git</span> remote add origin https://mygithubuser:mygithubpwd@github.com/repoUser/repoName.git</a>
<a class="sourceLine" id="cb379-4" title="4">$ <span class="fu">git</span> push origin master</a></code></pre></div>
<p><strong>proxyuser</strong>= the proxy user I was assigned by our IT dept, in my case it is the same windows user I use to log in to my PC, the Active Directory user</p>
<p><strong>proxypwd</strong>= the password of my proxy user</p>
<p><strong>proxy.server.com:8080</strong> = the proxy name and port, I got it from Control Panel, Internet Options, Connections, Lan Settings button, Advanced button inside the Proxy Server section, use the servername and port on the first (http) row.</p>
<p><strong>mygithubuser</strong> = the user I use to log in to github.com</p>
<p><strong>mygithubpwd</strong> = the password for my github.com user</p>
<p><strong>repoUser</strong> = the user owner of the repo</p>
<p><strong>repoName</strong> = the name of the repo</p>
</section>
<section id="answer-3-score-51" class="level4">
<h4>Answer 3 (score 51)</h4>
<p>
Set a system variable named <code>http_proxy</code> with the value of <code>ProxyServer:Port</code>. That is the simplest solution. Respectively, use <code>https_proxy</code> as daefu pointed out in the comments.
</p>
<p>Setting gitproxy (as sleske mentions) is another option, but that requires a “command”, which is not as straightforward as the above solution.</p>
<p>
References: <a href="http://bardofschool.blogspot.com/2008/11/use-git-behind-proxy.html" rel="noreferrer">http://bardofschool.blogspot.com/2008/11/use-git-behind-proxy.html</a>
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-does-cherry-picking-a-commit-with-git-mean-score-962343-in-2019" class="level3">
<h3>56: What does cherry-picking a commit with Git mean? (score <a href="https://stackoverflow.com/q/9339429.html">962343</a> in 2019)</h3>
<section id="question-55" class="level4">
<h4>Question</h4>
<p>Recently, I have been asked to <code>cherry-pick</code> a commit.</p>
<p><strong><em>So what does cherry-picking a commit in git mean? How do you do it?</em></strong></p>
</section>
<section id="answer-accepted-score-2493" class="level4">
<h4>Answer accepted (score 2493)</h4>
<p>Cherry picking in Git means to choose a commit from one branch and apply it onto another.</p>
<p>This is in contrast with other ways such as <code>merge</code> and <code>rebase</code> which normally apply many commits onto another branch.</p>
<ol>
<li>
<p>
Make sure you are on the branch you want to apply the commit to.
</p>
<code>sh git checkout master</code>
</li>
<li>
<p>
Execute the following:
</p>
<code>sh git cherry-pick &lt;commit-hash&gt;</code>
</li>
</ol>
<p>N.B.:</p>
<ol>
<li>
<p>
If you cherry-pick from a public branch, you should consider using
</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb380-1" title="1"><span class="fu">git</span> cherry-pick -x <span class="op">&lt;</span>commit-hash<span class="op">&gt;</span></a></code></pre></div>
This will generate a standardized commit message. This way, you (and your co-workers) can still keep track of the origin of the commit and may avoid merge conflicts in the future.
</li>
<li>
<p>
If you have notes attached to the commit they do not follow the cherry-pick. To bring them over as well, You have to use:
</p>
<code>sh git notes copy &lt;from&gt; &lt;to&gt;</code>
</li>
</ol>
<p>Additional links:</p>
<ul>
<li>
<a href="http://git-scm.com/docs/git-cherry-pick" rel="noreferrer">git official guide page</a>
</li>
</ul>
</section>
<section id="answer-2-score-279" class="level4">
<h4>Answer 2 (score 279)</h4>
<p>
This quote is taken from; <a href="https://rads.stackoverflow.com/amzn/click/com/1449316387" rel="noreferrer" rel="nofollow noreferrer">Version Control with Git</a> (Really great book, I encourage you to buy it if you are interested in git)
</p>
<p>Edit: Since this answer is still getting impression, I would like to add very nice in action video tutorial about it:</p>
<p><a href="https://www.youtube.com/watch?v=-ndmel-4wsk" rel="noreferrer">Youtube: Introduction to Git cherry-pick</a></p>
<blockquote>
<p>
Using git cherry-pick The command git cherry-pick commit applies the changes introduced by the named commit on the current branch. It will introduce a new, distinct commit. <strong>Strictly speaking, using git cherry-pick doesn’t alter the existing history within a repository; instead, it adds to the history. As with other Git operations that introduce changes via the process of applying a diff, you may need to resolve conflicts to fully apply the changes from the given commit</strong> . The command git cherry-pick is typically used to introduce particular commits from one branch within a repository onto a different branch. A common use is to forward- or back-port commits from a maintenance branch to a development branch.
</p>
</blockquote>
<div class="sourceCode" id="cb381"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb381-1" title="1">$ <span class="fu">git</span> checkout rel_2.3</a>
<a class="sourceLine" id="cb381-2" title="2">$ <span class="fu">git</span> cherry-pick dev~2 <span class="co"># commit F, above</span></a></code></pre></div>
<p>
before: <img src="https://i.stack.imgur.com/R4nfN.png" alt="before">
</p>
<p>
after: <img src="https://i.stack.imgur.com/23fCh.png" alt="after">
</p>
</section>
<section id="answer-3-score-147-1" class="level4">
<h4>Answer 3 (score 147)</h4>
<p>Cherry picking in Git is designed to apply some commit from one branch into another branch. It can be done if you eg. made a mistake and committed a change into wrong branch, but do not want to merge the whole branch. You can just eg. revert the commit and cherry-pick it on another branch.</p>
<p>To use it, you just need <code>git cherry-pick hash</code>, where <code>hash</code> is a commit hash from other branch.</p>
<p>For full procedure see: <a href="http://technosophos.com/2009/12/04/git-cherry-picking-move-small-code-patches-across-branches.html">http://technosophos.com/2009/12/04/git-cherry-picking-move-small-code-patches-across-branches.html</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="create-a-branch-in-git-from-another-branch-score-946581-in-2017" class="level3">
<h3>57: Create a branch in Git from another branch (score <a href="https://stackoverflow.com/q/4470523.html">946581</a> in 2017)</h3>
<section id="question-56" class="level4">
<h4>Question</h4>
<p>I have two branches: <strong>master</strong> and <strong>dev</strong></p>
<p>I want to create a “feature branch” from the <strong>dev</strong> branch.</p>
<p>Currently on the branch dev, I do:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb382-1" title="1">$ <span class="fu">git</span> checkout -b myfeature dev</a></code></pre></div>
<p>… (some work)</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb383-1" title="1">$ <span class="fu">git</span> commit -am <span class="st">&quot;blablabla&quot;</span></a>
<a class="sourceLine" id="cb383-2" title="2">$ <span class="fu">git</span> push origin myfeature</a></code></pre></div>
<p>But, after visualizing my branches, I got:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb384-1" title="1"><span class="ex">--**master**</span></a>
<a class="sourceLine" id="cb384-2" title="2"><span class="ex">------0-----0-----0-----0-----0</span></a>
<a class="sourceLine" id="cb384-3" title="3"><span class="ex">------------------------**dev**----**myfeature**</span></a></code></pre></div>
<p>I mean that the branch seems ff merged, and I don’t understand why…</p>
<p>What I’m doing wrong?</p>
<p>Can you explain me please how you branch off from another branch and push back to the remote repository for the feature branch?</p>
<p>All that in a branching model like <a href="http://nvie.com/posts/a-successful-git-branching-model/" rel="noreferrer">the one described here</a>.</p>
</section>
<section id="answer-accepted-score-1193" class="level4">
<h4>Answer accepted (score 1193)</h4>
<p>If you like the method in the link you’ve posted, have a look at <a href="https://github.com/nvie/gitflow" rel="noreferrer">Git Flow</a>.</p>
<p>It’s a set of scripts he created for that workflow.</p>
<p>But to answer your question:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb385-1" title="1">$ <span class="fu">git</span> checkout -b myFeature dev</a></code></pre></div>
<p>Creates MyFeature branch off dev. Do your work and then</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb386-1" title="1">$ <span class="fu">git</span> commit -am <span class="st">&quot;Your message&quot;</span></a></code></pre></div>
<p>Now merge your changes to dev without a fast-forward</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb387-1" title="1">$ <span class="fu">git</span> checkout dev</a>
<a class="sourceLine" id="cb387-2" title="2">$ <span class="fu">git</span> merge --no-ff myFeature</a></code></pre></div>
<p>Now push changes to the server</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb388-1" title="1">$ <span class="fu">git</span> push origin dev</a>
<a class="sourceLine" id="cb388-2" title="2">$ <span class="fu">git</span> push origin myFeature</a></code></pre></div>
<p>And you’ll see it how you want it.</p>
</section>
<section id="answer-2-score-332" class="level4">
<h4>Answer 2 (score 332)</h4>
<p>If you want create a new branch from any of the existing branches in Git, just follow the options.</p>
<p>First change/checkout into the branch from where you want to create a new branch. For example, if you have the following branches like:</p>
<ul>
<li>
<strong>master</strong>
</li>
<li>
<strong>dev</strong>
</li>
<li>
<strong>branch1</strong>
</li>
</ul>
<p>So if you want to create a new branch called <strong><em>“subbranch_of_b1”</em></strong> under the branch named <strong><em>“branch1”</em></strong> follow the steps:</p>
<ol>
<li>
<p>
Checkout or change into <strong>“branch1”</strong>
</p>
<code>sh git checkout branch1</code>
</li>
<li>
<p>
Now create your new branch called <strong>“subbranch_of_b1”</strong> under the <strong>“branch1”</strong> using the following command.
</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb389-1" title="1"><span class="fu">git</span> checkout -b subbranch_of_b1 branch1</a></code></pre></div>
The above will create a new branch called <strong>subbranch_of_b1</strong> under the branch <strong>branch1</strong> (note that <code>branch1</code> in the above command isn’t mandatory since the HEAD is currently pointing to it, you can precise it if you are on a different branch though).
</li>
<li>
<p>
Now after working with the <strong>subbranch_of_b1</strong> you can commit and push or merge it locally or remotely.
</p>
</li>
</ol>
<p><a href="https://i.stack.imgur.com/6qEWk.jpg" rel="noreferrer"><img src="https://i.stack.imgur.com/6qEWk.jpg" alt="A sample Graphical Illustration Of Creating Branches Under another Branch"></a></p>
<p><em>push the subbranch_of_b1 to remote</em></p>
<div class="sourceCode" id="cb390"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb390-1" title="1"> <span class="fu">git</span> push origin subbranch_of_b1 </a></code></pre></div>
</section>
<section id="answer-3-score-35" class="level4">
<h4>Answer 3 (score 35)</h4>
<p><strong>Create a Branch</strong></p>
<ul>
<li>
<p>Create branch when master branch is checked out. Here commits in master will be synced to the branch you created.</p>
<code>$ git branch branch1</code>
</li>
<li>
<p>Create branch when branch1 is checked out . Here commits in branch1 will be synced to branch2</p>
<code>$ git branch branch2</code>
</li>
</ul>
<hr>
<p><strong>Checkout a Branch</strong></p>
<p>git checkout command switch branches or restore working tree files</p>
<ul>
<li>
<code>$ git checkout branchname</code>
</li>
</ul>
<hr>
<p><strong>Renaming a Branch</strong></p>
<ul>
<li>
<code>$ git branch -m branch1 newbranchname</code>
</li>
</ul>
<hr>
<p><strong>Delete a Branch</strong></p>
<ul>
<li>
<code>$ git branch -d branch-to-delete</code>
</li>
<li>
<code>$ git branch -D branch-to-delete</code> ( <em>force deletion without checking the merged status</em> )
</li>
</ul>
<hr>
<p><strong>Create and Switch Branch</strong></p>
<ul>
<li>
<code>$ git checkout -b branchname</code>
</li>
</ul>
<hr>
<p><strong>Branches that are completely included</strong></p>
<ul>
<li>
<code>$ git branch --merged</code>
</li>
</ul>
<hr>
<hr>
<p>************************** <strong>Branch Differences</strong> [ git diff branch1..branch2 ] ************************</p>
<p><strong>Multiline difference</strong></p>
<ul>
<li>
<code>$ git diff master..branch1</code>
</li>
</ul>
<p><strong>Singleline difference</strong></p>
<ul>
<li>
<code>$ git diff --color-words branch1..branch2</code>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="is-there-a-way-to-cache-github-credentials-for-pushing-commits-score-938473-in-2019" class="level3">
<h3>58: Is there a way to cache GitHub credentials for pushing commits? (score <a href="https://stackoverflow.com/q/5343068.html">938473</a> in 2019)</h3>
<section id="question-57" class="level4">
<h4>Question</h4>
<p>I recently switched to synchronizing my repositories to https:// on GitHub (due to firewall issues), and it asks for a password every time.</p>
<p>Is there a way to cache the credentials, instead of authenticating every time that <code>git push</code>?</p>
</section>
<section id="answer-accepted-score-2309" class="level4">
<h4>Answer accepted (score 2309)</h4>
<h5>
With Git version 1.7.9 and later
</h3>
<p>Since Git 1.7.9 (released in late January 2012), there is a neat mechanism in Git to avoid having to type your password all the time for HTTP / HTTPS, called <a href="http://www.kernel.org/pub/software/scm/git/docs/gitcredentials.html" rel="noreferrer">credential helpers</a>. (Thanks to <a href="https://stackoverflow.com/users/109707/dazonic">dazonic</a> for pointing out this new feature in the comments below.)</p>
<p>With Git 1.7.9 or later, you can just use one of the following credential helpers:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb391-1" title="1"><span class="fu">git</span> config --global credential.helper cache</a></code></pre></div>
<p>… which tells Git to keep your password cached in memory for (by default) 15 minutes. You can set a longer timeout with:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb392-1" title="1"><span class="fu">git</span> config --global credential.helper <span class="st">&quot;cache --timeout=3600&quot;</span></a></code></pre></div>
<p>(That example was suggested in the <a href="https://help.github.com/articles/caching-your-github-password-in-git/" rel="noreferrer">GitHub help page for Linux</a>.) You can also store your credentials permanently if so desired, see the other answers below.</p>
<p>GitHub’s help <a href="https://help.github.com/articles/set-up-git#platform-mac" rel="noreferrer">also suggests</a> that if you’re on Mac OS X and used <a href="https://en.wikipedia.org/wiki/Homebrew_%28package_management_software%29" rel="noreferrer">Homebrew</a> to install Git, you can use the native Mac OS X keystore with:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb393-1" title="1"><span class="fu">git</span> config --global credential.helper osxkeychain</a></code></pre></div>
<p>For Windows, there is a helper called <a href="https://github.com/Microsoft/Git-Credential-Manager-for-Windows" rel="noreferrer">Git Credential Manager for Windows</a> or <a href="https://stackoverflow.com/questions/11693074/git-credential-cache-is-not-a-git-command">wincred in msysgit</a>.</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb394-1" title="1"><span class="fu">git</span> config --global credential.helper wincred <span class="co"># obsolete</span></a></code></pre></div>
<p>With <a href="https://github.com/git-for-windows/git/releases/tag/v2.7.3.windows.1" rel="noreferrer">Git for Windows 2.7.3+</a> (March 2016):</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb395-1" title="1"><span class="fu">git</span> config --global credential.helper manager</a></code></pre></div>
<p>For Linux, you can <a href="https://stackoverflow.com/questions/13385690/how-to-use-git-with-gnome-keyring-integration">use <code>gnome-keyring</code></a>(or other keyring implementation such as KWallet).</p>
<h5>
With Git versions before 1.7.9
</h3>
<p>With versions of Git before 1.7.9, this more secure option is not available, and you’ll need to change the URL that your <code>origin</code> remote uses to include the password in this fashion:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb396-1" title="1"><span class="ex">https</span>://you:password@github.com/you/example.git</a></code></pre></div>
<p>… in other words with <code>:password</code> after the username and before the <code>@</code>.</p>
<p>You can set a new URL for your <code>origin</code> remote with:</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb397-1" title="1"><span class="fu">git</span> config remote.origin.url https://you:password@github.com/you/example.git</a></code></pre></div>
<p>Make sure that you use <code>https</code>, and you should be aware that if you do this, your GitHub password will be stored in plaintext in your <code>.git</code> directory, which is obviously undesirable.</p>
<h5>
With any Git version (well, since version 0.99)
</h3>
<p>An alternative approach is to put your username and password in your <code>~/.netrc</code> file, although, as with keeping the password in the remote URL, this means that your password will be stored on the disk in plain text and is thus less secure and not recommended. However, if you want to take this approach, add the following line to your <code>~/.netrc</code>:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb398-1" title="1"><span class="ex">machine</span> <span class="op">&lt;</span>hostname<span class="op">&gt;</span> login <span class="op">&lt;</span>username<span class="op">&gt;</span> password <span class="op">&lt;</span>password<span class="op">&gt;</span></a></code></pre></div>
<p>… replacing <code>&amp;lt;hostname&amp;gt;</code> with the server’s hostname, and <code>&amp;lt;username&amp;gt;</code> and <code>&amp;lt;password&amp;gt;</code> with your username and password. Also remember to set restrictive file system permissions on that file:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb399-1" title="1"><span class="fu">chmod</span> 600 ~/.netrc</a></code></pre></div>
<p>Note that on Windows, this file should be called <code>_netrc</code>, and you may need to define the %HOME% environment variable - for more details see:</p>
<ul>
<li>
<em><a href="https://stackoverflow.com/questions/6031214/git-how-to-use-netrc-file-on-windows-to-save-user-and-password">Git - How to use .netrc file on Windows to save user and password</a></em>
</li>
</ul>
</section>
<section id="answer-2-score-701" class="level4">
<h4>Answer 2 (score 701)</h4>
<p>You can also have Git store your credentials permanently using the following:</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb400-1" title="1"><span class="fu">git</span> config credential.helper store</a></code></pre></div>
<p>
Note: While this is convenient, Git will store your credentials in clear text in a local file (.git-credentials) under your project directory (see below for the “home” directory). If you don’t like this, delete this file and switch to using the cache option.
</p>
<p>
If you want Git to resume to asking you for credentials every time it needs to connect to the remote repository, you can run this command:
</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb401-1" title="1"><span class="fu">git</span> config --unset credential.helper</a></code></pre></div>
<p>To store the passwords in <code>.git-credentials</code> in your <code>%HOME%</code> directory as opposed to the project directory: use the <code>--global</code> flag</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb402-1" title="1"><span class="fu">git</span> config --global credential.helper store</a></code></pre></div>
</section>
<section id="answer-3-score-95" class="level4">
<h4>Answer 3 (score 95)</h4>
<h5>
TLDR; Use an <strong>encrypted netrc file with Git 1.8.3+</strong>.
</h3>
<p>Saving a password for a Git repository HTTPS URL is possible with a <code>~/.netrc</code> (Unix) or <code>%HOME%/_netrc</code> (note the <code>_</code>) on Windows.</p>
<p><strong>But</strong>: That file would store your password in plain text.</p>
<p><strong>Solution</strong>: Encrypt that file with <a href="http://www.gnupg.org/" rel="noreferrer">GPG (GNU Privacy Guard)</a>, and make Git decrypt it each time it needs a password (for <code>push</code>/<code>pull</code>/<code>fetch</code>/<code>clone</code> operation).</p>
<hr>
<p>Note: with Git 2.18 (Q2 2018), you now can customize the GPG used to decrypt the encrypted <code>.netrc</code> file.</p>
<p>
See <a href="https://github.com/git/git/commit/786ef50a23cbd0e93d1e41982cfaba76801ed885" rel="noreferrer">commit 786ef50</a>, <a href="https://github.com/git/git/commit/f07eeed123b8880b1723b1ea9d6d6f41cfb34532" rel="noreferrer">commit f07eeed</a> (12 May 2018) by <a href="https://github.com/" rel="noreferrer">Luis Marsano (`<code>)&lt;/a&gt;.&lt;br&gt; &lt;sup&gt;(Merged by &lt;a href="https://github.com/gitster" rel="noreferrer"&gt;Junio C Hamano --</code>gitster` –</a> in <a href="https://github.com/git/git/commit/017b7c52fc00897c72f6c4808ded43c4c5f9c5b8" rel="noreferrer">commit 017b7c5</a>, 30 May 2018)</sup>
</p>
<blockquote>
<h5>
<code>git-credential-netrc</code>: accept <code>gpg</code> option
</h2>
<p>
<code>git-credential-netrc</code> was hardcoded to decrypt with ‘<code>gpg</code>’ regardless of the gpg.program option.<br> This is a problem on distributions like Debian that call modern GnuPG something else, like ‘<code>gpg2</code>’
</p>
</blockquote>
<hr>
<h5>
Step-by-Step instructions for Windows
</h3>
<p>With Windows:</p>
<p>(Git has a <code>gpg.exe</code> in its distribution, but using a full GPG installation includes a <code>gpg-agent.exe</code>, which will memorize your passphrase associated to your GPG key.)</p>
<ul>
<li>
<p>
Install <strong><code>gpg4Win Lite</code></strong>, the minimum gnupg command-line interface (take the <a href="http://files.gpg4win.org/Beta/?C=M;O=D" rel="noreferrer">most recent <strong><code>gpg4win-vanilla-2.X.Y-betaZZ.exe</code></strong></a>), and complete your PATH with the GPG installation directory:
</p>
<code>sh set PATH=%PATH%:C:\path\to\gpg copy C:\path\to\gpg\gpg2.exe C:\path\to\gpg\gpg.exe</code>
</li>
</ul>
<p>(Note the ‘<code>copy</code>’ command: Git will need a Bash script to execute the command ‘<code>gpg</code>’. Since <code>gpg4win-vanilla-2</code> comes with <code>gpg2.exe</code>, you need to duplicate it.)</p>
<ul>
<li>
<p>
Create or import a GPG key, and trust it:
</p>
<code>sh gpgp --import aKey # or gpg --gen-key</code>
</li>
</ul>
<p>(Make sure to put a passphrase to that key.)</p>
<ul>
<li>
<p>
<a href="https://stackoverflow.com/a/9466332/6309">Trust that key</a>
</p>
</li>
<li>
<p>
Install the credential helper script in a directory within your <code>%PATH%</code>:
</p>
<code>sh cd c:\a\fodler\in\your\path curl -o c:\prgs\bin\git-credential-netrc https://raw.githubusercontent.com/git/git/master/contrib/credential/netrc/git-credential-netrc</code>
</li>
</ul>
<p>(Yes, this is a Bash script, but it will work on Windows since it will be called by Git.)</p>
<ul>
<li>
<p>
Make a _netrc file in clear text
</p>
<p>```sh machine a_server.corp.com login a_login password a_password protocol https</p>
machine a_server2.corp.com login a_login2 password a_password2 protocol https ```
</li>
</ul>
<p>(Don’t forget the ‘<code>protocol</code>’ part: ‘<code>http</code>’ or ‘<code>https</code>’ depending on the URL you will use.)</p>
<ul>
<li>
<p>
Encrypt that file:
</p>
<code>sh gpg -e -r a_recipient _netrc</code>
</li>
</ul>
<p>(You now can <em>delete</em> the <code>_netrc</code> file, keeping only the <code>_netrc.gpg</code> encrypted one.)</p>
<ul>
<li>
<p>
Use that encrypted file:
</p>
<code>sh git config --local credential.helper "netrc -f C:/path/to/_netrc.gpg -v"</code>
</li>
</ul>
<p>(Note the ‘<code>/</code>’: <code>C:\path\to...</code> wouldn’t work at all.) (You can use at first <code>-v -d</code> to see what is going on.)</p>
<p>
From now on, any Git command using an HTTP(S) URL which requires authentication will decrypt that <code>_netrc.gpg</code> file and use the login/password associated to the server you are contacting. The first time, GPG will ask you for the passphrase of your GPG key, to decrypt the file. The other times, the gpg-agent <strong>launched automatically</strong> by the first GPG call will provide that passphrase for you.
</p>
<p>
That way, you can memorize <strong>several</strong> URLs/logins/passwords in one file, and have it stored on your disk encrypted. <br/> I find it more convenient than a “cache” helper", where you need to remember and type (once per session) a different password for each of your remote services, for said password to be cached in memory.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="ignoring-directories-in-git-repos-on-windows-score-935943-in-2017" class="level3">
<h3>59: Ignoring directories in Git repos on Windows (score <a href="https://stackoverflow.com/q/343646.html">935943</a> in 2017)</h3>
<section id="question-58" class="level4">
<h4>Question</h4>
<p>How can I ignore directories or folders in Git using msysgit on Windows?</p>
</section>
<section id="answer-accepted-score-1444" class="level4">
<h4>Answer accepted (score 1444)</h4>
<p>Create a file named <code>.gitignore</code> in your project’s directory. Ignore directories by entering the directory name into the file (with a slash appended):</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb403-1" title="1"><span class="ex">dir_to_ignore/</span></a></code></pre></div>
<p>More info <a href="http://git-scm.com/docs/gitignore" rel="noreferrer">here</a>.</p>
</section>
<section id="answer-2-score-194" class="level4">
<h4>Answer 2 (score 194)</h4>
<p>By default windows explorer will display <code>.gitignore</code> when in-fact the file name is <code>.gitignore.txt</code></p>
<p>Git will not use <code>.gitignore.txt</code></p>
<p>And you can’t rename the file to <code>.gitignore</code> because explorer thinks its a file of type gitignore with no name.</p>
<p>Non command line solution:</p>
<pre>You can rename a file to <b>".gitignore."</b> and it will create <b>".gitignore"</b></pre>
</section>
<section id="answer-3-score-97" class="level4">
<h4>Answer 3 (score 97)</h4>
<p>It seems that for ignoring files and directories there are two main ways:</p>
<ol>
<li>
<p>
<strong>.gitignore</strong>
</p>
<ul>
<li>
Placing <code>.gitignore</code> file into the root of your repo besides <code>.git</code> folder (in Windows make sure you <a href="http://windows.microsoft.com/en-us/windows/show-hide-file-name-extensions#show-hide-file-name-extensions=windows-7" rel="noreferrer">see the true file extension</a> and then make <code>.gitignore.</code> (with the point at the end to make empty file extension) )
</li>
<li>
Making global configuration <code>~/.gitignore_global</code> and running <code>git config --global core.excludesfile ~/.gitignore_global</code> to add this to your git config
</li>
</ul>
note: files tracked before can be untracked by running <code>git rm --cached filename</code>
</li>
<li>
<p>
<strong>Repo exclude</strong> - For local files that do not need to be shared, you just add the file pattern or directory to the file <code>.git/info/exclude</code>. Theses rules are not commited, so <strong>are not seen by other users</strong> more info <a href="http://help.github.com/ignore-files/" rel="noreferrer">here</a>
</p>
</li>
</ol>
<p>
[updated] To make exceptions in list of ignored files, see <a href="https://stackoverflow.com/questions/2415873/exceptions-in-gitignore">this question</a>.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-specify-the-private-ssh-key-to-use-when-executing-shell-command-on-git-score-927267-in-2018" class="level3">
<h3>60: How to specify the private SSH-key to use when executing shell command on Git? (score <a href="https://stackoverflow.com/q/4565700.html">927267</a> in 2018)</h3>
<section id="question-59" class="level4">
<h4>Question</h4>
<p>A rather unusual situation perhaps, but I want to specify a private SSH-key to use when executing a shell (git) command from the local computer.</p>
<p>Basically like this:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb404-1" title="1"><span class="fu">git</span> clone git@github.com:TheUser/TheProject.git -key <span class="st">&quot;/home/christoffer/ssh_keys/theuser&quot;</span></a></code></pre></div>
<p>Or even better (in Ruby):</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb405-1" title="1"><span class="ex">with_key</span>(<span class="st">&quot;/home/christoffer/ssh_keys/theuser&quot;</span>) <span class="kw">do</span></a>
<a class="sourceLine" id="cb405-2" title="2">  <span class="fu">sh</span>(<span class="st">&quot;git clone git@github.com:TheUser/TheProject.git&quot;</span>)</a>
<a class="sourceLine" id="cb405-3" title="3"><span class="ex">end</span></a></code></pre></div>
<p>I have seen examples of connecting to a remote server with Net::SSH that uses a specified private key, but this is a local command. Is it possible?</p>
</section>
<section id="answer-accepted-score-690" class="level4">
<h4>Answer accepted (score 690)</h4>
<p>Something like this should work (suggested by orip):</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb406-1" title="1"><span class="fu">ssh-agent</span> bash -c <span class="st">&#39;ssh-add /somewhere/yourkey; git clone git@github.com:user/project.git&#39;</span></a></code></pre></div>
<p>if you prefer subshells, you could try the following (though it is more fragile):</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb407-1" title="1"><span class="fu">ssh-agent</span> <span class="va">$(</span><span class="fu">ssh-add</span> /somewhere/yourkey<span class="kw">;</span> <span class="fu">git</span> clone git@github.com:user/project.git<span class="va">)</span></a></code></pre></div>
<p>Git will invoke SSH which will find its agent by environment variable; this will, in turn, have the key loaded.</p>
<p>Alternatively, setting <code>HOME</code> may also do the trick, provided you are willing to setup a directory that contains only a <code>.ssh</code> directory as <code>HOME</code>; this may either contain an identity.pub, or a <a href="http://linux.die.net/man/5/ssh_config" rel="noreferrer">config file</a> setting IdentityFile.</p>
</section>
<section id="answer-2-score-1075" class="level4">
<h4>Answer 2 (score 1075)</h4>
<p>None of these solutions worked for me.</p>
<p>Instead, I elaborate on <span class="citation" data-cites="Martin">@Martin</span> v. Löwis ’s mention of setting a <code>config</code> file for SSH.</p>
<p>SSH will look for the user’s <code>~/.ssh/config</code> file. I have mine setup as:</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb408-1" title="1"><span class="ex">Host</span> gitserv</a>
<a class="sourceLine" id="cb408-2" title="2">    <span class="ex">Hostname</span> remote.server.com</a>
<a class="sourceLine" id="cb408-3" title="3">    <span class="ex">IdentityFile</span> ~/.ssh/id_rsa.github</a>
<a class="sourceLine" id="cb408-4" title="4">    <span class="ex">IdentitiesOnly</span> yes <span class="co"># see NOTES below</span></a></code></pre></div>
<p>And I add a remote git repository:</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb409-1" title="1"><span class="fu">git</span> remote add origin git@gitserv:myrepo.git</a></code></pre></div>
<p>And then git commands work normally for me.</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb410-1" title="1"><span class="fu">git</span> push -v origin master</a></code></pre></div>
<p><strong>NOTES</strong></p>
<ul>
<li>
The <code>IdentitiesOnly yes</code> is required to <a href="https://serverfault.com/questions/450796/how-could-i-stop-ssh-offering-a-wrong-key/450807#450807" title="foo">prevent the SSH default behavior</a> of sending the identity file matching the default filename for each protocol. If you have a file named <code>~/.ssh/id_rsa</code> that will get tried BEFORE your <code>~/.ssh/id_rsa.github</code> without this option.
</li>
</ul>
<p><strong>References</strong></p>
<ul>
<li>
<a href="https://stackoverflow.com/questions/2419566/best-way-to-use-multiple-ssh-private-keys-on-one-client">Best way to use multiple SSH private keys on one client</a>
</li>
<li>
<a href="https://serverfault.com/questions/450796/how-could-i-stop-ssh-offering-a-wrong-key/450807#450807" title="foo">How could I stop ssh offering a wrong key</a>
</li>
</ul>
</section>
<section id="answer-3-score-390" class="level4">
<h4>Answer 3 (score 390)</h4>
<p>Other people’s suggestions about <code>~/.ssh/config</code> are extra complicated. It can be as simple as:</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb411-1" title="1"><span class="ex">Host</span> github.com</a>
<a class="sourceLine" id="cb411-2" title="2">  <span class="ex">IdentityFile</span> ~/.ssh/github_rsa</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="easy-way-to-pull-latest-of-all-git-submodules-score-926733-in-2018" class="level3">
<h3>61: Easy way to pull latest of all git submodules (score <a href="https://stackoverflow.com/q/1030169.html">926733</a> in 2018)</h3>
<section id="question-60" class="level4">
<h4>Question</h4>
<p>We’re using git submodules to manage a couple of large projects that have dependencies on many other libraries we’ve developed. Each library is a separate repo brought into the dependent project as a submodule. During development, we often want to just go grab the latest version of every dependent submodule.</p>
<p>Does git have a built in command to do this? If not, how about a Windows batch file or similar that can do it?</p>
</section>
<section id="answer-accepted-score-2283" class="level4">
<h4>Answer accepted (score 2283)</h4>
<p>If it’s <strong>the first time</strong> you checkout a repo you need to use <code>--init</code> first:</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb412-1" title="1"><span class="fu">git</span> submodule update --init --recursive</a></code></pre></div>
<p>For <strong>git 1.8.2</strong> or above the option <code>--remote</code> was added to support updating to latest tips of remote branches:</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb413-1" title="1"><span class="fu">git</span> submodule update --recursive --remote</a></code></pre></div>
<p>This has the added benefit of respecting any “non default” branches specified in the <code>.gitmodules</code> or <code>.git/config</code> files (if you happen to have any, default is origin/master, in which case some of the other answers here would work as well).</p>
<p>For <strong>git 1.7.3</strong> or above you can use (but the below gotchas around what update does still apply):</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb414-1" title="1"><span class="fu">git</span> submodule update --recursive</a></code></pre></div>
<p>or:</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb415-1" title="1"><span class="fu">git</span> pull --recurse-submodules</a></code></pre></div>
<p>if you want to pull your submodules to latest commits intead of what the repo points to.</p>
<p>See <a href="https://www.kernel.org/pub/software/scm/git/docs/git-submodule.html" rel="noreferrer">git-submodule(1)</a> for details</p>
</section>
<section id="answer-2-score-614" class="level4">
<h4>Answer 2 (score 614)</h4>
<div class="sourceCode" id="cb416"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb416-1" title="1"><span class="fu">git</span> pull --recurse-submodules --jobs=10</a></code></pre></div>
<blockquote>
<strong>a feature git first learned in 1.8.5.</strong>
</blockquote>
<p>For the first time you do need to run</p>
<blockquote>
git submodule update –init –recursive
</blockquote>
</section>
<section id="answer-3-score-375" class="level4">
<h4>Answer 3 (score 375)</h4>
<h5>
On init running the following command:
</h2>
<div class="sourceCode" id="cb417"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb417-1" title="1"><span class="fu">git</span> submodule update --init --recursive</a></code></pre></div>
<p>from within the git repo directory, works best for me.</p>
<p>This will pull all latest including submodules.</p>
<h5>
Explained
</h2>
<div class="sourceCode" id="cb418"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb418-1" title="1"><span class="fu">git</span> - the base command to perform any git command</a>
<a class="sourceLine" id="cb418-2" title="2">    <span class="ex">submodule</span> - Inspects, updates and manages submodules.</a>
<a class="sourceLine" id="cb418-3" title="3">        <span class="ex">update</span> - Update the registered submodules to match what the superproject</a>
<a class="sourceLine" id="cb418-4" title="4">        <span class="ex">expects</span> by cloning missing submodules and updating the working tree of the</a>
<a class="sourceLine" id="cb418-5" title="5">        <span class="ex">submodules.</span> The <span class="st">&quot;updating&quot;</span> can be done in several ways depending on command</a>
<a class="sourceLine" id="cb418-6" title="6">        <span class="ex">line</span> options and the value of submodule.<span class="op">&lt;</span>name<span class="op">&gt;</span>.update configuration variable.</a>
<a class="sourceLine" id="cb418-7" title="7">            <span class="ex">--init</span> without the explicit init step if you do not intend to customize</a>
<a class="sourceLine" id="cb418-8" title="8">            <span class="ex">any</span> submodule locations.</a>
<a class="sourceLine" id="cb418-9" title="9">            <span class="ex">--recursive</span> is specified, this command will recurse into the registered</a>
<a class="sourceLine" id="cb418-10" title="10">            <span class="ex">submodules</span>, and update any nested submodules within.</a></code></pre></div>
<hr>
<h5>
After this you can just run:
</h2>
<div class="sourceCode" id="cb419"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb419-1" title="1"><span class="fu">git</span> submodule update --recursive</a></code></pre></div>
<p>from within the git repo directory, works best for me.</p>
<p>This will pull all latest including submodules.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="why-do-i-need-to-do---set-upstream-all-the-time-score-918075-in-2013" class="level3">
<h3>62: Why do I need to do <code>--set-upstream</code> all the time? (score <a href="https://stackoverflow.com/q/6089294.html">918075</a> in 2013)</h3>
<section id="question-61" class="level4">
<h4>Question</h4>
<p>I create a new branch in Git:</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb420-1" title="1"><span class="fu">git</span> branch my_branch</a></code></pre></div>
<p>Push it:</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb421-1" title="1"><span class="fu">git</span> push origin my_branch</a></code></pre></div>
<p>Now say someone made some changes on the server and I want to pull from <code>origin/my_branch</code>. I do:</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb422-1" title="1"><span class="fu">git</span> pull</a></code></pre></div>
<p>But I get:</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb423-1" title="1"><span class="ex">You</span> asked me to pull without telling me which branch you</a>
<a class="sourceLine" id="cb423-2" title="2"><span class="ex">want</span> to merge with, and <span class="st">&#39;branch.my_branch.merge&#39;</span> in</a>
<a class="sourceLine" id="cb423-3" title="3"><span class="ex">your</span> configuration file does not tell me, either. Please</a>
<a class="sourceLine" id="cb423-4" title="4"><span class="ex">specify</span> which branch you want to use on the command line and</a>
<a class="sourceLine" id="cb423-5" title="5"><span class="ex">try</span> again (e.g. <span class="st">&#39;git pull &lt;repository&gt; &lt;refspec&gt;&#39;</span>)<span class="ex">.</span></a>
<a class="sourceLine" id="cb423-6" title="6"><span class="ex">See</span> git-pull(1) <span class="kw">for</span> <span class="ex">details.</span></a>
<a class="sourceLine" id="cb423-7" title="7"></a>
<a class="sourceLine" id="cb423-8" title="8"><span class="ex">If</span> you often merge with the same branch, you may want to</a>
<a class="sourceLine" id="cb423-9" title="9"><span class="ex">use</span> something like the following in your configuration file:</a>
<a class="sourceLine" id="cb423-10" title="10"></a>
<a class="sourceLine" id="cb423-11" title="11">    [<span class="ex">branch</span> <span class="st">&quot;my_branch&quot;</span>]</a>
<a class="sourceLine" id="cb423-12" title="12">    <span class="ex">remote</span> = <span class="op">&lt;</span>nickname<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb423-13" title="13">    <span class="ex">merge</span> = <span class="op">&lt;</span>remote-ref<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb423-14" title="14"></a>
<a class="sourceLine" id="cb423-15" title="15">    [<span class="ex">remote</span> <span class="st">&quot;&lt;nickname&gt;&quot;</span>]</a>
<a class="sourceLine" id="cb423-16" title="16">    <span class="ex">url</span> = <span class="op">&lt;</span>url<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb423-17" title="17">    <span class="ex">fetch</span> = <span class="op">&lt;</span>refspec<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb423-18" title="18"></a>
<a class="sourceLine" id="cb423-19" title="19"><span class="ex">See</span> git-config(1) <span class="kw">for</span> <span class="ex">details.</span></a></code></pre></div>
<p>I learned that I can make it work with:</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb424-1" title="1"><span class="fu">git</span> branch --set-upstream my_branch origin/my_branch</a></code></pre></div>
<p>But why do I need to do this for every branch I create? Isn’t it obvious that if I push <code>my_branch</code> into <code>origin/my_branch</code>, then I would want to pull <code>origin/my_branch</code> into <code>my_branch</code>? How can I make this the default behavior?</p>
</section>
<section id="answer-accepted-score-1437" class="level4">
<h4>Answer accepted (score 1437)</h4>
<p>A shortcut, which doesn’t depend on remembering the syntax for <code>git branch --set-upstream</code> <sup>1</sup> is to do:</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb425-1" title="1"><span class="fu">git</span> push -u origin my_branch</a></code></pre></div>
<p>… the first time that you push that branch. Or, to push to the current branch to a branch of the same name (handy for an alias):</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb426-1" title="1"><span class="fu">git</span> push -u origin HEAD</a></code></pre></div>
<p>You only need to use <code>-u</code> once, and that sets up the association between your branch and the one at <code>origin</code> in the same way as <code>git branch --set-upstream</code> does.</p>
<p>Personally, I think it’s a good thing to have to set up that association between your branch and one on the remote explicitly. It’s just a shame that the rules are <a href="http://longair.net/blog/2011/02/27/an-asymmetry-between-git-pull-and-git-push/" rel="noreferrer">different for <code>git push</code> and <code>git pull</code></a>.</p>
<hr>
<p><sup>1</sup> It may sound silly, but I very frequently forget to specify the current branch, assuming that’s the default - it’s not, and the results are most confusing :)</p>
<p><em>Update 2012-10-11</em>: Apparently I’m not the only person who found it easy to get wrong! Thanks to <a href="https://stackoverflow.com/users/6309/vonc">VonC</a> for pointing out that git 1.8.0 introduces the more obvious <code>git branch --set-upstream-to</code>, which can be used as follows, if you’re on the branch <code>my_branch</code>:</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb427-1" title="1"><span class="fu">git</span> branch --set-upstream-to origin/my_branch</a></code></pre></div>
<p>… or with the short option:</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb428-1" title="1"><span class="fu">git</span> branch -u origin/my_branch</a></code></pre></div>
<p>This change, and its reasoning, is described in <a href="http://git.661346.n2.nabble.com/ANNOUNCE-Git-v1-8-0-rc1-tc7568792.html" rel="noreferrer">the release notes for git 1.8.0, release candidate 1</a>:</p>
<blockquote>
It was tempting to say <code>git branch --set-upstream origin/master</code>, but that tells Git to arrange the local branch <code>origin/master</code> to integrate with the currently checked out branch, which is highly unlikely what the user meant. The option is deprecated; use the new <code>--set-upstream-to</code> (with a short-and-sweet <code>-u</code>) option instead.
</blockquote>
</section>
<section id="answer-2-score-1217" class="level4">
<h4>Answer 2 (score 1217)</h4>
<p>You can make this happen with less typing. First, change the way your push works:</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb429-1" title="1"><span class="fu">git</span> config --global push.default current</a></code></pre></div>
<p>This will infer the <code>origin my_branch</code> part, thus you can do:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb430-1" title="1"><span class="fu">git</span> push -u</a></code></pre></div>
<p>Which will both create the remote branch with the same name and track it.</p>
</section>
<section id="answer-3-score-83" class="level4">
<h4>Answer 3 (score 83)</h4>
<p>You can simply</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb431-1" title="1"><span class="fu">git</span> checkout -b my-branch origin/whatever</a></code></pre></div>
<p>in the first place. If you set <code>branch.autosetupmerge</code> or <code>branch.autosetuprebase</code> (my favorite) to <code>always</code> (default is <code>true</code>), <code>my-branch</code> will automatically track <code>origin/whatever</code>.</p>
<p>See <code>git help config</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-and-restore-a-deleted-file-in-a-git-repository-score-914401-in-2016" class="level3">
<h3>63: Find and restore a deleted file in a Git repository (score <a href="https://stackoverflow.com/q/953481.html">914401</a> in 2016)</h3>
<section id="question-62" class="level4">
<h4>Question</h4>
<p>Say I’m in a Git repository. I delete a file and commit that change. I continue working and make some more commits. Then, I find I need to restore that file.</p>
<p>I know I can checkout a file using <code>git checkout HEAD^ foo.bar</code>, but I don’t really know when that file was deleted.</p>
<ol>
<li>
What would be the quickest way to find the commit that deleted a given filename?
</li>
<li>
What would be the easiest way to get that file back into my working copy?
</li>
</ol>
<p>I’m hoping I don’t have to manually browse my logs, checkout the entire project for a given SHA and then manually copy that file into my original project checkout.</p>
</section>
<section id="answer-accepted-score-3029" class="level4">
<h4>Answer accepted (score 3029)</h4>
<p>Find the last commit that affected the given path. As the file isn’t in the HEAD commit, this commit must have deleted it.</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb432-1" title="1"><span class="fu">git</span> rev-list -n 1 HEAD -- <span class="op">&lt;</span>file_path<span class="op">&gt;</span></a></code></pre></div>
<p>Then checkout the version at the commit before, using the caret (<code>^</code>) symbol:</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb433-1" title="1"><span class="fu">git</span> checkout <span class="op">&lt;</span>deleting_commit<span class="op">&gt;</span>^ -- <span class="op">&lt;</span>file_path<span class="op">&gt;</span></a></code></pre></div>
<p>Or in one command, if <code>$file</code> is the file in question.</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb434-1" title="1"><span class="fu">git</span> checkout <span class="va">$(</span><span class="fu">git</span> rev-list -n 1 HEAD -- <span class="st">&quot;</span><span class="va">$file</span><span class="st">&quot;</span><span class="va">)</span>^ -- <span class="st">&quot;</span><span class="va">$file</span><span class="st">&quot;</span></a></code></pre></div>
<hr>
<p>If you are using zsh and have the EXTENDED_GLOB option enabled, the caret symbol won’t work. You can use <code>~1</code> instead.</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb435-1" title="1"><span class="fu">git</span> checkout <span class="va">$(</span><span class="fu">git</span> rev-list -n 1 HEAD -- <span class="st">&quot;</span><span class="va">$file</span><span class="st">&quot;</span><span class="va">)</span>~1 -- <span class="st">&quot;</span><span class="va">$file</span><span class="st">&quot;</span></a></code></pre></div>
</section>
<section id="answer-2-score-827" class="level4">
<h4>Answer 2 (score 827)</h4>
<ol>
<li>
Use <code>git log --diff-filter=D --summary</code> to get all the commits which have deleted files and the files deleted;
</li>
<li>
Use <code>git checkout $commit~1 path/to/file.ext</code> to restore the deleted file.
</li>
</ol>
<p>Where <code>$commit</code> is the value of the commit you’ve found at step 1, e.g. <code>e4cf499627</code></p>
</section>
<section id="answer-3-score-311" class="level4">
<h4>Answer 3 (score 311)</h4>
<p>To restore all those deleted files in a folder enter the following command.</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb436-1" title="1"><span class="fu">git</span> ls-files -d <span class="kw">|</span> <span class="fu">xargs</span> git checkout --</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="git-fatal-could-not-read-from-remote-repository-score-907938-in-2014" class="level3">
<h3>64: git: fatal: Could not read from remote repository (score <a href="https://stackoverflow.com/q/13509293.html">907938</a> in 2014)</h3>
<section id="question-63" class="level4">
<h4>Question</h4>
<p>I am trying to set git up with <a href="http://danielmiessler.com/study/git/#website">http://danielmiessler.com/study/git/#website</a> to manage my site.</p>
<p>I have gotten to the last step in the instructions: git push website +master:refs/heads/master</p>
<p>I am working using the git ming32 command line in win7</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb437-1" title="1">$ <span class="fu">git</span> push website +master:refs/heads/master</a>
<a class="sourceLine" id="cb437-2" title="2"><span class="ex">Bill@***.com</span><span class="st">&#39;s password:</span></a>
<a class="sourceLine" id="cb437-3" title="3"><span class="st">Connection closed by 198.91.80.3</span></a>
<a class="sourceLine" id="cb437-4" title="4"><span class="st">fatal: Could not read from remote repository.</span></a>
<a class="sourceLine" id="cb437-5" title="5"></a>
<a class="sourceLine" id="cb437-6" title="6"><span class="st">Please make sure you have the correct access rights</span></a>
<a class="sourceLine" id="cb437-7" title="7"><span class="st">and the repository exists.</span></a></code></pre></div>
<p>One problem here may be that the program is looking for Bill@<strong><em>.com. when I connect via ssh to my site I have a different username( lets say ‘abc’). so maybe this should be abc@</em></strong>.com. If so I don’t know how to change this or if I can push under an alias</p>
</section>
<section id="answer-accepted-score-115" class="level4">
<h4>Answer accepted (score 115)</h4>
<p>You can specify the username that SSH should send to the remote system as part of your remote’s URL. Put the username, followed by an <code>@</code>, before the remote hostname.</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb438-1" title="1"><span class="fu">git</span> remote set-url website abc@***.com:path/to/repo</a></code></pre></div>
</section>
<section id="answer-2-score-127" class="level4">
<h4>Answer 2 (score 127)</h4>
<p>Your ssh key most likely had been removed from ssh agent</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb439-1" title="1"><span class="fu">ssh-add</span> ~/.ssh/id_rsa</a></code></pre></div>
<p>where id_rsa is a ssh key associated with git repo</p>
</section>
<section id="answer-3-score-111" class="level4">
<h4>Answer 3 (score 111)</h4>
<p>Make sure you have correct url in <code>.git/config</code></p>
<div class="sourceCode" id="cb440"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb440-1" title="1"><span class="ex">url</span> = git@github.com:username/repo.git</a></code></pre></div>
<p>If it’s your first push, you’ll need to set up correct upstream</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb441-1" title="1">$ <span class="fu">git</span> push -u origin master</a></code></pre></div>
<p>You can check which key is used by:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb442-1" title="1">$ <span class="fu">ssh</span> -vvv git@github.com</a></code></pre></div>
<p>The reply should contain something like this:</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb443-1" title="1"><span class="ex">debug1</span>: Next authentication method: publickey</a>
<a class="sourceLine" id="cb443-2" title="2"><span class="ex">debug1</span>: Offering RSA public key: ~/.ssh/id_rsa</a>
<a class="sourceLine" id="cb443-3" title="3"><span class="ex">...</span></a>
<a class="sourceLine" id="cb443-4" title="4"><span class="ex">You</span><span class="st">&#39;ve successfully authenticated, but GitHub does not provide shell access.</span></a></code></pre></div>
<p>Also it’s possible to define rules for ssh in <code>~/.ssh/config</code>, e.g. based on aliases:</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb444-1" title="1">   <span class="ex">Host</span> github</a>
<a class="sourceLine" id="cb444-2" title="2">      <span class="ex">HostName</span> github.com </a>
<a class="sourceLine" id="cb444-3" title="3">      <span class="ex">User</span> git</a>
<a class="sourceLine" id="cb444-4" title="4">      <span class="ex">IdentityFile</span> <span class="st">&quot;~/.ssh/id_rsa&quot;</span></a>
<a class="sourceLine" id="cb444-5" title="5"></a>
<a class="sourceLine" id="cb444-6" title="6">   <span class="ex">Host</span> git</a>
<a class="sourceLine" id="cb444-7" title="7">      <span class="ex">HostName</span> github.com </a>
<a class="sourceLine" id="cb444-8" title="8">      <span class="ex">User</span> git</a>
<a class="sourceLine" id="cb444-9" title="9">      <span class="ex">IdentityFile</span> <span class="st">&quot;~/.ssh/some_other_id&quot;</span></a></code></pre></div>
<p>You can set connect to different ports, use different username etc. for each alias.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="move-the-most-recent-commits-to-a-new-branch-with-git-score-904253-in-2017" class="level3">
<h3>65: Move the most recent commit(s) to a new branch with Git (score <a href="https://stackoverflow.com/q/1628563.html">904253</a> in 2017)</h3>
<section id="question-64" class="level4">
<h4>Question</h4>
<p>I’d like to move the last several commits I’ve committed to master to a new branch and take master back to before those commits were made. Unfortunately, my Git-fu is not strong enough yet, any help?</p>
<p>I.e. How can I go from this</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb445-1" title="1"><span class="ex">master</span> A - B - C - D - E</a></code></pre></div>
<p>to this?</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb446-1" title="1"><span class="ex">newbranch</span>     C - D - E</a>
<a class="sourceLine" id="cb446-2" title="2">             <span class="ex">/</span></a>
<a class="sourceLine" id="cb446-3" title="3"><span class="ex">master</span> A - B </a></code></pre></div>
</section>
<section id="answer-accepted-score-5815" class="level4">
<h4>Answer accepted (score 5815)</h4>
<h5>
Moving to an existing branch
</h2>
<p>If you want to move your commits to an <strong>existing branch</strong>, it will look like this:</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb447-1" title="1"><span class="fu">git</span> checkout existingbranch</a>
<a class="sourceLine" id="cb447-2" title="2"><span class="fu">git</span> merge master         <span class="co"># Bring the commits here</span></a>
<a class="sourceLine" id="cb447-3" title="3"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb447-4" title="4"><span class="fu">git</span> reset --keep HEAD~3  <span class="co"># Move master back by 3 commits.</span></a>
<a class="sourceLine" id="cb447-5" title="5"><span class="fu">git</span> checkout existingbranch</a></code></pre></div>
<p>The <code>--keep</code> option preserves any uncommitted changes that you might have in unrelated files, or aborts if those changes would have to be overwritten – similarly to what <code>git checkout</code> does. If it aborts, <code>git stash</code> your changes and retry, or use <code>--hard</code> to lose the changes (even from files that didn’t change between the commits!)</p>
<h5>
Moving to a new branch
</h2>
<p>This method works by creating a new branch with the first command (<code>git branch newbranch</code>) but not switching to it. Then we roll back the current branch (master) and switch to the new branch to continue working.</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb448-1" title="1"><span class="fu">git</span> branch newbranch      <span class="co"># Create a new branch, containing all current commits</span></a>
<a class="sourceLine" id="cb448-2" title="2"><span class="fu">git</span> reset --keep HEAD~3   <span class="co"># Move master back by 3 commits (Make sure you know how many commits you need to go back)</span></a>
<a class="sourceLine" id="cb448-3" title="3"><span class="fu">git</span> checkout newbranch    <span class="co"># Go to the new branch that still has the desired commits</span></a>
<a class="sourceLine" id="cb448-4" title="4"><span class="co"># Warning: after this it&#39;s not safe to do a rebase in newbranch without extra care.</span></a></code></pre></div>
<p>But do make sure how many commits to go back. Alternatively, instead of <code>HEAD~3</code>, you can simply provide the hash of the commit (or the reference like <code>origin/master</code>) you want to revert back to, e.g:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb449-1" title="1"><span class="fu">git</span> reset --keep a1b2c3d4</a></code></pre></div>
<p><strong>WARNING:</strong> With Git version 2.0 and later, if you later <code>git rebase</code> the new branch upon the original (<code>master</code>) branch, you may need an explicit <code>--no-fork-point</code> option during the rebase to avoid losing the commits you moved from the master branch. Having <code>branch.autosetuprebase always</code> set makes this more likely. See <a href="https://stackoverflow.com/a/36463546/1256452">John Mellor’s answer</a> for details.</p>
</section>
<section id="answer-2-score-963" class="level4">
<h4>Answer 2 (score 963)</h4>
<p>For those wondering why it works (as I was at first):</p>
<p>You want to go back to C, and move D and E to the new branch. Here’s what it looks like at first:</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb450-1" title="1"><span class="ex">A-B-C-D-E</span> (HEAD)</a>
<a class="sourceLine" id="cb450-2" title="2">        ↑</a>
<a class="sourceLine" id="cb450-3" title="3">      <span class="ex">master</span></a></code></pre></div>
<p>After <code>git branch newBranch</code>:</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb451-1" title="1">    <span class="ex">newBranch</span></a>
<a class="sourceLine" id="cb451-2" title="2">        ↓</a>
<a class="sourceLine" id="cb451-3" title="3"><span class="ex">A-B-C-D-E</span> (HEAD)</a>
<a class="sourceLine" id="cb451-4" title="4">        ↑</a>
<a class="sourceLine" id="cb451-5" title="5">      <span class="ex">master</span></a></code></pre></div>
<p>After <code>git reset --hard HEAD~2</code>:</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb452-1" title="1">    <span class="ex">newBranch</span></a>
<a class="sourceLine" id="cb452-2" title="2">        ↓</a>
<a class="sourceLine" id="cb452-3" title="3"><span class="ex">A-B-C-D-E</span> (HEAD)</a>
<a class="sourceLine" id="cb452-4" title="4">    ↑</a>
<a class="sourceLine" id="cb452-5" title="5">  <span class="ex">master</span></a></code></pre></div>
<p>Since a branch is just a pointer, <em>master</em> pointed to the last commit. When you made <em>newBranch</em>, you simply made a new pointer to the last commit. Then using <code>git reset</code> you moved the <em>master</em> pointer back two commits. But since you didn’t move <em>newBranch</em>, it still points to the commit it originally did.</p>
</section>
<section id="answer-3-score-421" class="level4">
<h4>Answer 3 (score 421)</h4>
<h5>
In General…
</h1>
<p>The method exposed by sykora is the best option in this case. But sometimes is not the easiest and it’s not a general method. For a general method use <em>git cherry-pick</em>:</p>
<p>To achieve what OP wants, its a 2-step process:</p>
<h5>
Step 1 - Note which commits from master you want on a <code>newbranch</code>
</h1>
<p>Execute</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb453-1" title="1"><span class="fu">git</span> checkout master</a>
<a class="sourceLine" id="cb453-2" title="2"><span class="fu">git</span> log</a></code></pre></div>
<p>
Note the hashes of (say 3) commits you want on <code>newbranch</code>. Here I shall use:<br> C commit: <code>9aa1233</code><br> D commit: <code>453ac3d</code><br> E commit: <code>612ecb3</code>
</p>
<blockquote>
<p>
<strong>Note:</strong> You can use the first seven characters or the whole commit hash
</p>
</blockquote>
<h5>
Step 2 - Put them on the <code>newbranch</code>
</h1>
<div class="sourceCode" id="cb454"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb454-1" title="1"><span class="fu">git</span> checkout newbranch</a>
<a class="sourceLine" id="cb454-2" title="2"><span class="fu">git</span> cherry-pick 612ecb3</a>
<a class="sourceLine" id="cb454-3" title="3"><span class="fu">git</span> cherry-pick 453ac3d</a>
<a class="sourceLine" id="cb454-4" title="4"><span class="fu">git</span> cherry-pick 9aa1233</a></code></pre></div>
<h5>
OR (on Git 1.7.2+, use ranges)
</h1>
<div class="sourceCode" id="cb455"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb455-1" title="1"><span class="fu">git</span> checkout newbranch</a>
<a class="sourceLine" id="cb455-2" title="2"><span class="fu">git</span> cherry-pick 612ecb3~1..9aa1233</a></code></pre></div>
<p><em>git cherry-pick</em> applies those three commits to newbranch.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="undoing-a-git-rebase-score-900162-in-2014" class="level3">
<h3>66: Undoing a git rebase (score <a href="https://stackoverflow.com/q/134882.html">900162</a> in 2014)</h3>
<section id="question-65" class="level4">
<h4>Question</h4>
<p>Does anybody know how to easily undo a git rebase?</p>
<p>The only way that comes to mind is to go at it manually:</p>
<ul>
<li>
git checkout the commit parent to both of the branches
</li>
<li>
then create a temp branch from there
</li>
<li>
cherry-pick all commits by hand
</li>
<li>
replace the branch in which I rebased by the manually-created branch
</li>
</ul>
<p>In my current situation this is gonna work because I can easily spot commits from both branches (one was my stuff, the other was my colleague’s stuff).</p>
<p>However my approach strikes me as suboptimal and error-prone (let’s say I had just rebased with 2 of my own branches).</p>
<p>Any ideas?</p>
<p>Clarification: I’m talking about a rebase during which a bunch of commits were replayed. Not only one.</p>
</section>
<section id="answer-accepted-score-3982" class="level4">
<h4>Answer accepted (score 3982)</h4>
<p>The easiest way would be to find the head commit of the branch as it was immediately before the rebase started in the <a href="https://git-scm.com/docs/git-reflog" rel="noreferrer">reflog</a>…</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb456-1" title="1"><span class="fu">git</span> reflog</a></code></pre></div>
<p>and to reset the current branch to it (with the usual caveats about being absolutely sure before reseting with the <code>--hard</code> option).</p>
<p>Suppose the old commit was <code>HEAD@{5}</code> in the ref log:</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb457-1" title="1"><span class="fu">git</span> reset --hard HEAD@<span class="dt">{5}</span></a></code></pre></div>
<p><em>In Windows, you may need to quote the reference:</em></p>
<div class="sourceCode" id="cb458"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb458-1" title="1"><span class="fu">git</span> reset --hard <span class="st">&quot;HEAD@{5}&quot;</span></a></code></pre></div>
<p>You can check the history of the candidate old head by just doing a <code>git log HEAD@{5}</code> (<em>Windows:</em> <code>git log "HEAD@{5}"</code>).</p>
<p>If you’ve not disabled per branch reflogs you should be able to simply do <code>git reflog branchname@{1}</code> as a rebase detaches the branch head before reattaching to the final head. I would double check this, though as I haven’t verified this recently.</p>
<p>Per default, all reflogs are activated for non-bare repositories:</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb459-1" title="1">[<span class="ex">core</span>]</a>
<a class="sourceLine" id="cb459-2" title="2">    <span class="ex">logAllRefUpdates</span> = true</a></code></pre></div>
</section>
<section id="answer-2-score-1402" class="level4">
<h4>Answer 2 (score 1402)</h4>
<p>Actually, rebase saves your starting point to <code>ORIG_HEAD</code> so this is usually as simple as:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb460-1" title="1"><span class="fu">git</span> reset --hard ORIG_HEAD</a></code></pre></div>
<p>However, the <code>reset</code>, <code>rebase</code> and <code>merge</code> all save your original <code>HEAD</code> pointer into <code>ORIG_HEAD</code> so, if you’ve done any of those commands since the rebase you’re trying to undo then you’ll have to use the reflog.</p>
</section>
<section id="answer-3-score-359" class="level4">
<h4>Answer 3 (score 359)</h4>
<p>Charles’s answer works, but you may want to do this:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb461-1" title="1"><span class="fu">git</span> rebase --abort</a></code></pre></div>
<p>to clean up after the <code>reset</code>.</p>
<p>Otherwise, you may get the message “<code>Interactive rebase already started</code>”.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-reconcile-detached-head-with-masterorigin-score-897094-in-2017" class="level3">
<h3>67: How can I reconcile detached HEAD with master/origin? (score <a href="https://stackoverflow.com/q/5772192.html">897094</a> in 2017)</h3>
<section id="question-66" class="level4">
<h4>Question</h4>
<p>I’m new at the branching complexities of Git. I always work on a single branch and commit changes and then periodically push to my remote origin.</p>
<p>Somewhere recently, I did a reset of some files to get them out of commit staging, and later did a <code>rebase -i</code> to get rid of a couple recent local commits. Now I’m in a state I don’t quite understand.</p>
<p>In my working area, <code>git log</code> shows exactly what I’d expect– I’m on the right train with the commits I didn’t want gone, and new ones there, etc.</p>
<p>But I just pushed to the remote repository, and what’s there is different– a couple of the commits I’d killed in the rebase got pushed, and the new ones committed locally aren’t there.</p>
<p>I think “master/origin” is detached from HEAD, but I’m not 100% clear on what that means, how to visualize it with the command line tools, and how to fix it.</p>
</section>
<section id="answer-accepted-score-2430" class="level4">
<h4>Answer accepted (score 2430)</h4>
<p>First, let’s clarify <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-References" rel="noreferrer"><strong>what HEAD is</strong></a> and what it means when it is detached.</p>
<p>HEAD is the symbolic name for the currently checked out commit. When HEAD is not detached (the “normal”<sup>1</sup> situation: you have a branch checked out), HEAD actually points to a branch’s “ref” and the branch points to the commit. HEAD is thus “attached” to a branch. When you make a new commit, the branch that HEAD points to is updated to point to the new commit. HEAD follows automatically since it just points to the branch.</p>
<ul>
<li>
<code>git symbolic-ref HEAD</code> yields <code>refs/heads/master</code><br> The branch named “master” is checked out.
</li>
<li>
<code>git rev-parse refs/heads/master</code> yield <code>17a02998078923f2d62811326d130de991d1a95a</code><br> That commit is the current tip or “head” of the master branch.
</li>
<li>
<code>git rev-parse HEAD</code> also yields <code>17a02998078923f2d62811326d130de991d1a95a</code><br> This is what it means to be a “symbolic ref”. It points to an object through some other reference.<br> (Symbolic refs were originally implemented as symbolic links, but later changed to plain files with extra interpretation so that they could be used on platforms that do not have symlinks.)
</li>
</ul>
<p>We have <code>HEAD</code> → <code>refs/heads/master</code> → <code>17a02998078923f2d62811326d130de991d1a95a</code></p>
<p>When HEAD is detached, it points directly to a commit—instead of indirectly pointing to one through a branch. You can think of a detached HEAD as being on an unnamed branch.</p>
<ul>
<li>
<code>git symbolic-ref HEAD</code> fails with <code>fatal: ref HEAD is not a symbolic ref</code>
</li>
<li>
<code>git rev-parse HEAD</code> yields <code>17a02998078923f2d62811326d130de991d1a95a</code><br> Since it is not a symbolic ref, it must point directly to the commit itself.
</li>
</ul>
<p>We have <code>HEAD</code> → <code>17a02998078923f2d62811326d130de991d1a95a</code></p>
<p>The important thing to remember with a detached HEAD is that if the commit it points to is otherwise unreferenced (no other ref can reach it), then it will become “dangling” when you checkout some other commit. Eventually, such dangling commits will be pruned through the garbage collection process (by default, they are kept for at least 2 weeks and may be kept longer by being referenced by HEAD’s reflog).</p>
<p>
<sup>1</sup> It is perfectly fine to do “normal” work with a detached HEAD, you just have to keep track of what you are doing to avoid having to fish dropped history out of the reflog.
</p>
<hr>
<p>The intermediate steps of an interactive rebase are done with a detached HEAD (partially to avoid polluting the active branch’s reflog). If you finish the full rebase operation, it will update your original branch with the cumulative result of the rebase operation and reattach HEAD to the original branch. My guess is that you never fully completed the rebase process; this will leave you with a detached HEAD pointing to the commit that was most recently processed by the rebase operation.</p>
<p>To recover from your situation, you should create a branch that points to the commit currently pointed to by your detached HEAD:</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb462-1" title="1"><span class="fu">git</span> branch temp</a>
<a class="sourceLine" id="cb462-2" title="2"><span class="fu">git</span> checkout temp</a></code></pre></div>
<p><sub>(these two commands can be abbreviated as <code>git checkout -b temp</code>)</sub></p>
<p>This will reattach your HEAD to the new <code>temp</code> branch.</p>
<p>Next, you should compare the current commit (and its history) with the normal branch on which you expected to be working:</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb463-1" title="1"><span class="fu">git</span> log --graph --decorate --pretty=oneline --abbrev-commit master origin/master temp</a>
<a class="sourceLine" id="cb463-2" title="2"><span class="fu">git</span> diff master temp</a>
<a class="sourceLine" id="cb463-3" title="3"><span class="fu">git</span> diff origin/master temp</a></code></pre></div>
<p>(You will probably want to experiment with the log options: add <code>-p</code>, leave off <code>--pretty=…</code> to see the whole log message, etc.)</p>
<p>If your new <code>temp</code> branch looks good, you may want to update (e.g.) <code>master</code> to point to it:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb464-1" title="1"><span class="fu">git</span> branch -f master temp</a>
<a class="sourceLine" id="cb464-2" title="2"><span class="fu">git</span> checkout master</a></code></pre></div>
<p><sub>(these two commands can be abbreviated as <code>git checkout -B master temp</code>)</sub></p>
<p>You can then delete the temporary branch:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb465-1" title="1"><span class="fu">git</span> branch -d temp</a></code></pre></div>
<p>Finally, you will probably want to push the reestablished history:</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb466-1" title="1"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>You may need to add <code>--force</code> to the end of this command to push if the remote branch can not be “fast-forwarded” to the new commit (i.e. you dropped, or rewrote some existing commit, or otherwise rewrote some bit of history).</p>
<p>If you were in the middle of a rebase operation you should probably clean it up. You can check whether a rebase was in process by looking for the directory <code>.git/rebase-merge/</code>. You can manually clean up the in-progress rebase by just deleting that directory (e.g. if you no longer remember the purpose and context of the active rebase operation). Usually you would use <code>git rebase --abort</code>, but that does some extra resetting that you probably want to avoid (it moves HEAD back to the original branch and resets it back to the original commit, which will undo some of the work we did above).</p>
</section>
<section id="answer-2-score-611" class="level4">
<h4>Answer 2 (score 611)</h4>
<p>Just do this:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb467-1" title="1"><span class="fu">git</span> checkout master</a></code></pre></div>
<p>Or, if you have changes that you want to keep, do this:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb468-1" title="1"><span class="fu">git</span> checkout -b temp</a>
<a class="sourceLine" id="cb468-2" title="2"><span class="fu">git</span> checkout -B master temp</a></code></pre></div>
</section>
<section id="answer-3-score-120" class="level4">
<h4>Answer 3 (score 120)</h4>
<p>I ran into this issue and when I read in the top voted answer:</p>
<blockquote>
HEAD is the symbolic name for the currently checked out commit.
</blockquote>
<p>I thought: Ah-ha! If <code>HEAD</code> is the symbolic name for the currenlty checkout commit, I can reconcile it against <code>master</code> by rebasing it against <code>master</code>:</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb469-1" title="1"><span class="fu">git</span> rebase HEAD master</a></code></pre></div>
<p>This command:</p>
<ol>
<li>
checks out <code>master</code>
</li>
<li>
identifies the parent commits of <code>HEAD</code> back to the point <code>HEAD</code> diverged from <code>master</code>
</li>
<li>
plays those commits on top of <code>master</code>
</li>
</ol>
<p>The end result is that all commits that were in <code>HEAD</code> but not <code>master</code> are then also in <code>master</code>. <code>master</code> remains checked out.</p>
<hr>
<p>Regarding the remote:</p>
<blockquote>
a couple of the commits I’d killed in the rebase got pushed, and the new ones committed locally aren’t there.
</blockquote>
<p>The remote history can no longer be fast-forwarded using your local history. You’ll need to force-push (<code>git push -f</code>) to overwrite the remote history. If you have any collaborators, it usually makes sense to coordinate this with them so everyone is on the same page.</p>
<p>After you push <code>master</code> to remote <code>origin</code>, your remote tracking branch <code>origin/master</code> will be updated to point to the same commit as <code>master</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-ignore-certain-files-in-git-score-883957-in-2019" class="level3">
<h3>68: How to ignore certain files in Git (score <a href="https://stackoverflow.com/q/4308610.html">883957</a> in 2019)</h3>
<section id="question-67" class="level4">
<h4>Question</h4>
<p>I have a repository with a file, <code>Hello.java</code>. When I compile it, an additional <code>Hello.class</code> file is generated.</p>
<p>I created an entry for <code>Hello.class</code> in a <code>.gitignore</code> file. However, the file still appears to be tracked.</p>
<p>How can I make Git ignore <code>Hello.class</code>?</p>
</section>
<section id="answer-accepted-score-761" class="level4">
<h4>Answer accepted (score 761)</h4>
<p>The problem is that <code>.gitignore</code> ignores just files that weren’t tracked before (by <code>git add</code>). Run <code>git reset name_of_file</code> to unstage the file and keep it. In case you want to also remove the given file from the repository (after pushing), use <code>git rm --cached name_of_file</code>.</p>
</section>
<section id="answer-2-score-196" class="level4">
<h4>Answer 2 (score 196)</h4>
<p><strong>How to ignore new files</strong></p>
<p><em>Globally</em></p>
<p>Add the path(s) to your file(s) which you would like to ignore to your .gitignore file (and commit them). These file entries will also apply to others checking out the repo.</p>
<p><em>Locally</em></p>
<p>Add the path(s) to your file(s) which you would like to ignore to your .git/info/exclude file. These file entries will only apply to your local working copy.</p>
<p><strong>How to ignore changed files (temporarily)</strong></p>
<p>In order to ignore changed files to being listed as modified, you can use the following git command:</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb470-1" title="1"><span class="fu">git</span> update-index --assume-unchanged <span class="op">&lt;</span>file<span class="op">&gt;</span></a></code></pre></div>
<p>To revert that ignorance use the following command:</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb471-1" title="1"><span class="fu">git</span> update-index --no-assume-unchanged <span class="op">&lt;</span>file<span class="op">&gt;</span></a></code></pre></div>
</section>
<section id="answer-3-score-148" class="level4">
<h4>Answer 3 (score 148)</h4>
<p>Add the following line to .gitignore:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb472-1" title="1"><span class="ex">/Hello.class</span></a></code></pre></div>
<p>This will exclude Hello.class from git. If you have already committed it, run the following command:</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb473-1" title="1"><span class="fu">git</span> rm Hello.class</a></code></pre></div>
<p>If you want to exclude all class files from git, add the following line to .gitignore:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb474-1" title="1"><span class="ex">*.class</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-see-the-changes-in-a-git-commit-score-879722-in-2019" class="level3">
<h3>69: How to see the changes in a Git commit? (score <a href="https://stackoverflow.com/q/17563726.html">879722</a> in 2019)</h3>
<section id="question-68" class="level4">
<h4>Question</h4>
<p>When I do <code>git diff COMMIT</code> I see the changes between that commit and HEAD (as far as I know), but I would like to see the changes that were made by that single commit.</p>
<p>I haven’t found any obvious options on <code>diff</code> / <code>log</code> that will give me that output.</p>
</section>
<section id="answer-accepted-score-1715" class="level4">
<h4>Answer accepted (score 1715)</h4>
<p>To see the diff for a particular <code>COMMIT</code> hash:</p>
<p><code>git diff COMMIT~ COMMIT</code> will show you the difference between that <code>COMMIT</code>’s ancestor and the <code>COMMIT</code>. See the man pages for <a href="http://jk.gs/git-diff.html" rel="noreferrer">git diff</a> for details about the command and <a href="http://jk.gs/gitrevisions.html" rel="noreferrer">gitrevisions</a> about the <code>~</code> notation and its friends.</p>
<p>Alternatively, <code>git show COMMIT</code> will do something very similar. (The commit’s data, including its diff - but not for merge commits.) See the <a href="http://jk.gs/git-show.html" rel="noreferrer">git show manpage</a>.</p>
</section>
<section id="answer-2-score-457" class="level4">
<h4>Answer 2 (score 457)</h4>
<p>As mentioned in “<a href="https://stackoverflow.com/a/449128/6309">Shorthand for diff of git commit with its parent?</a>”, you can also use <a href="https://git-scm.com/docs/git-diff" rel="noreferrer"><code>git diff</code></a> with:</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb475-1" title="1"><span class="fu">git</span> diff COMMIT^!</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb476-1" title="1"><span class="fu">git</span> diff-tree -p COMMIT</a></code></pre></div>
<p>With git show, you would need (in order to focus on diff alone) to do:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb477-1" title="1"><span class="fu">git</span> show --color --pretty=format:%b <span class="va">$COMMIT</span></a></code></pre></div>
<p>The <code>COMMIT</code> parameter is a <strong><a href="https://git-scm.com/docs/gitglossary#def_commit-ish" rel="noreferrer">commit-ish</a></strong>:</p>
<blockquote>
A <a href="https://git-scm.com/docs/gitglossary#def_commit_object" rel="noreferrer">commit object</a> or an <a href="https://git-scm.com/docs/gitglossary#def_object" rel="noreferrer">object</a> that can be recursively dereferenced to a commit object. The following are all commit-ishes: a commit object, a <a href="https://git-scm.com/docs/gitglossary#def_tag_object" rel="noreferrer">tag object</a> that points to a commit object, a tag object that points to a tag object that points to a commit object, etc.
</blockquote>
<p>
See <a href="https://git-scm.com/docs/gitrevisions#_specifying_revisions" rel="noreferrer">gitrevision “SPECIFYING REVISIONS”</a> to reference a commit-ish.<br> See also “<a href="https://stackoverflow.com/a/18605496/6309">What does tree-ish mean in Git?</a>”.
</p>
</section>
<section id="answer-3-score-300" class="level4">
<h4>Answer 3 (score 300)</h4>
<p>You can also try this easy way:</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb478-1" title="1"><span class="fu">git</span> show <span class="op">&lt;</span>COMMIT<span class="op">&gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="lf-will-be-replaced-by-crlf-in-git---what-is-that-and-is-it-important-score-875112-in-2017" class="level3">
<h3>70: LF will be replaced by CRLF in git - What is that and is it important? (score <a href="https://stackoverflow.com/q/5834014.html">875112</a> in 2017)</h3>
<section id="question-69" class="level4">
<h4>Question</h4>
<blockquote>
<p>
<strong>Possible Duplicate:</strong><br> <a href="https://stackoverflow.com/questions/1967370/git-replacing-lf-with-crlf">git replacing LF with CRLF</a>
</p>
</blockquote>
<p>
When I create a new rails application I’m seeing a warning in git about LF replacement. I do git init git add .
</p>
<p>and then boom! I see this pop up for almost all files. I usually just keep going and build my application and it disappears after many changes to files.</p>
<p><strong>Example:</strong></p>
<blockquote>
<p>
The file will have its original line endings in your working directory. warning: LF will be replaced by CRLF in Gemfile.
</p>
<p>
The file will have its original line endings in your working directory. warning: LF will be replaced by CRLF in Gemfile.lock.
</p>
<p>
The file will have its original line endings in your working directory. warning: LF will be replaced by CRLF in README.
</p>
</blockquote>
<p>What’s the difference between LF and CRLF?</p>
<p>Should I be concerned about this in the long run or just ignore it and keep going as I usually do?</p>
</section>
<section id="answer-accepted-score-1387" class="level4">
<h4>Answer accepted (score 1387)</h4>
<p>In Unix systems the end of a line is represented with a line feed (LF). In windows a line is represented with a carriage return (CR) and a line feed (LF) thus (CRLF). when you get code from git that was uploaded from a unix system they will only have an LF.</p>
<p>If you are a single developer working on a windows machine, and you don’t care that git automatically replaces LFs to CRLFs, you can turn this warning off by typing the following in the git command line</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb479-1" title="1"><span class="fu">git</span> config core.autocrlf true</a></code></pre></div>
<p>If you want to make an intelligent decision how git should handle this, <a href="http://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration#Formatting-and-Whitespace" rel="noreferrer">read the documentation</a></p>
<p>Here is a snippet</p>
<blockquote>
<p><strong>Formatting and Whitespace</strong></p>
<p>
Formatting and whitespace issues are some of the more frustrating and subtle problems that many developers encounter when collaborating, especially cross-platform. It’s very easy for patches or other collaborated work to introduce subtle whitespace changes because editors silently introduce them, and if your files ever touch a Windows system, their line endings might be replaced. Git has a few configuration options to help with these issues.
</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb480-1" title="1"><span class="ex">core.autocrlf</span></a></code></pre></div>
<p>
If you’re programming on Windows and working with people who are not (or vice-versa), you’ll probably run into line-ending issues at some point. This is because Windows uses both a carriage-return character and a linefeed character for newlines in its files, whereas Mac and Linux systems use only the linefeed character. This is a subtle but incredibly annoying fact of cross-platform work; many editors on Windows silently replace existing LF-style line endings with CRLF, or insert both line-ending characters when the user hits the enter key.
</p>
<p>
Git can handle this by auto-converting CRLF line endings into LF when you add a file to the index, and vice versa when it checks out code onto your filesystem. You can turn on this functionality with the core.autocrlf setting. If you’re on a Windows machine, set it to true – this converts LF endings into CRLF when you check out code:
</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb481-1" title="1">$ <span class="fu">git</span> config --global core.autocrlf true</a></code></pre></div>
<p>
If you’re on a Linux or Mac system that uses LF line endings, then you don’t want Git to automatically convert them when you check out files; however, if a file with CRLF endings accidentally gets introduced, then you may want Git to fix it. You can tell Git to convert CRLF to LF on commit but not the other way around by setting core.autocrlf to input:
</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb482-1" title="1">$ <span class="fu">git</span> config --global core.autocrlf input</a></code></pre></div>
<p>
This setup should leave you with CRLF endings in Windows checkouts, but LF endings on Mac and Linux systems and in the repository.
</p>
<p>
If you’re a Windows programmer doing a Windows-only project, then you can turn off this functionality, recording the carriage returns in the repository by setting the config value to false:
</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb483-1" title="1">$ <span class="fu">git</span> config --global core.autocrlf false</a></code></pre></div>
</blockquote>
</section>
<section id="answer-2-score-337" class="level4">
<h4>Answer 2 (score 337)</h4>
<p>If you want, you can deactivate this feature in your git core config using</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb484-1" title="1"><span class="fu">git</span> config core.autocrlf false</a></code></pre></div>
<p>But it would be better to just get rid of the warnings using</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb485-1" title="1"><span class="fu">git</span> config core.autocrlf true</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="why-is-git-better-than-subversion-score-874452-in-2010" class="level3">
<h3>71: Why is Git better than Subversion? (score <a href="https://stackoverflow.com/q/871.html">874452</a> in 2010)</h3>
<section id="question-70" class="level4">
<h4>Question</h4>
<p>I’ve been using <a href="http://en.wikipedia.org/wiki/Apache_Subversion" rel="nofollow noreferrer">Subversion</a> for a few years and after using <a href="http://en.wikipedia.org/wiki/Microsoft_Visual_SourceSafe" rel="nofollow noreferrer">SourceSafe</a>, I just love Subversion. Combined with <a href="http://en.wikipedia.org/wiki/TortoiseSVN" rel="nofollow noreferrer">TortoiseSVN</a>, I can’t really imagine how it could be any better.</p>
<p>Yet there’s a growing number of developers claiming that Subversion has problems and that we should be moving to the new breed of distributed version control systems, such as <a href="http://git.or.cz/" rel="nofollow noreferrer" title="Git Distributed Version Control System">Git</a>.</p>
<p>How does Git improve upon Subversion?</p>
</section>
<section id="answer-accepted-score-548" class="level4">
<h4>Answer accepted (score 548)</h4>
<p>Git is not better than Subversion. But is also not worse. It’s different.</p>
<p>The key difference is that it is decentralized. Imagine you are a developer on the road, you develop on your laptop and you want to have source control so that you can go back 3 hours.</p>
<p>With Subversion, you have a Problem: The SVN Repository may be in a location you can’t reach (in your company, and you don’t have internet at the moment), you cannot commit. If you want to make a copy of your code, you have to literally copy/paste it.</p>
<p>With Git, you do not have this problem. Your local copy is a repository, and you can commit to it and get all benefits of source control. When you regain connectivity to the main repository, you can commit against it.</p>
<p>This looks good at first, but just keep in mind the added complexity to this approach.</p>
<p>Git seems to be the “new, shiny, cool” thing. It’s by no means bad (there is a reason Linus wrote it for the Linux Kernel development after all), but I feel that many people jump on the “Distributed Source Control” train just because it’s new and is written by Linus Torvalds, without actually knowing why/if it’s better.</p>
<p>Subversion has Problems, but so does Git, Mercurial, CVS, TFS or whatever.</p>
<p><strong>Edit:</strong> So this answer is now a year old and still generates many upvotes, so I thought I’ll add some more explanations. In the last year since writing this, Git has gained a lot of momentum and support, particularly since sites like GitHub really took off. I’m using both Git and Subversion nowadays and I’d like to share some personal insight.</p>
<p>First of all, Git can be really confusing at first when working decentralized. What is a remote? and How to properly set up the initial repository? are two questions that come up at the beginning, especially compared to SVN’s simple “svnadmin create”, Git’s “git init” can take the parameters –bare and –shared which seems to be the “proper” way to set up a centralized repository. There are reasons for this, but it adds complexity. The documentation of the “checkout” command is very confusing to people changing over - the “proper” way seems to be “git clone”, while “git checkout” seems to switch branches.</p>
<p>Git REALLY shines when you are decentralized. I have a server at home and a Laptop on the road, and SVN simply doesn’t work well here. With SVN, I can’t have local source control if I’m not connected to the repository (Yes, I know about SVK or about ways to copy the repo). With Git, that’s the default mode anyway. It’s an extra command though (git commit commits locally, whereas git push origin master pushes the master branch to the remote named “origin”).</p>
<p>As said above: Git adds complexity. Two modes of creating repositories, checkout vs. clone, commit vs. push… You have to know which commands work locally and which work with “the server” (I’m assuming most people still like a central “master-repository”).</p>
<p>Also, the tooling is still insufficient, at least on Windows. Yes, there is a Visual Studio AddIn, but I still use git bash with msysgit.</p>
<p>SVN has the advantage that it’s MUCH simpler to learn: There is your repository, all changes to towards it, if you know how to create, commit and checkout and you’re ready to go and can pickup stuff like branching, update etc. later on.</p>
<p>Git has the advantage that it’s MUCH better suited if some developers are not always connected to the master repository. Also, it’s much faster than SVN. And from what I hear, branching and merging support is a lot better (which is to be expected, as these are the core reasons it was written).</p>
<p>This also explains why it gains so much buzz on the Internet, as Git is perfectly suited for Open Source projects: Just Fork it, commit your changes to your own Fork, and then ask the original project maintainer to pull your changes. With Git, this just works. Really, try it on Github, it’s magic.</p>
<p>What I also see are Git-SVN Bridges: The central repository is a Subversion repo, but developers locally work with Git and the bridge then pushes their changes to SVN.</p>
<p>But even with this lengthy addition, I still stand by my core message: Git is not better or worse, it’s just different. If you have the need for “Offline Source Control” and the willingness to spend some extra time learning it, it’s fantastic. But if you have a strictly centralized Source Control and/or are struggling to introduce Source Control in the first place because your co-workers are not interested, then the simplicity and excellent tooling (at least on Windows) of SVN shine.</p>
</section>
<section id="answer-2-score-145" class="level4">
<h4>Answer 2 (score 145)</h4>
<p>With Git, you can do practically anything offline, because everybody has their own repository.</p>
<p>Making branches and merging between branches is really easy.</p>
<p>Even if you don’t have commit rights for a project, you can still have your own repository online, and publish “push requests” for your patches. Everybody who likes your patches can pull them into their project, including the official maintainers.</p>
<p>It’s trivial to fork a project, modify it, and still keep merging in the bugfixes from the HEAD branch.</p>
<p>Git works for the Linux kernel developers. That means it is really fast (it has to be), and scales to thousands of contributors. Git also uses less space (up to 30 times less space for the Mozilla repository).</p>
<p>Git is very flexible, very TIMTOWTDI (There is more than one way to do it). You can use whatever workflow you want, and Git will support it.</p>
<p>Finally, there’s <a href="http://en.wikipedia.org/wiki/GitHub" rel="nofollow noreferrer">GitHub</a>, a great site for hosting your Git repositories.</p>
<p>Drawbacks of Git:</p>
<ul>
<li>
it’s much harder to learn, because Git has more concepts and more commands.
</li>
<li>
revisions don’t have version numbers like in subversion
</li>
<li>
many Git commands are cryptic, and error messages are very user-unfriendly
</li>
<li>
it lacks a good GUI (such as the great <a href="http://en.wikipedia.org/wiki/TortoiseSVN" rel="nofollow noreferrer">TortoiseSVN</a>)
</li>
</ul>
</section>
<section id="answer-3-score-110" class="level4">
<h4>Answer 3 (score 110)</h4>
<p>Other answers have done a good job of explaining the core features of Git (which are great). But there’s also so many <em>little</em> ways that Git behaves better and helps keep my life more sane. Here are some of the little things:</p>
<ol>
<li>
Git has a ‘clean’ command. SVN desperately needs this command, considering how frequently it will dump extra files on your disk.
</li>
<li>
Git has the ‘bisect’ command. It’s nice.
</li>
<li>
SVN creates .svn directories in every single folder (Git only creates <em>one</em> .git directory). Every script you write, and every grep you do, will need to be written to ignore these .svn directories. You also need an entire command (“svn export”) just to get a sane copy of your files.
</li>
<li>
In SVN, each file &amp; folder can come from a different revision or branch. At first, it sounds nice to have this freedom. But what this actually means is that there is a million different ways for your local checkout to be completely screwed up. (for example, if “svn switch” fails halfway through, or if you enter a command wrong). And the worst part is: if you ever get into a situation where some of your files are coming from one place, and some of them from another, the “svn status” will tell you that everything is normal. You’ll need to do “svn info” on each file/directory to discover how weird things are. If “git status” tells you that things are normal, then you can trust that things really are normal.
</li>
<li>
You have to tell SVN whenever you move or delete something. Git will just figure it out.
</li>
<li>
Ignore semantics are easier in Git. If you ignore a pattern (such as *.pyc), it will be ignored for <em>all</em> subdirectories. (But if you really want to ignore something for just one directory, you can). With SVN, it seems that there is no easy way to ignore a pattern across all subdirectories.
</li>
<li>
Another item involving ignore files. Git makes it possible to have “private” ignore settings (using the file .git/info/exclude), which won’t affect anyone else.
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-solve-permission-denied-publickey-error-when-using-git-score-870971-in-2018" class="level3">
<h3>72: How to solve Permission denied (publickey) error when using Git? (score <a href="https://stackoverflow.com/q/2643502.html">870971</a> in 2018)</h3>
<section id="question-71" class="level4">
<h4>Question</h4>
<p>I’m on Mac Snow Leopard and I just installed <code>git</code>.</p>
<p>I just tried</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb486-1" title="1"><span class="fu">git</span> clone git@thechaw.com:cakebook.git</a></code></pre></div>
<p>but that gives me this error:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb487-1" title="1"><span class="ex">Initialized</span> empty Git repository in <span class="kw">`</span><span class="ex">/Users/username/Documents/cakebook/.git/</span><span class="kw">`</span></a>
<a class="sourceLine" id="cb487-2" title="2"><span class="ex">Permission</span> denied (publickey)<span class="ex">.</span></a>
<a class="sourceLine" id="cb487-3" title="3"><span class="ex">fatal</span>: The remote end hung up unexpectedly</a></code></pre></div>
<p>
What am I missing?<br> I’ve also tried doing <code>ssh-keygen</code> with no passphase but still same error.
</p>
</section>
<section id="answer-accepted-score-684" class="level4">
<h4>Answer accepted (score 684)</h4>
<p><strong>the user have not generated a ssh public/private key pair set before ?</strong></p>
<p>This info is working on theChaw but can be applied to all other git repositories which support SSH pubkey authentications. (See <a href="https://github.com/sitaramc/gitolite" rel="noreferrer">gitolite</a>, gitlab or github for example.)</p>
<blockquote>
<p>
First start by setting up your own public/private key pair set. This can use either DSA or RSA, so basically any key you setup will work. On most systems you can use ssh-keygen.
</p>
<ul>
<li>
<p>First you’ll want to cd into your .ssh directory. Open up the terminal and run:</p>
<blockquote>
<code>cd ~/.ssh &amp;amp;&amp;amp; ssh-keygen</code><br />

</blockquote>
</li>
<li>
<p>Next you need to copy this to your clipboard.</p>
<ul>
<li>
On OS X run: <code>cat id_rsa.pub | pbcopy</code>
</li>
<li>
On Linux run: <code>cat id_rsa.pub | xclip</code>
</li>
<li>
On Windows (via Cygwin/Git Bash) run: <code>cat id_rsa.pub | clip</code>
</li>
</ul>
</li>
<li>
Add your key to your account via the website.
</li>
<li>
<p>Finally setup your .gitconfig.</p>
<ul>
<li>
<code>git config --global user.name "bob"</code>
</li>
<li>
<code>git config --global user.email bob@...</code> (don’t forget to restart your command line to make sure the config is reloaded)
</li>
</ul>
</li>
</ul>
Thats it you should be good to clone and checkout.<br />

</blockquote>
<p>
Further information can be found on <a href="https://help.github.com/articles/generating-ssh-keys" rel="noreferrer">https://help.github.com/articles/generating-ssh-keys</a> (thanks to <span class="citation" data-cites="Lee">@Lee</span> Whitney) -
</p>
<p><strong>the user have generated a ssh public/private key pair set before ?</strong></p>
<ul>
<li>
check which key have been authorized on your github or gitlab account settings
</li>
<li>
tells which corresponding private key must be associated from your local computer
</li>
</ul>
<p><code>eval $(ssh-agent -s)</code></p>
<p>tell where the keys are located</p>
<p><code>ssh-add ~/.ssh/id_rsa</code></p>
</section>
<section id="answer-2-score-199" class="level4">
<h4>Answer 2 (score 199)</h4>
<p>More extensive troubleshooting and even automated fixing can be done with:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb488-1" title="1"><span class="fu">ssh</span> -vT git@github.com</a></code></pre></div>
<p>Source: <a href="https://help.github.com/articles/error-permission-denied-publickey/" rel="noreferrer">https://help.github.com/articles/error-permission-denied-publickey/</a></p>
</section>
<section id="answer-3-score-150" class="level4">
<h4>Answer 3 (score 150)</h4>
<p>This error can happen when you are accessing the SSH URL (Read/Write) instead of Git Read-Only URL but you have no write access to that repo.</p>
<p>Sometimes you just want to clone your own repo, e.g. deploy to a server. In this case you actually only need READ-ONLY access. But since that’s <em>your own</em> repo, GitHub may display SSH URL if that’s your preference. In this situation, if your remote host’s public key is not in your GitHub SSH Keys, your access will be denied, <strong>which is expected to happen</strong>.</p>
<p>An equivalent case is when you try cloning someone else’s repo to which you have no write access with SSH URL.</p>
<p>In a word, <strong>if your intent is to clone-only a repo, use HTTPS URL</strong> (<code>https://github.com/{user_name}/{project_name}.git</code>) instead of SSH URL (<code>git@github.com:{user_name}/{project_name}.git</code>), which avoids (unnecessary) public key validation.</p>
<hr>
<p>Update: GitHub is displaying HTTPS as the default protocol now and this move can probably reduce possible misuse of SSH URLs.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-add-an-empty-directory-to-a-git-repository-score-869097-in-2014" class="level3">
<h3>73: How can I add an empty directory to a Git repository? (score <a href="https://stackoverflow.com/q/115983.html">869097</a> in 2014)</h3>
<section id="question-72" class="level4">
<h4>Question</h4>
<p>How can I add an empty directory (that contains no files) to a Git repository?</p>
</section>
<section id="answer-accepted-score-3857" class="level4">
<h4>Answer accepted (score 3857)</h4>
<p>Another way to make a directory stay (almost) empty (in the repository) is to create a <code>.gitignore</code> file inside that directory that contains these four lines:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb489-1" title="1"><span class="co"># Ignore everything in this directory</span></a>
<a class="sourceLine" id="cb489-2" title="2"><span class="ex">*</span></a>
<a class="sourceLine" id="cb489-3" title="3"><span class="co"># Except this file</span></a>
<a class="sourceLine" id="cb489-4" title="4">!<span class="ex">.gitignore</span></a></code></pre></div>
<p>Then you don’t have to get the order right the way that you have to do in m104’s <a href="https://stackoverflow.com/a/180917/32453">solution</a>.</p>
<p>This also gives the benefit that files in that directory won’t show up as “untracked” when you do a git status.</p>
<p>Making <a href="https://stackoverflow.com/users/554807/greenasjade"><span class="citation" data-cites="GreenAsJade">@GreenAsJade</span></a>’s comment persistent:</p>
<blockquote>
I think it’s worth noting that this solution does precisely what the question asked for, but is not perhaps what many people looking at this question will have been looking for. This solution guarantees that the directory remains empty. It says “I truly never want files checked in here”. As opposed to “I don’t have any files to check in here, yet, but I need the directory here, files may be coming later”.
</blockquote>
</section>
<section id="answer-2-score-1051" class="level4">
<h4>Answer 2 (score 1051)</h4>
<p>You can’t. See the <a href="https://git.wiki.kernel.org/index.php/GitFaq#Can_I_add_empty_directories.3F" rel="noreferrer">Git FAQ</a>.</p>
<blockquote>
<p>
Currently the design of the git index (staging area) only permits files to be listed, and nobody competent enough to make the change to allow empty directories has cared enough about this situation to remedy it.
</p>
<p>
Directories are added automatically when adding files inside them. That is, directories never have to be added to the repository, and are not tracked on their own.
</p>
<p>
You can say “<code>git add &amp;lt;dir&amp;gt;</code>” and it will add files in there.
</p>
<p>
If you really need a directory to exist in checkouts you should create a file in it. .gitignore works well for this purpose; you can leave it empty, or fill in the names of files you expect to show up in the directory.
</p>
</blockquote>
</section>
<section id="answer-3-score-686" class="level4">
<h4>Answer 3 (score 686)</h4>
<p>Create an empty file called <code>.gitkeep</code> in the directory, and add that.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="updating-a-local-repository-with-changes-from-a-github-repository-score-867048-in-2019" class="level3">
<h3>74: Updating a local repository with changes from a GitHub repository (score <a href="https://stackoverflow.com/q/1443210.html">867048</a> in 2019)</h3>
<section id="question-73" class="level4">
<h4>Question</h4>
<p>I’ve got a project checked locally from GitHub, and that remote repository has since had changes made to it. What’s the correct command to update my local copy with the latest changes?</p>
</section>
<section id="answer-accepted-score-730" class="level4">
<h4>Answer accepted (score 730)</h4>
<p>Probably:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb490-1" title="1"><span class="fu">git</span> pull origin master</a></code></pre></div>
</section>
<section id="answer-2-score-80" class="level4">
<h4>Answer 2 (score 80)</h4>
<p>This should work for every default repo:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb491-1" title="1"><span class="fu">git</span> pull origin master</a></code></pre></div>
<p>If your default branch is different than <code>master</code>, you will need to specify the branch name:</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb492-1" title="1"><span class="fu">git</span> pull origin my_default_branch_name</a></code></pre></div>
</section>
<section id="answer-3-score-61" class="level4">
<h4>Answer 3 (score 61)</h4>
<div class="sourceCode" id="cb493"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb493-1" title="1"><span class="fu">git</span> fetch [remotename]</a></code></pre></div>
<p>However you’ll need to merge any changes into your local branches. If you’re on a branch that’s tracking a remote branch on Github, then</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb494-1" title="1"><span class="fu">git</span> pull</a></code></pre></div>
<p>will first do a fetch, and then merge in the tracked branch</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="rollback-to-an-old-git-commit-in-a-public-repo-score-861582-in-2015" class="level3">
<h3>75: Rollback to an old Git commit in a public repo (score <a href="https://stackoverflow.com/q/2007662.html">861582</a> in 2015)</h3>
<section id="question-74" class="level4">
<h4>Question</h4>
<p>How can I go about rolling back to a specific commit in git?</p>
<p>The best answer someone could give me was to use <code>git revert</code> X times until I reach the desired commit.</p>
<p>So let’s say I want to revert back to a commit that’s 20 commits old, I’d have to run it 20 times.</p>
<p>Is there an easier way to do this?</p>
<p>I can’t use reset because this repository is public.</p>
</section>
<section id="answer-accepted-score-1124" class="level4">
<h4>Answer accepted (score 1124)</h4>
<p>Try this:</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb495-1" title="1"><span class="fu">git</span> checkout [revision] .</a></code></pre></div>
<p>where <code>[revision]</code> is the commit hash (for example: <code>12345678901234567890123456789012345678ab</code>).</p>
<p>Don’t forget the <code>.</code> at the end, very important. This will apply changes to the whole tree. You should execute this command in the git project root. If you are in any sub directory, then this command only changes the files in the current directory. Then commit and you should be good.</p>
<p>You can undo this by</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb496-1" title="1"><span class="fu">git</span> reset --hard </a></code></pre></div>
<p>that will delete all modifications from the working directory and staging area.</p>
</section>
<section id="answer-2-score-184" class="level4">
<h4>Answer 2 (score 184)</h4>
<p>To rollback to a specific commit:</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb497-1" title="1"><span class="fu">git</span> reset --hard commit_sha</a></code></pre></div>
<p>To rollback 10 commits back:</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb498-1" title="1"><span class="fu">git</span> reset --hard HEAD~10</a></code></pre></div>
<p>You can use “git revert” as in the following post if you don’t want to rewrite the history</p>
<p><a href="https://stackoverflow.com/questions/4114095/revert-git-repo-to-a-previous-commit/4114122#4114122">How to revert Git repository to a previous commit?</a></p>
</section>
<section id="answer-3-score-86" class="level4">
<h4>Answer 3 (score 86)</h4>
<p>Well, I guess the question is, what do you mean by ‘roll back’? If you can’t <code>reset</code> because it’s public and you want to keep the commit history intact, do you mean you just want your working copy to reflect a specific commit? Use <code>git checkout</code> and the commit hash.</p>
<p>Edit: As was pointed out in the comments, using <code>git checkout</code> without specifying a branch will leave you in a “no branch” state. Use <code>git checkout &amp;lt;commit&amp;gt; -b &amp;lt;branchname&amp;gt;</code> to checkout into a branch, or <code>git checkout &amp;lt;commit&amp;gt; .</code> to checkout into the current branch.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="github-error-message---permission-denied-publickey-score-852612-in-2016" class="level3">
<h3>76: GitHub Error Message - Permission denied (publickey) (score <a href="https://stackoverflow.com/q/12940626.html">852612</a> in 2016)</h3>
<section id="question-75" class="level4">
<h4>Question</h4>
<p>Anybody seen this error and know what to do?</p>
<p>I’m using the terminal, I’m in the root, the GitHub repository exists and I don’t know what to do now.</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb499-1" title="1"><span class="op">&gt;</span> <span class="fu">git</span> push -u origin master</a>
<a class="sourceLine" id="cb499-2" title="2"><span class="ex">Permission</span> denied (publickey)<span class="ex">.</span></a>
<a class="sourceLine" id="cb499-3" title="3"><span class="ex">fatal</span>: Could not read from remote repository.</a>
<a class="sourceLine" id="cb499-4" title="4"></a>
<a class="sourceLine" id="cb499-5" title="5"><span class="ex">Please</span> make sure you have the correct access rights</a>
<a class="sourceLine" id="cb499-6" title="6"><span class="ex">and</span> the repository exists.</a></code></pre></div>
</section>
<section id="answer-accepted-score-637" class="level4">
<h4>Answer accepted (score 637)</h4>
<p>GitHub isn’t able to authenticate you. So, either you aren’t setup with an SSH key, because you haven’t <a href="https://help.github.com/articles/generating-ssh-keys">set one up on your machine</a>, or your key isn’t associated with your GitHub account.</p>
<p>You can also use the HTTPS URL instead of the SSH/git URL to avoid having to deal with SSH keys. This is <a href="https://help.github.com/articles/set-up-git">GitHub’s recommended method</a>.</p>
<p>Further, GitHub has a <a href="https://help.github.com/articles/error-permission-denied-publickey">help page specifically for that error message</a>, and explains in more detail everything you could check.</p>
</section>
<section id="answer-2-score-69" class="level4">
<h4>Answer 2 (score 69)</h4>
<p>Did you create a <strong>config</strong> file in your ~/.ssh directory? It should have contents like these:</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb500-1" title="1"><span class="ex">Host</span> github.com </a>
<a class="sourceLine" id="cb500-2" title="2"> <span class="ex">IdentityFile</span> ~/.ssh/github_rsa</a></code></pre></div>
<p>Assuming that you created an ssh key named <strong>github_rsa</strong></p>
<p>and uploaded it to GitHub…</p>
<p>NOTE: You must follow this way of explicit configuration if you have more than 1 key (2 and more) in your ~/.ssh/ directory. If you don’t specify key this way, then first key in order is taken and used for github authentication, so it depends on the key file name then.</p>
</section>
<section id="answer-3-score-59-1" class="level4">
<h4>Answer 3 (score 59)</h4>
<p>You need to generate an SSH key (if you don’t have one) and associate the public key with your Github account. See <a href="https://help.github.com/articles/generating-ssh-keys">Github’s own documentation</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-resolve-git-saying-commit-your-changes-or-stash-them-before-you-can-merge-score-849978-in-2019" class="level3">
<h3>77: How do I resolve git saying “Commit your changes or stash them before you can merge”? (score <a href="https://stackoverflow.com/q/15745045.html">849978</a> in 2019)</h3>
<section id="question-76" class="level4">
<h4>Question</h4>
<p>I made some updates on my local machine, pushed them to a remote repository, and now I’m trying to pull the changes to the server and I get the message;</p>
<blockquote>
<p>error: Your local changes to the following files would be overwritten by merge:</p>
<p>wp-content/w3tc-config/master.php</p>
Please, commit your changes or stash them before you can merge.
</blockquote>
<p>So I ran,</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb501-1" title="1"><span class="fu">git</span> checkout -- wp-content/w3tc-config/master.php</a></code></pre></div>
<p>and tried again and I get the same message. I’m assuming that <code>w3tc</code> changed something in the config file on the server. I don’t care whether the local copy or remote copy goes on the server (I suppose the remote one is best), I just want to be able to merge the rest of my changes (plugin updates).</p>
<p>Any ideas?</p>
</section>
<section id="answer-accepted-score-1158" class="level4">
<h4>Answer accepted (score 1158)</h4>
<p>You can’t merge with local modifications. Git protects you from losing potentially important changes.</p>
<p>You have three options:</p>
<ul>
<li>
<h5>
Commit the change using
</h2>
<code>sh git commit -m "My message"</code>
</li>
<li>
<h5>
Stash it.
</h2>
<p>Stashing acts as a stack, where you can push changes, and you pop them in reverse order.</p>
<p>To stash, type</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb502-1" title="1"><span class="fu">git</span> stash</a></code></pre></div>
<p>Do the merge, and then pull the stash:</p>
<code>sh git stash pop</code>
</li>
<li>
<h5>
Discard the local changes
</h2>
<p>
using <code>git reset --hard</code><br> or <code>git checkout -t -f remote/branch</code>
</p>
<h5>
Or: Discard local changes for a specific file
</h2>
using <code>git checkout filename</code>
</li>
</ul>
</section>
<section id="answer-2-score-66" class="level4">
<h4>Answer 2 (score 66)</h4>
<div class="sourceCode" id="cb503"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb503-1" title="1"><span class="fu">git</span> stash</a>
<a class="sourceLine" id="cb503-2" title="2"><span class="fu">git</span> pull <span class="op">&lt;</span>remote name<span class="op">&gt;</span> <span class="op">&lt;</span>remote branch name<span class="op">&gt;</span> (or) <span class="ex">switch</span> branch</a>
<a class="sourceLine" id="cb503-3" title="3"><span class="fu">git</span> stash apply --index</a></code></pre></div>
<p>The first command stores your changes temporarily in <a href="https://git-scm.com/book/en/v1/Git-Tools-Stashing" rel="noreferrer">the stash</a> and removes them from the working directory.</p>
<p>The second command switches branches.</p>
<p>The third command restores the changes which you have stored in the stash (the <code>--index</code> option is useful to make sure that staged files are still staged).</p>
</section>
<section id="answer-3-score-21" class="level4">
<h4>Answer 3 (score 21)</h4>
<p>You can try one of the following methods:</p>
<h5>
rebase
</h3>
<p>For simple changes try rebasing on top of it while pulling the changes, e.g. </p>
<div class="sourceCode" id="cb504"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb504-1" title="1"><span class="fu">git</span> pull origin master -r</a></code></pre></div>
<p>So it’ll apply your current branch on top of the upstream branch after fetching.</p>
<p>This is equivalent to: <code>checkout master</code>, <code>fetch</code> and <code>rebase origin/master</code> git commands.</p>
<blockquote>
This is a potentially dangerous mode of operation. It rewrites history, which does not bode well when you published that history already. Do not use this option unless you have read <a href="https://git-scm.com/docs/git-rebase" rel="noreferrer"><code>git-rebase(1)</code></a> carefully.
</blockquote>
<hr>
<h5>
checkout
</h3>
<p>If you don’t care about your local changes, you can switch to other branch temporary (with force), and switch it back, e.g. </p>
<div class="sourceCode" id="cb505"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb505-1" title="1"><span class="fu">git</span> checkout origin/master -f</a>
<a class="sourceLine" id="cb505-2" title="2"><span class="fu">git</span> checkout master -f</a></code></pre></div>
<hr>
<h5>
reset
</h3>
<p>If you don’t care about your local changes, try to reset it to HEAD (original state), e.g. </p>
<div class="sourceCode" id="cb506"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb506-1" title="1"><span class="fu">git</span> reset HEAD --hard</a></code></pre></div>
<p>If above won’t help, it may be rules in your git normalization file (<code>.gitattributes</code>) so it’s better to commit what it says. Or your file system doesn’t support permissions, so you’ve to disable <code>filemode</code> in your git config.</p>
<p>Related: <a href="https://stackoverflow.com/q/1125968/55075">How do I force “git pull” to overwrite local files?</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="ignoring-any-bin-directory-on-a-git-project-score-846770-in-2017" class="level3">
<h3>78: ignoring any ‘bin’ directory on a git project (score <a href="https://stackoverflow.com/q/1470572.html">846770</a> in 2017)</h3>
<section id="question-77" class="level4">
<h4>Question</h4>
<p>I have a directory structure like this:</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb507-1" title="1"><span class="ex">.git/</span></a>
<a class="sourceLine" id="cb507-2" title="2"><span class="ex">.gitignore</span></a>
<a class="sourceLine" id="cb507-3" title="3"><span class="ex">main/</span></a>
<a class="sourceLine" id="cb507-4" title="4">  <span class="ex">...</span></a>
<a class="sourceLine" id="cb507-5" title="5"><span class="ex">tools/</span></a>
<a class="sourceLine" id="cb507-6" title="6">  <span class="ex">...</span></a>
<a class="sourceLine" id="cb507-7" title="7"><span class="ex">...</span></a></code></pre></div>
<p>Inside main and tools, and any other directory, at any level, there can be a ‘bin’ directory, which I want to ignore (and I want to ignore everything under it too). I’ve tried each of these patterns in .gitignore but none of them work:</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb508-1" title="1"><span class="ex">/**/bin/**/*</span></a>
<a class="sourceLine" id="cb508-2" title="2"><span class="ex">/./**/bin/**/*</span></a>
<a class="sourceLine" id="cb508-3" title="3"><span class="ex">./**/bin/**/*</span></a>
<a class="sourceLine" id="cb508-4" title="4"><span class="ex">**/bin/**/*</span></a>
<a class="sourceLine" id="cb508-5" title="5"><span class="ex">*/bin/**/*</span></a>
<a class="sourceLine" id="cb508-6" title="6"><span class="ex">bin/**/*</span></a>
<a class="sourceLine" id="cb508-7" title="7"><span class="ex">/**/bin/*</span> <span class="co">#and the others with just * at the end too</span></a></code></pre></div>
<p>Can anyone help me out? The first pattern (the one I think should be working) works just fine if I do this:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb509-1" title="1"><span class="ex">/main/**/bin/**/*</span></a></code></pre></div>
<p>But I don’t want to have an entry for every top-level directory and I don’t want to have to modify .gitignore every time I add a new one.</p>
<p>This is on Windows using the latest msysgit.</p>
<p>EDIT: <strong>one more thing, there are files and directories that have the substring ‘bin’ in their names, I don’t want those to be ignored :)</strong></p>
</section>
<section id="answer-accepted-score-1722" class="level4">
<h4>Answer accepted (score 1722)</h4>
<p>Before version 1.8.2, <code>**</code> didn’t have any special meaning in the <code>.gitignore</code>. As of 1.8.2 git supports <code>**</code> to mean zero or more sub-directories (see <a href="https://github.com/git/git/blob/master/Documentation/RelNotes/1.8.2.txt" rel="noreferrer">release notes</a>).</p>
<p>The way to ignore all directories called bin anywhere below the current level in a directory tree is with a <code>.gitignore</code> file with the pattern:</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb510-1" title="1"><span class="ex">bin/</span></a></code></pre></div>
<p>In the <code>man</code> page, there an example of ignoring a directory called <code>foo</code> using an analogous pattern.</p>
<p>
<strong>Edit:</strong> If you already have any bin folders in your git index which you no longer wish to track then you need to remove them explicitly. Git won’t stop tracking paths that are already being tracked just because they now match a new <code>.gitignore</code> pattern. Execute a folder remove (<strong>rm</strong>) from index only (<strong>–cached</strong>) recursivelly (<strong>-r</strong>). Command line example for root bin folder:
</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb511-1" title="1"><span class="fu">git</span> rm -r --cached bin</a></code></pre></div>
</section>
<section id="answer-2-score-448" class="level4">
<h4>Answer 2 (score 448)</h4>
<p>The <code>.gitignore</code> of your dream seems to be:</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb512-1" title="1"><span class="ex">bin/</span></a></code></pre></div>
<p>on the top level.</p>
</section>
<section id="answer-3-score-211" class="level4">
<h4>Answer 3 (score 211)</h4>
<p>I think it is worth to mention for git beginners:</p>
<blockquote>
<p>
If you already have a file checked in, and you want to ignore it, <strong>Git will not ignore the file if you add a rule later</strong>. In those cases, you must untrack the file first, by running the following command in your terminal:
</p>
<code>git rm --cached</code>
</blockquote>
<p>So if you want add to ignore some directories in your local repository (which already exist) after editing .gitignore you want to run this on your root dir</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb513-1" title="1"><span class="fu">git</span> rm --cached -r .</a>
<a class="sourceLine" id="cb513-2" title="2"><span class="fu">git</span> add .</a></code></pre></div>
<p>It will basically ‘refresh’ your local repo and unstage ignored files.</p>
<p>See:</p>
<p><a href="http://git-scm.com/docs/git-rm" rel="noreferrer">http://git-scm.com/docs/git-rm</a>,</p>
<p><a href="https://help.github.com/articles/ignoring-files/" rel="noreferrer">https://help.github.com/articles/ignoring-files/</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-make-git-use-the-editor-of-my-choice-for-commits-score-845181-in-2017" class="level3">
<h3>79: How do I make Git use the editor of my choice for commits? (score <a href="https://stackoverflow.com/q/2596805.html">845181</a> in 2017)</h3>
<section id="question-78" class="level4">
<h4>Question</h4>
<p>I would prefer to write my commit messages in Vim, but it is opening them in Emacs.</p>
<p>How do I configure Git to always use Vim? Note that I want to do this globally, not just for a single project.</p>
</section>
<section id="answer-accepted-score-3207" class="level4">
<h4>Answer accepted (score 3207)</h4>
<p>If you want to set the editor <em>only</em> for Git, do either (you don’t need both):</p>
<ul>
<li>
Set <a href="http://git-scm.com/book/en/Customizing-Git-Git-Configuration#Basic-Client-Configuration" rel="noreferrer"><code>core.editor</code></a> in your Git config: <code>git config --global core.editor "vim"</code>
</li>
<li>
Set the <a href="http://git-scm.com/docs/git-var#_variables" rel="noreferrer"><code>GIT_EDITOR</code></a> environment variable: <code>export GIT_EDITOR=vim</code>
</li>
</ul>
<hr>
<p>If you want to set the editor for Git <em>and also other programs</em>, set the standardized <code>VISUAL</code> and <code>EDITOR</code> environment variables*:</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb514-1" title="1"><span class="bu">export</span> <span class="va">VISUAL=</span>vim</a>
<a class="sourceLine" id="cb514-2" title="2"><span class="bu">export</span> <span class="va">EDITOR=</span><span class="st">&quot;</span><span class="va">$VISUAL</span><span class="st">&quot;</span></a></code></pre></div>
<p><sub>* Setting both is not necessarily needed, but some programs may not use the more-correct <code>VISUAL</code>. See <a href="https://unix.stackexchange.com/questions/4859/visual-vs-editor-whats-the-difference"><code>VISUAL</code> vs. <code>EDITOR</code></a>.</sub></p>
<hr>
<p>
<strong>For Sublime Text</strong>: Add this to the <code>.gitconfig</code>. The <code>--wait</code> is important. (it allows to type text in sublime and will wait for save/close event.
</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb515-1" title="1">[<span class="ex">core</span>]</a>
<a class="sourceLine" id="cb515-2" title="2">    <span class="ex">editor</span> = <span class="st">&#39;subl&#39;</span> --wait</a></code></pre></div>
<p><em>‘subl’ can be replaced by the full path of the executable but is usually available when correctly installed.</em></p>
</section>
<section id="answer-2-score-558" class="level4">
<h4>Answer 2 (score 558)</h4>
<p>Copy paste this:</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb516-1" title="1"><span class="fu">git</span> config --global core.editor <span class="st">&quot;vim&quot;</span></a></code></pre></div>
<p>In case you’d like to know what you’re doing. From <code>man git-commit</code>:</p>
<blockquote>
<h5>
ENVIRONMENT AND CONFIGURATION VARIABLES
</h2>
The editor used to edit the commit log message will be chosen from the <code>GIT_EDITOR</code> environment variable, the <code>core.editor</code> configuration variable, the <code>VISUAL</code> environment variable, or the <code>EDITOR</code> environment variable (in that order).<br />

</blockquote>
</section>
<section id="answer-3-score-175" class="level4">
<h4>Answer 3 (score 175)</h4>
<p>On Ubuntu and also Debian (thanks <span class="citation" data-cites="MichielB">@MichielB</span>) changing the default editor is also possible by running:</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb517-1" title="1"><span class="fu">sudo</span> update-alternatives --config editor</a></code></pre></div>
<p>Which will prompt the following:</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb518-1" title="1"><span class="ex">There</span> are 4 choices for the alternative editor (providing /usr/bin/editor)<span class="ex">.</span></a>
<a class="sourceLine" id="cb518-2" title="2"></a>
<a class="sourceLine" id="cb518-3" title="3">  <span class="ex">Selection</span>    Path                Priority   Status</a>
<a class="sourceLine" id="cb518-4" title="4"><span class="ex">------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb518-5" title="5">  <span class="ex">0</span>            /bin/nano            40        auto mode</a>
<a class="sourceLine" id="cb518-6" title="6">  <span class="ex">1</span>            /bin/ed             -100       manual mode</a>
<a class="sourceLine" id="cb518-7" title="7">  <span class="ex">2</span>            /bin/nano            40        manual mode</a>
<a class="sourceLine" id="cb518-8" title="8"><span class="ex">*</span> 3            /usr/bin/vim.basic   30        manual mode</a>
<a class="sourceLine" id="cb518-9" title="9">  <span class="ex">4</span>            /usr/bin/vim.tiny    10        manual mode</a>
<a class="sourceLine" id="cb518-10" title="10"></a>
<a class="sourceLine" id="cb518-11" title="11"><span class="ex">Press</span> enter to keep the current choice[*], or type selection number: </a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-make-git-ignore-file-mode-chmod-changes-score-843774-in-2014" class="level3">
<h3>80: How do I make Git ignore file mode (chmod) changes? (score <a href="https://stackoverflow.com/q/1580596.html">843774</a> in 2014)</h3>
<section id="question-79" class="level4">
<h4>Question</h4>
<p>I have a project in which I have to change the mode of files with <code>chmod</code> to 777 while developing, but which should not change in the main repo.</p>
<p>Git picks up on <code>chmod -R 777 .</code> and marks all files as changed. Is there a way to make Git ignore mode changes that have been made to files?</p>
</section>
<section id="answer-accepted-score-3586" class="level4">
<h4>Answer accepted (score 3586)</h4>
<p>Try:</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb519-1" title="1"><span class="fu">git</span> config core.fileMode false</a></code></pre></div>
<p>From <a href="https://www.kernel.org/pub/software/scm/git/docs/git-config.html" rel="noreferrer">git-config(1)</a>:</p>
<blockquote>
<div class="sourceCode" id="cb520"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb520-1" title="1"><span class="ex">core.fileMode</span></a>
<a class="sourceLine" id="cb520-2" title="2">    <span class="ex">Tells</span> Git if the executable bit of files in the working tree</a>
<a class="sourceLine" id="cb520-3" title="3">    <span class="ex">is</span> to be honored.</a>
<a class="sourceLine" id="cb520-4" title="4"></a>
<a class="sourceLine" id="cb520-5" title="5">    <span class="ex">Some</span> filesystems lose the executable bit when a file that is</a>
<a class="sourceLine" id="cb520-6" title="6">    <span class="ex">marked</span> as executable is checked out, or checks out a</a>
<a class="sourceLine" id="cb520-7" title="7">    <span class="ex">non-executable</span> file with executable bit on. git-clone(1)</a>
<a class="sourceLine" id="cb520-8" title="8">    <span class="ex">or</span> git-init(1) <span class="ex">probe</span> the filesystem to see if it handles the </a>
<a class="sourceLine" id="cb520-9" title="9">    <span class="ex">executable</span> bit correctly and this variable is automatically</a>
<a class="sourceLine" id="cb520-10" title="10">    <span class="kw">set</span> <span class="fu">as</span> necessary.</a>
<a class="sourceLine" id="cb520-11" title="11"></a>
<a class="sourceLine" id="cb520-12" title="12">    <span class="ex">A</span> repository, however, may be on a filesystem that handles</a>
<a class="sourceLine" id="cb520-13" title="13">    <span class="ex">the</span> filemode correctly, and this variable is set to true when</a>
<a class="sourceLine" id="cb520-14" title="14">    <span class="ex">created</span>, but later may be made accessible from another</a>
<a class="sourceLine" id="cb520-15" title="15">    <span class="ex">environment</span> that loses the filemode (e.g. exporting ext4</a>
<a class="sourceLine" id="cb520-16" title="16">    <span class="ex">via</span> CIFS mount, visiting a Cygwin created repository with Git</a>
<a class="sourceLine" id="cb520-17" title="17">    <span class="kw">for</span> <span class="ex">Windows</span> or Eclipse)<span class="bu">.</span> <span class="ex">In</span> such a case it may be necessary</a>
<a class="sourceLine" id="cb520-18" title="18">    <span class="ex">to</span> set this variable to false. See git-update-index(1)<span class="ex">.</span></a>
<a class="sourceLine" id="cb520-19" title="19"></a>
<a class="sourceLine" id="cb520-20" title="20">    <span class="ex">The</span> default is true (when core.filemode is not specified</a>
<a class="sourceLine" id="cb520-21" title="21">    <span class="kw">in</span> <span class="ex">the</span> config file)<span class="ex">.</span></a></code></pre></div>
</blockquote>
<p>The <code>-c</code> flag can be used to set this option for one-off commands:</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb521-1" title="1"><span class="fu">git</span> -c core.fileMode=false diff</a></code></pre></div>
<p>And the <code>--global</code> flag will make it be the default behavior for the logged in user.</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb522-1" title="1"><span class="fu">git</span> config --global core.fileMode false</a></code></pre></div>
<p>
Changes of the global setting won’t be applied to existing repositories. Additionally, <code>git clone</code> and <code>git init</code> explicitly set <code>core.fileMode</code> to <code>true</code> in the repo config as discussed in <a href="https://stackoverflow.com/questions/30392318/git-global-core-filemode-false-overridden-locally-on-clone">Git global core.fileMode false overridden locally on clone</a>
</p>
<h5>
Warning
</h2>
<p><code>core.fileMode</code> is not the best practice and should be used carefully. This setting only covers the executable bit of mode and never the read/write bits. In many cases you think you need this setting because you did something like <code>chmod -R 777</code>, making all your files executable. But in most projects <strong>most files don’t need and should not be executable for security reasons</strong>.</p>
<p>The proper way to solve this kind of situation is to handle folder and file permission separately, with something like:</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb523-1" title="1"><span class="fu">find</span> . -type d -exec chmod a+rwx {} <span class="dt">\;</span> <span class="co"># Make folders traversable and read/write</span></a>
<a class="sourceLine" id="cb523-2" title="2"><span class="fu">find</span> . -type f -exec chmod a+rw {} <span class="dt">\;</span>  <span class="co"># Make files read/write</span></a></code></pre></div>
<p>If you do that, you’ll never need to use <code>core.fileMode</code>, except in very rare environment.</p>
</section>
<section id="answer-2-score-265" class="level4">
<h4>Answer 2 (score 265)</h4>
<p>undo mode change in working tree:</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb524-1" title="1"><span class="fu">git</span> diff --summary <span class="kw">|</span> <span class="fu">grep</span> --color <span class="st">&#39;mode change 100755 =&gt; 100644&#39;</span> <span class="kw">|</span> <span class="fu">cut</span> -d<span class="st">&#39; &#39;</span> -f7- <span class="kw">|</span> <span class="fu">xargs</span> -d<span class="st">&#39;\n&#39;</span> chmod +x</a>
<a class="sourceLine" id="cb524-2" title="2"><span class="fu">git</span> diff --summary <span class="kw">|</span> <span class="fu">grep</span> --color <span class="st">&#39;mode change 100644 =&gt; 100755&#39;</span> <span class="kw">|</span> <span class="fu">cut</span> -d<span class="st">&#39; &#39;</span> -f7- <span class="kw">|</span> <span class="fu">xargs</span> -d<span class="st">&#39;\n&#39;</span> chmod -x</a></code></pre></div>
<p>Or in mingw-git</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb525-1" title="1"><span class="fu">git</span> diff --summary <span class="kw">|</span> <span class="fu">grep</span>  <span class="st">&#39;mode change 100755 =&gt; 100644&#39;</span> <span class="kw">|</span> <span class="fu">cut</span> -d<span class="st">&#39; &#39;</span> -f7- <span class="kw">|</span> <span class="fu">xargs</span> -e<span class="st">&#39;\n&#39;</span> chmod +x</a>
<a class="sourceLine" id="cb525-2" title="2"><span class="fu">git</span> diff --summary <span class="kw">|</span> <span class="fu">grep</span>  <span class="st">&#39;mode change 100644 =&gt; 100755&#39;</span> <span class="kw">|</span> <span class="fu">cut</span> -d<span class="st">&#39; &#39;</span> -f7- <span class="kw">|</span> <span class="fu">xargs</span> -e<span class="st">&#39;\n&#39;</span> chmod -x</a></code></pre></div>
</section>
<section id="answer-3-score-128" class="level4">
<h4>Answer 3 (score 128)</h4>
<p>If you want to set this option for all of your repos, use the <code>--global</code> option.</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb526-1" title="1"><span class="fu">git</span> config --global core.filemode false</a></code></pre></div>
<p>If this does not work you are probably using a newer version of git so try the <code>--add</code> option.</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb527-1" title="1"><span class="fu">git</span> config --add --global core.filemode false</a></code></pre></div>
<p>If you run it without the –global option and your working directory is not a repo, you’ll get</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb528-1" title="1"><span class="ex">error</span>: could not lock config file .git/config: No such file or directory</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-change-the-commit-author-for-one-specific-commit-score-841438-in-2018" class="level3">
<h3>81: How to change the commit author for one specific commit? (score <a href="https://stackoverflow.com/q/3042437.html">841438</a> in 2018)</h3>
<section id="question-80" class="level4">
<h4>Question</h4>
<p>I want to change the author of one specific commit in the history. It’s not the last commit.</p>
<p>I know about this question - <a href="https://stackoverflow.com/questions/750172/how-do-i-change-the-author-of-a-commit-in-git">How do I change the author of a commit in git?</a></p>
<p>But I am thinking about something, where I identify the commit by hash or short-hash.</p>
</section>
<section id="answer-accepted-score-3184" class="level4">
<h4>Answer accepted (score 3184)</h4>
<p>Interactive rebase off of a point earlier in the history than the commit you need to modify (<code>git rebase -i &amp;lt;earliercommit&amp;gt;</code>). In the list of commits being rebased, change the text from <code>pick</code> to <code>edit</code> next to the hash of the one you want to modify. Then when git prompts you to change the commit, use this:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb529-1" title="1"><span class="fu">git</span> commit --amend --author=<span class="st">&quot;Author Name &lt;email@address.com&gt;&quot;</span></a></code></pre></div>
<hr>
<p>For example, if your commit history is <code>A-B-C-D-E-F</code> with <code>F</code> as <code>HEAD</code>, and you want to change the author of <code>C</code> and <code>D</code>, then you would…</p>
<ol>
<li>
<p>Specify <code>git rebase -i B</code> (<a href="https://help.github.com/articles/about-git-rebase/#an-example-of-using-git-rebase" rel="noreferrer">here is an example of what you will see after executing the <code>git rebase -i B</code> command</a>)</p>
<ul>
<li>
if you need to edit <code>A</code>, use <code>git rebase -i --root</code>
</li>
</ul>
</li>
<li>
change the lines for both <code>C</code> and <code>D</code> from <code>pick</code> to <code>edit</code>
</li>
<li>
Once the rebase started, it would first pause at <code>C</code>
</li>
<li>
You would <code>git commit --amend --author="Author Name &amp;lt;email@address.com&amp;gt;"</code>
</li>
<li>
Then <code>git rebase --continue</code>
</li>
<li>
It would pause again at <code>D</code>
</li>
<li>
Then you would <code>git commit --amend --author="Author Name &amp;lt;email@address.com&amp;gt;"</code> again
</li>
<li>
<code>git rebase --continue</code>
</li>
<li>
The rebase would complete.
</li>
<li>
Use <code>git push -f</code> to update your origin with the updated commits.
</li>
</ol>
</section>
<section id="answer-2-score-443" class="level4">
<h4>Answer 2 (score 443)</h4>
<p>The <a href="https://stackoverflow.com/a/3042512/3357935">accepted answer</a> to this question is a wonderfully clever use of interactive rebase, but it unfortunately exhibits conflicts if the commit we are trying to change the author of used to be on a branch which was subsequently merged in. More generally, it does not work when handling messy histories.</p>
<p>Since I am apprehensive about running scripts which depend on setting and unsetting environment variables to rewrite git history, I am writing a new answer based on <a href="https://help.github.com/articles/changing-author-info/" rel="noreferrer">this post</a> which is similar to <a href="https://stackoverflow.com/a/3404304/391161">this answer</a> but is more complete.</p>
<p>
The following is tested and working, unlike the linked answer. Assume for clarity of exposition that <code>03f482d6</code> is the commit whose author we are trying to replace, and <code>42627abe</code> is the commit with the new author.
</p>
<ol>
<li>
<p>
Checkout the commit we are trying to modify.
</p>
<code>sh git checkout 03f482d6</code>
</li>
<li>
<p>
Make the author change.
</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb530-1" title="1"><span class="fu">git</span> commit --amend --author <span class="st">&quot;New Author Name &lt;New Author Email&gt;&quot;</span></a></code></pre></div>
Now we have a new commit with hash assumed to be <code>42627abe</code>.
</li>
<li>
<p>
Checkout the original branch.
</p>
</li>
<li>
<p>
Replace the old commit with the new one locally.
</p>
<code>sh git replace 03f482d6 42627abe</code>
</li>
<li>
<p>
Rewrite all future commits based on the replacement.
</p>
<code>sh git filter-branch -- --all</code>
</li>
<li>
<p>
Remove the replacement for cleanliness.
</p>
<code>sh git replace -d 03f482d6</code>
</li>
<li>
<p>
Push the new history (only use –force if the below fails, and only after sanity checking with <code>git log</code> and/or <code>git diff</code>).
</p>
<code>sh git push --force-with-lease</code>
</li>
</ol>
<p>Instead of 4-6 you can just rebase onto new commit:</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb531-1" title="1"><span class="fu">git</span> rebase -i 42627abe</a></code></pre></div>
</section>
<section id="answer-3-score-196" class="level4">
<h4>Answer 3 (score 196)</h4>
<p>Github documentation contains <a href="https://help.github.com/articles/changing-author-info/" rel="noreferrer">a script that replaces the committer info for all commits in a branch</a>.</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb532-1" title="1"><span class="co">#!/bin/sh</span></a>
<a class="sourceLine" id="cb532-2" title="2"></a>
<a class="sourceLine" id="cb532-3" title="3"><span class="fu">git</span> filter-branch --env-filter <span class="st">&#39;</span></a>
<a class="sourceLine" id="cb532-4" title="4"></a>
<a class="sourceLine" id="cb532-5" title="5"><span class="st">OLD_EMAIL=&quot;your-old-email@example.com&quot;</span></a>
<a class="sourceLine" id="cb532-6" title="6"><span class="st">CORRECT_NAME=&quot;Your Correct Name&quot;</span></a>
<a class="sourceLine" id="cb532-7" title="7"><span class="st">CORRECT_EMAIL=&quot;your-correct-email@example.com&quot;</span></a>
<a class="sourceLine" id="cb532-8" title="8"></a>
<a class="sourceLine" id="cb532-9" title="9"><span class="st">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></a>
<a class="sourceLine" id="cb532-10" title="10"><span class="st">then</span></a>
<a class="sourceLine" id="cb532-11" title="11"><span class="st">    export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;</span></a>
<a class="sourceLine" id="cb532-12" title="12"><span class="st">    export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></a>
<a class="sourceLine" id="cb532-13" title="13"><span class="st">fi</span></a>
<a class="sourceLine" id="cb532-14" title="14"><span class="st">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></a>
<a class="sourceLine" id="cb532-15" title="15"><span class="st">then</span></a>
<a class="sourceLine" id="cb532-16" title="16"><span class="st">    export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;</span></a>
<a class="sourceLine" id="cb532-17" title="17"><span class="st">    export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></a>
<a class="sourceLine" id="cb532-18" title="18"><span class="st">fi</span></a>
<a class="sourceLine" id="cb532-19" title="19"><span class="st">&#39;</span> --tag-name-filter cat -- --branches --tags</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-remove-a-commit-on-github-score-840447-in-2018" class="level3">
<h3>82: How can I remove a commit on GitHub? (score <a href="https://stackoverflow.com/q/448919.html">840447</a> in 2018)</h3>
<section id="question-81" class="level4">
<h4>Question</h4>
<p>I “accidentally” pushed a commit to GitHub.</p>
<p>Is it possible to remove this commit?</p>
<p>I want to revert my GitHub repository as it was before this commit.</p>
</section>
<section id="answer-accepted-score-1145" class="level4">
<h4>Answer accepted (score 1145)</h4>
<blockquote>
<p><strong>Note:</strong> please see alternative to <code>git rebase -i</code> in the comments below—</p>
<code>git reset --soft HEAD^</code>
</blockquote>
<p>First, remove the commit on your local repository. You can do this using <code>git rebase -i</code>. For example, if it’s your last commit, you can do <code>git rebase -i HEAD~2</code> and delete the second line within the editor window that pops up.</p>
<p>Then, force push to GitHub by using <code>git push origin +branchName --force</code></p>
<p>See <a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/ch05.html#_8230_and_then_some" rel="noreferrer">Git Magic Chapter 5: Lessons of History - And Then Some</a> for more information (i.e. if you want to remove older commits).</p>
<p>Oh, and if your working tree is dirty, you have to do a <code>git stash</code> first, and then a <code>git stash apply</code> after.</p>
</section>
<section id="answer-2-score-918" class="level4">
<h4>Answer 2 (score 918)</h4>
<div class="sourceCode" id="cb533"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb533-1" title="1"><span class="fu">git</span> push -f origin HEAD^:master</a></code></pre></div>
<p>That should “undo” the push.</p>
</section>
<section id="answer-3-score-330" class="level4">
<h4>Answer 3 (score 330)</h4>
<p>For an easy revert if it’s just a mistake (perhaps you forked a repo, then ended up pushing to the original instead of to a new one) here’s another possibility:</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb534-1" title="1"><span class="fu">git</span> reset --hard 71c27777543ccfcb0376dcdd8f6777df055ef479</a></code></pre></div>
<p>Obviously swap in that number for the number of the commit you want to return to.</p>
<p>Everything since then will be deleted once you push again. To do that, the next step would be:</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb535-1" title="1"><span class="fu">git</span> push --force</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-remove-a-submodule-score-815253-in-2018" class="level3">
<h3>83: How do I remove a submodule? (score <a href="https://stackoverflow.com/q/1260748.html">815253</a> in 2018)</h3>
<section id="question-82" class="level4">
<h4>Question</h4>
<p>How do I remove a Git submodule?</p>
<p>
By the way, is there a reason I can’t simply do <code>git submodule rm whatever</code> ?
</p>
</section>
<section id="answer-accepted-score-2039" class="level4">
<h4>Answer accepted (score 2039)</h4>
<p>Since <a href="https://github.com/git/git/blob/v1.8.3-rc0/Documentation/RelNotes/1.8.3.txt#L135-L137" rel="noreferrer">git1.8.3 (April 22d, 2013)</a>:</p>
<blockquote>
<p>
There was no Porcelain way to say “I no longer am interested in this submodule”, once you express your interest in a submodule with “<code>submodule init</code>”.<br> “<strong><code>submodule deinit</code></strong>” is the way to do so.
</p>
</blockquote>
<p>The deletion process also uses <code>git rm</code> (since git1.8.5 October 2013).</p>
<h5>
Summary
</h2>
<p>The 3-steps removal process would then be:</p>
<div class="sourceCode" id="cb536"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb536-1" title="1"><span class="ex">0.</span> mv a/submodule a/submodule_tmp</a>
<a class="sourceLine" id="cb536-2" title="2"></a>
<a class="sourceLine" id="cb536-3" title="3"><span class="ex">1.</span> git submodule deinit -f -- a/submodule    </a>
<a class="sourceLine" id="cb536-4" title="4"><span class="ex">2.</span> rm -rf .git/modules/a/submodule</a>
<a class="sourceLine" id="cb536-5" title="5"><span class="ex">3.</span> git rm -f a/submodule</a>
<a class="sourceLine" id="cb536-6" title="6"><span class="co"># Note: a/submodule (no trailing slash)</span></a>
<a class="sourceLine" id="cb536-7" title="7"></a>
<a class="sourceLine" id="cb536-8" title="8"><span class="co"># or, if you want to leave it in your working tree and have done step 0</span></a>
<a class="sourceLine" id="cb536-9" title="9"><span class="ex">3.</span>   git rm --cached a/submodule</a>
<a class="sourceLine" id="cb536-10" title="10"><span class="ex">3bis</span> mv a/submodule_tmp a/submodule</a></code></pre></div>
<h5>
Explanation
</h2>
<p><code>rm -rf</code>: This is mentioned in <a href="https://stackoverflow.com/users/2753241/daniel-schroeder">Daniel Schroeder</a>’s <a href="https://stackoverflow.com/a/26505847/6309">answer</a>, and summarized by <a href="https://stackoverflow.com/users/246776/eonil">Eonil</a> in <a href="https://stackoverflow.com/questions/1260748/how-do-i-remove-a-git-submodule/16162000?noredirect=1#comment41729982_16162000">the comments</a>:</p>
<blockquote>
<p>
This leaves <code>.git/modules/&amp;lt;path-to-submodule&amp;gt;/</code> unchanged.<br> So if you once delete a submodule with this method and re-add them again, it will not be possible because repository already been corrupted.
</p>
</blockquote>
<hr>
<p><code>git rm</code>: See <a href="https://github.com/git/git/commit/95c16418f0375e2fc325f32c3d7578fba9cfd7ef" rel="noreferrer">commit 95c16418</a>:</p>
<blockquote>
<p>
Currently using “<code>git rm</code>” on a submodule removes the submodule’s work tree from that of the superproject and the gitlink from the index.<br> But the submodule’s section in <code>.gitmodules</code> is left untouched, which is a leftover of the now removed submodule and might irritate users (as opposed to the setting in <code>.git/config</code>, this must stay as a reminder that the user showed interest in this submodule so it will be repopulated later when an older commit is checked out).
</p>
Let “<code>git rm</code>” help the user by not only removing the submodule from the work tree but by also removing the “<code>submodule.&amp;lt;submodule name&amp;gt;</code>” section from the <code>.gitmodules</code> file and stage both.
</blockquote>
<hr>
<p><code>git submodule deinit</code>: It stems from <a href="http://git.661346.n2.nabble.com/PATCH-v3-submodule-add-deinit-command-td7576946.html" rel="noreferrer">this patch</a>:</p>
<blockquote>
<p>
With “<code>git submodule init</code>” the user is able to tell git they care about one or more submodules and wants to have it populated on the next call to “<code>git submodule update</code>”.<br> But currently there is no easy way they can tell git they do not care about a submodule anymore and wants to get rid of the local work tree (unless the user knows a lot about submodule internals and removes the “<code>submodule.$name.url</code>” setting from <code>.git/config</code> together with the work tree himself).
</p>
<p>
Help those users by providing a ‘<strong><code>deinit</code></strong>’ command.<br> This <strong>removes the whole <code>submodule.&amp;lt;name&amp;gt;</code> section from <code>.git/config</code> either for the given submodule(s)</strong> (or for all those which have been initialized if ‘<code>.</code>’ is given).<br> Fail if the current work tree contains modifications unless forced.<br> Complain when for a submodule given on the command line the url setting can’t be found in <code>.git/config</code>, but nonetheless don’t fail.
</p>
</blockquote>
<p>This takes care if the (de)initialization steps (<code>.git/config</code> and <code>.git/modules/xxx</code>)</p>
<p>Since git1.8.5, the <code>git rm</code> takes <em>also</em> care of the:</p>
<ul>
<li>
‘<code>add</code>’ step which records the url of a submodule in the <code>.gitmodules</code> file: it is need to removed for you.
</li>
<li>
the submodule <strong><a href="https://stackoverflow.com/questions/1992018/git-submodule-update-needed-only-initially/2227598#2227598">special entry</a></strong> (as illustrated by <a href="https://stackoverflow.com/q/16574625/6309">this question</a>): the git rm removes it from the index:<br> <code>git rm --cached path_to_submodule</code> (no trailing slash)<br> That will remove that directory stored in the index with a special mode “160000”, marking it as a submodule root directory.
</li>
</ul>
<p>If you forget that last step, and try to add what was a submodule as a regular directory, you would get error message like:</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb537-1" title="1"><span class="fu">git</span> add mysubmodule/file.txt </a>
<a class="sourceLine" id="cb537-2" title="2"><span class="ex">Path</span> <span class="st">&#39;mysubmodule/file.txt&#39;</span> is in submodule <span class="st">&#39;mysubmodule&#39;</span></a></code></pre></div>
<hr>
<p>
Note: since Git 2.17 (Q2 2018), git submodule deinit is no longer a shell script.<br> It is a call to a C function.
</p>
<p>
See <a href="https://github.com/git/git/commit/2e612731b55f1a83fb5b7f4ecb9391f0cba63cb2" rel="noreferrer">commit 2e61273</a>, <a href="https://github.com/git/git/commit/13424764db3273091d136bd470cf14852255c98c" rel="noreferrer">commit 1342476</a> (14 Jan 2018) by <a href="https://github.com/pratham-pc" rel="noreferrer">Prathamesh Chavan (<code>pratham-pc</code>)</a>.<br> <sup>(Merged by <a href="https://github.com/gitster" rel="noreferrer">Junio C Hamano – <code>gitster</code> –</a> in <a href="https://github.com/git/git/commit/ead8dbe2e14ee9a2a18ccd0ad7bca806e1be0d54" rel="noreferrer">commit ead8dbe</a>, 13 Feb 2018)</sup>
</p>
<div class="sourceCode" id="cb538"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb538-1" title="1"><span class="fu">git</span> <span class="va">${wt_prefix:+</span>-C <span class="st">&quot;</span><span class="va">$wt_prefix</span><span class="st">&quot;</span><span class="va">}</span> submodule--helper deinit \</a>
<a class="sourceLine" id="cb538-2" title="2">  <span class="va">${GIT_QUIET:+</span>--quiet<span class="va">}</span> \</a>
<a class="sourceLine" id="cb538-3" title="3">  <span class="va">${prefix:+</span>--prefix <span class="st">&quot;</span><span class="va">$prefix</span><span class="st">&quot;</span><span class="va">}</span> \</a>
<a class="sourceLine" id="cb538-4" title="4">  <span class="va">${force:+</span>--force<span class="va">}</span> \</a>
<a class="sourceLine" id="cb538-5" title="5">  <span class="va">${deinit_all:+</span>--all<span class="va">}</span> <span class="st">&quot;</span><span class="va">$@</span><span class="st">&quot;</span></a></code></pre></div>
</section>
<section id="answer-2-score-3346" class="level4">
<h4>Answer 2 (score 3346)</h4>
<p>Via the page <em><a href="https://git.wiki.kernel.org/index.php/GitSubmoduleTutorial#Removal" rel="noreferrer">Git Submodule Tutorial</a></em>:</p>
<p><strong>To remove a submodule you need to:</strong></p>
<ol>
<li>
Delete the relevant section from the <code>.gitmodules</code> file.
</li>
<li>
Stage the <code>.gitmodules</code> changes:<br/><code>git add .gitmodules</code>
</li>
<li>
Delete the relevant section from <code>.git/config</code>.
</li>
<li>
Remove the submodule files from the working tree and index:<br/><code>git rm --cached path_to_submodule</code> (no trailing slash).
</li>
<li>
Remove the submodule’s <code>.git</code> directory:<br/><code>rm -rf .git/modules/path_to_submodule</code>
</li>
<li>
Commit the changes:<br/><code>git commit -m "Removed submodule &amp;lt;name&amp;gt;"</code>
</li>
<li>
Delete the now untracked submodule files:<br/><code>rm -rf path_to_submodule</code>
</li>
</ol>
<p><strong>See also</strong>: <a href="https://stackoverflow.com/a/7646931/5614968">alternative steps below</a>.</p>
</section>
<section id="answer-3-score-425" class="level4">
<h4>Answer 3 (score 425)</h4>
<p>Just a note. Since git 1.8.5.2, two commands will do:</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb539-1" title="1"><span class="fu">git</span> rm the_submodule</a>
<a class="sourceLine" id="cb539-2" title="2"><span class="fu">rm</span> -rf .git/modules/the_submodule</a></code></pre></div>
<p>As <span class="citation" data-cites="Mark">@Mark</span> Cheverton’s answer correctly pointed out, if the second line isn’t used, even if you removed the submodule for now, the remnant .git/modules/the_submodule folder will prevent the same submodule from being added back or replaced in the future. Also, as <span class="citation" data-cites="VonC">@VonC</span> mentioned, <code>git rm</code> will do most of the job on a submodule.</p>
<p>–Update (07/05/2017)–</p>
<p>Just to clarify, <code>the_submodule</code> is the relative path of the submodule inside the project. For example, it’s <code>subdir/my_submodule</code> if the submodule is inside a subdirectory <code>subdir</code>.</p>
<p>As pointed out correctly in the comments and <a href="https://stackoverflow.com/a/44863971/683218">other answers</a>, the two commands (although functionally sufficient to remove a submodule), do leave a trace in the <code>[submodule "the_submodule"]</code> section of <code>.git/config</code> (as of July 2017), which can be removed using a third command:</p>
<div class="sourceCode" id="cb540"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb540-1" title="1"><span class="fu">git</span> config -f .git/config --remove-section submodule.the_submodule <span class="op">2&gt;</span> /dev/null</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="you-have-not-concluded-your-merge-merge_head-exists-score-804474-in-2016" class="level3">
<h3>84: You have not concluded your merge (MERGE_HEAD exists) (score <a href="https://stackoverflow.com/q/11646107.html">804474</a> in 2016)</h3>
<section id="question-83" class="level4">
<h4>Question</h4>
<p>I made a branch called ‘f’ and did a checkout to master. When I tried the <code>git pull</code> command I got this message:</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb541-1" title="1"><span class="ex">You</span> have not concluded your merge (MERGE_HEAD exists)<span class="ex">.</span></a>
<a class="sourceLine" id="cb541-2" title="2"><span class="ex">Please</span>, commit your changes before you can merge.</a></code></pre></div>
<p>When I try the <code>git status</code>, it gave me the following:</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb542-1" title="1"><span class="ex">On</span> branch master</a>
<a class="sourceLine" id="cb542-2" title="2"><span class="co"># Your branch and &#39;origin/master&#39; have diverged,</span></a>
<a class="sourceLine" id="cb542-3" title="3"><span class="co"># and have 1 and 13 different commit(s) each, respectively.</span></a>
<a class="sourceLine" id="cb542-4" title="4"><span class="co">#</span></a>
<a class="sourceLine" id="cb542-5" title="5"><span class="co"># Changes to be committed:</span></a>
<a class="sourceLine" id="cb542-6" title="6"><span class="co">#</span></a>
<a class="sourceLine" id="cb542-7" title="7"><span class="co">#   modified:   app/assets/images/backward.png</span></a>
<a class="sourceLine" id="cb542-8" title="8"><span class="co">#   modified:   app/assets/images/forward.png</span></a>
<a class="sourceLine" id="cb542-9" title="9"><span class="co">#   new file:   app/assets/images/index_background.jpg</span></a>
<a class="sourceLine" id="cb542-10" title="10"><span class="co">#   new file:   app/assets/images/loading.gif</span></a>
<a class="sourceLine" id="cb542-11" title="11"><span class="co">#   modified:   app/assets/images/pause.png</span></a>
<a class="sourceLine" id="cb542-12" title="12"><span class="co">#   modified:   app/assets/images/play.png</span></a>
<a class="sourceLine" id="cb542-13" title="13"><span class="co">#   new file:   app/assets/javascripts/jquery-ui-bootstrap.js</span></a>
<a class="sourceLine" id="cb542-14" title="14"><span class="co">#   new file:   app/assets/stylesheets/jquery-ui-bootstrap.css</span></a>
<a class="sourceLine" id="cb542-15" title="15"><span class="co">#   modified:   app/controllers/friends_controller.rb</span></a>
<a class="sourceLine" id="cb542-16" title="16"><span class="co">#   modified:   app/controllers/plays_controller.rb</span></a>
<a class="sourceLine" id="cb542-17" title="17"><span class="co">#   modified:   app/mailers/invite_friends_mailer.rb</span></a>
<a class="sourceLine" id="cb542-18" title="18"><span class="co">#   modified:   app/mailers/send_plays_mailer.rb</span></a>
<a class="sourceLine" id="cb542-19" title="19"><span class="co">#   modified:   app/mailers/shot_chart_mailer.rb</span></a>
<a class="sourceLine" id="cb542-20" title="20"><span class="co">#   modified:   app/views/friends/show_plays.html.erb</span></a>
<a class="sourceLine" id="cb542-21" title="21"><span class="co">#   modified:   app/views/layouts/application.html.erb</span></a>
<a class="sourceLine" id="cb542-22" title="22"><span class="co">#   modified:   app/views/plays/_inbox_table.html.erb</span></a>
<a class="sourceLine" id="cb542-23" title="23"><span class="co">#   modified:   app/views/plays/show.html.erb</span></a>
<a class="sourceLine" id="cb542-24" title="24"><span class="co">#   modified:   app/views/welcome/contact_form.html.erb</span></a>
<a class="sourceLine" id="cb542-25" title="25"><span class="co">#   modified:   app/views/welcome/index.html.erb</span></a>
<a class="sourceLine" id="cb542-26" title="26"><span class="co">#   modified:   log/development.log</span></a>
<a class="sourceLine" id="cb542-27" title="27"><span class="co">#   modified:   log/restclient.log</span></a>
<a class="sourceLine" id="cb542-28" title="28"><span class="co">#   new file:   tmp/cache/assets/C1A/C00/sprockets%2Fb7901e0813446f810e560158a1a97066</span></a>
<a class="sourceLine" id="cb542-29" title="29"><span class="co">#   modified:   tmp/cache/assets/C64/930/sprockets%2F65aa1510292214f4fd1342280d521e4c</span></a>
<a class="sourceLine" id="cb542-30" title="30"><span class="co">#   new file:   tmp/cache/assets/C73/C40/sprockets%2F96912377b93498914dd04bc69fa98585</span></a>
<a class="sourceLine" id="cb542-31" title="31"><span class="co">#   new file:   tmp/cache/assets/CA9/090/sprockets%2Fa71992733a432421e67e03ff1bd441d8</span></a>
<a class="sourceLine" id="cb542-32" title="32"><span class="co">#   new file:   tmp/cache/assets/CCD/7E0/sprockets%2F47125c2ebd0e8b29b6511b7b961152a1</span></a>
<a class="sourceLine" id="cb542-33" title="33"><span class="co">#   modified:   tmp/cache/assets/CD5/DD0/sprockets%2F59d317902de6e0f68689899259caff26</span></a>
<a class="sourceLine" id="cb542-34" title="34"><span class="co">#   modified:   tmp/cache/assets/CE3/080/sprockets%2F5c3b516e854760f14eda2395c4ff2581</span></a>
<a class="sourceLine" id="cb542-35" title="35"><span class="co">#   new file:   tmp/cache/assets/CED/B20/sprockets%2F423772fde44ab6f6f861639ee71444c4</span></a>
<a class="sourceLine" id="cb542-36" title="36"><span class="co">#   new file:   tmp/cache/assets/D0C/E10/sprockets%2F8d1f4b30c6be13017565fe1b697156ce</span></a>
<a class="sourceLine" id="cb542-37" title="37"><span class="co">#   new file:   tmp/cache/assets/D12/290/sprockets%2F93ae21f3cdd5e24444ae4651913fd875</span></a>
<a class="sourceLine" id="cb542-38" title="38"><span class="co">#   new file:   tmp/cache/assets/D13/FC0/sprockets%2F57aad34b9d3c9e225205237dac9b1999</span></a>
<a class="sourceLine" id="cb542-39" title="39"><span class="co">#   new file:   tmp/cache/assets/D1D/DE0/sprockets%2F5840ff4283f6545f472be8e10ce67bb8</span></a>
<a class="sourceLine" id="cb542-40" title="40"><span class="co">#   new file:   tmp/cache/assets/D23/BD0/sprockets%2F439d5dedcc8c54560881edb9f0456819</span></a>
<a class="sourceLine" id="cb542-41" title="41"><span class="co">#   new file:   tmp/cache/assets/D24/570/sprockets%2Fb449db428fc674796e18b7a419924afe</span></a>
<a class="sourceLine" id="cb542-42" title="42"><span class="co">#   new file:   tmp/cache/assets/D28/480/sprockets%2F9aeec798a04544e478806ffe57e66a51</span></a>
<a class="sourceLine" id="cb542-43" title="43"><span class="co">#   new file:   tmp/cache/assets/D3A/ED0/sprockets%2Fcd959cbf710b366c145747eb3c062bb4</span></a>
<a class="sourceLine" id="cb542-44" title="44"><span class="co">#   new file:   tmp/cache/assets/D3C/060/sprockets%2F363ac7c9208d3bb5d7047f11c159d7ce</span></a>
<a class="sourceLine" id="cb542-45" title="45"><span class="co">#   new file:   tmp/cache/assets/D48/D00/sprockets%2Fe23c97b8996e7b5567a3080c285aaccb</span></a>
<a class="sourceLine" id="cb542-46" title="46"><span class="co">#   new file:   tmp/cache/assets/D6A/900/sprockets%2Fa5cece9476b21aa4d5f46911ca96c450</span></a>
<a class="sourceLine" id="cb542-47" title="47"><span class="co">#   new file:   tmp/cache/assets/D6C/510/sprockets%2Fb086a020de3c258cb1c67dfc9c67d546</span></a>
<a class="sourceLine" id="cb542-48" title="48"><span class="co">#   new file:   tmp/cache/assets/D70/F30/sprockets%2Facf9a6348722adf1ee7abbb695603078</span></a>
<a class="sourceLine" id="cb542-49" title="49"><span class="co">#   new file:   tmp/cache/assets/DA3/4A0/sprockets%2F69c26d0a9ca8ce383e20897cefe05aa4</span></a>
<a class="sourceLine" id="cb542-50" title="50"><span class="co">#   new file:   tmp/cache/assets/DA7/2F0/sprockets%2F61da396fb86c5ecd844a2d83ac759b4b</span></a>
<a class="sourceLine" id="cb542-51" title="51"><span class="co">#   new file:   tmp/cache/assets/DB9/C80/sprockets%2F876fbfb9685b2b8ea476fa3c67ae498b</span></a>
<a class="sourceLine" id="cb542-52" title="52"><span class="co">#   new file:   tmp/cache/assets/DBD/7A0/sprockets%2F3640ea84a1dfaf6f91a01d1d6fbe223d</span></a>
<a class="sourceLine" id="cb542-53" title="53"><span class="co">#   new file:   tmp/cache/assets/DC1/8D0/sprockets%2Fe5ee1f1cfba2144ec00b1dcd6773e691</span></a>
<a class="sourceLine" id="cb542-54" title="54"><span class="co">#   new file:   tmp/cache/assets/DCC/E60/sprockets%2Fd6a95f601456c93ff9a1bb70dea3dfc0</span></a>
<a class="sourceLine" id="cb542-55" title="55"><span class="co">#   new file:   tmp/cache/assets/DF1/130/sprockets%2Fcda4825bb42c91e2d1f1ea7b2b958bda</span></a>
<a class="sourceLine" id="cb542-56" title="56"><span class="co">#   new file:   tmp/cache/assets/E23/DE0/sprockets%2Fb1acc25c28cd1fabafbec99d169163d3</span></a>
<a class="sourceLine" id="cb542-57" title="57"><span class="co">#   new file:   tmp/cache/assets/E23/FD0/sprockets%2Fea3dbcd1f341008ef8be67b1ccc5a9c5</span></a>
<a class="sourceLine" id="cb542-58" title="58"><span class="co">#   modified:   tmp/cache/assets/E4E/AD0/sprockets%2Fb930f45cfe7c6a8d0efcada3013cc4bc</span></a>
<a class="sourceLine" id="cb542-59" title="59"><span class="co">#   new file:   tmp/cache/assets/E63/7D0/sprockets%2F77de495a665c3ebcb47befecd07baae6</span></a>
<a class="sourceLine" id="cb542-60" title="60"><span class="co">#   modified:   tmp/pids/server.pid</span></a>
<a class="sourceLine" id="cb542-61" title="61"><span class="co">#</span></a>
<a class="sourceLine" id="cb542-62" title="62"><span class="co"># Untracked files:</span></a>
<a class="sourceLine" id="cb542-63" title="63"><span class="co">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span></a>
<a class="sourceLine" id="cb542-64" title="64"><span class="co">#</span></a>
<a class="sourceLine" id="cb542-65" title="65"><span class="co">#   Coachbase/</span></a>
<a class="sourceLine" id="cb542-66" title="66"><span class="co">#   log/development.log.orig</span></a>
<a class="sourceLine" id="cb542-67" title="67"><span class="co">#   log/restclient.log.orig</span></a></code></pre></div>
<p>What should I do?</p>
</section>
<section id="answer-accepted-score-1686" class="level4">
<h4>Answer accepted (score 1686)</h4>
<p>OK. The problem is your previous pull failed to merge automatically and went to conflict state. And the conflict wasn’t resolved properly before the next pull.</p>
<ol>
<li>
<p>
Undo the merge and pull again.
</p>
<p>To undo a merge:</p>
<p><code>git merge --abort</code> [Since git version 1.7.4]</p>
<code>git reset --merge</code> [prior git versions]
</li>
<li>
<p>
Resolve the conflict.
</p>
</li>
<li>
<p>
<strong>Don’t forget to add and commit the merge.</strong>
</p>
</li>
<li>
<p>
<code>git pull</code> now should work fine.
</p>
</li>
</ol>
</section>
<section id="answer-2-score-84" class="level4">
<h4>Answer 2 (score 84)</h4>
<p>If you are sure that you already resolved all merge conflicts:</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb543-1" title="1"><span class="fu">rm</span> -rf .git/MERGE*</a></code></pre></div>
<p>And the error will disappear.</p>
</section>
<section id="answer-3-score-63-1" class="level4">
<h4>Answer 3 (score 63)</h4>
<p>I think it’s worth mentioning that there are numerous scenarios in which the message <code>You have not concluded your merge (MERGE_HEAD exists)</code> could occur, because many people have probably arrived at this page after searching for said message. The resolution will depend on how you got there.</p>
<p><code>git status</code> is always a useful starting point.</p>
<p>If you’ve already merged the contents to your satisfaction and are still getting this message, it could be as simple as doing</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb544-1" title="1"><span class="fu">git</span> add file</a>
<a class="sourceLine" id="cb544-2" title="2"><span class="fu">git</span> commit</a></code></pre></div>
<p>
But again, it really depends on the situation. It’s a good idea to understand the basics before attempting anything (same link Terence posted): <a href="http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging#Basic-Merge-Conflicts" rel="noreferrer">Git - Basic Merge Conflicts</a>
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="git-cannot-checkout-branch---error-pathspec-did-not-match-any-files-known-to-git-score-794843-in-2017" class="level3">
<h3>85: Git: cannot checkout branch - error: pathspec ‘…’ did not match any file(s) known to git (score <a href="https://stackoverflow.com/q/5989592.html">794843</a> in 2017)</h3>
<section id="question-84" class="level4">
<h4>Question</h4>
<p>I’m not sure why I’m <strong>unable to checkout</strong> a branch that I had worked on earlier. See the commands below (note: <code>co</code> is an alias for <code>checkout</code>):</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb545-1" title="1"><span class="ex">ramon@ramon-desktop</span>:~/source/unstilted$ git branch -a</a>
<a class="sourceLine" id="cb545-2" title="2"><span class="ex">*</span> develop</a>
<a class="sourceLine" id="cb545-3" title="3">  <span class="ex">feature/datts_right</span></a>
<a class="sourceLine" id="cb545-4" title="4">  <span class="ex">feature/user_controlled_menu</span></a>
<a class="sourceLine" id="cb545-5" title="5">  <span class="ex">feature/user_controlled_site_layouts</span></a>
<a class="sourceLine" id="cb545-6" title="6">  <span class="ex">master</span></a>
<a class="sourceLine" id="cb545-7" title="7">  <span class="ex">remotes/origin/HEAD</span> -<span class="op">&gt;</span> origin/master</a>
<a class="sourceLine" id="cb545-8" title="8">  <span class="ex">remotes/origin/develop</span></a>
<a class="sourceLine" id="cb545-9" title="9">  <span class="ex">remotes/origin/feature/datts_right</span></a>
<a class="sourceLine" id="cb545-10" title="10">  <span class="ex">remotes/origin/master</span></a>
<a class="sourceLine" id="cb545-11" title="11"><span class="ex">ramon@ramon-desktop</span>:~/source/unstilted$ git co feature/user_controlled_site_layouts </a>
<a class="sourceLine" id="cb545-12" title="12"><span class="ex">error</span>: pathspec <span class="st">&#39;feature/user_controlled_site_layouts&#39;</span> did not match any file(s) <span class="ex">known</span> to git.</a></code></pre></div>
<p>I’m not sure what it means, and I can’t seem to find anything I can understand on Google.</p>
<p><strong>How do I checkout that branch, and what may I have done to break this?</strong></p>
<p><strong>UPDATE</strong>:</p>
<p>I found <a href="https://stackoverflow.com/questions/4181861/git-error-src-refspec-master-does-not-match-any">this post</a>, and running <code>git show-ref</code> gives me:</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb546-1" title="1"><span class="ex">97e2cb33914e763ff92bbe38531d3fd02408da46</span> refs/heads/develop</a>
<a class="sourceLine" id="cb546-2" title="2"><span class="ex">c438c439c66da3f2356d2449505c073549b221c1</span> refs/heads/feature/datts_right</a>
<a class="sourceLine" id="cb546-3" title="3"><span class="ex">11a90dae8897ceed318700b9af3019f4b4dceb1e</span> refs/heads/feature/user_controlled_menu</a>
<a class="sourceLine" id="cb546-4" title="4"><span class="ex">c889b37a5ee690986935c9c74b71999e2cf3c6d7</span> refs/heads/master</a>
<a class="sourceLine" id="cb546-5" title="5"><span class="ex">c889b37a5ee690986935c9c74b71999e2cf3c6d7</span> refs/remotes/origin/HEAD</a>
<a class="sourceLine" id="cb546-6" title="6"><span class="ex">e7c17eb40610505eea4e6687e4572191216ad4c6</span> refs/remotes/origin/develop</a>
<a class="sourceLine" id="cb546-7" title="7"><span class="ex">c438c439c66da3f2356d2449505c073549b221c1</span> refs/remotes/origin/feature/datts_right</a>
<a class="sourceLine" id="cb546-8" title="8"><span class="ex">c889b37a5ee690986935c9c74b71999e2cf3c6d7</span> refs/remotes/origin/master</a>
<a class="sourceLine" id="cb546-9" title="9"><span class="ex">23768aa5425cbf29d10ff24274adad42d90d15cc</span> refs/stash</a>
<a class="sourceLine" id="cb546-10" title="10"><span class="ex">e572cf91e95da03f04a5e51820f58a7306ce01de</span> refs/tags/menu_shows_published_only</a>
<a class="sourceLine" id="cb546-11" title="11"><span class="ex">429ebaa895d9d41d835a34da72676caa75902e3d</span> refs/tags/slow_dev</a></code></pre></div>
<p><strong>UPDATE on <code>.git</code> directory</strong> (<code>user_controlled_site_layouts</code> is in the <code>refs/heads/feature folder</code>):</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb547-1" title="1">$ <span class="fu">ls</span> .git/refs/heads/feature/</a>
<a class="sourceLine" id="cb547-2" title="2"><span class="ex">datts_right</span>  user_controlled_menu  user_controlled_site_layouts</a>
<a class="sourceLine" id="cb547-3" title="3">$ <span class="fu">cat</span> .git/refs/heads/feature/user_controlled_site_layouts</a>
<a class="sourceLine" id="cb547-4" title="4"><span class="ex">3af84fcf1508c44013844dcd0998a14e61455034</span></a></code></pre></div>
<p><strong>UPDATE on <code>git show 3af84fcf1508c44013844dcd0998a14e61455034</code></strong></p>
<div class="sourceCode" id="cb548"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb548-1" title="1">$ <span class="fu">git</span> show 3af84fcf1508c44013844dcd0998a14e61455034</a>
<a class="sourceLine" id="cb548-2" title="2"><span class="ex">commit</span> 3af84fcf1508c44013844dcd0998a14e61455034</a>
<a class="sourceLine" id="cb548-3" title="3"><span class="ex">Author</span>: Ramon Tayag <span class="op">&lt;</span>xxx@xxxxx.xxx<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb548-4" title="4"><span class="ex">Date</span>:   Thu May 12 19:00:03 2011 +0800</a>
<a class="sourceLine" id="cb548-5" title="5"></a>
<a class="sourceLine" id="cb548-6" title="6">    <span class="ex">Removed</span> site layouts migration</a>
<a class="sourceLine" id="cb548-7" title="7"></a>
<a class="sourceLine" id="cb548-8" title="8"><span class="fu">diff</span> --git a/db/schema.rb b/db/schema.rb</a>
<a class="sourceLine" id="cb548-9" title="9"><span class="ex">index</span> 1218fc8..2040b9f 100755</a>
<a class="sourceLine" id="cb548-10" title="10"><span class="ex">---</span> a/db/schema.rb</a>
<a class="sourceLine" id="cb548-11" title="11"><span class="ex">+++</span> b/db/schema.rb</a>
<a class="sourceLine" id="cb548-12" title="12"><span class="ex">@@</span> -10,7 +10,7 @@</a>
<a class="sourceLine" id="cb548-13" title="13"> <span class="co">#</span></a>
<a class="sourceLine" id="cb548-14" title="14"> <span class="co"># It&#39;s strongly recommended to check this file into your version control system.</span></a>
<a class="sourceLine" id="cb548-15" title="15"></a>
<a class="sourceLine" id="cb548-16" title="16"><span class="ex">-ActiveRecord</span>::Schema.define(:version =<span class="op">&gt;</span> 20110511012647) <span class="kw">do</span></a>
<a class="sourceLine" id="cb548-17" title="17"><span class="ex">+ActiveRecord</span>::Schema.define(:version =<span class="op">&gt;</span> 20110503040056) <span class="kw">do</span></a>
<a class="sourceLine" id="cb548-18" title="18"></a>
<a class="sourceLine" id="cb548-19" title="19">   <span class="ex">create_table</span> <span class="st">&quot;attachments&quot;</span>, :force =<span class="op">&gt;</span> true do <span class="kw">|</span><span class="ex">t</span><span class="kw">|</span></a>
<a class="sourceLine" id="cb548-20" title="20">     <span class="ex">t.string</span>   <span class="st">&quot;name&quot;</span></a>
<a class="sourceLine" id="cb548-21" title="21"><span class="ex">@@</span> -205,15 +205,6 @@ ActiveRecord::Schema.define(:version =<span class="op">&gt;</span> 20110511012647) <span class="kw">do</span></a>
<a class="sourceLine" id="cb548-22" title="22">     <span class="ex">t.integer</span>  <span class="st">&quot;old_id&quot;</span></a>
<a class="sourceLine" id="cb548-23" title="23">   <span class="ex">end</span></a>
<a class="sourceLine" id="cb548-24" title="24"></a>
<a class="sourceLine" id="cb548-25" title="25"><span class="ex">-</span>  create_table <span class="st">&quot;site_layouts&quot;</span>, :force =<span class="op">&gt;</span> true do <span class="kw">|</span><span class="ex">t</span><span class="kw">|</span></a>
<a class="sourceLine" id="cb548-26" title="26"><span class="ex">-</span>    t.string   <span class="st">&quot;name&quot;</span></a>
<a class="sourceLine" id="cb548-27" title="27"><span class="ex">-</span>    t.text     <span class="st">&quot;description&quot;</span></a>
<a class="sourceLine" id="cb548-28" title="28"><span class="ex">-</span>    t.text     <span class="st">&quot;content&quot;</span></a>
<a class="sourceLine" id="cb548-29" title="29"><span class="ex">-</span>    t.integer  <span class="st">&quot;site_id&quot;</span></a>
<a class="sourceLine" id="cb548-30" title="30"><span class="ex">-</span>    t.datetime <span class="st">&quot;created_at&quot;</span></a>
<a class="sourceLine" id="cb548-31" title="31"><span class="ex">-</span>    t.datetime <span class="st">&quot;updated_at&quot;</span></a>
<a class="sourceLine" id="cb548-32" title="32"><span class="ex">-</span>  end</a>
<a class="sourceLine" id="cb548-33" title="33"><span class="ex">-</span></a>
<a class="sourceLine" id="cb548-34" title="34">   <span class="ex">create_table</span> <span class="st">&quot;site_styles&quot;</span>, :force =<span class="op">&gt;</span> true do <span class="kw">|</span><span class="ex">t</span><span class="kw">|</span></a>
<a class="sourceLine" id="cb548-35" title="35">     <span class="ex">t.text</span>     <span class="st">&quot;published&quot;</span></a>
<a class="sourceLine" id="cb548-36" title="36">     <span class="ex">t.datetime</span> <span class="st">&quot;created_at&quot;</span></a></code></pre></div>
</section>
<section id="answer-2-score-828" class="level4">
<h4>Answer 2 (score 828)</h4>
<p>Try <code>git fetch</code> so that your local repository gets all the new info from github. It just takes the information about new branches and no actual code. After that the <code>git checkout</code> should work fine.</p>
</section>
<section id="answer-3-score-316" class="level4">
<h4>Answer 3 (score 316)</h4>
<p>I was getting this error when I tried to checkout new branch:</p>
<blockquote>
error: pathspec ‘BRANCH-NAME’ did not match any file(s) known to git.
</blockquote>
<p>When I tried <code>git checkout origin/&amp;lt;BRANCH-NAME&amp;gt;</code>, I got the detached HEAD:</p>
<blockquote>
(detached from origin/)
</blockquote>
<p><strong>Finally, I did the following to resolve the issue</strong>:</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb549-1" title="1"><span class="fu">git</span> remote update</a>
<a class="sourceLine" id="cb549-2" title="2"><span class="fu">git</span> fetch </a>
<a class="sourceLine" id="cb549-3" title="3"><span class="fu">git</span> checkout --track origin/<span class="op">&lt;</span>BRANCH-NAME<span class="op">&gt;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-retrieve-the-hash-for-the-current-commit-in-git-score-792346-in-2017" class="level3">
<h3>86: How to retrieve the hash for the current commit in Git? (score <a href="https://stackoverflow.com/q/949314.html">792346</a> in 2017)</h3>
<section id="question-85" class="level4">
<h4>Question</h4>
<p>I would like to retain (for now) the ability to link Git changesets to workitems stored in TFS.</p>
<p>I already wrote a tool (using a hook from Git) in which I can inject workitemidentifiers into the message of a Git changeset.</p>
<p>However, I would also like to store the identifier of the Git commit (the hash) into a custom TFS workitem field. This way I can examine a workitem in TFS and see what Git changesets are associated with the workitem.</p>
<p>How can I easily retrieve the hash from the current commit from Git?</p>
</section>
<section id="answer-accepted-score-2565" class="level4">
<h4>Answer accepted (score 2565)</h4>
<p>To turn arbitrary extended object reference into SHA-1, use simply <strong><a href="http://git-scm.com/docs/git-rev-parse" rel="noreferrer" title="git-rev-parse - Pick out and massage parameters">git-rev-parse</a></strong>, for example</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb550-1" title="1"><span class="fu">git</span> rev-parse HEAD</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb551-1" title="1"><span class="fu">git</span> rev-parse --verify HEAD</a></code></pre></div>
<p><strong><em>Sidenote:</em></strong> If you want to turn <em>references</em> (<strong>branches</strong> and <strong>tags</strong>) into SHA-1, there is <code>git show-ref</code> and <code>git for-each-ref</code>.</p>
</section>
<section id="answer-2-score-396" class="level4">
<h4>Answer 2 (score 396)</h4>
<p>If you only want the shortened hash:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb552-1" title="1"><span class="fu">git</span> log --pretty=format:<span class="st">&#39;%h&#39;</span> -n 1</a></code></pre></div>
<p>Further, using %H is another way to get the long hash.</p>
</section>
<section id="answer-3-score-140" class="level4">
<h4>Answer 3 (score 140)</h4>
<p>Another one, using git log:</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb553-1" title="1"><span class="fu">git</span> log -1 --format=<span class="st">&quot;%H&quot;</span></a></code></pre></div>
<p>It’s very similar to the of <span class="citation" data-cites="outofculture">@outofculture</span> though a bit shorter.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-change-the-author-and-committer-name-and-e-mail-of-multiple-commits-in-git-score-789248-in-2018" class="level3">
<h3>87: How to change the author and committer name and e-mail of multiple commits in Git? (score <a href="https://stackoverflow.com/q/750172.html">789248</a> in 2018)</h3>
<section id="question-86" class="level4">
<h4>Question</h4>
<p>I was writing a simple script in the school computer, and committing the changes to Git (in a repo that was in my pendrive, cloned from my computer at home). After several commits I realized I was committing stuff as the root user.</p>
<p>Is there any way to change the author of these commits to my name?</p>
</section>
<section id="answer-accepted-score-1075" class="level4">
<h4>Answer accepted (score 1075)</h4>
<p>Changing the author (or committer) would require re-writing all of the history. If you’re okay with that and think it’s worth it then you should check out <a href="http://schacon.github.com/git/git-filter-branch.html" rel="noreferrer">git filter-branch</a>. The man page includes several examples to get you started. Also note that you can use environment variables to change the name of the author, committer, dates, etc. – see the “Environment Variables” section of the <a href="http://schacon.github.com/git/git.html" rel="noreferrer">git man page</a>.</p>
<p>Specifically, you can fix all the wrong author names and emails <strong>for all branches and tags</strong> with this command (source: <a href="https://help.github.com/articles/changing-author-info/" rel="noreferrer">GitHub help</a>):</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb554-1" title="1"><span class="co">#!/bin/sh</span></a>
<a class="sourceLine" id="cb554-2" title="2"></a>
<a class="sourceLine" id="cb554-3" title="3"><span class="fu">git</span> filter-branch --env-filter <span class="st">&#39;</span></a>
<a class="sourceLine" id="cb554-4" title="4"><span class="st">OLD_EMAIL=&quot;your-old-email@example.com&quot;</span></a>
<a class="sourceLine" id="cb554-5" title="5"><span class="st">CORRECT_NAME=&quot;Your Correct Name&quot;</span></a>
<a class="sourceLine" id="cb554-6" title="6"><span class="st">CORRECT_EMAIL=&quot;your-correct-email@example.com&quot;</span></a>
<a class="sourceLine" id="cb554-7" title="7"><span class="st">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></a>
<a class="sourceLine" id="cb554-8" title="8"><span class="st">then</span></a>
<a class="sourceLine" id="cb554-9" title="9"><span class="st">    export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;</span></a>
<a class="sourceLine" id="cb554-10" title="10"><span class="st">    export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></a>
<a class="sourceLine" id="cb554-11" title="11"><span class="st">fi</span></a>
<a class="sourceLine" id="cb554-12" title="12"><span class="st">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></a>
<a class="sourceLine" id="cb554-13" title="13"><span class="st">then</span></a>
<a class="sourceLine" id="cb554-14" title="14"><span class="st">    export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;</span></a>
<a class="sourceLine" id="cb554-15" title="15"><span class="st">    export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></a>
<a class="sourceLine" id="cb554-16" title="16"><span class="st">fi</span></a>
<a class="sourceLine" id="cb554-17" title="17"><span class="st">&#39;</span> --tag-name-filter cat -- --branches --tags</a></code></pre></div>
</section>
<section id="answer-2-score-1530" class="level4">
<h4>Answer 2 (score 1530)</h4>
<h5>
Using Interactive Rebase
</h3>
<p>You could do</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb555-1" title="1"><span class="fu">git</span> rebase -i -p <span class="op">&lt;</span>some HEAD before all of your bad commits<span class="op">&gt;</span></a></code></pre></div>
<p>Then mark all of your bad commits as “edit” in the rebase file. If you also want to change your first commit, you have to manually add it as first line in the rebase file (follow the format of the other lines). Then, when git asks you to amend each commit, do</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb556-1" title="1"> <span class="fu">git</span> commit --amend --author <span class="st">&quot;New Author Name &lt;email@address.com&gt;&quot;</span> </a></code></pre></div>
<p>edit or just close the editor that opens, and then do</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb557-1" title="1"><span class="fu">git</span> rebase --continue</a></code></pre></div>
<p>to continue the rebase.</p>
<p>
You could skip opening the editor altogether here by appending <code>--no-edit</code> so that the command will be:
</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb558-1" title="1"><span class="fu">git</span> commit --amend --author <span class="st">&quot;New Author Name &lt;email@address.com&gt;&quot;</span> --no-edit <span class="kw">&amp;&amp;</span> <span class="kw">\</span></a>
<a class="sourceLine" id="cb558-2" title="2"><span class="fu">git</span> rebase --continue</a></code></pre></div>
<h5>
Single Commit
</h3>
<p>As some of the commenters have noted, if you just want to change the most recent commit, the rebase command is not necessary. Just do</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb559-1" title="1"> <span class="fu">git</span> commit --amend --author <span class="st">&quot;New Author Name &lt;email@address.com&gt;&quot;</span></a></code></pre></div>
<p>This will change the author to the name specified, but the committer will be set to your configured user in <code>git config user.name</code> and <code>git config user.email</code>. If you want to set the committer to something you specify, this will set both the author and the committer:</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb560-1" title="1"> <span class="fu">git</span> -c user.name=<span class="st">&quot;New Author Name&quot;</span> -c user.email=email@address.com commit --amend --reset-author</a></code></pre></div>
<h5>
Note on Merge Commits
</h3>
<p>There was a slight flaw in my original response. If there are any merge commits between the current <code>HEAD</code> and your <code>&amp;lt;some HEAD before all your bad commits&amp;gt;</code>, then <code>git rebase</code> will flatten them (and by the way, if you use GitHub pull requests, there are going to be a ton of merge commits in your history). This can very often lead to very different history (as duplicate changes may be “rebased out”), and in the worst case, it can lead to <code>git rebase</code> asking you to resolve difficult merge conflicts (which were likely already resolved in the merge commits). The solution is to use the <code>-p</code> flag to <code>git rebase</code>, which will preserve the merge structure of your history. The manpage for <code>git rebase</code> warns that using <code>-p</code> and <code>-i</code> can lead to issues, but in the <code>BUGS</code> section it says “Editing commits and rewording their commit messages should work fine.”</p>
<p>I’ve added <code>-p</code> to the above command. For the case where you’re just changing the most recent commit, this is not an issue.</p>
</section>
<section id="answer-3-score-582" class="level4">
<h4>Answer 3 (score 582)</h4>
<p>You can also do:</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb561-1" title="1"><span class="fu">git</span> filter-branch --commit-filter <span class="st">&#39;</span></a>
<a class="sourceLine" id="cb561-2" title="2"><span class="st">        if [ &quot;$GIT_COMMITTER_NAME&quot; = &quot;&lt;Old Name&gt;&quot; ];</span></a>
<a class="sourceLine" id="cb561-3" title="3"><span class="st">        then</span></a>
<a class="sourceLine" id="cb561-4" title="4"><span class="st">                GIT_COMMITTER_NAME=&quot;&lt;New Name&gt;&quot;;</span></a>
<a class="sourceLine" id="cb561-5" title="5"><span class="st">                GIT_AUTHOR_NAME=&quot;&lt;New Name&gt;&quot;;</span></a>
<a class="sourceLine" id="cb561-6" title="6"><span class="st">                GIT_COMMITTER_EMAIL=&quot;&lt;New Email&gt;&quot;;</span></a>
<a class="sourceLine" id="cb561-7" title="7"><span class="st">                GIT_AUTHOR_EMAIL=&quot;&lt;New Email&gt;&quot;;</span></a>
<a class="sourceLine" id="cb561-8" title="8"><span class="st">                git commit-tree &quot;$@&quot;;</span></a>
<a class="sourceLine" id="cb561-9" title="9"><span class="st">        else</span></a>
<a class="sourceLine" id="cb561-10" title="10"><span class="st">                git commit-tree &quot;$@&quot;;</span></a>
<a class="sourceLine" id="cb561-11" title="11"><span class="st">        fi&#39;</span> HEAD</a></code></pre></div>
<p>Note, if you are using this command in the Windows command prompt, then you need to use <code>"</code> instead of <code>'</code>:</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb562-1" title="1"><span class="fu">git</span> filter-branch --commit-filter <span class="st">&quot;</span></a>
<a class="sourceLine" id="cb562-2" title="2"><span class="st">        if [ &quot;</span><span class="va">$GIT_COMMITTER_NAME</span><span class="st">&quot; = &quot;</span><span class="op">&lt;</span>Old Name<span class="op">&gt;</span><span class="st">&quot; ];</span></a>
<a class="sourceLine" id="cb562-3" title="3"><span class="st">        then</span></a>
<a class="sourceLine" id="cb562-4" title="4"><span class="st">                GIT_COMMITTER_NAME=&quot;</span><span class="op">&lt;</span>New Name<span class="op">&gt;</span><span class="st">&quot;;</span></a>
<a class="sourceLine" id="cb562-5" title="5"><span class="st">                GIT_AUTHOR_NAME=&quot;</span><span class="op">&lt;</span>New Name<span class="op">&gt;</span><span class="st">&quot;;</span></a>
<a class="sourceLine" id="cb562-6" title="6"><span class="st">                GIT_COMMITTER_EMAIL=&quot;</span><span class="op">&lt;</span>New Email<span class="op">&gt;</span><span class="st">&quot;;</span></a>
<a class="sourceLine" id="cb562-7" title="7"><span class="st">                GIT_AUTHOR_EMAIL=&quot;</span><span class="op">&lt;</span>New Email<span class="op">&gt;</span><span class="st">&quot;;</span></a>
<a class="sourceLine" id="cb562-8" title="8"><span class="st">                git commit-tree &quot;</span><span class="va">$@</span><span class="st">&quot;;</span></a>
<a class="sourceLine" id="cb562-9" title="9"><span class="st">        else</span></a>
<a class="sourceLine" id="cb562-10" title="10"><span class="st">                git commit-tree &quot;</span><span class="va">$@</span><span class="st">&quot;;</span></a>
<a class="sourceLine" id="cb562-11" title="11"><span class="st">        fi&quot;</span> HEAD</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="receiving-fatal-not-a-git-repository-when-attempting-to-remote-add-a-git-repo-score-783501-in-2014" class="level3">
<h3>88: Receiving “fatal: Not a git repository” when attempting to remote add a Git repo (score <a href="https://stackoverflow.com/q/4630704.html">783501</a> in 2014)</h3>
<section id="question-87" class="level4">
<h4>Question</h4>
<p>I am introducing myself to Git by following this tutorial:</p>
<ul>
<li>
<a href="http://hayley.ws/2010/12/04/getting-jekyll-running.html" rel="noreferrer">getting jekyll running on nearlyfreespeech.net</a>
</li>
</ul>
<p>Everything works fine up until the part where the repo is added to my local machine:</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb563-1" title="1"><span class="fu">git</span> remote add nfsn ssh://USERNAME@NFSNSERVER/home/private/git/REPONAME.git</a></code></pre></div>
<p>(After replacing USERNAME, NFSNSERVER, and REPOAME with the correct names) I receive the error:</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb564-1" title="1"><span class="ex">fatal</span>: Not a git repository (or any of the parent directories)<span class="bu">:</span> .git</a></code></pre></div>
<p>Can you help me get past this step?</p>
</section>
<section id="answer-accepted-score-835" class="level4">
<h4>Answer accepted (score 835)</h4>
<p>Did you init a local Git repository, into which this remote is supposed to be added?</p>
<p>Does your local directory have a <code>.git</code> folder?</p>
<p>Try <code>git init</code>.</p>
</section>
<section id="answer-2-score-79" class="level4">
<h4>Answer 2 (score 79)</h4>
<p>You’ll get this error if you try to use a Git command when your current working directory is not within a Git repository. That is because, by default, Git will look for a <code>.git</code> repository directory (inside of the project root?), as pointed out by <a href="https://stackoverflow.com/a/24076407/456814">my answer to “Git won’t show log unless I am in the project directory”</a>:</p>
<blockquote>
<p>
According to the <a href="https://www.kernel.org/pub/software/scm/git/docs/git.html" rel="noreferrer">official Linux Kernel Git documentation</a>, <code>GIT_DIR</code> is [an environment variable] set to look for a <code>.git</code> directory (in the current working directory?) by default:
</p>
<blockquote>
<p>
If the <code>GIT_DIR</code> environment variable is set then it specifies a path to use instead of the default <code>.git</code> for the base of the repository.
</p>
</blockquote>
</blockquote>
<p>You’ll either need to <code>cd</code> into the repository/working copy, or you didn’t initialize or clone a repository in the first place, in which case you need to initialize a repo in the directory where you want to place the repo:</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb565-1" title="1"><span class="fu">git</span> init</a></code></pre></div>
<p>or clone a repository</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb566-1" title="1"><span class="fu">git</span> clone <span class="op">&lt;</span>remote-url<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb566-2" title="2"><span class="bu">cd</span> <span class="op">&lt;</span>repository<span class="op">&gt;</span></a></code></pre></div>
</section>
<section id="answer-3-score-24" class="level4">
<h4>Answer 3 (score 24)</h4>
<p>My problem was that for some hiccups with my OS any command on my local repository ended with “fatal: Not a git repository (or any of the parent directories): .git”, with fsck command included.</p>
<p>The problem was <strong>empty HEAD file</strong>.</p>
<p>I was able to find actual branch name I’ve worked on in .git/refs/heads and then I did this:</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb567-1" title="1"><span class="bu">echo</span> <span class="st">&#39;ref: refs/heads/ML_#94_FILTER_TYPES_AND_SPECIAL_CHARS&#39;</span> <span class="op">&gt;</span> .git/HEAD</a></code></pre></div>
<p>It worked.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="cannot-push-to-github---keeps-saying-need-merge-score-779252-in-2016" class="level3">
<h3>89: Cannot push to GitHub - keeps saying need merge (score <a href="https://stackoverflow.com/q/10298291.html">779252</a> in 2016)</h3>
<section id="question-88" class="level4">
<h4>Question</h4>
<p>I’m new to <a href="http://en.wikipedia.org/wiki/GitHub">GitHub</a>. Today I met some issue when I was trying to push my code to GitHub.</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb568-1" title="1"><span class="ex">Pushing</span> to git@github.com:519ebayproject/519ebayproject.git</a>
<a class="sourceLine" id="cb568-2" title="2"><span class="ex">To</span> git@github.com:519ebayproject/519ebayproject.git</a>
<a class="sourceLine" id="cb568-3" title="3"> ! [<span class="ex">rejected</span>]        master -<span class="op">&gt;</span> master (non-fast-forward)</a>
<a class="sourceLine" id="cb568-4" title="4"><span class="ex">error</span>: failed to push some refs to <span class="st">&#39;git@github.com:519ebayproject/519ebayproject.git&#39;</span></a>
<a class="sourceLine" id="cb568-5" title="5"><span class="ex">hint</span>: Updates were rejected because the tip of your current branch is behind</a>
<a class="sourceLine" id="cb568-6" title="6"><span class="ex">hint</span>: its remote counterpart. Merge the remote changes (e.g. <span class="st">&#39;git pull&#39;</span>)</a>
<a class="sourceLine" id="cb568-7" title="7"><span class="ex">hint</span>: before pushing again.</a>
<a class="sourceLine" id="cb568-8" title="8"><span class="ex">hint</span>: See the <span class="st">&#39;Note about fast-forwards&#39;</span> in <span class="st">&#39;git push --help&#39;</span> for details.</a></code></pre></div>
<p>I have not pushed anything in the repository yet, so why do I need to pull something?</p>
</section>
<section id="answer-2-score-742" class="level4">
<h4>Answer 2 (score 742)</h4>
<blockquote>
<h5>
This can cause the remote repository to lose commits; use it with care.
</h3>
</blockquote>
<p>If you do not wish to merge the remote branch into your local branch (see differences with <a href="https://www.kernel.org/pub/software/scm/git/docs/git-diff.html">git diff</a>), and want to do a force push, use the <a href="https://www.kernel.org/pub/software/scm/git/docs/git-push.html">push command with -f</a></p>
<div class="sourceCode" id="cb569"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb569-1" title="1"><span class="fu">git</span> push -f origin <span class="op">&lt;</span>branch<span class="op">&gt;</span></a></code></pre></div>
<p>where <code>origin</code> is the name of your <a href="https://www.kernel.org/pub/software/scm/git/docs/git-remote.html">remote</a> repo.</p>
<blockquote>
Usually, the command refuses to update a remote ref that is not an ancestor of the local ref used to overwrite it. This flag disables the check. This can cause the remote repository to lose commits; use it with care.
</blockquote>
</section>
<section id="answer-3-score-237" class="level4">
<h4>Answer 3 (score 237)</h4>
<p>As the message tells you,</p>
<blockquote>
Merge the remote changes (e.g. ‘git pull’)
</blockquote>
<p>Use <code>git pull</code> to pull the latest changes from the remote repository to your local repository. In this case, pulling changes will require a merge because you have made changes to your local repository.</p>
<p>I’ll provide an example and a picture to explain. Let’s assume your last pull from origin/branch was at Commit B. You have completed and committed some work (Commit C). At the same time, someone else has completed their work and pushed it to origin/branch (Commit D). There will need to be a merge between these two branches.</p>
<blockquote>
<div class="sourceCode" id="cb570"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb570-1" title="1"><span class="bu">local</span> <span class="va">branch</span>:                         --- <span class="va">Commit</span> <span class="va">C</span> </a>
<a class="sourceLine" id="cb570-2" title="2">                                    <span class="ex">/</span></a>
<a class="sourceLine" id="cb570-3" title="3">                                   <span class="ex">/</span></a>
<a class="sourceLine" id="cb570-4" title="4">                                  <span class="ex">/</span></a>
<a class="sourceLine" id="cb570-5" title="5"><span class="ex">origin</span>/branch: <span class="ex">Commit</span> A ------ Commit B ---- Commit D</a></code></pre></div>
</blockquote>
<p>Because you are the one that wants to push, Git forces you to perform the merge. To do so, you must first pull the changes from origin/branch.</p>
<blockquote>
<div class="sourceCode" id="cb571"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb571-1" title="1"><span class="bu">local</span> <span class="va">branch</span>:                         --- <span class="va">Commit</span> <span class="va">C</span> -- <span class="va">Commit</span> <span class="va">E</span></a>
<a class="sourceLine" id="cb571-2" title="2">                                    <span class="ex">/</span>               /           </a>
<a class="sourceLine" id="cb571-3" title="3">                                   <span class="ex">/</span>               /             </a>
<a class="sourceLine" id="cb571-4" title="4">                                  <span class="ex">/</span>               /               </a>
<a class="sourceLine" id="cb571-5" title="5"><span class="ex">origin</span>/branch: <span class="ex">Commit</span> A ------ Commit B ---- Commit D </a></code></pre></div>
</blockquote>
<p>After completing the merge, you will now be allowed to fast-forward origin/branch to Commit E by pushing your changes.</p>
<p>Git requires that you handle merges yourself, because a merge may lead to conflicts.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="download-single-files-from-github-score-775547-in-2015" class="level3">
<h3>90: Download single files from GitHub (score <a href="https://stackoverflow.com/q/4604663.html">775547</a> in 2015)</h3>
<section id="question-89" class="level4">
<h4>Question</h4>
<p>I guess most of you, developers, use any <a href="https://en.wikipedia.org/wiki/Revision_control" rel="noreferrer">VCS</a>, and I hope some of you use Git. Do you have any tip or trick how to get a download URL for a single file in a repository?</p>
<p>I don’t want the URL for displaying the raw file; in case of binaries it’s for nothing.</p>
<p><a href="http://support.github.com/discussions/feature-requests/41-download-single-file" rel="noreferrer">http://support.github.com/discussions/feature-requests/41-download-single-file</a></p>
<p>Is it even possible to use GitHub as a “download server”?</p>
<p>If we decide to switch to Google Code, is the mentioned functionality presented here?</p>
<p>Or is there any free-of-charge hosting and VCS for open-source projects?</p>
</section>
<section id="answer-accepted-score-513" class="level4">
<h4>Answer accepted (score 513)</h4>
<p>Git does not support downloading parts of the repository. You have to download all of it. But you should be able to do this with GitHub.</p>
<p>When you view a file it has a link to the “raw” version. The <a href="http://en.wikipedia.org/wiki/Uniform_resource_locator" rel="noreferrer">URL</a> is constructed like so</p>
<div class="sourceCode" id="cb572"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb572-1" title="1"><span class="ex">https</span>://raw.githubusercontent.com/user/repository/branch/filename</a></code></pre></div>
<p>By filling in the blanks in the URL, you can use <a href="http://en.wikipedia.org/wiki/Wget" rel="noreferrer">Wget</a> or <a href="http://en.wikipedia.org/wiki/CURL" rel="noreferrer">cURL</a> (with the <code>-L</code> option, see below) or whatever to download a single file. Again, you won’t get any of the nice version control features used by Git by doing this.</p>
<p>
Update: I noticed you mention this doesn’t work for binary files. You probably shouldn’t use binary files in your Git repository, but GitHub has a download section for each repository that you can use to upload files. If you need more than one binary, you can use a .zip file. The URL to download an uploaded file is:
</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb573-1" title="1"><span class="ex">https</span>://github.com/downloads/user/repository/filename</a></code></pre></div>
<p>Note that the URLs given above, from the links on <code>github.com</code>, will redirect to <code>raw.githubusercontent.com</code>. You should not directly use the URL given by this HTTP 302 redirect because, per <a href="https://tools.ietf.org/html/rfc2616#section-10.3.3" rel="noreferrer">RFC 2616</a>: “Since the redirection might be altered on occasion, the client SHOULD continue to use the Request-URI for future requests.”</p>
</section>
<section id="answer-2-score-490" class="level4">
<h4>Answer 2 (score 490)</h4>
<ol>
<li>
Go to the file you want to download.
</li>
<li>
Click it to view the contents within the GitHub UI.
</li>
<li>
In the top right, <strong>right click</strong> the <code>Raw</code> button.
</li>
<li>
Save as…
</li>
</ol>
</section>
<section id="answer-3-score-38" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>You can use the V3 API to get a raw file like this (you’ll need an OAuth token):</p>
<p><code>curl -H 'Authorization: token INSERTACCESSTOKENHERE' -H 'Accept: application/vnd.github.v3.raw' -O -L https://api.github.com/repos/owner/repo/contents/path</code></p>
<p>All of this has to go on one line. The <code>-O</code> option saves the file in the current directory. You can use <code>-o filename</code> to specify a different filename.</p>
<p>
To get the OAuth token follow the instructions here: <a href="https://help.github.com/articles/creating-an-access-token-for-command-line-use" rel="noreferrer">https://help.github.com/articles/creating-an-access-token-for-command-line-use</a>
</p>
<p>
I’ve written this up as a gist as well: <a href="https://gist.github.com/madrobby/9476733" rel="noreferrer">https://gist.github.com/madrobby/9476733</a>
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-show-the-changes-which-have-been-staged-score-772216-in-2018" class="level3">
<h3>91: How do I show the changes which have been staged? (score <a href="https://stackoverflow.com/q/1587846.html">772216</a> in 2018)</h3>
<section id="question-90" class="level4">
<h4>Question</h4>
<p>I staged a few changes to be committed; how can I see the diff of all files which are staged for the next commit? I’m aware of <a href="http://git-scm.com/docs/git-status" rel="noreferrer">git status</a>, but I’d like to see the actual diffs - not just the names of files which are staged.</p>
<p>I saw that the <a href="http://git-scm.com/docs/git-diff" rel="noreferrer">git-diff(1)</a> man page says</p>
<blockquote>
<p>git diff [–options] [–] […]</p>
This form is to view the changes you made relative to the index (staging area for the next commit). In other words, the differences are what you <em>could</em> tell git to further add to the index but you still haven’t. You can stage these changes by using git-add(1).
</blockquote>
<p>Unfortunately, I can’t quite make sense of this. There must be some handy one-liner which I could create an alias for, right?</p>
</section>
<section id="answer-accepted-score-2456" class="level4">
<h4>Answer accepted (score 2456)</h4>
<p>It should just be:</p>
<div class="sourceCode" id="cb574"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb574-1" title="1"><span class="fu">git</span> diff --cached</a></code></pre></div>
<p><code>--cached</code> means show the changes in the cache/index (i.e. staged changes) against the current <code>HEAD</code>. <code>--staged</code> is a synonym for <code>--cached</code>.</p>
<p><code>--staged</code> and <code>--cached</code> does not point to <code>HEAD</code>, just difference with respect to <code>HEAD</code>. If you cherry pick what to commit using <code>git add --patch</code> (or <code>git add -p</code>), <code>--staged</code> will return what is staged.</p>
</section>
<section id="answer-2-score-1541" class="level4">
<h4>Answer 2 (score 1541)</h4>
<p>A simple graphic makes this clearer:</p>
<p><img src="https://i.stack.imgur.com/tVHYO.png" alt="Simple Git diffs"></p>
<p><strong>git diff</strong></p>
<p>Shows the changes between the working directory and the index. This shows what has been changed, but is not staged for a commit.</p>
<p><strong>git diff –cached</strong></p>
<p>Shows the changes between the index and the HEAD (which is the last commit on this branch). This shows what has been added to the index and staged for a commit.</p>
<p><strong>git diff HEAD</strong></p>
<p>Shows all the changes between the working directory and HEAD (which includes changes in the index). This shows all the changes since the last commit, whether or not they have been staged for commit or not.</p>
<p><strong>Also</strong>:</p>
<p>There is a bit more detail on <a href="http://365git.tumblr.com/post/474079664/whats-the-difference-part-1" rel="noreferrer">365Git.</a></p>
</section>
<section id="answer-3-score-52" class="level4">
<h4>Answer 3 (score 52)</h4>
<p>If you’d be interested in a visual side-by-side view, the <a href="http://diffuse.sourceforge.net/" rel="noreferrer">diffuse</a> visual diff tool can do that. It will even show three panes if some but not all changes are staged. In the case of conflicts, there will even be four panes.</p>
<p><img src="https://i.stack.imgur.com/8Z6MO.png" alt="Screenshot of diffuse with staged and unstaged edits"></p>
<p>Invoke it with</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb575-1" title="1"><span class="ex">diffuse</span> -m</a></code></pre></div>
<p>in your Git working copy.</p>
<p>If you ask me, the best visual differ I’ve seen for a decade. Also, it is not specific to Git: It interoperates with a plethora of other VCS, including SVN, Mercurial, Bazaar, …</p>
<p>See also: <a href="https://stackoverflow.com/q/13057457/946850">Show both staged &amp; working tree in git diff?</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-a-file-from-a-git-repository-without-deleting-it-from-the-local-filesystem-score-768277-in-2015" class="level3">
<h3>92: Remove a file from a Git repository without deleting it from the local filesystem (score <a href="https://stackoverflow.com/q/1143796.html">768277</a> in 2015)</h3>
<section id="question-91" class="level4">
<h4>Question</h4>
<p>My initial commit contained some log files. I’ve added <code>*log</code> to my <code>.gitignore</code>, and now I want to remove the log files from my repository.</p>
<div class="sourceCode" id="cb576"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb576-1" title="1"><span class="fu">git</span> rm mylogfile.log</a></code></pre></div>
<p>will remove a file from the repository, but will also remove it from the local file system.</p>
<p>How can I remove this file from the repo <strong>without</strong> deleting my local copy of the file?</p>
</section>
<section id="answer-accepted-score-4086" class="level4">
<h4>Answer accepted (score 4086)</h4>
<p>From the <a href="https://git-scm.com/docs/git-rm" rel="noreferrer">man file</a>:</p>
<blockquote>
When <code>--cached</code> is given, the staged content has to match either the tip of the branch or the file on disk, allowing the file to be removed from just the index.
</blockquote>
<p>So, for a single file:</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb577-1" title="1"><span class="fu">git</span> rm --cached mylogfile.log</a></code></pre></div>
<p>and for a single directory:</p>
<div class="sourceCode" id="cb578"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb578-1" title="1"><span class="fu">git</span> rm --cached -r mydirectory</a></code></pre></div>
</section>
<section id="answer-2-score-265-1" class="level4">
<h4>Answer 2 (score 265)</h4>
<p>To remove an entire folder from the repo (like Resharper files), do this:</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb579-1" title="1"><span class="fu">git</span> rm -r --cached folderName</a></code></pre></div>
<p>I had committed some resharper files, and did not want those to persist for other project users.</p>
</section>
<section id="answer-3-score-190" class="level4">
<h4>Answer 3 (score 190)</h4>
<p>You can also remove files from the repository based on your .gitignore without deleting them from the local file system :</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb580-1" title="1"><span class="fu">git</span> rm --cached <span class="kw">`</span><span class="fu">git</span> ls-files -i -X .gitignore<span class="kw">`</span></a></code></pre></div>
<p>Or, alternatively, on Windows Powershell:</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb581-1" title="1"><span class="fu">git</span> rm --cached <span class="va">$(</span><span class="fu">git</span> ls-files -i -X .gitignore<span class="va">)</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-git-clone-including-submodules-score-763224-in-2019" class="level3">
<h3>93: How to “git clone” including submodules? (score <a href="https://stackoverflow.com/q/3796927.html">763224</a> in 2019)</h3>
<section id="question-92" class="level4">
<h4>Question</h4>
<p>I’m trying to put a submodule into a repo. The problem is that when I clone the parent repo, the submodule folder is entirely empty.</p>
<p>Is there any way to make it so that <code>git clone parent_repo</code> actually puts data in the submodule folder?</p>
<p>For example, <a href="http://github.com/cwolves/sequelize/tree/master/lib/" rel="noreferrer">http://github.com/cwolves/sequelize/tree/master/lib/</a>, <code>nodejs-mysql-native</code> is pointing at an external git submodule, but when I checkout the <code>sequelize</code> project, that folder is empty.</p>
</section>
<section id="answer-2-score-2802" class="level4">
<h4>Answer 2 (score 2802)</h4>
<p>With version 2.13 of Git and later, <code>--recurse-submodules</code> can be used instead of <code>--recursive</code>:</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb582-1" title="1"><span class="fu">git</span> clone --recurse-submodules -j8 git://github.com/foo/bar.git</a>
<a class="sourceLine" id="cb582-2" title="2"><span class="bu">cd</span> bar</a></code></pre></div>
<p><sup>Editor’s note: <code>-j8</code> is an optional performance optimization that became available in version 2.8, and fetches up to 8 submodules at a time in parallel — see <code>man git-clone</code>.</sup></p>
<p>With version 1.9 of Git up until version 2.12 (<code>-j</code> flag only available in version 2.8+):</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb583-1" title="1"><span class="fu">git</span> clone --recursive -j8 git://github.com/foo/bar.git</a>
<a class="sourceLine" id="cb583-2" title="2"><span class="bu">cd</span> bar</a></code></pre></div>
<p>With version 1.6.5 of Git and later, you can use:</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb584-1" title="1"><span class="fu">git</span> clone --recursive git://github.com/foo/bar.git</a>
<a class="sourceLine" id="cb584-2" title="2"><span class="bu">cd</span> bar</a></code></pre></div>
<p>For already cloned repos, or older Git versions, use:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb585-1" title="1"><span class="fu">git</span> clone git://github.com/foo/bar.git</a>
<a class="sourceLine" id="cb585-2" title="2"><span class="bu">cd</span> bar</a>
<a class="sourceLine" id="cb585-3" title="3"><span class="fu">git</span> submodule update --init --recursive</a></code></pre></div>
</section>
<section id="answer-3-score-452" class="level4">
<h4>Answer 3 (score 452)</h4>
<p>You have to do two things before a submodule will be filled:</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb586-1" title="1"><span class="fu">git</span> submodule init </a>
<a class="sourceLine" id="cb586-2" title="2"><span class="fu">git</span> submodule update</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="throw-away-local-commits-in-git-score-758261-in-2019" class="level3">
<h3>94: Throw away local commits in Git (score <a href="https://stackoverflow.com/q/5097456.html">758261</a> in 2019)</h3>
<section id="question-93" class="level4">
<h4>Question</h4>
<p>Due to some bad cherry-picking, my local Git repository is currently five commits ahead of the origin, and not in a good state. I want to get rid of all these commits and start over again.</p>
<p>Obviously, deleting my working directory and re-cloning would do it, but downloading everything from GitHub again seems like overkill, and not a good use of my time.</p>
<p>Maybe <code>git revert</code> is what I need, but I don’t want to end up <em>10</em> commits ahead of the origin (or even six), even if it does get the code itself back to the right state. I just want to pretend the last half-hour never happened.</p>
<p>Is there a simple command that will do this? It seems like an obvious use case, but I’m not finding any examples of it.</p>
<hr>
<p>Note that this question is specifically about <em>commits</em>, <em>not</em> about:</p>
<ul>
<li>
untracked files
</li>
<li>
unstaged changes
</li>
<li>
staged, but uncommitted changes
</li>
</ul>
</section>
<section id="answer-accepted-score-2206" class="level4">
<h4>Answer accepted (score 2206)</h4>
<p>
If your excess commits are only visible to you, you can just do <code>git reset --hard origin/&amp;lt;branch_name&amp;gt;</code> to move back to where the origin is. This will reset the state of the repository to the previous commit, and it will discard all local changes.
</p>
<p>Doing a <code>git revert</code> makes <em>new</em> commits to remove <em>old</em> commits in a way that keeps everyone’s history sane.</p>
</section>
<section id="answer-2-score-239" class="level4">
<h4>Answer 2 (score 239)</h4>
<p>Simply delete your local master branch and recreate it like so:</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb587-1" title="1"><span class="fu">git</span> branch -D master</a>
<a class="sourceLine" id="cb587-2" title="2"><span class="fu">git</span> checkout origin/master -b master</a></code></pre></div>
</section>
<section id="answer-3-score-176" class="level4">
<h4>Answer 3 (score 176)</h4>
<p>Try:</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb588-1" title="1"><span class="fu">git</span> reset --hard <span class="op">&lt;</span>the sha1 hash<span class="op">&gt;</span></a></code></pre></div>
<p>to reset your head to wherever you want to be. Use gitk to see which commit you want to be at. You can do reset within gitk as well.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="pushing-to-git-returning-error-code-403-fatal-http-request-failed-score-740028-in-2014" class="level3">
<h3>95: Pushing to Git returning Error Code 403 fatal: HTTP request failed (score <a href="https://stackoverflow.com/q/7438313.html">740028</a> in 2014)</h3>
<section id="question-94" class="level4">
<h4>Question</h4>
<p>I was able to clone a copy of this repo over HTTPS authenticated. I’ve made some commits and want to push back out to the GitHub server. Using Cygwin on Windows 7 x64.</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb589-1" title="1"><span class="ex">C</span>:\cygwin\home\XPherior\Code\lunch_call<span class="op">&gt;</span>git push</a>
<a class="sourceLine" id="cb589-2" title="2"><span class="ex">Password</span>:</a>
<a class="sourceLine" id="cb589-3" title="3"><span class="ex">error</span>: The requested URL returned error: 403 while accessing https://MichaelDrog</a>
<a class="sourceLine" id="cb589-4" title="4"><span class="ex">alis@github.com/derekerdmann/lunch_call.git/info/refs</span></a>
<a class="sourceLine" id="cb589-5" title="5"></a>
<a class="sourceLine" id="cb589-6" title="6"><span class="ex">fatal</span>: HTTP request failed</a></code></pre></div>
<p>Also set it up with verbose mode. I’m still pretty baffled.</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb590-1" title="1"><span class="ex">C</span>:\cygwin\home\XPherior\Code\lunch_call<span class="op">&gt;</span>set GIT_CURL_VERBOSE=1</a>
<a class="sourceLine" id="cb590-2" title="2"></a>
<a class="sourceLine" id="cb590-3" title="3"><span class="ex">C</span>:\cygwin\home\XPherior\Code\lunch_call<span class="op">&gt;</span>git push</a>
<a class="sourceLine" id="cb590-4" title="4"><span class="ex">Password</span>:</a>
<a class="sourceLine" id="cb590-5" title="5"><span class="ex">*</span> Couldn<span class="st">&#39;t find host github.com in the _netrc file; using defaults</span></a>
<a class="sourceLine" id="cb590-6" title="6"><span class="st">* About to connect() to github.com port 443 (#0)</span></a>
<a class="sourceLine" id="cb590-7" title="7"><span class="st">*   Trying 207.97.227.239... * 0x23cb740 is at send pipe head!</span></a>
<a class="sourceLine" id="cb590-8" title="8"><span class="st">* Connected to github.com (207.97.227.239) port 443 (#0)</span></a>
<a class="sourceLine" id="cb590-9" title="9"><span class="st">* successfully set certificate verify locations:</span></a>
<a class="sourceLine" id="cb590-10" title="10"><span class="st">*   CAfile: C:\Program Files (x86)\Git/bin/curl-ca-bundle.crt</span></a>
<a class="sourceLine" id="cb590-11" title="11"><span class="st">  CApath: none</span></a>
<a class="sourceLine" id="cb590-12" title="12"><span class="st">* SSL connection using AES256-SHA</span></a>
<a class="sourceLine" id="cb590-13" title="13"><span class="st">* Server certificate:</span></a>
<a class="sourceLine" id="cb590-14" title="14"><span class="st">*        subject: 2.5.4.15=Private Organization; 1.3.6.1.4.1.311.60.2.1.3=US; 1.</span></a>
<a class="sourceLine" id="cb590-15" title="15"><span class="st">3.6.1.4.1.311.60.2.1.2=California; serialNumber=C3268102; C=US; ST=California; L</span></a>
<a class="sourceLine" id="cb590-16" title="16"><span class="st">=San Francisco; O=GitHub, Inc.; CN=github.com</span></a>
<a class="sourceLine" id="cb590-17" title="17"><span class="st">*        start date: 2011-05-27 00:00:00 GMT</span></a>
<a class="sourceLine" id="cb590-18" title="18"><span class="st">*        expire date: 2013-07-29 12:00:00 GMT</span></a>
<a class="sourceLine" id="cb590-19" title="19"><span class="st">*        subjectAltName: github.com matched</span></a>
<a class="sourceLine" id="cb590-20" title="20"><span class="st">*        issuer: C=US; O=DigiCert Inc; OU=www.digicert.com; CN=DigiCert High Ass</span></a>
<a class="sourceLine" id="cb590-21" title="21"><span class="st">urance EV CA-1</span></a>
<a class="sourceLine" id="cb590-22" title="22"><span class="st">*        SSL certificate verify ok.</span></a>
<a class="sourceLine" id="cb590-23" title="23"><span class="st">&gt; GET /derekerdmann/lunch_call.git/info/refs?service=git-receive-pack HTTP/1.1</span></a>
<a class="sourceLine" id="cb590-24" title="24"><span class="st">User-Agent: git/1.7.4.3282.g844cb</span></a>
<a class="sourceLine" id="cb590-25" title="25"><span class="st">Host: github.com</span></a>
<a class="sourceLine" id="cb590-26" title="26"><span class="st">Accept: */*</span></a>
<a class="sourceLine" id="cb590-27" title="27"><span class="st">Pragma: no-cache</span></a>
<a class="sourceLine" id="cb590-28" title="28"></a>
<a class="sourceLine" id="cb590-29" title="29"><span class="st">&lt; HTTP/1.1 401 Authorization Required</span></a>
<a class="sourceLine" id="cb590-30" title="30"><span class="st">&lt; Server: nginx/1.0.4</span></a>
<a class="sourceLine" id="cb590-31" title="31"><span class="st">&lt; Date: Thu, 15 Sep 2011 22:44:41 GMT</span></a>
<a class="sourceLine" id="cb590-32" title="32"><span class="st">&lt; Content-Type: text/plain</span></a>
<a class="sourceLine" id="cb590-33" title="33"><span class="st">&lt; Connection: keep-alive</span></a>
<a class="sourceLine" id="cb590-34" title="34"><span class="st">&lt; Content-Length: 55</span></a>
<a class="sourceLine" id="cb590-35" title="35"><span class="st">&lt; WWW-Authenticate: Basic realm=&quot;GitHub&quot;</span></a>
<a class="sourceLine" id="cb590-36" title="36"><span class="st">&lt;</span></a>
<a class="sourceLine" id="cb590-37" title="37"><span class="st">* Ignoring the response-body</span></a>
<a class="sourceLine" id="cb590-38" title="38"><span class="st">* Expire cleared</span></a>
<a class="sourceLine" id="cb590-39" title="39"><span class="st">* Connection #0 to host github.com left intact</span></a>
<a class="sourceLine" id="cb590-40" title="40"><span class="st">* Issue another request to this URL: &#39;</span>https://MichaelDrogalis@github.com/dereker</a>
<a class="sourceLine" id="cb590-41" title="41"><span class="ex">dmann/lunch_call.git/info</span>/<span class="ex">refs?service</span>=git-receive-pack<span class="st">&#39;</span></a>
<a class="sourceLine" id="cb590-42" title="42"><span class="st">* Couldn&#39;</span>t find host github.com in the _netrc file<span class="kw">;</span> <span class="ex">using</span> defaults</a>
<a class="sourceLine" id="cb590-43" title="43"><span class="ex">*</span> Re-using existing connection! (#0) <span class="ex">with</span> host github.com</a>
<a class="sourceLine" id="cb590-44" title="44"><span class="ex">*</span> Connected to github.com (207.97.227.239) <span class="ex">port</span> 443 (#0)</a>
<a class="sourceLine" id="cb590-45" title="45"><span class="ex">*</span> 0x23cb740 is at send pipe head!</a>
<a class="sourceLine" id="cb590-46" title="46"><span class="ex">*</span> Server auth using Basic with user <span class="st">&#39;MichaelDrogalis&#39;</span></a>
<a class="sourceLine" id="cb590-47" title="47"><span class="op">&gt;</span> <span class="ex">GET</span> /derekerdmann/lunch_call.git/info/refs?service=git-receive-pack HTTP/1.1</a>
<a class="sourceLine" id="cb590-48" title="48"><span class="ex">Authorization</span>: Basic XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</a>
<a class="sourceLine" id="cb590-49" title="49"><span class="ex">User-Agent</span>: git/1.7.4.3282.g844cb</a>
<a class="sourceLine" id="cb590-50" title="50"><span class="ex">Host</span>: github.com</a>
<a class="sourceLine" id="cb590-51" title="51"><span class="ex">Accept</span>: */*</a>
<a class="sourceLine" id="cb590-52" title="52"><span class="ex">Pragma</span>: no-cache</a>
<a class="sourceLine" id="cb590-53" title="53"></a>
<a class="sourceLine" id="cb590-54" title="54"><span class="op">&lt;</span> <span class="ex">HTTP/1.1</span> 401 Authorization Required</a>
<a class="sourceLine" id="cb590-55" title="55"><span class="op">&lt;</span> <span class="ex">Server</span>: nginx/1.0.4</a>
<a class="sourceLine" id="cb590-56" title="56"><span class="op">&lt;</span> <span class="ex">Date</span>: Thu, 15 Sep 2011 22:44:41 GMT</a>
<a class="sourceLine" id="cb590-57" title="57"><span class="op">&lt;</span> <span class="ex">Content-Type</span>: text/plain</a>
<a class="sourceLine" id="cb590-58" title="58"><span class="op">&lt;</span> <span class="ex">Connection</span>: keep-alive</a>
<a class="sourceLine" id="cb590-59" title="59"><span class="op">&lt;</span> <span class="ex">Content-Length</span>: 55</a>
<a class="sourceLine" id="cb590-60" title="60"><span class="ex">*</span> Authentication problem. Ignoring this.</a>
<a class="sourceLine" id="cb590-61" title="61"><span class="op">&lt;</span> <span class="ex">WWW-Authenticate</span>: Basic realm=<span class="st">&quot;GitHub&quot;</span></a>
<a class="sourceLine" id="cb590-62" title="62"><span class="ex">*</span> The requested URL returned error: 401</a>
<a class="sourceLine" id="cb590-63" title="63"><span class="ex">*</span> Closing connection <span class="co">#0</span></a>
<a class="sourceLine" id="cb590-64" title="64"><span class="ex">*</span> Couldn<span class="st">&#39;t find host github.com in the _netrc file; using defaults</span></a>
<a class="sourceLine" id="cb590-65" title="65"><span class="st">* About to connect() to github.com port 443 (#0)</span></a>
<a class="sourceLine" id="cb590-66" title="66"><span class="st">*   Trying 207.97.227.239... * 0x23cb740 is at send pipe head!</span></a>
<a class="sourceLine" id="cb590-67" title="67"><span class="st">* Connected to github.com (207.97.227.239) port 443 (#0)</span></a>
<a class="sourceLine" id="cb590-68" title="68"><span class="st">* successfully set certificate verify locations:</span></a>
<a class="sourceLine" id="cb590-69" title="69"><span class="st">*   CAfile: C:\Program Files (x86)\Git/bin/curl-ca-bundle.crt</span></a>
<a class="sourceLine" id="cb590-70" title="70"><span class="st">  CApath: none</span></a>
<a class="sourceLine" id="cb590-71" title="71"><span class="st">* SSL re-using session ID</span></a>
<a class="sourceLine" id="cb590-72" title="72"><span class="st">* SSL connection using AES256-SHA</span></a>
<a class="sourceLine" id="cb590-73" title="73"><span class="st">* old SSL session ID is stale, removing</span></a>
<a class="sourceLine" id="cb590-74" title="74"><span class="st">* Server certificate:</span></a>
<a class="sourceLine" id="cb590-75" title="75"><span class="st">*        subject: 2.5.4.15=Private Organization; 1.3.6.1.4.1.311.60.2.1.3=US; 1.</span></a>
<a class="sourceLine" id="cb590-76" title="76"><span class="st">3.6.1.4.1.311.60.2.1.2=California; serialNumber=C3268102; C=US; ST=California; L</span></a>
<a class="sourceLine" id="cb590-77" title="77"><span class="st">=San Francisco; O=GitHub, Inc.; CN=github.com</span></a>
<a class="sourceLine" id="cb590-78" title="78"><span class="st">*        start date: 2011-05-27 00:00:00 GMT</span></a>
<a class="sourceLine" id="cb590-79" title="79"><span class="st">*        expire date: 2013-07-29 12:00:00 GMT</span></a>
<a class="sourceLine" id="cb590-80" title="80"><span class="st">*        subjectAltName: github.com matched</span></a>
<a class="sourceLine" id="cb590-81" title="81"><span class="st">*        issuer: C=US; O=DigiCert Inc; OU=www.digicert.com; CN=DigiCert High Ass</span></a>
<a class="sourceLine" id="cb590-82" title="82"><span class="st">urance EV CA-1</span></a>
<a class="sourceLine" id="cb590-83" title="83"><span class="st">*        SSL certificate verify ok.</span></a>
<a class="sourceLine" id="cb590-84" title="84"><span class="st">* Server auth using Basic with user &#39;</span>MichaelDrogalis<span class="st">&#39;</span></a>
<a class="sourceLine" id="cb590-85" title="85"><span class="st">&gt; GET /derekerdmann/lunch_call.git/info/refs HTTP/1.1</span></a>
<a class="sourceLine" id="cb590-86" title="86"><span class="st">Authorization: Basic xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span></a>
<a class="sourceLine" id="cb590-87" title="87"><span class="st">User-Agent: git/1.7.4.3282.g844cb</span></a>
<a class="sourceLine" id="cb590-88" title="88"><span class="st">Host: github.com</span></a>
<a class="sourceLine" id="cb590-89" title="89"><span class="st">Accept: */*</span></a>
<a class="sourceLine" id="cb590-90" title="90"><span class="st">Pragma: no-cache</span></a>
<a class="sourceLine" id="cb590-91" title="91"></a>
<a class="sourceLine" id="cb590-92" title="92"><span class="st">* The requested URL returned error: 403</span></a>
<a class="sourceLine" id="cb590-93" title="93"><span class="st">* Expire cleared</span></a>
<a class="sourceLine" id="cb590-94" title="94"><span class="st">* Closing connection #0</span></a>
<a class="sourceLine" id="cb590-95" title="95"><span class="st">error: The requested URL returned error: 403 while accessing https://MichaelDrog</span></a>
<a class="sourceLine" id="cb590-96" title="96"><span class="st">alis@github.com/derekerdmann/lunch_call.git/info/refs</span></a>
<a class="sourceLine" id="cb590-97" title="97"></a>
<a class="sourceLine" id="cb590-98" title="98"><span class="st">fatal: HTTP request failed</span></a></code></pre></div>
<p>These are the versions of git and curl that I have:</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb591-1" title="1"><span class="ex">C</span>:\Users\XPherior<span class="op">&gt;</span>git --version</a>
<a class="sourceLine" id="cb591-2" title="2"><span class="fu">git</span> version 1.7.4.msysgit.0</a>
<a class="sourceLine" id="cb591-3" title="3"></a>
<a class="sourceLine" id="cb591-4" title="4"><span class="ex">C</span>:\Users\XPherior<span class="op">&gt;</span>curl --version</a>
<a class="sourceLine" id="cb591-5" title="5"><span class="ex">curl</span> 7.21.7 (amd64-pc-win32) <span class="ex">libcurl/7.21.7</span> OpenSSL/0.9.8r zlib/1.2.5</a>
<a class="sourceLine" id="cb591-6" title="6"><span class="ex">Protocols</span>: dict file ftp ftps gopher http https imap imaps ldap pop3 pop3s rtsp</a>
<a class="sourceLine" id="cb591-7" title="7"><span class="ex">smtp</span> smtps telnet tftp</a>
<a class="sourceLine" id="cb591-8" title="8"><span class="ex">Features</span>: AsynchDNS GSS-Negotiate Largefile NTLM SSL SSPI libz</a></code></pre></div>
</section>
<section id="answer-accepted-score-809" class="level4">
<h4>Answer accepted (score 809)</h4>
<p>I just got the same problem and just figured out what’s cause.</p>
<p>Github seems only supports ssh way to read&amp;write the repo, although https way also displayed ‘Read&amp;Write’.</p>
<p>So you need to change your repo config on your PC to ssh way:</p>
<ol>
<li>
edit <code>.git/config</code> file under your repo directory
</li>
<li>
find <code>url=</code>entry under section <code>[remote "origin"]</code>
</li>
<li>
change it from <code>url=https://MichaelDrogalis@github.com/derekerdmann/lunch_call.git</code> to <code>url=ssh://git@github.com/derekerdmann/lunch_call.git</code>. that is, change all the texts before <code>@</code> symbol to <code>ssh://git</code>
</li>
<li>
Save <code>config</code> file and quit. now you could use <code>git push origin master</code> to sync your repo on GitHub
</li>
</ol>
</section>
<section id="answer-2-score-412-1" class="level4">
<h4>Answer 2 (score 412)</h4>
<p>To definitely be able to login using <code>https</code> protocol, you should first set your <em>authentication credential</em> to the git <strong>Remote URI</strong>:</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb592-1" title="1"><span class="fu">git</span> remote set-url origin https://yourusername@github.com/user/repo.git</a></code></pre></div>
<p>Then you’ll be asked for a password when trying to <code>git push</code>.</p>
<p>In fact, this is on the http authentication format. You could set a password too:</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb593-1" title="1"><span class="ex">https</span>://youruser:password@github.com/user/repo.git</a></code></pre></div>
<p>You should be aware that if you do this, your github password will be stored in plaintext in your .git directory, which is obviously undesirable.</p>
</section>
<section id="answer-3-score-110-1" class="level4">
<h4>Answer 3 (score 110)</h4>
<p>One small addition to <a href="https://stackoverflow.com/a/7771927/3472757">Sean’s answer</a>.</p>
<p>Instead of editing <code>.git/config</code> file manually, you can use <code>git remote set-url</code> command.</p>
<p>In your case it should be:</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb594-1" title="1"><span class="fu">git</span> remote set-url origin ssh://git@github.com/derekerdmann/lunch_call.git</a></code></pre></div>
<p>I find it easier and cleaner, than messing around with dot-files.</p>
<ul>
<li>
<a href="https://help.github.com/articles/changing-a-remote-s-url" rel="noreferrer">help.github.com: Changing a remote’s URL</a>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="git-error-failed-to-push-some-refs-to-score-736623-in-2015" class="level3">
<h3>96: git error: failed to push some refs to (score <a href="https://stackoverflow.com/q/24114676.html">736623</a> in 2015)</h3>
<section id="question-95" class="level4">
<h4>Question</h4>
<p>
For some reason, I can’t push now, whereas I could do it yesterday. Maybe I messed up with configs or something.
</p>
<p>This is what happens:</p>
<p>When I use the git push origin master</p>
<p><img src="https://i.stack.imgur.com/hOuSj.png" alt="gitbashscr"></p>
<p>What my working directory and remote repository looks like:</p>
<p><img src="https://i.stack.imgur.com/Sz17u.png" alt="enter image description here"></p>
</section>
<section id="answer-accepted-score-476" class="level4">
<h4>Answer accepted (score 476)</h4>
<p>If the GitHub repo has seen new commits pushed to it, while you were working locally, I would advise using:</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb595-1" title="1"><span class="fu">git</span> pull --rebase</a>
<a class="sourceLine" id="cb595-2" title="2"><span class="fu">git</span> push</a></code></pre></div>
<p>The full syntax is:</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb596-1" title="1"><span class="fu">git</span> pull --rebase origin master</a>
<a class="sourceLine" id="cb596-2" title="2"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>That way, you would replay (the <code>--rebase</code> part) your local commits on top of the newly updated <code>origin/master</code> (or <code>origin/yourBranch</code>: <code>git pull origin yourBranch</code>).</p>
<p>See a more complete example in the <a href="http://chimera.labs.oreilly.com/books/1230000000561/ch06.html#pull-rebase" rel="noreferrer">chapter 6 Pull with rebase</a> of the <a href="http://chimera.labs.oreilly.com/books/1230000000561" rel="noreferrer">Git Pocket Book</a>.</p>
<p>I would recommend a:</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb597-1" title="1"><span class="fu">git</span> push -u origin master</a></code></pre></div>
<p>
That would establish a tracking relationship between your local master branch and its upstream branch.<br> After that, any future push for that branch can be done with a simple:
</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb598-1" title="1"><span class="fu">git</span> push</a></code></pre></div>
<p>See “<a href="https://stackoverflow.com/a/17096880/6309">Why do I need to explicitly push a new branch?</a>”.</p>
<hr>
<p>Since the OP already <a href="https://stackoverflow.com/a/18589043/6309">reset and redone its commit</a> on top of <code>origin/master</code>:</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb599-1" title="1"><span class="fu">git</span> reset --mixed origin/master</a>
<a class="sourceLine" id="cb599-2" title="2"><span class="fu">git</span> add .</a>
<a class="sourceLine" id="cb599-3" title="3"><span class="fu">git</span> commit -m <span class="st">&quot;This is a new commit for what I originally planned to be amended&quot;</span></a>
<a class="sourceLine" id="cb599-4" title="4"><span class="fu">git</span> push origin master</a></code></pre></div>
<p>There is no need to <code>pull --rebase</code>.</p>
<p>Note: <code>git reset --mixed origin/master</code> can also be written <code>git reset origin/master</code>, since the <code>--mixed</code> option is the default one when using <a href="http://git-scm.com/docs/git-reset" rel="noreferrer"><code>git reset</code></a>.</p>
</section>
<section id="answer-2-score-66-1" class="level4">
<h4>Answer 2 (score 66)</h4>
<p>Did anyone try:</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb600-1" title="1"><span class="fu">git</span> push -f origin master</a></code></pre></div>
<p>That should solve the problem.</p>
<blockquote>
<strong>EDIT:</strong> Based on <span class="citation" data-cites="Mehdi">@Mehdi</span> ‘s comment below I need to clarify something about <code>—force pushing</code>. The git command above works safely only for the first commit. If there were already commits, pull requests or branches in previous, this resets all of it and set it from zero. If so, please refer <span class="citation" data-cites="VonC">@VonC</span> ‘s detailed answer for better solution.
</blockquote>
</section>
<section id="answer-3-score-43" class="level4">
<h4>Answer 3 (score 43)</h4>
<p>If you just used <code>git init</code> and have added your files with <code>git add .</code> or something similar and have added your remote branch it might be that you just haven’t committed (<code>git commit -m 'commit message'</code>) anything locally to push to the remote… I just had this error and that was my issue.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-access-my-ssh-public-key-score-735775-in-2018" class="level3">
<h3>97: How do I access my SSH public key? (score <a href="https://stackoverflow.com/q/3828164.html">735775</a> in 2018)</h3>
<section id="question-96" class="level4">
<h4>Question</h4>
<p>I’ve just generated my RSA key pair, and I wanted to add that key to GitHub.</p>
<p>I tried <code>cd id_rsa.pub</code> and <code>id_rsa.pub</code>, but no luck. How can I access my SSH public key?</p>
</section>
<section id="answer-accepted-score-836" class="level4">
<h4>Answer accepted (score 836)</h4>
<p><code>cat ~/.ssh/id_rsa.pub</code> or <code>cat ~/.ssh/id_dsa.pub</code></p>
<p>You can list all the public keys you have by doing:</p>
<p><code>$ ls ~/.ssh/*.pub</code></p>
</section>
<section id="answer-2-score-172" class="level4">
<h4>Answer 2 (score 172)</h4>
<p>Copy the key to your clipboard.</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb601-1" title="1">$ <span class="ex">pbcopy</span> <span class="op">&lt;</span> ~/.ssh/id_rsa.pub</a>
<a class="sourceLine" id="cb601-2" title="2"><span class="co"># Copies the contents of the id_rsa.pub file to your clipboard</span></a></code></pre></div>
<blockquote>
<p>
Warning: it’s important to copy the key exactly without adding newlines or whitespace. Thankfully the pbcopy command makes it easy to perform this setup perfectly.
</p>
</blockquote>
<p>And you can paste it wherever you need.</p>
<p>To get a better idea of the whole process, check this: <a href="https://help.github.com/articles/generating-ssh-keys" rel="noreferrer"><strong>Generating SSH Keys</strong></a>.</p>
</section>
<section id="answer-3-score-38-1" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>You may try to run the following command to show your RSA fingerprint:</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb602-1" title="1"><span class="fu">ssh-agent</span> sh -c <span class="st">&#39;ssh-add; ssh-add -l&#39;</span></a></code></pre></div>
<p>or public key:</p>
<div class="sourceCode" id="cb603"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb603-1" title="1"><span class="fu">ssh-agent</span> sh -c <span class="st">&#39;ssh-add; ssh-add -L&#39;</span></a></code></pre></div>
<p>If you’ve the message: ‘The agent has no identities.’, then you’ve to generate your RSA key by <code>ssh-keygen</code> first.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="viewing-unpushed-git-commits-score-730034-in-2019" class="level3">
<h3>98: Viewing unpushed Git commits (score <a href="https://stackoverflow.com/q/2016901.html">730034</a> in 2019)</h3>
<section id="question-97" class="level4">
<h4>Question</h4>
<p>How can I view any local commits I’ve made, that haven’t yet been pushed to the remote repository? Occasionally, <code>git status</code> will print out that my branch is X commits ahead of <code>origin/master</code>, but not always.</p>
<p>Is this a bug with my install of Git, or am I missing something?</p>
</section>
<section id="answer-accepted-score-1686-1" class="level4">
<h4>Answer accepted (score 1686)</h4>
<div class="sourceCode" id="cb604"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb604-1" title="1"><span class="fu">git</span> log origin/master..HEAD</a></code></pre></div>
<p>You can also view the diff using the same syntax</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb605-1" title="1"><span class="fu">git</span> diff origin/master..HEAD</a></code></pre></div>
</section>
<section id="answer-2-score-661" class="level4">
<h4>Answer 2 (score 661)</h4>
<p>If you want to see all commits on all branches that aren’t pushed yet, you might be looking for something like this:</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb606-1" title="1"><span class="fu">git</span> log --branches --not --remotes</a></code></pre></div>
<p>And if you only want to see the most recent commit on each branch, and the branch names, this:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb607-1" title="1"><span class="fu">git</span> log --branches --not --remotes --simplify-by-decoration --decorate --oneline</a></code></pre></div>
</section>
<section id="answer-3-score-302" class="level4">
<h4>Answer 3 (score 302)</h4>
<p>You can show all commits that you have locally but not upstream with</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb608-1" title="1"><span class="fu">git</span> log @<span class="dt">{u}</span>..</a></code></pre></div>
<p><code>@{u}</code> or <code>@{upstream}</code> means the upstream branch of the current branch (see <a href="https://www.kernel.org/pub/software/scm/git/docs/git-rev-parse.html" rel="noreferrer"><code>git rev-parse --help</code></a> or <a href="https://www.kernel.org/pub/software/scm/git/docs/gitrevisions.html" rel="noreferrer"><code>git help revisions</code></a> for details).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-uncommit-my-last-commit-in-git-score-725603-in-2018" class="level3">
<h3>99: How to uncommit my last commit in Git (score <a href="https://stackoverflow.com/q/2845731.html">725603</a> in 2018)</h3>
<section id="question-98" class="level4">
<h4>Question</h4>
<p>How can I uncommit my last commit in git?</p>
<p>Is it</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb609-1" title="1"><span class="fu">git</span> reset --hard HEAD</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb610-1" title="1"><span class="fu">git</span> reset --hard HEAD^</a></code></pre></div>
<p>?</p>
</section>
<section id="answer-2-score-1272" class="level4">
<h4>Answer 2 (score 1272)</h4>
<p>If you aren’t totally sure what you mean by “uncommit” and don’t know if you want to use <code>git reset</code>, please see “<a href="https://stackoverflow.com/q/4114095/119963">Revert to a previous Git commit</a>”.</p>
<p>If you’re trying to understand <code>git reset</code> better, please see “<a href="https://stackoverflow.com/questions/2530060/can-you-explain-what-git-reset-does-in-plain-english">Can you explain what”git reset" does in plain English?</a>".</p>
<hr>
<p>If you know you want to use <code>git reset</code>, it still depends what you mean by “uncommit”. If all you want to do is undo the act of committing, leaving everything else intact, use:</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb611-1" title="1"><span class="fu">git</span> reset --soft HEAD^</a></code></pre></div>
<p>If you want to undo the act of committing and everything you’d staged, but leave the work tree (your files intact):</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb612-1" title="1"><span class="fu">git</span> reset HEAD^</a></code></pre></div>
<p>And if you actually want to <em>completely</em> undo it, <strong><em>throwing away all uncommitted changes, resetting everything to the previous commit</em></strong> (as the original question asked):</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb613-1" title="1"><span class="fu">git</span> reset --hard HEAD^</a></code></pre></div>
<hr>
<p>The original question also asked it’s <code>HEAD^</code> not <code>HEAD</code>. <code>HEAD</code> refers to the current commit - generally, the tip of the currently checked-out branch. The <code>^</code> is a notation which can be attached to <em>any</em> commit specifier, and means “the commit before”. So, <code>HEAD^</code> is the commit before the current one, just as <code>master^</code> is the commit before the tip of the master branch.</p>
<p>Here’s the portion of the <a href="http://linux.die.net/man/1/git-rev-parse" rel="noreferrer">git-rev-parse documentation</a> describing all of the ways to specify commits (<code>^</code> is just a basic one among many).</p>
</section>
<section id="answer-3-score-291" class="level4">
<h4>Answer 3 (score 291)</h4>
<p>To keep the changes from the commit you want to undo</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb614-1" title="1"><span class="fu">git</span> reset --soft HEAD^</a></code></pre></div>
<p>To destroy the changes from the commit you want to undo</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb615-1" title="1"><span class="fu">git</span> reset --hard HEAD^</a></code></pre></div>
<p>You can also say</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb616-1" title="1"><span class="fu">git</span> reset --soft HEAD~2</a></code></pre></div>
<p>to go back 2 commits.</p>
<p>Edit: As charsi mentioned, if you are on Windows you will need to put HEAD or commit hash in quotes.</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb617-1" title="1"><span class="fu">git</span> reset --soft <span class="st">&quot;HEAD^&quot;</span></a>
<a class="sourceLine" id="cb617-2" title="2"><span class="fu">git</span> reset --soft <span class="st">&quot;asdf&quot;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="stash-only-one-file-out-of-multiple-files-that-have-changed-with-git-score-720799-in-2019" class="level3">
<h3>100: Stash only one file out of multiple files that have changed with Git? (score <a href="https://stackoverflow.com/q/3040833.html">720799</a> in 2019)</h3>
<section id="question-99" class="level4">
<h4>Question</h4>
<p>How can I stash only one of multiple changed files on my branch?</p>
</section>
<section id="answer-accepted-score-1315" class="level4">
<h4>Answer accepted (score 1315)</h4>
<p><strong>Update</strong>: the following answer is for git before git 2.13. For git 2.13 and over, check out <a href="https://stackoverflow.com/a/3041055">another answer further down</a>.</p>
<hr>
<p><strong>Warning</strong></p>
<p>As noted in the comments, this puts everything into the stash, both staged and unstaged. The –keep-index just leaves the index alone after the stash is done. This can cause merge conflicts when you later pop the stash.</p>
<hr>
<p>This will stash everything that you haven’t previously added. Just <code>git add</code> the things you want to keep, then run it.</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb618-1" title="1"><span class="fu">git</span> stash --keep-index</a></code></pre></div>
<p>For example, if you want to split an old commit into more than one changeset, you can use this procedure:</p>
<ol>
<li>
<code>git rebase -i &amp;lt;last good commit&amp;gt;</code>
</li>
<li>
Mark some changes as <code>edit</code>.
</li>
<li>
<code>git reset HEAD^</code>
</li>
<li>
<code>git add &amp;lt;files you want to keep in this change&amp;gt;</code>
</li>
<li>
<code>git stash --keep-index</code>
</li>
<li>
Fix things up as necessary. Don’t forget to <code>git add</code> any changes.
</li>
<li>
<code>git commit</code>
</li>
<li>
<code>git stash pop</code>
</li>
<li>
Repeat, from #5, as necessary.
</li>
<li>
<code>git rebase --continue</code>
</li>
</ol>
</section>
<section id="answer-2-score-2931" class="level4">
<h4>Answer 2 (score 2931)</h4>
<p>You can also use <code>git stash save -p "my commit message"</code>. This way you can select which hunks should be added to stash, whole files can be selected as well.</p>
<p>You’ll be prompted with a few actions for each hunk:</p>
<div class="sourceCode" id="cb619"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb619-1" title="1">   <span class="ex">y</span> - stash this hunk</a>
<a class="sourceLine" id="cb619-2" title="2">   <span class="ex">n</span> - do not stash this hunk</a>
<a class="sourceLine" id="cb619-3" title="3">   <span class="ex">q</span> - quit<span class="kw">;</span> <span class="kw">do</span> <span class="ex">not</span> stash this hunk or any of the remaining ones</a>
<a class="sourceLine" id="cb619-4" title="4">   <span class="ex">a</span> - stash this hunk and all later hunks in the file</a>
<a class="sourceLine" id="cb619-5" title="5">   <span class="ex">d</span> - do not stash this hunk or any of the later hunks in the file</a>
<a class="sourceLine" id="cb619-6" title="6">   <span class="ex">g</span> - select a hunk to go to</a>
<a class="sourceLine" id="cb619-7" title="7">   <span class="ex">/</span> - search for a hunk matching the given regex</a>
<a class="sourceLine" id="cb619-8" title="8">   <span class="ex">j</span> - leave this hunk undecided, see next undecided hunk</a>
<a class="sourceLine" id="cb619-9" title="9">   <span class="ex">J</span> - leave this hunk undecided, see next hunk</a>
<a class="sourceLine" id="cb619-10" title="10">   <span class="ex">k</span> - leave this hunk undecided, see previous undecided hunk</a>
<a class="sourceLine" id="cb619-11" title="11">   <span class="ex">K</span> - leave this hunk undecided, see previous hunk</a>
<a class="sourceLine" id="cb619-12" title="12">   <span class="ex">s</span> - split the current hunk into smaller hunks</a>
<a class="sourceLine" id="cb619-13" title="13">   <span class="ex">e</span> - manually edit the current hunk</a>
<a class="sourceLine" id="cb619-14" title="14">   <span class="ex">?</span> - print help</a></code></pre></div>
</section>
<section id="answer-3-score-384" class="level4">
<h4>Answer 3 (score 384)</h4>
<p>Since git is fundamentally about managing a all repository <em>content</em> and index (and not one or several files), <code>git stash</code> deals, not surprisingly, <del>with the all working directory</del>.</p>
<p>Actually, since Git 2.13 (Q2 2017), you can stash individual files, with <a href="https://git-scm.com/docs/git-stash#git-stash-push-p--patch-k--no-keep-index-u--include-untracked-a--all-q--quiet-m--messageltmessagegt--ltpathspecgt82308203" rel="noreferrer"><code>git stash push</code></a>:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb620-1" title="1"><span class="fu">git</span> stash push [--] [<span class="op">&lt;</span>pathspec<span class="op">&gt;</span>...]</a></code></pre></div>
<blockquote>
When <code>pathspec</code> is given to ‘<code>git stash push</code>’, the new stash records the modified states only for the files that match the pathspec
</blockquote>
<p>See “<a href="https://stackoverflow.com/a/42963606/6309">Stash changes to specific files</a>” for more.</p>
<p><a href="https://github.com/git/git/blob/44c3f09fa501ccd83e3362080a99ad4b46cda127/t/t3903-stash.sh#L815-L827" rel="noreferrer">The test case</a> is self-explanatory:</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb621-1" title="1"><span class="ex">test_expect_success</span> <span class="st">&#39;stash with multiple pathspec arguments&#39;</span> <span class="st">&#39;</span></a>
<a class="sourceLine" id="cb621-2" title="2"><span class="st">    &gt;foo &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-3" title="3"><span class="st">    &gt;bar &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-4" title="4"><span class="st">    &gt;extra &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-5" title="5"><span class="st">    git add foo bar extra &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-6" title="6"></a>
<a class="sourceLine" id="cb621-7" title="7"><span class="st">    git stash push -- foo bar &amp;&amp;   </span></a>
<a class="sourceLine" id="cb621-8" title="8"></a>
<a class="sourceLine" id="cb621-9" title="9"><span class="st">    test_path_is_missing bar &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-10" title="10"><span class="st">    test_path_is_missing foo &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-11" title="11"><span class="st">    test_path_is_file extra &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-12" title="12"></a>
<a class="sourceLine" id="cb621-13" title="13"><span class="st">    git stash pop &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-14" title="14"><span class="st">    test_path_is_file foo &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-15" title="15"><span class="st">    test_path_is_file bar &amp;&amp;</span></a>
<a class="sourceLine" id="cb621-16" title="16"><span class="st">    test_path_is_file extra</span></a></code></pre></div>
<hr>
<p>The original answer (below, June 2010) was about manually selecting what you want to stash.</p>
<p><a href="https://stackoverflow.com/users/165495/casebash">Casebash</a> comments:</p>
<blockquote>
This (the <code>stash --patch</code> original solution) is nice, but often I’ve modified a lot of files so using patch is annoying
</blockquote>
<p>
<a href="https://stackoverflow.com/users/146821/bukzor">bukzor</a>’s <a href="https://stackoverflow.com/a/8333163/6309">answer</a> (upvoted, November 2011) suggests a more practical solution, based on<br> <strong><code>git add</code> + <code>git stash --keep-index</code></strong>.<br> Go see and upvote his answer, which should be the official one (instead of mine).
</p>
<p>About that option, <a href="https://stackoverflow.com/users/88814/chhh">chhh</a> points out an alternative workflow in the comments:</p>
<blockquote>
<p>
you should “<code>git reset --soft</code>” after such a stash to get your clear staging back:<br> In order to get to the original state - which is a clear staging area and with only some select un-staged modifications, one could softly reset the index to get (without committing anything like you - bukzor - did).
</p>
</blockquote>
<hr>
<p>(Original answer June 2010: manual stash)</p>
<p>Yet, <code>git stash save --patch</code> could allows you to achieve the partial stashing you are after:</p>
<blockquote>
<p>
With <code>--patch</code>, you can interactively select hunks from in the diff between HEAD and the working tree to be stashed.<br> The stash entry is constructed such that its index state is the same as the index state of your repository, and its worktree contains only the changes you selected interactively. The selected changes are then rolled back from your worktree.
</p>
</blockquote>
<p>However that will save the full index (which may not be what you want since it might include other files already indexed), and a partial worktree (which could look like the one you want to stash).</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb622-1" title="1"><span class="fu">git</span> stash --patch --no-keep-index</a></code></pre></div>
<p>might be a better fit.</p>
<hr>
<p>If <code>--patch</code> doesn’t work, a manual process might:</p>
<p>For one or several files, an intermediate solution would be to:</p>
<ul>
<li>
copy them outside the Git repo<br> (Actually, <a href="https://stackoverflow.com/users/578435/eleotlecram">eleotlecram</a> proposes an <a href="https://stackoverflow.com/a/7569847/6309">interesting alternative</a>)
</li>
<li>
<code>git stash</code>
</li>
<li>
copy them back
</li>
<li>
<code>git stash</code> # this time, only the files you want are stashed
</li>
<li>
<code>git stash pop stash@{1}</code> # re-apply all your files modifications
</li>
<li>
<code>git checkout -- afile</code> # reset the file to the HEAD content, before any local modifications
</li>
</ul>
At the end of that rather cumbersome process, you will have only one or several files stashed.<br />

</section>
</section>
</section>
</body>
</html>
