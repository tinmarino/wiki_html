<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Regex_top_100.md – Regex &lt;- StackOverflow top 100</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="../Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="../Css/layout_toc.css" />
  <script type="text/javascript" src="../Css/js_masonry_desandro.js"></script>
</head>
<body>
<header>
<h1 class="title">Regex &lt;- StackOverflow top 100</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#regular-expression-to-match-a-line-that-doesnt-contain-a-word-score-3113595-in-2019">1: Regular expression to match a line that doesn’t contain a word (score <span>3113595</span> in 2019)</a></li>
<li><a href="#how-to-validate-an-email-address-in-javascript-score-2751724-in-2019">2: How to validate an email address in JavaScript (score <span>2751724</span> in 2019)</a></li>
<li><a href="#regex-match-open-tags-except-xhtml-self-contained-tags-score-2669567-in-2012">3: RegEx match open tags except XHTML self-contained tags (score <span>2669567</span> in 2012)</a></li>
<li><a href="#regular-expression-to-check-if-password-is-8-characters-including-1-uppercase-letter-1-special-character-alphanumeric-characters-score-1708893-in-2018">4: Regular expression to check if password is “8 characters including 1 uppercase letter, 1 special character, alphanumeric characters” (score <span>1708893</span> in 2018)</a></li>
<li><a href="#match-the-path-of-a-url-minus-the-filename-extension-score-1259727-in-2014">5: Match the path of a URL, minus the filename extension (score <span>1259727</span> in 2014)</a></li>
<li><a href="#how-to-validate-an-email-address-using-a-regular-expression-score-1146192-in-2018">6: How to validate an email address using a regular expression? (score <span>1146192</span> in 2018)</a></li>
<li><a href="#regular-expression-for-alphanumeric-and-underscores-score-1010986-in">7: Regular Expression for alphanumeric and underscores (score <span>1010986</span> in )</a></li>
<li><a href="#a-comprehensive-regex-for-phone-number-validation-score-876411-in-2017">8: A comprehensive regex for phone number validation (score <span>876411</span> in 2017)</a></li>
<li><a href="#how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops-score-800567-in-2019">9: How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops (score <span>800567</span> in 2019)</a></li>
<li><a href="#how-to-extract-numbers-from-a-string-in-python-score-754314-in-2019">10: How to extract numbers from a string in Python? (score <span>754314</span> in 2019)</a></li>
<li><a href="#remove-all-special-characters-from-a-string-score-720840-in-2017">11: Remove all special characters from a string (score <span>720840</span> in 2017)</a></li>
<li><a href="#regex-for-numbers-only-score-719314-in-2019">12: Regex for numbers only (score <span>719314</span> in 2019)</a></li>
<li><a href="#how-to-match-any-character-in-regular-expression-score-718409-in-2018">13: How to match “any character” in regular expression? (score <span>718409</span> in 2018)</a></li>
<li><a href="#how-do-you-access-the-matched-groups-in-a-javascript-regular-expression-score-705906-in-2017">14: How do you access the matched groups in a JavaScript regular expression? (score <span>705906</span> in 2017)</a></li>
<li><a href="#check-whether-a-string-matches-a-regex-in-js-score-700870-in-2017">15: Check whether a string matches a regex in JS (score <span>700870</span> in 2017)</a></li>
<li><a href="#python-string.replace-regular-expression-score-696728-in-2019">16: Python string.replace regular expression (score <span>696728</span> in 2019)</a></li>
<li><a href="#regex-that-accepts-only-numbers-0-9-and-no-characters-score-694263-in-2013">17: Regex that accepts only numbers (0-9) and NO characters (score <span>694263</span> in 2013)</a></li>
<li><a href="#regular-expressions-is-there-an-and-operator-score-693174-in-2017">18: Regular Expressions: Is there an AND operator? (score <span>693174</span> in 2017)</a></li>
<li><a href="#how-can-i-exclude-one-word-with-grep-score-679734-in-2015">19: How can I exclude one word with grep? (score <span>679734</span> in 2015)</a></li>
<li><a href="#matching-a-space-in-regex-score-675660-in-2015">20: Matching a space in regex (score <span>675660</span> in 2015)</a></li>
<li><a href="#how-do-you-use-a-variable-in-a-regular-expression-score-665330-in-2019">21: How do you use a variable in a regular expression? (score <span>665330</span> in 2019)</a></li>
<li><a href="#what-is-a-non-capturing-group-in-regular-expressions-score-647385-in-2019">22: What is a non-capturing group in regular expressions? (score <span>647385</span> in 2019)</a></li>
<li><a href="#using-string-format-to-show-decimal-up-to-2-places-or-simple-integer-score-641202-in-2017">23: Using String Format to show decimal up to 2 places or simple integer (score <span>641202</span> in 2017)</a></li>
<li><a href="#regex-match-all-characters-between-two-strings-score-638223-in-2016">24: Regex Match all characters between two strings (score <span>638223</span> in 2016)</a></li>
<li><a href="#regex-to-check-whether-a-string-contains-only-numbers-score-633360-in-2018">25: Regex to check whether a string contains only numbers (score <span>633360</span> in 2018)</a></li>
<li><a href="#how-to-negate-specific-word-in-regex-score-626264-in-2016">26: How to negate specific word in regex? (score <span>626264</span> in 2016)</a></li>
<li><a href="#regex-to-match-only-letters-score-623756-in-2018">27: Regex to match only letters (score <span>623756</span> in 2018)</a></li>
<li><a href="#split-string-on-whitespace-in-python-score-603894-in-2015">28: Split string on whitespace in Python (score <span>603894</span> in 2015)</a></li>
<li><a href="#simple-regular-expression-for-a-decimal-with-a-precision-of-2-score-593074-in-2012">29: Simple regular expression for a decimal with a precision of 2 (score <span>593074</span> in 2012)</a></li>
<li><a href="#how-is-the-andor-operator-represented-as-in-regular-expressions-score-590059-in-2019">30: How is the AND/OR operator represented as in Regular Expressions? (score <span>590059</span> in 2019)</a></li>
<li><a href="#how-to-match-anything-up-until-this-sequence-of-characters-in-a-regular-expression-score-570881-in">31: How to match “anything up until this sequence of characters” in a regular expression? (score <span>570881</span> in )</a></li>
<li><a href="#how-to-extract-a-substring-using-regex-score-570678-in-2014">32: How to extract a substring using regex (score <span>570678</span> in 2014)</a></li>
<li><a href="#regex-ignore-case-sensitivity-score-569767-in-2017">33: Regex: ignore case sensitivity (score <span>569767</span> in 2017)</a></li>
<li><a href="#find-crlf-in-notepad-score-548272-in-2018">34: Find CRLF in Notepad++ (score <span>548272</span> in 2018)</a></li>
<li><a href="#what-is-a-good-regular-expression-to-match-a-url-score-534454-in-2012">35: What is a good regular expression to match a URL? (score <span>534454</span> in 2012)</a></li>
<li><a href="#regex-to-validate-date-format-ddmmyyyy-score-533749-in-2016">36: Regex to validate date format dd/mm/yyyy (score <span>533749</span> in 2016)</a></li>
<li><a href="#replace-specific-characters-within-strings-score-524267-in-2019">37: Replace specific characters within strings (score <span>524267</span> in 2019)</a></li>
<li><a href="#how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-score-520690-in-2015">38: How do I match any character across multiple lines in a regular expression? (score <span>520690</span> in 2015)</a></li>
<li><a href="#regular-expression-to-stop-at-first-match-score-520377-in-2012">39: Regular expression to stop at first match (score <span>520377</span> in 2012)</a></li>
<li><a href="#a-regular-expression-to-exclude-a-wordstring-score-515997-in-2010">40: A regular expression to exclude a word/string (score <span>515997</span> in 2010)</a></li>
<li><a href="#regex-for-password-must-contain-at-least-eight-characters-at-least-one-number-and-both-lower-and-uppercase-letters-and-special-characters-score-498895-in-2017">41: Regex for password must contain at least eight characters, at least one number and both lower and uppercase letters and special characters (score <span>498895</span> in 2017)</a></li>
<li><a href="#how-to-remove-all-line-breaks-from-a-string-score-487768-in-2018">42: How to remove all line breaks from a string (score <span>487768</span> in 2018)</a></li>
<li><a href="#find-and-extract-a-number-from-a-string-score-480142-in-2015">43: Find and extract a number from a string (score <span>480142</span> in 2015)</a></li>
<li><a href="#regular-expression-to-extract-text-between-square-brackets-score-478828-in-2010">44: Regular expression to extract text between square brackets (score <span>478828</span> in 2010)</a></li>
<li><a href="#regular-expression-for-exact-match-of-a-string-score-476033-in-2019">45: Regular expression for exact match of a string (score <span>476033</span> in 2019)</a></li>
<li><a href="#split-java-string-by-new-line-score-474015-in-2009">46: Split Java String by New Line (score <span>474015</span> in 2009)</a></li>
<li><a href="#removing-empty-lines-in-notepad-score-472569-in-2014">47: Removing empty lines in Notepad++ (score <span>472569</span> in 2014)</a></li>
<li><a href="#regular-expressions--match-anything-score-465260-in-2018">48: Regular Expressions- Match Anything (score <span>465260</span> in 2018)</a></li>
<li><a href="#find-and-kill-a-process-in-one-line-using-bash-and-regex-score-456080-in-2010">49: Find and kill a process in one line using bash and regex (score <span>456080</span> in 2010)</a></li>
<li><a href="#regex-matching-up-to-the-first-occurrence-of-a-character-score-447616-in-2013">50: Regex: matching up to the first occurrence of a character (score <span>447616</span> in 2013)</a></li>
<li><a href="#check-if-string-matches-pattern-score-446271-in-2016">51: Check if string matches pattern (score <span>446271</span> in 2016)</a></li>
<li><a href="#how-do-i-split-a-string-with-multiple-separators-in-javascript-score-442421-in-2015">52: How do I split a string with multiple separators in javascript? (score <span>442421</span> in 2015)</a></li>
<li><a href="#how-to-count-string-occurrence-in-string-score-426426-in">53: How to count string occurrence in string? (score <span>426426</span> in )</a></li>
<li><a href="#regular-expression-to-allow-spaces-between-words-score-425290-in-2019">54: Regular expression to allow spaces between words (score <span>425290</span> in 2019)</a></li>
<li><a href="#validating-email-addresses-using-jquery-and-regex-score-422825-in-2017">55: Validating email addresses using jQuery and regex (score <span>422825</span> in 2017)</a></li>
<li><a href="#remove-new-lines-from-string-and-replace-with-one-empty-space-score-421794-in-2019">56: Remove new lines from string and replace with one empty space (score <span>421794</span> in 2019)</a></li>
<li><a href="#how-to-do-a-regular-expression-replace-in-mysql-score-412329-in-2017">57: How to do a regular expression replace in MySQL? (score <span>412329</span> in 2017)</a></li>
<li><a href="#remove-all-special-characters-punctuation-and-spaces-from-string-score-410777-in-2015">58: Remove all special characters, punctuation and spaces from string (score <span>410777</span> in 2015)</a></li>
<li><a href="#how-to-print-matched-regex-pattern-using-awk-score-406650-in-2018">59: How to print matched regex pattern using awk? (score <span>406650</span> in 2018)</a></li>
<li><a href="#how-to-remove-special-characters-from-a-string-score-406020-in-2016">60: How to remove special characters from a string? (score <span>406020</span> in 2016)</a></li>
<li><a href="#regex-to-test-if-string-begins-with-http-or-https-score-404032-in-2011">61: Regex to test if string begins with http:// or https:// (score <span>404032</span> in 2011)</a></li>
<li><a href="#regex-email-validation-score-401797-in-2016">62: Regex Email validation (score <span>401797</span> in 2016)</a></li>
<li><a href="#jquery-selector-regular-expressions-score-401188-in-2016">63: jQuery selector regular expressions (score <span>401188</span> in 2016)</a></li>
<li><a href="#remove-all-special-characters-with-regexp-score-395465-in-2018">64: Remove all special characters with RegExp (score <span>395465</span> in 2018)</a></li>
<li><a href="#regular-expression-to-find-a-string-included-between-two-characters-while-excluding-the-delimiters-score-395344-in-2018">65: Regular Expression to find a string included between two characters while EXCLUDING the delimiters (score <span>395344</span> in 2018)</a></li>
<li><a href="#java-string-replace-using-regular-expressions-score-394664-in-2012">66: Java; String replace (using regular expressions)? (score <span>394664</span> in 2012)</a></li>
<li><a href="#java-string-split-with-.-dot-score-387315-in-2019">67: Java string split with “.” (dot) (score <span>387315</span> in 2019)</a></li>
<li><a href="#regular-expression-to-limit-number-of-characters-to-10-score-384603-in-2013">68: Regular expression to limit number of characters to 10 (score <span>384603</span> in 2013)</a></li>
<li><a href="#regex-for-string-contains-score-381502-in-2016">69: Regex for string contains? (score <span>381502</span> in 2016)</a></li>
<li><a href="#regex-to-replace-multiple-spaces-with-a-single-space-score-379298-in-2016">70: Regex to replace multiple spaces with a single space (score <span>379298</span> in 2016)</a></li>
<li><a href="#test-if-characters-are-in-a-string-score-377400-in-2018">71: Test if characters are in a string (score <span>377400</span> in 2018)</a></li>
<li><a href="#how-to-find-all-occurrences-of-a-substring-score-375838-in-2019">72: How to find all occurrences of a substring? (score <span>375838</span> in 2019)</a></li>
<li><a href="#what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-score-372948-in-2016">73: What is the best regular expression to check if a string is a valid URL? (score <span>372948</span> in 2016)</a></li>
<li><a href="#how-to-output-only-captured-groups-with-sed-score-372573-in-2019">74: How to output only captured groups with sed? (score <span>372573</span> in 2019)</a></li>
<li><a href="#using-regex-in-sql-server-score-371450-in">75: Using RegEx in SQL Server (score <span>371450</span> in )</a></li>
<li><a href="#regular-expression-to-match-a-word-or-its-prefix-score-365246-in-2018">76: Regular expression to match a word or its prefix (score <span>365246</span> in 2018)</a></li>
<li><a href="#match-two-strings-in-one-line-with-grep-score-363844-in-2019">77: Match two strings in one line with grep (score <span>363844</span> in 2019)</a></li>
<li><a href="#regex-match-everything-but-specific-pattern-score-359326-in-2019">78: Regex: match everything but specific pattern (score <span>359326</span> in 2019)</a></li>
<li><a href="#regex---does-not-contain-certain-characters-score-353405-in-2019">79: Regex - Does not contain certain Characters (score <span>353405</span> in 2019)</a></li>
<li><a href="#whitespace-matching-regex---java-score-352296-in-2014">80: Whitespace Matching Regex - Java (score <span>352296</span> in 2014)</a></li>
<li><a href="#how-to-use-regex-with-find-command-score-351529-in-2011">81: How to use regex with find command? (score <span>351529</span> in 2011)</a></li>
<li><a href="#php-string-contains-score-351294-in-2017">82: PHP string “contains” (score <span>351294</span> in 2017)</a></li>
<li><a href="#regular-expression-to-match-every-new-line-character-inside-a-tag-score-350198-in-2015">83: Regular Expression to match every new line character () inside a <content> tag (score <span>350198</span> in 2015)</a></li>
<li><a href="#regex-for-javascript-to-allow-only-alphanumeric-score-349473-in-2015">84: RegEx for Javascript to allow only alphanumeric (score <span>349473</span> in 2015)</a></li>
<li><a href="#validate-phone-number-with-javascript-score-347886-in-2011">85: Validate phone number with JavaScript (score <span>347886</span> in 2011)</a></li>
<li><a href="#javascript-regular-expression-email-validation-score-329940-in-2018">86: JavaScript Regular Expression Email Validation (score <span>329940</span> in 2018)</a></li>
<li><a href="#how-do-i-remove-all-non-alphanumeric-characters-from-a-string-except-dash-score-329647-in-2014">87: How do I remove all non alphanumeric characters from a string except dash? (score <span>329647</span> in 2014)</a></li>
<li><a href="#regular-expression-to-match-string-starting-with-stop-score-329414-in-2011">88: Regular Expression to match string starting with “stop” (score <span>329414</span> in 2011)</a></li>
<li><a href="#regular-expression-to-match-only-alphabetic-characters-score-329002-in-2011">89: Regular Expression to match only alphabetic characters (score <span>329002</span> in 2011)</a></li>
<li><a href="#regular-expression-to-match-dns-hostname-or-ip-address-score-322309-in-2014">90: Regular expression to match DNS hostname or IP Address? (score <span>322309</span> in 2014)</a></li>
<li><a href="#what-regex-will-match-every-character-except-comma-or-semi-colon-score-320135-in-2009">91: What regex will match every character except comma ‘,’ or semi-colon ‘;’? (score <span>320135</span> in 2009)</a></li>
<li><a href="#how-to-escape-regular-expression-special-characters-using-javascript-score-319153-in-2011">92: How to escape regular expression special characters using javascript? (score <span>319153</span> in 2011)</a></li>
<li><a href="#regular-expression-to-get-a-string-between-two-strings-in-javascript-score-316875-in-2019">93: Regular expression to get a string between two strings in Javascript (score <span>316875</span> in 2019)</a></li>
<li><a href="#use-string.split-with-multiple-delimiters-score-313325-in-2017">94: Use String.split() with multiple delimiters (score <span>313325</span> in 2017)</a></li>
<li><a href="#regular-expression-to-match-balanced-parentheses-score-312134-in-2019">95: Regular expression to match balanced parentheses (score <span>312134</span> in 2019)</a></li>
<li><a href="#regex-grabbing-values-between-quotation-marks-score-309597-in-2014">96: RegEx: Grabbing values between quotation marks (score <span>309597</span> in 2014)</a></li>
<li><a href="#how-do-i-extract-text-that-lies-between-parentheses-round-brackets-score-307895-in-2015">97: How do I extract text that lies between parentheses (round brackets)? (score <span>307895</span> in 2015)</a></li>
<li><a href="#jquery-validate-how-to-add-a-rule-for-regular-expression-validation-score-305989-in-2017">98: jQuery validate: How to add a rule for regular expression validation? (score <span>305989</span> in 2017)</a></li>
<li><a href="#regular-expression-to-get-a-string-between-parentheses-in-javascript-score-305791-in-2018">99: Regular Expression to get a string between parentheses in Javascript (score <span>305791</span> in 2018)</a></li>
<li><a href="#how-to-extract-img-src-title-and-alt-from-html-using-php-score-303789-in-2015">100: How to extract img src, title and alt from html using php? (score <span>303789</span> in 2015)</a></li>
</ul>
</nav>
<section class="level2">
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
<section id="regular-expression-to-match-a-line-that-doesnt-contain-a-word-score-3113595-in-2019" class="level3">
<h3>1: Regular expression to match a line that doesn’t contain a word (score <a href="https://stackoverflow.com/q/406230.html">3113595</a> in 2019)</h3>
<section id="question" class="level4">
<h4>Question</h4>
<p>I know it’s possible to match a word and then reverse the matches using other tools (e.g. <code>grep -v</code>). However, is it possible to match lines that do not contain a specific word, e.g. <code>hede</code>, using a regular expression?</p>
<h5>
Input:
</h3>
<pre class="regex"><code>hoho
hihi
haha
hede</code></pre>
<h5>
Code:
</h3>
<pre class="regex"><code>grep &quot;&amp;lt;Regex for &#39;doesn&#39;t contain hede&#39;&amp;gt;&quot; input</code></pre>
<h5>
Desired output:
</h3>
<pre class="regex"><code>hoho
hihi
haha</code></pre>
</section>
<section id="answer-accepted-score-5569" class="level4">
<h4>Answer accepted (score 5569)</h4>
<p>The notion that regex doesn’t support inverse matching is not entirely true. You can mimic this behavior by using negative look-arounds:</p>
<pre class="regex"><code>^((?!hede).)*$</code></pre>
<p>The regex above will match any string, or line without a line break, <strong>not</strong> containing the (sub)string ‘hede’. As mentioned, this is not something regex is “good” at (or should do), but still, it <em>is</em> possible.</p>
<p>And if you need to match line break chars as well, use the <a href="http://perldoc.perl.org/perlre.html#Modifiers" rel="noreferrer">DOT-ALL modifier</a> (the trailing <code>s</code> in the following pattern):</p>
<pre class="regex"><code>/^((?!hede).)*$/s</code></pre>
<p>or use it inline:</p>
<pre class="regex"><code>/(?s)^((?!hede).)*$/</code></pre>
<p><em>(where the <code>/.../</code> are the regex delimiters, i.e., not part of the pattern)</em></p>
<p>If the DOT-ALL modifier is not available, you can mimic the same behavior with the character class <code>[\s\S]</code>:</p>
<pre class="regex"><code>/^((?!hede)[\s\S])*$/</code></pre>
<h5>
Explanation
</h2>
<p>A string is just a list of <code>n</code> characters. Before, and after each character, there’s an empty string. So a list of <code>n</code> characters will have <code>n+1</code> empty strings. Consider the string <code>&quot;ABhedeCD&quot;</code>:</p>
<pre class="regex"><code>    ┌──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┐
S = │e1│ A │e2│ B │e3│ h │e4│ e │e5│ d │e6│ e │e7│ C │e8│ D │e9│
    └──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┘

index    0      1      2      3      4      5      6      7</code></pre>
<p>where the <code>e</code>’s are the empty strings. The regex <code>(?!hede).</code> looks ahead to see if there’s no substring <code>&quot;hede&quot;</code> to be seen, and if that is the case (so something else is seen), then the <code>.</code> (dot) will match any character except a line break. Look-arounds are also called <em>zero-width-assertions</em> because they don’t <em>consume</em> any characters. They only assert/validate something.</p>
<p>So, in my example, every empty string is first validated to see if there’s no <code>&quot;hede&quot;</code> up ahead, before a character is consumed by the <code>.</code> (dot). The regex <code>(?!hede).</code> will do that only once, so it is wrapped in a group, and repeated zero or more times: <code>((?!hede).)*</code>. Finally, the start- and end-of-input are anchored to make sure the entire input is consumed: <code>^((?!hede).)*$</code></p>
<p>As you can see, the input <code>&quot;ABhedeCD&quot;</code> will fail because on <code>e3</code>, the regex <code>(?!hede)</code> fails (there <em>is</em> <code>&quot;hede&quot;</code> up ahead!).</p>
</section>
<section id="answer-2-score-697" class="level4">
<h4>Answer 2 (score 697)</h4>
<p>Note that the solution to <strong>does not <em>start with</em> “hede”</strong>:</p>
<pre class="regex"><code>^(?!hede).*$</code></pre>
<p>is generally much more efficient than the solution to <strong>does not <em>contain</em> “hede”</strong>:</p>
<pre class="regex"><code>^((?!hede).)*$</code></pre>
<p>The former checks for “hede” only at the input string’s first position, rather than at every position.</p>
</section>
<section id="answer-3-score-196" class="level4">
<h4>Answer 3 (score 196)</h4>
<p><em>If</em> you’re just using it for grep, you can use <code>grep -v hede</code> to get all lines which do not contain hede.</p>
<p>ETA Oh, rereading the question, <code>grep -v</code> is probably what you meant by “tools options”.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-validate-an-email-address-in-javascript-score-2751724-in-2019" class="level3">
<h3>2: How to validate an email address in JavaScript (score <a href="https://stackoverflow.com/q/46155.html">2751724</a> in 2019)</h3>
<section id="question-1" class="level4">
<h4>Question</h4>
<p>How can an email address be validated in JavaScript?</p>
</section>
<section id="answer-accepted-score-4568" class="level4">
<h4>Answer accepted (score 4568)</h4>
<p>Using <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expressions</a> is probably the best way. You can see a bunch of tests <a href="http://jsfiddle.net/ghvj4gy9/embedded/result,js/" rel="noreferrer">here</a> (taken from <a href="https://cs.chromium.org/chromium/src/third_party/blink/web_tests/fast/forms/resources/ValidityState-typeMismatch-email.js?q=ValidityState-typeMismatch-email.js&amp;sq=package:chromium&amp;dr" rel="noreferrer">chromium</a>)</p>
<pre class="regex"><code>function validateEmail(email) {
    var re = /^(([^&amp;lt;&amp;gt;()\[\]\\.,;:\s@&quot;]+(\.[^&amp;lt;&amp;gt;()\[\]\\.,;:\s@&quot;]+)*)|(&quot;.+&quot;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
}</code></pre>
<p>Here’s the example of regular expresion that accepts unicode:</p>
<pre class="regex"><code>var re = /^(([^&amp;lt;&amp;gt;()\[\]\.,;:\s@\&quot;]+(\.[^&amp;lt;&amp;gt;()\[\]\.,;:\s@\&quot;]+)*)|(\&quot;.+\&quot;))@(([^&amp;lt;&amp;gt;()[\]\.,;:\s@\&quot;]+\.)+[^&amp;lt;&amp;gt;()[\]\.,;:\s@\&quot;]{2,})$/i;</code></pre>
<p>But keep in mind that one should not rely only upon JavaScript validation. JavaScript can easily be disabled. This should be validated on the server side as well.</p>
<p>Here’s an example of the above in action:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>function validateEmail(email) {
  var re = /^(([^&amp;lt;&amp;gt;()[\]\\.,;:\s@\&quot;]+(\.[^&amp;lt;&amp;gt;()[\]\\.,;:\s@\&quot;]+)*)|(\&quot;.+\&quot;))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(email);
}

function validate() {
  var $result = $(&quot;#result&quot;);
  var email = $(&quot;#email&quot;).val();
  $result.text(&quot;&quot;);

  if (validateEmail(email)) {
    $result.text(email + &quot; is valid :)&quot;);
    $result.css(&quot;color&quot;, &quot;green&quot;);
  } else {
    $result.text(email + &quot; is not valid :(&quot;);
    $result.css(&quot;color&quot;, &quot;red&quot;);
  }
  return false;
}

$(&quot;#validate&quot;).on(&quot;click&quot;, validate);</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"&gt;&lt;/script&gt;

&lt;form&gt;
  &lt;p&gt;Enter an email address:&lt;/p&gt;
  &lt;input id='email'&gt;
  &lt;button type='submit' id='validate'&gt;Validate!&lt;/button&gt;
&lt;/form&gt;

&lt;h2 id='result'&gt;&lt;/h2&gt;</code></pre>
</div>
</div>
</section>
<section id="answer-2-score-719" class="level4">
<h4>Answer 2 (score 719)</h4>
<p>Just for completeness, <a href="http://www.regular-expressions.info/email.html" rel="noreferrer">here you have another RFC 2822 compliant regex</a></p>
<blockquote>
<p>The official standard is known as <a href="https://tools.ietf.org/html/rfc2822#section-3.4.1" rel="noreferrer">RFC 2822</a>. It describes the syntax that valid email addresses must adhere to. You can (<strong>but you shouldn’t</strong> — <a href="http://www.regular-expressions.info/email.html" rel="noreferrer">read on</a>) implement it with this regular expression:</p>
<p><code>(?:[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*|&quot;(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*&quot;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])</code></p>
<p>(…) We get a more practical implementation of RFC 2822 if we omit the syntax using double quotes and square brackets. <strong>It will still match 99.99% of all email addresses in actual use today.</strong></p>
<p><code>[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?</code></p>
<p>A further change you could make is to allow any two-letter country code top level domain, and only specific generic top level domains. <strong>This regex filters dummy email addresses like <code>asdf@adsf.adsf</code></strong>. You <strong>will need to update it as new top-level domains are added</strong>.</p>
<p><code>[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\b</code></p>
So even when following official standards, there are still trade-offs to be made. <strong><em>Don’t blindly copy regular expressions from online libraries or discussion forums. Always test them on your own data and with your own applications.</em></strong>
</blockquote>
<p><sub>Emphasis mine</sub></p>
</section>
<section id="answer-3-score-714" class="level4">
<h4>Answer 3 (score 714)</h4>
<p>I’ve slightly modified Jaymon’s answer for people who want really simple validation in the form of:</p>
<p>anystring@anystring.anystring</p>
<p>The regular expression:</p>
<pre class="regex"><code>/\S+@\S+\.\S+/</code></pre>
<p>Example JavaScript function:</p>
<pre class="regex"><code>function validateEmail(email) 
{
    var re = /\S+@\S+\.\S+/;
    return re.test(email);
}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-match-open-tags-except-xhtml-self-contained-tags-score-2669567-in-2012" class="level3">
<h3>3: RegEx match open tags except XHTML self-contained tags (score <a href="https://stackoverflow.com/q/1732348.html">2669567</a> in 2012)</h3>
<section id="question-2" class="level4">
<h4>Question</h4>
<p>I need to match all of these opening tags:</p>
<pre class="regex"><code>&amp;lt;p&amp;gt;
&amp;lt;a href=&quot;foo&quot;&amp;gt;</code></pre>
<p>But not these:</p>
<pre class="regex"><code>&amp;lt;br /&amp;gt;
&amp;lt;hr class=&quot;foo&quot; /&amp;gt;</code></pre>
<p>I came up with this and wanted to make sure I’ve got it right. I am only capturing the <code>a-z</code>.</p>
<pre class="regex"><code>&amp;lt;([a-z]+) *[^/]*?&amp;gt;</code></pre>
<p>I believe it says:</p>
<ul>
<li>
Find a less-than, then
</li>
<li>
Find (and capture) a-z one or more times, then
</li>
<li>
Find zero or more spaces, then
</li>
<li>
Find any character zero or more times, greedy, except <code>/</code>, then
</li>
<li>
Find a greater-than
</li>
</ul>
<p>Do I have that right? And more importantly, what do you think?</p>
</section>
<section id="answer-accepted-score-4420" class="level4">
<h4>Answer accepted (score 4420)</h4>
<p>You can’t parse [X]HTML with regex. Because HTML can’t be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts. so many times but it is not getting to me. Even enhanced irregular regular expressions as used by Perl are not up to the task of parsing HTML. You will never make me crack. HTML is a language of sufficient complexity that it cannot be parsed by regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every time you attempt to parse HTML with regular expressions, the unholy child weeps the blood of virgins, and Russian hackers pwn your webapp. Parsing HTML with regex summons tainted souls into the realm of the living. HTML and regex go together like love, marriage, and ritual infanticide. The &lt;center&gt; cannot hold it is too late. The force of regex and HTML together in the same conceptual space will destroy your mind like so much watery putty. If you parse HTML with regex you are giving in to Them and their blasphemous ways which doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify the n​erves of the sentient whilst you observe, your psyche withering in the onslaught of horror. Rege̿̔̉x-based HTML parsers are the cancer that is killing StackOverflow <i>it is too late it is too late we cannot be saved</i> the trangession of a chi͡ld ensures regex will consume all living tissue (except for HTML which it cannot, as previously prophesied) <i>dear lord help us how can anyone survive this scourge</i> using regex to parse HTML has doomed humanity to an eternity of dread torture and security holes <i>using rege</i>x as a tool to process HTML establishes a brea<i>ch between this world</i> and the dread realm of c͒ͪo͛ͫrrupt entities (like SGML entities, but <i>more corrupt) a mere glimp</i>se of the world of reg​<b>ex parsers for HTML will ins</b>​tantly transport a p<i>rogrammer’s consciousness i</i>nto a w<i>orl</i>d of ceaseless screaming, he comes<strike>, the pestilent sl</strike>ithy regex-infection wil​<b>l devour your HT</b>​ML parser, application and existence for all time like Visual Basic only worse <i>he comes he com</i>es <i>do not fi</i>​ght h<b>e com̡e̶s, ̕h̵i</b>​s un̨ho͞ly radiańcé de<i>stro҉ying all enli̍̈́̂̈́ghtenment, HTML tags <b>lea͠ki̧n͘g fr̶ǫm ̡yo​͟ur eye͢s̸ ̛l̕ik͏e liq</b>​uid p</i>ain, the song of re̸gular exp​re<strike>ssion parsing </strike>will exti<i>​nguish the voices of mor​<b>tal man from the sp</b>​here I can see it can you see ̲͚̖͔̙î̩́t̲͎̩̱͔́̋̀ it is beautiful t​</i>he f<code>inal snuf</code>fing o<i>f the lie​<b>s of Man ALL IS LOŚ͖̩͇̗̪̏̈́T A</b></i><b>LL I​S L</b>OST th<i>e pon̷y he come</i>s he c̶̮om<strike>es he co</strike><b><strike>me</strike>s t<i>he</i> ich​</b>or permeat<i>es al</i>l MY FAC<i>E MY FACE ᵒh god n<b>o NO NOO̼</b></i><b>O​O N</b>Θ stop t<i>he an​*̶͑̾̾​̅ͫ͏̙̤g͇̫͛͆̾ͫ̑͆l͖͉̗̩̳̟̍ͫͥͨ</i>e̠̅s<code>͎a̧͈͖r̽̾̈́͒͑e</code> n<b>​ot rè̑ͧ̌aͨl̘̝̙̃ͤ͂̾̆ ZA̡͊͠͝LGΌ ISͮ̂҉̯͈͕̹̘̱ T</b>O͇̹̺ͅƝ̴ȳ̳ TH̘<b>Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡ H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝</b>S̨̥̫͎̭ͯ̿̔̀ͅ</p>
<hr>
<p>Have you tried using an XML parser instead?</p>
<hr>
<blockquote>
<p><strong>Moderator’s Note</strong></p>
This post is locked to prevent inappropriate edits to its content. The post looks exactly as it is supposed to look - there are no problems with its content. Please do not flag it for our attention.
</blockquote>
</section>
<section id="answer-2-score-3165" class="level4">
<h4>Answer 2 (score 3165)</h4>
<p>While <em>arbitrary</em> HTML with only a regex is impossible, it’s sometimes appropriate to use them for parsing a <em>limited, known</em> set of HTML.</p>
<p>If you have a small set of HTML pages that you want to scrape data from and then stuff into a database, regexes might work fine. For example, I recently wanted to get the names, parties, and districts of Australian federal Representatives, which I got off of the Parliament’s web site. This was a limited, one-time job.</p>
<p>Regexes worked just fine for me, and were very fast to set up.</p>
</section>
<section id="answer-3-score-1984" class="level4">
<h4>Answer 3 (score 1984)</h4>
<p>I think the flaw here is that HTML is a <a href="http://en.wikipedia.org/wiki/Context-free_grammar" rel="noreferrer">Chomsky Type 2 grammar (context free grammar)</a> and RegEx is a <a href="http://en.wikipedia.org/wiki/Regular_grammar" rel="noreferrer">Chomsky Type 3 grammar (regular grammar)</a>. Since a Type 2 grammar is fundamentally more complex than a Type 3 grammar (see the <a href="http://en.wikipedia.org/wiki/Chomsky_hierarchy" rel="noreferrer">Chomsky hierarchy</a>), it is <em>mathematically impossible</em> to parse XML with RegEx.</p>
<p>But many will try, some will even claim success - but until others find the fault and totally mess you up.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-check-if-password-is-8-characters-including-1-uppercase-letter-1-special-character-alphanumeric-characters-score-1708893-in-2018" class="level3">
<h3>4: Regular expression to check if password is “8 characters including 1 uppercase letter, 1 special character, alphanumeric characters” (score <a href="https://stackoverflow.com/q/9477906.html">1708893</a> in 2018)</h3>
<section id="question-3" class="level4">
<h4>Question</h4>
<p>I want a regular expression to check that</p>
<blockquote>
a password must be eight characters including one uppercase letter, one special character and alphanumeric characters.
</blockquote>
<p>And here is my validation expression which is for eight characters including one uppercase letter, one lowercase letter, and one number or special character.</p>
<pre class="regex"><code>(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$&quot;</code></pre>
<p>How I can write it for a password that must be eight characters including one uppercase letter, one special character and alphanumeric characters?</p>
</section>
<section id="answer-accepted-score-129" class="level4">
<h4>Answer accepted (score 129)</h4>
<p>The regular expression you are after will most likely be huge and a nightmare to maintain especially for people who are not that familiar with regular expressions.</p>
<p>I think it would be easier to break your regex down and do it one bit at a time. It might take a bit more to do, but I am pretty sure that maintaining it and debugging it would be easier. This would also allow you to provide more directed error messages to your users (other than just <code>Invalid Password</code>) which should improve user experience.</p>
<p>From what I am seeing you are pretty fluent in regex, so I would presume that giving you the regular expressions to do what you need would be futile.</p>
<p>Seeing your comment, this is how I would go about it:</p>
<ul>
<li>
<p>
Must be eight characters Long: You do not need a regex for this. Using the <code>.Length</code> property should be enough.
</p>
</li>
<li>
<p>
Including one uppercase letter: You can use the <code>[A-Z]+</code> regular expression. If the string contains at least one upper case letter, this regular expression will yield <code>true</code>.
</p>
</li>
<li>
<p>
One special character: You can use either the <code>\W</code> which will match any character which is not a letter or a number or else, you can use something like so <code>[!@#]</code> to specify a custom list of special characters. Note though that characters such as <code>$</code>, <code>^</code>, <code>(</code> and <code>)</code> are special characters in the regular expression language, so they need to be escaped like so: <code>\$</code>. So in short, you might use the <code>\W</code>.
</p>
</li>
<li>
<p>
Alphanumeric characters: Using the <code>\w+</code> should match any letter and number and underscore.
</p>
</li>
</ul>
<p>Take a look at <a href="http://www.regular-expressions.info/reference.html" rel="noreferrer">this</a> tutorial for more information.</p>
</section>
<section id="answer-2-score-101" class="level4">
<h4>Answer 2 (score 101)</h4>
<pre class="regex"><code>(                   # Start of group
    (?=.*\d)        #   must contain at least one digit
    (?=.*[A-Z])     #   must contain at least one uppercase character
    (?=.*\W)        #   must contain at least one special symbol
       .            #     match anything with previous condition checking
         {8,8}      #        length is exactly 8 characters
)                   # End of group</code></pre>
<p>In one line:</p>
<pre class="regex"><code>((?=.*\d)(?=.*[A-Z])(?=.*\W).{8,8})</code></pre>
<h5>
Edit 2019-05-28:
</h2>
<p>You need to match entire input string. So, you can enclose the regex between <code>^</code> and <code>$</code> to prevent accidentally assuming partial matches as matching entire input:</p>
<pre class="regex"><code>^((?=.*\d)(?=.*[A-Z])(?=.*\W).{8,8})$</code></pre>
<h5>
Sources:
</h2>
<ul>
<li>
<p>
<a href="http://www.mkyong.com/regular-expressions/how-to-validate-password-with-regular-expression/" rel="nofollow noreferrer">Password matching expression</a>
</p>
</li>
<li>
<p>
<a href="http://www.zorched.net/2009/05/08/password-strength-validation-with-regular-expressions/" rel="nofollow noreferrer">Password Strength Validation with Regular Expressions</a>
</p>
</li>
</ul>
</section>
<section id="answer-3-score-33" class="level4">
<h4>Answer 3 (score 33)</h4>
<p>So many answers…. all bad!</p>
<p>Regular expressions don’t have an AND operator, so it’s pretty hard to write a regex that matches valid passwords, when validity is defined by something AND something else AND something else…</p>
<p>But, regular expressions <em>do</em> have an OR operator, so just apply DeMorgan’s theorem, and write a regex that matches <em>invalid</em> passwords.</p>
<p>anything with less than 8 characters <strong>OR</strong> anything with no numbers <strong>OR</strong> anything with no uppercase <strong>OR</strong> anything with no special characters</p>
<p>So:</p>
<pre class="regex"><code>^(.{0,7}|[^0-9]*|[^A-Z]*|[a-zA-Z0-9]*)$</code></pre>
<p>If anything matches that, then it’s an <em>invalid</em> password.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="match-the-path-of-a-url-minus-the-filename-extension-score-1259727-in-2014" class="level3">
<h3>5: Match the path of a URL, minus the filename extension (score <a href="https://stackoverflow.com/q/8313941.html">1259727</a> in 2014)</h3>
<section id="question-4" class="level4">
<h4>Question</h4>
<p>What would be the best regular expression for this scenario?</p>
<p>Given this URL:</p>
<pre class="regex"><code>http://php.net/manual/en/function.preg-match.php</code></pre>
<p>How should I go about selecting everything between (but not including) <code>http://php.net</code> and <code>.php</code>:</p>
<pre class="regex"><code>/manual/en/function.preg-match</code></pre>
<p>This is for an <a href="http://en.wikipedia.org/wiki/Nginx" rel="nofollow">Nginx</a> configuration file.</p>
</section>
<section id="answer-accepted-score-8" class="level4">
<h4>Answer accepted (score 8)</h4>
<p>Like this:</p>
<pre class="regex"><code>if (preg_match(&#39;/(?&amp;lt;=net).*(?=\.php)/&#39;, $subject, $regs)) {
    $result = $regs[0];
}</code></pre>
<p>Explanation:</p>
<pre class="regex"><code>&quot;
(?&amp;lt;=      # Assert that the regex below can be matched, with the match ending at this position (positive lookbehind)
   net       # Match the characters “net” literally
)
.         # Match any single character that is not a line break character
   *         # Between zero and unlimited times, as many times as possible, giving back as needed (greedy)
(?=       # Assert that the regex below can be matched, starting at this position (positive lookahead)
   \.        # Match the character “.” literally
   php       # Match the characters “php” literally
)
&quot;</code></pre>
</section>
<section id="answer-2-score-20" class="level4">
<h4>Answer 2 (score 20)</h4>
<p>A regular expression might not be the most effective tool for this job.</p>
<p>Try using <a href="http://php.net/parse_url" rel="noreferrer"><code>parse_url()</code></a>, combined with <a href="http://php.net/pathinfo" rel="noreferrer"><code>pathinfo()</code></a>:</p>
<pre class="regex"><code>$url      = &#39;http://php.net/manual/en/function.preg-match.php&#39;;
$path     = parse_url($url, PHP_URL_PATH);
$pathinfo = pathinfo($path);

echo $pathinfo[&#39;dirname&#39;], &#39;/&#39;, $pathinfo[&#39;filename&#39;];</code></pre>
<p>The above code outputs:</p>
<pre>/manual/en/function.preg-match</pre>
</section>
<section id="answer-3-score-3" class="level4">
<h4>Answer 3 (score 3)</h4>
<p>There’s no need to use a regular expression to dissect a URL. PHP has built-in functions for this, <a href="http://www.php.net/pathinfo" rel="nofollow">pathinfo()</a> and <a href="http://www.php.net/parse_url" rel="nofollow">parse_url()</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-validate-an-email-address-using-a-regular-expression-score-1146192-in-2018" class="level3">
<h3>6: How to validate an email address using a regular expression? (score <a href="https://stackoverflow.com/q/201323.html">1146192</a> in 2018)</h3>
<section id="question-5" class="level4">
<h4>Question</h4>
<p>Over the years I have slowly developed a <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expression</a> that validates MOST email addresses correctly, assuming they don’t use an IP address as the server part.</p>
<p>I use it in several PHP programs, and it works most of the time. However, from time to time I get contacted by someone that is having trouble with a site that uses it, and I end up having to make some adjustment (most recently I realized that I wasn’t allowing 4-character TLDs).</p>
<p><em>What is the best regular expression you have or have seen for validating emails?</em></p>
<p>I’ve seen several solutions that use functions that use several shorter expressions, but I’d rather have one long complex expression in a simple function instead of several short expression in a more complex function.</p>
</section>
<section id="answer-accepted-score-2310" class="level4">
<h4>Answer accepted (score 2310)</h4>
<p>The <a href="http://ex-parrot.com/~pdw/Mail-RFC822-Address.html" rel="noreferrer">fully RFC 822 compliant regex</a> is inefficient and obscure because of its length. Fortunately, RFC 822 was superseded twice and the current specification for email addresses is <a href="http://www.ietf.org/rfc/rfc5322.txt" rel="noreferrer">RFC 5322</a>. RFC 5322 leads to a regex that can be understood if studied for a few minutes and is efficient enough for actual use.</p>
<p>One RFC 5322 compliant regex can be found at the top of the page at <a href="http://emailregex.com/" rel="noreferrer">http://emailregex.com/</a> but uses the IP address pattern that is floating around the internet with a bug that allows <code>00</code> for any of the unsigned byte decimal values in a dot-delimited address, which is illegal. The rest of it appears to be consistent with the RFC 5322 grammar and passes several tests using <code>grep -Po</code>, including cases domain names, IP addresses, bad ones, and account names with and without quotes.</p>
<p>Correcting the <code>00</code> bug in the IP pattern, we obtain a working and fairly fast regex. (Scrape the rendered version, not the markdown, for actual code.)</p>
<blockquote>
(?:[a-z0-9!#<span class="math inline"></span>%&amp;’*+/=?^_`{|}~-]+)<em>|&quot;(?:[01-080b0c0e-1f2123-5b5d-7f]|\[01-090b0c0e-7f])</em>&quot;)@(?:(?:<a href="?:%5Ba-z0-9-%5D*%5Ba-z0-9%5D">a-z0-9</a>?.)+<a href="?:%5Ba-z0-9-%5D*%5Ba-z0-9%5D.html">a-z0-9</a>?|[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])).){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[01-080b0c0e-1f21-5a53-7f]|\[01-090b0c0e-7f])+)])
</blockquote>
<p>
Here is <a href="https://regexper.com/#(%3F%3A%5Ba-z0-9!%23%24%25%26&#39;*%2B%2F%3D%3F%5E_%60%7B%7C%7D~-%5D%2B(%3F%3A%5C.%5Ba-z0-9!%23%24%25%26&#39;*%2B%2F%3D%3F%5E_%60%7B%7C%7D~-%5D%2B)*%7C%22(%3F%3A%5B%5Cx01-%5Cx08%5Cx0b%5Cx0c%5Cx0e-%5Cx1f%5Cx21%5Cx23-%5Cx5b%5Cx5d-%5Cx7f%5D%7C%5C%5C%5B%5Cx01-%5Cx09%5Cx0b%5Cx0c%5Cx0e-%5Cx7f%5D)*%22)%40(%3F%3A(%3F%3A%5Ba-z0-9%5D(%3F%3A%5Ba-z0-9-%5D*%5Ba-z0-9%5D)%3F%5C.)%2B%5Ba-z0-9%5D(%3F%3A%5Ba-z0-9-%5D*%5Ba-z0-9%5D)%3F%7C%5C%5B(%3F%3A(%3F%3A(2(5%5B0-5%5D%7C%5B0-4%5D%5B0-9%5D)%7C1%5B0-9%5D%5B0-9%5D%7C%5B1-9%5D%3F%5B0-9%5D))%5C.)%7B3%7D(%3F%3A(2(5%5B0-5%5D%7C%5B0-4%5D%5B0-9%5D)%7C1%5B0-9%5D%5B0-9%5D%7C%5B1-9%5D%3F%5B0-9%5D)%7C%5Ba-z0-9-%5D*%5Ba-z0-9%5D%3A(%3F%3A%5B%5Cx01-%5Cx08%5Cx0b%5Cx0c%5Cx0e-%5Cx1f%5Cx21-%5Cx5a%5Cx53-%5Cx7f%5D%7C%5C%5C%5B%5Cx01-%5Cx09%5Cx0b%5Cx0c%5Cx0e-%5Cx7f%5D)%2B)%5C%5D)" rel="noreferrer">diagram</a> of <a href="https://en.wikipedia.org/wiki/Finite-state_machine" rel="noreferrer">finite state machine</a> for above regexp which is more clear than regexp itself <a href="https://i.stack.imgur.com/YI6KR.png" rel="noreferrer"><img src="https://i.stack.imgur.com/YI6KR.png" alt="enter image description here"></a>
</p>
<p>The more sophisticated patterns in Perl and PCRE (regex library used e.g. in PHP) can <a href="https://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/1917982#1917982">correctly parse RFC 5322 without a hitch</a>. Python and C# can do that too, but they use a different syntax from those first two. However, if you are forced to use one of the many less powerful pattern-matching languages, then it’s best to use a real parser.</p>
<p>It’s also important to understand that validating it per the RFC tells you absolutely nothing about whether that address actually exists at the supplied domain, or whether the person entering the address is its true owner. People sign others up to mailing lists this way all the time. Fixing that requires a fancier kind of validation that involves sending that address a message that includes a confirmation token meant to be entered on the same web page as was the address.</p>
<p>Confirmation tokens are the only way to know you got the address of the person entering it. This is why most mailing lists now use that mechanism to confirm sign-ups. After all, anybody can put down <code>president@whitehouse.gov</code>, and that will even parse as legal, but it isn’t likely to be the person at the other end.</p>
<p>For PHP, you should <em>not</em> use the pattern given in <a href="http://www.linuxjournal.com/article/9585" rel="noreferrer">Validate an E-Mail Address with PHP, the Right Way</a> from which I quote:</p>
<blockquote>
There is some danger that common usage and widespread sloppy coding will establish a de facto standard for e-mail addresses that is more restrictive than the recorded formal standard.
</blockquote>
<p>That is no better than all the other non-RFC patterns. It isn’t even smart enough to handle even <a href="http://www.ietf.org/rfc/rfc0822.txt" rel="noreferrer">RFC 822</a>, let alone RFC 5322. <a href="https://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/1917982#1917982">This one</a>, however, is.</p>
<p>If you want to get fancy and pedantic, <a href="http://cubicspot.blogspot.com/2012/06/correct-way-to-validate-e-mail-address.html" rel="noreferrer">implement a complete state engine</a>. A regular expression can only act as a rudimentary filter. The problem with regular expressions is that telling someone that their perfectly valid e-mail address is invalid (a false positive) because your regular expression can’t handle it is just rude and impolite from the user’s perspective. A state engine for the purpose can both validate and even correct e-mail addresses that would otherwise be considered invalid as it disassembles the e-mail address according to each RFC. This allows for a potentially more pleasing experience, like</p>
<blockquote>
The specified e-mail address ‘myemail@address,com’ is invalid. Did you mean ‘myemail@address.com’?
</blockquote>
<p>See also <a href="http://worsethanfailure.com/Articles/Validating_Email_Addresses.aspx" rel="noreferrer">Validating Email Addresses</a>, including the comments. Or <a href="http://fightingforalostcause.net/misc/2006/compare-email-regex.php" rel="noreferrer">Comparing E-mail Address Validating Regular Expressions</a>.</p>
<p><a href="https://i.stack.imgur.com/SrUwP.png" rel="noreferrer"><img src="https://i.stack.imgur.com/SrUwP.png" alt="Regular expression visualization"></a></p>
<p><a href="https://www.debuggex.com/r/aH_x42NflV8G-GS7" rel="noreferrer">Debuggex Demo</a></p>
</section>
<section id="answer-2-score-738" class="level4">
<h4>Answer 2 (score 738)</h4>
<p>You should not use regular expressions to validate email addresses.</p>
<p>Instead, use the <a href="http://msdn.microsoft.com/en-us/library/system.net.mail.mailaddress.aspx" rel="noreferrer">MailAddress</a> class, like this:</p>
<pre class="regex"><code>try {
    address = new MailAddress(address).Address;
} catch(FormatException) {
    //address is invalid
}</code></pre>
<p>The MailAddress class uses a BNF parser to validate the address in full accordance with RFC822.</p>
<p>If you really want to use a regex, <a href="http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html" rel="noreferrer">here it is</a>:</p>
<pre>(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]
)+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:
\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(
?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\0
31]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\
](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+
(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:
(?:\r\n)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z
|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)
?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\
r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[
 \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)
?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t]
)*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[
 \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*
)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]
)+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*)
*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+
|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r
\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:
\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t
]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031
]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](
?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?
:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?
:\r\n)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)|(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?
:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?
[ \t]))*"(?:(?:\r\n)?[ \t])*)*:(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|
\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;

@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"
(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t]
)*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\
".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?
:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[
\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\".\[\] \000-
\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(
?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;
:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([
^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\"
.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\
]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\
[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\
r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]
|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\".\[\] \0
00-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\
.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,
;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?
:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*
(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".
\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[
^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]
]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)(?:,\s*(
?:(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\
".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(
?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[
\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t
])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t
])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?
:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|
\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*|(?:
[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\
]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)
?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["
()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)
?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;

@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*(?:,@(?:(?:\r\n)?[
 \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,
;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t]
)*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\
".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?
(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".
\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:
\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[
"()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])
*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])
+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\
.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z
|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*\&gt;(?:(
?:\r\n)?[ \t])*))*)?;\s*)</pre>
</section>
<section id="answer-3-score-527" class="level4">
<h4>Answer 3 (score 527)</h4>
<p>This question is asked a lot, but I think you should step back and ask yourself <em>why</em> you want to validate email adresses syntactically? What is the benefit really?</p>
<ul>
<li>
It will not catch common typos.
</li>
<li>
It does not prevent people from entering invalid or made-up email addresses, or entering someone else’s address.
</li>
</ul>
<p>If you want to validate that an email is correct, you have no choice than to send an confirmation email and have the user reply to that. In many cases you will <em>have</em> to send a confirmation mail anyway for security reasons or for ethical reasons (so you cannot e.g. sign someone up to a service against their will).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-for-alphanumeric-and-underscores-score-1010986-in" class="level3">
<h3>7: Regular Expression for alphanumeric and underscores (score <a href="https://stackoverflow.com/q/336210.html">1010986</a> in )</h3>
<section id="question-6" class="level4">
<h4>Question</h4>
<p>I would like to have a regular expression that checks if a string contains only upper and lowercase letters, numbers, and underscores.</p>
</section>
<section id="answer-2-score-869" class="level4">
<h4>Answer 2 (score 869)</h4>
<p>To match a string that contains <em>only</em> those characters (or an empty string), try</p>
<pre class="regex"><code>&quot;^[a-zA-Z0-9_]*$&quot;</code></pre>
<p>This works for .NET regular expressions, and probably a lot of other languages as well.</p>
<p>Breaking it down:</p>
<pre class="regex"><code>^ : start of string
[ : beginning of character group
a-z : any lowercase letter
A-Z : any uppercase letter
0-9 : any digit
_ : underscore
] : end of character group
* : zero or more of the given characters
$ : end of string</code></pre>
<p>If you don’t want to allow empty strings, use + instead of *.</p>
<p><strong>EDIT</strong> As others have pointed out, some regex languages have a shorthand form for <code>[a-zA-Z0-9_]</code>. In the .NET regex language, you can turn on ECMAScript behavior and use <code>\w</code> as a shorthand (yielding <code>^\w*$</code> or <code>^\w+$</code>). Note that in other languages, and by default in .NET, <code>\w</code> is somewhat broader, and will match other sorts of unicode characters as well (thanks to Jan for pointing this out). So if you’re really intending to match <strong>only</strong> those characters, using the explicit (longer) form is probably best.</p>
</section>
<section id="answer-3-score-318" class="level4">
<h4>Answer 3 (score 318)</h4>
<p>There’s a lot of verbosity in here, and I’m deeply against it, so, my conclusive answer would be:</p>
<pre class="regex"><code>/^\w+$/</code></pre>
<p><code>\w</code> is equivalent to <code>[A-Za-z0-9_]</code>, which is pretty much what you want. (unless we introduce unicode to the mix)</p>
<p>Using the <code>+</code> quantifier you’ll match one or more characters. If you want to accept an empty string too, use <code>*</code> instead.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="a-comprehensive-regex-for-phone-number-validation-score-876411-in-2017" class="level3">
<h3>8: A comprehensive regex for phone number validation (score <a href="https://stackoverflow.com/q/123559.html">876411</a> in 2017)</h3>
<section id="question-7" class="level4">
<h4>Question</h4>
<p>I’m trying to put together a comprehensive regex to validate phone numbers. Ideally it would handle international formats, but it must handle US formats, including the following:</p>
<ul>
<li>
1-234-567-8901
</li>
<li>
1-234-567-8901 x1234
</li>
<li>
1-234-567-8901 ext1234
</li>
<li>
1 (234) 567-8901
</li>
<li>
1.234.567.8901
</li>
<li>
1/234/567/8901
</li>
<li>
12345678901
</li>
</ul>
<p>I’ll answer with my current attempt, but I’m hoping somebody has something better and/or more elegant.</p>
</section>
<section id="answer-accepted-score-511" class="level4">
<h4>Answer accepted (score 511)</h4>
<p>Better option… just strip all non-digit characters on input (except ‘x’ and leading ‘+’ signs), taking care because of the British tendency to write numbers in the non-standard form <code>+44 (0) ...</code> when asked to use the international prefix (in that specific case, you should discard the <code>(0)</code> entirely).</p>
<p>Then, you end up with values like:</p>
<pre class="regex"><code> 12345678901
 12345678901x1234
 345678901x1234
 12344678901
 12345678901
 12345678901
 12345678901
 +4112345678
 +441234567890</code></pre>
<p>Then when you display, reformat to your hearts content. e.g.</p>
<pre class="regex"><code>  1 (234) 567-8901
  1 (234) 567-8901 x1234</code></pre>
</section>
<section id="answer-2-score-296" class="level4">
<h4>Answer 2 (score 296)</h4>
<p>It turns out that there’s something of a spec for this, at least for North America, called the <a href="http://en.wikipedia.org/wiki/North_American_Numbering_Plan" rel="noreferrer">NANP</a>.</p>
<p>You need to specify exactly what you want. What are legal delimiters? Spaces, dashes, and periods? No delimiter allowed? Can one mix delimiters (e.g., +0.111-222.3333)? How are extensions (e.g., 111-222-3333 x 44444) going to be handled? What about special numbers, like 911? Is the area code going to be optional or required?</p>
<p>Here’s a regex for a 7 or 10 digit number, with extensions allowed, delimiters are spaces, dashes, or periods:</p>
<pre class="regex"><code>^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$</code></pre>
</section>
<section id="answer-3-score-293" class="level4">
<h4>Answer 3 (score 293)</h4>
<pre class="regex"><code>.*</code></pre>
<p>If the user wants to give you his phone number, then trust him to get it right. If he does not want to give it to you then forcing him to enter a valid number will either send him to a competitor’s site or make him enter a random string that fits your regex. I might even be tempted to look up the number of a premium rate sex line and enter that instead.</p>
<p>I would also consider any of the following as valid entries on a web site:</p>
<pre class="regex"><code>&quot;123 456 7890 until 6pm, then 098 765 4321&quot;  
&quot;123 456 7890 or try my mobile on 098 765 4321&quot;  
&quot;ex-directory - mind your own business&quot;</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops-score-800567-in-2019" class="level3">
<h3>9: How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops (score <a href="https://stackoverflow.com/q/22542834.html">800567</a> in 2019)</h3>
<section id="question-8" class="level4">
<h4>Question</h4>
<p>How can I use regular expressions in Excel and take advantage of Excel’s powerful grid-like setup for data manipulation?</p>
<ul>
<li>
In-cell function to return a matched pattern or replaced value in a string.
</li>
<li>
Sub to loop through a column of data and extract matches to adjacent cells.
</li>
<li>
What setup is necessary?
</li>
<li>
What are Excel’s special characters for Regular expressions?
</li>
</ul>
<hr>
<p>I understand Regex is not ideal for many situations (<a href="https://stackoverflow.com/a/4098123/2521004">To use or not to use regular expressions?</a>) since excel can use <code>Left</code>, <code>Mid</code>, <code>Right</code>, <code>Instr</code> type commands for similar manipulations.</p>
</section>
<section id="answer-accepted-score-883" class="level4">
<h4>Answer accepted (score 883)</h4>
<p><a href="http://en.wikipedia.org/wiki/Regular_expressions" rel="noreferrer">Regular expressions</a> are used for Pattern Matching.</p>
<p>To use in Excel follow these steps :</p>
<p><strong>Step 1</strong>: Add VBA reference to “Microsoft VBScript Regular Expressions 5.5”</p>
<ul>
<li>
Select “Developer” tab (<a href="http://msdn.microsoft.com/en-us/library/bb608625.aspx" rel="noreferrer">I don’t have this tab what do I do?</a>)
</li>
<li>
Select “Visual Basic” icon from ‘Code’ ribbon section
</li>
<li>
In “Microsoft Visual Basic for Applications” window select “Tools” from the top menu.
</li>
<li>
Select “References”
</li>
<li>
Check the box next to “Microsoft VBScript Regular Expressions 5.5” to include in your workbook.
</li>
<li>
Click “OK”
</li>
</ul>
<p><strong>Step 2</strong>: Define your pattern</p>
<p><em>Basic definitions:</em></p>
<p><code>-</code> Range.</p>
<ul>
<li>
E.g. <code>a-z</code> matches an lower case letters from a to z
</li>
<li>
E.g. <code>0-5</code> matches any number from 0 to 5
</li>
</ul>
<p><code>[]</code> Match exactly one of the objects inside these brackets.</p>
<ul>
<li>
E.g. <code>[a]</code> matches the letter a
</li>
<li>
E.g. <code>[abc]</code> matches a single letter which can be a, b or c
</li>
<li>
E.g. <code>[a-z]</code> matches any single lower case letter of the alphabet.
</li>
</ul>
<p><code>()</code> Groups different matches for return purposes. See examples below.</p>
<p><code>{}</code> Multiplier for repeated copies of pattern defined before it.</p>
<ul>
<li>
E.g. <code>[a]{2}</code> matches two consecutive lower case letter a: <code>aa</code>
</li>
<li>
E.g. <code>[a]{1,3}</code> matches at least one and up to three lower case letter <code>a</code>, <code>aa</code>, <code>aaa</code>
</li>
</ul>
<p><code>+</code> Match at least one, or more, of the pattern defined before it.</p>
<ul>
<li>
E.g. <code>a+</code> will match consecutive a’s <code>a</code>, <code>aa</code>, <code>aaa</code>, and so on
</li>
</ul>
<p><code>?</code> Match zero or one of the pattern defined before it.</p>
<ul>
<li>
E.g. Pattern may or may not be present but can only be matched one time.
</li>
<li>
E.g. <code>[a-z]?</code> matches empty string or any single lower case letter.
</li>
</ul>
<p>
<code>*</code> Match zero or more of the pattern defined before it. - E.g. Wildcard for pattern that may or may not be present. - E.g. <code>[a-z]*</code> matches empty string or string of lower case letters.
</p>
<p><code>.</code> Matches any character except newline <code>\n</code></p>
<ul>
<li>
E.g. <code>a.</code> Matches a two character string starting with a and ending with anything except <code>\n</code>
</li>
</ul>
<p><code>|</code> OR operator</p>
<ul>
<li>
E.g. <code>a|b</code> means either <code>a</code> or <code>b</code> can be matched.
</li>
<li>
E.g. <code>red|white|orange</code> matches exactly one of the colors.
</li>
</ul>
<p><code>^</code> NOT operator</p>
<ul>
<li>
E.g. <code>[^0-9]</code> character can not contain a number
</li>
<li>
E.g. <code>[^aA]</code> character can not be lower case <code>a</code> or upper case <code>A</code>
</li>
</ul>
<p><code>\</code> Escapes special character that follows (overrides above behavior)</p>
<ul>
<li>
E.g. <code>\.</code>, <code>\\</code>, <code>\(</code>, <code>\?</code>, <code>\$</code>, <code>\^</code>
</li>
</ul>
<hr>
<p><em>Anchoring Patterns:</em></p>
<p><code>^</code> Match must occur at start of string</p>
<ul>
<li>
E.g. <code>^a</code> First character must be lower case letter <code>a</code>
</li>
<li>
E.g. <code>^[0-9]</code> First character must be a number.
</li>
</ul>
<p><code>$</code> Match must occur at end of string</p>
<ul>
<li>
E.g. <code>a$</code> Last character must be lower case letter <code>a</code>
</li>
</ul>
<hr>
<p><em>Precedence table:</em></p>
<pre class="regex"><code>Order  Name                Representation
1      Parentheses         ( )
2      Multipliers         ? + * {m,n} {m, n}?
3      Sequence &amp;amp; Anchors  abc ^ $
4      Alternation         |</code></pre>
<hr>
<p><em>Predefined Character Abbreviations:</em></p>
<pre class="regex"><code>abr    same as       meaning
\d     [0-9]         Any single digit
\D     [^0-9]        Any single character that&#39;s not a digit
\w     [a-zA-Z0-9_]  Any word character
\W     [^a-zA-Z0-9_] Any non-word character
\s     [ \r\t\n\f]   Any space character
\S     [^ \r\t\n\f]  Any non-space character
\n     [\n]          New line</code></pre>
<hr>
<p><strong>Example 1</strong>: <em>Run as macro</em></p>
<p>The following example macro looks at the value in cell <code>A1</code> to see if the first 1 or 2 characters are digits. If so, they are removed and the rest of the string is displayed. If not, then a box appears telling you that no match is found. Cell <code>A1</code> values of <code>12abc</code> will return <code>abc</code>, value of <code>1abc</code> will return <code>abc</code>, value of <code>abc123</code> will return “Not Matched” because the digits were not at the start of the string.</p>
<pre class="regex"><code>Private Sub simpleRegex()
    Dim strPattern As String: strPattern = &quot;^[0-9]{1,2}&quot;
    Dim strReplace As String: strReplace = &quot;&quot;
    Dim regEx As New RegExp
    Dim strInput As String
    Dim Myrange As Range

    Set Myrange = ActiveSheet.Range(&quot;A1&quot;)

    If strPattern &amp;lt;&amp;gt; &quot;&quot; Then
        strInput = Myrange.Value

        With regEx
            .Global = True
            .MultiLine = True
            .IgnoreCase = False
            .Pattern = strPattern
        End With

        If regEx.Test(strInput) Then
            MsgBox (regEx.Replace(strInput, strReplace))
        Else
            MsgBox (&quot;Not matched&quot;)
        End If
    End If
End Sub</code></pre>
<hr>
<p><strong>Example 2</strong>: <em>Run as an in-cell function</em></p>
<p>This example is the same as example 1 but is setup to run as an in-cell function. To use, change the code to this:</p>
<pre class="regex"><code>Function simpleCellRegex(Myrange As Range) As String
    Dim regEx As New RegExp
    Dim strPattern As String
    Dim strInput As String
    Dim strReplace As String
    Dim strOutput As String


    strPattern = &quot;^[0-9]{1,3}&quot;

    If strPattern &amp;lt;&amp;gt; &quot;&quot; Then
        strInput = Myrange.Value
        strReplace = &quot;&quot;

        With regEx
            .Global = True
            .MultiLine = True
            .IgnoreCase = False
            .Pattern = strPattern
        End With

        If regEx.test(strInput) Then
            simpleCellRegex = regEx.Replace(strInput, strReplace)
        Else
            simpleCellRegex = &quot;Not matched&quot;
        End If
    End If
End Function</code></pre>
<p>Place your strings (“12abc”) in cell <code>A1</code>. Enter this formula <code>=simpleCellRegex(A1)</code> in cell <code>B1</code> and the result will be “abc”.</p>
<p><img src="https://i.stack.imgur.com/q3RRC.png" alt="enter image description here"></p>
<hr>
<p><strong>Example 3</strong>: <em>Loop Through Range</em></p>
<p>This example is the same as example 1 but loops through a range of cells.</p>
<pre class="regex"><code>Private Sub simpleRegex()
    Dim strPattern As String: strPattern = &quot;^[0-9]{1,2}&quot;
    Dim strReplace As String: strReplace = &quot;&quot;
    Dim regEx As New RegExp
    Dim strInput As String
    Dim Myrange As Range

    Set Myrange = ActiveSheet.Range(&quot;A1:A5&quot;)

    For Each cell In Myrange
        If strPattern &amp;lt;&amp;gt; &quot;&quot; Then
            strInput = cell.Value

            With regEx
                .Global = True
                .MultiLine = True
                .IgnoreCase = False
                .Pattern = strPattern
            End With

            If regEx.Test(strInput) Then
                MsgBox (regEx.Replace(strInput, strReplace))
            Else
                MsgBox (&quot;Not matched&quot;)
            End If
        End If
    Next
End Sub</code></pre>
<hr>
<p><strong>Example 4</strong>: Splitting apart different patterns</p>
<p>This example loops through a range (<code>A1</code>, <code>A2</code> &amp; <code>A3</code>) and looks for a string starting with three digits followed by a single alpha character and then 4 numeric digits. The output splits apart the pattern matches into adjacent cells by using the <code>()</code>. <code>$1</code> represents the first pattern matched within the first set of <code>()</code>.</p>
<pre class="regex"><code>Private Sub splitUpRegexPattern()
    Dim regEx As New RegExp
    Dim strPattern As String
    Dim strInput As String
    Dim Myrange As Range

    Set Myrange = ActiveSheet.Range(&quot;A1:A3&quot;)

    For Each C In Myrange
        strPattern = &quot;(^[0-9]{3})([a-zA-Z])([0-9]{4})&quot;

        If strPattern &amp;lt;&amp;gt; &quot;&quot; Then
            strInput = C.Value

            With regEx
                .Global = True
                .MultiLine = True
                .IgnoreCase = False
                .Pattern = strPattern
            End With

            If regEx.test(strInput) Then
                C.Offset(0, 1) = regEx.Replace(strInput, &quot;$1&quot;)
                C.Offset(0, 2) = regEx.Replace(strInput, &quot;$2&quot;)
                C.Offset(0, 3) = regEx.Replace(strInput, &quot;$3&quot;)
            Else
                C.Offset(0, 1) = &quot;(Not matched)&quot;
            End If
        End If
    Next
End Sub</code></pre>
<p>Results:</p>
<p><img src="https://i.stack.imgur.com/9eCZ5.png" alt="enter image description here"></p>
<hr>
<p><strong>Additional Pattern Examples</strong></p>
<pre class="regex"><code>String   Regex Pattern                  Explanation
a1aaa    [a-zA-Z][0-9][a-zA-Z]{3}       Single alpha, single digit, three alpha characters
a1aaa    [a-zA-Z]?[0-9][a-zA-Z]{3}      May or may not have preceeding alpha character
a1aaa    [a-zA-Z][0-9][a-zA-Z]{0,3}     Single alpha, single digit, 0 to 3 alpha characters
a1aaa    [a-zA-Z][0-9][a-zA-Z]*         Single alpha, single digit, followed by any number of alpha characters

&amp;lt;/i8&amp;gt;    \&amp;lt;\/[a-zA-Z][0-9]\&amp;gt;            Exact non-word character except any single alpha followed by any single digit</code></pre>
</section>
<section id="answer-2-score-190" class="level4">
<h4>Answer 2 (score 190)</h4>
<p>To make use of regular expressions directly in Excel formulas the following UDF (user defined function) can be of help. It more or less directly exposes regular expression functionality as an excel function.</p>
<h5>
How it works
</h2>
<p>It takes 2-3 parameters.</p>
<ol>
<li>
A text to use the regular expression on.
</li>
<li>
A regular expression.
</li>
<li>
A format string specifying how the result should look. It can contain <code>$0</code>, <code>$1</code>, <code>$2</code>, and so on. <code>$0</code> is the entire match, <code>$1</code> and up correspond to the respective match groups in the regular expression. Defaults to <code>$0</code>.
</li>
</ol>
<h5>
Some examples
</h2>
<p>Extracting an email address:</p>
<pre class="regex"><code>=regex(&quot;Peter Gordon: some@email.com, 47&quot;, &quot;\w+@\w+\.\w+&quot;)
=regex(&quot;Peter Gordon: some@email.com, 47&quot;, &quot;\w+@\w+\.\w+&quot;, &quot;$0&quot;)</code></pre>
<p>Results in: <code>some@email.com</code></p>
<p>Extracting several substrings:</p>
<pre class="regex"><code>=regex(&quot;Peter Gordon: some@email.com, 47&quot;, &quot;^(.+): (.+), (\d+)$&quot;, &quot;E-Mail: $2, Name: $1&quot;)</code></pre>
<p>Results in: <code>E-Mail: some@email.com, Name: Peter Gordon</code></p>
<p>To take apart a combined string in a single cell into its components in multiple cells:</p>
<pre class="regex"><code>=regex(&quot;Peter Gordon: some@email.com, 47&quot;, &quot;^(.+): (.+), (\d+)$&quot;, &quot;$&quot; &amp;amp; 1)
=regex(&quot;Peter Gordon: some@email.com, 47&quot;, &quot;^(.+): (.+), (\d+)$&quot;, &quot;$&quot; &amp;amp; 2)</code></pre>
<p>Results in: <code>Peter Gordon</code> <code>some@email.com</code> …</p>
<h5>
How to use
</h2>
<p>To use this UDF do the following (roughly based on <a href="https://support.office.com/en-in/article/Create-Custom-Functions-in-Excel-2007-2f06c10b-3622-40d6-a1b2-b6748ae8231f" title="This Microsoft page">this Microsoft page</a>. They have some good additional info there!):</p>
<ol>
<li>
In Excel in a Macro enabled file (‘.xlsm’) push <code>ALT+F11</code> to open the <em>Microsoft Visual Basic for Applications</em> Editor.
</li>
<li>
<p>Add VBA reference to the Regular Expressions library (shamelessly copied from <a href="/questions/22542834/how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops#answer-22542835">Portland Runners++ answer</a>):</p>
<ol>
<li>
Click on <em>Tools</em> -&gt; <em>References</em> (please excuse the german screenshot) <img src="https://i.stack.imgur.com/etyH4.png" alt="Tools -&gt; References">
</li>
<li>
Find <em>Microsoft VBScript Regular Expressions 5.5</em> in the list and tick the checkbox next to it.
</li>
<li>
Click <em>OK</em>.
</li>
</ol>
</li>
<li>
<p>
Click on <em>Insert Module</em>. If you give your module a different name make sure the Module does <em>not</em> have the same name as the UDF below (e.g. naming the Module <code>Regex</code> and the function <code>regex</code> causes <em>#NAME!</em> errors).
</p>
<img src="https://i.stack.imgur.com/nlTpn.png" alt="Second icon in the icon row -&gt; Module">
</li>
<li>
<p>
In the big text window in the middle insert the following:
</p>
<p>```regex Function regex(strInput As String, matchPattern As String, Optional ByVal outputPattern As String = “$0”) As Variant Dim inputRegexObj As New VBScript_RegExp_55.RegExp, outputRegexObj As New VBScript_RegExp_55.RegExp, outReplaceRegexObj As New VBScript_RegExp_55.RegExp Dim inputMatches As Object, replaceMatches As Object, replaceMatch As Object Dim replaceNumber As Integer</p>
<pre><code>With inputRegexObj
    .Global = True
    .MultiLine = True
    .IgnoreCase = False
    .Pattern = matchPattern
End With
With outputRegexObj
    .Global = True
    .MultiLine = True
    .IgnoreCase = False
    .Pattern = &quot;\$(\d+)&quot;
End With
With outReplaceRegexObj
    .Global = True
    .MultiLine = True
    .IgnoreCase = False
End With

Set inputMatches = inputRegexObj.Execute(strInput)
If inputMatches.Count = 0 Then
    regex = False
Else
    Set replaceMatches = outputRegexObj.Execute(outputPattern)
    For Each replaceMatch In replaceMatches
        replaceNumber = replaceMatch.SubMatches(0)
        outReplaceRegexObj.Pattern = &quot;\$&quot; &amp;amp; replaceNumber

        If replaceNumber = 0 Then
            outputPattern = outReplaceRegexObj.Replace(outputPattern, inputMatches(0).Value)
        Else
            If replaceNumber &amp;gt; inputMatches(0).SubMatches.Count Then
                &#39;regex = &quot;A to high $ tag found. Largest allowed is $&quot; &amp;amp; inputMatches(0).SubMatches.Count &amp;amp; &quot;.&quot;
                regex = CVErr(xlErrValue)
                Exit Function
            Else
                outputPattern = outReplaceRegexObj.Replace(outputPattern, inputMatches(0).SubMatches(replaceNumber - 1))
            End If
        End If
    Next
    regex = outputPattern
End If</code></pre>
End Function ```
</li>
<li>
<p>
Save and close the <em>Microsoft Visual Basic for Applications</em> Editor window.
</p>
</li>
</ol>
</section>
<section id="answer-3-score-54" class="level4">
<h4>Answer 3 (score 54)</h4>
<p>Expanding on <a href="https://stackoverflow.com/users/1975049/patszim">patszim</a>’s <a href="https://stackoverflow.com/a/28176749/1699071">answer</a> for those in a rush.</p>
<ol>
<li>
Open Excel workbook.
</li>
<li>
<kbd>Alt</kbd>+<kbd>F11</kbd> to open VBA/Macros window.
</li>
<li>
Add reference to regex under <strong><em>Tools</em></strong> then <strong><em>References</em></strong><br> <a href="https://i.stack.imgur.com/sKCdA.png" rel="noreferrer"><img src="https://i.stack.imgur.com/sKCdA.png" alt="![Excel VBA Form add references"></a>
</li>
<li>
and selecting <strong>Microsoft VBScript Regular Expression 5.5</strong><br> <a href="https://i.stack.imgur.com/nmSgP.png" rel="noreferrer"><img src="https://i.stack.imgur.com/nmSgP.png" alt="![Excel VBA add regex reference"></a>
</li>
<li>
Insert a new module (code needs to reside in the module otherwise it doesn’t work).<br> <a href="https://i.stack.imgur.com/RaLQ0.png" rel="noreferrer"><img src="https://i.stack.imgur.com/RaLQ0.png" alt="![Excel VBA insert code module"></a>
</li>
<li>
In the newly inserted module,<br> <a href="https://i.stack.imgur.com/DFJ7F.png" rel="noreferrer"><img src="https://i.stack.imgur.com/DFJ7F.png" alt="![Excel VBA insert code into module"></a>
</li>
<li>
<p>
add the following code:
</p>
<p>```regex Function RegxFunc(strInput As String, regexPattern As String) As String Dim regEx As New RegExp With regEx .Global = True .MultiLine = True .IgnoreCase = False .pattern = regexPattern End With</p>
<pre><code>If regEx.Test(strInput) Then
    Set matches = regEx.Execute(strInput)
    RegxFunc = matches(0).Value
Else
    RegxFunc = &quot;not matched&quot;
End If</code></pre>
End Function ```
</li>
<li>
<p>
The regex pattern is placed in one of the cells and <strong><em>absolute referencing</em></strong> is used on it. <a href="https://i.stack.imgur.com/XnS6t.png" rel="noreferrer"><img src="https://i.stack.imgur.com/XnS6t.png" alt="![Excel regex function in-cell usage"></a> Function will be tied to workbook that its created in.<br> If there’s a need for it to be used in different workbooks, store the function in <strong>Personal.XLSB</strong>
</p>
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-extract-numbers-from-a-string-in-python-score-754314-in-2019" class="level3">
<h3>10: How to extract numbers from a string in Python? (score <a href="https://stackoverflow.com/q/4289331.html">754314</a> in 2019)</h3>
<section id="question-9" class="level4">
<h4>Question</h4>
<p>I would extract all the numbers contained in a string. Which is the better suited for the purpose, regular expressions or the <code>isdigit()</code> method?</p>
<p>Example:</p>
<pre class="regex"><code>line = &quot;hello 12 hi 89&quot;</code></pre>
<p>Result:</p>
<pre class="regex"><code>[12, 89]</code></pre>
</section>
<section id="answer-accepted-score-423" class="level4">
<h4>Answer accepted (score 423)</h4>
<p>If you only want to extract only positive integers, try the following:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; str = &quot;h3110 23 cat 444.4 rabbit 11 2 dog&quot;
&amp;gt;&amp;gt;&amp;gt; [int(s) for s in str.split() if s.isdigit()]
[23, 11, 2]</code></pre>
<p>I would argue that this is better than the regex example for three reasons. First, you don’t need another module; secondly, it’s more readable because you don’t need to parse the regex mini-language; and third, it is faster (and thus likely more pythonic):</p>
<pre class="regex"><code>python -m timeit -s &quot;str = &#39;h3110 23 cat 444.4 rabbit 11 2 dog&#39; * 1000&quot; &quot;[s for s in str.split() if s.isdigit()]&quot;
100 loops, best of 3: 2.84 msec per loop

python -m timeit -s &quot;import re&quot; &quot;str = &#39;h3110 23 cat 444.4 rabbit 11 2 dog&#39; * 1000&quot; &quot;re.findall(&#39;\\b\\d+\\b&#39;, str)&quot;
100 loops, best of 3: 5.66 msec per loop</code></pre>
<p>This will not recognize floats, negative integers, or integers in hexadecimal format. If you can’t accept these limitations, <a href="https://stackoverflow.com/questions/4289331/python-extract-numbers-of-a-string/4289415#4289415">slim’s answer below</a> will do the trick.</p>
</section>
<section id="answer-2-score-393" class="level4">
<h4>Answer 2 (score 393)</h4>
<p>I’d use a regexp :</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; import re
&amp;gt;&amp;gt;&amp;gt; re.findall(r&#39;\d+&#39;, &#39;hello 42 I\&#39;m a 32 string 30&#39;)
[&#39;42&#39;, &#39;32&#39;, &#39;30&#39;]</code></pre>
<p>This would also match 42 from <code>bla42bla</code>. If you only want numbers delimited by word boundaries (space, period, comma), you can use :</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; re.findall(r&#39;\b\d+\b&#39;, &#39;he33llo 42 I\&#39;m a 32 string 30&#39;)
[&#39;42&#39;, &#39;32&#39;, &#39;30&#39;]</code></pre>
<p>To end up with a list of numbers instead of a list of strings:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; [int(s) for s in re.findall(r&#39;\b\d+\b&#39;, &#39;he33llo 42 I\&#39;m a 32 string 30&#39;)]
[42, 32, 30]</code></pre>
</section>
<section id="answer-3-score-81" class="level4">
<h4>Answer 3 (score 81)</h4>
<p>This is more than a bit late, but you can extend the regex expression to account for scientific notation too.</p>
<pre class="regex"><code>import re

# Format is [(&amp;lt;string&amp;gt;, &amp;lt;expected output&amp;gt;), ...]
ss = [(&quot;apple-12.34 ba33na fanc-14.23e-2yapple+45e5+67.56E+3&quot;,
       [&#39;-12.34&#39;, &#39;33&#39;, &#39;-14.23e-2&#39;, &#39;+45e5&#39;, &#39;+67.56E+3&#39;]),
      (&#39;hello X42 I\&#39;m a Y-32.35 string Z30&#39;,
       [&#39;42&#39;, &#39;-32.35&#39;, &#39;30&#39;]),
      (&#39;he33llo 42 I\&#39;m a 32 string -30&#39;, 
       [&#39;33&#39;, &#39;42&#39;, &#39;32&#39;, &#39;-30&#39;]),
      (&#39;h3110 23 cat 444.4 rabbit 11 2 dog&#39;, 
       [&#39;3110&#39;, &#39;23&#39;, &#39;444.4&#39;, &#39;11&#39;, &#39;2&#39;]),
      (&#39;hello 12 hi 89&#39;, 
       [&#39;12&#39;, &#39;89&#39;]),
      (&#39;4&#39;, 
       [&#39;4&#39;]),
      (&#39;I like 74,600 commas not,500&#39;, 
       [&#39;74,600&#39;, &#39;500&#39;]),
      (&#39;I like bad math 1+2=.001&#39;, 
       [&#39;1&#39;, &#39;+2&#39;, &#39;.001&#39;])]

for s, r in ss:
    rr = re.findall(&quot;[-+]?[.]?[\d]+(?:,\d\d\d)*[\.]?\d*(?:[eE][-+]?\d+)?&quot;, s)
    if rr == r:
        print(&#39;GOOD&#39;)
    else:
        print(&#39;WRONG&#39;, rr, &#39;should be&#39;, r)</code></pre>
<p>Gives all good!</p>
<p>Additionally, you can look at the <a href="http://docs.aws.amazon.com/glue/latest/dg/custom-classifier.html#classifier-builtin-patterns?icmpid=docs_glue_console" rel="noreferrer">AWS Glue built-in regex</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-all-special-characters-from-a-string-score-720840-in-2017" class="level3">
<h3>11: Remove all special characters from a string (score <a href="https://stackoverflow.com/q/14114411.html">720840</a> in 2017)</h3>
<section id="question-10" class="level4">
<h4>Question</h4>
<blockquote>
<p>
<strong>Possible Duplicate:</strong><br> <a href="https://stackoverflow.com/questions/3022185/regular-expression-sanitize-php">Regular Expression Sanitize (PHP)</a>
</p>
</blockquote>
<p>I am facing an issue with URLs, I want to be able to convert titles that could contain anything and have them stripped of all special characters so they only have letters and numbers and of course I would like to replace spaces with hyphens.</p>
<p>How would this be done? I’ve heard a lot about regular expressions (regex) being used…</p>
</section>
<section id="answer-accepted-score-614" class="level4">
<h4>Answer accepted (score 614)</h4>
<p>Easy peasy:</p>
<pre class="regex"><code>function clean($string) {
   $string = str_replace(&#39; &#39;, &#39;-&#39;, $string); // Replaces all spaces with hyphens.

   return preg_replace(&#39;/[^A-Za-z0-9\-]/&#39;, &#39;&#39;, $string); // Removes special chars.
}</code></pre>
<p><b>Usage:</b></p>
<pre class="regex"><code>echo clean(&#39;a|&quot;bc!@£de^&amp;amp;$f g&#39;);</code></pre>
<p>Will output: <code>abcdef-g</code></p>
<p><b>Edit:</b></p>
<blockquote>
Hey, just a quick question, how can I prevent multiple hyphens from being next to each other? and have them replaced with just 1?
</blockquote>
<pre class="regex"><code>function clean($string) {
   $string = str_replace(&#39; &#39;, &#39;-&#39;, $string); // Replaces all spaces with hyphens.
   $string = preg_replace(&#39;/[^A-Za-z0-9\-]/&#39;, &#39;&#39;, $string); // Removes special chars.

   return preg_replace(&#39;/-+/&#39;, &#39;-&#39;, $string); // Replaces multiple hyphens with single one.
}</code></pre>
</section>
<section id="answer-2-score-100" class="level4">
<h4>Answer 2 (score 100)</h4>
<h5>
Update
</h1>
<p>The solution below has a “SEO friendlier” version:</p>
<pre class="regex"><code>function hyphenize($string) {
    $dict = array(
        &quot;I&#39;m&quot;      =&amp;gt; &quot;I am&quot;,
        &quot;thier&quot;    =&amp;gt; &quot;their&quot;,
        // Add your own replacements here
    );
    return strtolower(
        preg_replace(
          array( &#39;#[\\s-]+#&#39;, &#39;#[^A-Za-z0-9. -]+#&#39; ),
          array( &#39;-&#39;, &#39;&#39; ),
          // the full cleanString() can be downloaded from http://www.unexpectedit.com/php/php-clean-string-of-utf8-chars-convert-to-similar-ascii-char
          cleanString(
              str_replace( // preg_replace can be used to support more complicated replacements
                  array_keys($dict),
                  array_values($dict),
                  urldecode($string)
              )
          )
        )
    );
}

function cleanString($text) {
    $utf8 = array(
        &#39;/[áàâãªä]/u&#39;   =&amp;gt;   &#39;a&#39;,
        &#39;/[ÁÀÂÃÄ]/u&#39;    =&amp;gt;   &#39;A&#39;,
        &#39;/[ÍÌÎÏ]/u&#39;     =&amp;gt;   &#39;I&#39;,
        &#39;/[íìîï]/u&#39;     =&amp;gt;   &#39;i&#39;,
        &#39;/[éèêë]/u&#39;     =&amp;gt;   &#39;e&#39;,
        &#39;/[ÉÈÊË]/u&#39;     =&amp;gt;   &#39;E&#39;,
        &#39;/[óòôõºö]/u&#39;   =&amp;gt;   &#39;o&#39;,
        &#39;/[ÓÒÔÕÖ]/u&#39;    =&amp;gt;   &#39;O&#39;,
        &#39;/[úùûü]/u&#39;     =&amp;gt;   &#39;u&#39;,
        &#39;/[ÚÙÛÜ]/u&#39;     =&amp;gt;   &#39;U&#39;,
        &#39;/ç/&#39;           =&amp;gt;   &#39;c&#39;,
        &#39;/Ç/&#39;           =&amp;gt;   &#39;C&#39;,
        &#39;/ñ/&#39;           =&amp;gt;   &#39;n&#39;,
        &#39;/Ñ/&#39;           =&amp;gt;   &#39;N&#39;,
        &#39;/–/&#39;           =&amp;gt;   &#39;-&#39;, // UTF-8 hyphen to &quot;normal&quot; hyphen
        &#39;/[’‘‹›‚]/u&#39;    =&amp;gt;   &#39; &#39;, // Literally a single quote
        &#39;/[“”«»„]/u&#39;    =&amp;gt;   &#39; &#39;, // Double quote
        &#39;/ /&#39;           =&amp;gt;   &#39; &#39;, // nonbreaking space (equiv. to 0x160)
    );
    return preg_replace(array_keys($utf8), array_values($utf8), $text);
}</code></pre>
<p>The rationale for the above functions (which I find <em>way</em> inefficient - the one below is better) is that <em>a service that shall not be named</em> apparently ran spelling checks and keyword recognition on the URLs.</p>
<p>After losing a long time on a customer’s paranoias, I found out they were <em>not</em> imagining things after all – their SEO experts [I am definitely not one] reported that, say, converting “Viaggi Economy Perù” to <code>viaggi-economy-peru</code> “behaved better” than <code>viaggi-economy-per</code> (the previous “cleaning” removed UTF8 characters; <strong>Bogotà</strong> became <strong>bogot</strong>, <strong>Medellìn</strong> became <strong>medelln</strong> and so on).</p>
<p>There were also some common misspellings that seemed to influence the results, and the only explanation that made sense to me is that our URL were being unpacked, the words singled out, and used to drive God knows what ranking algorithms. And those algorithms apparently had been fed with UTF8-cleaned strings, so that “Perù” became “Peru” instead of “Per”. “Per” did not match and sort of took it in the neck.</p>
<p>In order to both keep UTF8 characters and replace some misspellings, the faster function below became the more accurate (?) function above. <code>$dict</code> needs to be hand tailored, of course.</p>
<h5>
Previous answer
</h1>
<p>A simple approach:</p>
<pre class="regex"><code>// Remove all characters except A-Z, a-z, 0-9, dots, hyphens and spaces
// Note that the hyphen must go last not to be confused with a range (A-Z)
// and the dot, NOT being special (I know. My life was a lie), is NOT escaped

$str = preg_replace(&#39;/[^A-Za-z0-9. -]/&#39;, &#39;&#39;, $str);

// Replace sequences of spaces with hyphen
$str = preg_replace(&#39;/  */&#39;, &#39;-&#39;, $str);

// The above means &quot;a space, followed by a space repeated zero or more times&quot;
// (should be equivalent to / +/)

// You may also want to try this alternative:
$str = preg_replace(&#39;/\\s+/&#39;, &#39;-&#39;, $str);

// where \s+ means &quot;zero or more whitespaces&quot; (a space is not necessarily the
// same as a whitespace) just to be sure and include everything</code></pre>
<p>Note that you might have to first <code>urldecode()</code> the URL, since %20 and + both are actually spaces - I mean, if you have “Never%20gonna%20give%20you%20up” you want it to become Never-gonna-give-you-up, not <em>Never20gonna20give20you20up</em> . You might not need it, but I thought I’d mention the possibility.</p>
<p>So the finished function along with test cases:</p>
<pre class="regex"><code>function hyphenize($string) {
    return 
    ## strtolower(
          preg_replace(
            array(&#39;#[\\s-]+#&#39;, &#39;#[^A-Za-z0-9. -]+#&#39;),
            array(&#39;-&#39;, &#39;&#39;),
        ##     cleanString(
              urldecode($string)
        ##     )
        )
    ## )
    ;
}

print implode(&quot;\n&quot;, array_map(
    function($s) {
            return $s . &#39; becomes &#39; . hyphenize($s);
    },
    array(
    &#39;Never%20gonna%20give%20you%20up&#39;,
    &quot;I&#39;m not the man I was&quot;,
    &quot;&#39;Légeresse&#39;, dit sa majesté&quot;,
    )));


Never%20gonna%20give%20you%20up    becomes  never-gonna-give-you-up
I&#39;m not the man I was              becomes  im-not-the-man-I-was
&#39;Légeresse&#39;, dit sa majesté        becomes  legeresse-dit-sa-majeste</code></pre>
<p>To handle UTF-8 I used a <code>cleanString</code> implementation found online (link broken since, but a stripped down copy with all the not-too-esoteric UTF8 characters is at the beginning of the answer; it’s also easy to add more characters to it if you need) that converts UTF8 characters to normal characters, thus preserving the word “look” as much as possible. It could be simplified and wrapped inside the function here for performance.</p>
<p>The function above also implements converting to lowercase - but that’s a taste. The code to do so has been commented out.</p>
</section>
<section id="answer-3-score-36" class="level4">
<h4>Answer 3 (score 36)</h4>
<p>Here, check out this function:</p>
<pre class="regex"><code>function seo_friendly_url($string){
    $string = str_replace(array(&#39;[\&#39;, \&#39;]&#39;), &#39;&#39;, $string);
    $string = preg_replace(&#39;/\[.*\]/U&#39;, &#39;&#39;, $string);
    $string = preg_replace(&#39;/&amp;amp;(amp;)?#?[a-z0-9]+;/i&#39;, &#39;-&#39;, $string);
    $string = htmlentities($string, ENT_COMPAT, &#39;utf-8&#39;);
    $string = preg_replace(&#39;/&amp;amp;([a-z])(acute|uml|circ|grave|ring|cedil|slash|tilde|caron|lig|quot|rsquo);/i&#39;, &#39;\\1&#39;, $string );
    $string = preg_replace(array(&#39;/[^a-z0-9]/i&#39;, &#39;/[-]+/&#39;) , &#39;-&#39;, $string);
    return strtolower(trim($string, &#39;-&#39;));
}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-numbers-only-score-719314-in-2019" class="level3">
<h3>12: Regex for numbers only (score <a href="https://stackoverflow.com/q/273141.html">719314</a> in 2019)</h3>
<section id="question-11" class="level4">
<h4>Question</h4>
<p>I haven’t used regular expressions at all, so I’m having difficulty troubleshooting. I want the regex to match only when the contained string is all numbers; but with the two examples below it is matching a string that contains all numbers plus an equals sign like “1234=4321”. I’m sure there’s a way to change this behavior, but as I said, I’ve never really done much with regular expressions.</p>
<pre class="regex"><code>string compare = &quot;1234=4321&quot;;
Regex regex = new Regex(@&quot;[\d]&quot;);

if (regex.IsMatch(compare))
{ 
    //true
}

regex = new Regex(&quot;[0-9]&quot;);

if (regex.IsMatch(compare))
{ 
    //true
}</code></pre>
<p>In case it matters, I’m using C# and .NET2.0.</p>
</section>
<section id="answer-accepted-score-449" class="level4">
<h4>Answer accepted (score 449)</h4>
<p>Use the beginning and end anchors.</p>
<pre class="regex"><code>Regex regex = new Regex(@&quot;^\d$&quot;);</code></pre>
<p>Use <code>&quot;^\d+$&quot;</code> if you need to match more than one digit.</p>
<hr>
<p>Note that <code>&quot;\d&quot;</code> will match <code>[0-9]</code> and other digit characters like the Eastern Arabic numerals <code>٠١٢٣٤٥٦٧٨٩</code>. Use <code>&quot;^[0-9]+$&quot;</code> to restrict matches to just the Arabic numerals 0 - 9.</p>
<hr>
<p>If you need to include any numeric representations other than just digits (like decimal values for starters), then see <a href="https://stackoverflow.com/users/471272/tchrist"><span class="citation" data-cites="tchrist">@tchrist</span></a>’s <a href="https://stackoverflow.com/a/4247184/1288">comprehensive guide to parsing numbers with regular expressions</a>.</p>
</section>
<section id="answer-2-score-99" class="level4">
<h4>Answer 2 (score 99)</h4>
<p>Your regex will match anything that contains a number, you want to use anchors to match the whole string and then match one or more numbers:</p>
<pre class="regex"><code>regex = new Regex(&quot;^[0-9]+$&quot;);</code></pre>
<p>The <code>^</code> will anchor the beginning of the string, the <code>$</code> will anchor the end of the string, and the <code>+</code> will match one or more of what precedes it (a number in this case).</p>
</section>
<section id="answer-3-score-37" class="level4">
<h4>Answer 3 (score 37)</h4>
<p>If you need to tolerate decimal point and thousand marker</p>
<pre class="regex"><code>var regex = new Regex(@&quot;^-?[0-9][0-9,\.]+$&quot;);</code></pre>
<p>You will need a “-”, if the number can go negative.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-match-any-character-in-regular-expression-score-718409-in-2018" class="level3">
<h3>13: How to match “any character” in regular expression? (score <a href="https://stackoverflow.com/q/2912894.html">718409</a> in 2018)</h3>
<section id="question-12" class="level4">
<h4>Question</h4>
<p>The following should be matched:</p>
<pre class="regex"><code>AAA123
ABCDEFGH123
XXXX123</code></pre>
<p>can I do: <code>&quot;.*123&quot;</code> ?</p>
</section>
<section id="answer-accepted-score-572" class="level4">
<h4>Answer accepted (score 572)</h4>
<p>Yes, you can. That should work.</p>
<ul>
<li>
<code>.</code> = any char
</li>
<li>
<code>\.</code> = the actual dot character
</li>
<li>
<code>.?</code> = <code>.{0,1}</code> = match any char zero or one times
</li>
<li>
<code>.*</code> = <code>.{0,}</code> = match any char zero or more times
</li>
<li>
<code>.+</code> = <code>.{1,}</code> = match any char one or more times
</li>
</ul>
</section>
<section id="answer-2-score-52" class="level4">
<h4>Answer 2 (score 52)</h4>
<p>Yes that will work, though note that <code>.</code> will not match newlines unless you pass the <a href="http://java.sun.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL" rel="noreferrer">DOTALL</a> flag when compiling the expression:</p>
<pre class="regex"><code>Pattern pattern = Pattern.compile(&quot;.*123&quot;, Pattern.DOTALL);
Matcher matcher = pattern.matcher(inputStr);
boolean matchFound = matcher.matches();</code></pre>
</section>
<section id="answer-3-score-19" class="level4">
<h4>Answer 3 (score 19)</h4>
<p>Use the pattern <code>.</code> to match any character once, <code>.*</code> to match any character zero or more times, <code>.+</code> to match any character one or more times.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-access-the-matched-groups-in-a-javascript-regular-expression-score-705906-in-2017" class="level3">
<h3>14: How do you access the matched groups in a JavaScript regular expression? (score <a href="https://stackoverflow.com/q/432493.html">705906</a> in 2017)</h3>
<section id="question-13" class="level4">
<h4>Question</h4>
<p>I want to match a portion of a string using a <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expression</a> and then access that parenthesized substring:</p>
<pre class="regex"><code>var myString = &quot;something format_abc&quot;; // I want &quot;abc&quot;

var arr = /(?:^|\s)format_(.*?)(?:\s|$)/.exec(myString);

console.log(arr);     // Prints: [&quot; format_abc&quot;, &quot;abc&quot;] .. so far so good.
console.log(arr[1]);  // Prints: undefined  (???)
console.log(arr[0]);  // Prints: format_undefined (!!!)</code></pre>
<p>What am I doing wrong?</p>
<hr>
<p>I’ve discovered that there was nothing wrong with the regular expression code above: the actual string which I was testing against was this:</p>
<pre class="regex"><code>&quot;date format_%A&quot;</code></pre>
<p>Reporting that “%A” is undefined seems a very strange behaviour, but it is not directly related to this question, so I’ve opened a new one, <em><a href="https://stackoverflow.com/questions/432826/why-is-a-matched-substring-returning-undefined-in-javascript">Why is a matched substring returning “undefined” in JavaScript?</a></em>.</p>
<hr>
<p>The issue was that <code>console.log</code> takes its parameters like a <code>printf</code> statement, and since the string I was logging (<code>&quot;%A&quot;</code>) had a special value, it was trying to find the value of the next parameter.</p>
</section>
<section id="answer-accepted-score-1570" class="level4">
<h4>Answer accepted (score 1570)</h4>
<p>You can access capturing groups like this:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var myString = &quot;something format_abc&quot;;
var myRegexp = /(?:^|\s)format_(.*?)(?:\s|$)/g;
var match = myRegexp.exec(myString);
console.log(match[1]); // abc</code></pre>
</div>
</div>
<p>And if there are multiple matches you can iterate over them:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var myString = &quot;something format_abc&quot;;
var myRegexp = /(?:^|\s)format_(.*?)(?:\s|$)/g;
match = myRegexp.exec(myString);
while (match != null) {
  // matched text: match[0]
  // match start: match.index
  // capturing group n: match[n]
  console.log(match[0])
  match = myRegexp.exec(myString);
}</code></pre>
</div>
</div>
<h5>
Edit: 2019-09-10
</h2>
<p>As you can see the way to iterate over multiple matches was not very intuitive. This lead to the proposal of the <a href="https://github.com/tc39/proposal-string-matchall" rel="noreferrer"><code>String.prototype.matchAll</code></a> method. This new method is expected to ship in the <a href="https://tc39.es/ecma262/#sec-string.prototype.matchall" rel="noreferrer">ECMAScript 2020 specification</a>. It gives us a clean API and solves multiple problems. It has been started to land on major browsers and JS engines as <a href="https://v8.dev/features/string-matchall" rel="noreferrer">Chrome 73+ / Node 12+</a> and Firefox 67+.</p>
<p>The method returns an iterator and is used as follows:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>const string = &quot;something format_abc&quot;;
const regexp = /(?:^|\s)format_(.*?)(?:\s|$)/g;
const matches = string.matchAll(regexp);

for (const match of matches) {
  console.log(match);
  console.log(match.index)
}</code></pre>
</div>
</div>
<p>As it returns an iterator, we can say it’s lazy, this is useful when handling particularly large numbers of capturing groups, or very large strings. But if you need, the result can be easily transformed into an Array by using the <em>spread syntax</em> or the <code>Array.from</code> method:</p>
<pre class="regex"><code>function getFirstGroup(regexp, str) {
  const array = [...str.matchAll(regexp)];
  return array.map(m =&amp;gt; m[1]);
}

// or:
function getFirstGroup(regexp, str) {
  return Array.from(str.matchAll(regexp), m =&amp;gt; m[1]);
}</code></pre>
<p>In the meantime, while this proposal gets more wide support, you can use the <a href="https://www.npmjs.com/package/string.prototype.matchall" rel="noreferrer">official shim package</a>.</p>
<p>Also, the internal workings of the method are simple. An equivalent implementation using a generator function would be as follows:</p>
<pre class="regex"><code>function* matchAll(str, regexp) {
  const flags = regexp.global ? regexp.flags : regexp.flags + &quot;g&quot;;
  const re = new RegExp(regexp, flags);
  let match;
  while (match = re.exec(str)) {
    yield match;
  }
}</code></pre>
<p>A copy of the original regexp is created; this is to avoid side-effects due to the mutation of the <code>lastIndex</code> property when going through the multple matches.</p>
<p>Also, we need to ensure the regexp has the <em>global</em> flag to avoid an infinite loop.</p>
<p>I’m also happy to see that even this StackOverflow question was referenced in the <a href="https://github.com/tc39/proposal-string-matchall#previous-discussions" rel="noreferrer">discussions of the proposal</a>.</p>
</section>
<section id="answer-2-score-178" class="level4">
<h4>Answer 2 (score 178)</h4>
<p>Here’s a method you can use to get the <em>n</em>​th capturing group for each match:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<pre class="regex"><code>function getMatches(string, regex, index) {
  index || (index = 1); // default to the first capturing group
  var matches = [];
  var match;
  while (match = regex.exec(string)) {
    matches.push(match[index]);
  }
  return matches;
}


// Example :
var myString = &#39;something format_abc something format_def something format_ghi&#39;;
var myRegEx = /(?:^|\s)format_(.*?)(?:\s|$)/g;

// Get an array containing the first capturing group for every match
var matches = getMatches(myString, myRegEx, 1);

// Log results
document.write(matches.length + &#39; matches found: &#39; + JSON.stringify(matches))
console.log(matches);</code></pre>
</div>
</div>
</section>
<section id="answer-3-score-55" class="level4">
<h4>Answer 3 (score 55)</h4>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var myString = &quot;something format_abc&quot;;
var arr = myString.match(/\bformat_(.*?)\b/);
console.log(arr[0] + &quot; &quot; + arr[1]);</code></pre>
</div>
</div>
<p>The <code>\b</code> isn’t exactly the same thing. (It works on <code>--format_foo/</code>, but doesn’t work on <code>format_a_b</code>) But I wanted to show an alternative to your expression, which is fine. Of course, the <code>match</code> call is the important thing.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-whether-a-string-matches-a-regex-in-js-score-700870-in-2017" class="level3">
<h3>15: Check whether a string matches a regex in JS (score <a href="https://stackoverflow.com/q/6603015.html">700870</a> in 2017)</h3>
<section id="question-14" class="level4">
<h4>Question</h4>
<p>I want to use JavaScript (can be with jQuery) to do some client-side validation to check whether a string matches the regex:</p>
<pre class="regex"><code>^([a-z0-9]{5,})$</code></pre>
<p>Ideally it would be an expression that returned true or false.</p>
<p>I’m a JavaScript newbie, does <code>match()</code> do what I need? It seems to check whether part of a string matches a regex, not the whole thing.</p>
</section>
<section id="answer-accepted-score-1064" class="level4">
<h4>Answer accepted (score 1064)</h4>
<p>Use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" rel="noreferrer"><code>regex.test()</code></a> if all you want is a boolean result:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>console.log(/^([a-z0-9]{5,})$/.test(&#39;abc1&#39;)); // false

console.log(/^([a-z0-9]{5,})$/.test(&#39;abc12&#39;)); // true

console.log(/^([a-z0-9]{5,})$/.test(&#39;abc123&#39;)); // true</code></pre>
</div>
</div>
<p>…and you could remove the <code>()</code> from your regexp since you’ve no need for a capture.</p>
</section>
<section id="answer-2-score-160" class="level4">
<h4>Answer 2 (score 160)</h4>
<p>Use <code>test()</code> method :</p>
<pre class="regex"><code>var term = &quot;sample1&quot;;
var re = new RegExp(&quot;^([a-z0-9]{5,})$&quot;);
if (re.test(term)) {
    console.log(&quot;Valid&quot;);
} else {
    console.log(&quot;Invalid&quot;);
}</code></pre>
</section>
<section id="answer-3-score-83" class="level4">
<h4>Answer 3 (score 83)</h4>
<p>You can use <code>match()</code> as well:</p>
<pre class="regex"><code>if (str.match(/^([a-z0-9]{5,})$/)) {
    alert(&quot;match!&quot;);
}</code></pre>
<p>But <code>test()</code> seems to be faster as you can read <a href="https://stackoverflow.com/a/10940138/1895428">here</a>.</p>
<p><strong>Important difference between <code>match()</code> and <code>test()</code>:</strong></p>
<p><code>match()</code> works only with strings, but <code>test()</code> works also with integers.</p>
<pre class="regex"><code>12345.match(/^([a-z0-9]{5,})$/); // ERROR
/^([a-z0-9]{5,})$/.test(12345);  // true
/^([a-z0-9]{5,})$/.test(null);   // false

// Better watch out for undefined values
/^([a-z0-9]{5,})$/.test(undefined); // true</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="python-string.replace-regular-expression-score-696728-in-2019" class="level3">
<h3>16: Python string.replace regular expression (score <a href="https://stackoverflow.com/q/16720541.html">696728</a> in 2019)</h3>
<section id="question-15" class="level4">
<h4>Question</h4>
<p>I have a parameter file of the form:</p>
<pre class="regex"><code>parameter-name parameter-value</code></pre>
<p>Where the parameters may be in any order but there is only one parameter per line. I want to replace one parameter’s <code>parameter-value</code> with a new value.</p>
<p>I am using a line replace function <a href="https://stackoverflow.com/questions/39086/search-and-replace-a-line-in-a-file-in-python">posted previously</a> to replace the line which uses Python’s <a href="http://www.tutorialspoint.com/python/string_replace.htm%20String.Replace" rel="noreferrer"><code>string.replace(pattern, sub)</code></a>. The regular expression that I’m using works for instance in vim but doesn’t appear to work in <code>string.replace()</code>.</p>
<p>Here is the regular expression that I’m using:</p>
<pre class="regex"><code>line.replace(&quot;^.*interfaceOpDataFile.*$/i&quot;, &quot;interfaceOpDataFile %s&quot; % (fileIn))</code></pre>
<p>Where <code>&quot;interfaceOpDataFile&quot;</code> is the parameter name that I’m replacing (/i for case-insensitive) and the new parameter value is the contents of the <code>fileIn</code> variable.</p>
<p>Is there a way to get Python to recognize this regular expression or else is there another way to accomplish this task?</p>
</section>
<section id="answer-accepted-score-504" class="level4">
<h4>Answer accepted (score 504)</h4>
<p><code>str.replace()</code> <sup><a href="https://docs.python.org/2/library/stdtypes.html#str.replace" rel="noreferrer">v2</a>|<a href="https://docs.python.org/3/library/stdtypes.html#str.replace" rel="noreferrer">v3</a></sup> does not recognize regular expressions.</p>
<p>To perform a substitution using a regular expression, use <code>re.sub()</code> <sup><a href="https://docs.python.org/2/library/re.html#re.sub" rel="noreferrer">v2</a>|<a href="https://docs.python.org/3/library/re.html#re.sub" rel="noreferrer">v3</a></sup>.</p>
<p>For example:</p>
<pre class="regex"><code>import re

line = re.sub(
           r&quot;(?i)^.*interfaceOpDataFile.*$&quot;, 
           &quot;interfaceOpDataFile %s&quot; % fileIn, 
           line
       )</code></pre>
<p>In a loop, it would be better to compile the regular expression first:</p>
<pre class="regex"><code>import re

regex = re.compile(r&quot;^.*interfaceOpDataFile.*$&quot;, re.IGNORECASE)
for line in some_file:
    line = regex.sub(&quot;interfaceOpDataFile %s&quot; % fileIn, line)
    # do something with the updated line</code></pre>
</section>
<section id="answer-2-score-340" class="level4">
<h4>Answer 2 (score 340)</h4>
<p>You are looking for the <a href="http://docs.python.org/2/library/re.html#re.sub" rel="noreferrer">re.sub</a> function.</p>
<pre class="regex"><code>import re
s = &quot;Example String&quot;
replaced = re.sub(&#39;[ES]&#39;, &#39;a&#39;, s)
print replaced </code></pre>
<p>will print <code>axample atring</code></p>
</section>
<section id="answer-3-score-14" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>As a summary</p>
<pre class="regex"><code>import sys
import re

f = sys.argv[1]
find = sys.argv[2]
replace = sys.argv[3]
with open (f, &quot;r&quot;) as myfile:
     s=myfile.read()
ret = re.sub(find,replace, s)   # &amp;lt;&amp;lt;&amp;lt; This is where the magic happens
print ret</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-that-accepts-only-numbers-0-9-and-no-characters-score-694263-in-2013" class="level3">
<h3>17: Regex that accepts only numbers (0-9) and NO characters (score <a href="https://stackoverflow.com/q/19715303.html">694263</a> in 2013)</h3>
<section id="question-16" class="level4">
<h4>Question</h4>
<p>I need a regex that will accept only digits from 0-9 and nothing else. No letters, no characters.</p>
<p>I thought this would work:</p>
<pre class="regex"><code>^[0-9]</code></pre>
<p>or even</p>
<pre class="regex"><code>\d+</code></pre>
<p>but these are accepting the characters : ^,$,(,), etc</p>
<p>I thought that both the regexes above would do the trick and I’m not sure why its accepting those characters.</p>
<p>EDIT:</p>
<p>This is exactly what I am doing:</p>
<pre class="regex"><code> private void OnTextChanged(object sender, EventArgs e)
    {

   if (!System.Text.RegularExpressions.Regex.IsMatch(&quot;^[0-9]&quot;, textbox.Text))
        {
            textbox.Text = string.Empty;
        }
    }</code></pre>
<p>This is allowing the characters I mentioned above.</p>
</section>
<section id="answer-accepted-score-332" class="level4">
<h4>Answer accepted (score 332)</h4>
<p>Your regex <code>^[0-9]</code> matches anything <em>beginning</em> with a digit, including strings like “1A”. To avoid a partial match, append a <code>$</code> to the end:</p>
<pre class="regex"><code>^[0-9]*$</code></pre>
<p>This accepts any number of digits, including none. To accept one or more digits, change the <code>*</code> to <code>+</code>. To accept exactly one digit, just remove the <code>*</code>.</p>
<p><strong>UPDATE:</strong> You mixed up the arguments to <code>IsMatch</code>. The pattern should be the second argument, not the first:</p>
<pre class="regex"><code>if (!System.Text.RegularExpressions.Regex.IsMatch(textbox.Text, &quot;^[0-9]*$&quot;))</code></pre>
<p><strong>CAUTION:</strong> In JavaScript, <code>\d</code> is equivalent to <code>[0-9]</code>, but in .NET, <code>\d</code> by default matches any <a href="http://graphemica.com/categories/decimal-digit-number">Unicode decimal digit</a>, including exotic fare like ႒ (Myanmar 2) and ߉ (N’Ko 9). Unless your app is prepared to deal with these characters, stick with <code>[0-9]</code> (or supply the <a href="https://msdn.microsoft.com/en-us/library/yd1hzczs(v=vs.110).aspx#Anchor_10">RegexOptions.ECMAScript</a> flag).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expressions-is-there-an-and-operator-score-693174-in-2017" class="level3">
<h3>18: Regular Expressions: Is there an AND operator? (score <a href="https://stackoverflow.com/q/469913.html">693174</a> in 2017)</h3>
<section id="question-17" class="level4">
<h4>Question</h4>
<p>Obviously, you can use the <code>|</code> (pipe?) to represent <code>OR</code>, but is there a way to represent <code>AND</code> as well?</p>
<p>Specifically, I’d like to match paragraphs of text that contain ALL of a certain phrase, but in no particular order.</p>
</section>
<section id="answer-2-score-361" class="level4">
<h4>Answer 2 (score 361)</h4>
<p>Use a non-consuming regular expression.</p>
<p>The typical (i.e. Perl/Java) notation is:</p>
<p><code>(?=</code><em>expr</em><code>)</code></p>
<p>This means “match <em>expr</em> but after that continue matching at the original match-point.”</p>
<p>You can do as many of these as you want, and this will be an “and.” Example:</p>
<p><code>(?=match this expression)(?=match this too)(?=oh, and this)</code></p>
<p>You can even add capture groups inside the non-consuming expressions if you need to save some of the data therein.</p>
</section>
<section id="answer-3-score-317" class="level4">
<h4>Answer 3 (score 317)</h4>
<p>You need to use lookahead as some of the other responders have said, but the lookahead has to account for other characters between its target word and the current match position. For example:</p>
<pre class="regex"><code>(?=.*word1)(?=.*word2)(?=.*word3)</code></pre>
<p>The <code>.*</code> in the first lookahead lets it match however many characters it needs to before it gets to “word1”. Then the match position is reset and the second lookahead seeks out “word2”. Reset again, and the final part matches “word3”; since it’s the last word you’re checking for, it isn’t necessary that it be in a lookahead, but it doesn’t hurt.</p>
<p>In order to match a whole paragraph, you need to anchor the regex at both ends and add a final <code>.*</code> to consume the remaining characters. Using Perl-style notation, that would be:</p>
<pre class="regex"><code>/^(?=.*word1)(?=.*word2)(?=.*word3).*$/m</code></pre>
<p>The ‘m’ modifier is for multline mode; it lets the <code>^</code> and <code>$</code> match at paragraph boundaries (“line boundaries” in regex-speak). It’s essential in this case that you <strong>not</strong> use the ‘s’ modifier, which lets the dot metacharacter match newlines as well as all other characters.</p>
<p>Finally, you want to make sure you’re matching whole words and not just fragments of longer words, so you need to add word boundaries:</p>
<pre class="regex"><code>/^(?=.*\bword1\b)(?=.*\bword2\b)(?=.*\bword3\b).*$/m</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-exclude-one-word-with-grep-score-679734-in-2015" class="level3">
<h3>19: How can I exclude one word with grep? (score <a href="https://stackoverflow.com/q/4538253.html">679734</a> in 2015)</h3>
<section id="question-18" class="level4">
<h4>Question</h4>
<p>I need something like:</p>
<pre class="regex"><code>grep ^&quot;unwanted_word&quot;XXXXXXXX</code></pre>
</section>
<section id="answer-accepted-score-730" class="level4">
<h4>Answer accepted (score 730)</h4>
<p>You can also do it using <code>-v</code> (for <code>--invert-match</code>) option of grep as:</p>
<pre class="regex"><code>grep -v &quot;unwanted_word&quot; file | grep XXXXXXXX</code></pre>
<p><code>grep -v &quot;unwanted_word&quot; file</code> will filter the lines that have the <code>unwanted_word</code> and <code>grep XXXXXXXX</code> will list only lines with pattern <code>XXXXXXXX</code>.</p>
<p><strong>EDIT:</strong></p>
<p>From your comment it looks like you want to list all lines without the <code>unwanted_word</code>. In that case all you need is:</p>
<pre class="regex"><code>grep -v &#39;unwanted_word&#39; file</code></pre>
</section>
<section id="answer-2-score-79" class="level4">
<h4>Answer 2 (score 79)</h4>
<p>I understood the question as “How do I match a word but exclude another”, for which one solution is two greps in series: First grep finding the wanted “word1”, second grep excluding “word2”:</p>
<pre class="regex"><code>grep &quot;word1&quot; | grep -v &quot;word2&quot;</code></pre>
<p>In my case: I need to differentiate between “plot” and “#plot” which grep’s “word” option won’t do (“#” not being a alphanumerical).</p>
<p>Hope this helps.</p>
</section>
<section id="answer-3-score-33-1" class="level4">
<h4>Answer 3 (score 33)</h4>
<p>If your <code>grep</code> supports Perl regular expression with <code>-P</code> option you can do (if bash; if tcsh you’ll need to escape the <code>!</code>):</p>
<pre class="regex"><code>grep -P &#39;(?!.*unwanted_word)keyword&#39; file</code></pre>
<p>Demo:</p>
<pre class="regex"><code>$ cat file
foo1
foo2
foo3
foo4
bar
baz</code></pre>
<p>Let us now list all <code>foo</code> except <code>foo3</code></p>
<pre class="regex"><code>$ grep -P &#39;(?!.*foo3)foo&#39; file
foo1
foo2
foo4
$ </code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="matching-a-space-in-regex-score-675660-in-2015" class="level3">
<h3>20: Matching a space in regex (score <a href="https://stackoverflow.com/q/559363.html">675660</a> in 2015)</h3>
<section id="question-19" class="level4">
<h4>Question</h4>
<p>I need to match a space character in a PHP regular expression. Anyone got any ideas?</p>
<p>I mean like “gavin schulz”, the space in between the two words. I am using a regular expression to make sure that I only allow letters, number and a space. But I’m not sure how to find the space. This is what I have right now:</p>
<pre class="regex"><code>$newtag = preg_replace(&quot;/[^a-zA-Z0-9s|]/&quot;, &quot;&quot;, $tag);</code></pre>
</section>
<section id="answer-accepted-score-339" class="level4">
<h4>Answer accepted (score 339)</h4>
<p>If you’re looking for a space, that would be <code>&quot; &quot;</code> (one space).</p>
<p>If you’re looking for one or more, it’s <code>&quot;  *&quot;</code> (that’s <em>two</em> spaces and an asterisk) or <code>&quot; +&quot;</code> (one space and a plus).</p>
<p>If you’re looking for common spacing, use <code>&quot;[ X]&quot;</code> or <code>&quot;[ X][ X]*&quot;</code> or <code>&quot;[ X]+&quot;</code> where <code>X</code> is the physical tab character (and each is preceded by a single space in all those examples).</p>
<p>These will work in <em>every</em>* regex engine I’ve ever seen (some of which don’t even have the one-or-more <code>&quot;+&quot;</code> character, ugh).</p>
<p>If you know you’ll be using one of the more modern regex engines, <code>&quot;\s&quot;</code> and its variations are the way to go. In addition, I believe word boundaries match start and end of lines as well, important when you’re looking for words that may appear without preceding or following spaces.</p>
<p>For PHP specifically, <a href="http://www.wellho.net/regex/php.html" rel="noreferrer">this page</a> may help.</p>
<p>From your edit, it appears you want to remove all non valid characters The start of this is (note the space inside the regex):</p>
<pre class="regex"><code>$newtag = preg_replace (&quot;/[^a-zA-Z0-9 ]/&quot;, &quot;&quot;, $tag);
#                                    ^ space here</code></pre>
<p>If you also want trickery to ensure there’s only one space between each word and none at the start or end, that’s a little more complicated (and probably another question) but the basic idea would be:</p>
<pre class="regex"><code>$newtag = preg_replace (&quot;/ +/&quot;, &quot; &quot;, $tag); # convert all multispaces to space
$newtag = preg_replace (&quot;/^ /&quot;, &quot;&quot;, $tag);  # remove space from start
$newtag = preg_replace (&quot;/ $/&quot;, &quot;&quot;, $tag);  # and end</code></pre>
</section>
<section id="answer-2-score-43" class="level4">
<h4>Answer 2 (score 43)</h4>
<p><code>\040</code> matches exactly the space character.</p>
<p><a href="http://us.php.net/manual/en/regexp.reference.php" rel="noreferrer">Regexp PHP reference</a></p>
<p>
New Link<br> <a href="http://php.net/manual/en/regexp.reference.escape.php" rel="noreferrer">Escape sequences for Regex PHP</a>
</p>
</section>
<section id="answer-3-score-23" class="level4">
<h4>Answer 3 (score 23)</h4>
<p>Here is a everything you need to know about whitespace in regular expressions:</p>
<ul>
<li>
<code>[[:blank:]]</code> Space or tab only
</li>
<li>
<code>[[:space:]]</code> Whitespace
</li>
<li>
<code>\s</code> Any whitespace character
</li>
<li>
<code>\v</code> Vertical whitespace
</li>
<li>
<code>\h</code> Horizontal whitespace
</li>
<li>
<code>x</code> Ignore whitespace
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-use-a-variable-in-a-regular-expression-score-665330-in-2019" class="level3">
<h3>21: How do you use a variable in a regular expression? (score <a href="https://stackoverflow.com/q/494035.html">665330</a> in 2019)</h3>
<section id="question-20" class="level4">
<h4>Question</h4>
<p>I would like to create a <code>String.replaceAll()</code> method in JavaScript and I’m thinking that using a regex would be most terse way to do it. However, I can’t figure out how to pass a variable in to a regex. I can do this already which will replace all the instances of <code>&quot;B&quot;</code> with <code>&quot;A&quot;</code>.</p>
<pre class="regex"><code>&quot;ABABAB&quot;.replace(/B/g, &quot;A&quot;);</code></pre>
<p>But I want to do something like this:</p>
<pre class="regex"><code>String.prototype.replaceAll = function(replaceThis, withThis) {
    this.replace(/replaceThis/g, withThis);
};</code></pre>
<p>But obviously this will only replace the text <code>&quot;replaceThis&quot;</code>…so how do I pass this variable in to my regex string?</p>
</section>
<section id="answer-accepted-score-1682" class="level4">
<h4>Answer accepted (score 1682)</h4>
<p>Instead of using the <code>/regex/g</code> syntax, you can construct a new <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions" rel="noreferrer">RegExp</a> object:</p>
<pre class="regex"><code>var replace = &quot;regex&quot;;
var re = new RegExp(replace,&quot;g&quot;);</code></pre>
<p>You can dynamically create regex objects this way. Then you will do:</p>
<pre class="regex"><code>&quot;mystring&quot;.replace(re, &quot;newstring&quot;);</code></pre>
</section>
<section id="answer-2-score-196" class="level4">
<h4>Answer 2 (score 196)</h4>
<p>As Eric Wendelin mentioned, you can do something like this:</p>
<pre class="regex"><code>str1 = &quot;pattern&quot;
var re = new RegExp(str1, &quot;g&quot;);
&quot;pattern matching .&quot;.replace(re, &quot;regex&quot;);</code></pre>
<p>This yields <code>&quot;regex matching .&quot;</code>. However, it will fail if str1 is <code>&quot;.&quot;</code>. You’d expect the result to be <code>&quot;pattern matching regex&quot;</code>, replacing the period with <code>&quot;regex&quot;</code>, but it’ll turn out to be…</p>
<pre class="regex"><code>regexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregex</code></pre>
<p>This is because, although <code>&quot;.&quot;</code> is a String, in the RegExp constructor it’s still interpreted as a regular expression, meaning any non-line-break character, meaning every character in the string. For this purpose, the following function may be useful:</p>
<pre class="regex"><code> RegExp.quote = function(str) {
     return str.replace(/([.?*+^$[\]\\(){}|-])/g, &quot;\\$1&quot;);
 };</code></pre>
<p>Then you can do:</p>
<pre class="regex"><code>str1 = &quot;.&quot;
var re = new RegExp(RegExp.quote(str1), &quot;g&quot;);
&quot;pattern matching .&quot;.replace(re, &quot;regex&quot;);</code></pre>
<p>yielding <code>&quot;pattern matching regex&quot;</code>.</p>
</section>
<section id="answer-3-score-109" class="level4">
<h4>Answer 3 (score 109)</h4>
<blockquote>
<code>&quot;ABABAB&quot;.replace(/B/g, &quot;A&quot;);</code>
</blockquote>
<p>As always: don’t use regex unless you have to. For a simple string replace, the idiom is:</p>
<pre class="regex"><code>&#39;ABABAB&#39;.split(&#39;B&#39;).join(&#39;A&#39;)</code></pre>
<p>Then you don’t have to worry about the quoting issues mentioned in Gracenotes’s answer.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-a-non-capturing-group-in-regular-expressions-score-647385-in-2019" class="level3">
<h3>22: What is a non-capturing group in regular expressions? (score <a href="https://stackoverflow.com/q/3512471.html">647385</a> in 2019)</h3>
<section id="question-21" class="level4">
<h4>Question</h4>
<p>How are non-capturing groups, i.e. <code>(?:)</code>, used in regular expressions and what are they good for?</p>
</section>
<section id="answer-accepted-score-2154" class="level4">
<h4>Answer accepted (score 2154)</h4>
<p>Let me try to explain this with an example.</p>
<p>Consider the following text:</p>
<pre class="regex"><code>http://stackoverflow.com/
https://stackoverflow.com/questions/tagged/regex</code></pre>
<p>Now, if I apply the regex below over it…</p>
<pre class="regex"><code>(https?|ftp)://([^/\r\n]+)(/[^\r\n]*)?</code></pre>
<p>… I would get the following result:</p>
<pre class="regex"><code>Match &quot;http://stackoverflow.com/&quot;
     Group 1: &quot;http&quot;
     Group 2: &quot;stackoverflow.com&quot;
     Group 3: &quot;/&quot;

Match &quot;https://stackoverflow.com/questions/tagged/regex&quot;
     Group 1: &quot;https&quot;
     Group 2: &quot;stackoverflow.com&quot;
     Group 3: &quot;/questions/tagged/regex&quot;</code></pre>
<p>But I don’t care about the protocol – I just want the host and path of the URL. So, I change the regex to include the non-capturing group <code>(?:)</code>.</p>
<pre class="regex"><code>(?:https?|ftp)://([^/\r\n]+)(/[^\r\n]*)?</code></pre>
<p>Now, my result looks like this:</p>
<pre class="regex"><code>Match &quot;http://stackoverflow.com/&quot;
     Group 1: &quot;stackoverflow.com&quot;
     Group 2: &quot;/&quot;

Match &quot;https://stackoverflow.com/questions/tagged/regex&quot;
     Group 1: &quot;stackoverflow.com&quot;
     Group 2: &quot;/questions/tagged/regex&quot;</code></pre>
<p>See? The first group has not been captured. The parser uses it to match the text, but ignores it later, in the final result.</p>
<hr>
<h5>
EDIT:
</h2>
<p>As requested, let me try to explain groups too.</p>
<p>Well, groups serve many purposes. They can help you to extract exact information from a bigger match (which can also be named), they let you rematch a previous matched group, and can be used for substitutions. Let’s try some examples, shall we?</p>
<p>Ok, imagine you have some kind of XML or HTML (be aware that <a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">regex may not be the best tool for the job</a>, but it is nice as an example). You want to parse the tags, so you could do something like this (I have added spaces to make it easier to understand):</p>
<pre class="regex"><code>   \&amp;lt;(?&amp;lt;TAG&amp;gt;.+?)\&amp;gt; [^&amp;lt;]*? \&amp;lt;/\k&amp;lt;TAG&amp;gt;\&amp;gt;
or
   \&amp;lt;(.+?)\&amp;gt; [^&amp;lt;]*? \&amp;lt;/\1\&amp;gt;</code></pre>
<p>The first regex has a named group (TAG), while the second one uses a common group. Both regexes do the same thing: they use the value from the first group (the name of the tag) to match the closing tag. The difference is that the first one uses the name to match the value, and the second one uses the group index (which starts at 1).</p>
<p>Let’s try some substitutions now. Consider the following text:</p>
<pre class="regex"><code>Lorem ipsum dolor sit amet consectetuer feugiat fames malesuada pretium egestas.</code></pre>
<p>Now, let’s use this dumb regex over it:</p>
<pre class="regex"><code>\b(\S)(\S)(\S)(\S*)\b</code></pre>
<p>This regex matches words with at least 3 characters, and uses groups to separate the first three letters. The result is this:</p>
<pre class="regex"><code>Match &quot;Lorem&quot;
     Group 1: &quot;L&quot;
     Group 2: &quot;o&quot;
     Group 3: &quot;r&quot;
     Group 4: &quot;em&quot;
Match &quot;ipsum&quot;
     Group 1: &quot;i&quot;
     Group 2: &quot;p&quot;
     Group 3: &quot;s&quot;
     Group 4: &quot;um&quot;
...

Match &quot;consectetuer&quot;
     Group 1: &quot;c&quot;
     Group 2: &quot;o&quot;
     Group 3: &quot;n&quot;
     Group 4: &quot;sectetuer&quot;
...</code></pre>
<p>So, if we apply the substitution string:</p>
<pre class="regex"><code>$1_$3$2_$4</code></pre>
<p>… over it, we are trying to use the first group, add an underscore, use the third group, then the second group, add another underscore, and then the fourth group. The resulting string would be like the one below.</p>
<pre class="regex"><code>L_ro_em i_sp_um d_lo_or s_ti_ a_em_t c_no_sectetuer f_ue_giat f_ma_es m_la_esuada p_er_tium e_eg_stas.</code></pre>
<p>You can use named groups for substitutions too, using <code>${name}</code>.</p>
<p>To play around with regexes, I recommend <a href="http://regex101.com/" rel="noreferrer">http://regex101.com/</a>, which offers a good amount of details on how the regex works; it also offers a few regex engines to choose from.</p>
</section>
<section id="answer-2-score-161" class="level4">
<h4>Answer 2 (score 161)</h4>
<p>You can use capturing groups to organize and parse an expression. A non-capturing group has the first benefit, but doesn’t have the overhead of the second. You can still say a non-capturing group is optional, for example.</p>
<p>Say you want to match numeric text, but some numbers could be written as 1st, 2nd, 3rd, 4th,… If you want to capture the numeric part, but not the (optional) suffix you can use a non-capturing group.</p>
<pre class="regex"><code>([0-9]+)(?:st|nd|rd|th)?</code></pre>
<p>That will match numbers in the form 1, 2, 3… or in the form 1st, 2nd, 3rd,… but it will only capture the numeric part.</p>
</section>
<section id="answer-3-score-98" class="level4">
<h4>Answer 3 (score 98)</h4>
<p><code>?:</code> is used when you want to group an expression, but you do not want to save it as a matched/captured portion of the string.</p>
<p>An example would be something to match an IP address:</p>
<pre class="regex"><code>/(?:\d{1,3}\.){3}\d{1,3}/</code></pre>
<p>Note that I don’t care about saving the first 3 octets, but the <code>(?:...)</code> grouping allows me to shorten the regex without incurring the overhead of capturing and storing a match.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="using-string-format-to-show-decimal-up-to-2-places-or-simple-integer-score-641202-in-2017" class="level3">
<h3>23: Using String Format to show decimal up to 2 places or simple integer (score <a href="https://stackoverflow.com/q/6951335.html">641202</a> in 2017)</h3>
<section id="question-22" class="level4">
<h4>Question</h4>
<p>
I have got a price field to display which sometimes can be either 100 or 100.99 or 100.9, What I want is to display the price in 2 decimal places only if the decimals are entered for that price , for instance if its 100 so it should only show 100 not 100.00 and if the price is 100.2 it should display 100.20 similarly for 100.22 should be same . I googled and came across some examples but they didn’t match exactly what i wanted :
</p>
<pre class="regex"><code>// just two decimal places
String.Format(&quot;{0:0.00}&quot;, 123.4567);      // &quot;123.46&quot;
String.Format(&quot;{0:0.00}&quot;, 123.4);         // &quot;123.40&quot;
String.Format(&quot;{0:0.00}&quot;, 123.0);         // &quot;123.00&quot;</code></pre>
</section>
<section id="answer-accepted-score-140" class="level4">
<h4>Answer accepted (score 140)</h4>
<p>An inelegant way would be:</p>
<pre class="regex"><code>var my = DoFormat(123.0);</code></pre>
<p>With <code>DoFormat</code> being something like:</p>
<pre class="regex"><code>public static string DoFormat( double myNumber )
{
    var s = string.Format(&quot;{0:0.00}&quot;, myNumber);

    if ( s.EndsWith(&quot;00&quot;) )
    {
        return ((int)myNumber).ToString();
    }
    else
    {
        return s;
    }
}</code></pre>
<p>Not elegant but working for me in similar situations in some projects.</p>
</section>
<section id="answer-2-score-470" class="level4">
<h4>Answer 2 (score 470)</h4>
<p>Sorry for reactivating this question, but I didn’t find the right answer here.</p>
<p>In formatting numbers you can use <code>0</code> as a mandatory place and <code>#</code> as an optional place.</p>
<p><strong>So:</strong></p>
<pre class="regex"><code>// just two decimal places
String.Format(&quot;{0:0.##}&quot;, 123.4567);      // &quot;123.46&quot;
String.Format(&quot;{0:0.##}&quot;, 123.4);         // &quot;123.4&quot;
String.Format(&quot;{0:0.##}&quot;, 123.0);         // &quot;123&quot;</code></pre>
<p>You can also combine <code>0</code> with <code>#</code>.</p>
<pre class="regex"><code>String.Format(&quot;{0:0.0#}&quot;, 123.4567)       // &quot;123.46&quot;
String.Format(&quot;{0:0.0#}&quot;, 123.4)          // &quot;123.4&quot;
String.Format(&quot;{0:0.0#}&quot;, 123.0)          // &quot;123.0&quot;</code></pre>
<p>For this formating method is always used <code>CurrentCulture</code>. For some Cultures <code>.</code> will be changed to <code>,</code>.</p>
<h5>
Answer to original question:
</h2>
<p>The simpliest solution comes from <span class="citation" data-cites="Andrew">@Andrew</span> (<a href="https://stackoverflow.com/questions/6951335#33180829">here</a>). So I personally would use something like this:</p>
<pre class="regex"><code>var number = 123.46;
String.Format(number % 1 == 0 ? &quot;{0:0}&quot; : &quot;{0:0.00}&quot;, number)</code></pre>
</section>
<section id="answer-3-score-56" class="level4">
<h4>Answer 3 (score 56)</h4>
<p>This is a common formatting floating number use case.</p>
<p>
Unfortunately, all of the built-in one-letter format strings (eg. F, G, N) won’t achieve this directly.<br> For example, <code>num.ToString(&quot;F2&quot;)</code> will always show 2 decimal places like <code>123.40</code>.
</p>
<p>You’ll have to use <strong><code>0.##</code></strong> pattern even it looks a little verbose.</p>
<p>A complete code example:</p>
<pre class="regex"><code>double a = 123.4567;
double b = 123.40;
double c = 123.00;

string sa = a.ToString(&quot;0.##&quot;); // 123.46
string sb = b.ToString(&quot;0.##&quot;); // 123.4
string sc = c.ToString(&quot;0.##&quot;); // 123</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-match-all-characters-between-two-strings-score-638223-in-2016" class="level3">
<h3>24: Regex Match all characters between two strings (score <a href="https://stackoverflow.com/q/6109882.html">638223</a> in 2016)</h3>
<section id="question-23" class="level4">
<h4>Question</h4>
<p>
Example: “This is justsimple sentence”.
</p>
<p>I want to match every character between “This is” and “sentence”. Line breaks should be ignored. I can’t figure out the correct syntax.</p>
</section>
<section id="answer-accepted-score-541" class="level4">
<h4>Answer accepted (score 541)</h4>
<p>For example</p>
<pre class="regex"><code>(?&amp;lt;=This is)(.*)(?=sentence)</code></pre>
<p><a href="http://regexr.com?2tr28" rel="noreferrer">Regexr</a></p>
<p>I used lookbehind <code>(?&amp;lt;=)</code> and look ahead <code>(?=)</code> so that “This is” and “sentence” is not included in the match, but this is up to your use case, you can also simply write <code>This is(.*)sentence</code>.</p>
<p>The important thing here is that you activate the “dotall” mode of your regex engine, so that the <code>.</code> is matching the newline. But how you do this depends on your regex engine.</p>
<p>The next thing is if you use <code>.*</code> or <code>.*?</code>. The first one is greedy and will match till the last “sentence” in your string, the second one is lazy and will match till the next “sentence” in your string.</p>
<p><strong>Update</strong></p>
<p><a href="http://gskinner.com/RegExr/?2tr2n" rel="noreferrer">Regexr</a></p>
<pre class="regex"><code>This is(?s)(.*)sentence</code></pre>
<p>Where the (?s) turns on the dotall modifier, making the <code>.</code> matching the newline characters.</p>
<p><strong>Update 2:</strong></p>
<pre class="regex"><code>(?&amp;lt;=is \()(.*?)(?=\s*\))</code></pre>
<p>is matching your example “This is (a simple) sentence”. See here on <a href="http://regexr.com?2tr5t" rel="noreferrer">Regexr</a></p>
</section>
<section id="answer-2-score-159" class="level4">
<h4>Answer 2 (score 159)</h4>
<h5>
Lazy Quantifier Needed
</h2>
<p>Resurrecting this question because the regex in the accepted answer doesn’t seem quite correct to me. Why? Because</p>
<pre class="regex"><code>(?&amp;lt;=This is)(.*)(?=sentence)</code></pre>
<p>will match <code>my first sentence. This is my second</code> in <code>This is my first sentence. This is my second sentence.</code></p>
<p><a href="http://regex101.com/r/eZ1gT7/6"><strong>See demo</strong></a>.</p>
<p>You need a lazy quantifier between the two lookarounds. Adding a <code>?</code> makes the star lazy.</p>
<p>This matches what you want:</p>
<pre class="regex"><code>(?&amp;lt;=This is).*?(?=sentence)</code></pre>
<p><a href="http://regex101.com/r/eZ1gT7/5">See demo</a>. I removed the capture group, which was not needed.</p>
<p><strong>DOTALL Mode to Match Across Line Breaks</strong></p>
<p>Note that in the demo the “dot matches line breaks mode” (a.k.a.) dot-all is set (see <a href="http://www.rexegg.com/regex-modifiers.html#dotall">how to turn on DOTALL in various languages</a>). In many regex flavors, you can set it with the online modifier <code>(?s)</code>, turning the expression into:</p>
<pre class="regex"><code>(?s)(?&amp;lt;=This is).*?(?=sentence)</code></pre>
<hr>
<p><strong>Reference</strong></p>
<ul>
<li>
<a href="http://www.rexegg.com/regex-greed.html">The Many Degrees of Regex Greed</a>
</li>
<li>
<a href="http://www.regular-expressions.info/repeat.html">Repetition with Star and Plus</a>
</li>
</ul>
</section>
<section id="answer-3-score-37-1" class="level4">
<h4>Answer 3 (score 37)</h4>
<p>Try <code>This is[\s\S]*sentence</code>, works in javascript</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-check-whether-a-string-contains-only-numbers-score-633360-in-2018" class="level3">
<h3>25: Regex to check whether a string contains only numbers (score <a href="https://stackoverflow.com/q/9011524.html">633360</a> in 2018)</h3>
<section id="question-24" class="level4">
<h4>Question</h4>
<pre class="regex"><code>hash = window.location.hash.substr(1);
var reg = new RegExp(&#39;^[0-9]$&#39;);
console.log(reg.test(hash));</code></pre>
<p>I get false on both <code>&quot;123&quot;</code> and <code>&quot;123f&quot;</code>. I would like to check if the hash only contains numbers. Did I miss something?</p>
</section>
<section id="answer-accepted-score-452" class="level4">
<h4>Answer accepted (score 452)</h4>
<pre class="regex"><code>var reg = /^\d+$/;</code></pre>
<p>should do it. The original matches anything that consists of exactly one digit.</p>
</section>
<section id="answer-2-score-92" class="level4">
<h4>Answer 2 (score 92)</h4>
<p>As you said, you want hash to contain only numbers.</p>
<pre class="regex"><code>var reg = new RegExp(&#39;^[0-9]+$&#39;);</code></pre>
<p>or</p>
<pre class="regex"><code>var reg = new RegExp(&#39;^\\d+$&#39;);</code></pre>
<p>
<code>\d</code> and <code>[0-9]</code> both mean the same thing. The + used means that search for one or more occurring of [0-9].
</p>
</section>
<section id="answer-3-score-64" class="level4">
<h4>Answer 3 (score 64)</h4>
<p>This one will allow also for signed and float numbers or empty string:</p>
<pre class="regex"><code>var reg = /^-?\d*\.?\d*$/</code></pre>
<p>If you don’t want allow to empty string use this one:</p>
<pre class="regex"><code>var reg = /^-?\d+\.?\d*$/</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-negate-specific-word-in-regex-score-626264-in-2016" class="level3">
<h3>26: How to negate specific word in regex? (score <a href="https://stackoverflow.com/q/1240275.html">626264</a> in 2016)</h3>
<section id="question-25" class="level4">
<h4>Question</h4>
<p>I know that I can negate group of chars as in <code>[^bar]</code> but I need a regular expression where negation applies to the specific word - so in my example how do I negate an actual <code>&quot;bar&quot;</code> and not <code>&quot;any chars in bar&quot;</code>?</p>
</section>
<section id="answer-accepted-score-641" class="level4">
<h4>Answer accepted (score 641)</h4>
<p>A great way to do this is to use <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">negative lookahead</a>:</p>
<pre class="regex"><code>^(?!.*bar).*$</code></pre>
<blockquote>
The negative lookahead construct is the pair of parentheses, with the opening parenthesis followed by a question mark and an exclamation point. Inside the lookahead [is any regex pattern].
</blockquote>
</section>
<section id="answer-2-score-60" class="level4">
<h4>Answer 2 (score 60)</h4>
<p>Unless performance is of utmost concern, it’s often easier just to run your results through a second pass, skipping those that match the words you want to negate.</p>
<p>Regular expressions usually mean you’re doing scripting or some sort of low-performance task anyway, so find a solution that is easy to read, easy to understand and easy to maintain.</p>
</section>
<section id="answer-3-score-44" class="level4">
<h4>Answer 3 (score 44)</h4>
<p>The following regex will do what you want (as long as negative lookbehinds and lookaheads are supported), matching things properly; the only problem is that it matches individual characters (i.e. each match is a single character rather than all characters between two consecutive “bar”s), possibly resulting in a potential for high overhead if you’re working with very long strings.</p>
<pre class="regex"><code>b(?!ar)|(?&amp;lt;!b)a|a(?!r)|(?&amp;lt;!ba)r|[^bar]</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-match-only-letters-score-623756-in-2018" class="level3">
<h3>27: Regex to match only letters (score <a href="https://stackoverflow.com/q/3617797.html">623756</a> in 2018)</h3>
<section id="question-26" class="level4">
<h4>Question</h4>
<p>How can I write a regex that matches only letters?</p>
</section>
<section id="answer-2-score-357" class="level4">
<h4>Answer 2 (score 357)</h4>
<p>Use a character set: <code>[a-zA-Z]</code> matches one letter from A–Z in lowercase and uppercase. <code>[a-zA-Z]+</code> matches one or more letters and <code>^[a-zA-Z]+$</code> matches only strings that consist of one or more letters only (<code>^</code> and <code>$</code> mark the begin and end of a string respectively).</p>
<p>If you want to match other letters than A–Z, you can either add them to the character set: <code>[a-zA-ZäöüßÄÖÜ]</code>. Or you use predefined character classes like the <a href="http://www.regular-expressions.info/unicode.html#prop" rel="noreferrer">Unicode character property</a> class <code>\p{L}</code> that describes the Unicode characters that are letters.</p>
</section>
<section id="answer-3-score-177" class="level4">
<h4>Answer 3 (score 177)</h4>
<p><code>\p{L}</code> matches anything that is a Unicode letter if you’re interested in alphabets beyond the Latin one</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="split-string-on-whitespace-in-python-score-603894-in-2015" class="level3">
<h3>28: Split string on whitespace in Python (score <a href="https://stackoverflow.com/q/8113782.html">603894</a> in 2015)</h3>
<section id="question-27" class="level4">
<h4>Question</h4>
<p>I’m looking for the Python equivalent of</p>
<pre class="regex"><code>String str = &quot;many   fancy word \nhello    \thi&quot;;
String whiteSpaceRegex = &quot;\\s&quot;;
String[] words = str.split(whiteSpaceRegex);

[&quot;many&quot;, &quot;fancy&quot;, &quot;word&quot;, &quot;hello&quot;, &quot;hi&quot;]</code></pre>
</section>
<section id="answer-accepted-score-745" class="level4">
<h4>Answer accepted (score 745)</h4>
<p>The <code>str.split()</code> method without an argument splits on whitespace:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; &quot;many   fancy word \nhello    \thi&quot;.split()
[&#39;many&#39;, &#39;fancy&#39;, &#39;word&#39;, &#39;hello&#39;, &#39;hi&#39;]</code></pre>
</section>
<section id="answer-2-score-63" class="level4">
<h4>Answer 2 (score 63)</h4>
<pre class="regex"><code>import re
s = &quot;many   fancy word \nhello    \thi&quot;
re.split(&#39;\s+&#39;, s)</code></pre>
</section>
<section id="answer-3-score-14-1" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>Another method through <code>re</code> module. It does the reverse operation of matching all the words instead of spitting the whole sentence by space.</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; import re
&amp;gt;&amp;gt;&amp;gt; s = &quot;many   fancy word \nhello    \thi&quot;
&amp;gt;&amp;gt;&amp;gt; re.findall(r&#39;\S+&#39;, s)
[&#39;many&#39;, &#39;fancy&#39;, &#39;word&#39;, &#39;hello&#39;, &#39;hi&#39;]</code></pre>
<p>Above regex would match one or more non-space characters.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="simple-regular-expression-for-a-decimal-with-a-precision-of-2-score-593074-in-2012" class="level3">
<h3>29: Simple regular expression for a decimal with a precision of 2 (score <a href="https://stackoverflow.com/q/308122.html">593074</a> in 2012)</h3>
<section id="question-28" class="level4">
<h4>Question</h4>
<p>What is the regular expression for a decimal with a precision of 2?</p>
<p><em>Valid examples</em>:</p>
<pre class="regex"><code>123.12
2
56754
92929292929292.12
0.21
3.1</code></pre>
<p><em>Invalid examples:</em></p>
<pre class="regex"><code>12.1232
2.23332
e666.76</code></pre>
<p>The decimal point may be optional, and integers may also be included.</p>
</section>
<section id="answer-accepted-score-376" class="level4">
<h4>Answer accepted (score 376)</h4>
<p>Valid regex tokens vary by implementation. The most generic form that I know of would be:</p>
<pre class="regex"><code>[0-9]+(\.[0-9][0-9]?)?</code></pre>
<p>The most compact:</p>
<pre class="regex"><code>\d+(\.\d{1,2})?</code></pre>
<p>Both assume that you must have both at least one digit before and one after the decimal place.</p>
<p>To require that the whole string is a number of this form, wrap the expression in start and end tags such as (in Perl’s form):</p>
<pre class="regex"><code>^\d+(\.\d{1,2})?$</code></pre>
<p><strong>ADDED:</strong> Wrapped the fractional portion in ()? to make it optional. Be aware that this excludes forms such as “12.” Including that would be more like <code>^\d+\.?\d{0,2}$</code>.</p>
<p>
<strong>Added:</strong> Use this format <code>^\d{1,6}(\.\d{1,2})?$</code> to stop repetition and give a restriction to whole part of the decimal value.
</p>
</section>
<section id="answer-2-score-262" class="level4">
<h4>Answer 2 (score 262)</h4>
<pre class="regex"><code>^[0-9]+(\.[0-9]{1,2})?$</code></pre>
<p>And since regular expressions are horrible to read, much less understand, here is the verbose equivalent:</p>
<pre class="regex"><code>^                         # Start of string
 [0-9]+                   # Require one or more numbers
       (                  # Begin optional group
        \.                # Point must be escaped or it is treated as &quot;any character&quot;
          [0-9]{1,2}      # One or two numbers
                    )?    # End group--signify that it&#39;s optional with &quot;?&quot;
                      $   # End of string</code></pre>
<p>You can replace <code>[0-9]</code> with <code>\d</code> in most regular expression implementations (including <a href="http://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions" rel="noreferrer">PCRE</a>, the most common). I’ve left it as <code>[0-9]</code> as I think it’s easier to read.</p>
<p>Also, here is the simple Python script I used to check it:</p>
<pre class="regex"><code>import re
deci_num_checker = re.compile(r&quot;&quot;&quot;^[0-9]+(\.[0-9]{1,2})?$&quot;&quot;&quot;)

valid = [&quot;123.12&quot;, &quot;2&quot;, &quot;56754&quot;, &quot;92929292929292.12&quot;, &quot;0.21&quot;, &quot;3.1&quot;]
invalid = [&quot;12.1232&quot;, &quot;2.23332&quot;, &quot;e666.76&quot;]

assert len([deci_num_checker.match(x) != None for x in valid]) == len(valid)
assert [deci_num_checker.match(x) == None for x in invalid].count(False) == 0</code></pre>
</section>
<section id="answer-3-score-20" class="level4">
<h4>Answer 3 (score 20)</h4>
<p>To include an optional minus sign and to disallow numbers like <code>015</code> (which can be mistaken for octal numbers) write:</p>
<pre class="regex"><code>-?(0|([1-9]\d*))(\.\d+)?</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-is-the-andor-operator-represented-as-in-regular-expressions-score-590059-in-2019" class="level3">
<h3>30: How is the AND/OR operator represented as in Regular Expressions? (score <a href="https://stackoverflow.com/q/8020848.html">590059</a> in 2019)</h3>
<section id="question-29" class="level4">
<h4>Question</h4>
<p>
I’m currently programming a vocabulary algorithm that checks if a user has typed in the word correctly. I have the following situation: The correct solution for the word would be “part1, part2”. The user should be able to enter either “part1” (answer 1), “part2” (answer 2) or “part1, part2” (answer 3). I now try to match the string given by the user with the following, automatically created, regex expression:
</p>
<pre class="regex"><code>^(part1|part2)$</code></pre>
<p>This only returns answer 1 and 2 as correct while answer 3 would be wrong. I’m now wondering whether there’s an operator similar to | that says <code>and/or</code> instead of <code>either...or</code>.</p>
<p>May anyone help me solve this problem?</p>
</section>
<section id="answer-accepted-score-260" class="level4">
<h4>Answer accepted (score 260)</h4>
<p>I’m going to assume you want to build a the regex dynamically to contain other words than part1 and part2, and that you want order not to matter. If so you can use something like this:</p>
<pre class="regex"><code>((^|, )(part1|part2|part3))+$</code></pre>
<p>Positive matches:</p>
<pre class="regex"><code>part1
part2, part1
part1, part2, part3</code></pre>
<p>Negative matches:</p>
<pre class="regex"><code>part1,           //with and without trailing spaces.
part3, part2, 
otherpart1</code></pre>
</section>
<section id="answer-2-score-25" class="level4">
<h4>Answer 2 (score 25)</h4>
<pre class="regex"><code>&#39;^(part1|part2|part1,part2)$&#39;</code></pre>
<p>does it work?</p>
</section>
<section id="answer-3-score-5" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>Does this work without alternation?</p>
<pre class="regex"><code>^((part)1(, \22)?)?(part2)?$</code></pre>
<p>or why not this?</p>
<pre class="regex"><code>^((part)1(, (\22))?)?(\4)?$</code></pre>
<p>The first works for all conditions the second for all but <code>part2</code>(using GNU sed 4.1.5)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-match-anything-up-until-this-sequence-of-characters-in-a-regular-expression-score-570881-in" class="level3">
<h3>31: How to match “anything up until this sequence of characters” in a regular expression? (score <a href="https://stackoverflow.com/q/7124778.html">570881</a> in )</h3>
<section id="question-30" class="level4">
<h4>Question</h4>
<p>Take this regular expression: <code>/^[^abc]/</code>. This will match any single character at the beginning of a string, except a, b, or c.</p>
<p>If you add a <code>*</code> after it – <code>/^[^abc]*/</code> – the regular expression will continue to add each subsequent character to the result, until it meets either an <code>a</code>, <strong>or</strong> <code>b</code>, <strong>or</strong> <code>c</code>.</p>
<p>For example, with the source string <code>&quot;qwerty qwerty whatever abc hello&quot;</code>, the expression will match up to <code>&quot;qwerty qwerty wh&quot;</code>.</p>
<p>But what if I wanted the matching string to be <code>&quot;qwerty qwerty whatever &quot;</code></p>
<p>…In other words, how can I match everything up to (but not including) the <em>exact sequence</em> <code>&quot;abc&quot;</code>?</p>
</section>
<section id="answer-accepted-score-884" class="level4">
<h4>Answer accepted (score 884)</h4>
<p>
You didn’t specify which flavor of regex you’re using, but this will work in any of the most popular ones that can be considered “complete”.
</p>
<pre class="regex"><code>/.+?(?=abc)/</code></pre>
<h5>
How it works
</h3>
<p>
The <code>.+?</code> part is the un-greedy version of <code>.+</code> (one or more of anything). When we use <code>.+</code>, the engine will basically match everything. Then, if there is something else in the regex it will go back in steps trying to match the following part. This is the <strong>greedy</strong> behavior, meaning <strong>as much as possible to satisfy</strong>.
</p>
<p>
When using <code>.+?</code>, instead of matching all at once and going back for other conditions (if any), the engine will match the next characters by step until the subsequent part of the regex is matched (again if any). This is the <strong>un-greedy</strong>, meaning match <strong>the fewest possible to satisfy</strong>.
</p>
<pre class="regex"><code>/.+X/  ~ &quot;abcXabcXabcX&quot;        /.+/  ~ &quot;abcXabcXabcX&quot;
          ^^^^^^^^^^^^                  ^^^^^^^^^^^^

/.+?X/ ~ &quot;abcXabcXabcX&quot;        /.+?/ ~ &quot;abcXabcXabcX&quot;
          ^^^^                          ^</code></pre>
<p>
Following that we have <code>(?=</code><strong><code>{contents}</code></strong><code>)</code>, a <em>zero width assertion</em>, a <em>look around</em>. This grouped construction matches its contents, but does not count as characters matched (<strong>zero width</strong>). It only returns if it is a match or not (<strong>assertion</strong>).
</p>
<p>Thus, in other terms the regex <code>/.+?(?=abc)/</code> means:</p>
<blockquote>
<p>
Match any characters as few as possible until a “abc” is found, without counting the “abc”.
</p>
</blockquote>
</section>
<section id="answer-2-score-104" class="level4">
<h4>Answer 2 (score 104)</h4>
<p>If you’re looking to capture everything up to “abc”:</p>
<pre class="regex"><code>/^(.*?)abc/</code></pre>
<p>Explanation:</p>
<p><code>( )</code> capture the expression inside the parentheses for access using <code>$1</code>, <code>$2</code>, etc.</p>
<p><code>^</code> match start of line</p>
<p><code>.*</code> match anything, <code>?</code> non-greedily (match the minimum number of characters required) - [1]</p>
<p>[1] The reason why this is needed is that otherwise, in the following string:</p>
<pre class="regex"><code>whatever whatever something abc something abc</code></pre>
<p>by default, regexes are <em>greedy</em>, meaning it will match as much as possible. Therefore <code>/^.*abc/</code> would match “whatever whatever something abc something”. Adding the non-greedy quantifier <code>?</code> makes the regex only match “whatever whatever something”.</p>
</section>
<section id="answer-3-score-38" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>As <span class="citation" data-cites="Jared">@Jared</span> Ng and <span class="citation" data-cites="Issun">@Issun</span> pointed out, the key to solve this kind of RegEx like “matching everything up to a certain word or substring” or “matching everything after a certain word or substring” is called “lookaround” zero-length assertions. <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">Read more about them here.</a></p>
<p>In your particular case, it can be solved by a positive look ahead. A picture is worth a thousand words. See the detail explanation in the screenshot.</p>
<p><a href="https://i.stack.imgur.com/cxm8d.png" rel="noreferrer"><img src="https://i.stack.imgur.com/cxm8d.png" alt="Regex101 Screenshot"></a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-extract-a-substring-using-regex-score-570678-in-2014" class="level3">
<h3>32: How to extract a substring using regex (score <a href="https://stackoverflow.com/q/4662215.html">570678</a> in 2014)</h3>
<section id="question-31" class="level4">
<h4>Question</h4>
<p>I have a string that has two single quotes in it, the <code>'</code> character. In between the single quotes is the data I want.</p>
<p>How can I write a regex to extract “the data i want” from the following text?</p>
<pre class="regex"><code>mydata = &quot;some string with &#39;the data i want&#39; inside&quot;;</code></pre>
</section>
<section id="answer-accepted-score-511-1" class="level4">
<h4>Answer accepted (score 511)</h4>
<p>Assuming you want the part between single quotes, use this regular expression with a <a href="http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html" rel="noreferrer"><code>Matcher</code></a>:</p>
<pre class="regex"><code>&quot;&#39;(.*?)&#39;&quot;</code></pre>
<p>Example:</p>
<pre class="regex"><code>String mydata = &quot;some string with &#39;the data i want&#39; inside&quot;;
Pattern pattern = Pattern.compile(&quot;&#39;(.*?)&#39;&quot;);
Matcher matcher = pattern.matcher(mydata);
if (matcher.find())
{
    System.out.println(matcher.group(1));
}</code></pre>
<p>Result:</p>
<pre>
the data i want
</pre>
</section>
<section id="answer-2-score-63-1" class="level4">
<h4>Answer 2 (score 63)</h4>
<p>You don’t need regex for this.</p>
<p>Add apache commons lang to your project (<a href="http://commons.apache.org/proper/commons-lang/" rel="noreferrer">http://commons.apache.org/proper/commons-lang/</a>), then use:</p>
<pre class="regex"><code>String dataYouWant = StringUtils.substringBetween(mydata, &quot;&#39;&quot;);</code></pre>
</section>
<section id="answer-3-score-11" class="level4">
<h4>Answer 3 (score 11)</h4>
<pre class="regex"><code>import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Test {
    public static void main(String[] args) {
        Pattern pattern = Pattern.compile(&quot;.*&#39;([^&#39;]*)&#39;.*&quot;);
        String mydata = &quot;some string with &#39;the data i want&#39; inside&quot;;

        Matcher matcher = pattern.matcher(mydata);
        if(matcher.matches()) {
            System.out.println(matcher.group(1));
        }

    }
}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-ignore-case-sensitivity-score-569767-in-2017" class="level3">
<h3>33: Regex: ignore case sensitivity (score <a href="https://stackoverflow.com/q/9655164.html">569767</a> in 2017)</h3>
<section id="question-32" class="level4">
<h4>Question</h4>
<p>How can I make the following regex ignore case sensitivity? It should match all the correct characters but ignore whether they are lower or uppercase.</p>
<pre class="regex"><code>G[a-b].*</code></pre>
</section>
<section id="answer-accepted-score-363" class="level4">
<h4>Answer accepted (score 363)</h4>
<p>Assuming you want the <strong>whole</strong> regex to ignore case, you should look for the <a href="http://www.regular-expressions.info/modifiers.html"><code>i</code> flag</a>. Nearly all regex engines support it:</p>
<pre class="regex"><code>/G[a-b].*/i

string.match(&quot;G[a-b].*&quot;, &quot;i&quot;)</code></pre>
<p>Check the documentation for your language/platform/tool to find how the matching modes are specified.</p>
<p>If you want only <strong>part</strong> of the regex to be case insensitive (as my original answer presumed), then you have two options:</p>
<ol>
<li>
<p>
Use the <code>(?i)</code> and [optionally] <code>(?-i)</code> mode modifiers:
</p>
<code>regex (?i)G[a-b](?-i.html).*</code>
</li>
<li>
<p>
Put all the variations (i.e. lowercase and uppercase) in the regex - useful if mode modifiers are not supported:
</p>
<code>regex [gG][a-bA-B].*</code>
</li>
</ol>
<p>One last note: if you’re dealing with Unicode characters besides ASCII, check whether or not your regex engine properly supports them.</p>
</section>
<section id="answer-2-score-120" class="level4">
<h4>Answer 2 (score 120)</h4>
<p>
Depends on implementation but I would use
</p>
<pre class="regex"><code>(?i)G[a-b].</code></pre>
<p><strong>VARIATIONS:</strong></p>
<pre class="regex"><code>(?i) case-insensitive mode ON    
(?-i) case-insensitive mode OFF</code></pre>
<p>Modern regex flavors allow you to apply modifiers to only part of the regular expression. If you insert the modifier (?im) in the middle of the regex then the modifier only applies to the part of the regex to the right of the modifier. With these flavors, you can turn off modes by preceding them with a minus sign (?-i).</p>
<p>
Description is from the page: <a href="https://www.regular-expressions.info/modifiers.html" rel="noreferrer">https://www.regular-expressions.info/modifiers.html</a>
</p>
</section>
<section id="answer-3-score-46" class="level4">
<h4>Answer 3 (score 46)</h4>
<p>regular expression for validate ‘abc’ ignoring case sensitive</p>
<pre class="regex"><code>(?i)(abc)</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-crlf-in-notepad-score-548272-in-2018" class="level3">
<h3>34: Find CRLF in Notepad++ (score <a href="https://stackoverflow.com/q/133965.html">548272</a> in 2018)</h3>
<section id="question-33" class="level4">
<h4>Question</h4>
<p>How can I find/replace all CR/LF characters in Notepad++?</p>
<p>I am looking for something equivalent to the ^p special character in Microsoft Word.</p>
</section>
<section id="answer-accepted-score-398" class="level4">
<h4>Answer accepted (score 398)</h4>
<p><strong><code>[\r\n]+</code></strong> should work too</p>
<p>Update March, 26th 2012, release date of <strong><a href="http://notepad-plus-plus.org/news/notepad-6.0-release.html" rel="noreferrer">Notepad++ 6.0</a></strong>:</p>
<p>OMG, it actually does work now!!!</p>
<p><img src="https://i.stack.imgur.com/ZiyXX.png" alt="PCRE regexp in Notepad++"></p>
<hr>
<p>Original answer 2008 (Notepad++ 4.x) - 2009-2010-2011 (Notepad++ 5.x)</p>
<p>Actually no, it does not seem to work with regexp…</p>
<p>But if you have Notepad++ 5.x, you can use the ‘<strong>extended</strong>’ search mode and look for <code>\r\n</code>. That does find all your <code>CRLF</code>.</p>
<p>(I realize this is the same answer than the others, but again, ‘extended mode’ is only available with Notepad++ 4.9, 5.x and more)</p>
<hr>
<p>
Since April 2009, you have a wiki article on the Notepad++ site on this topic:<br> “<strong><a href="http://sourceforge.net/apps/mediawiki/notepad-plus/index.php?title=Replacing_Newlines" rel="noreferrer">How To Replace Line Ends, thus changing the line layout</a></strong>”.<br> (mentioned by <a href="https://stackoverflow.com/users/467509/georgiecasey">georgiecasey</a> in his/her <a href="https://stackoverflow.com/questions/133965/find-crlf-in-notepad/4608574#4608574">answer below</a>)
</p>
<p>Some relevant extracts includes the following search processes:</p>
<blockquote>
<h5>
Simple search (<kbd>Ctrl</kbd>+<kbd>F</kbd>), Search Mode = <code>Normal</code>
</h3>
<p>You can select an <code>EOL</code> in the editing window.</p>
<ul>
<li>
Just move the cursor to the end of the line, and type <kbd>Shift</kbd>+<kbd>Right</kbd> Arrow.
</li>
<li>
or, to select <code>EOL</code> with the mouse, start just at the line end and drag to the start of the next line; dragging to the right of the <code>EOL</code> won’t work. You can manually copy the <code>EOL</code> and paste it into the field for Unix files (<code>LF</code>-only).
</li>
</ul>
<h5>
Simple search (Ctrl+F), Search Mode = Extended
</h3>
<p>
The “Extended” option shows <code>\n</code> and <code>\r</code> as characters that could be matched.<br> As with the Normal search mode, Notepad++ is looking for the exact character.<br> Searching for <code>\r</code> in a UNIX-format file will not find anything, but searching for <code>\n</code> will. Similarly, a Macintosh-format file will contain <code>\r</code> but not <code>\n</code>.
</p>
<h5>
Simple search (Ctrl+F), Search Mode = Regular expression
</h3>
<p>
Regular expressions use the characters <code>^</code> and <code>$</code> to anchor the match string to the beginning or end of the line. For instance, searching for <code>return;$</code> will find occurrences of “return;” that occur with no subsequent text on that same line. The anchor characters work identically in all file formats.<br> The ‘.’ dot metacharacter does not match line endings.
</p>
<p>
[Tested in Notepad++ 5.8.5]: <strong>a regular expression search with an explicit <code>\r</code> or <code>\n</code> does not work (contrary to the <a href="http://www.scintilla.org/ScintillaDoc.html" rel="noreferrer">Scintilla documentation</a>)</strong>.<br> Neither does a search on an explicit (pasted) LF, or on the (invisible) EOL characters placed in the field when an EOL is selected. Advanced search (<kbd>Ctrl</kbd>+<kbd>R</kbd>) without regexp
</p>
<p>
<kbd>Ctrl</kbd>+<kbd>M</kbd> will insert something that matches newlines. They will be replaced by the replace string.<br> I recommend this method as the most reliable, unless you really need to use regex.<br> As an example, to remove every second newline in a double spaced file, enter <kbd>Ctrl</kbd>+<kbd>M</kbd> twice in the search string box, and once in the replace string box.
</p>
<h5>
Advanced search (<kbd>Ctrl</kbd>+<kbd>R</kbd>) with Regexp.
</h3>
Neither <kbd>Ctrl</kbd>+<kbd>M</kbd>, <code>$</code> nor <code>\r\n</code> are matched.<br />

</blockquote>
<hr>
<p>The same wiki also mentions the <strong>Hex editor alternative</strong>:</p>
<blockquote>
<ul>
<li>
Type the new string at the beginning of the document.
</li>
<li>
Then select to <strong>view the document in Hex mode</strong>.
</li>
<li>
Select one of the new lines and hit <kbd>Ctrl</kbd>+<kbd>H</kbd>.
</li>
<li>
While you have the Replace dialog box up, select on the background the new replacement string and <kbd>Ctrl</kbd>+<kbd>C</kbd> copy it to paste it in the Replace with text input.
</li>
<li>
Then Replace or Replace All as you wish.
</li>
</ul>
<p>
Note: the character selected for new line usually appears as <strong><code>0a</code></strong>.<br> It may have a different value if the file is in Windows Format. In that case you can always go to <code>Edit -&amp;gt; EOL Conversion -&amp;gt; Convert to Unix Format</code>, and after the replacement switch it back and <code>Edit -&amp;gt; EOL Conversion -&amp;gt; Convert to Windows Format</code>.
</p>
</blockquote>
</section>
<section id="answer-2-score-22" class="level4">
<h4>Answer 2 (score 22)</h4>
<p>It appears that this is a <a href="http://notepad-plus.sourceforge.net/uk/newlineFindReplace-HOWTO.php" rel="noreferrer">FAQ</a>, and the resolution offered is:</p>
<blockquote>
<p><strong>Simple search (Ctrl+H) without regexp</strong></p>
<p>
You can turn on View/Show End of Line or view/Show All, and select the now visible newline characters. Then when you start the command some characters matching the newline character will be pasted into the search field. Matches will be replaced by the replace string, unlike in regex mode.
</p>
<p>
Note 1: If you select them with the mouse, start just before them and drag to the start of the next line. Dragging to the end of the line won’t work.
</p>
<p>
Note 2: You can’t copy and paste them into the field yourself.
</p>
<p><strong>Advanced search (Ctrl+R) without regexp</strong></p>
Ctrl+M will insert something that matches newlines. They will be replaced by the replace string.
</blockquote>
</section>
<section id="answer-3-score-10" class="level4">
<h4>Answer 3 (score 10)</h4>
<p>On the Replace dialog, you want to set the search mode to “Extended”. Normal or Regular Expression modes wont work.</p>
<p>Then just find “” (or just for unix files or just for mac format files), and set the replace to whatever you want.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-a-good-regular-expression-to-match-a-url-score-534454-in-2012" class="level3">
<h3>35: What is a good regular expression to match a URL? (score <a href="https://stackoverflow.com/q/3809401.html">534454</a> in 2012)</h3>
<section id="question-34" class="level4">
<h4>Question</h4>
<p>Currently I have an input box which will detect the URL and parse the data.</p>
<p>So right now, I am using:</p>
<pre class="regex"><code>var urlR = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)
           (?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;
var url= content.match(urlR);</code></pre>
<p>The problem is, when I enter a URL like <code>www.google.com</code>, its not working. when I entered <code>http://www.google.com</code>, it is working.</p>
<p>I am not very fluent in regular expressions. Can anyone help me?</p>
</section>
<section id="answer-2-score-492" class="level4">
<h4>Answer 2 (score 492)</h4>
<p>Regex if you want to ensure URL starts with HTTP/HTTPS:</p>
<pre class="regex"><code>https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&amp;amp;//=]*)</code></pre>
<p>If you do not require HTTP protocol:</p>
<pre class="regex"><code>[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&amp;amp;//=]*)</code></pre>
<p>To try this out see <a href="http://regexr.com?37i6s" rel="noreferrer">http://regexr.com?37i6s</a>, or for a version which is less restrictive <a href="http://regexr.com/3e6m0" rel="noreferrer">http://regexr.com/3e6m0</a>.</p>
<p>Example JavaScript implementation:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var expression = /[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&amp;amp;//=]*)?/gi;
var regex = new RegExp(expression);
var t = &#39;www.google.com&#39;;

if (t.match(regex)) {
  alert(&quot;Successful match&quot;);
} else {
  alert(&quot;No match&quot;);
}</code></pre>
</div>
</div>
</section>
<section id="answer-3-score-169" class="level4">
<h4>Answer 3 (score 169)</h4>
<pre class="regex"><code>(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})</code></pre>
<p>Will match the following cases</p>
<ul>
<li>
<code>http://www.foufos.gr</code>
</li>
<li>
<code>https://www.foufos.gr</code>
</li>
<li>
<code>http://foufos.gr</code>
</li>
<li>
<code>http://www.foufos.gr/kino</code>
</li>
<li>
<code>http://werer.gr</code>
</li>
<li>
<code>www.foufos.gr</code>
</li>
<li>
<code>www.mp3.com</code>
</li>
<li>
<code>www.t.co</code>
</li>
<li>
<code>http://t.co</code>
</li>
<li>
<code>http://www.t.co</code>
</li>
<li>
<code>https://www.t.co</code>
</li>
<li>
<code>www.aa.com</code>
</li>
<li>
<code>http://aa.com</code>
</li>
<li>
<code>http://www.aa.com</code>
</li>
<li>
<code>https://www.aa.com</code>
</li>
</ul>
<p>Will NOT match the following</p>
<ul>
<li>
<code>www.foufos</code>
</li>
<li>
<code>www.foufos-.gr</code>
</li>
<li>
<code>www.-foufos.gr</code>
</li>
<li>
<code>foufos.gr</code>
</li>
<li>
<code>http://www.foufos</code>
</li>
<li>
<code>http://foufos</code>
</li>
<li>
<code>www.mp3#.com</code>
</li>
</ul>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var expression = /(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi;
var regex = new RegExp(expression);

var check = [
  &#39;http://www.foufos.gr&#39;,
  &#39;https://www.foufos.gr&#39;,
  &#39;http://foufos.gr&#39;,
  &#39;http://www.foufos.gr/kino&#39;,
  &#39;http://werer.gr&#39;,
  &#39;www.foufos.gr&#39;,
  &#39;www.mp3.com&#39;,
  &#39;www.t.co&#39;,
  &#39;http://t.co&#39;,
  &#39;http://www.t.co&#39;,
  &#39;https://www.t.co&#39;,
  &#39;www.aa.com&#39;,
  &#39;http://aa.com&#39;,
  &#39;http://www.aa.com&#39;,
  &#39;https://www.aa.com&#39;,
  &#39;www.foufos&#39;,
  &#39;www.foufos-.gr&#39;,
  &#39;www.-foufos.gr&#39;,
  &#39;foufos.gr&#39;,
  &#39;http://www.foufos&#39;,
  &#39;http://foufos&#39;,
  &#39;www.mp3#.com&#39;
];

check.forEach(function(entry) {
  if (entry.match(regex)) {
    $(&quot;#output&quot;).append( &quot;&amp;lt;div &amp;gt;Success: &quot; + entry + &quot;&amp;lt;/div&amp;gt;&quot; );
  } else {
    $(&quot;#output&quot;).append( &quot;&amp;lt;div&amp;gt;Fail: &quot; + entry + &quot;&amp;lt;/div&amp;gt;&quot; );
  }
});</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;div id="output"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
<p><a href="https://rubular.com/r/eGPe4bGlwMd98E" rel="noreferrer">Check it in rubular - NEW version</a></p>
<p><a href="https://www.rubular.com/r/WacnNAOQZa" rel="noreferrer"><del>Check it in rubular - old version</del></a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-validate-date-format-ddmmyyyy-score-533749-in-2016" class="level3">
<h3>36: Regex to validate date format dd/mm/yyyy (score <a href="https://stackoverflow.com/q/15491894.html">533749</a> in 2016)</h3>
<section id="question-35" class="level4">
<h4>Question</h4>
<p>I need to validate a date string for the format <code>dd/mm/yyyy</code> with a regular expresssion.</p>
<p>This regex validates <code>dd/mm/yyyy</code>, but not the invalid dates like <code>31/02/4500</code>:</p>
<pre class="regex"><code>^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012].html)[\/\-]\d{4}$</code></pre>
<p>What is a valid regex to validate <code>dd/mm/yyyy</code> format with leap year support?</p>
</section>
<section id="answer-accepted-score-286" class="level4">
<h4>Answer accepted (score 286)</h4>
<p>
The regex you pasted does not validate leap years correctly, but there is one that does <a href="https://stackoverflow.com/a/8768241/1537042">in the same post</a>. I modified it to take <code>dd/mm/yyyy</code>, <code>dd-mm-yyyy</code> or <code>dd.mm.yyyy</code>.
</p>
<p><code>^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[13-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$</code></p>
<p>I tested it a bit in the link Arun provided in his answer and also <a href="http://regexr.com?346hf" rel="noreferrer">here</a> and it seems to work.</p>
<p>Edit February 14th 2019: I’ve removed a comma that was in the regex which allowed dates like <code>29-0,-11</code></p>
</section>
<section id="answer-2-score-240" class="level4">
<h4>Answer 2 (score 240)</h4>
<p>I have extended the regex given by <span class="citation" data-cites="Ofir">@Ofir</span> Luzon for the formats dd-mmm-YYYY, dd/mmm/YYYY, dd.mmm.YYYY as per my requirement. Anyone else with same requirement can refer this</p>
<pre class="regex"><code>^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]|(?:Jan|Mar|May|Jul|Aug|Oct|Dec)))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2]|(?:Jan|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec))\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)(?:0?2|(?:Feb))\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9]|(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep))|(?:1[0-2]|(?:Oct|Nov|Dec)))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$</code></pre>
<p>and tested for some test cases here <a href="http://regexr.com/39tr1" rel="noreferrer">http://regexr.com/39tr1</a>.</p>
<p>
For better understanding for this Regular expression refer this image: <img src="https://i.stack.imgur.com/D4YDF.png" alt="enter image description here">
</p>
</section>
<section id="answer-3-score-63" class="level4">
<h4>Answer 3 (score 63)</h4>
<p>Notice:</p>
<blockquote>
Your regexp does not work for years that “are multiples of 4 and 100, but not of 400”. Years that pass that test are not leap years. For example: 1900, 2100, 2200, 2300, 2500, etc. In other words, it puts all years with the format 00 in the same class of leap years, which is incorrect. – MuchToLearn
</blockquote>
<p>So it works properly only for [1901 - 2099] (Whew) 😊</p>
<p>dd/MM/yyyy:</p>
<p>
Checks if leap year. Years from 1900 to 9999 are valid. Only dd/MM/yyyy
</p>
<pre class="regex"><code>(^(((0[1-9]|1[0-9]|2[0-8])[\/](0[1-9]|1[012]))|((29|30|31)[\/](0[13578]|1[02]))|((29|30)[\/](0[4,6,9]|11)))[\/](19|[2-9][0-9])\d\d$)|(^29[\/]02[\/](19|[2-9][0-9].html)(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="replace-specific-characters-within-strings-score-524267-in-2019" class="level3">
<h3>37: Replace specific characters within strings (score <a href="https://stackoverflow.com/q/11936339.html">524267</a> in 2019)</h3>
<section id="question-36" class="level4">
<h4>Question</h4>
<p>I would like to remove specific characters from strings within a vector, similar to the <em>Find and Replace</em> feature in Excel.</p>
<p>Here are the data I start with:</p>
<pre class="regex"><code>group &amp;lt;- data.frame(c(&quot;12357e&quot;, &quot;12575e&quot;, &quot;197e18&quot;, &quot;e18947&quot;)</code></pre>
<p>I start with just the first column; I want to produce the second column by removing the <code>e</code>’s:</p>
<pre class="regex"><code>group       group.no.e
12357e      12357
12575e      12575
197e18      19718
e18947      18947</code></pre>
</section>
<section id="answer-accepted-score-376-1" class="level4">
<h4>Answer accepted (score 376)</h4>
<p>With a regular expression and the function <code>gsub()</code>:</p>
<pre class="regex"><code>group &amp;lt;- c(&quot;12357e&quot;, &quot;12575e&quot;, &quot;197e18&quot;, &quot;e18947&quot;)
group
[1] &quot;12357e&quot; &quot;12575e&quot; &quot;197e18&quot; &quot;e18947&quot;

gsub(&quot;e&quot;, &quot;&quot;, group)
[1] &quot;12357&quot; &quot;12575&quot; &quot;19718&quot; &quot;18947&quot;</code></pre>
<p>What <code>gsub</code> does here is to replace each occurrence of <code>&quot;e&quot;</code> with an empty string <code>&quot;&quot;</code>.</p>
<hr>
<p>See <code>?regexp</code> or <code>gsub</code> for more help.</p>
</section>
<section id="answer-2-score-45" class="level4">
<h4>Answer 2 (score 45)</h4>
<p>Regular expressions are your friends:</p>
<pre class="regex"><code>R&amp;gt; ## also adds missing &#39;)&#39; and sets column name
R&amp;gt; group&amp;lt;-data.frame(group=c(&quot;12357e&quot;, &quot;12575e&quot;, &quot;197e18&quot;, &quot;e18947&quot;))  )
R&amp;gt; group
   group
1 12357e
2 12575e
3 197e18
4 e18947</code></pre>
<p>Now use <code>gsub()</code> with the simplest possible replacement pattern: empty string:</p>
<pre class="regex"><code>R&amp;gt; group$groupNoE &amp;lt;- gsub(&quot;e&quot;, &quot;&quot;, group$group)
R&amp;gt; group
   group groupNoE
1 12357e    12357
2 12575e    12575
3 197e18    19718
4 e18947    18947
R&amp;gt; </code></pre>
</section>
<section id="answer-3-score-23-1" class="level4">
<h4>Answer 3 (score 23)</h4>
<p>Summarizing 2 ways to replace strings:</p>
<pre class="regex"><code>group&amp;lt;-data.frame(group=c(&quot;12357e&quot;, &quot;12575e&quot;, &quot;197e18&quot;, &quot;e18947&quot;))</code></pre>
<ol type="1">
<li>Use <code>gsub</code></li>
</ol>
<pre class="regex"><code>group$group.no.e &amp;lt;- gsub(&quot;e&quot;, &quot;&quot;, group$group)</code></pre>
<ol start="2" type="1">
<li>Use the <code>stringr</code> package</li>
</ol>
<pre class="regex"><code>group$group.no.e &amp;lt;- str_replace_all(group$group, &quot;e&quot;, &quot;&quot;)</code></pre>
<p>Both will produce the desire output:</p>
<pre class="regex"><code>   group group.no.e
1 12357e      12357
2 12575e      12575
3 197e18      19718
4 e18947      18947</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-score-520690-in-2015" class="level3">
<h3>38: How do I match any character across multiple lines in a regular expression? (score <a href="https://stackoverflow.com/q/159118.html">520690</a> in 2015)</h3>
<section id="question-37" class="level4">
<h4>Question</h4>
<p>For example, this regex</p>
<pre class="regex"><code>(.*)&amp;lt;FooBar&amp;gt;</code></pre>
<p>will match:</p>
<pre class="regex"><code>abcde&amp;lt;FooBar&amp;gt;</code></pre>
<p>But how do I get it to match across multiple lines?</p>
<pre class="regex"><code>abcde
fghij&amp;lt;FooBar&amp;gt;</code></pre>
</section>
<section id="answer-accepted-score-215" class="level4">
<h4>Answer accepted (score 215)</h4>
<p>It depends on the language, but there should be a modifier that you can add to the regex pattern. In PHP it is:</p>
<pre class="regex"><code>/(.*)&amp;lt;FooBar&amp;gt;/s</code></pre>
<p>The <strong>s</strong> at the end causes the dot to match <em>all</em> characters including newlines.</p>
</section>
<section id="answer-2-score-308" class="level4">
<h4>Answer 2 (score 308)</h4>
<p>Try this:</p>
<pre class="regex"><code>((.|\n)*)&amp;lt;FooBar&amp;gt;</code></pre>
<p>It basically says “any character or a newline” repeated zero or more times.</p>
</section>
<section id="answer-3-score-68" class="level4">
<h4>Answer 3 (score 68)</h4>
<p>The question is, can <code>.</code> pattern match <em>any</em> character? The answer varies from engine to engine. The main difference is whether the pattern is used by a POSIX or non-POSIX regex library.</p>
<p>Special note about <a href="/questions/tagged/lua-patterns" class="post-tag" title="show questions tagged &#39;lua-patterns&#39;" rel="tag">lua-patterns</a>: they are not considered regular expressions, but <code>.</code> matches any char there, same as POSIX based engines.</p>
<p>Another note on <a href="/questions/tagged/matlab" class="post-tag" title="show questions tagged &#39;matlab&#39;" rel="tag">matlab</a> and <a href="/questions/tagged/octave" class="post-tag" title="show questions tagged &#39;octave&#39;" rel="tag">octave</a>: the <code>.</code> matches any char by default (<a href="https://ideone.com/OkH7Mh" rel="noreferrer">demo</a>): <code>str = &quot;abcde\n     fghij&amp;lt;Foobar&amp;gt;&quot;; expression = '(.*)&amp;lt;Foobar&amp;gt;*'; [tokens,matches] = regexp(str,expression,'tokens','match');</code> (<code>tokens</code> contain a <code>abcde\n     fghij</code> item).</p>
<p>Also, in all of <a href="/questions/tagged/boost" class="post-tag" title="show questions tagged &#39;boost&#39;" rel="tag">boost</a>’s regex grammars the dot matches line breaks by default. Boost’s ECMAScript grammar allows you to turn this off with <code>regex_constants::no_mod_m</code> (<a href="http://www.regular-expressions.info/dot.html" rel="noreferrer">source</a>).</p>
<p>As for <a href="/questions/tagged/oracle" class="post-tag" title="show questions tagged &#39;oracle&#39;" rel="tag">oracle</a> (it is POSIX based), use <a href="https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions130.htm" rel="noreferrer"><code>n</code> option</a> (<a href="http://rextester.com/WEQF2051" rel="noreferrer">demo</a>): <code>select regexp_substr('abcde' || chr(10) ||'     fghij&amp;lt;Foobar&amp;gt;', '(.*)&amp;lt;Foobar&amp;gt;', 1, 1, 'n', 1) as results from dual</code></p>
<p><strong>POSIX-based engines</strong>:</p>
<p>A mere <code>.</code> already matches line breaks, no need to use any modifiers, see <a href="/questions/tagged/bash" class="post-tag" title="show questions tagged &#39;bash&#39;" rel="tag">bash</a> (<a href="https://ideone.com/d1XTpR" rel="noreferrer">demo</a>).</p>
<p>The <a href="/questions/tagged/tcl" class="post-tag" title="show questions tagged &#39;tcl&#39;" rel="tag">tcl</a> (<a href="https://ideone.com/ORmscd" rel="noreferrer">demo</a>), <a href="/questions/tagged/postgresql" class="post-tag" title="show questions tagged &#39;postgresql&#39;" rel="tag">postgresql</a> (<a href="http://rextester.com/FWXM76553" rel="noreferrer">demo</a>), <a href="/questions/tagged/r" class="post-tag" title="show questions tagged &#39;r&#39;" rel="tag">r</a> (TRE, base R default engine with no <code>perl=TRUE</code>, for base R with <code>perl=TRUE</code> or for <em>stringr</em>/<em>stringi</em> patterns, use the <code>(?s)</code> inline modifier) (<a href="https://ideone.com/A1kIU4" rel="noreferrer">demo</a>) also treat <code>.</code> the same way.</p>
<p><em>However</em>, most POSIX based tools process input line by line. Hence, <code>.</code> does not match the line breaks just because they are not in scope. Here are some examples how to override this:</p>
<ul>
<li>
<a href="/questions/tagged/sed" class="post-tag" title="show questions tagged &#39;sed&#39;" rel="tag">sed</a> - There are multiple workarounds, the most precise but not very safe is <code>sed 'H;1h;$!d;x; s/\(.*\)&amp;gt;&amp;lt;Foobar&amp;gt;/\1/'</code> (<code>H;1h;$!d;x;</code> slurps the file into memory). If whole lines must be included, <code>sed '/start_pattern/,/end_pattern/d' file</code> (removing from start will end with matched lines included) or <code>sed '/start_pattern/,/end_pattern/{{//!d;};}' file</code> (with matching lines excluded) can be considered.
</li>
<li>
<a href="/questions/tagged/perl" class="post-tag" title="show questions tagged &#39;perl&#39;" rel="tag">perl</a> - <code>perl -0pe 's/(.*)&amp;lt;FooBar&amp;gt;/$1/gs' &amp;lt;&amp;lt;&amp;lt; &quot;$str&quot;</code> (<code>-0</code> slurps the whole file into memory, <code>-p</code> prints the file after applying the script given by <code>-e</code>). Note that using <code>-000pe</code> will slurp the file and activate ‘paragraph mode’ where Perl uses consecutive newlines (<code>\n\n</code>) as the record separator.
</li>
<li>
<a href="/questions/tagged/gnu-grep" class="post-tag" title="show questions tagged &#39;gnu-grep&#39;" rel="tag">gnu-grep</a> - <code>grep -Poz '(?si)abc\K.*?(?=&amp;lt;Foobar&amp;gt;)' file</code>. Here, <code>z</code> enables file slurping, <code>(?s)</code> enables the DOTALL mode for the <code>.</code> pattern, <code>(?i)</code> enables case insensitive mode, <code>\K</code> omits the text matched so far, <code>*?</code> is a lazy quantifier, <code>(?=&amp;lt;Foobar&amp;gt;)</code> matches the location before <code>&amp;lt;Foobar&amp;gt;</code>.
</li>
<li>
<a href="/questions/tagged/pcregrep" class="post-tag" title="show questions tagged &#39;pcregrep&#39;" rel="tag">pcregrep</a> - <code>pcregrep -Mi &quot;(?si)abc\K.*?(?=&amp;lt;Foobar&amp;gt;)&quot; file</code> (<code>M</code> enables file slurping here). Note <code>pcregrep</code> is a good solution for Mac OS <code>grep</code> users.
</li>
</ul>
<p><a href="https://ideone.com/J7n00M" rel="noreferrer">See demos</a>.</p>
<p><strong>Non-POSIX-based engines</strong>:</p>
<ul>
<li>
<a href="/questions/tagged/php" class="post-tag" title="show questions tagged &#39;php&#39;" rel="tag">php</a> - Use <code>s</code> modifier <a href="http://php.net/manual/en/reference.pcre.pattern.modifiers.php" rel="noreferrer">PCRE_DOTALL modifier</a>: <code>preg_match('~(.*)&amp;lt;Foobar&amp;gt;~s', $s, $m)</code> (<a href="https://ideone.com/QyLjnm" rel="noreferrer">demo</a>)
</li>
<li>
<a href="/questions/tagged/c%23" class="post-tag" title="show questions tagged &#39;c#&#39;" rel="tag">c#</a> - Use <code>RegexOptions.Singleline</code> flag (<a href="https://ideone.com/agPd94" rel="noreferrer">demo</a>): <br/> - <code>var result = Regex.Match(s, @&quot;(.*)&amp;lt;Foobar&amp;gt;&quot;, RegexOptions.Singleline).Groups[1].Value;</code><br/>- <code>var result = Regex.Match(s, @&quot;(?s)(.*)&amp;lt;Foobar&amp;gt;&quot;).Groups[1].Value;</code>
</li>
<li>
<a href="/questions/tagged/powershell" class="post-tag" title="show questions tagged &#39;powershell&#39;" rel="tag">powershell</a> - Use <code>(?s)</code> inline option: <code>$s = &quot;abcde</code>nfghij&lt;FooBar&gt;“; $s -match”(?s)(.<em>)&lt;Foobar&gt;“; $matches[1]<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/perl&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;perl&amp;#39;&quot; rel=&quot;tag&quot;&gt;perl&lt;/a&gt; - Use</code>s<code>modifier (or</code>(?s)<code>inline version at the start) (&lt;a href=&quot;https://ideone.com/nsYpjE&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>/(.<em>)&lt;FooBar&gt;/s<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/python&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;python&amp;#39;&quot; rel=&quot;tag&quot;&gt;python&lt;/a&gt; - Use</code>re.DOTALL<code>(or</code>re.S<code>) flags or</code>(?s)<code>inline modifier (&lt;a href=&quot;https://ideone.com/A21CXy&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>m = re.search(r&quot;(.</em>)&lt;FooBar&gt;”, s, flags=re.S)<code>(and then</code>if m:<code>,</code>print(m.group(1))<code>)&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/java&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;java&amp;#39;&quot; rel=&quot;tag&quot;&gt;java&lt;/a&gt; - Use</code>Pattern.DOTALL<code>modifier (or inline</code>(?s)<code>flag) (&lt;a href=&quot;https://ideone.com/Oq1j8Z&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>Pattern.compile(“(.<em>)&lt;FooBar&gt;&quot;, Pattern.DOTALL)<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/groovy&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;groovy&amp;#39;&quot; rel=&quot;tag&quot;&gt;groovy&lt;/a&gt; - Use</code>(?s)<code>in-pattern modifier (&lt;a href=&quot;https://ideone.com/2wmACW&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>regex = /(?s)(.</em>)&lt;FooBar&gt;/<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/scala&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;scala&amp;#39;&quot; rel=&quot;tag&quot;&gt;scala&lt;/a&gt; - Use</code>(?s)<code>modifier (&lt;a href=&quot;https://ideone.com/faL4xJ&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>”(?s)(.</em>)&lt;Foobar&gt;“.r.findAllIn(”abcdefghij&lt;Foobar&gt;“).matchData foreach { m =&gt; println(m.group(1)) }<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/javascript&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;javascript&amp;#39;&quot; rel=&quot;tag&quot;&gt;javascript&lt;/a&gt; - Use</code>[^]<code>or workarounds</code>[]<code>/</code>[]<code>/</code>[]<code>(&lt;a href=&quot;https://jsfiddle.net/36c6rt7o/3/&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>s.match(/([]<em>)&lt;FooBar&gt;/)[1]<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/c%2b%2b&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;c++&amp;#39;&quot; rel=&quot;tag&quot;&gt;c++&lt;/a&gt; (</code>std::regex<code>) Use</code>[]<code>or the JS workarounds (&lt;a href=&quot;https://ideone.com/2xC4ih&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>regex rex(R&quot;(([]</em>)&lt;FooBar&gt;)”);<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/vba&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;vba&amp;#39;&quot; rel=&quot;tag&quot;&gt;vba&lt;/a&gt; - Use the same approach as in JavaScript,</code>([]<em>)&lt;Foobar&gt;<code>.&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/ruby&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;ruby&amp;#39;&quot; rel=&quot;tag&quot;&gt;ruby&lt;/a&gt; - Use &lt;a href=&quot;https://ruby-doc.org/core-2.4.0/Regexp.html#class-Regexp-label-Options&quot; rel=&quot;noreferrer&quot;&gt;</code>/m<code>&lt;em&gt;MULTILINE&lt;/em&gt; modifier&lt;/a&gt; (&lt;a href=&quot;https://ideone.com/hSj5M2&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>s[/(.*)&lt;Foobar&gt;/m, 1]<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/go&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;go&amp;#39;&quot; rel=&quot;tag&quot;&gt;go&lt;/a&gt; - Use the inline modifier</code>(?s)<code>at the start (&lt;a href=&quot;https://play.golang.org/p/Xqproig3jZ&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>re: = regexp.MustCompile(<code>(?s)(.*)&amp;lt;FooBar&gt;</code>)<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/swift&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;swift&amp;#39;&quot; rel=&quot;tag&quot;&gt;swift&lt;/a&gt; - Use &lt;a href=&quot;https://developer.apple.com/documentation/foundation/nsregularexpression.options/1412529-dotmatcheslineseparators&quot; rel=&quot;noreferrer&quot;&gt;</code>dotMatchesLineSeparators<code>&lt;/a&gt; or (easier) pass the</code>(?s)<code>inline modifier to the pattern:</code>let rx = “(?s)(.<em>)&lt;Foobar&gt;&quot;<code>&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/objective-c&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;objective-c&amp;#39;&quot; rel=&quot;tag&quot;&gt;objective-c&lt;/a&gt; - Same as Swift,</code>(?s)<code>works the easiest, but here is how the &lt;a href=&quot;https://ideone.com/C6RP37&quot; rel=&quot;noreferrer&quot;&gt;option can be used&lt;/a&gt;: &lt;code&gt;NSRegularExpression* regex = [NSRegularExpression regularExpressionWithPattern:pattern  options:NSRegularExpressionDotMatchesLineSeparators error:&amp;amp;regexError];&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;/questions/tagged/re2&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;re2&amp;#39;&quot; rel=&quot;tag&quot;&gt;re2&lt;/a&gt;, &lt;a href=&quot;/questions/tagged/google-apps-script&quot; class=&quot;post-tag&quot; title=&quot;show questions tagged &amp;#39;google-apps-script&amp;#39;&quot; rel=&quot;tag&quot;&gt;google-apps-script&lt;/a&gt; - Use</code>(?s)<code>modifier (&lt;a href=&quot;https://docs.google.com/spreadsheets/d/1kn6Bb4TTjXT27Yfqwi3Z9K6YQVQxqHIBYoAAa1B4NsA/edit#gid=0&quot; rel=&quot;noreferrer&quot;&gt;demo&lt;/a&gt;):</code>&quot;(?s)(.</em>)&lt;Foobar&gt;”<code>(in Google Spreadsheets,</code>=REGEXEXTRACT(A2,&quot;(?s)(.</em>)&lt;Foobar&gt;&quot;)`)
</li>
</ul>
<p><strong>NOTES ON <code>(?s)</code></strong>:</p>
<p>In most non-POSIX engines, <code>(?s)</code> inline modifier (or embedded flag option) can be used to enforce <code>.</code> to match line breaks.</p>
<p>If placed at the start of the pattern, <code>(?s)</code> changes the bahavior of all <code>.</code> in the pattern. If the <code>(?s)</code> is placed somewhere after the beginning, only those <code>.</code> will be affected that are located to the right of it <em>unless</em> this is a pattern passed to Python <code>re</code>. In Python <code>re</code>, regardless of the <code>(?s)</code> location, the whole pattern <code>.</code> are affected. The <code>(?s)</code> effect is stopped using <code>(?-s)</code>. A modified group can be used to only affect a specified range of a regex pattern (e.g. <code>Delim1(?s:.*?)\nDelim2.*</code> will make the first <code>.*?</code> match across newlines and the second <code>.*</code> will only match the rest of the line).</p>
<p><strong>POSIX note</strong>:</p>
<p>In non-POSIX regex engines, to match any char, <code>[\s\S]</code> / <code>[\d\D]</code> / <code>[\w\W]</code> constructs can be used.</p>
<p>In POSIX, <code>[\s\S]</code> is not matching any char (as in JavaScript or any non-POSIX engine) because regex escape sequences are not supported inside bracket expressions. <code>[\s\S]</code> is parsed as bracket expressions that match a single char, <code>\</code> or <code>s</code> or <code>S</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-stop-at-first-match-score-520377-in-2012" class="level3">
<h3>39: Regular expression to stop at first match (score <a href="https://stackoverflow.com/q/2503413.html">520377</a> in 2012)</h3>
<section id="question-38" class="level4">
<h4>Question</h4>
<p>My regex pattern looks something like</p>
<pre class="regex"><code>&amp;lt;xxxx location=&quot;file path/level1/level2&quot; xxxx some=&quot;xxx&quot;&amp;gt;</code></pre>
<p>I am only interested in the part in quotes assigned to location. Shouldn’t it be as easy as below without the greedy switch?</p>
<pre class="regex"><code>/.*location=&quot;(.*)&quot;.*/</code></pre>
<p>Does not seem to work.</p>
</section>
<section id="answer-accepted-score-970" class="level4">
<h4>Answer accepted (score 970)</h4>
<p>You need to make your regular expression non-greedy, because by default, <code>&quot;(.*)&quot;</code> will match all of <code>&quot;file path/level1/level2&quot; xxx some=&quot;xxx&quot;</code>.</p>
<p>Instead you can make your dot-star non-greedy, which will make it match as few characters as possible:</p>
<pre class="regex"><code>/location=&quot;(.*?)&quot;/</code></pre>
<p>Adding a <code>?</code> on a quantifier (<code>?</code>, <code>*</code> or <code>+</code>) makes it non-greedy.</p>
</section>
<section id="answer-2-score-48" class="level4">
<h4>Answer 2 (score 48)</h4>
<p><code>location=&quot;(.*)&quot;</code> will match from the &quot; after <code>location=</code> until the &quot; after <code>some=&quot;xxx</code> unless you make it non-greedy. So you either need <code>.*?</code> (i.e. make it non-greedy) or better replace <code>.*</code> with <code>[^&quot;]*</code>.</p>
</section>
<section id="answer-3-score-29" class="level4">
<h4>Answer 3 (score 29)</h4>
<p>How about</p>
<pre class="regex"><code>.*location=&quot;([^&quot;]*)&quot;.*</code></pre>
<p>This avoids the unlimited search with .* and will match exactly to the first quote.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="a-regular-expression-to-exclude-a-wordstring-score-515997-in-2010" class="level3">
<h3>40: A regular expression to exclude a word/string (score <a href="https://stackoverflow.com/q/2078915.html">515997</a> in 2010)</h3>
<section id="question-39" class="level4">
<h4>Question</h4>
<p>I have a regular expression as follows:</p>
<pre class="regex"><code>^/[a-z0-9]+$</code></pre>
<p>This matches strings such as <code>/hello</code> or <code>/hello123</code>.</p>
<p>However, I would like it to exclude a couple of string values such as <code>/ignoreme</code> and <code>/ignoreme2</code>.</p>
<p>I’ve tried a few variants but can’t seem to get any to work!</p>
<p>My latest feeble attempt was</p>
<pre class="regex"><code>^/(((?!ignoreme)|(?!ignoreme2))[a-z0-9])+$</code></pre>
<p>Any help would be gratefully appreciated :-)</p>
</section>
<section id="answer-accepted-score-328" class="level4">
<h4>Answer accepted (score 328)</h4>
<p>Here’s yet another way (using a <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">negative look-ahead</a>):</p>
<pre class="regex"><code>^/(?!ignoreme|ignoreme2|ignoremeN)([a-z0-9]+)$ </code></pre>
<p>Note: There’s only one capturing expression: <code>([a-z0-9]+)</code>.</p>
</section>
<section id="answer-2-score-39" class="level4">
<h4>Answer 2 (score 39)</h4>
<p>This should do it:</p>
<pre class="regex"><code>^/\b([a-z0-9]+)\b(?&amp;lt;!ignoreme|ignoreme2|ignoreme3)</code></pre>
<p>You can add as much ignored words as you like, here is a simple PHP implementation:</p>
<pre class="regex"><code>$ignoredWords = array(&#39;ignoreme&#39;, &#39;ignoreme2&#39;, &#39;ignoreme...&#39;);

preg_match(&#39;~^/\b([a-z0-9]+)\b(?&amp;lt;!&#39; . implode(&#39;|&#39;, array_map(&#39;preg_quote&#39;, $ignoredWords)) . &#39;)~i&#39;, $string);</code></pre>
</section>
<section id="answer-3-score-17" class="level4">
<h4>Answer 3 (score 17)</h4>
<p>As you want to exclude both words, you need a conjuction:</p>
<pre class="regex"><code>^/(?!ignoreme$)(?!ignoreme2$)[a-z0-9]+$</code></pre>
<p>Now both conditions must be true (neither <em>ignoreme</em> nor <em>ignoreme2</em> is allowed) to have a match.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-password-must-contain-at-least-eight-characters-at-least-one-number-and-both-lower-and-uppercase-letters-and-special-characters-score-498895-in-2017" class="level3">
<h3>41: Regex for password must contain at least eight characters, at least one number and both lower and uppercase letters and special characters (score <a href="https://stackoverflow.com/q/19605150.html">498895</a> in 2017)</h3>
<section id="question-40" class="level4">
<h4>Question</h4>
<p>I want a regular expression to check that:</p>
<p>A password contains at least eight characters, including at least one number and includes both lower and uppercase letters and special characters, for example <code>#</code>, <code>?</code>, <code>!</code>.</p>
<p>It cannot be your old password or contain your username, <code>&quot;password&quot;</code>, or <code>&quot;websitename&quot;</code></p>
<p>And here is my validation expression which is for eight characters including one uppercase letter, one lowercase letter, and one number or special character.</p>
<pre class="regex"><code>(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$&quot;</code></pre>
<p>How can I write it for <strong>a password must be eight characters including one uppercase letter, one special character and alphanumeric characters</strong>?</p>
</section>
<section id="answer-2-score-965" class="level4">
<h4>Answer 2 (score 965)</h4>
<p>Minimum eight characters, at least one letter and one number:</p>
<pre class="regex"><code>&quot;^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$&quot;</code></pre>
<p>Minimum eight characters, at least one letter, one number and one special character:</p>
<pre class="regex"><code>&quot;^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&amp;amp;])[A-Za-z\d@$!%*#?&amp;amp;]{8,}$&quot;</code></pre>
<p>Minimum eight characters, at least one uppercase letter, one lowercase letter and one number:</p>
<pre class="regex"><code>&quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$&quot;</code></pre>
<p>Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character:</p>
<pre class="regex"><code>&quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&amp;amp;])[A-Za-z\d@$!%*?&amp;amp;]{8,}$&quot;</code></pre>
<p>Minimum eight and maximum 10 characters, at least one uppercase letter, one lowercase letter, one number and one special character:</p>
<pre class="regex"><code>&quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&amp;amp;])[A-Za-z\d@$!%*?&amp;amp;]{8,10}$&quot;</code></pre>
</section>
<section id="answer-3-score-330" class="level4">
<h4>Answer 3 (score 330)</h4>
<p>You may use this regex with multiple <a href="https://www.regular-expressions.info/lookaround.html" rel="noreferrer">lookahead assertions (conditions)</a>:</p>
<pre class="regex"><code>^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&amp;amp;*-]).{8,}$</code></pre>
<p>This regex will enforce these rules:</p>
<ul>
<li>
At least one upper case <a href="https://en.wikipedia.org/wiki/English_alphabet" rel="noreferrer">English letter</a>, <code>(?=.*?[A-Z])</code>
</li>
<li>
At least one lower case English letter, <code>(?=.*?[a-z])</code>
</li>
<li>
At least one digit, <code>(?=.*?[0-9])</code>
</li>
<li>
At least one special character, <code>(?=.*?[#?!@$%^&amp;amp;*-])</code>
</li>
<li>
Minimum eight in length <code>.{8,}</code> (with the anchors)
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-remove-all-line-breaks-from-a-string-score-487768-in-2018" class="level3">
<h3>42: How to remove all line breaks from a string (score <a href="https://stackoverflow.com/q/10805125.html">487768</a> in 2018)</h3>
<section id="question-41" class="level4">
<h4>Question</h4>
<p>I have a text in a textarea and I read it out using the .value attribute.</p>
<p>Now I would like to remove all linebreaks (the character that is produced when you press <kbd>Enter</kbd>) from my text now using .replace with a regular expression, but how do I indicate a linebreak in a regex?</p>
<p>If that is not possible, is there another way?</p>
</section>
<section id="answer-accepted-score-430" class="level4">
<h4>Answer accepted (score 430)</h4>
<p>This is probably a FAQ. Anyhow, line breaks (better: newlines) can be one of Carriage Return (CR, <code>\r</code>, on older Macs), Line Feed (LF, <code>\n</code>, on Unices incl. Linux) or CR followed by LF (<code>\r\n</code>, on WinDOS). (Contrary to another answer, this has <em>nothing</em> to do with character encoding.)</p>
<p>Therefore, the most efficient <code>RegExp</code> literal to match all variants is</p>
<pre class="regex"><code>/\r?\n|\r/</code></pre>
<p>If you want to match all newlines in a string, use a global match,</p>
<pre class="regex"><code>/\r?\n|\r/g</code></pre>
<p>respectively. Then proceed with the <code>replace</code> method as suggested in several other answers. (Probably you do <em>not</em> want to remove the newlines, but replace them with other whitespace, for example the space character, so that words remain intact.)</p>
</section>
<section id="answer-2-score-453" class="level4">
<h4>Answer 2 (score 453)</h4>
<p>How you’d find a line break varies between operating system encodings. Windows would be <code>\r\n</code>, but Linux just uses <code>\n</code> and Apple uses <code>\r</code>.</p>
<p>I found this in <a href="http://www.textfixer.com/tutorials/javascript-line-breaks.php" rel="noreferrer">JavaScript line breaks</a>:</p>
<pre class="regex"><code>someText = someText.replace(/(\r\n|\n|\r)/gm, &quot;&quot;);</code></pre>
<p>That should remove all kinds of line breaks.</p>
</section>
<section id="answer-3-score-97" class="level4">
<h4>Answer 3 (score 97)</h4>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim" rel="noreferrer"><code>String.trim()</code></a> removes whitespace from the beginning and end of strings… including newlines.</p>
<pre class="regex"><code>const myString = &quot;   \n \n\n Hey! \n I&#39;m a string!!!         \n\n&quot;;
const trimmedString = myString.trim();

console.log(trimmedString);
// outputs: &quot;Hey! \n I&#39;m a string!!!&quot;</code></pre>
<p>Here’s an example fiddle: <a href="http://jsfiddle.net/BLs8u/" rel="noreferrer">http://jsfiddle.net/BLs8u/</a></p>
<p><strong>NOTE!</strong> it only trims the beginning and end of the string, not line breaks or whitespace in the middle of the string.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-and-extract-a-number-from-a-string-score-480142-in-2015" class="level3">
<h3>43: Find and extract a number from a string (score <a href="https://stackoverflow.com/q/4734116.html">480142</a> in 2015)</h3>
<section id="question-42" class="level4">
<h4>Question</h4>
<p>I have a requirement to find and extract a number contained within a string.</p>
<p>For example, from these strings:</p>
<pre class="regex"><code>string test = &quot;1 test&quot;
string test1 = &quot; 1 test&quot;
string test2 = &quot;test 99&quot;</code></pre>
<p>How can I do this?</p>
</section>
<section id="answer-2-score-500" class="level4">
<h4>Answer 2 (score 500)</h4>
<p><code>\d+</code> is the regex for an integer number. So</p>
<pre class="regex"><code>//System.Text.RegularExpressions.Regex
resultString = Regex.Match(subjectString, @&quot;\d+&quot;).Value;</code></pre>
<p>returns a string containing the first occurrence of a number in <code>subjectString</code>.</p>
<p><code>Int32.Parse(resultString)</code> will then give you the number.</p>
</section>
<section id="answer-3-score-154" class="level4">
<h4>Answer 3 (score 154)</h4>
<p>Here’s how I cleanse phone numbers to get the digits only:</p>
<pre class="regex"><code>string numericPhone = new String(phone.Where(Char.IsDigit).ToArray());</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-extract-text-between-square-brackets-score-478828-in-2010" class="level3">
<h3>44: Regular expression to extract text between square brackets (score <a href="https://stackoverflow.com/q/2403122.html">478828</a> in 2010)</h3>
<section id="question-43" class="level4">
<h4>Question</h4>
<p>Simple regex question. I have a string on the following format:</p>
<pre class="regex"><code>this is a [sample] string with [some] special words. [another one]</code></pre>
<p>What is the regular expression to extract the words within the square brackets, ie.</p>
<pre class="regex"><code>sample
some
another one</code></pre>
<p>Note: In my use case, brackets cannot be nested.</p>
</section>
<section id="answer-accepted-score-664" class="level4">
<h4>Answer accepted (score 664)</h4>
<p>You can use the following regex <strong>globally</strong>:</p>
<pre class="regex"><code>\[(.*?)\]</code></pre>
<p>Explanation:</p>
<ul>
<li>
<code>\[</code> : <code>[</code> is a meta char and needs to be escaped if you want to match it literally.
</li>
<li>
<code>(.*?)</code> : match everything in a non-greedy way and capture it.
</li>
<li>
<code>\]</code> : <code>]</code> is a meta char and needs to be escaped if you want to match it literally.
</li>
</ul>
</section>
<section id="answer-2-score-88" class="level4">
<h4>Answer 2 (score 88)</h4>
<pre class="regex"><code>(?&amp;lt;=\[).+?(?=\])</code></pre>
<p>Will capture content without brackets</p>
<ul>
<li>
<p>
<code>(?&amp;lt;=\[)</code> - positive lookbehind for <code>[</code>
</p>
</li>
<li>
<p>
<code>.*?</code> - non greedy match for the content
</p>
</li>
<li>
<p>
<code>(?=\])</code> - positive lookahead for <code>]</code>
</p>
</li>
</ul>
<p>EDIT: for nested brackets the below regex should work:</p>
<pre class="regex"><code>(\[(?:\[??[^\[]*?\]))</code></pre>
</section>
<section id="answer-3-score-84" class="level4">
<h4>Answer 3 (score 84)</h4>
<p>This should work out ok:</p>
<pre class="regex"><code>\[([^]]+)\]</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-for-exact-match-of-a-string-score-476033-in-2019" class="level3">
<h3>45: Regular expression for exact match of a string (score <a href="https://stackoverflow.com/q/5752829.html">476033</a> in 2019)</h3>
<section id="question-44" class="level4">
<h4>Question</h4>
<p>I want to match two passwords with regular expression. For example I have two inputs “123456” and “1234567” then the result should be not match (false). And when I have entered “123456” and “123456” then the result should be match (true).</p>
<p>I couldn’t make the expression. How do I do it?</p>
</section>
<section id="answer-accepted-score-146" class="level4">
<h4>Answer accepted (score 146)</h4>
<p>if you have a the input password in a variable and you want to match exactly 123456 then anchors will help you:</p>
<pre class="regex"><code>/^123456$/</code></pre>
<p>in perl the test for matching the password would be something like</p>
<pre class="regex"><code>print &quot;MATCH_OK&quot; if ($input_pass=~/^123456$/);</code></pre>
<p>EDIT:</p>
<p><a href="https://stackoverflow.com/users/50476/bart-kiers">bart kiers</a> is right tho, why don’t you use a strcmp() for this? every language has it in its own way</p>
<p>as a second thought, you may want to consider a safer authentication mechanism :)</p>
</section>
<section id="answer-2-score-132" class="level4">
<h4>Answer 2 (score 132)</h4>
<p>
In malfaux’s answer <strong>‘^’</strong> and <strong>‘$’</strong> has been used to detect the beginning and the end of the text. <br/>These are usually used to detect the beginning and the end of a line. <br/>However this may be the correct way in this case. <br/>But if you wish to match an exact word the more elegant way is to use <strong>‘’</strong>. In this case following pattern will match the exact phrase’123456’.
</p>
<blockquote>
/123456/
</blockquote>
</section>
<section id="answer-3-score-26" class="level4">
<h4>Answer 3 (score 26)</h4>
<pre class="regex"><code>(?&amp;lt;![\w\d])abc(?![\w\d])</code></pre>
<p>this makes sure that your match is not preceded by some character, number, or underscore and is not followed immediately by character or number, or underscore</p>
<p>so it will match “abc” in “abc”, “abc.”, “abc”, but not “4abc”, nor “abcde”</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="split-java-string-by-new-line-score-474015-in-2009" class="level3">
<h3>46: Split Java String by New Line (score <a href="https://stackoverflow.com/q/454908.html">474015</a> in 2009)</h3>
<section id="question-45" class="level4">
<h4>Question</h4>
<p>
I’m trying to split text in a <code>JTextArea</code> using a regex to split the String by <code>\n</code> However, this does not work and I also tried by <code>\r\n|\r|n</code> and many other combination of regexes. Code:
</p>
<pre class="regex"><code>public void insertUpdate(DocumentEvent e) {
    String split[], docStr = null;
    Document textAreaDoc = (Document)e.getDocument();

    try {
        docStr = textAreaDoc.getText(textAreaDoc.getStartPosition().getOffset(), textAreaDoc.getEndPosition().getOffset());
    } catch (BadLocationException e1) {
        // TODO Auto-generated catch block
        e1.printStackTrace();
    }

    split = docStr.split(&quot;\\n&quot;);
}</code></pre>
</section>
<section id="answer-accepted-score-687" class="level4">
<h4>Answer accepted (score 687)</h4>
<p>This should cover you:</p>
<pre class="regex"><code>String lines[] = string.split(&quot;\\r?\\n&quot;);</code></pre>
<p>There’s only really two newlines (UNIX and Windows) that you need to worry about.</p>
</section>
<section id="answer-2-score-126" class="level4">
<h4>Answer 2 (score 126)</h4>
<p>If you don’t want empty lines:</p>
<pre class="regex"><code>String.split(&quot;[\\r\\n]+&quot;)</code></pre>
</section>
<section id="answer-3-score-106" class="level4">
<h4>Answer 3 (score 106)</h4>
<p><a href="https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#split(java.lang.String)" rel="noreferrer"><code>String#split​(String regex)</code></a> method is using regex (regular expressions). Since Java 8 regex supports <code>\R</code> which represents (from <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html" rel="noreferrer">documentation of Pattern class</a>):</p>
<blockquote>
<p>
<strong>Linebreak matcher</strong><br>          Any Unicode linebreak sequence, is equivalent to <code>\u000D\u000A|[\u000A\u000B\u000C\u000D\u0085\u2028\u2029]</code>
</p>
</blockquote>
<p>So we can use it to match:</p>
<ul>
<li>
<code>\u000D\000A</code> -&gt; <code>\r\n</code> pair
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000a/index.htm" rel="noreferrer">\u000A</a> -&gt; line feed (<code>\n</code>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000b/index.htm" rel="noreferrer">\u000B</a> -&gt; line tabulation (DO NOT confuse with <a href="http://www.fileformat.info/info/unicode/char/0009/index.htm" rel="noreferrer">character tabulation <code>\t</code> which is <code>\\u0009</code></a>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000c/index.htm" rel="noreferrer">\u000C</a> -&gt; form feed (<code>\f</code>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000d/index.htm" rel="noreferrer">\u000D</a> -&gt; carriage return (<code>\r</code>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/0085/index.htm" rel="noreferrer">\u0085</a> -&gt; next line (NEL)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/2028/index.htm" rel="noreferrer">\u2028</a> -&gt; line separator
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/2029/index.htm" rel="noreferrer">\u2029</a> -&gt; paragraph separator
</li>
</ul>
<p>As you see <code>\r\n</code> is placed at start of regex which ensures that regex will try to match this <em>pair</em> first, and only if that match fails it will try to match <em>single character</em> line separators.</p>
<hr>
<p>So if you want to split on line separator use <code>split(&quot;\\R&quot;)</code>.</p>
<p>If you <a href="https://stackoverflow.com/questions/14602062/java-string-split-removed-empty-values">don’t want to remove from resulting array trailing empty strings <code>&quot;&quot;</code></a> use <code>split(regex, limit)</code> with negative <code>limit</code> parameter like <code>split(&quot;\\R&quot;, -1)</code>.</p>
<p>If you want to treat one or more continues empty lines as single delimiter use <code>split(&quot;\\R+&quot;)</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="removing-empty-lines-in-notepad-score-472569-in-2014" class="level3">
<h3>47: Removing empty lines in Notepad++ (score <a href="https://stackoverflow.com/q/3866034.html">472569</a> in 2014)</h3>
<section id="question-46" class="level4">
<h4>Question</h4>
<p>How can I replace empty lines in Notepad++? I tried a find and replace with the empty lines in the find, and nothing in the replace, but it did not work; it probably needs regex.</p>
</section>
<section id="answer-accepted-score-367" class="level4">
<h4>Answer accepted (score 367)</h4>
<p>You need something like a regular expression.</p>
<p><strong>You have to be in <code>Extended</code> mode</strong></p>
<p>If you want all the lines to end up on a <strong>single line</strong> use <code>\r\n</code>. If you want to simply remove <strong>empty</strong> lines, use <code>\n\r</code> as <span class="citation" data-cites="Link">@Link</span> originally suggested.</p>
<p>Replace either expression with nothing.</p>
</section>
<section id="answer-2-score-529" class="level4">
<h4>Answer 2 (score 529)</h4>
<p>There is now a built-in way to do this as of version 6.5.2</p>
<p><code>Edit -&amp;gt; Line Operations -&amp;gt; Remove Empty Lines</code> or <code>Remove Empty Lines (Containing Blank characters)</code></p>
<p><a href="https://i.stack.imgur.com/XelUW.png" rel="noreferrer"><img src="https://i.stack.imgur.com/XelUW.png" alt="Screenshot of removing empty lines"></a></p>
</section>
<section id="answer-3-score-122" class="level4">
<h4>Answer 3 (score 122)</h4>
<p>There is a plugin that adds a menu entitled <code>TextFX</code>. This menu, which houses a dizzying array of quick text editing options, gives a person the ability to make quick coding changes. In this menu, you can find selections such as Drop Quotes, Delete Blank Lines as well as Unwrap and Rewrap Text</p>
<p><strong>Do the following:</strong></p>
<pre class="regex"><code>TextFX &amp;gt; TextFX Edit &amp;gt; Delete Blank Lines
TextFX &amp;gt; TextFX Edit &amp;gt; Delete Surplus Blank Lines</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expressions--match-anything-score-465260-in-2018" class="level3">
<h3>48: Regular Expressions- Match Anything (score <a href="https://stackoverflow.com/q/6711971.html">465260</a> in 2018)</h3>
<section id="question-47" class="level4">
<h4>Question</h4>
<p>How do I make an expression to match absolutely anything (including whitespaces)? <br />Example:</p>
<p><strong>Regex:</strong> I bought _____ sheep.</p>
<p><strong>Matches:</strong> I bought sheep. I bought a sheep. I bought five sheep.</p>
<p>I tried using <code>(.*)</code>, but that doesn’t seem to be working.</p>
<p>Update: I got it to work, apparently the problem wasn’t with the regular expressions, it’s just that the (.) characters were being escaped.</p>
</section>
<section id="answer-2-score-252" class="level4">
<h4>Answer 2 (score 252)</h4>
<p>Normally the dot matches any character <em>except newlines</em>.</p>
<p>So if <code>.*</code> isn’t working, set the “dot matches newlines, too” option (or use <code>(?s).*</code>).</p>
<p>If you’re using JavaScript, which doesn’t have a “dotall” option, try <code>[\s\S]*</code>. This means “match any number of characters that are either whitespace or non-whitespace” - effectively “match any string”.</p>
<p>Another option that only works for JavaScript (and is not recognized by any other regex flavor) is <code>[^]*</code> which also matches any string. But <code>[\s\S]*</code> seems to be more widely used, perhaps because it’s more portable.</p>
</section>
<section id="answer-3-score-155" class="level4">
<h4>Answer 3 (score 155)</h4>
<p><code>(.*?)</code> matches anything - I’ve been using it for years.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-and-kill-a-process-in-one-line-using-bash-and-regex-score-456080-in-2010" class="level3">
<h3>49: Find and kill a process in one line using bash and regex (score <a href="https://stackoverflow.com/q/3510673.html">456080</a> in 2010)</h3>
<section id="question-48" class="level4">
<h4>Question</h4>
<p>I often need to kill a process during programming.</p>
<p>The way I do it now is:</p>
<pre class="regex"><code>[~]$ ps aux | grep &#39;python csp_build.py&#39;
user    5124  1.0  0.3 214588 13852 pts/4    Sl+  11:19   0:00 python csp_build.py
user    5373  0.0  0.0   8096   960 pts/6    S+   11:20   0:00 grep python csp_build.py
[~]$ kill 5124</code></pre>
<p>How can I extract the process id automatically and kill it in the same line?</p>
<p>Like this:</p>
<pre class="regex"><code>[~]$ ps aux | grep &#39;python csp_build.py&#39; | kill &amp;lt;regex that returns the pid&amp;gt;</code></pre>
</section>
<section id="answer-accepted-score-1287" class="level4">
<h4>Answer accepted (score 1287)</h4>
<p>In <code>bash</code>, you should be able to do:</p>
<pre class="regex"><code>kill $(ps aux | grep &#39;[p]ython csp_build.py&#39; | awk &#39;{print $2}&#39;)</code></pre>
<p>Details on its workings are as follows:</p>
<ul>
<li>
The <code>ps</code> gives you the list of all the processes.
</li>
<li>
The <code>grep</code> filters that based on your search string, <code>[p]</code> is a trick to stop you picking up the actual <code>grep</code> process itself.
</li>
<li>
The <code>awk</code> just gives you the second field of each line, which is the PID.
</li>
<li>
The <code>$(x)</code> construct means to execute <code>x</code> then take its output and put it on the command line. The output of that <code>ps</code> pipeline inside that construct above is the list of process IDs so you end up with a command like <code>kill 1234 1122 7654</code>.
</li>
</ul>
<p>Here’s a transcript showing it in action:</p>
<pre class="regex"><code>pax&amp;gt; sleep 3600 &amp;amp;
[1] 2225
pax&amp;gt; sleep 3600 &amp;amp;
[2] 2226
pax&amp;gt; sleep 3600 &amp;amp;
[3] 2227
pax&amp;gt; sleep 3600 &amp;amp;
[4] 2228
pax&amp;gt; sleep 3600 &amp;amp;
[5] 2229
pax&amp;gt; kill $(ps aux | grep &#39;[s]leep&#39; | awk &#39;{print $2}&#39;)
[5]+  Terminated              sleep 3600
[1]   Terminated              sleep 3600
[2]   Terminated              sleep 3600
[3]-  Terminated              sleep 3600
[4]+  Terminated              sleep 3600</code></pre>
<p>and you can see it terminating all the sleepers.</p>
<hr>
<p>Explaining the <code>grep '[p]ython csp_build.py'</code> bit in a bit more detail:</p>
<p>When you do <code>sleep 3600 &amp;amp;</code> followed by <code>ps -ef | grep sleep</code>, you tend to get <em>two</em> processes with <code>sleep</code> in it, the <code>sleep 3600</code> and the <code>grep sleep</code> (because they both have <code>sleep</code> in them, that’s not rocket science).</p>
<p>However, <code>ps -ef | grep '[s]leep'</code> won’t create a process with <code>sleep</code> in it, it instead creates <code>grep '[s]leep'</code> and here’s the tricky bit: the <code>grep</code> doesn’t find it because it’s looking for the regular expression &quot;any character from the character class <code>[s]</code> (which is <code>s</code>) followed by <code>leep</code>.</p>
<p>In other words, it’s looking for <code>sleep</code> but the grep process is <code>grep '[s]leep'</code> which doesn’t have <code>sleep</code> in it.</p>
<p>When I was shown this (by someone here on SO), I immediately started using it because</p>
<ul>
<li>
it’s one less process than adding <code>| grep -v grep</code>; and
</li>
<li>
it’s elegant <em>and</em> sneaky, a rare combination :-)
</li>
</ul>
</section>
<section id="answer-2-score-125" class="level4">
<h4>Answer 2 (score 125)</h4>
<p>if you have pkill,</p>
<pre class="regex"><code>pkill -f csp_build.py</code></pre>
<p>If you only want to grep against the process name (instead of the full argument list) then leave off <code>-f</code>.</p>
</section>
<section id="answer-3-score-82" class="level4">
<h4>Answer 3 (score 82)</h4>
<h5>
One liner:
</h2>
<p><strong><code>ps aux  |  grep -i csp_build  |  awk '{print $2}'  |  xargs sudo kill -9</code></strong></p>
<ul>
<li>
Print out column 2: <code>awk '{print $2}'</code>
</li>
<li>
<strong><code>sudo</code></strong> is optional
</li>
<li>
Run <code>kill -9 5124</code>, <code>kill -9 5373</code> etc (kill -15 is more graceful but slightly slower)
</li>
</ul>
<hr>
<h5>
Bonus:
</h2>
<p>
I also have 2 shortcut functions defined in my .bash_profile (~/.bash_profile is for osx, you have to see what works for your *nix machine).
</p>
<ol>
<li>
<p><strong>p</strong> <em>keyword</em></p>
<ul>
<li>
lists out all <strong>P</strong>rocesses containing keyword
</li>
<li>
usage e.g: <code>p csp_build</code> , <code>p python</code> etc
</li>
</ul>
</li>
</ol>
<p><em>bash_profile code:</em></p>
<pre class="regex"><code># FIND PROCESS
function p(){
        ps aux | grep -i $1 | grep -v grep
}</code></pre>
<ol start="2">
<li>
<p><strong>ka</strong> <em>keyword</em></p>
<ul>
<li>
<strong>K</strong>ills <strong>A</strong>ll processes that have this keyword
</li>
<li>
usage e.g: <code>ka csp_build</code> , <code>ka python</code> etc
</li>
<li>
optional kill level e.g: <code>ka csp_build 15</code>, <code>ka python 9</code>
</li>
</ul>
</li>
</ol>
<p><em>bash_profile code:</em></p>
<pre class="regex"><code># KILL ALL
function ka(){

    cnt=$( p $1 | wc -l)  # total count of processes found
    klevel=${2:-15}       # kill level, defaults to 15 if argument 2 is empty

    echo -e &quot;\nSearching for &#39;$1&#39; -- Found&quot; $cnt &quot;Running Processes .. &quot;
    p $1

    echo -e &#39;\nTerminating&#39; $cnt &#39;processes .. &#39;

    ps aux  |  grep -i $1 |  grep -v grep   | awk &#39;{print $2}&#39; | xargs sudo kill -klevel
    echo -e &quot;Done!\n&quot;

    echo &quot;Running search again:&quot;
    p &quot;$1&quot;
    echo -e &quot;\n&quot;
}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-matching-up-to-the-first-occurrence-of-a-character-score-447616-in-2013" class="level3">
<h3>50: Regex: matching up to the first occurrence of a character (score <a href="https://stackoverflow.com/q/2013124.html">447616</a> in 2013)</h3>
<section id="question-49" class="level4">
<h4>Question</h4>
<p>I am looking for a pattern that matches everything <strong>until</strong> the first occurrence of a specific character, say a “;” - a <strong>semicolon</strong>.</p>
<p>I wrote this:</p>
<pre class="regex"><code>/^(.*);/</code></pre>
<p>But it actually matches everything (including the semicolon) until the last occurrence of a semicolon.</p>
</section>
<section id="answer-accepted-score-443" class="level4">
<h4>Answer accepted (score 443)</h4>
<p>You need</p>
<pre class="regex"><code>/[^;]*/</code></pre>
<p>The <code>[^;]</code> is a <em>character class</em>, it matches everything but a semicolon.</p>
<p>To cite the <a href="http://perldoc.perl.org/perlre.html" rel="noreferrer"><code>perlre</code></a> manpage:</p>
<blockquote>
You can specify a character class, by enclosing a list of characters in [] , which will match any character from the list. If the first character after the “[” is “^”, the class matches any character not in the list.
</blockquote>
<p>This should work in most regex dialects.</p>
</section>
<section id="answer-2-score-266" class="level4">
<h4>Answer 2 (score 266)</h4>
<p>Would;</p>
<pre class="regex"><code>/^(.*?);/</code></pre>
<p>work?</p>
<p>The <code>?</code> is a lazy operator, so the regex grabs as little as possible before matching the <code>;</code>.</p>
</section>
<section id="answer-3-score-34" class="level4">
<h4>Answer 3 (score 34)</h4>
<p><code>/^[^;]*/</code></p>
<p>The [^;] says match anything except a semicolon. The square brackets are a set matching operator, it’s essentially, match any character in this set of characters, the <code>^</code> at the start makes it an inverse match, so match anything <em>not</em> in this set.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-if-string-matches-pattern-score-446271-in-2016" class="level3">
<h3>51: Check if string matches pattern (score <a href="https://stackoverflow.com/q/12595051.html">446271</a> in 2016)</h3>
<section id="question-50" class="level4">
<h4>Question</h4>
<p>How do I check if a string matches this pattern?</p>
<p>Uppercase letter, number(s), uppercase letter, number(s)…</p>
<p>Example, These would match:</p>
<pre class="regex"><code>A1B2
B10L1
C1N200J1</code></pre>
<p>These wouldn’t (‘^’ points to problem)</p>
<pre class="regex"><code>a1B2
^
A10B
   ^
AB400
^</code></pre>
</section>
<section id="answer-accepted-score-396" class="level4">
<h4>Answer accepted (score 396)</h4>
<pre class="regex"><code>import re
pattern = re.compile(&quot;^([A-Z][0-9]+)+$&quot;)
pattern.match(string)</code></pre>
<p>Edit: As noted in the comments <code>match</code> checks only for matches at the beginning of the string while <code>re.search()</code> will match a pattern anywhere in string. (See also: <a href="https://docs.python.org/library/re.html#search-vs-match" rel="noreferrer">https://docs.python.org/library/re.html#search-vs-match</a>)</p>
</section>
<section id="answer-2-score-132-1" class="level4">
<h4>Answer 2 (score 132)</h4>
<p><strong>One-liner: <code>re.match(r&quot;pattern&quot;, string) # No need to compile</code></strong></p>
<pre class="regex"><code>import re
&amp;gt;&amp;gt;&amp;gt; if re.match(r&quot;hello[0-9]+&quot;, &#39;hello1&#39;):
...     print(&#39;Yes&#39;)
... 
Yes</code></pre>
<p>You can evalute it as <code>bool</code> if needed</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; bool(re.match(r&quot;hello[0-9]+&quot;, &#39;hello1&#39;))
True</code></pre>
</section>
<section id="answer-3-score-32" class="level4">
<h4>Answer 3 (score 32)</h4>
<p>Please try the following:</p>
<pre class="regex"><code>import re

name = [&quot;A1B1&quot;, &quot;djdd&quot;, &quot;B2C4&quot;, &quot;C2H2&quot;, &quot;jdoi&quot;,&quot;1A4V&quot;]

# Match names.
for element in name:
     m = re.match(&quot;(^[A-Z]\d[A-Z]\d)&quot;, element)
     if m:
        print(m.groups())</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-split-a-string-with-multiple-separators-in-javascript-score-442421-in-2015" class="level3">
<h3>52: How do I split a string with multiple separators in javascript? (score <a href="https://stackoverflow.com/q/650022.html">442421</a> in 2015)</h3>
<section id="question-51" class="level4">
<h4>Question</h4>
<p>How do I split a string with multiple separators in JavaScript? I’m trying to split on both commas and spaces but, AFAIK, JS’s split function only supports one separator.</p>
</section>
<section id="answer-accepted-score-639" class="level4">
<h4>Answer accepted (score 639)</h4>
<p>Pass in a regexp as the parameter:</p>
<pre class="regex"><code>js&amp;gt; &quot;Hello awesome, world!&quot;.split(/[\s,]+/)
Hello,awesome,world!</code></pre>
<p><strong>Edited to add:</strong></p>
<p>You can get the last element by selecting the length of the array minus 1:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; bits = &quot;Hello awesome, world!&quot;.split(/[\s,]+/)
[&quot;Hello&quot;, &quot;awesome&quot;, &quot;world!&quot;]
&amp;gt;&amp;gt;&amp;gt; bit = bits[bits.length - 1]
&quot;world!&quot;</code></pre>
<p>… and if the pattern doesn’t match:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; bits = &quot;Hello awesome, world!&quot;.split(/foo/)
[&quot;Hello awesome, world!&quot;]
&amp;gt;&amp;gt;&amp;gt; bits[bits.length - 1]
&quot;Hello awesome, world!&quot;</code></pre>
</section>
<section id="answer-2-score-168" class="level4">
<h4>Answer 2 (score 168)</h4>
<p>You can pass a regex into <a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/String/split" rel="noreferrer">Javascript’s split operator</a>. For example:</p>
<pre class="regex"><code>&quot;1,2 3&quot;.split(/,| /) 
[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</code></pre>
<p>Or, if you want to allow multiple separators together to act as one only:</p>
<pre class="regex"><code>&quot;1, 2, , 3&quot;.split(/(?:,| )+/) 
[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</code></pre>
<p>(You have to use the non-capturing (?:) parens because otherwise it gets spliced back into the result. Or you can be smart like Aaron and use a character class.)</p>
<p>(Examples tested in Safari + FF)</p>
</section>
<section id="answer-3-score-48" class="level4">
<h4>Answer 3 (score 48)</h4>
<p>Another simple but effective method is to use split + join repeatedly.</p>
<pre class="regex"><code>&quot;a=b,c:d&quot;.split(&#39;=&#39;).join(&#39;,&#39;).split(&#39;:&#39;).join(&#39;,&#39;).split(&#39;,&#39;)</code></pre>
<p>Essentially doing a split followed by a join is like a global replace so this replaces each separator with a comma then once all are replaced it does a final split on comma</p>
<p>The result of the above expression is:</p>
<pre class="regex"><code>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</code></pre>
<p>Expanding on this you could also place it in a function:</p>
<pre class="regex"><code>function splitMulti(str, tokens){
        var tempChar = tokens[0]; // We can use the first token as a temporary join character
        for(var i = 1; i &amp;lt; tokens.length; i++){
            str = str.split(tokens[i]).join(tempChar);
        }
        str = str.split(tempChar);
        return str;
}</code></pre>
<p>Usage:</p>
<pre class="regex"><code>splitMulti(&#39;a=b,c:d&#39;, [&#39;=&#39;, &#39;,&#39;, &#39;:&#39;]) // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</code></pre>
<p>If you use this functionality a lot it might even be worth considering wrapping <code>String.prototype.split</code> for convenience (I think my function is fairly safe - the only consideration is the additional overhead of the conditionals (minor) and the fact that it lacks an implementation of the limit argument if an array is passed).</p>
<p>Be sure to include the <code>splitMulti</code> function if using this approach to the below simply wraps it :). Also worth noting that some people frown on extending built-ins (as many people do it wrong and conflicts can occur) so if in doubt speak to someone more senior before using this or ask on SO :)</p>
<pre class="regex"><code>    var splitOrig = String.prototype.split; // Maintain a reference to inbuilt fn
    String.prototype.split = function (){
        if(arguments[0].length &amp;gt; 0){
            if(Object.prototype.toString.call(arguments[0]) == &quot;[object Array]&quot; ) { // Check if our separator is an array
                return splitMulti(this, arguments[0]);  // Call splitMulti
            }
        }
        return splitOrig.apply(this, arguments); // Call original split maintaining context
    };</code></pre>
<p>Usage:</p>
<pre class="regex"><code>var a = &quot;a=b,c:d&quot;;
    a.split([&#39;=&#39;, &#39;,&#39;, &#39;:&#39;]); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]

// Test to check that the built-in split still works (although our wrapper wouldn&#39;t work if it didn&#39;t as it depends on it :P)
        a.split(&#39;=&#39;); // [&quot;a&quot;, &quot;b,c:d&quot;] </code></pre>
<p>Enjoy!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-count-string-occurrence-in-string-score-426426-in" class="level3">
<h3>53: How to count string occurrence in string? (score <a href="https://stackoverflow.com/q/4009756.html">426426</a> in )</h3>
<section id="question-52" class="level4">
<h4>Question</h4>
<p>How can I count the number of times a particular string occurs in another string. For example, this is what I am trying to do in Javascript:</p>
<pre class="regex"><code>var temp = &quot;This is a string.&quot;;
alert(temp.count(&quot;is&quot;)); //should output &#39;2&#39;</code></pre>
</section>
<section id="answer-accepted-score-933" class="level4">
<h4>Answer accepted (score 933)</h4>
<p>The <code>g</code> in the regular expression (short for <em>global</em>) says to search the whole string rather than just find the first occurrence. This matches <code>is</code> twice:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var temp = &quot;This is a string.&quot;;
var count = (temp.match(/is/g) || []).length;
console.log(count);</code></pre>
</div>
</div>
<p>And, if there are no matches, it returns <code>0</code>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var temp = &quot;Hello World!&quot;;
var count = (temp.match(/is/g) || []).length;
console.log(count);</code></pre>
</div>
</div>
</section>
<section id="answer-2-score-224" class="level4">
<h4>Answer 2 (score 224)</h4>
<pre class="regex"><code>/** Function that count occurrences of a substring in a string;
 * @param {String} string               The string
 * @param {String} subString            The sub string to search for
 * @param {Boolean} [allowOverlapping]  Optional. (Default:false)
 *
 * @author Vitim.us https://gist.github.com/victornpb/7736865
 * @see Unit Test https://jsfiddle.net/Victornpb/5axuh96u/
 * @see http://stackoverflow.com/questions/4009756/how-to-count-string-occurrence-in-string/7924240#7924240
 */
function occurrences(string, subString, allowOverlapping) {

    string += &quot;&quot;;
    subString += &quot;&quot;;
    if (subString.length &amp;lt;= 0) return (string.length + 1);

    var n = 0,
        pos = 0,
        step = allowOverlapping ? 1 : subString.length;

    while (true) {
        pos = string.indexOf(subString, pos);
        if (pos &amp;gt;= 0) {
            ++n;
            pos += step;
        } else break;
    }
    return n;
}</code></pre>
<h5>
Usage
</h2>
<pre class="regex"><code>occurrences(&quot;foofoofoo&quot;, &quot;bar&quot;); //0

occurrences(&quot;foofoofoo&quot;, &quot;foo&quot;); //3

occurrences(&quot;foofoofoo&quot;, &quot;foofoo&quot;); //1</code></pre>
<h5>
allowOverlapping
</h3>
<pre class="regex"><code>occurrences(&quot;foofoofoo&quot;, &quot;foofoo&quot;, true); //2</code></pre>
<p>Matches:</p>
<pre class="regex"><code>  foofoofoo
1 `----´
2    `----´</code></pre>
<h5>
Unit Test
</h2>
<ul>
<li>
<a href="https://jsfiddle.net/Victornpb/5axuh96u/" rel="noreferrer">https://jsfiddle.net/Victornpb/5axuh96u/</a>
</li>
</ul>
<h5>
Benchmark
</h2>
<blockquote>
<p>
I’ve made a benchmark test and my function is more then 10 times faster then the regexp match function posted by gumbo. In my test string is 25 chars length. with 2 occurences of the character ‘o’. I executed 1 000 000 times in Safari.
</p>
<p><strong>Safari 5.1</strong></p>
<p>Benchmark&gt; Total time execution: 5617 ms (regexp)</p>
<p>Benchmark&gt; Total time execution: 881 ms (my function 6.4x faster)</p>
<p><strong>Firefox 4</strong></p>
<p>Benchmark&gt; Total time execution: 8547 ms (Rexexp)</p>
<p>Benchmark&gt; Total time execution: 634 ms (my function 13.5x faster)</p>
<hr>
<p>Edit: changes I’ve made</p>
<ul>
<li>
<p>
cached substring length
</p>
</li>
<li>
<p>
added type-casting to string.
</p>
</li>
<li>
<p>
added optional ‘allowOverlapping’ parameter
</p>
</li>
<li>
<p>
fixed correct output for &quot;&quot; empty substring case.
</p>
</li>
</ul>
</blockquote>
<p>Gist</p>
<ul>
<li>
<a href="https://gist.github.com/victornpb/7736865" rel="noreferrer">https://gist.github.com/victornpb/7736865</a>
</li>
</ul>
</section>
<section id="answer-3-score-99" class="level4">
<h4>Answer 3 (score 99)</h4>
<pre class="regex"><code>function countInstances(string, word) {
   return string.split(word).length - 1;
}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-allow-spaces-between-words-score-425290-in-2019" class="level3">
<h3>54: Regular expression to allow spaces between words (score <a href="https://stackoverflow.com/q/15472764.html">425290</a> in 2019)</h3>
<section id="question-53" class="level4">
<h4>Question</h4>
<p>I want a regular expression that prevents symbols and only allows letters and numbers. The regex below works great, but it doesn’t allow for spaces between words.</p>
<pre class="regex"><code>^[a-zA-Z0-9_]*$</code></pre>
<p>For example, when using this regular expression “HelloWorld” is fine, but “Hello World” does not match.</p>
<p>How can I tweak it to allow spaces?</p>
</section>
<section id="answer-accepted-score-305" class="level4">
<h4>Answer accepted (score 305)</h4>
<h5>
tl;dr
</h1>
<p>Just add a space in your <a href="http://www.regular-expressions.info/charclass.html" rel="noreferrer">character class</a>.</p>
<pre class="regex"><code>^[a-zA-Z0-9_ ]*$</code></pre>
<p> </p>
<hr>
<h5>
Now, if you want to be strict…
</h1>
<p>The above isn’t exactly correct. Due to the fact that <code>*</code> means <em>zero or more</em>, it would match all of the following cases that one would not usually mean to match:</p>
<ul>
<li>
An empty string, &quot;&quot;.
</li>
<li>
A string comprised entirely of spaces, “      ”.
</li>
<li>
A string that leads and / or trails with spaces, “   Hello World  ”.
</li>
<li>
A string that contains multiple spaces in between words, “Hello   World”.
</li>
</ul>
<p>Originally I didn’t think such details were worth going into, as OP was asking such a basic question that it seemed strictness wasn’t a concern. Now that the question’s gained some popularity however, I want to say…</p>
<h5>
…use <a href="https://stackoverflow.com/a/15473717/3886459"><span class="citation" data-cites="stema">@stema</span>’s answer</a>.
</h2>
<p>Which, in my flavor (without using <code>\w</code>) translates to:</p>
<pre class="regex"><code>^[a-zA-Z0-9_]+( [a-zA-Z0-9_]+)*$</code></pre>
<p>(Please upvote <span class="citation" data-cites="stema">@stema</span> regardless.)</p>
<p>Some things to note about this (and <span class="citation" data-cites="stema">@stema</span>’s) answer:</p>
<ul>
<li>
<p>
If you want to allow <em>multiple</em> spaces between words (say, if you’d like to allow accidental double-spaces, or if you’re working with copy-pasted text from a PDF), then add a <code>+</code> after the space:
</p>
<code>regex ^\w+( +\w+)*$</code>
</li>
<li>
<p>
If you want to allow tabs and newlines (whitespace characters), then replace the space with a <code>\s+</code>:
</p>
<pre class="regex"><code>^\w+(\s+\w+)*$</code></pre>
Here I suggest the <code>+</code> by default because, for example, Windows linebreaks consist of <em>two</em> whitespace characters in sequence, <code>\r\n</code>, so you’ll need the <code>+</code> to catch both.
</li>
</ul>
<h5>
Still not working?
</h1>
<p>Check what dialect of regular expressions you’re using.<sup>*</sup> In languages like Java you’ll have to escape your backslashes, <em>i.e.</em> <code>\\w</code> and <code>\\s</code>. In older or more basic languages and utilities, like <code>sed</code>, <code>\w</code> and <code>\s</code> aren’t defined, so write them out with character classes, <em>e.g.</em> <code>[a-zA-Z0-9_]</code> and <code>[\f\n\p\r\t]</code>, respectively.</p>
<p> </p>
<hr>
<p><sup><sup>*</sup> I know this question is tagged <a href="/questions/tagged/vb.net" class="post-tag" title="show questions tagged &#39;vb.net&#39;" rel="tag">vb.net</a>, but based on 25,000+ views, I’m guessing it’s not only those folks who are coming across this question. Currently it’s the first hit on google for the search phrase, <em>regular expression space word</em>.</sup></p>
</section>
<section id="answer-2-score-105" class="level4">
<h4>Answer 2 (score 105)</h4>
<p>One possibility would be to just add the space into you character class, like acheong87 suggested, this depends on how strict you are on your pattern, because this would also allow a string starting with 5 spaces, or strings consisting only of spaces.</p>
<p>The other possibility is to define a pattern:</p>
<p>I will use <code>\w</code> this is in most regex flavours the same than <code>[a-zA-Z0-9_]</code> (in some it is Unicode based)</p>
<pre class="regex"><code>^\w+( \w+)*$</code></pre>
<p>This will allow a series of at least one word and the words are divided by spaces.</p>
<p><code>^</code> Match the start of the string</p>
<p><code>\w+</code> Match a series of at least one word character</p>
<p><code>( \w+)*</code> is a group that is repeated 0 or more times. In the group it expects a space followed by a series of at least one word character</p>
<p><code>$</code> matches the end of the string</p>
</section>
<section id="answer-3-score-21" class="level4">
<h4>Answer 3 (score 21)</h4>
<p>This one worked for me</p>
<pre class="regex"><code>([\w ]+)</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="validating-email-addresses-using-jquery-and-regex-score-422825-in-2017" class="level3">
<h3>55: Validating email addresses using jQuery and regex (score <a href="https://stackoverflow.com/q/2855865.html">422825</a> in 2017)</h3>
<section id="question-54" class="level4">
<h4>Question</h4>
<p>I’m not too sure how to do this. I need to validate email addresses using regex with something like this:</p>
<pre class="regex"><code>[a-z0-9!#$%&amp;amp;&#39;*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;amp;&#39;*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?\.)+(?:[A-Z]{2}|com|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum)</code></pre>
<p>Then I need to run this in a jQuery function like this:</p>
<pre class="regex"><code>$j(&quot;#fld_emailaddress&quot;).live(&#39;change&#39;,function() { 
var emailaddress = $j(&quot;#fld_emailaddress&quot;).val();

// validation here? 

if(emailaddress){}

// end validation

$j.ajax({  
        type: &quot;POST&quot;,  
         url: &quot;../ff-admin/ff-register/ff-user-check.php&quot;,  
        data: &quot;fld_emailaddress=&quot;+ emailaddress,  
        success: function(msg)
        { 
            if(msg == &#39;OK&#39;) { 
            $j(&quot;#fld_username&quot;).attr(&#39;disabled&#39;,false); 
            $j(&quot;#fld_password&quot;).attr(&#39;disabled&#39;,false); 
            $j(&quot;#cmd_register_submit&quot;).attr(&#39;disabled&#39;,false); 
            $j(&quot;#fld_emailaddress&quot;).removeClass(&#39;object_error&#39;); // if necessary
            $j(&quot;#fld_emailaddress&quot;).addClass(&quot;object_ok&quot;);
            $j(&#39;#email_ac&#39;).html(&#39;&amp;amp;nbsp;&amp;lt;img src=&quot;img/cool.png&quot; align=&quot;absmiddle&quot;&amp;gt; &amp;lt;font color=&quot;Green&quot;&amp;gt; Your email &amp;lt;strong&amp;gt;&#39;+ emailaddress+&#39;&amp;lt;/strong&amp;gt; is OK.&amp;lt;/font&amp;gt;  &#39;);
            } else {  
            $j(&quot;#fld_username&quot;).attr(&#39;disabled&#39;,true); 
            $j(&quot;#fld_password&quot;).attr(&#39;disabled&#39;,true); 
            $j(&quot;#cmd_register_submit&quot;).attr(&#39;disabled&#39;,true);  
            $j(&quot;#fld_emailaddress&quot;).removeClass(&#39;object_ok&#39;); // if necessary
            $j(&quot;#fld_emailaddress&quot;).addClass(&quot;object_error&quot;);
            $j(&#39;#email_ac&#39;).html(msg);
            }
        }
     });
});</code></pre>
<p>Where does the validation go and what is the expression?</p>
</section>
<section id="answer-accepted-score-489" class="level4">
<h4>Answer accepted (score 489)</h4>
<h5>
UPDATES
</h1>
<ul>
<li>
<a href="http://so.lucafilosofi.com/jquery-validate-e-mail-address-regex/" rel="noreferrer">http://so.lucafilosofi.com/jquery-validate-e-mail-address-regex/</a>
</li>
<li>
using new regex
</li>
<li>
added support for <a href="http://en.wikipedia.org/wiki/Email_address#Address_tags" rel="noreferrer">Address tags</a> (+ sign)
</li>
</ul>
<hr>
<pre class="regex"><code>function isValidEmailAddress(emailAddress) {
    var pattern = /^([a-z\d!#$%&amp;amp;&#39;*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&amp;amp;&#39;*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|&quot;((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?&quot;)@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    return pattern.test(emailAddress);
}</code></pre>
<hr>
<pre class="regex"><code>if( !isValidEmailAddress( emailaddress ) ) { /* do stuff here */ }</code></pre>
<ul>
<li>
<strong>NOTE:</strong> <a href="https://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses">keep in mind that no 100% regex</a> email check exists!
</li>
</ul>
</section>
<section id="answer-2-score-28" class="level4">
<h4>Answer 2 (score 28)</h4>
<p>This is my solution:</p>
<pre class="regex"><code>function isValidEmailAddress(emailAddress) {
    var pattern = new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);
    // alert( pattern.test(emailAddress) );
    return pattern.test(emailAddress);
};</code></pre>
<p><strike>Found that RegExp over here: <a href="http://mdskinner.com/code/email-regex-and-validation-jquery" rel="noreferrer">http://mdskinner.com/code/email-regex-and-validation-jquery</a></strike></p>
</section>
<section id="answer-3-score-14-2" class="level4">
<h4>Answer 3 (score 14)</h4>
<pre class="regex"><code>$(document).ready(function() {

$(&#39;#emailid&#39;).focusout(function(){

                $(&#39;#emailid&#39;).filter(function(){
                   var emil=$(&#39;#emailid&#39;).val();
              var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
            if( !emailReg.test( emil ) ) {
                alert(&#39;Please enter valid email&#39;);
                } else {
                alert(&#39;Thank you for your valid email&#39;);
                }
                })
            });
});</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-new-lines-from-string-and-replace-with-one-empty-space-score-421794-in-2019" class="level3">
<h3>56: Remove new lines from string and replace with one empty space (score <a href="https://stackoverflow.com/q/3760816.html">421794</a> in 2019)</h3>
<section id="question-55" class="level4">
<h4>Question</h4>
<pre class="regex"><code>$string = &quot;
put returns between paragraphs

for linebreak add 2 spaces at end

&quot;;</code></pre>
<p>Want to remove all new lines from string.</p>
<p>I’ve this regex, it can catch all of them, the problem is I don’t know with which function should I use it.</p>
<pre class="regex"><code>/\r\n|\r|\n/</code></pre>
<p><code>$string</code> should become:</p>
<pre class="regex"><code>$string = &quot;put returns between paragraphs for linebreak add 2 spaces at end &quot;;</code></pre>
</section>
<section id="answer-accepted-score-540" class="level4">
<h4>Answer accepted (score 540)</h4>
<p>You have to be cautious of double line breaks, which would cause double spaces. Use this really efficient regular expression:</p>
<pre class="regex"><code>$string = trim(preg_replace(&#39;/\s\s+/&#39;, &#39; &#39;, $string));</code></pre>
<p>Multiple spaces and newlines are replaced with a single space.</p>
<p><strong>Edit:</strong> As others have pointed out, this solution has issues matching single newlines in between words. This is not present in the example, but one can easily see how that situation could occur. An alternative is to do the following:</p>
<pre class="regex"><code>$string = trim(preg_replace(&#39;/\s+/&#39;, &#39; &#39;, $string));</code></pre>
</section>
<section id="answer-2-score-172" class="level4">
<h4>Answer 2 (score 172)</h4>
<p>A few comments on the accepted answer:</p>
<p>The <code>+</code> means “1 or more”. I don’t think you need to repeat <code>\s</code>. I think you can simply write <code>'/\s+/'</code>.</p>
<p>Also, if you want to remove whitespace first and last in the string, add <code>trim</code>.</p>
<p>With these modifications, the code would be:</p>
<pre class="regex"><code>$string = preg_replace(&#39;/\s+/&#39;, &#39; &#39;, trim($string));</code></pre>
</section>
<section id="answer-3-score-72" class="level4">
<h4>Answer 3 (score 72)</h4>
<p>Just use <a href="http://php.net/manual/en/function.preg-replace.php" rel="noreferrer"><code>preg_replace()</code></a></p>
<pre class="regex"><code>$string = preg_replace(&#39;~[\r\n]+~&#39;, &#39;&#39;, $string);</code></pre>
<p>You could get away with <a href="http://php.net/manual/en/function.str-replace.php" rel="noreferrer"><code>str_replace()</code></a> on this one, although the code doesn’t look as clean:</p>
<pre class="regex"><code>$string = str_replace(array(&quot;\n&quot;, &quot;\r&quot;), &#39;&#39;, $string);</code></pre>
<p>See it live on <a href="http://ideone.com/ugNOZ" rel="noreferrer">ideone</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-do-a-regular-expression-replace-in-mysql-score-412329-in-2017" class="level3">
<h3>57: How to do a regular expression replace in MySQL? (score <a href="https://stackoverflow.com/q/986826.html">412329</a> in 2017)</h3>
<section id="question-56" class="level4">
<h4>Question</h4>
<p>I have a table with ~500k rows; varchar(255) UTF8 column <code>filename</code> contains a file name;</p>
<p>I’m trying to strip out various strange characters out of the filename - thought I’d use a character class: <code>[^a-zA-Z0-9()_ .\-]</code></p>
<p>Now, <strong>is there a function in MySQL that lets you replace through a regular expression</strong>? I’m looking for a similar functionality to REPLACE() function - simplified example follows:</p>
<pre class="regex"><code>SELECT REPLACE(&#39;stackowerflow&#39;, &#39;ower&#39;, &#39;over&#39;);

Output: &quot;stackoverflow&quot;

/* does something like this exist? */
SELECT X_REG_REPLACE(&#39;Stackoverflow&#39;,&#39;/[A-Zf]/&#39;,&#39;-&#39;); 

Output: &quot;-tackover-low&quot;</code></pre>
<p>I know about <a href="https://stackoverflow.com/a/6943142/19746">REGEXP/RLIKE</a>, but those only check <em>if</em> there is a match, not <em>what</em> the match is.</p>
<p>(I <em>could</em> do a “<code>SELECT pkey_id,filename FROM foo WHERE filename RLIKE '[^a-zA-Z0-9()_ .\-]'</code>” from a PHP script, do a <code>preg_replace</code> and then “<code>UPDATE foo ... WHERE pkey_id=...</code>”, but that looks like a last-resort slow &amp; ugly hack)</p>
</section>
<section id="answer-accepted-score-45" class="level4">
<h4>Answer accepted (score 45)</h4>
<p>MySQL 8.0+ you could use natively <code>REGEXP_REPLACE</code>.</p>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/regexp.html#function_regexp-replace" rel="noreferrer">12.5.2 Regular Expressions</a>:</p>
<blockquote>
<p><strong>REGEXP_REPLACE(expr, pat, repl[, pos[, occurrence[, match_type]]])</strong></p>
Replaces occurrences in the string expr that match the regular expression specified by the pattern pat with the replacement string repl, and returns the resulting string. If expr, pat, or repl is NULL, the return value is NULL.
</blockquote>
<p>and <a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-nutshell.html" rel="noreferrer">Regular expression support</a>:</p>
<blockquote>
<p>Previously, MySQL used the Henry Spencer regular expression library to support regular expression operators (REGEXP, RLIKE).</p>
Regular expression support has been reimplemented using International Components for Unicode (ICU), which provides full Unicode support and is multibyte safe. The REGEXP_LIKE() function performs regular expression matching in the manner of the REGEXP and RLIKE operators, which now are synonyms for that function. <strong>In addition, the REGEXP_INSTR(), REGEXP_REPLACE(), and REGEXP_SUBSTR() functions are available to find match positions and perform substring substitution and extraction, respectively.</strong>
</blockquote>
<pre class="regex"><code>SELECT REGEXP_REPLACE(&#39;Stackoverflow&#39;,&#39;[A-Zf]&#39;,&#39;-&#39;,1,0,&#39;c&#39;); 
-- Output:
-tackover-low</code></pre>
<p><strong><a href="https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=b2436ab953a61ed401284357140777d4" rel="noreferrer">DBFiddle Demo</a></strong></p>
</section>
<section id="answer-2-score-140" class="level4">
<h4>Answer 2 (score 140)</h4>
<p>No.</p>
<p>But if you have access to your server, you could use a user defined function (UDF) like <a href="https://github.com/hholzgra/mysql-udf-regexp" rel="noreferrer">mysql-udf-regexp</a>.</p>
<p><strong>EDIT:</strong> MySQL 8.0+ you could use natively REGEXP_REPLACE. More in answer above</p>
</section>
<section id="answer-3-score-122-1" class="level4">
<h4>Answer 3 (score 122)</h4>
<p>Use MariaDB instead. It has a function</p>
<pre class="regex"><code>REGEXP_REPLACE(col, regexp, replace)</code></pre>
<p>See <a href="https://mariadb.com/kb/en/mariadb/documentation/functions-and-operators/string-functions/regular-expressions-functions/pcre-regular-expressions/">MariaDB docs</a> and <a href="https://mariadb.com/kb/en/mariadb/documentation/functions-and-operators/string-functions/regular-expressions-functions/pcre-regular-expressions/">PCRE Regular expression enhancements</a></p>
<p>Note that you can use regexp grouping as well (I found that very useful):</p>
<pre class="regex"><code>SELECT REGEXP_REPLACE(&quot;stackoverflow&quot;, &quot;(stack)(over)(flow)&quot;, &#39;\\2 - \\1 - \\3&#39;)</code></pre>
<p>returns</p>
<pre class="regex"><code>over - stack - flow</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-all-special-characters-punctuation-and-spaces-from-string-score-410777-in-2015" class="level3">
<h3>58: Remove all special characters, punctuation and spaces from string (score <a href="https://stackoverflow.com/q/5843518.html">410777</a> in 2015)</h3>
<section id="question-57" class="level4">
<h4>Question</h4>
<p>I need to remove all special characters, punctuation and spaces from a string so that I only have letters and numbers.</p>
</section>
<section id="answer-accepted-score-301" class="level4">
<h4>Answer accepted (score 301)</h4>
<p>This can be done without regex:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; string = &quot;Special $#! characters   spaces 888323&quot;
&amp;gt;&amp;gt;&amp;gt; &#39;&#39;.join(e for e in string if e.isalnum())
&#39;Specialcharactersspaces888323&#39;</code></pre>
<p>You can use <a href="https://docs.python.org/library/stdtypes.html#str.isalnum" rel="noreferrer"><code>str.isalnum</code></a>:</p>
<blockquote>
<pre class="regex"><code>S.isalnum() -&amp;gt; bool

Return True if all characters in S are alphanumeric
and there is at least one character in S, False otherwise.</code></pre>
</blockquote>
<p>If you insist on using regex, other solutions will do fine. However note that if it can be done without using a regular expression, that’s the best way to go about it.</p>
</section>
<section id="answer-2-score-183" class="level4">
<h4>Answer 2 (score 183)</h4>
<p>Here is a regex to match a string of characters that are not a letters or numbers:</p>
<pre class="regex"><code>[^A-Za-z0-9]+</code></pre>
<p>Here is the Python command to do a regex substitution:</p>
<pre class="regex"><code>re.sub(&#39;[^A-Za-z0-9]+&#39;, &#39;&#39;, mystring)</code></pre>
</section>
<section id="answer-3-score-39" class="level4">
<h4>Answer 3 (score 39)</h4>
<p>Shorter way :</p>
<pre class="regex"><code>import re
cleanString = re.sub(&#39;\W+&#39;,&#39;&#39;, string )</code></pre>
<p>If you want spaces between words and numbers substitute ’’ with ’ ’</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-print-matched-regex-pattern-using-awk-score-406650-in-2018" class="level3">
<h3>59: How to print matched regex pattern using awk? (score <a href="https://stackoverflow.com/q/5536018.html">406650</a> in 2018)</h3>
<section id="question-58" class="level4">
<h4>Question</h4>
<p>Using <code>awk</code>, I need to find a word in a file that matches a regex pattern.</p>
<p>I <em>only</em> want to print the word matched with the pattern.</p>
<p>So if in the line, I have:</p>
<pre class="regex"><code>xxx yyy zzz</code></pre>
<p>And pattern:</p>
<pre class="regex"><code>/yyy/</code></pre>
<p>I want to only get:</p>
<pre class="regex"><code>yyy</code></pre>
<hr>
<p>
EDIT: thanks to <strong>kurumi</strong> i managed to write something like this:
</p>
<pre class="regex"><code>awk &#39;{
        for(i=1; i&amp;lt;=NF; i++) {
                tmp=match($i, /[0-9]..?.?[^A-Za-z0-9]/)
                if(tmp) {
                        print $i
                }
        }
}&#39; $1</code></pre>
<p>and this is what i needed :) thanks a lot!</p>
</section>
<section id="answer-accepted-score-133" class="level4">
<h4>Answer accepted (score 133)</h4>
<p>This is the very basic</p>
<pre class="regex"><code>awk &#39;/pattern/{ print $0 }&#39; file</code></pre>
<p>ask <code>awk</code> to search for <code>pattern</code> using <code>//</code>, then print out the line, which by default is called a record, denoted by $0. At least read up the <a href="http://www.gnu.org/software/gawk/manual">documentation</a>.</p>
<p>If you only want to get print out the matched word.</p>
<pre class="regex"><code>awk &#39;{for(i=1;i&amp;lt;=NF;i++){ if($i==&quot;yyy&quot;){print $i} } }&#39; file</code></pre>
</section>
<section id="answer-2-score-102" class="level4">
<h4>Answer 2 (score 102)</h4>
<p>It sounds like you are trying to emulate GNU’s <code>grep -o</code> behaviour. This will do that providing you only want the first match on each line:</p>
<pre class="regex"><code>awk &#39;match($0, /regex/) {
    print substr($0, RSTART, RLENGTH)
}
&#39; file</code></pre>
<p>Here’s an example:</p>
<pre class="regex"><code>% awk &#39;match($0, /a.t/) {
    print substr($0, RSTART, RLENGTH)
}
&#39; /usr/share/dict/words | head
act
act
act
act
aft
ant
apt
art
art
art</code></pre>
<p>Read about <a href="https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html#index-match_0028_0029-function" rel="noreferrer"><code>match</code></a>, <a href="https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html#index-substr_0028_0029-function" rel="noreferrer"><code>substr</code></a>, <a href="https://www.gnu.org/software/gawk/manual/html_node/Auto_002dset.html#index-RSTART-variable" rel="noreferrer"><code>RSTART</code></a> and <a href="https://www.gnu.org/software/gawk/manual/html_node/Auto_002dset.html#index-RLENGTH-variable" rel="noreferrer"><code>RLENGTH</code></a> in the <code>awk</code> manual.</p>
<p>After that you may wish to extend this to deal with multiple matches on the same line. I can’t do <em>all</em> your homework for you :-)</p>
</section>
<section id="answer-3-score-30" class="level4">
<h4>Answer 3 (score 30)</h4>
<p><strong><em>gawk</em></strong> can get the matching part of every line using this as action:</p>
<pre class="regex"><code>{ if (match($0,/your regexp/,m)) print m[0] }</code></pre>
<blockquote>
<p>
match(string, regexp [, array]) If array is present, it is cleared, and then the zeroth element of array is set to the entire portion of string matched by regexp. If regexp contains parentheses, the integer-indexed elements of array are set to contain the portion of string matching the corresponding parenthesized subexpression. <a href="http://www.gnu.org/software/gawk/manual/gawk.html#String-Functions" rel="noreferrer">http://www.gnu.org/software/gawk/manual/gawk.html#String-Functions</a>
</p>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-remove-special-characters-from-a-string-score-406020-in-2016" class="level3">
<h3>60: How to remove special characters from a string? (score <a href="https://stackoverflow.com/q/7552253.html">406020</a> in 2016)</h3>
<section id="question-59" class="level4">
<h4>Question</h4>
<p>I want to remove special characters like:</p>
<pre class="regex"><code>- + ^ . : ,</code></pre>
<p>from an String using Java.</p>
</section>
<section id="answer-accepted-score-236" class="level4">
<h4>Answer accepted (score 236)</h4>
<p>That depends on what you define as special characters, but try <code>replaceAll(...)</code>:</p>
<pre class="regex"><code>String result = yourString.replaceAll(&quot;[-+.^:,]&quot;,&quot;&quot;);</code></pre>
<p>Note that the <code>^</code> character must not be the first one in the list, since you’d then either have to escape it or it would mean “any but these characters”.</p>
<p>Another note: the <code>-</code> character needs to be the first or last one on the list, otherwise you’d have to escape it or it would define a range ( e.g. <code>:-,</code> would mean &quot;all characters in the range <code>:</code> to <code>,</code>).</p>
<p>So, in order to keep consistency and not depend on character positioning, you might want to escape all those characters that have a special meaning in regular expressions (the following list is not complete, so be aware of other characters like <code>(</code>, <code>{</code>, <code>$</code> etc.):</p>
<pre class="regex"><code>String result = yourString.replaceAll(&quot;[\\-\\+\\.\\^:,]&quot;,&quot;&quot;);</code></pre>
<p>
<br> If you want to get rid of all punctuation and symbols, try this regex: <code>\p{P}\p{S}</code> (keep in mind that in Java strings you’d have to escape back slashes: <code>&quot;\\p{P}\\p{S}&quot;</code>).
</p>
<p>A third way could be something like this, if you can exactly define what should be left in your string:</p>
<pre class="regex"><code>String  result = yourString.replaceAll(&quot;[^\\w\\s]&quot;,&quot;&quot;);</code></pre>
<p>This means: replace everything that is not a word character (a-z in any case, 0-9 or _) or whitespace.</p>
<p>Edit: please note that there are a couple of other patterns that might prove helpful. However, I can’t explain them all, so have a look at the reference section of <a href="http://www.regular-expressions.info/refunicode.html">regular-expressions.info</a>.</p>
<p>Here’s less restrictive alternative to the “define allowed characters” approach, as suggested by Ray:</p>
<pre class="regex"><code>String  result = yourString.replaceAll(&quot;[^\\p{L}\\p{Z}]&quot;,&quot;&quot;);</code></pre>
<p>The regex matches everything that is not a letter in any language and not a separator (whitespace, linebreak etc.). Note that you can’t use <code>[\P{L}\P{Z}]</code> (upper case P means not having that property), since that would mean “everything that is not a letter or not whitespace”, which almost matches everything, since letters are not whitespace and vice versa.</p>
<p><em>Additional information on Unicode</em></p>
<p>Some unicode characters seem to cause problems due to different possible ways to encode them (as a single code point or a combination of code points). Please refer to <a href="http://www.regular-expressions.info/refunicode.html">regular-expressions.info</a> for more information.</p>
</section>
<section id="answer-2-score-16" class="level4">
<h4>Answer 2 (score 16)</h4>
<p>
As described here <a href="http://developer.android.com/reference/java/util/regex/Pattern.html">http://developer.android.com/reference/java/util/regex/Pattern.html</a>
</p>
<blockquote>
Patterns are compiled regular expressions. In many cases, convenience methods such as <code>String.matches</code>, <code>String.replaceAll</code> and <code>String.split</code> will be preferable, but if you need to do a lot of work with the same regular expression, it may be more efficient to compile it once and reuse it. The Pattern class and its companion, Matcher, also offer more functionality than the small amount exposed by String.
</blockquote>
<pre class="regex"><code>public class RegularExpressionTest {

public static void main(String[] args) {
    System.out.println(&quot;String is = &quot;+getOnlyStrings(&quot;!&amp;amp;(*^*(^(+one(&amp;amp;(^()(*)(*&amp;amp;^%$#@!#$%^&amp;amp;*()(&quot;));
    System.out.println(&quot;Number is = &quot;+getOnlyDigits(&quot;&amp;amp;(*^*(^(+91-&amp;amp;*9hi-639-0097(&amp;amp;(^(&quot;));
}

 public static String getOnlyDigits(String s) {
    Pattern pattern = Pattern.compile(&quot;[^0-9]&quot;);
    Matcher matcher = pattern.matcher(s);
    String number = matcher.replaceAll(&quot;&quot;);
    return number;
 }
 public static String getOnlyStrings(String s) {
    Pattern pattern = Pattern.compile(&quot;[^a-z A-Z]&quot;);
    Matcher matcher = pattern.matcher(s);
    String number = matcher.replaceAll(&quot;&quot;);
    return number;
 }
}</code></pre>
<p>Result</p>
<pre class="regex"><code>String is = one
Number is = 9196390097</code></pre>
</section>
<section id="answer-3-score-16" class="level4">
<h4>Answer 3 (score 16)</h4>
<p>
As described here <a href="http://developer.android.com/reference/java/util/regex/Pattern.html">http://developer.android.com/reference/java/util/regex/Pattern.html</a>
</p>
<blockquote>
Patterns are compiled regular expressions. In many cases, convenience methods such as <code>String.matches</code>, <code>String.replaceAll</code> and <code>String.split</code> will be preferable, but if you need to do a lot of work with the same regular expression, it may be more efficient to compile it once and reuse it. The Pattern class and its companion, Matcher, also offer more functionality than the small amount exposed by String.
</blockquote>
<pre class="regex"><code>public class RegularExpressionTest {

public static void main(String[] args) {
    System.out.println(&quot;String is = &quot;+getOnlyStrings(&quot;!&amp;amp;(*^*(^(+one(&amp;amp;(^()(*)(*&amp;amp;^%$#@!#$%^&amp;amp;*()(&quot;));
    System.out.println(&quot;Number is = &quot;+getOnlyDigits(&quot;&amp;amp;(*^*(^(+91-&amp;amp;*9hi-639-0097(&amp;amp;(^(&quot;));
}

 public static String getOnlyDigits(String s) {
    Pattern pattern = Pattern.compile(&quot;[^0-9]&quot;);
    Matcher matcher = pattern.matcher(s);
    String number = matcher.replaceAll(&quot;&quot;);
    return number;
 }
 public static String getOnlyStrings(String s) {
    Pattern pattern = Pattern.compile(&quot;[^a-z A-Z]&quot;);
    Matcher matcher = pattern.matcher(s);
    String number = matcher.replaceAll(&quot;&quot;);
    return number;
 }
}</code></pre>
<p>Result</p>
<pre class="regex"><code>String is = one
Number is = 9196390097</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-test-if-string-begins-with-http-or-https-score-404032-in-2011" class="level3">
<h3>61: Regex to test if string begins with http:// or https:// (score <a href="https://stackoverflow.com/q/4643142.html">404032</a> in 2011)</h3>
<section id="question-60" class="level4">
<h4>Question</h4>
<p>I’m trying to set a regexp which will check the start of a string, and if it contains either <code>http://</code> or <code>https://</code> it should match it.</p>
<p>How can I do that? I’m trying the following which isn’t working:</p>
<pre class="regex"><code>^[(http)(https)]://</code></pre>
</section>
<section id="answer-accepted-score-325" class="level4">
<h4>Answer accepted (score 325)</h4>
<p>Your use of <code>[]</code> is incorrect – note that <code>[]</code> denotes a <em>character class</em> and will therefore only ever match one character. The expression <code>[(http)(https)]</code> translates to “match a <code>(</code>, an <code>h</code>, a <code>t</code>, a <code>t</code>, a <code>p</code>, a <code>)</code>, or an <code>s</code>.” (Duplicate characters are ignored.)</p>
<p>Try this:</p>
<pre class="regex"><code>^https?://</code></pre>
<p>If you really want to use alternation, use this syntax instead:</p>
<pre class="regex"><code>^(http|https)://</code></pre>
</section>
<section id="answer-2-score-37" class="level4">
<h4>Answer 2 (score 37)</h4>
<p>Case insensitive:</p>
<pre class="regex"><code>var re = new RegExp(&quot;^(http|https)://&quot;, &quot;i&quot;);
var str = &quot;My String&quot;;
var match = re.test(str);</code></pre>
</section>
<section id="answer-3-score-25" class="level4">
<h4>Answer 3 (score 25)</h4>
<pre class="regex"><code>^https?://</code></pre>
<p>You might have to escape the forward slashes though, depending on context.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-email-validation-score-401797-in-2016" class="level3">
<h3>62: Regex Email validation (score <a href="https://stackoverflow.com/q/5342375.html">401797</a> in 2016)</h3>
<section id="question-61" class="level4">
<h4>Question</h4>
<p>I use this</p>
<pre class="regex"><code>@&quot;^([\w\.\-]+)@([\w\-]+)((\.(\w){2,3})+)$&quot;</code></pre>
<p>regexp to validate the email</p>
<p>
<code>([\w\.\-]+)</code> - this is for the first-level domain (many letters and numbers, also point and hyphen)<br><br> <code>([\w\-]+)</code> - this is for second-level domain<br><br> <code>((\.(\w){2,3})+)</code> - and this is for other level domains(from 3 to infinity) which includes a point and 2 or 3 literals<br>
</p>
<p>what’s wrong with this regex?</p>
<p>EDIT:it doesn’t match the “something@someth.ing” email</p>
</section>
<section id="answer-accepted-score-343" class="level4">
<h4>Answer accepted (score 343)</h4>
<p>TLD’s like <a href="http://en.wikipedia.org/wiki/.museum" rel="noreferrer">.museum</a> aren’t matched this way, and there are a few other long TLD’s. Also, you can validate email addresses using the <a href="http://msdn.microsoft.com/en-us/library/system.net.mail.mailaddress.aspx" rel="noreferrer">MailAddress class</a> as Microsoft explains <a href="http://msdn.microsoft.com/en-us/library/01escwtf.aspx" rel="noreferrer">here</a> in a note:</p>
<blockquote>
<p>
Instead of using a regular expression to validate an email address, you can use the System.Net.Mail.MailAddress class. To determine whether an email address is valid, pass the email address to the MailAddress.MailAddress(String) class constructor.
</p>
</blockquote>
<pre class="regex"><code>public bool IsValid(string emailaddress)
{
    try
    {
        MailAddress m = new MailAddress(emailaddress);

        return true;
    }
    catch (FormatException)
    {
        return false;
    }
}</code></pre>
<p>This saves you a lot af headaches because you don’t have to write (or try to understand someone else’s) regex.</p>
</section>
<section id="answer-2-score-91" class="level4">
<h4>Answer 2 (score 91)</h4>
<p>
I think <code>@&quot;^([\w\.\-]+)@([\w\-]+)((\.(\w){2,3})+)$&quot;</code> should work.<br> You need to write it like
</p>
<pre class="regex"><code>string email = txtemail.Text;
Regex regex = new Regex(@&quot;^([\w\.\-]+)@([\w\-]+)((\.(\w){2,3})+)$&quot;);
Match match = regex.Match(email);
if (match.Success)
    Response.Write(email + &quot; is correct&quot;);
else
    Response.Write(email + &quot; is incorrect&quot;);</code></pre>
<p>Be warned that this will fail if:</p>
<ol>
<li>
<p>
There is a subdomain after the <code>@</code> symbol.
</p>
</li>
<li>
<p>
You use a TLD with a length greater than 3, such as <code>.info</code>
</p>
</li>
</ol>
</section>
<section id="answer-3-score-65" class="level4">
<h4>Answer 3 (score 65)</h4>
<p>I have an expression for checking email addresses that I use.</p>
<p>Since none of the above were as short or as accurate as mine, I thought I would post it here.</p>
<pre class="regex"><code>@&quot;^[\w!#$%&amp;amp;&#39;*+\-/=?\^_`{|}~]+(\.[\w!#$%&amp;amp;&#39;*+\-/=?\^_`{|}~]+)*&quot;
+ &quot;@&quot;
+ @&quot;((([\-\w]+\.)+[a-zA-Z]{2,4})|(([0-9]{1,3}\.){3}[0-9]{1,3}))$&quot;;</code></pre>
<p>For more info go read about it here: <a href="https://www.rhyous.com/2010/06/15/csharp-email-regular-expression/" rel="noreferrer">C# – Email Regular Expression</a></p>
<p>Also, this checks for RFC validity based on email syntax, not for whether the email really exists. The only way to test that an email really exists is to send and email and have the user verify they received the email by clicking a link or entering a token.</p>
<p>Then there are throw-away domains, such as Mailinator.com, and such. This doesn’t do anything to verify whether an email is from a throwaway domain or not.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="jquery-selector-regular-expressions-score-401188-in-2016" class="level3">
<h3>63: jQuery selector regular expressions (score <a href="https://stackoverflow.com/q/190253.html">401188</a> in 2016)</h3>
<section id="question-62" class="level4">
<h4>Question</h4>
<p>I am after documentation on using wildcard or regular expressions (not sure on the exact terminology) with a jQuery selector.</p>
<p>I have looked for this myself but have been unable to find information on the syntax and how to use it. Does anyone know where the documentation for the syntax is?</p>
<p>EDIT: The attribute filters allow you to select based on patterns of an attribute value.</p>
</section>
<section id="answer-accepted-score-328-1" class="level4">
<h4>Answer accepted (score 328)</h4>
<p>James Padolsey created a <a href="http://james.padolsey.com/javascript/regex-selector-for-jquery/" rel="noreferrer">wonderful filter</a> that allows regex to be used for selection.</p>
<p>Say you have the following <code>div</code>:</p>
<pre class="regex"><code>&amp;lt;div class=&quot;asdf&quot;&amp;gt;</code></pre>
<p>Padolsey’s <code>:regex</code> filter can select it like so:</p>
<pre class="regex"><code>$(&quot;div:regex(class, .*sd.*)&quot;)</code></pre>
<p>Also, check the <a href="http://docs.jquery.com/Selectors" rel="noreferrer">official documentation on selectors</a>.</p>
</section>
<section id="answer-2-score-712" class="level4">
<h4>Answer 2 (score 712)</h4>
<p>You can use the <a href="http://docs.jquery.com/Traversing/filter#expr" rel="noreferrer"><code>filter</code></a> function to apply more complicated regex matching.</p>
<p>Here’s an example which would just match the first three divs:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>$(&#39;div&#39;)
  .filter(function() {
    return this.id.match(/abc+d/);
  })
  .html(&quot;Matched!&quot;);</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;

&lt;div id="abcd"&gt;Not matched&lt;/div&gt;
&lt;div id="abccd"&gt;Not matched&lt;/div&gt;
&lt;div id="abcccd"&gt;Not matched&lt;/div&gt;
&lt;div id="abd"&gt;Not matched&lt;/div&gt;</code></pre>
</div>
</div>
</section>
<section id="answer-3-score-263" class="level4">
<h4>Answer 3 (score 263)</h4>
<p>These can be helpful.</p>
<p>If you’re finding by <strong>Contains</strong> then it’ll be like this</p>
<pre class="regex"><code>    $(&quot;input[id*=&#39;DiscountType&#39;]&quot;).each(function (i, el) {
         //It&#39;ll be an array of elements
     });</code></pre>
<p>If you’re finding by <strong>Starts With</strong> then it’ll be like this</p>
<pre class="regex"><code>    $(&quot;input[id^=&#39;DiscountType&#39;]&quot;).each(function (i, el) {
         //It&#39;ll be an array of elements
     });</code></pre>
<p>If you’re finding by <strong>Ends With</strong> then it’ll be like this</p>
<pre class="regex"><code>     $(&quot;input[id$=&#39;DiscountType&#39;]&quot;).each(function (i, el) {
         //It&#39;ll be an array of elements
     });</code></pre>
<p>If you want to select elements which <strong>id is not a given string</strong></p>
<pre class="regex"><code>    $(&quot;input[id!=&#39;DiscountType&#39;]&quot;).each(function (i, el) {
         //It&#39;ll be an array of elements
     });</code></pre>
<p>If you want to select elements which <strong>name contains a given word, delimited by spaces</strong></p>
<pre class="regex"><code>     $(&quot;input[name~=&#39;DiscountType&#39;]&quot;).each(function (i, el) {
         //It&#39;ll be an array of elements
     });</code></pre>
<p>If you want to select elements which <strong>id is equal to a given string or starting with that string followed by a hyphen</strong></p>
<pre class="regex"><code>     $(&quot;input[id|=&#39;DiscountType&#39;]&quot;).each(function (i, el) {
         //It&#39;ll be an array of elements
     });</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-all-special-characters-with-regexp-score-395465-in-2018" class="level3">
<h3>64: Remove all special characters with RegExp (score <a href="https://stackoverflow.com/q/4374822.html">395465</a> in 2018)</h3>
<section id="question-63" class="level4">
<h4>Question</h4>
<p>I would like a RegExp that will remove all special characters from a string. I am trying something like this but it doesn’t work in IE7, though it works in Firefox.</p>
<pre class="regex"><code>var specialChars = &quot;!@#$^&amp;amp;%*()+=-[]\/{}|:&amp;lt;&amp;gt;?,.&quot;;

for (var i = 0; i &amp;lt; specialChars.length; i++) {
  stringToReplace = stringToReplace.replace(new RegExp(&quot;\\&quot; + specialChars[i], &quot;gi&quot;), &quot;&quot;);
}</code></pre>
<p>A detailed description of the RegExp would be helpful as well.</p>
</section>
<section id="answer-accepted-score-569" class="level4">
<h4>Answer accepted (score 569)</h4>
<pre class="regex"><code>var desired = stringToReplace.replace(/[^\w\s]/gi, &#39;&#39;)</code></pre>
<p>As was mentioned in the comments it’s easier to do this as a whitelist - replace the characters which <em>aren’t</em> in your safelist.</p>
<p>The caret (<code>^</code>) character is the negation of the set <code>[...]</code>, <code>gi</code> say global and case-insensitive (the latter is a bit redundant but I wanted to mention it) and the safelist in this example is digits, word characters, underscores (<code>\w</code>) and whitespace (<code>\s</code>).</p>
</section>
<section id="answer-2-score-91-1" class="level4">
<h4>Answer 2 (score 91)</h4>
<p>Note that if you still want to exclude a set, including things like slashes and special characters you can do the following:</p>
<pre class="regex"><code>var outString = sourceString.replace(/[`~!@#$%^&amp;amp;*()_|+\-=?;:&#39;&quot;,.&amp;lt;&amp;gt;\{\}\[\]\\\/]/gi, &#39;&#39;);</code></pre>
<p>take special note that in order to also include the “minus” character, you need to escape it with a backslash like the latter group. if you don’t it will also select 0-9 which is probably undesired.</p>
</section>
<section id="answer-3-score-19-1" class="level4">
<h4>Answer 3 (score 19)</h4>
<h5>
<strong>Plain Javascript regex does not handle Unicode letters</strong>.
</h1>
<p>Do not use <code>[^\w\s]</code>, this will remove letters with accents (like àèéìòù), not to mention to Cyrillic or Chinese, letters coming from such languages will be completed removed.</p>
<p>You really don’t want remove these letters together with all the special characters. You have two chances:</p>
<ul>
<li>
Add in your regex all the special characters you don’t want remove, <br> for example: <code>[^èéòàùì\w\s]</code>.
</li>
<li>
Have a look at <a href="http://xregexp.com/" rel="noreferrer">xregexp.com</a>. XRegExp adds base support for Unicode matching via the <code>\p{...}</code> syntax.
</li>
</ul>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var str = &quot;Їжак::: résd,$%&amp;amp; adùf&quot;
var search = XRegExp(&#39;([^?&amp;lt;first&amp;gt;\\pL ]+)&#39;);
var res = XRegExp.replace(str, search, &#39;&#39;,&quot;all&quot;);

console.log(res); // returns &quot;Їжак::: resd,adf&quot;
console.log(str.replace(/[^\w\s]/gi, &#39;&#39;) ); // returns &quot; rsd adf&quot;
console.log(str.replace(/[^\wèéòàùì\s]/gi, &#39;&#39;) ); // returns &quot; résd adùf&quot;</code></pre>
<pre class="snippet-code-html lang-html prettyprint-override">`&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/xregexp/3.1.1/xregexp-all.js"&gt;&lt;/script&gt;`</pre>
</div>
</div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-find-a-string-included-between-two-characters-while-excluding-the-delimiters-score-395344-in-2018" class="level3">
<h3>65: Regular Expression to find a string included between two characters while EXCLUDING the delimiters (score <a href="https://stackoverflow.com/q/1454913.html">395344</a> in 2018)</h3>
<section id="question-64" class="level4">
<h4>Question</h4>
<p>I need to extract from a string a set of characters which are included between two delimiters, without returning the delimiters themselves.</p>
<p>A simple example should be helpful:</p>
<p><strong>Target</strong>: extract the substring between square brackets, without returning the brackets themselves.</p>
<p><strong>Base string</strong>: <code>This is a test string [more or less]</code></p>
<p>If I use the following reg. ex.</p>
<pre>\[.*?\]</pre>
<p>The match is <code>[more or less]</code>. I need to get only <code>more or less</code> (without the brackets).</p>
<p>Is it possible to do it?</p>
</section>
<section id="answer-accepted-score-389" class="level4">
<h4>Answer accepted (score 389)</h4>
<p>Easy done:</p>
<pre class="regex"><code>(?&amp;lt;=\[)(.*?)(?=\])</code></pre>
<p>Technically that’s using lookaheads and lookbehinds. See <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">Lookahead and Lookbehind Zero-Width Assertions</a>. The pattern consists of:</p>
<ul>
<li>
is preceded by a [ that is not captured (lookbehind);
</li>
<li>
a non-greedy captured group. It’s non-greedy to stop at the first ]; and
</li>
<li>
is followed by a ] that is not captured (lookahead).
</li>
</ul>
<p>Alternatively you can just capture what’s between the square brackets:</p>
<pre class="regex"><code>\[(.*?)\]</code></pre>
<p>and return the first captured group instead of the entire match.</p>
</section>
<section id="answer-2-score-47" class="level4">
<h4>Answer 2 (score 47)</h4>
<p>If you are using <strong>JavaScript</strong>, the <a href="https://stackoverflow.com/a/1454936/1476885">first solution</a> provided by cletus, <code>(?&amp;lt;=\[)(.*?)(?=\])</code>, will not work because JavaScript doesn’t support the lookbehind operator.</p>
<p>However, the second solution works well, but you need to get the second matched element.</p>
<p>Example:</p>
<pre class="regex"><code>var regex = /\[(.*?)\]/;
var strToMatch = &quot;This is a test string [more or less]&quot;;
var matched = regex.exec(strToMatch);</code></pre>
<p>It will return:</p>
<pre class="regex"><code>[&quot;[more or less]&quot;, &quot;more or less&quot;]</code></pre>
<p>So, what you need is the second value. Use:</p>
<pre class="regex"><code>var matched = regex.exec(strToMatch)[1];</code></pre>
<p>To return:</p>
<pre class="regex"><code>&quot;more or less&quot;</code></pre>
</section>
<section id="answer-3-score-18" class="level4">
<h4>Answer 3 (score 18)</h4>
<p>You just need to ‘capture’ the bit between the brackets.</p>
<pre class="regex"><code>\[(.*?)\]</code></pre>
<p>To capture you put it inside parentheses. You do not say which language this is using. In Perl for example, you would access this using the $1 variable.</p>
<pre class="regex"><code>my $string =&#39;This is the match [more or less]&#39;;
$string =~ /\[(.*?)\]/;
print &quot;match:$1\n&quot;;</code></pre>
<p>Other languages will have different mechanisms. C#, for example, uses the <a href="http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.match%28VS.71%29.aspx" rel="noreferrer">Match collection</a> class, I believe.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="java-string-replace-using-regular-expressions-score-394664-in-2012" class="level3">
<h3>66: Java; String replace (using regular expressions)? (score <a href="https://stackoverflow.com/q/632204.html">394664</a> in 2012)</h3>
<section id="question-65" class="level4">
<h4>Question</h4>
<p>As part of a project for school, I need to replace a string from the form:</p>
<pre class="regex"><code>5 * x^3 - 6 * x^1 + 1</code></pre>
<p>to something like:</p>
<pre class="regex"><code>5x&amp;lt;sup&amp;gt;3&amp;lt;/sup&amp;gt; - 6x&amp;lt;sup&amp;gt;1&amp;lt;/sup&amp;gt; + 1</code></pre>
<p>I believe this can be done with regular expressions, but I don’t know how to do it yet.</p>
<p>Can you lend me a hand?</p>
<p>P.S. The actual assignment is to implement a Polynomial Processing Java application, and I’m using this to pass polynomial.toString() from the model to the view, and I want do display it using html tags in a pretty way.</p>
</section>
<section id="answer-2-score-157" class="level4">
<h4>Answer 2 (score 157)</h4>
<pre class="regex"><code>str.replaceAll(&quot;\\^([0-9]+)&quot;, &quot;&amp;lt;sup&amp;gt;$1&amp;lt;/sup&amp;gt;&quot;);</code></pre>
</section>
<section id="answer-3-score-33-2" class="level4">
<h4>Answer 3 (score 33)</h4>
<pre class="regex"><code>private String removeScript(String content) {
    Pattern p = Pattern.compile(&quot;&amp;lt;script[^&amp;gt;]*&amp;gt;(.*?)&amp;lt;/script&amp;gt;&quot;,
            Pattern.DOTALL | Pattern.CASE_INSENSITIVE);
    return p.matcher(content).replaceAll(&quot;&quot;);
}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="java-string-split-with-.-dot-score-387315-in-2019" class="level3">
<h3>67: Java string split with “.” (dot) (score <a href="https://stackoverflow.com/q/14833008.html">387315</a> in 2019)</h3>
<section id="question-66" class="level4">
<h4>Question</h4>
<p>Why does the second line of this code throw <code>ArrayIndexOutOfBoundsException</code>?</p>
<pre class="regex"><code>String filename = &quot;D:/some folder/001.docx&quot;;
String extensionRemoved = filename.split(&quot;.&quot;)[0];</code></pre>
<p>While this works:</p>
<pre class="regex"><code>String driveLetter = filename.split(&quot;/&quot;)[0];</code></pre>
<p>I use Java 7.</p>
</section>
<section id="answer-2-score-678" class="level4">
<h4>Answer 2 (score 678)</h4>
<p>You need to escape the dot if you want to split on a <em>literal</em> dot:</p>
<pre class="regex"><code>String extensionRemoved = filename.split(&quot;\\.&quot;)[0];</code></pre>
<p>
Otherwise you are splitting on the regex <code>.</code>, which means “any character”.<br> Note the double backslash needed to create a single backslash in the regex.
</p>
<hr>
<p>You’re getting an <code>ArrayIndexOutOfBoundsException</code> because your input string is just a dot, ie <code>&quot;.&quot;</code>, which is an edge case that produces an empty array when split on dot; <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-"><code>split(regex)</code></a> removes all trailing blanks from the result, but since splitting a dot on a dot leaves only two blanks, after trailing blanks are removed you’re left with an empty array.</p>
<p>To avoid getting an <code>ArrayIndexOutOfBoundsException</code> for this edge case, use the overloaded version of <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-"><code>split(regex, limit)</code></a>, which has a second parameter that is the size limit for the resulting array. When <code>limit</code> is <em>negative</em>, the behaviour of removing trailing blanks from the resulting array is disabled:</p>
<pre class="regex"><code>&quot;.&quot;.split(&quot;\\.&quot;, -1) // returns an array of two blanks, ie [&quot;&quot;, &quot;&quot;]</code></pre>
<p>ie, when <code>filename</code> is just a dot <code>&quot;.&quot;</code>, calling <code>filename.split(&quot;\\.&quot;, -1)[0]</code> will return a blank, but calling <code>filename.split(&quot;\\.&quot;)[0]</code> will throw an <code>ArrayIndexOutOfBoundsException</code>.</p>
</section>
<section id="answer-3-score-93" class="level4">
<h4>Answer 3 (score 93)</h4>
<p>“.” is a special character in java regex engine, so you have to use “\.” to escape this character:</p>
<pre class="regex"><code>final String extensionRemoved = filename.split(&quot;\\.&quot;)[0];</code></pre>
<p>I hope this helps</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-limit-number-of-characters-to-10-score-384603-in-2013" class="level3">
<h3>68: Regular expression to limit number of characters to 10 (score <a href="https://stackoverflow.com/q/1649435.html">384603</a> in 2013)</h3>
<section id="question-67" class="level4">
<h4>Question</h4>
<p>I am trying to write a <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expression</a> that will only allow lowercase letters and up to 10 characters. What I have so far looks like this:</p>
<pre class="regex"><code>pattern: /^[a-z]{0,10}+$/ </code></pre>
<p>This does not work or compile. I had a working one that would just allow lowercase letters which was this:</p>
<pre class="regex"><code>pattern: /^[a-z]+$/ </code></pre>
<p>But I need to limit the number of characters to 10.</p>
</section>
<section id="answer-2-score-326" class="level4">
<h4>Answer 2 (score 326)</h4>
<p>You can use curly braces to control the number of occurrences. For example, this means 0 to 10:</p>
<pre class="regex"><code>/^[a-z]{0,10}$/</code></pre>
<p>The options are:</p>
<ul>
<li>
{3} Exactly 3 occurrences;
</li>
<li>
{6,} At least 6 occurrences;
</li>
<li>
{2,5} 2 to 5 occurrences.
</li>
</ul>
<p>See the <a href="http://www.regular-expressions.info/reference.html" rel="noreferrer">regular expression reference</a>.</p>
<p>Your expression had a + after the closing curly brace, hence the error.</p>
</section>
<section id="answer-3-score-10-1" class="level4">
<h4>Answer 3 (score 10)</h4>
<p><code>/^[a-z]{0,10}$/</code> should work. <code>/^[a-z]{1,10}$/</code> if you want to match at least one character, like <code>/^[a-z]+$/</code> does.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-string-contains-score-381502-in-2016" class="level3">
<h3>69: Regex for string contains? (score <a href="https://stackoverflow.com/q/4999064.html">381502</a> in 2016)</h3>
<section id="question-68" class="level4">
<h4>Question</h4>
<p>What is the regex for simply checking if a string contains a certain word (e.g. ‘Test’)? I’ve done some googling but can’t get a straight example of such a regex. This is for a build script but has no bearing to any particular programming language.</p>
</section>
<section id="answer-accepted-score-70" class="level4">
<h4>Answer accepted (score 70)</h4>
<p>Assuming regular PCRE-style regex flavors:</p>
<p>If you want to check for it as a <em>single, full word</em>, it’s <code>\bTest\b</code>, with appropriate flags for case insensitivity if desired and delimiters for your programming language. <code>\b</code> represents a “word boundary”, that is, a point between characters where a word can be considered to start or end. For example, since spaces are used to separate words, there will be a word boundary on either side of a space.</p>
<p>If you want to check for it as <em>part of the word</em>, it’s just <code>Test</code>, again with appropriate flags for case insensitivity. Note that usually, dedicated “substring” methods tend to be faster in this case, because it removes the overhead of parsing the regex.</p>
</section>
<section id="answer-2-score-91-2" class="level4">
<h4>Answer 2 (score 91)</h4>
<p>Just don’t anchor your pattern:</p>
<pre class="regex"><code>/Test/</code></pre>
<p>The above regex will check for the literal string “Test” being found somewhere within it.</p>
</section>
<section id="answer-3-score-1" class="level4">
<h4>Answer 3 (score 1)</h4>
<p>I have hashed together different elements to get the validation we needed for student emails. I hope this is going to work I haven’t tested fully.</p>
<pre class="regex"><code>^[a-zA-Z0-9._%+-]+@\{ac|org|stu|student|stud|studmail|edu|uni}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-replace-multiple-spaces-with-a-single-space-score-379298-in-2016" class="level3">
<h3>70: Regex to replace multiple spaces with a single space (score <a href="https://stackoverflow.com/q/1981349.html">379298</a> in 2016)</h3>
<section id="question-69" class="level4">
<h4>Question</h4>
<p>Given a string like:</p>
<pre>"The dog      has a long   tail, and it     is RED!"</pre>
<p>What kind of jQuery or JavaScript magic can be used to keep spaces to only one space max?</p>
<p>Goal:</p>
<pre>"The dog has a long tail, and it is RED!"</pre>
</section>
<section id="answer-accepted-score-817" class="level4">
<h4>Answer accepted (score 817)</h4>
<p>Given that you also want to cover tabs, newlines, etc, just replace <code>\s\s+</code> with <code>' '</code>:</p>
<pre class="regex"><code>string = string.replace(/\s\s+/g, &#39; &#39;);</code></pre>
<p>If you really want to cover only spaces (and thus not tabs, newlines, etc), do so:</p>
<pre class="regex"><code>string = string.replace(/  +/g, &#39; &#39;);</code></pre>
</section>
<section id="answer-2-score-152" class="level4">
<h4>Answer 2 (score 152)</h4>
<p>Since you seem to be interested in performance, I profiled these with firebug. Here are the results I got:</p>
<pre class="regex"><code>str.replace( /  +/g, &#39; &#39; )       -&amp;gt;  380ms
str.replace( /\s\s+/g, &#39; &#39; )     -&amp;gt;  390ms
str.replace( / {2,}/g, &#39; &#39; )     -&amp;gt;  470ms
str.replace( / +/g, &#39; &#39; )        -&amp;gt;  790ms
str.replace( / +(?= )/g, &#39; &#39;)    -&amp;gt; 3250ms</code></pre>
<p>This is on Firefox, running 100k string replacements.</p>
<p>I encourage you to do your own profiling tests with firebug, if you think performance is an issue. Humans are notoriously bad at predicting where the bottlenecks in their programs lie.</p>
<p>(Also, note that IE 8’s developer toolbar also has a profiler built in – it might be worth checking what the performance is like in IE.)</p>
</section>
<section id="answer-3-score-43" class="level4">
<h4>Answer 3 (score 43)</h4>
<pre class="regex"><code>var str = &quot;The      dog        has a long tail,      and it is RED!&quot;;
str = str.replace(/ {2,}/g,&#39; &#39;);</code></pre>
<p>
<strong>EDIT:</strong> If you wish to replace all kind of whitespace characters the most efficient way would be like that:
</p>
<pre class="regex"><code>str = str.replace(/\s{2,}/g,&#39; &#39;);</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="test-if-characters-are-in-a-string-score-377400-in-2018" class="level3">
<h3>71: Test if characters are in a string (score <a href="https://stackoverflow.com/q/10128617.html">377400</a> in 2018)</h3>
<section id="question-70" class="level4">
<h4>Question</h4>
<p>I’m trying to determine if a string is a subset of another string. For example:</p>
<pre class="regex"><code>chars &amp;lt;- &quot;test&quot;
value &amp;lt;- &quot;es&quot;</code></pre>
<p>I want to return TRUE if “value” appears as part of the string “chars”. In the following scenario, I would want to return false:</p>
<pre class="regex"><code>chars &amp;lt;- &quot;test&quot;
value &amp;lt;- &quot;et&quot;</code></pre>
</section>
<section id="answer-accepted-score-338" class="level4">
<h4>Answer accepted (score 338)</h4>
<p>Use the <code>grepl</code> function</p>
<pre class="regex"><code>grepl(value, chars)
# TRUE</code></pre>
</section>
<section id="answer-2-score-133" class="level4">
<h4>Answer 2 (score 133)</h4>
<h5>
Answer
</h2>
<p>Sigh, it took me 45 minutes to find the answer to this simple question. The answer is: <code>grepl(needle, haystack, fixed=TRUE)</code></p>
<pre class="regex"><code># Correct
&amp;gt; grepl(&quot;1+2&quot;, &quot;1+2&quot;, fixed=TRUE)
[1] TRUE
&amp;gt; grepl(&quot;1+2&quot;, &quot;123+456&quot;, fixed=TRUE)
[1] FALSE

# Incorrect
&amp;gt; grepl(&quot;1+2&quot;, &quot;1+2&quot;)
[1] FALSE
&amp;gt; grepl(&quot;1+2&quot;, &quot;123+456&quot;)
[1] TRUE</code></pre>
<hr>
<h5>
Interpretation
</h2>
<p><code>grep</code> is named after the linux executable, which is itself an acronym of “<strong>G</strong>lobal <strong>R</strong>egular <strong>E</strong>xpression <strong>P</strong>rint”, it would read lines of input and then print them if they matched the arguments you gave. “Global” meant the match could occur anywhere on the input line, I’ll explain “Regular Expression” below, but the idea is it’s a smarter way to match the string (R calls this “character”, eg <code>class(&quot;abc&quot;)</code>), and “Print” because it’s a command line program, emitting output means it prints to its output string.</p>
<p>Now, the <code>grep</code> program is basically a filter, from lines of input, to lines of output. And it seems that R’s <code>grep</code> function similarly will take an array of inputs. For reasons that are utterly unknown to me (I only started playing with R about an hour ago), it returns a vector of the indexes that match, rather than a list of matches.</p>
<p>But, back to your original question, what we really want is to know whether we found the needle in the haystack, a true/false value. They apparently decided to name this function <code>grepl</code>, as in “grep” but with a “<strong>L</strong>ogical” return value (they call true and false logical values, eg <code>class(TRUE)</code>).</p>
<p>So, now we know where the name came from and what it’s supposed to do. Lets get back to Regular Expressions. The arguments, even though they are strings, they are used to build regular expressions (henceforth: regex). A regex is a way to match a string (if this definition irritates you, let it go). For example, the regex <code>a</code> matches the character <code>&quot;a&quot;</code>, the regex <code>a*</code> matches the character <code>&quot;a&quot;</code> 0 or more times, and the regex <code>a+</code> would match the character <code>&quot;a&quot;</code> 1 or more times. Hence in the example above, the needle we are searching for <code>1+2</code>, when treated as a regex, means “one or more 1 followed by a 2”… but ours is followed by a plus!</p>
<p><a href="https://i.stack.imgur.com/cTye4.png"><img src="https://i.stack.imgur.com/cTye4.png" alt="1+2 as a regex"></a></p>
<p>So, if you used the <code>grepl</code> without setting <code>fixed</code>, your needles would accidentally be haystacks, and that would accidentally work quite often, we can see it even works for the OP’s example. But that’s a latent bug! We need to tell it the input is a string, not a regex, which is apparently what <code>fixed</code> is for. Why fixed? No clue, bookmark this answer b/c you’re probably going to have to look it up 5 more times before you get it memorized.</p>
<h5>
A few final thoughts
</h2>
<p>The better your code is, the less history you have to know to make sense of it. Every argument can have at least two interesting values (otherwise it wouldn’t need to be an argument), the docs list 9 arguments here, which means there’s at least 2^9=512 ways to invoke it, that’s a lot of work to write, test, and remember… decouple such functions (split them up, remove dependencies on each other, string things are different than regex things are different than vector things). Some of the options are also mutually exclusive, don’t give users incorrect ways to use the code, ie the problematic invocation should be structurally nonsensical (such as passing an option that doesn’t exist), not logically nonsensical (where you have to emit a warning to explain it). Put metaphorically: replacing the front door in the side of the 10th floor with a wall is better than hanging a sign that warns against its use, but either is better than neither. In an interface, the function defines what the arguments should look like, not the caller (because the caller depends on the function, inferring everything that everyone might ever want to call it with makes the function depend on the callers, too, and this type of cyclical dependency will quickly clog a system up and never provide the benefits you expect). Be very wary of equivocating types, it’s a design flaw that things like <code>TRUE</code> and <code>0</code> and <code>&quot;abc&quot;</code> are all vectors.</p>
</section>
<section id="answer-3-score-31" class="level4">
<h4>Answer 3 (score 31)</h4>
<p>You want <code>grepl</code>:</p>
<pre class="regex"><code>&amp;gt; chars &amp;lt;- &quot;test&quot;
&amp;gt; value &amp;lt;- &quot;es&quot;
&amp;gt; grepl(value, chars)
[1] TRUE
&amp;gt; chars &amp;lt;- &quot;test&quot;
&amp;gt; value &amp;lt;- &quot;et&quot;
&amp;gt; grepl(value, chars)
[1] FALSE</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-find-all-occurrences-of-a-substring-score-375838-in-2019" class="level3">
<h3>72: How to find all occurrences of a substring? (score <a href="https://stackoverflow.com/q/4664850.html">375838</a> in 2019)</h3>
<section id="question-71" class="level4">
<h4>Question</h4>
<p>Python has <code>string.find()</code> and <code>string.rfind()</code> to get the index of a substring in a string.</p>
<p>I’m wondering whether there is something like <code>string.find_all()</code> which can return all found indexes (not only the first from the beginning or the first from the end).</p>
<p>For example:</p>
<pre class="regex"><code>string = &quot;test test test test&quot;

print string.find(&#39;test&#39;) # 0
print string.rfind(&#39;test&#39;) # 15

#this is the goal
print string.find_all(&#39;test&#39;) # [0,5,10,15]</code></pre>
</section>
<section id="answer-accepted-score-465" class="level4">
<h4>Answer accepted (score 465)</h4>
<p>There is no simple built-in string function that does what you’re looking for, but you could use the more powerful <a href="http://www.regular-expressions.info/" rel="noreferrer">regular expressions</a>:</p>
<pre class="regex"><code>import re
[m.start() for m in re.finditer(&#39;test&#39;, &#39;test test test test&#39;)]
#[0, 5, 10, 15]</code></pre>
<p>If you want to find overlapping matches, <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">lookahead</a> will do that:</p>
<pre class="regex"><code>[m.start() for m in re.finditer(&#39;(?=tt)&#39;, &#39;ttt&#39;)]
#[0, 1]</code></pre>
<p>If you want a reverse find-all without overlaps, you can combine positive and negative lookahead into an expression like this:</p>
<pre class="regex"><code>search = &#39;tt&#39;
[m.start() for m in re.finditer(&#39;(?=%s)(?!.{1,%d}%s)&#39; % (search, len(search)-1, search), &#39;ttt&#39;)]
#[1]</code></pre>
<p><a href="http://docs.python.org/library/re.html#re.finditer" rel="noreferrer"><code>re.finditer</code></a> returns a <a href="http://wiki.python.org/moin/Generators" rel="noreferrer">generator</a>, so you could change the <code>[]</code> in the above to <code>()</code> to get a generator instead of a list which will be more efficient if you’re only iterating through the results once.</p>
</section>
<section id="answer-2-score-94" class="level4">
<h4>Answer 2 (score 94)</h4>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; help(str.find)
Help on method_descriptor:

find(...)
    S.find(sub [,start [,end]]) -&amp;gt; int</code></pre>
<p>Thus, we can build it ourselves:</p>
<pre class="regex"><code>def find_all(a_str, sub):
    start = 0
    while True:
        start = a_str.find(sub, start)
        if start == -1: return
        yield start
        start += len(sub) # use start += 1 to find overlapping matches

list(find_all(&#39;spam spam spam spam&#39;, &#39;spam&#39;)) # [0, 5, 10, 15]</code></pre>
<p>No temporary strings or regexes required.</p>
</section>
<section id="answer-3-score-43-1" class="level4">
<h4>Answer 3 (score 43)</h4>
<p>Here’s a (very inefficient) way to get <em>all</em> (i.e. even overlapping) matches:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; string = &quot;test test test test&quot;
&amp;gt;&amp;gt;&amp;gt; [i for i in range(len(string)) if string.startswith(&#39;test&#39;, i)]
[0, 5, 10, 15]</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-score-372948-in-2016" class="level3">
<h3>73: What is the best regular expression to check if a string is a valid URL? (score <a href="https://stackoverflow.com/q/161738.html">372948</a> in 2016)</h3>
<section id="question-72" class="level4">
<h4>Question</h4>
<p>How can I check if a given string is a valid URL address?</p>
<p>My knowledge of regular expressions is basic and doesn’t allow me to choose from the hundreds of regular expressions I’ve already seen on the web.</p>
</section>
<section id="answer-2-score-395" class="level4">
<h4>Answer 2 (score 395)</h4>
<p>I wrote my URL (actually IRI, internationalized) pattern to comply with RFC 3987 (<a href="http://www.faqs.org/rfcs/rfc3987.html" rel="noreferrer">http://www.faqs.org/rfcs/rfc3987.html</a>). These are in PCRE syntax.</p>
<p>For absolute IRIs (internationalized):</p>
<pre class="regex"><code>/^[a-z](?:[-a-z0-9\+\.].html)*:(?:\/\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\.[-a-z0-9\._~!\$&amp;amp;&#39;\(\)\*\+,;=:]+)\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*|\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])))(?:\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])|[\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}\/\?])*)?(?:\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])|[\/\?])*)?$/i</code></pre>
<p>To also allow relative IRIs:</p>
<pre class="regex"><code>/^(?:[a-z](?:[-a-z0-9\+\.].html)*:(?:\/\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\.[-a-z0-9\._~!\$&amp;amp;&#39;\(\)\*\+,;=:]+)\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*|\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*)?|(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])))(?:\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])|[\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}\/\?])*)?(?:\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])|[\/\?])*)?|(?:\/\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:])*@)?(?:\[(?:(?:(?:[0-9a-f]{1,4}:){6}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|::(?:[0-9a-f]{1,4}:){5}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3})|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\.[-a-z0-9\._~!\$&amp;amp;&#39;\(\)\*\+,;=:]+)\]|(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(?:\.(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}|(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=])*)(?::[0-9]*)?(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*|\/(?:(?:(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*)?|(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=@])+)(?:\/(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@]))*)*|(?!(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])))(?:\?(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])|[\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}\/\?])*)?(?:\#(?:(?:%[0-9a-f][0-9a-f]|[-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;amp;&#39;\(\)\*\+,;=:@])|[\/\?])*)?)$/i</code></pre>
<p>How they were compiled (in PHP):</p>
<pre class="regex"><code>&amp;lt;?php

/* Regex convenience functions (character class, non-capturing group) */
function cc($str, $suffix = &#39;&#39;, $negate = false) {
    return &#39;[&#39; . ($negate ? &#39;^&#39; : &#39;&#39;) . $str . &#39;]&#39; . $suffix;
}
function ncg($str, $suffix = &#39;&#39;) {
    return &#39;(?:&#39; . $str . &#39;)&#39; . $suffix;
}

/* Preserved from RFC3986 */

$ALPHA = &#39;a-z&#39;;
$DIGIT = &#39;0-9&#39;;
$HEXDIG = $DIGIT . &#39;a-f&#39;;

$sub_delims = &#39;!\\$&amp;amp;\&#39;\\(\\)\\*\\+,;=&#39;;
$gen_delims = &#39;:\\/\\?\\#\\[\\]@&#39;;
$reserved = $gen_delims . $sub_delims;
$unreserved = &#39;-&#39; . $ALPHA . $DIGIT . &#39;\\._~&#39;;

$pct_encoded = &#39;%&#39; . cc($HEXDIG) . cc($HEXDIG);

$dec_octet = ncg(implode(&#39;|&#39;, array(
    cc($DIGIT),
    cc(&#39;1-9&#39;) . cc($DIGIT),
    &#39;1&#39; . cc($DIGIT) . cc($DIGIT),
    &#39;2&#39; . cc(&#39;0-4&#39;) . cc($DIGIT),
    &#39;25&#39; . cc(&#39;0-5&#39;)
)));

$IPv4address = $dec_octet . ncg(&#39;\\.&#39; . $dec_octet, &#39;{3}&#39;);

$h16 = cc($HEXDIG, &#39;{1,4}&#39;);
$ls32 = ncg($h16 . &#39;:&#39; . $h16 . &#39;|&#39; . $IPv4address);

$IPv6address = ncg(implode(&#39;|&#39;, array(
    ncg($h16 . &#39;:&#39;, &#39;{6}&#39;) . $ls32,
    &#39;::&#39; . ncg($h16 . &#39;:&#39;, &#39;{5}&#39;) . $ls32,
    ncg($h16, &#39;?&#39;) . &#39;::&#39; . ncg($h16 . &#39;:&#39;, &#39;{4}&#39;) . $ls32,
    ncg($h16 . &#39;:&#39; . $h16, &#39;?&#39;) . &#39;::&#39; . ncg($h16 . &#39;:&#39;, &#39;{3}&#39;) . $ls32,
    ncg(ncg($h16 . &#39;:&#39;, &#39;{0,2}&#39;) . $h16, &#39;?&#39;) . &#39;::&#39; . ncg($h16 . &#39;:&#39;, &#39;{2}&#39;) . $ls32,
    ncg(ncg($h16 . &#39;:&#39;, &#39;{0,3}&#39;) . $h16, &#39;?&#39;) . &#39;::&#39; . $h16 . &#39;:&#39; . $ls32,
    ncg(ncg($h16 . &#39;:&#39;, &#39;{0,4}&#39;) . $h16, &#39;?&#39;) . &#39;::&#39; . $ls32,
    ncg(ncg($h16 . &#39;:&#39;, &#39;{0,5}&#39;) . $h16, &#39;?&#39;) . &#39;::&#39; . $h16,
    ncg(ncg($h16 . &#39;:&#39;, &#39;{0,6}&#39;) . $h16, &#39;?&#39;) . &#39;::&#39;,
)));

$IPvFuture = &#39;v&#39; . cc($HEXDIG, &#39;+&#39;) . cc($unreserved . $sub_delims . &#39;:&#39;, &#39;+&#39;);

$IP_literal = &#39;\\[&#39; . ncg(implode(&#39;|&#39;, array($IPv6address, $IPvFuture))) . &#39;\\]&#39;;

$port = cc($DIGIT, &#39;*&#39;);

$scheme = cc($ALPHA) . ncg(cc(&#39;-&#39; . $ALPHA . $DIGIT . &#39;\\+\\.&#39;), &#39;*&#39;);

/* New or changed in RFC3987 */

$iprivate = &#39;\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}&#39;;

$ucschar = &#39;\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}&#39; .
    &#39;\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}&#39; .
    &#39;\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}&#39; .
    &#39;\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}&#39; .
    &#39;\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}&#39; .
    &#39;\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}&#39;;

$iunreserved = &#39;-&#39; . $ALPHA . $DIGIT . &#39;\\._~&#39; . $ucschar;

$ipchar = ncg($pct_encoded . &#39;|&#39; . cc($iunreserved . $sub_delims . &#39;:@&#39;));

$ifragment = ncg($ipchar . &#39;|&#39; . cc(&#39;\\/\\?&#39;), &#39;*&#39;);

$iquery = ncg($ipchar . &#39;|&#39; . cc($iprivate . &#39;\\/\\?&#39;), &#39;*&#39;);

$isegment_nz_nc = ncg($pct_encoded . &#39;|&#39; . cc($iunreserved . $sub_delims . &#39;@&#39;), &#39;+&#39;);
$isegment_nz = ncg($ipchar, &#39;+&#39;);
$isegment = ncg($ipchar, &#39;*&#39;);

$ipath_empty = &#39;(?!&#39; . $ipchar . &#39;)&#39;;
$ipath_rootless = ncg($isegment_nz) . ncg(&#39;\\/&#39; . $isegment, &#39;*&#39;);
$ipath_noscheme = ncg($isegment_nz_nc) . ncg(&#39;\\/&#39; . $isegment, &#39;*&#39;);
$ipath_absolute = &#39;\\/&#39; . ncg($ipath_rootless, &#39;?&#39;); // Spec says isegment-nz *( &quot;/&quot; isegment )
$ipath_abempty = ncg(&#39;\\/&#39; . $isegment, &#39;*&#39;);

$ipath = ncg(implode(&#39;|&#39;, array(
    $ipath_abempty,
    $ipath_absolute,
    $ipath_noscheme,
    $ipath_rootless,
    $ipath_empty
))) . &#39;)&#39;;

$ireg_name = ncg($pct_encoded . &#39;|&#39; . cc($iunreserved . $sub_delims . &#39;@&#39;), &#39;*&#39;);

$ihost = ncg(implode(&#39;|&#39;, array($IP_literal, $IPv4address, $ireg_name)));
$iuserinfo = ncg($pct_encoded . &#39;|&#39; . cc($iunreserved . $sub_delims . &#39;:&#39;), &#39;*&#39;);
$iauthority = ncg($iuserinfo . &#39;@&#39;, &#39;?&#39;) . $ihost . ncg(&#39;:&#39; . $port, &#39;?&#39;);

$irelative_part = ncg(implode(&#39;|&#39;, array(
    &#39;\\/\\/&#39; . $iauthority . $ipath_abempty . &#39;&#39;,
    &#39;&#39; . $ipath_absolute . &#39;&#39;,
    &#39;&#39; . $ipath_noscheme . &#39;&#39;,
    &#39;&#39; . $ipath_empty . &#39;&#39;
)));

$irelative_ref = $irelative_part . ncg(&#39;\\?&#39; . $iquery, &#39;?&#39;) . ncg(&#39;\\#&#39; . $ifragment, &#39;?&#39;);

$ihier_part = ncg(implode(&#39;|&#39;, array(
    &#39;\\/\\/&#39; . $iauthority . $ipath_abempty . &#39;&#39;,
    &#39;&#39; . $ipath_absolute . &#39;&#39;,
    &#39;&#39; . $ipath_rootless . &#39;&#39;,
    &#39;&#39; . $ipath_empty . &#39;&#39;
)));

$absolute_IRI = $scheme . &#39;:&#39; . $ihier_part . ncg(&#39;\\?&#39; . $iquery, &#39;?&#39;);

$IRI = $scheme . &#39;:&#39; . $ihier_part . ncg(&#39;\\?&#39; . $iquery, &#39;?&#39;) . ncg(&#39;\\#&#39; . $ifragment, &#39;?&#39;);

$IRI_reference = ncg($IRI . &#39;|&#39; . $irelative_ref);</code></pre>
<p>Edit 7 March 2011: Because of the way PHP handles backslashes in quoted strings, these are unusable by default. You’ll need to double-escape backslashes except where the backslash has a special meaning in regex. You can do that this way:</p>
<pre class="regex"><code>$escape_backslash = &#39;/(?&amp;lt;!\\)\\(?![\[\]\\\^\$\.\|\*\+\(\)QEnrtaefvdwsDWSbAZzB1-9GX]|x\{[0-9a-f]{1,4}\}|\c[A-Z]|)/&#39;;
$absolute_IRI = preg_replace($escape_backslash, &#39;\\\\&#39;, $absolute_IRI);
$IRI = preg_replace($escape_backslash, &#39;\\\\&#39;, $IRI);
$IRI_reference = preg_replace($escape_backslash, &#39;\\\\&#39;, $IRI_reference);</code></pre>
</section>
<section id="answer-3-score-141" class="level4">
<h4>Answer 3 (score 141)</h4>
<p>I’ve just written up a blog post for a great solution for recognizing URLs in most used formats such as:</p>
<ul>
<li>
<code>www.google.com</code>
</li>
<li>
<code>http://www.google.com</code>
</li>
<li>
<code>mailto:somebody@google.com</code>
</li>
<li>
<code>somebody@google.com</code>
</li>
<li>
<code>www.url-with-querystring.com/?url=has-querystring</code>
</li>
</ul>
<p>The regular expression used is:</p>
<pre class="regex"><code>/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&amp;amp;=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&amp;amp;=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&amp;amp;;%@.\w_]*)#?(?:[\w]*))?)/</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-output-only-captured-groups-with-sed-score-372573-in-2019" class="level3">
<h3>74: How to output only captured groups with sed? (score <a href="https://stackoverflow.com/q/2777579.html">372573</a> in 2019)</h3>
<section id="question-73" class="level4">
<h4>Question</h4>
<p>Is there any way to tell <code>sed</code> to output only captured groups? For example given the input:</p>
<pre class="regex"><code>This is a sample 123 text and some 987 numbers</code></pre>
<p>and pattern:</p>
<pre class="regex"><code>/([\d]+)/</code></pre>
<p>Could I get only 123 and 987 output in the way formatted by back references?</p>
</section>
<section id="answer-accepted-score-298" class="level4">
<h4>Answer accepted (score 298)</h4>
<p>The key to getting this to work is to tell <code>sed</code> to exclude what you don’t want to be output as well as specifying what you do want.</p>
<pre class="regex"><code>string=&#39;This is a sample 123 text and some 987 numbers&#39;
echo &quot;$string&quot; | sed -rn &#39;s/[^[:digit:]]*([[:digit:]]+)[^[:digit:]]+([[:digit:]]+)[^[:digit:]]*/\1 \2/p&#39;</code></pre>
<p>This says:</p>
<ul>
<li>
don’t default to printing each line (<code>-n</code>)
</li>
<li>
exclude zero or more non-digits
</li>
<li>
include one or more digits
</li>
<li>
exclude one or more non-digits
</li>
<li>
include one or more digits
</li>
<li>
exclude zero or more non-digits
</li>
<li>
print the substitution (<code>p</code>)
</li>
</ul>
<p>In general, in <code>sed</code> you capture groups using parentheses and output what you capture using a back reference:</p>
<pre class="regex"><code>echo &quot;foobarbaz&quot; | sed &#39;s/^foo\(.*\)baz$/\1/&#39;</code></pre>
<p>will output “bar”. If you use <code>-r</code> (<code>-E</code> for OS X) for extended regex, you don’t need to escape the parentheses:</p>
<pre class="regex"><code>echo &quot;foobarbaz&quot; | sed -r &#39;s/^foo(.*)baz$/\1/&#39;</code></pre>
<p>There can be up to 9 capture groups and their back references. The back references are numbered in the order the groups appear, but they can be used in any order and can be repeated:</p>
<pre class="regex"><code>echo &quot;foobarbaz&quot; | sed -r &#39;s/^foo(.*)b(.)z$/\2 \1 \2/&#39;</code></pre>
<p>outputs “a bar a”.</p>
<p>If you have GNU <code>grep</code> (it may also work in BSD, including OS X):</p>
<pre class="regex"><code>echo &quot;$string&quot; | grep -Po &#39;\d+&#39;</code></pre>
<p>or variations such as:</p>
<pre class="regex"><code>echo &quot;$string&quot; | grep -Po &#39;(?&amp;lt;=\D )(\d+)&#39;</code></pre>
<p>
The <code>-P</code> option enables Perl Compatible Regular Expressions. See <a href="http://linux.die.net/man/3/pcrepattern" rel="noreferrer"><code>man 3 pcrepattern</code></a> or <a href="http://linux.die.net/man/3/pcresyntax" rel="noreferrer"><code>man 3 pcresyntax</code></a>.
</p>
</section>
<section id="answer-2-score-52-1" class="level4">
<h4>Answer 2 (score 52)</h4>
<p>Sed has up to nine remembered patterns but you need to use escaped parentheses to remember portions of the regular expression.</p>
<p>See <a href="http://www.grymoire.com/Unix/Sed.html#uh-4" rel="noreferrer">here</a> for examples and more detail</p>
</section>
<section id="answer-3-score-30-1" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>you can use grep</p>
<pre class="regex"><code>grep -Eow &quot;[0-9]+&quot; file</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="using-regex-in-sql-server-score-371450-in" class="level3">
<h3>75: Using RegEx in SQL Server (score <a href="https://stackoverflow.com/q/8928378.html">371450</a> in )</h3>
<section id="question-74" class="level4">
<h4>Question</h4>
<p>I’m looking how to replace/encode text using RegEx based on RegEx settings/params below:</p>
<pre class="regex"><code>RegEx.IgnoreCase = True     
RegEx.Global = True     
RegEx.Pattern = &quot;[^a-z\d\s.]+&quot;   </code></pre>
<p>I have seen some examples on RegEx, but confused as to how to apply it the same way in SQL Server. Any suggestions would be helpful. Thank you.</p>
</section>
<section id="answer-accepted-score-91" class="level4">
<h4>Answer accepted (score 91)</h4>
<p>You do not need to interact with managed code, as you can use <a href="http://msdn.microsoft.com/en-us/library/ms179859.aspx" rel="noreferrer">LIKE</a>:</p>
<pre class="regex"><code>CREATE TABLE #Sample(Field varchar(50), Result varchar(50))
GO
INSERT INTO #Sample (Field, Result) VALUES (&#39;ABC123 &#39;, &#39;Do not match&#39;)
INSERT INTO #Sample (Field, Result) VALUES (&#39;ABC123.&#39;, &#39;Do not match&#39;)
INSERT INTO #Sample (Field, Result) VALUES (&#39;ABC123&amp;amp;&#39;, &#39;Match&#39;)
SELECT * FROM #Sample WHERE Field LIKE &#39;%[^a-z0-9 .]%&#39;
GO
DROP TABLE #Sample</code></pre>
<p>As your expression ends with <code>+</code> you can go with <code>'%[^a-z0-9 .][^a-z0-9 .]%'</code></p>
<p><strong>EDIT</strong>: to make clear: SQL Server doesn’t supports regular expressions without managed code. Depending on the situation, the <code>LIKE</code> operator can be an option, but it lacks the flexibility that regular expressions provides.</p>
</section>
<section id="answer-2-score-7" class="level4">
<h4>Answer 2 (score 7)</h4>
<p>You will have to build a CLR procedure that provides regex functionality, as <a href="http://www.simple-talk.com/sql/t-sql-programming/clr-assembly-regex-functions-for-sql-server-by-example/" rel="nofollow noreferrer">this article</a> illustrates.</p>
<p>Their example function uses VB.NET:</p>
<pre class="regex"><code>Imports System
Imports System.Data.Sql
Imports Microsoft.SqlServer.Server
Imports System.Data.SqlTypes
Imports System.Runtime.InteropServices
Imports System.Text.RegularExpressions
Imports System.Collections &#39;the IEnumerable interface is here  


Namespace SimpleTalk.Phil.Factor
    Public Class RegularExpressionFunctions
        &#39;RegExIsMatch function
        &amp;lt;SqlFunction(IsDeterministic:=True, IsPrecise:=True)&amp;gt; _
        Public Shared Function RegExIsMatch( _
                                            ByVal pattern As SqlString, _
                                            ByVal input As SqlString, _
                                            ByVal Options As SqlInt32) As SqlBoolean
            If (input.IsNull OrElse pattern.IsNull) Then
                Return SqlBoolean.False
            End If
            Dim RegExOption As New System.Text.RegularExpressions.RegExOptions
            RegExOption = Options
            Return RegEx.IsMatch(input.Value, pattern.Value, RegExOption)
        End Function
    End Class      &#39; 
End Namespace</code></pre>
<p>…and is installed in SQL Server using the following SQL (replacing ‘%’-delimted variables by their actual equivalents:</p>
<pre class="regex"><code>sp_configure &#39;clr enabled&#39;, 1
RECONFIGURE WITH OVERRIDE

IF EXISTS ( SELECT   1
            FROM     sys.objects
            WHERE    object_id = OBJECT_ID(N&#39;dbo.RegExIsMatch&#39;) ) 
   DROP FUNCTION dbo.RegExIsMatch
go

IF EXISTS ( SELECT   1
            FROM     sys.assemblies asms
            WHERE    asms.name = N&#39;RegExFunction &#39; ) 
   DROP ASSEMBLY [RegExFunction]

CREATE ASSEMBLY RegExFunction 
           FROM &#39;%FILE%&#39;
GO

CREATE FUNCTION RegExIsMatch
   (
    @Pattern NVARCHAR(4000),
    @Input NVARCHAR(MAX),
    @Options int
   )
RETURNS BIT
AS EXTERNAL NAME 
   RegExFunction.[SimpleTalk.Phil.Factor.RegularExpressionFunctions].RegExIsMatch
GO

--a few tests
---Is this card a valid credit card?
SELECT dbo.RegExIsMatch (&#39;^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$&#39;,&#39;4241825283987487&#39;,1)
--is there a number in this string
SELECT dbo.RegExIsMatch( &#39;\d&#39;,&#39;there is 1 thing I hate&#39;,1)
--Verifies number Returns 1
DECLARE @pattern VARCHAR(255)
SELECT @pattern =&#39;[a-zA-Z0-9]\d{2}[a-zA-Z0-9](-\d{3}.html){2}[A-Za-z0-9]&#39;
SELECT  dbo.RegExIsMatch (@pattern, &#39;1298-673-4192&#39;,1),
        dbo.RegExIsMatch (@pattern,&#39;A08Z-931-468A&#39;,1),
        dbo.RegExIsMatch (@pattern,&#39;[A90-123-129X&#39;,1),
        dbo.RegExIsMatch (@pattern,&#39;12345-KKA-1230&#39;,1),
        dbo.RegExIsMatch (@pattern,&#39;0919-2893-1256&#39;,1)</code></pre>
</section>
<section id="answer-3-score-6" class="level4">
<h4>Answer 3 (score 6)</h4>
<p>Slightly modified version of <a href="https://www.simple-talk.com/sql/t-sql-programming/tsql-regular-expression-workbench/" rel="noreferrer">Julio’s answer.</a></p>
<pre class="regex"><code>-- MS SQL using VBScript Regex
-- select dbo.RegexReplace(&#39;aa bb cc&#39;,&#39;($1) ($2) ($3)&#39;,&#39;([^\s]*)\s*([^\s]*)\s*([^\s]*)&#39;)
-- $$ dollar sign, $1 - $9 back references, $&amp;amp; whole match

CREATE FUNCTION [dbo].[RegexReplace]
(   -- these match exactly the parameters of RegExp
    @searchstring varchar(4000),
    @replacestring varchar(4000),
    @pattern varchar(4000)
)
RETURNS varchar(4000)
AS
BEGIN
    declare @objRegexExp int, 
        @objErrorObj int,
        @strErrorMessage varchar(255),
        @res int,
        @result varchar(4000)

    if( @searchstring is null or len(ltrim(rtrim(@searchstring))) = 0) return null
    set @result=&#39;&#39;
    exec @res=sp_OACreate &#39;VBScript.RegExp&#39;, @objRegexExp out
    if( @res &amp;lt;&amp;gt; 0) return &#39;..VBScript did not initialize&#39;
    exec @res=sp_OASetProperty @objRegexExp, &#39;Pattern&#39;, @pattern
    if( @res &amp;lt;&amp;gt; 0) return &#39;..Pattern property set failed&#39;
    exec @res=sp_OASetProperty @objRegexExp, &#39;IgnoreCase&#39;, 0
    if( @res &amp;lt;&amp;gt; 0) return &#39;..IgnoreCase option failed&#39;
    exec @res=sp_OAMethod @objRegexExp, &#39;Replace&#39;, @result OUT,
         @searchstring, @replacestring
    if( @res &amp;lt;&amp;gt; 0) return &#39;..Bad search string&#39;
    exec @res=sp_OADestroy @objRegexExp
    return @result
END</code></pre>
<p>You’ll need Ole Automation Procedures turned on in SQL:</p>
<pre class="regex"><code>exec sp_configure &#39;show advanced options&#39;,1; 
go
reconfigure; 
go
sp_configure &#39;Ole Automation Procedures&#39;, 1; 
go
reconfigure; 
go
sp_configure &#39;show advanced options&#39;,0; 
go
reconfigure;
go</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-a-word-or-its-prefix-score-365246-in-2018" class="level3">
<h3>76: Regular expression to match a word or its prefix (score <a href="https://stackoverflow.com/q/18402416.html">365246</a> in 2018)</h3>
<section id="question-75" class="level4">
<h4>Question</h4>
<p>I want to match a regular expression on a whole word.</p>
<p>In the following example I am trying to match <code>s</code> or <code>season</code> but what I have matches <code>s</code>, <code>e</code>, <code>a</code>, <code>o</code> and <code>n</code>.</p>
<pre class="regex"><code>[s|season]</code></pre>
<p>How do I make a regular expression to match a whole word?</p>
</section>
<section id="answer-accepted-score-125" class="level4">
<h4>Answer accepted (score 125)</h4>
<p>Square brackets are meant for character class, and you’re actually trying to match any one of: <code>s</code>, <code>|</code>, <code>s</code> (again), <code>e</code>, <code>a</code>, <code>s</code> (again), <code>o</code> and <code>n</code>.</p>
<p>Use parentheses instead for grouping:</p>
<pre class="regex"><code>(s|season)</code></pre>
<p>or non-capturing group:</p>
<pre class="regex"><code>(?:s|season)</code></pre>
<hr>
<p>Note: Non-capture groups tell the engine that it doesn’t need to store the match, while the other one (capturing group does). For small stuff, either works, for ‘heavy duty’ stuff, you might want to see first if you need the match or not. If you don’t, better use the non-capture group to allocate more memory for calculation instead of storing something you will never need to use.</p>
</section>
<section id="answer-2-score-115" class="level4">
<h4>Answer 2 (score 115)</h4>
<h5>
Use this live online example to test your pattern:
</h2>
<p><img src="https://i.stack.imgur.com/l69SY.png" alt="enter image description here"></p>
<p>Above screenshot taken from this live example: <a href="https://regex101.com/r/cU5lC2/1" rel="noreferrer">https://regex101.com/r/cU5lC2/1</a></p>
<h5>
Matching any whole word on the commandline.
</h2>
<p>I’ll be using the <a href="http://www.phpsh.org/" rel="noreferrer">phpsh interactive shell</a> on <a href="http://releases.ubuntu.com/12.10/" rel="noreferrer">Ubuntu 12.10</a> to demonstrate the <a href="http://us2.php.net/pcre" rel="noreferrer">PCRE regex engine</a> through the method known as <a href="http://us2.php.net/preg_match" rel="noreferrer">preg_match</a></p>
<p>Start phpsh, put some content into a variable, match on word.</p>
<pre class="regex"><code>el@apollo:~/foo$ phpsh

php&amp;gt; $content1 = &#39;badger&#39;
php&amp;gt; $content2 = &#39;1234&#39;
php&amp;gt; $content3 = &#39;$%^&amp;amp;&#39;

php&amp;gt; echo preg_match(&#39;(\w+)&#39;, $content1);
1

php&amp;gt; echo preg_match(&#39;(\w+)&#39;, $content2);
1

php&amp;gt; echo preg_match(&#39;(\w+)&#39;, $content3);
0</code></pre>
<p>The preg_match method used the PCRE engine within the PHP language to analyze variables: <code>$content1</code>, <code>$content2</code> and <code>$content3</code> with the <code>(\w)+</code> pattern.</p>
<p>$content1 and $content2 contain at least one word, $content3 does not.</p>
<h5>
Match a specific words on the commandline without word bountaries
</h2>
<pre class="regex"><code>el@apollo:~/foo$ phpsh

php&amp;gt; $gun1 = &#39;dart gun&#39;;
php&amp;gt; $gun2 = &#39;fart gun&#39;;
php&amp;gt; $gun3 = &#39;darty gun&#39;;
php&amp;gt; $gun4 = &#39;unicorn gun&#39;;

php&amp;gt; echo preg_match(&#39;(dart|fart)&#39;, $gun1);
1

php&amp;gt; echo preg_match(&#39;(dart|fart)&#39;, $gun2);
1

php&amp;gt; echo preg_match(&#39;(dart|fart)&#39;, $gun3);
1

php&amp;gt; echo preg_match(&#39;(dart|fart)&#39;, $gun4);
0</code></pre>
<p>Variables <code>gun1</code> and <code>gun2</code> contain the string <code>dart</code> or <code>fart</code> which is correct, but gun3 contains <code>darty</code> and still matches, that is the problem. So onto the next example.</p>
<h5>
Match specific words on the commandline with word boundaries:
</h2>
<p>
Word Boundaries can be force matched with <code>\b</code>, see: <a href="https://i.stack.imgur.com/U7T8z.png" rel="noreferrer"><img src="https://i.stack.imgur.com/U7T8z.png" alt="Visual analysis of what wordboundary is doing from jex.im/regulex "></a>
</p>
<p>Regex Visual Image acquired from <a href="http://jex.im/regulex" rel="noreferrer">http://jex.im/regulex</a> and <a href="https://github.com/JexCheng/regulex" rel="noreferrer">https://github.com/JexCheng/regulex</a> Example:</p>
<pre class="regex"><code>el@apollo:~/foo$ phpsh

php&amp;gt; $gun1 = &#39;dart gun&#39;;
php&amp;gt; $gun2 = &#39;fart gun&#39;;
php&amp;gt; $gun3 = &#39;darty gun&#39;;
php&amp;gt; $gun4 = &#39;unicorn gun&#39;;

php&amp;gt; echo preg_match(&#39;(\bdart\b|\bfart\b)&#39;, $gun1);
1

php&amp;gt; echo preg_match(&#39;(\bdart\b|\bfart\b)&#39;, $gun2);
1

php&amp;gt; echo preg_match(&#39;(\bdart\b|\bfart\b)&#39;, $gun3);
0

php&amp;gt; echo preg_match(&#39;(\bdart\b|\bfart\b)&#39;, $gun4);
0</code></pre>
<p>The <code>\b</code> asserts that we have a word boundary, making sure &quot; dart &quot; is matched, but &quot; darty &quot; isn’t.</p>
</section>
<section id="answer-3-score-3-1" class="level4">
<h4>Answer 3 (score 3)</h4>
<p>
I test examples in js. Simplest solution - just add word u need inside / /:
</p>
<pre class="regex"><code>var reg = /cat/;
reg.test(&#39;some cat here&#39;);//1 test
true // result
reg.test(&#39;acatb&#39;);//2 test
true // result</code></pre>
<hr>
<p>Now if u need this specific word with boundaries, not inside any other signs-letters. We use <strong>b</strong> marker:</p>
<pre class="regex"><code>var reg = /\bcat\b/
reg.test(&#39;acatb&#39;);//1 test 
false // result
reg.test(&#39;have cat here&#39;);//2 test
true // result</code></pre>
<p>We have also exec() method in js, whichone returns object-result. It helps f.g. to get info about place/index of our word.</p>
<pre class="regex"><code>var matchResult = /\bcat\b/.exec(&quot;good cat good&quot;);
console.log(matchResult.index); // 5</code></pre>
<p>If we need get all matched words in string/sentence/text, we can use g modifier (global match):</p>
<pre class="regex"><code>&quot;cat good cat good cat&quot;.match(/\bcat\b/g).length
// 3 </code></pre>
<p>Now the last one - i need not 1 specific word, but some of them. We use | sign, it means choice/or.</p>
<pre class="regex"><code>&quot;bad dog bad&quot;.match(/\bcat|dog\b/g).length
// 1</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="match-two-strings-in-one-line-with-grep-score-363844-in-2019" class="level3">
<h3>77: Match two strings in one line with grep (score <a href="https://stackoverflow.com/q/4487328.html">363844</a> in 2019)</h3>
<section id="question-76" class="level4">
<h4>Question</h4>
<p>I am trying to use <code>grep</code> to match lines that contain two different strings. I have tried the following but this matches lines that contain either <em>string1</em> <strong>or</strong> <em>string2</em> which not what I want.</p>
<pre class="regex"><code>grep &#39;string1\|string2&#39; filename</code></pre>
<p>So how do I match with <code>grep</code> only the lines that contain <em>both strings</em>?</p>
</section>
<section id="answer-accepted-score-173" class="level4">
<h4>Answer accepted (score 173)</h4>
<p>You can use <code>grep 'string1' filename | grep 'string2'</code></p>
<p>Or, <code>grep 'string1.*string2\|string2.*string1' filename</code></p>
</section>
<section id="answer-2-score-197" class="level4">
<h4>Answer 2 (score 197)</h4>
<p>I think this is what you were looking for:</p>
<pre class="regex"><code>grep -E &quot;string1|string2&quot; filename</code></pre>
<p>I think that answers like this:</p>
<pre class="regex"><code>grep &#39;string1.*string2\|string2.*string1&#39; filename</code></pre>
<p>only match the case where both are present, not one or the other or both.</p>
</section>
<section id="answer-3-score-26-1" class="level4">
<h4>Answer 3 (score 26)</h4>
<p>To search for files containing all the words in any order anywhere:</p>
<pre class="regex"><code>grep -ril \&#39;action\&#39; | xargs grep -il \&#39;model\&#39; | xargs grep -il \&#39;view_type\&#39;</code></pre>
<p>The first grep kicks off a recursive search (<code>r</code>), ignoring case (<code>i</code>) and listing (printing out) the name of the files that are matching (<code>l</code>) for one term (<code>'action'</code> with the single quotes) occurring anywhere in the file.</p>
<p>The subsequent greps search for the other terms, retaining case insensitivity and listing out the matching files.</p>
<p>The final list of files that you will get will the ones that contain these terms, in any order anywhere in the file.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-match-everything-but-specific-pattern-score-359326-in-2019" class="level3">
<h3>78: Regex: match everything but specific pattern (score <a href="https://stackoverflow.com/q/1687620.html">359326</a> in 2019)</h3>
<section id="question-77" class="level4">
<h4>Question</h4>
<p>I need a regex able to match everything <strong>but</strong> a string starting with a specific pattern (specifically <code>index.php</code> and what follows, like <code>index.php?id=2342343</code>)</p>
</section>
<section id="answer-accepted-score-204" class="level4">
<h4>Answer accepted (score 204)</h4>
<p>Not a regexp expert, but I think you could use a negative lookahead from the start, e.g. <code>^(?!foo).*$</code> shouldn’t match anything starting with <code>foo</code>.</p>
</section>
<section id="answer-2-score-256" class="level4">
<h4>Answer 2 (score 256)</h4>
<p>Regex: match everything <strong>but</strong>:</p>
<ul>
<li>
<p>a <strong>string <em>starting with</em> a specific pattern</strong> (e.g. any - empty, too - string not starting with <code>foo</code>):</p>
<ul>
<li>
<p>Lookahead-based solution for NFAs:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/6"><code>^(?!foo).*$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/5"><code>^(?!foo)</code></a>
</li>
</ul>
</li>
<li>
<p>Negated character class based solution <em>for regex engines not supporting lookarounds</em>:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/16"><code>^(([^f].{2}|.[^o].|.{2}[^o]).*|.{0,2})$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/15"><code>^([^f].{2}|.[^o].|.{2}[^o])|^.{0,2}$</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>ending with</em> a specific pattern</strong> (say, no <code>world.</code> at the end):</p>
<ul>
<li>
<p>Lookbehind-based solution:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/11"><code>(?&amp;lt;!world\.)$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/12"><code>^.*(?&amp;lt;!world\.)$</code></a>
</li>
</ul>
</li>
<li>
<p>POSIX workaround:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/17"><code>^(.*([^w].{5}|.[^o].{4}|.{2}[^r].{3}|.{3}[^l].{2}|.{4}[^d].|.{5}[^.])|.{0,5})$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/18"><code>([^w].{5}|.[^o].{4}|.{2}[^r].{3}|.{3}[^l].{2}|.{4}[^d].|.{5}[^.]$|^.{0,5})$</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>containing</em> specific text</strong> (say, not match a string having <code>foo</code>) (no POSIX compliant patern, sorry):</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/21"><code>^(?!.*foo)</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/22"><code>^(?!.*foo).*$</code></a>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>containing</em> specific <em>character</em></strong> (say, avoid matching a string having a <code>|</code> symbol):</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/26"><code>^[^|]*$</code></a>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>equal to</em> some string</strong> (say, not equal to <code>foo</code>):</p>
<ul>
<li>
<p>Lookaround-based:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/23"><code>^(?!foo$)</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/24"><code>^(?!foo$).*$</code></a>
</li>
</ul>
</li>
<li>
<p>POSIX:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/25"><code>^(.{0,2}|.{4,}|[^f]..|.[^o].|..[^o])$</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>a <strong>sequence of characters</strong>:</p>
<ul>
<li>
<em>PCRE</em> (match any text but <code>cat</code>): <a href="https://regex101.com/r/jC8nB0/1"><code>/cat(*SKIP)(*FAIL)|[^c]*(?:c(?!at)[^c]*)*/i</code></a> or <a href="https://regex101.com/r/jC8nB0/2"><code>/cat(*SKIP)(*FAIL)|(?:(?!cat).)+/is</code></a>
</li>
<li>
Other engines allowing lookarounds: <a href="https://regex101.com/r/jC8nB0/19"><code>(cat)|[^c]*(?:c(?!at)[^c]*)*</code></a> (or <a href="https://regex101.com/r/jC8nB0/20"><code>(?s)(cat)|(?:(?!cat).)*</code></a>, or <code>(cat)|[^c]+(?:c(?!at)[^c]*)*|(?:c(?!at)[^c]*)+[^c]*</code>) and then check with language means: if Group 1 matched, it is not what we need, else, grab the match value if not empty
</li>
</ul>
</li>
<li>
<p>a <strong>certain single character or a set of characters</strong>:</p>
<ul>
<li>
Use a <a href="http://www.regular-expressions.info/charclass.html#negated">negated character class</a>: <a href="https://regex101.com/r/jC8nB0/7"><code>[^a-z]+</code></a> (any char other than a lowercase ASCII letter)
</li>
<li>
Matching any char(s) but <code>|</code>: <a href="https://regex101.com/r/jC8nB0/8"><code>[^|]+</code></a>
</li>
</ul>
</li>
</ul>
<p><strong>Demo note</strong>: the newline <code>\n</code> is used inside negated character classes in demos to avoid match overflow to the neighboring line(s). They are not necessary when testing individual strings.</p>
<p><strong>Anchor note</strong>: In many languages, use <code>\A</code> to define the unambiguous start of string, and <code>\z</code> (in Python, it is <code>\Z</code>, in JavaScript, <code>$</code> is OK) to define the very end of the string.</p>
<p><strong>Dot note</strong>: In many flavors (but not POSIX, TRE, TCL), <code>.</code> matches any char <em>but a newline</em> char. Make sure you use a corresponding DOTALL modifier (<code>/s</code> in PCRE/Boost/.NET/Python/Java and <code>/m</code> in Ruby) for the <code>.</code> to match any char including a newline.</p>
<p><strong>Backslash note</strong>: In languages where you have to declare patterns with C strings allowing escape sequences (like <code>\n</code> for a newline), you need to double the backslashes escaping special characters so that the engine could treat them as literal characters (e.g. in Java, <code>world\.</code> will be declared as <code>&quot;world\\.&quot;</code>, or use a character class: <code>&quot;world[.]&quot;</code>). Use raw string literals (Python <code>r'\bworld\b'</code>), C# verbatim string literals <code>@&quot;world\.&quot;</code>, or slashy strings/regex literal notations like <code>/world\./</code>.</p>
</section>
<section id="answer-3-score-243" class="level4">
<h4>Answer 3 (score 243)</h4>
<p>You can put a <code>^</code> in the beginning of a character set to match anything but those characters.</p>
<pre class="regex"><code>[^=]*</code></pre>
<p>will match everything but <code>=</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex---does-not-contain-certain-characters-score-353405-in-2019" class="level3">
<h3>79: Regex - Does not contain certain Characters (score <a href="https://stackoverflow.com/q/4105956.html">353405</a> in 2019)</h3>
<section id="question-78" class="level4">
<h4>Question</h4>
<p>I need a regex to match if anywhere in a sentence there is NOT either &lt; or &gt;.</p>
<p>If either &lt; or &gt; are in the string then it must return false.</p>
<p>I had a partial success with this but only if my &lt; &gt; are at the beginning or end:</p>
<pre class="regex"><code>(?!&amp;lt;|&amp;gt;).*$</code></pre>
<p>I am using .Net if that makes a difference.</p>
<p>Thanks for the help.</p>
</section>
<section id="answer-accepted-score-368" class="level4">
<h4>Answer accepted (score 368)</h4>
<pre class="regex"><code>^[^&amp;lt;&amp;gt;]+$</code></pre>
<p>The caret in the character class (<code>[^</code>) means match anything but, so this means, beginning of string, then one or more of anything except <code>&amp;lt;</code> and <code>&amp;gt;</code>, then the end of the string.</p>
</section>
<section id="answer-2-score-52-2" class="level4">
<h4>Answer 2 (score 52)</h4>
<p>Here you go:</p>
<pre class="regex"><code>^[^&amp;lt;&amp;gt;]*$</code></pre>
<p>This will test for string that has no <code>&amp;lt;</code> and no <code>&amp;gt;</code></p>
<p>If you want to test for a string that may have <code>&amp;lt;</code> and <code>&amp;gt;</code>, but must also have something other you should use just</p>
<pre class="regex"><code>[^&amp;lt;&amp;gt;] (or ^.*[^&amp;lt;&amp;gt;].*$)</code></pre>
<p>Where <code>[&amp;lt;&amp;gt;]</code> means <em>any of <code>&amp;lt;</code> or <code>&amp;gt;</code></em> and <code>[^&amp;lt;&amp;gt;]</code> means <em>any that is not of <code>&amp;lt;</code> or <code>&amp;gt;</code></em>.</p>
<p>And of course the mandatory <a href="http://www.regular-expressions.info/reference.html">link</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="whitespace-matching-regex---java-score-352296-in-2014" class="level3">
<h3>80: Whitespace Matching Regex - Java (score <a href="https://stackoverflow.com/q/4731055.html">352296</a> in 2014)</h3>
<section id="question-79" class="level4">
<h4>Question</h4>
<p>The Java API for <a href="http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html">regular expressions</a> states that <code>\s</code> will match whitespace. So the regex <code>\\s\\s</code> should match two spaces.</p>
<pre class="regex"><code>Pattern whitespace = Pattern.compile(&quot;\\s\\s&quot;);
matcher = whitespace.matcher(modLine);
while (matcher.find()) matcher.replaceAll(&quot; &quot;);</code></pre>
<p>The aim of this is to replace all instances of two consecutive whitespace with a single space. However this does not actually work.</p>
<p>Am I having a grave misunderstanding of regexes or the term “whitespace”?</p>
</section>
<section id="answer-accepted-score-41" class="level4">
<h4>Answer accepted (score 41)</h4>
<p>Yeah, you need to grab the result of matcher.replaceAll():</p>
<pre class="regex"><code>String result = matcher.replaceAll(&quot; &quot;);
System.out.println(result);</code></pre>
</section>
<section id="answer-2-score-182" class="level4">
<h4>Answer 2 (score 182)</h4>
<p>You can’t use <code>\s</code> in Java to match white space on its own native character set, because Java doesn’t support the Unicode white space property — even though doing so is strictly required to meet <a href="http://www.unicode.org/reports/tr18/#Categories" rel="noreferrer">UTS#18’s RL1.2!</a> What it does have is not standards-conforming, alas.</p>
<p>Unicode defines 26 code points as <code>\p{White_Space}</code>: 20 of them are various sorts of <code>\pZ</code> <em>GeneralCategory=Separator</em>, and the remaining 6 are <code>\p{Cc}</code> <em>GeneralCategory=Control</em>.</p>
<p>White space is a pretty stable property, and those same ones have been around virtually forever. Even so, Java has no property that conforms to The Unicode Standard for these, so you instead have to use code like this:</p>
<pre class="regex"><code>String whitespace_chars =  &quot;&quot;       /* dummy empty string for homogeneity */
                        + &quot;\\u0009&quot; // CHARACTER TABULATION
                        + &quot;\\u000A&quot; // LINE FEED (LF)
                        + &quot;\\u000B&quot; // LINE TABULATION
                        + &quot;\\u000C&quot; // FORM FEED (FF)
                        + &quot;\\u000D&quot; // CARRIAGE RETURN (CR)
                        + &quot;\\u0020&quot; // SPACE
                        + &quot;\\u0085&quot; // NEXT LINE (NEL) 
                        + &quot;\\u00A0&quot; // NO-BREAK SPACE
                        + &quot;\\u1680&quot; // OGHAM SPACE MARK
                        + &quot;\\u180E&quot; // MONGOLIAN VOWEL SEPARATOR
                        + &quot;\\u2000&quot; // EN QUAD 
                        + &quot;\\u2001&quot; // EM QUAD 
                        + &quot;\\u2002&quot; // EN SPACE
                        + &quot;\\u2003&quot; // EM SPACE
                        + &quot;\\u2004&quot; // THREE-PER-EM SPACE
                        + &quot;\\u2005&quot; // FOUR-PER-EM SPACE
                        + &quot;\\u2006&quot; // SIX-PER-EM SPACE
                        + &quot;\\u2007&quot; // FIGURE SPACE
                        + &quot;\\u2008&quot; // PUNCTUATION SPACE
                        + &quot;\\u2009&quot; // THIN SPACE
                        + &quot;\\u200A&quot; // HAIR SPACE
                        + &quot;\\u2028&quot; // LINE SEPARATOR
                        + &quot;\\u2029&quot; // PARAGRAPH SEPARATOR
                        + &quot;\\u202F&quot; // NARROW NO-BREAK SPACE
                        + &quot;\\u205F&quot; // MEDIUM MATHEMATICAL SPACE
                        + &quot;\\u3000&quot; // IDEOGRAPHIC SPACE
                        ;        
/* A \s that actually works for Java’s native character set: Unicode */
String     whitespace_charclass = &quot;[&quot;  + whitespace_chars + &quot;]&quot;;    
/* A \S that actually works for  Java’s native character set: Unicode */
String not_whitespace_charclass = &quot;[^&quot; + whitespace_chars + &quot;]&quot;;</code></pre>
<p>Now you can use <code>whitespace_charclass + &quot;+&quot;</code> as the pattern in your <code>replaceAll</code>.</p>
<hr>
<p>Sorry ’bout all that. <strong>Java’s regexes just don’t work very well on its own native character set,</strong> and so you really have to jump through exotic hoops to make them work.</p>
<p>And if you think white space is bad, you should see what you have to do to get <code>\w</code> and <code>\b</code> to finally behave properly!</p>
<p>Yes, it’s possible, and yes, it’s a mindnumbing mess. That’s being charitable, even. The easiest way to get a standards-comforming regex library for Java is to JNI over to ICU’s stuff. That’s what Google does for Android, because OraSun’s doesn’t measure up.</p>
<p>If you don’t want to do that but still want to stick with Java, I have a front-end regex rewriting library I wrote that “fixes” Java’s patterns, at least to get them conform to the requirements of <a href="http://www.unicode.org/reports/tr18/#Compatibility_Properties" rel="noreferrer">RL1.2a in UTS#18, <em>Unicode Regular Expressions</em></a>.</p>
</section>
<section id="answer-3-score-13" class="level4">
<h4>Answer 3 (score 13)</h4>
<p>For Java (not php, not javascript, not anyother):</p>
<pre class="regex"><code>txt.replaceAll(&quot;\\p{javaSpaceChar}{2,}&quot;,&quot; &quot;)</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-use-regex-with-find-command-score-351529-in-2011" class="level3">
<h3>81: How to use regex with find command? (score <a href="https://stackoverflow.com/q/6844785.html">351529</a> in 2011)</h3>
<section id="question-80" class="level4">
<h4>Question</h4>
<p>I have some images named with generated uuid1 string. For example 81397018-b84a-11e0-9d2a-001b77dc0bed.jpg. I want to find out all these images using “find” command:</p>
<pre class="regex"><code>find . -regex &quot;[a-f0-9\-]\{36\}\.jpg&quot;.</code></pre>
<p>But it doesn’t work. Something wrong with the regex? Could someone help me with this?</p>
</section>
<section id="answer-accepted-score-311" class="level4">
<h4>Answer accepted (score 311)</h4>
<pre class="regex"><code>find . -regextype sed -regex &quot;.*/[a-f0-9\-]\{36\}\.jpg&quot;</code></pre>
<p>Note that you need to specify <code>.*/</code> in the beginning because <code>find</code> matches the whole path.</p>
<p>Example:</p>
<pre class="regex"><code>susam@nifty:~/so$ find . -name &quot;*.jpg&quot;
./foo-111.jpg
./test/81397018-b84a-11e0-9d2a-001b77dc0bed.jpg
./81397018-b84a-11e0-9d2a-001b77dc0bed.jpg
susam@nifty:~/so$ 
susam@nifty:~/so$ find . -regextype sed -regex &quot;.*/[a-f0-9\-]\{36\}\.jpg&quot;
./test/81397018-b84a-11e0-9d2a-001b77dc0bed.jpg
./81397018-b84a-11e0-9d2a-001b77dc0bed.jpg</code></pre>
<p>My version of find:</p>
<pre class="regex"><code>$ find --version
find (GNU findutils) 4.4.2
Copyright (C) 2007 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;http://gnu.org/licenses/gpl.html&amp;gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by Eric B. Decker, James Youngman, and Kevin Dalley.
Built using GNU gnulib version e5573b1bad88bfabcda181b9e0125fb0c52b7d3b
Features enabled: D_TYPE O_NOFOLLOW(enabled) LEAF_OPTIMISATION FTS() CBO(level=0) 
susam@nifty:~/so$ 
susam@nifty:~/so$ find . -regextype foo -regex &quot;.*/[a-f0-9\-]\{36\}\.jpg&quot;
find: Unknown regular expression type `foo&#39;; valid types are `findutils-default&#39;, `awk&#39;, `egrep&#39;, `ed&#39;, `emacs&#39;, `gnu-awk&#39;, `grep&#39;, `posix-awk&#39;, `posix-basic&#39;, `posix-egrep&#39;, `posix-extended&#39;, `posix-minimal-basic&#39;, `sed&#39;.</code></pre>
</section>
<section id="answer-2-score-72" class="level4">
<h4>Answer 2 (score 72)</h4>
<p>The <code>-regex</code> find expression matches the <strong>whole name</strong>, including the relative path from the current directory. For <code>find .</code> this always starts with <code>./</code>, then any directories.</p>
<p>Also, these are <code>emacs</code> regular expressions, which have other escaping rules than the usual egrep regular expressions.</p>
<p>If these are all directly in the current directory, then</p>
<pre class="regex"><code>find . -regex &#39;\./[a-f0-9\-]\{36\}\.jpg&#39;</code></pre>
<p>should work. (I’m not really sure - I can’t get the counted repetition to work here.) You can switch to egrep expressions by <code>-regextype posix-egrep</code>:</p>
<pre class="regex"><code>find . -regextype posix-egrep -regex &#39;\./[a-f0-9\-]{36}\.jpg&#39;</code></pre>
<p>(Note that everything said here is for GNU find, I don’t know anything about the BSD one which is also the default on Mac.)</p>
</section>
<section id="answer-3-score-30-2" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>Judging from other answers, it seems this might be find’s fault.</p>
<p>However you can do it this way instead:</p>
<p><code>find . * | grep -P &quot;[a-f0-9\-]{36}\.jpg&quot;</code></p>
<p>You might have to tweak the grep a bit and use different options depending on what you want but it works.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="php-string-contains-score-351294-in-2017" class="level3">
<h3>82: PHP string “contains” (score <a href="https://stackoverflow.com/q/13577041.html">351294</a> in 2017)</h3>
<section id="question-81" class="level4">
<h4>Question</h4>
<blockquote>
<p>
<strong>Possible Duplicate:</strong><br> <a href="https://stackoverflow.com/questions/1019169/how-can-i-check-if-a-word-is-contained-in-another-string-using-php">How can I check if a word is contained in another string using PHP?</a>
</p>
</blockquote>
<p>What would be the most efficient way to check whether a string contains a “.” or not?</p>
<p>I know you can do this in many different ways like with <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expressions</a> or loop through the string to see if it contains a dot (“.”).</p>
</section>
<section id="answer-accepted-score-488" class="level4">
<h4>Answer accepted (score 488)</h4>
<pre class="regex"><code>if (strpos($str, &#39;.&#39;) !== FALSE)
{
 echo &#39;Found it&#39;;
}
else
{
 echo &#39;Not found.&#39;;
}</code></pre>
<p>Note that you need to compare with the <code>!==</code> operator. If you use <code>!=</code> or <code>&amp;lt;&amp;gt;</code> and the <code>'.'</code> is found at position <code>0</code>, hey! <code>0</code> compares equal to <code>FALSE</code> and you lose. This will cause you to point a production website at a development database over the weekend, causing no end of joy when you return monday.</p>
</section>
<section id="answer-2-score-65" class="level4">
<h4>Answer 2 (score 65)</h4>
<p>You can use these string functions,</p>
<p><a href="http://www.php.net/manual/en/function.strstr.php" rel="noreferrer">strstr</a> — Find the first occurrence of a string</p>
<p><a href="http://www.php.net/manual/en/function.stristr.php" rel="noreferrer">stristr</a> — Case-insensitive strstr()</p>
<p><a href="http://www.php.net/manual/en/function.strrchr.php" rel="noreferrer">strrchr</a> — Find the last occurrence of a character in a string</p>
<p><a href="http://www.php.net/manual/en/function.strpos.php" rel="noreferrer">strpos</a> — Find the position of the first occurrence of a substring in a string</p>
<p><a href="http://www.php.net/manual/en/function.strpbrk.php" rel="noreferrer">strpbrk</a> — Search a string for any of a set of characters</p>
<p>If that doesn’t help then you should use <code>preg</code> regular expression</p>
<p><a href="http://www.php.net/manual/en/function.preg-match.php" rel="noreferrer">preg_match</a> — Perform a regular expression match</p>
</section>
<section id="answer-3-score-7" class="level4">
<h4>Answer 3 (score 7)</h4>
<p>You can use <code>stristr()</code> or <code>strpos()</code>. Both <em>return false</em> if nothing is found.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-every-new-line-character-inside-a-tag-score-350198-in-2015" class="level3">
<h3>83: Regular Expression to match every new line character () inside a <content> tag (score <a href="https://stackoverflow.com/q/1117807.html">350198</a> in 2015)</h3>
<section id="question-82" class="level4">
<h4>Question</h4>
<p>I’m looking for a regular expression to match every new line character (<code>\n</code>) inside a XML tag which is <code>&amp;lt;content&amp;gt;</code>, or inside any tag which is inside that <code>&amp;lt;content&amp;gt;</code> tag, for example :</p>
<pre class="regex"><code>&amp;lt;blog&amp;gt;
&amp;lt;text&amp;gt;
(Do NOT match new lines here)
&amp;lt;/text&amp;gt;
&amp;lt;content&amp;gt;
(DO match new lines here)
&amp;lt;p&amp;gt;
(Do match new lines here)
&amp;lt;/p&amp;gt;
&amp;lt;/content&amp;gt;
(Do NOT match new lines here)
&amp;lt;content&amp;gt;
(DO match new lines here)
&amp;lt;/content&amp;gt;</code></pre>
</section>
<section id="answer-accepted-score-73" class="level4">
<h4>Answer accepted (score 73)</h4>
<p>Actually… you can’t use a simple regex here, at least not one. You probably need to worry about comments! Someone may write:</p>
<pre class="regex"><code>&amp;lt;!-- &amp;lt;content&amp;gt; blah &amp;lt;/content&amp;gt; --&amp;gt;</code></pre>
<p>You can take two approaches here:</p>
<ol>
<li>
Strip all comments out first. Then use the regex approach.
</li>
<li>
Do not use regular expressions and use a context sensitive parsing approach that can keep track of whether or not you are nested in a comment.
</li>
</ol>
<p>Be careful.</p>
<p>I am also not so sure you can match all new lines at once. <span class="citation" data-cites="Quartz">@Quartz</span> suggested this one:</p>
<pre class="regex"><code>&amp;lt;content&amp;gt;([^\n]*\n+)+&amp;lt;/content&amp;gt;</code></pre>
<p>This will match any content tags that have a newline character RIGHT BEFORE the closing tag… but I’m not sure what you mean by matching <em>all</em> newlines. Do you want to be able to access all the matched newline characters? If so, your best bet is to grab all content tags, and then search for all the newline chars that are nested in between. Something more like this:</p>
<pre class="regex"><code>&amp;lt;content&amp;gt;.*&amp;lt;/content&amp;gt;</code></pre>
<p>BUT THERE IS ONE CAVEAT: regexes are greedy, so this regex will match the first opening tag to the last closing one. Instead, you HAVE to suppress the regex so it is not greedy. In languages like python, you can do this with the “?” regex symbol.</p>
<p>I hope with this you can see some of the pitfalls and figure out how you want to proceed. You are probably better off using an XML parsing library, then iterating over all the content tags.</p>
<p>I know I may not be offering the best solution, but at least I hope you will see the difficulty in this and why other answers may not be right…</p>
<p><strong>UPDATE 1:</strong></p>
<p>Let me summarize a bit more and add some more detail to my response. I am going to use python’s regex syntax because it is what I am more used to (forgive me ahead of time… you may need to escape some characters… comment on my post and I will correct it):</p>
<p>
<p>To strip out comments, use this regex:</p>
Notice the “?” suppresses the .* to make it non-greedy.
</p>
<p>
Similarly, to search for content tags, use: .*?
</p>
<p>Also, You may be able to try this out, and access each newline character with the match objects groups():</p>
<pre class="regex"><code>&amp;lt;content&amp;gt;(.*?(\n))+.*?&amp;lt;/content&amp;gt;</code></pre>
<p>I know my escaping is off, but it captures the idea. This last example probably won’t work, but I think it’s your best bet at expressing what you want. My suggestion remains: either grab all the content tags and do it yourself, or use a parsing library.</p>
<p><strong>UPDATE 2:</strong></p>
<p>So here is python code that ought to work. I am still unsure what you mean by “find” all newlines. Do you want the entire lines? Or just to count how many newlines. To get the actual lines, try:</p>
<pre class="regex"><code>#!/usr/bin/python

import re

def FindContentNewlines(xml_text):
    # May want to compile these regexes elsewhere, but I do it here for brevity
    comments = re.compile(r&quot;&amp;lt;!--.*?--&amp;gt;&quot;, re.DOTALL)
    content = re.compile(r&quot;&amp;lt;content&amp;gt;(.*?)&amp;lt;/content&amp;gt;&quot;, re.DOTALL)
    newlines = re.compile(r&quot;^(.*?)$&quot;, re.MULTILINE|re.DOTALL)

    # strip comments: this actually may not be reliable for &quot;nested comments&quot;
    # How does xml handle &amp;lt;!--  &amp;lt;!-- --&amp;gt; --&amp;gt;. I am not sure. But that COULD
    # be trouble.
    xml_text = re.sub(comments, &quot;&quot;, xml_text)

    result = []
    all_contents = re.findall(content, xml_text)
    for c in all_contents:
        result.extend(re.findall(newlines, c))

    return result

if __name__ == &quot;__main__&quot;:
    example = &quot;&quot;&quot;

&amp;lt;!-- This stuff
ought to be omitted
&amp;lt;content&amp;gt;
  omitted
&amp;lt;/content&amp;gt;
--&amp;gt;

This stuff is good
&amp;lt;content&amp;gt;
&amp;lt;p&amp;gt;
  haha!
&amp;lt;/p&amp;gt;
&amp;lt;/content&amp;gt;

This is not found
&quot;&quot;&quot;
    print FindContentNewlines(example)</code></pre>
<p>This program prints the result:</p>
<pre class="regex"><code> [&#39;&#39;, &#39;&amp;lt;p&amp;gt;&#39;, &#39;  haha!&#39;, &#39;&amp;lt;/p&amp;gt;&#39;, &#39;&#39;]</code></pre>
<p>The first and last empty strings come from the newline chars immediately preceeding the first <code>&amp;lt;p&amp;gt;</code> and the one coming right after the <code>&amp;lt;/p&amp;gt;</code>. All in all this (for the most part) does the trick. Experiment with this code and refine it for your needs. Print out stuff in the middle so you can see what the regexes are matching and not matching.</p>
<p>Hope this helps :-).</p>
<p>PS - I didn’t have much luck trying out my regex from my first update to capture all the newlines… let me know if you do.</p>
</section>
<section id="answer-2-score-4" class="level4">
<h4>Answer 2 (score 4)</h4>
<pre class="regex"><code>&amp;lt;content&amp;gt;(?:[^\n]*(\n+))+&amp;lt;/content&amp;gt;</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-javascript-to-allow-only-alphanumeric-score-349473-in-2015" class="level3">
<h3>84: RegEx for Javascript to allow only alphanumeric (score <a href="https://stackoverflow.com/q/388996.html">349473</a> in 2015)</h3>
<section id="question-83" class="level4">
<h4>Question</h4>
<p>I need to find a reg ex that only allows alphanumeric. So far, everyone I try only works if the string is alphanumeric, meaning contains both a letter and a number. I just want one what would allow either and not require both.</p>
</section>
<section id="answer-accepted-score-450" class="level4">
<h4>Answer accepted (score 450)</h4>
<pre class="regex"><code>/^[a-z0-9]+$/i

^         Start of string
[a-z0-9]  a or b or c or ... z or 0 or 1 or ... 9
+         one or more times (change to * to allow empty string)
$         end of string    
/i        case-insensitive</code></pre>
</section>
<section id="answer-2-score-137" class="level4">
<h4>Answer 2 (score 137)</h4>
<p>If you wanted to return a replaced result, then this would work:</p>
<pre class="regex"><code>var a = &#39;Test123*** TEST&#39;;
var b = a.replace(/[^a-z0-9]/gi,&#39;&#39;);
console.log(b);</code></pre>
<p>This would return:</p>
<pre class="regex"><code>Test123TEST</code></pre>
<p>Note that the gi is necessary because it means global (not just on the first match), and case-insensitive, which is why I have a-z instead of a-zA-Z. And the ^ inside the brackets means “anything not in these brackets”.</p>
<p>WARNING: Alphanumeric is great if that’s exactly what you want. But if you’re using this in an international market on like a person’s name or geographical area, then you need to account for unicode characters, which this won’t do. For instance, if you have a name like “Âlvarö”, it would make it “lvar”.</p>
</section>
<section id="answer-3-score-77" class="level4">
<h4>Answer 3 (score 77)</h4>
<p>Use the word character class. The following is equivalent to a <code>^[a-zA-Z0-9_]+$</code>:</p>
<pre class="regex"><code>^\w+$</code></pre>
<p>Explanation:</p>
<ul>
<li>
^ start of string
</li>
<li>
any word character (A-Z, a-z, 0-9, _).
</li>
<li>
$ end of string
</li>
</ul>
<p>Use <code>/[^\w]|_/g</code> if you don’t want to match the underscore.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="validate-phone-number-with-javascript-score-347886-in-2011" class="level3">
<h3>85: Validate phone number with JavaScript (score <a href="https://stackoverflow.com/q/4338267.html">347886</a> in 2011)</h3>
<section id="question-84" class="level4">
<h4>Question</h4>
<p>
I found this code in some website, and it works perfectly. It validates that the phone number is in one of these formats:<br> <strong>(123) 456-7890</strong> or <strong>123-456-7890</strong>
</p>
<p>The problem is that my client (I don’t know why, maybe client stuffs) wants to add another format, the ten numbers consecutively, something like this: <strong>1234567890</strong>.</p>
<p>I’m using this regular expression,</p>
<pre class="regex"><code>/^(\()?\d{3}(\))?(-|\s)?\d{3}(-|\s)\d{4}$/</code></pre>
<p>How can I add that it also validates the another format? I’m not good with regular expressions.</p>
</section>
<section id="answer-accepted-score-107" class="level4">
<h4>Answer accepted (score 107)</h4>
<p>First off, your format validator is obviously only appropriate for <a href="http://en.wikipedia.org/wiki/North_American_Numbering_Plan" rel="noreferrer">NANP</a> (country code +1) numbers. Will your application be used by someone with a phone number from outside North America? If so, you don’t want to prevent those people from entering a perfectly valid [international] number.</p>
<p>Secondly, your validation is incorrect. NANP numbers take the form <code>NXX NXX XXXX</code> where <code>N</code> is a digit 2-9 and <code>X</code> is a digit 0-9. Additionally, area codes and exchanges may not take the form <code>N11</code> (end with two ones) to avoid confusion with special services <em>except</em> numbers in a non-geographic area code (800, 888, 877, 866, 855, 900) may have a <code>N11</code> exchange.</p>
<p>So, your regex will pass the number (123) 123 4566 even though that is not a valid phone number. You can fix that by replacing <code>\d{3}</code> with <code>[2-9]{1}\d{2}</code>.</p>
<p>Finally, I get the feeling you’re validating user input in a web browser. Remember that client-side validation is <a href="https://stackoverflow.com/questions/1726617/form-validation-with-javascript-vs-php">only a <strong>convenience</strong> you provide to the user</a>; you still need to validate all input (again) on the server.</p>
<p><strong>TL;DR</strong> don’t use a regular expression to <a href="https://stackoverflow.com/a/5059082/1269037">validate complex real-world data like phone numbers</a> or <a href="https://stackoverflow.com/questions/37684/how-to-replace-plain-urls-with-links/21925491#21925491">URLs</a>. Use a <a href="https://github.com/googlei18n/libphonenumber" rel="noreferrer">specialized library</a>.</p>
</section>
<section id="answer-2-score-119" class="level4">
<h4>Answer 2 (score 119)</h4>
<p>My regex of choice is:</p>
<pre class="regex"><code>/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im</code></pre>
<p>Valid formats:</p>
<p>
<strong>(123) 456-7890</strong><br> <strong>(123)456-7890</strong><br> <strong>123-456-7890</strong><br> <strong>123.456.7890</strong><br> <strong>1234567890</strong><br> <strong>+31636363634</strong><br> <strong>075-63546725</strong>
</p>
</section>
<section id="answer-3-score-58" class="level4">
<h4>Answer 3 (score 58)</h4>
<p>If you are looking for 10 and only 10 digits, ignore everything but the digits-</p>
<pre class="regex"><code>   return value.match(/\d/g).length===10;</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="javascript-regular-expression-email-validation-score-329940-in-2018" class="level3">
<h3>86: JavaScript Regular Expression Email Validation (score <a href="https://stackoverflow.com/q/940577.html">329940</a> in 2018)</h3>
<section id="question-85" class="level4">
<h4>Question</h4>
<p>This code is always alerting out <code>&quot;null&quot;</code>, which means that the string does not match the expression.</p>
<pre class="regex"><code>var pattern = &quot;^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$&quot;; 

function isEmailAddress(str) {

    str = &quot;azamsharp@gmail.com&quot;;      

    alert(str.match(pattern)); 
    return str.match(pattern);    

}</code></pre>
</section>
<section id="answer-accepted-score-73-1" class="level4">
<h4>Answer accepted (score 73)</h4>
<p>If you define your regular expression as a string then all backslashes need to be escaped, so instead of ‘’ you should have ‘\w’.</p>
<p>Alternatively, define it as a regular expression:</p>
<pre class="regex"><code>var pattern = /^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/; </code></pre>
<hr>
<p>BTW, please don’t validate email addresses on the client-side. Your regular expression is way too simple to pass for a solid implementation anyway.</p>
<p>See the real thing here: <strong><a href="http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html" rel="noreferrer">http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html</a></strong></p>
</section>
<section id="answer-2-score-27" class="level4">
<h4>Answer 2 (score 27)</h4>
<p>this is the one i am using on my page.</p>
<p><a href="http://www.zparacha.com/validate-email-address-using-javascript-regular-expression/" rel="noreferrer">http://www.zparacha.com/validate-email-address-using-javascript-regular-expression/</a></p>
<p><code>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/</code></p>
</section>
<section id="answer-3-score-14-3" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>I’ve been using this function for a while. it returns a boolean value.</p>
<pre class="regex"><code>// Validates email address of course.
function validEmail(e) {
    var filter = /^\s*[\w\-\+_]+(\.[\w\-\+_]+)*\@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*\s*$/;
    return String(e).search (filter) != -1;
}</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-remove-all-non-alphanumeric-characters-from-a-string-except-dash-score-329647-in-2014" class="level3">
<h3>87: How do I remove all non alphanumeric characters from a string except dash? (score <a href="https://stackoverflow.com/q/3210393.html">329647</a> in 2014)</h3>
<section id="question-86" class="level4">
<h4>Question</h4>
<p>How do I remove all non alphanumeric characters from a string except dash and space characters?</p>
</section>
<section id="answer-accepted-score-808" class="level4">
<h4>Answer accepted (score 808)</h4>
<p>Replace <code>[^a-zA-Z0-9 -]</code> with an empty string.</p>
<pre class="regex"><code>Regex rgx = new Regex(&quot;[^a-zA-Z0-9 -]&quot;);
str = rgx.Replace(str, &quot;&quot;);</code></pre>
</section>
<section id="answer-2-score-338" class="level4">
<h4>Answer 2 (score 338)</h4>
<p>I could have used RegEx, they can provide elegant solution but they can cause performane issues. Here is one solution</p>
<pre class="regex"><code>char[] arr = str.ToCharArray();

arr = Array.FindAll&amp;lt;char&amp;gt;(arr, (c =&amp;gt; (char.IsLetterOrDigit(c) 
                                  || char.IsWhiteSpace(c) 
                                  || c == &#39;-&#39;)));
str = new string(arr);</code></pre>
<hr>
<p>When using the compact framework (which doesn’t have FindAll)</p>
<p>Replace FindAll with<sup>1</sup></p>
<pre class="regex"><code>char[] arr = str.Where(c =&amp;gt; (char.IsLetterOrDigit(c) || 
                             char.IsWhiteSpace(c) || 
                             c == &#39;-&#39;)).ToArray(); 

str = new string(arr);</code></pre>
<hr>
<p><sup>1</sup> <a href="https://stackoverflow.com/questions/3210393/how-do-i-remove-all-non-alphanumeric-characters-from-a-string-except-dash/3210462#comment20263933_3210462">Comment by ShawnFeatherly</a></p>
</section>
<section id="answer-3-score-43-2" class="level4">
<h4>Answer 3 (score 43)</h4>
<p>You can try:</p>
<pre class="regex"><code>   string s1= Regex.Replace(s,&quot;[^A-Za-z0-9 _]&quot;,&quot;&quot;);</code></pre>
<p>Where <code>s</code> is your string.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-string-starting-with-stop-score-329414-in-2011" class="level3">
<h3>88: Regular Expression to match string starting with “stop” (score <a href="https://stackoverflow.com/q/1240504.html">329414</a> in 2011)</h3>
<section id="question-87" class="level4">
<h4>Question</h4>
<p>How do I create a regular expression to match a word at the beginning of a string. We are looking to match <code>stop</code> at the beginning of a string and anything can follow it.</p>
<p>For example the expression should match:</p>
<pre class="regex"><code>stop
stop random
stopping</code></pre>
<p>Thanks.</p>
</section>
<section id="answer-2-score-158" class="level4">
<h4>Answer 2 (score 158)</h4>
<p>If you wish to match only lines beginning with stop use</p>
<pre class="regex"><code>^stop</code></pre>
<p>If you wish to match lines beginning with the word stop followed by a space</p>
<pre class="regex"><code>^stop\s</code></pre>
<p>Or, if you wish to match lines beginning with the word stop but followed by either a space or any other non word character you can use (your regex flavor permitting)</p>
<pre class="regex"><code>^stop\W</code></pre>
<p>On the other hand, what follows matches a word at the beginning of a string on most regex flavors (in these flavors matches the opposite of )</p>
<pre class="regex"><code>^\w</code></pre>
<p>If your flavor does not have the shortcut, you can use</p>
<pre class="regex"><code>^[a-zA-Z0-9]+</code></pre>
<p>Be wary that this second idiom will only match letters and numbers, no symbol whatsoever.</p>
<p>Check your regex flavor manual to know what shortcuts are allowed and what exactly do they match (and how do they deal with Unicode.)</p>
</section>
<section id="answer-3-score-70" class="level4">
<h4>Answer 3 (score 70)</h4>
<p>Try this:</p>
<pre class="regex"><code>/^stop.*$/</code></pre>
<p>Explanation:</p>
<ul>
<li>
<strong>/</strong> charachters delimit the regular expression (i.e. they are not part of the Regex per se)
</li>
<li>
<strong>^</strong> means match at the beginning of the line
</li>
<li>
<strong>.</strong> followed by <strong><em></strong> means match any character (.), any number of times (</em>)
</li>
<li>
<strong>$</strong> means to the end of the line
</li>
</ul>
<p>If you would like to enforce that stop be followed by a whitespace, you could modify the RegEx like so:</p>
<pre class="regex"><code>/^stop\s+.*$/</code></pre>
<ul>
<li>
<strong> means any whitespace character
</li>
<li>
<strong>+</strong> following the <strong> means there has to be at least one whitespace character following after the stop word
</li>
</ul>
<p>Note: Also keep in mind that the RegEx above requires that the stop word be followed by a space! So it wouldn’t match a line that only contains: <em>stop</em></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-only-alphabetic-characters-score-329002-in-2011" class="level3">
<h3>89: Regular Expression to match only alphabetic characters (score <a href="https://stackoverflow.com/q/6067592.html">329002</a> in 2011)</h3>
<section id="question-88" class="level4">
<h4>Question</h4>
<p>I was wondering If i could get a regular expression which will match a string that only has alpahabetic characters, and that alone</p>
</section>
<section id="answer-accepted-score-161" class="level4">
<h4>Answer accepted (score 161)</h4>
<p>You may use any of these 2 variants:</p>
<pre class="regex"><code>/^[A-Z]+$/i
/^[A-Za-z]+$/</code></pre>
<p>to match an input string of ASCII alphabets.</p>
<ul>
<li>
<code>[A-Za-z]</code> will match all the alphabets (both lowercase and uppercase).
</li>
<li>
<code>^</code> and <code>$</code> will make sure that nothing but these alphabets will be matched.
</li>
</ul>
<p><strong>Code:</strong></p>
<pre class="regex"><code>preg_match(&#39;/^[A-Z]+$/i&#39;, &quot;abcAbc^Xyz&quot;, $m);
var_dump($m);</code></pre>
<p><strong>Output:</strong></p>
<pre class="regex"><code>array(0) {
}</code></pre>
<p><strong>Test case</strong> is for OP’s comment that he wants to match <strong>only if</strong> there are 1 or more alphabets present in input. As you can see in test case that match failed because there was <code>^</code> in the input string <code>abcAbc^Xyz</code>.</p>
<p><strong>Note:</strong> Please note that above answer <em>only matches ASCII alphabets</em> and doesn’t match Unicode characters. If you want to match unicode letters then use:</p>
<pre class="regex"><code>/^\p{L}+$/u</code></pre>
</section>
<section id="answer-2-score-49" class="level4">
<h4>Answer 2 (score 49)</h4>
<p>If you need to include non-ASCII alphabetic characters, and if your regex flavor supports Unicode, then</p>
<pre class="regex"><code>\A\pL+\z</code></pre>
<p>would be the correct regex.</p>
<p>Some regex engines don’t support this Unicode syntax but allow the <code>\w</code> alphanumeric shorthand to also match non-ASCII characters. In that case, you can get all alphabetics by subtracting digits and underscores from <code>\w</code> like this:</p>
<pre class="regex"><code>\A[^\W\d_]+\z</code></pre>
<p><code>\A</code> matches at the start of the string, <code>\z</code> at the end of the string (<code>^</code> and <code>$</code> also match at the start/end of lines in some languages like Ruby, or if certain regex options are set).</p>
</section>
<section id="answer-3-score-21-1" class="level4">
<h4>Answer 3 (score 21)</h4>
<p>This will match one or more alphabetical characters:</p>
<pre class="regex"><code>/^[a-z]+$/</code></pre>
<p>You can make it case insensitive using:</p>
<pre class="regex"><code>/^[a-z]+$/i</code></pre>
<p>or:</p>
<pre class="regex"><code>/^[a-zA-Z]+$/</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-dns-hostname-or-ip-address-score-322309-in-2014" class="level3">
<h3>90: Regular expression to match DNS hostname or IP Address? (score <a href="https://stackoverflow.com/q/106179.html">322309</a> in 2014)</h3>
<section id="question-89" class="level4">
<h4>Question</h4>
<p>Does anyone have a regular expression handy that will match any legal DNS hostname or IP address?</p>
<p>It’s easy to write one that works 95% of the time, but I’m hoping to get something that’s well tested to exactly match the latest RFC specs for DNS hostnames.</p>
</section>
<section id="answer-accepted-score-518" class="level4">
<h4>Answer accepted (score 518)</h4>
<p>You can use the following regular expressions separately or by combining them in a joint OR expression.</p>
<pre class="regex"><code>ValidIpAddressRegex = &quot;^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$&quot;;

ValidHostnameRegex = &quot;^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$&quot;;</code></pre>
<p><strong>ValidIpAddressRegex</strong> matches valid IP addresses and <strong>ValidHostnameRegex</strong> valid host names. Depending on the language you use  could have to be escaped with .</p>
<hr>
<p><strong>ValidHostnameRegex</strong> is valid as per <a href="http://tools.ietf.org/html/rfc1123" rel="noreferrer">RFC 1123</a>. Originally, <a href="http://tools.ietf.org/html/rfc952" rel="noreferrer">RFC 952</a> specified that hostname segments could not start with a digit.</p>
<p><a href="http://en.wikipedia.org/wiki/Hostname" rel="noreferrer">http://en.wikipedia.org/wiki/Hostname</a></p>
<blockquote>
<p>
The original specification of hostnames in <a href="http://tools.ietf.org/html/rfc952" rel="noreferrer">RFC 952</a>, mandated that labels could not start with a digit or with a hyphen, and must not end with a hyphen. However, a subsequent specification (<a href="http://tools.ietf.org/html/rfc1123" rel="noreferrer">RFC 1123</a>) permitted hostname labels to start with digits.
</p>
</blockquote>
<pre class="regex"><code>Valid952HostnameRegex = &quot;^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$&quot;;</code></pre>
</section>
<section id="answer-2-score-61" class="level4">
<h4>Answer 2 (score 61)</h4>
<p>The hostname regex of <em>smink</em> does not observe the limitation on the length of individual labels within a hostname. <strong>Each label within a valid hostname may be no more than 63 octets long.</strong></p>
<pre>ValidHostnameRegex="^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])\
(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$"</pre>
<p>Note that the backslash at the end of the first line (above) is Unix shell syntax for splitting the long line. It’s not a part of the regular expression itself.</p>
<p>Here’s just the regular expression alone on a single line:</p>
<pre>^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$</pre>
<p>You should also check separately that <strong>the total length of the hostname must not exceed 255 characters</strong>. For more information, please consult RFC-952 and RFC-1123.</p>
</section>
<section id="answer-3-score-31-1" class="level4">
<h4>Answer 3 (score 31)</h4>
<p>To match a valid <strong>IP address</strong> use the following regex:</p>
<pre class="regex"><code>(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}</code></pre>
<p>instead of:</p>
<pre class="regex"><code>([01]?[0-9][0-9]?|2[0-4][0-9]|25[0-5])(\.([01]?[0-9][0-9]?|2[0-4][0-9]|25[0-5])){3}</code></pre>
<h5>
Explanation
</h3>
<p>Many regex engine match the first possibility in the <code>OR</code> sequence. For instance, try the following regex:</p>
<pre class="regex"><code>10.48.0.200</code></pre>
<h5>
Test
</h3>
<p>Test the difference between <a href="http://regexr.com?37hh1" rel="noreferrer">good</a> vs <a href="http://regexr.com?37hh4" rel="noreferrer">bad</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-regex-will-match-every-character-except-comma-or-semi-colon-score-320135-in-2009" class="level3">
<h3>91: What regex will match every character except comma ‘,’ or semi-colon ‘;’? (score <a href="https://stackoverflow.com/q/1409162.html">320135</a> in 2009)</h3>
<section id="question-90" class="level4">
<h4>Question</h4>
<p>Is it possible to define a regex which will match every character except a certain defined character or set of characters?</p>
<p>Basically, I wanted to split a string by either comma (,) or semi-colon (;). So I was thinking of doing it with a regex which would match everything until it encountered a comma or a semi-colon.</p>
</section>
<section id="answer-accepted-score-418" class="level4">
<h4>Answer accepted (score 418)</h4>
<pre class="regex"><code>[^,;]+         </code></pre>
<p>You haven’t specified the regex implementation you are using. Most of them have a <code>Split</code> method that takes delimiters and split by them. You might want to use that one with a “normal” (without <code>^</code>) character class:</p>
<pre class="regex"><code>[,;]+</code></pre>
</section>
<section id="answer-2-score-73" class="level4">
<h4>Answer 2 (score 73)</h4>
<p>Use character classes. A character class beginning with caret will match anything not in the class.</p>
<pre class="regex"><code>[^,;]</code></pre>
</section>
<section id="answer-3-score-38-1" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>use a <a href="https://www.regular-expressions.info/charclass.html#negated" rel="noreferrer">negative character class</a>:</p>
<pre class="regex"><code>[^,;]+</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-escape-regular-expression-special-characters-using-javascript-score-319153-in-2011" class="level3">
<h3>92: How to escape regular expression special characters using javascript? (score <a href="https://stackoverflow.com/q/3115150.html">319153</a> in 2011)</h3>
<section id="question-91" class="level4">
<h4>Question</h4>
<p>I need to escape the regular expression special characters using java script.How can i achieve this?Any help should be appreciated.</p>
<hr>
<p>Thanks for your quick reply.But i need to escape all the special characters of regular expression.I have try by this code,But i can’t achieve the result.</p>
<pre class="regex"><code>RegExp.escape=function(str)
            {
                if (!arguments.callee.sRE) {
                    var specials = [
                        &#39;/&#39;, &#39;.&#39;, &#39;*&#39;, &#39;+&#39;, &#39;?&#39;, &#39;|&#39;,
                        &#39;(&#39;, &#39;)&#39;, &#39;[&#39;, &#39;]&#39;, &#39;{&#39;, &#39;}&#39;, &#39;\\&#39;
                    ];
                    arguments.callee.sRE = new RegExp(
                    &#39;(\\&#39; + specials.join(&#39;|\\&#39;) + &#39;)&#39;, &#39;gim&#39;
                );
                }
                return str.replace(arguments.callee.sRE, &#39;\\$1&#39;);

            }

function regExpFind() {
            &amp;lt;%--var regex = new RegExp(&quot;\\[munees\\]&quot;,&quot;gim&quot;);--%&amp;gt;
                    var regex= new RegExp(RegExp.escape(&quot;[Munees]waran&quot;));
                    &amp;lt;%--var regex=RegExp.escape`enter code here`(&quot;[Munees]waran&quot;);--%&amp;gt;
                    alert(&quot;Reg : &quot;+regex);
                }</code></pre>
<p>What i am wrong with this code?Please guide me.</p>
</section>
<section id="answer-2-score-380" class="level4">
<h4>Answer 2 (score 380)</h4>
<p>Use the <code>\</code> character to escape a character that has special meaning inside a regular expression.</p>
<p>To automate it, you could use this:</p>
<pre class="regex"><code>function escapeRegExp(text) {
  return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, &#39;\\$&amp;amp;&#39;);
}</code></pre>
<p><strong>Update:</strong> There is now a proposal to standardize this method, possibly in ES2016: <a href="https://github.com/benjamingr/RegExp.escape" rel="noreferrer">https://github.com/benjamingr/RegExp.escape</a></p>
<p><strong>Update</strong>: The abovementioned proposal was rejected, so keep implementing this yourself if you need it.</p>
</section>
<section id="answer-3-score-14-4" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>Use the backslash to escape a character. For example:</p>
<pre class="regex"><code>/\\d/</code></pre>
<p>This will match instead of a numeric character</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-get-a-string-between-two-strings-in-javascript-score-316875-in-2019" class="level3">
<h3>93: Regular expression to get a string between two strings in Javascript (score <a href="https://stackoverflow.com/q/5642315.html">316875</a> in 2019)</h3>
<section id="question-92" class="level4">
<h4>Question</h4>
<p>I have found very similar posts, but I can’t quite get my regular expression right here.</p>
<p>I am trying to write a regular expression which returns a string which is between two other strings. For example: I want to get the string which resides between the strings “cow” and “milk”.</p>
<blockquote>
My cow always gives milk
</blockquote>
<p>would return</p>
<blockquote>
“always gives”
</blockquote>
<p>Here is the expression I have pieced together so far:</p>
<pre class="regex"><code>(?=cow).*(?=milk)</code></pre>
<p>However, this returns the string “cow always gives”.</p>
</section>
<section id="answer-accepted-score-156" class="level4">
<h4>Answer accepted (score 156)</h4>
<p>A lookahead (that <code>(?=</code> part) does not consume any input. It is a <em>zero-width assertion</em> (as are boundary checks and lookbehinds).</p>
<p>You want a regular match here, to consume the <code>cow</code> portion. To capture the portion in between, you use a capturing group (just put the portion of pattern you want to capture inside parenthesis):</p>
<pre class="regex"><code>cow(.*)milk</code></pre>
<p>No lookaheads are needed at all.</p>
</section>
<section id="answer-2-score-57" class="level4">
<h4>Answer 2 (score 57)</h4>
<blockquote>
Regular expression to get a string between two strings in JavaScript
</blockquote>
<p>The most complete solution that will work in the vast majority of cases is using a <strong>capturing group</strong> with a <strong>lazy dot matching pattern</strong>. However, a dot <code>.</code> in JavaScript regex does not match line break characters, so, what will work in 100% cases is a <code>[^]</code> or <code>[\s\S]</code>/<code>[\d\D]</code>/<code>[\w\W]</code> constructs.</p>
<h5>
ECMAScript 2018 and newer compatible solution
</h2>
<p>In JavaScript environments supporting <em>ECMAScript 2018</em>, <code>s</code> modifier allows <code>.</code> to match any char including line break chars, and the regex engine supports lookbehinds of variable length. So, you may use a regex like</p>
<pre class="regex"><code>var result = s.match(/(?&amp;lt;=cow\s+).*?(?=\s+milk)/gs); // Returns multiple matches if any
// Or
var result = s.match(/(?&amp;lt;=cow\s*).*?(?=\s*milk)/gs); // Same but whitespaces are optional</code></pre>
<p>In both cases, the current position is checked for <code>cow</code> with any 1/0 or more whitespaces after <code>cow</code>, then any 0+ chars as few as possible are matched and consumed (=added to the match value), and then <code>milk</code> is checked for (with any 1/0 or more whitespaces before this substring).</p>
<h5>
Scenario 1: Single-line input
</h2>
<p><strong><em>This and all other scenarios below are supported by all JavaScript environments. See usage examples at the bottom of the answer.</em></strong></p>
<pre class="regex"><code>cow (.*?) milk</code></pre>
<p><code>cow</code> is found first, then a space, then any 0+ chars other than line break chars, as few as possible as <code>*?</code> is a lazy quantifier, are captured into Group 1 and then a space with <code>milk</code> must follow (and those are matched and <em>consumed</em>, too).</p>
<h5>
Scenario 2: Multiline input
</h2>
<pre class="regex"><code>cow ([\s\S]*?) milk</code></pre>
<p>Here, <code>cow</code> and a space are matched first, then any 0+ chars as few as possible are matched and captured into Group 1, and then a space with <code>milk</code> are matched.</p>
<h5>
Scenario 3: Overlapping matches
</h2>
<p>If you have a string like <code>&amp;gt;&amp;gt;&amp;gt;15 text&amp;gt;&amp;gt;&amp;gt;67 text2&amp;gt;&amp;gt;&amp;gt;</code> and you need to get 2 matches in-between <code>&amp;gt;&amp;gt;&amp;gt;</code>+<code>number</code>+<code>whitespace</code> and <code>&amp;gt;&amp;gt;&amp;gt;</code>, you can’t use <a href="https://regex101.com/r/Vtw7W1/2" rel="nofollow noreferrer"><code>/&amp;gt;&amp;gt;&amp;gt;\d+\s(.*?)&amp;gt;&amp;gt;&amp;gt;/g</code></a> as this will only find 1 match due to the fact the <code>&amp;gt;&amp;gt;&amp;gt;</code> before <code>67</code> is already <em>consumed</em> upon finding the first match. You may use a <a href="http://www.regular-expressions.info/lookaround.html" rel="nofollow noreferrer"><strong>positive lookahead</strong></a> to check for the text presence without actually “gobbling” it (i.e. appending to the match):</p>
<pre class="regex"><code>/&amp;gt;&amp;gt;&amp;gt;\d+\s(.*?)(?=&amp;gt;&amp;gt;&amp;gt;)/g</code></pre>
<p>See the <a href="https://regex101.com/r/Vtw7W1/3" rel="nofollow noreferrer">online regex demo</a> yielding <code>text1</code> and <code>text2</code> as Group 1 contents found.</p>
<p>Also see <a href="https://stackoverflow.com/questions/18029487/how-to-get-all-possible-overlapping-matches-for-a-string"><em>How to get all possible overlapping matches for a string</em></a>.</p>
<h5>
Performance considerations
</h2>
<p>Lazy dot matching pattern (<code>.*?</code>) inside regex patterns may slow down script execution if very long input is given. In many cases, <a href="http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop" rel="nofollow noreferrer"><em>unroll-the-loop technique</em></a> helps to a greater extent. Trying to grab all between <code>cow</code> and <code>milk</code> from <code>&quot;Their\ncow\ngives\nmore\nmilk&quot;</code>, we see that we just need to match all lines that do not start with <code>milk</code>, thus, instead of <a href="https://regex101.com/r/e1W8DA/1" rel="nofollow noreferrer"><code>cow\n([\s\S]*?)\nmilk</code></a> we can use:</p>
<pre class="regex"><code>/cow\n(.*(?:\n(?!milk$).*)*)\nmilk/gm</code></pre>
<p>See the <a href="https://regex101.com/r/4xWB0S/2" rel="nofollow noreferrer">regex demo</a> (if there can be <code>\r\n</code>, use <code>/cow\r?\n(.*(?:\r?\n(?!milk$).*)*)\r?\nmilk/gm</code>). With this small test string, the performance gain is negligible, but with very large text, you will feel the difference (especially if the lines are long and line breaks are not very numerous).</p>
<blockquote>
<h5>
Sample regex usage in JavaScript:
</h3>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>//Single/First match expected: use no global modifier and access match[1]
console.log(&quot;My cow always gives milk&quot;.match(/cow (.*?) milk/)[1]);
// Multiple matches: get multiple matches with a global modifier and
// trim the results if length of leading/trailing delimiters is known
var s = &quot;My cow always gives milk, thier cow also gives milk&quot;;
console.log(s.match(/cow (.*?) milk/g).map(function(x) {return x.substr(4,x.length-9);}));
//or use RegExp#exec inside a loop to collect all the Group 1 contents
var result = [], m, rx = /cow (.*?) milk/g;
while ((m=rx.exec(s)) !== null) {
  result.push(m[1]);
}
console.log(result);</code></pre>
</div>
</div>
</blockquote>
</section>
<section id="answer-3-score-50" class="level4">
<h4>Answer 3 (score 50)</h4>
<p>Here’s a regex which will grab what’s between cow and milk (without leading/trailing space):</p>
<pre class="regex"><code>srctext = &quot;My cow always gives milk.&quot;;
var re = /(.*cow\s+)(.*)(\s+milk.*)/;
var newtext = srctext.replace(re, &quot;$2&quot;);</code></pre>
<p>An example: <a href="http://jsfiddle.net/entropo/tkP74/" rel="noreferrer">http://jsfiddle.net/entropo/tkP74/</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="use-string.split-with-multiple-delimiters-score-313325-in-2017" class="level3">
<h3>94: Use String.split() with multiple delimiters (score <a href="https://stackoverflow.com/q/5993779.html">313325</a> in 2017)</h3>
<section id="question-93" class="level4">
<h4>Question</h4>
<p>I need to split a string base on delimiter <code>-</code> and <code>.</code>. Below are my desired output.</p>
<p><code>AA.BB-CC-DD.zip</code> -&gt;</p>
<pre class="regex"><code>AA
BB
CC
DD
zip </code></pre>
<p>but my following code does not work.</p>
<pre class="regex"><code>private void getId(String pdfName){
    String[]tokens = pdfName.split(&quot;-\\.&quot;);
}</code></pre>
</section>
<section id="answer-accepted-score-296" class="level4">
<h4>Answer accepted (score 296)</h4>
<p>I think you need to include the regex <strong>OR operator</strong>:</p>
<pre class="regex"><code>String[]tokens = pdfName.split(&quot;-|\\.&quot;);</code></pre>
<p>
What you have will match:<br> [DASH followed by DOT together] <code>-.</code><br> not<br> [DASH or DOT any of them] <code>-</code> or <code>.</code>
</p>
</section>
<section id="answer-2-score-48-1" class="level4">
<h4>Answer 2 (score 48)</h4>
<p>Try this regex <code>&quot;[-.]+&quot;</code>. The + after treats consecutive delimiter chars as one. Remove plus if you do not want this.</p>
</section>
<section id="answer-3-score-25-1" class="level4">
<h4>Answer 3 (score 25)</h4>
<p>You can use the regex “”.This matches any non-word character.The required line would be:</p>
<pre class="regex"><code>String[] tokens=pdfName.split(&quot;\\W&quot;);</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-balanced-parentheses-score-312134-in-2019" class="level3">
<h3>95: Regular expression to match balanced parentheses (score <a href="https://stackoverflow.com/q/546433.html">312134</a> in 2019)</h3>
<section id="question-94" class="level4">
<h4>Question</h4>
<p>I need a regular expression to select all the text between two outer brackets.</p>
<p>Example: <code>some text(text here(possible text)text(possible text(more text)))end text</code></p>
<p>Result: <code>(text here(possible text)text(possible text(more text)))</code></p>
</section>
<section id="answer-accepted-score-126" class="level4">
<h4>Answer accepted (score 126)</h4>
<p>Regular expressions are the wrong tool for the job because you are dealing with nested structures, i.e. recursion.</p>
<p>But there is a simple algorithm to do this, which I described <a href="https://stackoverflow.com/questions/524548/regular-expression-to-detect-semi-colon-terminated-c-for-while-loops/524624#524624">in this answer</a> to a <a href="https://stackoverflow.com/questions/524548/regular-expression-to-detect-semi-colon-terminated-c-for-while-loops">previous question</a>.</p>
</section>
<section id="answer-2-score-108" class="level4">
<h4>Answer 2 (score 108)</h4>
<p>You can use <a href="http://www.regular-expressions.info/recurse.html#balanced" rel="noreferrer">regex recursion</a>:</p>
<pre class="regex"><code>\(([^()]|(?R))*\)</code></pre>
</section>
<section id="answer-3-score-101" class="level4">
<h4>Answer 3 (score 101)</h4>
<p>I want to add this answer for quickreference. Feel free to update.</p>
<hr>
<p><strong>.NET Regex</strong> using <a href="http://www.regular-expressions.info/balancing.html" rel="noreferrer">balancing groups</a>.</p>
<pre class="regex"><code>\((?&amp;gt;\((?&amp;lt;c&amp;gt;)|[^()]+|\)(?&amp;lt;-c&amp;gt;))*(?(c)(?!))\)</code></pre>
<p>Where <code>c</code> is used as the depth counter.</p>
<p><a href="http://regexstorm.net/tester?p=%5C((%3F%3E%5C((%3F%3Cc%3E)%7C%5B%5E()%5D%2B%7C%5C)(%3F%3C-c%3E))*(%3F(c)(%3F!))%5C)&amp;i=some%20text(text%20here(possible%20text)text(possible%20text(more%20text)))end%20text" rel="noreferrer">Demo at Regexstorm.com</a></p>
<ul>
<li>
<a href="https://stackoverflow.com/questions/7898310/using-regex-to-balance-match-parenthesis"><strong>Stack Overflow</strong>: Using RegEx to balance match parenthesis</a>
</li>
<li>
<a href="http://weblogs.asp.net/whaggard/377025" rel="noreferrer"><strong>Wes’ Puzzling Blog</strong>: Matching Balanced Constructs with .NET Regular Expressions</a>
</li>
<li>
<a href="http://www.rassoc.com/gregr/weblog/2003/05/15/nested-constructs-in-regular-expressions/" rel="noreferrer"><strong>Greg Reinacker’s Weblog</strong>: Nested Constructs in Regular Expressions</a>
</li>
</ul>
<hr>
<p><strong>PCRE</strong> using a <a href="http://php.net/manual/en/regexp.reference.recursive.php" rel="noreferrer">recursive pattern</a>.</p>
<pre class="regex"><code>\((?:[^)(]+|(?R))*+\)</code></pre>
<p><a href="https://regex101.com/r/eBtSTM/1" rel="noreferrer">Demo at regex101</a>; Or without alternation:</p>
<pre class="regex"><code>\((?:[^)(]*(?R)?)*+\)</code></pre>
<p><a href="https://regex101.com/r/eBtSTM/2" rel="noreferrer">Demo at regex101</a>; Or <a href="http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop" rel="noreferrer">unrolled</a> for performance:</p>
<pre class="regex"><code>\([^)(]*+(?:(?R)[^)(]*)*+\)</code></pre>
<p><a href="https://regex101.com/r/eBtSTM/3" rel="noreferrer">Demo at regex101</a>; The pattern is pasted at <code>(?R)</code> which represents <code>(?0)</code>.</p>
<p><em>Perl, PHP, Notepad++,</em> <em>R</em>: <a href="http://www.regular-expressions.info/rlanguage.html" rel="noreferrer">perl=TRUE</a>, <em>Python</em>: <a href="https://pypi.python.org/pypi/regex" rel="noreferrer">Regex package</a> with <code>(?V1)</code> for Perl behaviour.</p>
<hr>
<p><strong>Ruby</strong> using <a href="http://ruby-doc.org/core-2.0.0/Regexp.html#class-Regexp-label-Subexpression+Calls" rel="noreferrer">subexpression calls</a>.</p>
<p>With Ruby 2.0 <code>\g&amp;lt;0&amp;gt;</code> can be used to call full pattern.</p>
<pre class="regex"><code>\((?&amp;gt;[^)(]+|\g&amp;lt;0&amp;gt;)*\)</code></pre>
<p><a href="http://rubular.com/r/RUDsEv7SBZ" rel="noreferrer">Demo at Rubular</a>; Ruby 1.9 only supports <a href="http://www.regular-expressions.info/subroutine.html" rel="noreferrer">capturing group recursion</a>:</p>
<pre class="regex"><code>(\((?&amp;gt;[^)(]+|\g&amp;lt;1&amp;gt;)*\))</code></pre>
<p><a href="http://rubular.com/r/vuyejEfjih" rel="noreferrer">Demo at Rubular</a>  (<a href="http://ruby-doc.org/core-1.9.3/Regexp.html#class-Regexp-label-Atomic+Grouping" rel="noreferrer">atomic grouping</a> since Ruby 1.9.3)</p>
<hr>
<p><strong>JavaScript</strong>  <a href="http://xregexp.com/api/#matchRecursive" rel="noreferrer">API :: XRegExp.matchRecursive</a></p>
<pre class="regex"><code>XRegExp.matchRecursive(str, &#39;\\(&#39;, &#39;\\)&#39;, &#39;g&#39;);</code></pre>
<p>JS, Java and other regex flavors without recursion up to 2 levels of nesting:</p>
<pre class="regex"><code>\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)</code></pre>
<p>
<a href="https://regex101.com/r/eE6mX3/1" rel="noreferrer">Demo at regex101</a>. Deeper <a href="https://stackoverflow.com/a/17759264">nesting needs to be added</a> to pattern.<br> To fail faster on unbalanced parenthesis <a href="https://regex101.com/r/cU7uG9/1" rel="noreferrer">drop the <code>+</code> quantifier.</a>
</p>
<hr>
<p><strong>Java</strong>: An interesting <a href="https://stackoverflow.com/a/47162099/5527985">idea using forward references by <span class="citation" data-cites="jaytea">@jaytea</span></a>.</p>
<hr>
<p><sub><a href="https://stackoverflow.com/a/22944075/5527985">Reference - What does this regex mean?</a></sub><br></p>
<ul>
<li>
<a href="http://www.rexegg.com/regex-recursion.html" rel="noreferrer"><strong>rexegg.com</strong> - Recursive Regular Expressions</a>
</li>
<li>
<a href="http://www.regular-expressions.info/recurse.html" rel="noreferrer"><strong>Regular-Expressions.info</strong> - Regular Expression Recursion</a>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-grabbing-values-between-quotation-marks-score-309597-in-2014" class="level3">
<h3>96: RegEx: Grabbing values between quotation marks (score <a href="https://stackoverflow.com/q/171480.html">309597</a> in 2014)</h3>
<section id="question-95" class="level4">
<h4>Question</h4>
<p>I have a value like this:</p>
<pre class="regex"><code>&quot;Foo Bar&quot; &quot;Another Value&quot; something else</code></pre>
<p>What regex will return the values enclosed in the quotation marks (e.g. <code>Foo Bar</code> and <code>Another Value</code>)?</p>
</section>
<section id="answer-accepted-score-315" class="level4">
<h4>Answer accepted (score 315)</h4>
<p>I’ve been using the following with great success:</p>
<pre class="regex"><code>([&quot;&#39;])(?:(?=(\\?))\2.)*?\1</code></pre>
<p>It supports nested quotes as well.</p>
<p>For those who want a deeper explanation of how this works, here’s an explanation from user <a href="https://stackoverflow.com/users/20713/ephemient">ephemient</a>:</p>
<blockquote>
<code>([&quot;&quot;'])</code> match a quote; <code>((?=(\\?))\2.)</code> if backslash exists, gobble it, and whether or not that happens, match a character; <code>*?</code> match many times (non-greedily, as to not eat the closing quote); <code>\1</code> match the same quote that was use for opening.
</blockquote>
</section>
<section id="answer-2-score-291" class="level4">
<h4>Answer 2 (score 291)</h4>
<p>In general, the following regular expression fragment is what you are looking for:</p>
<pre class="regex"><code>&quot;(.*?)&quot;</code></pre>
<p>This uses the non-greedy *? operator to capture everything up to but not including the next double quote. Then, you use a language-specific mechanism to extract the matched text.</p>
<p>In Python, you could do:</p>
<pre class="regex"><code>&amp;gt;&amp;gt;&amp;gt; import re
&amp;gt;&amp;gt;&amp;gt; string = &#39;&quot;Foo Bar&quot; &quot;Another Value&quot;&#39;
&amp;gt;&amp;gt;&amp;gt; print re.findall(r&#39;&quot;(.*?)&quot;&#39;, string)
[&#39;Foo Bar&#39;, &#39;Another Value&#39;]</code></pre>
</section>
<section id="answer-3-score-80" class="level4">
<h4>Answer 3 (score 80)</h4>
<p>I would go for:</p>
<pre class="regex"><code>&quot;([^&quot;]*)&quot;</code></pre>
<p>
The <b>[^&quot;]</b> is regex for any character except ‘<b>&quot;</b>’<br> The reason I use this over the non greedy many operator is that I have to keep looking that up just to make sure I get it correct.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-extract-text-that-lies-between-parentheses-round-brackets-score-307895-in-2015" class="level3">
<h3>97: How do I extract text that lies between parentheses (round brackets)? (score <a href="https://stackoverflow.com/q/378415.html">307895</a> in 2015)</h3>
<section id="question-96" class="level4">
<h4>Question</h4>
<p>I have a string <code>User name (sales)</code> and I want to extract the text between the brackets, how would I do this?</p>
<p>I suspect sub-string but I can’t work out how to read until the closing bracket, the length of text will vary.</p>
</section>
<section id="answer-2-score-419" class="level4">
<h4>Answer 2 (score 419)</h4>
<p>A very simple way to do it is by using regular expressions:</p>
<pre class="regex"><code>Regex.Match(&quot;User name (sales)&quot;, @&quot;\(([^)]*)\)&quot;).Groups[1].Value</code></pre>
<hr>
<p>As a response to the (very funny) comment, here’s the same Regex with some explanation:</p>
<pre class="regex"><code>\(             # Escaped parenthesis, means &quot;starts with a &#39;(&#39; character&quot;
    (          # Parentheses in a regex mean &quot;put (capture) the stuff 
               #     in between into the Groups array&quot; 
       [^)]    # Any character that is not a &#39;)&#39; character
       *       # Zero or more occurrences of the aforementioned &quot;non &#39;)&#39; char&quot;
    )          # Close the capturing group
\)             # &quot;Ends with a &#39;)&#39; character&quot;</code></pre>
</section>
<section id="answer-3-score-415" class="level4">
<h4>Answer 3 (score 415)</h4>
<p>If you wish to stay away from regular expressions, the simplest way I can think of is:</p>
<pre class="regex"><code>string input = &quot;User name (sales)&quot;;
string output = input.Split(&#39;(&#39;, &#39;)&#39;)[1];</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="jquery-validate-how-to-add-a-rule-for-regular-expression-validation-score-305989-in-2017" class="level3">
<h3>98: jQuery validate: How to add a rule for regular expression validation? (score <a href="https://stackoverflow.com/q/280759.html">305989</a> in 2017)</h3>
<section id="question-97" class="level4">
<h4>Question</h4>
<p>I am using the <strong><a href="http://en.wikipedia.org/wiki/JQuery" rel="noreferrer">jQuery</a> validation plugin</strong>. Great stuff! I want to migrate my existing ASP.NET solution to use jQuery instead of the ASP.NET validators. I am missing a replacement for the <strong>regular expression</strong> validator. I want to be able to do something like this:</p>
<pre class="regex"><code>$(&quot;Textbox&quot;).rules(&quot;add&quot;, { regularExpression: &quot;^[a-zA-Z&#39;.\s]{1,40}$&quot; })</code></pre>
<p>How do I <strong>add a custom rule</strong> to achieve this?</p>
</section>
<section id="answer-accepted-score-317" class="level4">
<h4>Answer accepted (score 317)</h4>
<p>Thanks to the answer of redsquare I added a method like this:</p>
<pre class="regex"><code>$.validator.addMethod(
        &quot;regex&quot;,
        function(value, element, regexp) {
            var re = new RegExp(regexp);
            return this.optional(element) || re.test(value);
        },
        &quot;Please check your input.&quot;
);</code></pre>
<p>now all you need to do to validate against any regex is this:</p>
<pre class="regex"><code>$(&quot;#Textbox&quot;).rules(&quot;add&quot;, { regex: &quot;^[a-zA-Z&#39;.\\s]{1,40}$&quot; })</code></pre>
<p>Additionally, it looks like there is a file called additional-methods.js that contains the method “pattern”, which can be a RegExp when created using the method without quotes.</p>
<p><a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/" rel="noreferrer">http://bassistance.de/jquery-plugins/jquery-plugin-validation/</a></p>
<p><a href="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/additional-methods.js" rel="noreferrer">http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/additional-methods.js</a></p>
</section>
<section id="answer-2-score-78" class="level4">
<h4>Answer 2 (score 78)</h4>
<p>You can use the addMethod()</p>
<p>e.g</p>
<pre class="regex"><code>$.validator.addMethod(&#39;postalCode&#39;, function (value) { 
    return /^((\d{5}-\d{4})|(\d{5})|([A-Z]\d[A-Z]\s\d[A-Z]\d))$/.test(value); 
}, &#39;Please enter a valid US or Canadian postal code.&#39;);</code></pre>
<p>good article here <a href="https://web.archive.org/web/20130609222116/http://www.randallmorey.com/blog/2008/mar/16/extending-jquery-form-validation-plugin/" rel="noreferrer">https://web.archive.org/web/20130609222116/http://www.randallmorey.com/blog/2008/mar/16/extending-jquery-form-validation-plugin/</a></p>
</section>
<section id="answer-3-score-43-3" class="level4">
<h4>Answer 3 (score 43)</h4>
<p>I had some trouble putting together all the pieces for doing a jQuery regular expression validator, but I got it to work… Here is a complete working example. It uses the ‘Validation’ plugin which can be found in <em><a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/" rel="noreferrer">jQuery Validation Plugin</a></em></p>
<pre class="regex"><code>&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&amp;gt;
&amp;lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&amp;gt;
    &amp;lt;script src=&quot;http://YOURJQUERYPATH/js/jquery.js&quot; type=&quot;text/javascript&quot;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&quot;http://YOURJQUERYPATH/js/jquery.validate.js&quot; type=&quot;text/javascript&quot;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script type=&quot;text/javascript&quot;&amp;gt;

        $().ready(function() {
            $.validator.addMethod(&quot;EMAIL&quot;, function(value, element) {
                return this.optional(element) || /^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/i.test(value);
            }, &quot;Email Address is invalid: Please enter a valid email address.&quot;);

            $.validator.addMethod(&quot;PASSWORD&quot;,function(value,element){
                return this.optional(element) || /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}$/i.test(value);
            },&quot;Passwords are 8-16 characters with uppercase letters, lowercase letters and at least one number.&quot;);

            $.validator.addMethod(&quot;SUBMIT&quot;,function(value,element){
                return this.optional(element) || /[^ ]/i.test(value);
            },&quot;You did not click the submit button.&quot;);

            // Validate signup form on keyup and submit
            $(&quot;#LOGIN&quot;).validate({
                rules: {
                    EMAIL: &quot;required EMAIL&quot;,
                    PASSWORD: &quot;required PASSWORD&quot;,
                    SUBMIT: &quot;required SUBMIT&quot;,
                },
            });
        });
    &amp;lt;/script&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;div id=&quot;LOGIN_FORM&quot; class=&quot;form&quot;&amp;gt;
        &amp;lt;form id=&quot;LOGIN&quot; name=&quot;LOGIN&quot; method=&quot;post&quot; action=&quot;/index/secure/authentication?action=login&quot;&amp;gt;
            &amp;lt;h1&amp;gt;Log In&amp;lt;/h1&amp;gt;
            &amp;lt;div id=&quot;LOGIN_EMAIL&quot;&amp;gt;
                &amp;lt;label for=&quot;EMAIL&quot;&amp;gt;Email Address&amp;lt;/label&amp;gt;
                &amp;lt;input id=&quot;EMAIL&quot; name=&quot;EMAIL&quot; type=&quot;text&quot; value=&quot;&quot; tabindex=&quot;1&quot; /&amp;gt;
            &amp;lt;/div&amp;gt;
            &amp;lt;div id=&quot;LOGIN_PASSWORD&quot;&amp;gt;
                &amp;lt;label for=&quot;PASSWORD&quot;&amp;gt;Password&amp;lt;/label&amp;gt;
                &amp;lt;input id=&quot;PASSWORD&quot; name=&quot;PASSWORD&quot; type=&quot;password&quot; value=&quot;&quot; tabindex=&quot;2&quot; /&amp;gt;
            &amp;lt;/div&amp;gt;
            &amp;lt;div id=&quot;LOGIN_SUBMIT&quot;&amp;gt;
                &amp;lt;input id=&quot;SUBMIT&quot; name=&quot;SUBMIT&quot; type=&quot;submit&quot; value=&quot;Submit&quot; tabindex=&quot;3&quot; /&amp;gt;
            &amp;lt;/div&amp;gt;
        &amp;lt;/form&amp;gt;
    &amp;lt;/div&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-get-a-string-between-parentheses-in-javascript-score-305791-in-2018" class="level3">
<h3>99: Regular Expression to get a string between parentheses in Javascript (score <a href="https://stackoverflow.com/q/17779744.html">305791</a> in 2018)</h3>
<section id="question-98" class="level4">
<h4>Question</h4>
<p>I am trying to write a regular expression which returns a string which is between parentheses. For example: I want to get the string which resides between the strings “(” and “)”</p>
<pre class="regex"><code>I expect five hundred dollars ($500).</code></pre>
<p>would return</p>
<pre class="regex"><code>$500</code></pre>
<p>Found <a href="https://stackoverflow.com/questions/5642315/regular-expression-to-get-a-string-between-two-strings-in-javascript">Regular Expression to get a string between two strings in Javascript</a></p>
<p>But I’m new with regex. I don’t know how to use ‘(’, ‘)’ in regexp</p>
</section>
<section id="answer-accepted-score-405" class="level4">
<h4>Answer accepted (score 405)</h4>
<p>You need to create a set of escaped (with <code>\</code>) parentheses (that match the parentheses) and a group of regular parentheses that create your capturing group:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<pre class="regex"><code>var regExp = /\(([^)]+)\)/;
var matches = regExp.exec(&quot;I expect five hundred dollars ($500).&quot;);

//matches[1] contains the value between the parentheses
console.log(matches[1]);</code></pre>
</div>
</div>
<p>Breakdown:</p>
<ul>
<li>
<code>\(</code> : match an opening parentheses
</li>
<li>
<code>(</code> : begin capturing group
</li>
<li>
<code>[^)]+</code>: match one or more non <code>)</code> characters
</li>
<li>
<code>)</code> : end capturing group
</li>
<li>
<code>\)</code> : match closing parentheses
</li>
</ul>
<p>Here is a visual explanation on <a href="http://www.regexplained.co.uk/?pattern=%252F%5C((%5B%5E)%5D%252B)%5C)%252F" rel="noreferrer">RegExplained</a></p>
</section>
<section id="answer-2-score-31" class="level4">
<h4>Answer 2 (score 31)</h4>
<p>Try string manipulation:</p>
<pre class="regex"><code>var txt = &quot;I expect five hundred dollars ($500). and new brackets ($600)&quot;;
var newTxt = txt.split(&#39;(&#39;);
for (var i = 1; i &amp;lt; newTxt.length; i++) {
    console.log(newTxt[i].split(&#39;)&#39;)[0]);
}</code></pre>
<p>or regex (<em>which is somewhat <a href="http://jsperf.com/stringvsregex/">slow compare to the above</a></em>)</p>
<pre class="regex"><code>var txt = &quot;I expect five hundred dollars ($500). and new brackets ($600)&quot;;
var regExp = /\(([^)]+)\)/g;
var matches = txt.match(regExp);
for (var i = 0; i &amp;lt; matches.length; i++) {
    var str = matches[i];
    console.log(str.substring(1, str.length - 1));
}</code></pre>
</section>
<section id="answer-3-score-9" class="level4">
<h4>Answer 3 (score 9)</h4>
<p>Ported <a href="https://stackoverflow.com/a/17780281/942767">Mr_Green’s answer</a> to a functional programming style to avoid use of temporary global variables.</p>
<pre class="regex"><code>var matches = string2.split(&#39;[&#39;)
  .filter(function(v){ return v.indexOf(&#39;]&#39;) &amp;gt; -1})
  .map( function(value) { 
    return value.split(&#39;]&#39;)[0]
  })</code></pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-extract-img-src-title-and-alt-from-html-using-php-score-303789-in-2015" class="level3">
<h3>100: How to extract img src, title and alt from html using php? (score <a href="https://stackoverflow.com/q/138313.html">303789</a> in 2015)</h3>
<section id="question-99" class="level4">
<h4>Question</h4>
<p>I would like to create a page where all images which reside on my website are listed with title and alternative representation.</p>
<p>I already wrote me a little program to find and load all HTML files, but now I am stuck at how to extract <code>src</code>, <code>title</code> and <code>alt</code> from this HTML:</p>
<pre class="regex"><code>&amp;lt;img &lt;b&gt;src&lt;/b&gt;=&quot;/image/fluffybunny.jpg&quot; &lt;b&gt;title&lt;/b&gt;=&quot;Harvey the bunny&quot; &lt;b&gt;alt&lt;/b&gt;=&quot;a cute little fluffy bunny&quot; /&gt;</code></pre>
<p>I guess this should be done with some regex, but since the order of the tags may vary, and I need all of them, I don’t really know how to parse this in an elegant way (I could do it the hard char by char way, but that’s painful).</p>
</section>
<section id="answer-accepted-score-191" class="level4">
<h4>Answer accepted (score 191)</h4>
<h5>
EDIT : now that I know better
</h2>
<p>Using regexp to solve this kind of problem is <a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454">a bad idea</a> and will likely lead in unmaintainable and unreliable code. Better use an <a href="http://simplehtmldom.sourceforge.net/" rel="noreferrer">HTML parser</a>.</p>
<h5>
Solution With regexp
</h2>
<p>In that case it’s better to split the process into two parts :</p>
<ul>
<li>
get all the img tag
</li>
<li>
extract their metadata
</li>
</ul>
<p>I will assume your doc is not xHTML strict so you can’t use an XML parser. E.G. with this web page source code :</p>
<pre class="regex"><code>/* preg_match_all match the regexp in all the $html string and output everything as 
an array in $result. &quot;i&quot; option is used to make it case insensitive */

preg_match_all(&#39;/&amp;lt;img[^&amp;gt;]+&amp;gt;/i&#39;,$html, $result); 

print_r($result);
Array
(
    [0] =&amp;gt; Array
        (
            [0] =&amp;gt; &amp;lt;img src=&quot;/Content/Img/stackoverflow-logo-250.png&quot; width=&quot;250&quot; height=&quot;70&quot; alt=&quot;logo link to homepage&quot; /&amp;gt;
            [1] =&amp;gt; &amp;lt;img class=&quot;vote-up&quot; src=&quot;/content/img/vote-arrow-up.png&quot; alt=&quot;vote up&quot; title=&quot;This was helpful (click again to undo)&quot; /&amp;gt;
            [2] =&amp;gt; &amp;lt;img class=&quot;vote-down&quot; src=&quot;/content/img/vote-arrow-down.png&quot; alt=&quot;vote down&quot; title=&quot;This was not helpful (click again to undo)&quot; /&amp;gt;
            [3] =&amp;gt; &amp;lt;img src=&quot;http://www.gravatar.com/avatar/df299babc56f0a79678e567e87a09c31?s=32&amp;amp;d=identicon&amp;amp;r=PG&quot; height=32 width=32 alt=&quot;gravatar image&quot; /&amp;gt;
            [4] =&amp;gt; &amp;lt;img class=&quot;vote-up&quot; src=&quot;/content/img/vote-arrow-up.png&quot; alt=&quot;vote up&quot; title=&quot;This was helpful (click again to undo)&quot; /&amp;gt;

[...]
        )

)</code></pre>
<p>Then we get all the img tag attributes with a loop :</p>
<pre class="regex"><code>$img = array();
foreach( $result as $img_tag)
{
    preg_match_all(&#39;/(alt|title|src)=(&quot;[^&quot;]*&quot;)/i&#39;,$img_tag, $img[$img_tag]);
}

print_r($img);

Array
(
    [&amp;lt;img src=&quot;/Content/Img/stackoverflow-logo-250.png&quot; width=&quot;250&quot; height=&quot;70&quot; alt=&quot;logo link to homepage&quot; /&amp;gt;] =&amp;gt; Array
        (
            [0] =&amp;gt; Array
                (
                    [0] =&amp;gt; src=&quot;/Content/Img/stackoverflow-logo-250.png&quot;
                    [1] =&amp;gt; alt=&quot;logo link to homepage&quot;
                )

            [1] =&amp;gt; Array
                (
                    [0] =&amp;gt; src
                    [1] =&amp;gt; alt
                )

            [2] =&amp;gt; Array
                (
                    [0] =&amp;gt; &quot;/Content/Img/stackoverflow-logo-250.png&quot;
                    [1] =&amp;gt; &quot;logo link to homepage&quot;
                )

        )

    [&amp;lt;img class=&quot;vote-up&quot; src=&quot;/content/img/vote-arrow-up.png&quot; alt=&quot;vote up&quot; title=&quot;This was helpful (click again to undo)&quot; /&amp;gt;] =&amp;gt; Array
        (
            [0] =&amp;gt; Array
                (
                    [0] =&amp;gt; src=&quot;/content/img/vote-arrow-up.png&quot;
                    [1] =&amp;gt; alt=&quot;vote up&quot;
                    [2] =&amp;gt; title=&quot;This was helpful (click again to undo)&quot;
                )

            [1] =&amp;gt; Array
                (
                    [0] =&amp;gt; src
                    [1] =&amp;gt; alt
                    [2] =&amp;gt; title
                )

            [2] =&amp;gt; Array
                (
                    [0] =&amp;gt; &quot;/content/img/vote-arrow-up.png&quot;
                    [1] =&amp;gt; &quot;vote up&quot;
                    [2] =&amp;gt; &quot;This was helpful (click again to undo)&quot;
                )

        )

    [&amp;lt;img class=&quot;vote-down&quot; src=&quot;/content/img/vote-arrow-down.png&quot; alt=&quot;vote down&quot; title=&quot;This was not helpful (click again to undo)&quot; /&amp;gt;] =&amp;gt; Array
        (
            [0] =&amp;gt; Array
                (
                    [0] =&amp;gt; src=&quot;/content/img/vote-arrow-down.png&quot;
                    [1] =&amp;gt; alt=&quot;vote down&quot;
                    [2] =&amp;gt; title=&quot;This was not helpful (click again to undo)&quot;
                )

            [1] =&amp;gt; Array
                (
                    [0] =&amp;gt; src
                    [1] =&amp;gt; alt
                    [2] =&amp;gt; title
                )

            [2] =&amp;gt; Array
                (
                    [0] =&amp;gt; &quot;/content/img/vote-arrow-down.png&quot;
                    [1] =&amp;gt; &quot;vote down&quot;
                    [2] =&amp;gt; &quot;This was not helpful (click again to undo)&quot;
                )

        )

    [&amp;lt;img src=&quot;http://www.gravatar.com/avatar/df299babc56f0a79678e567e87a09c31?s=32&amp;amp;d=identicon&amp;amp;r=PG&quot; height=32 width=32 alt=&quot;gravatar image&quot; /&amp;gt;] =&amp;gt; Array
        (
            [0] =&amp;gt; Array
                (
                    [0] =&amp;gt; src=&quot;http://www.gravatar.com/avatar/df299babc56f0a79678e567e87a09c31?s=32&amp;amp;d=identicon&amp;amp;r=PG&quot;
                    [1] =&amp;gt; alt=&quot;gravatar image&quot;
                )

            [1] =&amp;gt; Array
                (
                    [0] =&amp;gt; src
                    [1] =&amp;gt; alt
                )

            [2] =&amp;gt; Array
                (
                    [0] =&amp;gt; &quot;http://www.gravatar.com/avatar/df299babc56f0a79678e567e87a09c31?s=32&amp;amp;d=identicon&amp;amp;r=PG&quot;
                    [1] =&amp;gt; &quot;gravatar image&quot;
                )

        )

   [..]
        )

)</code></pre>
<p>Regexps are CPU intensive so you may want to cache this page. If you have no cache system, you can tweak your own by using <a href="http://fr2.php.net/manual/fr/function.ob-start.php" rel="noreferrer">ob_start</a> and loading / saving from a text file.</p>
<h5>
How does this stuff work ?
</h2>
<p>First, we use <a href="http://fr2.php.net/manual/fr/function.preg-match-all.php" rel="noreferrer">preg_ match_ all</a>, a function that gets every string matching the pattern and ouput it in it’s third parameter.</p>
<p>The regexps :</p>
<pre class="regex"><code>&amp;lt;img[^&amp;gt;]+&amp;gt;</code></pre>
<p>We apply it on all html web pages. It can be read as <em>every string that starts with “<code>&amp;lt;img</code>”, contains non “&gt;” char and ends with a &gt;</em>.</p>
<pre class="regex"><code>(alt|title|src)=(&quot;[^&quot;]*&quot;)</code></pre>
<p>We apply it successively on each img tag. It can be read as <em>every string starting with “alt”, “title” or “src”, then a “=”, then a ’ &quot; ‘, a bunch of stuff that are not’ &quot; ’ and ends with a ’ &quot; ’. Isolate the sub-strings between ()</em>.</p>
<p>Finally, every time you want to deal with regexps, it handy to have good tools to quickly test them. Check this <a href="http://regex.larsolavtorvik.com/" rel="noreferrer">online regexp tester</a>.</p>
<p>EDIT : answer to the first comment.</p>
<p>It’s true that I did not think about the (hopefully few) people using single quotes.</p>
<p>Well, if you use only ‘, just replace all the &quot; by’.</p>
<p>If you mix both. First you should slap yourself :-), then try to use (“|’) instead or” and [^ø] to replace [^&quot;].</p>
</section>
<section id="answer-2-score-243" class="level4">
<h4>Answer 2 (score 243)</h4>
<pre class="regex"><code>$url=&quot;http://example.com&quot;;

$html = file_get_contents($url);

$doc = new DOMDocument();
@$doc-&amp;gt;loadHTML($html);

$tags = $doc-&amp;gt;getElementsByTagName(&#39;img&#39;);

foreach ($tags as $tag) {
       echo $tag-&amp;gt;getAttribute(&#39;src&#39;);
}</code></pre>
</section>
<section id="answer-3-score-64-1" class="level4">
<h4>Answer 3 (score 64)</h4>
<p>Just to give a small example of using PHP’s XML functionality for the task:</p>
<pre class="regex"><code>$doc=new DOMDocument();
$doc-&amp;gt;loadHTML(&quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;Test&amp;lt;br&amp;gt;&amp;lt;img src=\&quot;myimage.jpg\&quot; title=\&quot;title\&quot; alt=\&quot;alt\&quot;&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&quot;);
$xml=simplexml_import_dom($doc); // just to make xpath more simple
$images=$xml-&amp;gt;xpath(&#39;//img&#39;);
foreach ($images as $img) {
    echo $img[&#39;src&#39;] . &#39; &#39; . $img[&#39;alt&#39;] . &#39; &#39; . $img[&#39;title&#39;];
}</code></pre>
<p>I did use the <code>DOMDocument::loadHTML()</code> method because this method can cope with HTML-syntax and does not force the input document to be XHTML. Strictly speaking the conversion to a <code>SimpleXMLElement</code> is not necessary - it just makes using xpath and the xpath results more simple.</p>
</section>
</section>
</section>
</body>
</html>
