<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Regex_top_100.md – Regex &lt;- StackOverflow top 100</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span. { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="../Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="../Css/layout_toc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/javascript" src="../Css/js_masonry_desandro.js"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Regex &lt;- StackOverflow top 100</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#regular-expression-to-match-a-line-that-doesnt-contain-a-word-score-3113595-in-2019">1: Regular expression to match a line that doesn’t contain a word (score <span>3113595</span> in 2019)</a></li>
<li><a href="#how-to-validate-an-email-address-in-javascript-score-2751724-in-2019">2: How to validate an email address in JavaScript (score <span>2751724</span> in 2019)</a></li>
<li><a href="#regex-match-open-tags-except-xhtml-self-contained-tags-score-2669567-in-2012">3: RegEx match open tags except XHTML self-contained tags (score <span>2669567</span> in 2012)</a></li>
<li><a href="#regular-expression-to-check-if-password-is-8-characters-including-1-uppercase-letter-1-special-character-alphanumeric-characters-score-1708893-in-2018">4: Regular expression to check if password is “8 characters including 1 uppercase letter, 1 special character, alphanumeric characters” (score <span>1708893</span> in 2018)</a></li>
<li><a href="#match-the-path-of-a-url-minus-the-filename-extension-score-1259727-in-2014">5: Match the path of a URL, minus the filename extension (score <span>1259727</span> in 2014)</a></li>
<li><a href="#how-to-validate-an-email-address-using-a-regular-expression-score-1146192-in-2018">6: How to validate an email address using a regular expression? (score <span>1146192</span> in 2018)</a></li>
<li><a href="#regular-expression-for-alphanumeric-and-underscores-score-1010986-in">7: Regular Expression for alphanumeric and underscores (score <span>1010986</span> in )</a></li>
<li><a href="#a-comprehensive-regex-for-phone-number-validation-score-876411-in-2017">8: A comprehensive regex for phone number validation (score <span>876411</span> in 2017)</a></li>
<li><a href="#how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops-score-800567-in-2019">9: How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops (score <span>800567</span> in 2019)</a></li>
<li><a href="#remove-all-special-characters-from-a-string-score-720840-in-2017">11: Remove all special characters from a string (score <span>720840</span> in 2017)</a></li>
<li><a href="#regex-for-numbers-only-score-719314-in-2019">12: Regex for numbers only (score <span>719314</span> in 2019)</a></li>
<li><a href="#how-to-match-any-character-in-regular-expression-score-718409-in-2018">13: How to match “any character” in regular expression? (score <span>718409</span> in 2018)</a></li>
<li><a href="#how-do-you-access-the-matched-groups-in-a-javascript-regular-expression-score-705906-in-2017">14: How do you access the matched groups in a JavaScript regular expression? (score <span>705906</span> in 2017)</a></li>
<li><a href="#check-whether-a-string-matches-a-regex-in-js-score-700870-in-2017">15: Check whether a string matches a regex in JS (score <span>700870</span> in 2017)</a></li>
<li><a href="#python-string.replace-regular-expression-score-696728-in-2019">16: Python string.replace regular expression (score <span>696728</span> in 2019)</a></li>
<li><a href="#regex-that-accepts-only-numbers-0-9-and-no-characters-score-694263-in-2013">17: Regex that accepts only numbers (0-9) and NO characters (score <span>694263</span> in 2013)</a></li>
<li><a href="#regular-expressions-is-there-an-and-operator-score-693174-in-2017">18: Regular Expressions: Is there an AND operator? (score <span>693174</span> in 2017)</a></li>
<li><a href="#how-can-i-exclude-one-word-with-grep-score-679734-in-2015">19: How can I exclude one word with grep? (score <span>679734</span> in 2015)</a></li>
<li><a href="#matching-a-space-in-regex-score-675660-in-2015">20: Matching a space in regex (score <span>675660</span> in 2015)</a></li>
<li><a href="#how-do-you-use-a-variable-in-a-regular-expression-score-665330-in-2019">21: How do you use a variable in a regular expression? (score <span>665330</span> in 2019)</a></li>
<li><a href="#what-is-a-non-capturing-group-in-regular-expressions-score-647385-in-2019">22: What is a non-capturing group in regular expressions? (score <span>647385</span> in 2019)</a></li>
<li><a href="#using-string-format-to-show-decimal-up-to-2-places-or-simple-integer-score-641202-in-2017">23: Using String Format to show decimal up to 2 places or simple integer (score <span>641202</span> in 2017)</a></li>
<li><a href="#regex-match-all-characters-between-two-strings-score-638223-in-2016">24: Regex Match all characters between two strings (score <span>638223</span> in 2016)</a></li>
<li><a href="#regex-to-check-whether-a-string-contains-only-numbers-score-633360-in-2018">25: Regex to check whether a string contains only numbers (score <span>633360</span> in 2018)</a></li>
<li><a href="#how-to-negate-specific-word-in-regex-score-626264-in-2016">26: How to negate specific word in regex? (score <span>626264</span> in 2016)</a></li>
<li><a href="#regex-to-match-only-letters-score-623756-in-2018">27: Regex to match only letters (score <span>623756</span> in 2018)</a></li>
<li><a href="#split-string-on-whitespace-in-python-score-603894-in-2015">28: Split string on whitespace in Python (score <span>603894</span> in 2015)</a></li>
<li><a href="#simple-regular-expression-for-a-decimal-with-a-precision-of-2-score-593074-in-2012">29: Simple regular expression for a decimal with a precision of 2 (score <span>593074</span> in 2012)</a></li>
<li><a href="#how-is-the-andor-operator-represented-as-in-regular-expressions-score-590059-in-2019">30: How is the AND/OR operator represented as in Regular Expressions? (score <span>590059</span> in 2019)</a></li>
<li><a href="#how-to-match-anything-up-until-this-sequence-of-characters-in-a-regular-expression-score-570881-in">31: How to match “anything up until this sequence of characters” in a regular expression? (score <span>570881</span> in )</a></li>
<li><a href="#how-to-extract-a-substring-using-regex-score-570678-in-2014">32: How to extract a substring using regex (score <span>570678</span> in 2014)</a></li>
<li><a href="#regex-ignore-case-sensitivity-score-569767-in-2017">33: Regex: ignore case sensitivity (score <span>569767</span> in 2017)</a></li>
<li><a href="#find-crlf-in-notepad-score-548272-in-2018">34: Find CRLF in Notepad++ (score <span>548272</span> in 2018)</a></li>
<li><a href="#what-is-a-good-regular-expression-to-match-a-url-score-534454-in-2012">35: What is a good regular expression to match a URL? (score <span>534454</span> in 2012)</a></li>
<li><a href="#regex-to-validate-date-format-ddmmyyyy-score-533749-in-2016">36: Regex to validate date format dd/mm/yyyy (score <span>533749</span> in 2016)</a></li>
<li><a href="#replace-specific-characters-within-strings-score-524267-in-2019">37: Replace specific characters within strings (score <span>524267</span> in 2019)</a></li>
<li><a href="#how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-score-520690-in-2015">38: How do I match any character across multiple lines in a regular expression? (score <span>520690</span> in 2015)</a></li>
<li><a href="#regular-expression-to-stop-at-first-match-score-520377-in-2012">39: Regular expression to stop at first match (score <span>520377</span> in 2012)</a></li>
<li><a href="#a-regular-expression-to-exclude-a-wordstring-score-515997-in-2010">40: A regular expression to exclude a word/string (score <span>515997</span> in 2010)</a></li>
<li><a href="#regex-for-password-must-contain-at-least-eight-characters-at-least-one-number-and-both-lower-and-uppercase-letters-and-special-characters-score-498895-in-2017">41: Regex for password must contain at least eight characters, at least one number and both lower and uppercase letters and special characters (score <span>498895</span> in 2017)</a></li>
<li><a href="#how-to-remove-all-line-breaks-from-a-string-score-487768-in-2018">42: How to remove all line breaks from a string (score <span>487768</span> in 2018)</a></li>
<li><a href="#find-and-extract-a-number-from-a-string-score-480142-in-2015">43: Find and extract a number from a string (score <span>480142</span> in 2015)</a></li>
<li><a href="#regular-expression-to-extract-text-between-square-brackets-score-478828-in-2010">44: Regular expression to extract text between square brackets (score <span>478828</span> in 2010)</a></li>
<li><a href="#regular-expression-for-exact-match-of-a-string-score-476033-in-2019">45: Regular expression for exact match of a string (score <span>476033</span> in 2019)</a></li>
<li><a href="#split-java-string-by-new-line-score-474015-in-2009">46: Split Java String by New Line (score <span>474015</span> in 2009)</a></li>
<li><a href="#removing-empty-lines-in-notepad-score-472569-in-2014">47: Removing empty lines in Notepad++ (score <span>472569</span> in 2014)</a></li>
<li><a href="#regular-expressions--match-anything-score-465260-in-2018">48: Regular Expressions- Match Anything (score <span>465260</span> in 2018)</a></li>
<li><a href="#find-and-kill-a-process-in-one-line-using-bash-and-regex-score-456080-in-2010">49: Find and kill a process in one line using bash and regex (score <span>456080</span> in 2010)</a></li>
<li><a href="#regex-matching-up-to-the-first-occurrence-of-a-character-score-447616-in-2013">50: Regex: matching up to the first occurrence of a character (score <span>447616</span> in 2013)</a></li>
<li><a href="#check-if-string-matches-pattern-score-446271-in-2016">51: Check if string matches pattern (score <span>446271</span> in 2016)</a></li>
<li><a href="#how-do-i-split-a-string-with-multiple-separators-in-javascript-score-442421-in-2015">52: How do I split a string with multiple separators in javascript? (score <span>442421</span> in 2015)</a></li>
<li><a href="#how-to-count-string-occurrence-in-string-score-426426-in">53: How to count string occurrence in string? (score <span>426426</span> in )</a></li>
<li><a href="#regular-expression-to-allow-spaces-between-words-score-425290-in-2019">54: Regular expression to allow spaces between words (score <span>425290</span> in 2019)</a></li>
<li><a href="#validating-email-addresses-using-jquery-and-regex-score-422825-in-2017">55: Validating email addresses using jQuery and regex (score <span>422825</span> in 2017)</a></li>
<li><a href="#remove-new-lines-from-string-and-replace-with-one-empty-space-score-421794-in-2019">56: Remove new lines from string and replace with one empty space (score <span>421794</span> in 2019)</a></li>
<li><a href="#how-to-do-a-regular-expression-replace-in-mysql-score-412329-in-2017">57: How to do a regular expression replace in MySQL? (score <span>412329</span> in 2017)</a></li>
<li><a href="#remove-all-special-characters-punctuation-and-spaces-from-string-score-410777-in-2015">58: Remove all special characters, punctuation and spaces from string (score <span>410777</span> in 2015)</a></li>
<li><a href="#how-to-print-matched-regex-pattern-using-awk-score-406650-in-2018">59: How to print matched regex pattern using awk? (score <span>406650</span> in 2018)</a></li>
<li><a href="#how-to-remove-special-characters-from-a-string-score-406020-in-2016">60: How to remove special characters from a string? (score <span>406020</span> in 2016)</a></li>
<li><a href="#regex-to-test-if-string-begins-with-http-or-https-score-404032-in-2011">61: Regex to test if string begins with http:// or https:// (score <span>404032</span> in 2011)</a></li>
<li><a href="#regex-email-validation-score-401797-in-2016">62: Regex Email validation (score <span>401797</span> in 2016)</a></li>
<li><a href="#jquery-selector-regular-expressions-score-401188-in-2016">63: jQuery selector regular expressions (score <span>401188</span> in 2016)</a></li>
<li><a href="#remove-all-special-characters-with-regexp-score-395465-in-2018">64: Remove all special characters with RegExp (score <span>395465</span> in 2018)</a></li>
<li><a href="#regular-expression-to-find-a-string-included-between-two-characters-while-excluding-the-delimiters-score-395344-in-2018">65: Regular Expression to find a string included between two characters while EXCLUDING the delimiters (score <span>395344</span> in 2018)</a></li>
<li><a href="#java-string-replace-using-regular-expressions-score-394664-in-2012">66: Java; String replace (using regular expressions)? (score <span>394664</span> in 2012)</a></li>
<li><a href="#java-string-split-with-.-dot-score-387315-in-2019">67: Java string split with “.” (dot) (score <span>387315</span> in 2019)</a></li>
<li><a href="#regular-expression-to-limit-number-of-characters-to-10-score-384603-in-2013">68: Regular expression to limit number of characters to 10 (score <span>384603</span> in 2013)</a></li>
<li><a href="#regex-for-string-contains-score-381502-in-2016">69: Regex for string contains? (score <span>381502</span> in 2016)</a></li>
<li><a href="#regex-to-replace-multiple-spaces-with-a-single-space-score-379298-in-2016">70: Regex to replace multiple spaces with a single space (score <span>379298</span> in 2016)</a></li>
<li><a href="#test-if-characters-are-in-a-string-score-377400-in-2018">71: Test if characters are in a string (score <span>377400</span> in 2018)</a></li>
<li><a href="#how-to-find-all-occurrences-of-a-substring-score-375838-in-2019">72: How to find all occurrences of a substring? (score <span>375838</span> in 2019)</a></li>
<li><a href="#what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-score-372948-in-2016">73: What is the best regular expression to check if a string is a valid URL? (score <span>372948</span> in 2016)</a></li>
<li><a href="#how-to-output-only-captured-groups-with-sed-score-372573-in-2019">74: How to output only captured groups with sed? (score <span>372573</span> in 2019)</a></li>
<li><a href="#using-regex-in-sql-server-score-371450-in">75: Using RegEx in SQL Server (score <span>371450</span> in )</a></li>
<li><a href="#regular-expression-to-match-a-word-or-its-prefix-score-365246-in-2018">76: Regular expression to match a word or its prefix (score <span>365246</span> in 2018)</a></li>
<li><a href="#match-two-strings-in-one-line-with-grep-score-363844-in-2019">77: Match two strings in one line with grep (score <span>363844</span> in 2019)</a></li>
<li><a href="#regex-match-everything-but-specific-pattern-score-359326-in-2019">78: Regex: match everything but specific pattern (score <span>359326</span> in 2019)</a></li>
<li><a href="#regex---does-not-contain-certain-characters-score-353405-in-2019">79: Regex - Does not contain certain Characters (score <span>353405</span> in 2019)</a></li>
<li><a href="#whitespace-matching-regex---java-score-352296-in-2014">80: Whitespace Matching Regex - Java (score <span>352296</span> in 2014)</a></li>
<li><a href="#how-to-use-regex-with-find-command-score-351529-in-2011">81: How to use regex with find command? (score <span>351529</span> in 2011)</a></li>
<li><a href="#php-string-contains-score-351294-in-2017">82: PHP string “contains” (score <span>351294</span> in 2017)</a></li>
<li><a href="#regular-expression-to-match-every-new-line-character-inside-a-tag-score-350198-in-2015">83: Regular Expression to match every new line character () inside a <content> tag (score <span>350198</span> in 2015)</a></li>
<li><a href="#regex-for-javascript-to-allow-only-alphanumeric-score-349473-in-2015">84: RegEx for Javascript to allow only alphanumeric (score <span>349473</span> in 2015)</a></li>
<li><a href="#validate-phone-number-with-javascript-score-347886-in-2011">85: Validate phone number with JavaScript (score <span>347886</span> in 2011)</a></li>
<li><a href="#javascript-regular-expression-email-validation-score-329940-in-2018">86: JavaScript Regular Expression Email Validation (score <span>329940</span> in 2018)</a></li>
<li><a href="#how-do-i-remove-all-non-alphanumeric-characters-from-a-string-except-dash-score-329647-in-2014">87: How do I remove all non alphanumeric characters from a string except dash? (score <span>329647</span> in 2014)</a></li>
<li><a href="#regular-expression-to-match-string-starting-with-stop-score-329414-in-2011">88: Regular Expression to match string starting with “stop” (score <span>329414</span> in 2011)</a></li>
<li><a href="#regular-expression-to-match-only-alphabetic-characters-score-329002-in-2011">89: Regular Expression to match only alphabetic characters (score <span>329002</span> in 2011)</a></li>
<li><a href="#regular-expression-to-match-dns-hostname-or-ip-address-score-322309-in-2014">90: Regular expression to match DNS hostname or IP Address? (score <span>322309</span> in 2014)</a></li>
<li><a href="#what-regex-will-match-every-character-except-comma-or-semi-colon-score-320135-in-2009">91: What regex will match every character except comma ‘,’ or semi-colon ‘;’? (score <span>320135</span> in 2009)</a></li>
<li><a href="#how-to-escape-regular-expression-special-characters-using-javascript-score-319153-in-2011">92: How to escape regular expression special characters using javascript? (score <span>319153</span> in 2011)</a></li>
<li><a href="#regular-expression-to-get-a-string-between-two-strings-in-javascript-score-316875-in-2019">93: Regular expression to get a string between two strings in Javascript (score <span>316875</span> in 2019)</a></li>
<li><a href="#use-string.split-with-multiple-delimiters-score-313325-in-2017">94: Use String.split() with multiple delimiters (score <span>313325</span> in 2017)</a></li>
<li><a href="#regular-expression-to-match-balanced-parentheses-score-312134-in-2019">95: Regular expression to match balanced parentheses (score <span>312134</span> in 2019)</a></li>
<li><a href="#regex-grabbing-values-between-quotation-marks-score-309597-in-2014">96: RegEx: Grabbing values between quotation marks (score <span>309597</span> in 2014)</a></li>
<li><a href="#how-do-i-extract-text-that-lies-between-parentheses-round-brackets-score-307895-in-2015">97: How do I extract text that lies between parentheses (round brackets)? (score <span>307895</span> in 2015)</a></li>
<li><a href="#jquery-validate-how-to-add-a-rule-for-regular-expression-validation-score-305989-in-2017">98: jQuery validate: How to add a rule for regular expression validation? (score <span>305989</span> in 2017)</a></li>
<li><a href="#regular-expression-to-get-a-string-between-parentheses-in-javascript-score-305791-in-2018">99: Regular Expression to get a string between parentheses in Javascript (score <span>305791</span> in 2018)</a></li>
<li><a href="#how-to-extract-img-src-title-and-alt-from-html-using-php-score-303789-in-2015">100: How to extract img src, title and alt from html using php? (score <span>303789</span> in 2015)</a></li>
</ul>
</nav>
<section class="level2">
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
<section id="regular-expression-to-match-a-line-that-doesnt-contain-a-word-score-3113595-in-2019" class="level3">
<h3>1: Regular expression to match a line that doesn’t contain a word (score <a href="https://stackoverflow.com/q/406230.html">3113595</a> in 2019)</h3>
<section id="question" class="level4">
<h4>Question</h4>
<p>I know it’s possible to match a word and then reverse the matches using other tools (e.g. <code>grep -v</code>). However, is it possible to match lines that do not contain a specific word, e.g. <code>hede</code>, using a regular expression?</p>
<h5>
Input:
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb1-1"><a href="#cb1-1"></a>hoho</span>
<span id="cb1-2"><a href="#cb1-2"></a>hihi</span>
<span id="cb1-3"><a href="#cb1-3"></a>haha</span>
<span id="cb1-4"><a href="#cb1-4"></a>hede</span></code></pre></div>
<h5>
Code:
</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">grep</span> <span class="kw">&quot;</span><span class="st">&lt;Regex for &#39;doesn&#39;t contain hede&#39;&gt;</span><span class="kw">&quot;</span> input</span></code></pre></div>
<h5>
Desired output:
</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb3-1"><a href="#cb3-1"></a>hoho</span>
<span id="cb3-2"><a href="#cb3-2"></a>hihi</span>
<span id="cb3-3"><a href="#cb3-3"></a>haha</span></code></pre></div>
</section>
<section id="answer-accepted-score-5569" class="level4">
<h4>Answer accepted (score 5569)</h4>
<p>The notion that regex doesn’t support inverse matching is not entirely true. You can mimic this behavior by using negative look-arounds:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb4-1"><a href="#cb4-1"></a>^((?!hede).)*$</span></code></pre></div>
<p>The regex above will match any string, or line without a line break, <strong>not</strong> containing the (sub)string ‘hede’. As mentioned, this is not something regex is “good” at (or should do), but still, it <em>is</em> possible.</p>
<p>And if you need to match line break chars as well, use the <a href="http://perldoc.perl.org/perlre.html#Modifiers" rel="noreferrer">DOT-ALL modifier</a> (the trailing <code>s</code> in the following pattern):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">/</span><span class="ch">^((?!</span><span class="ot">hede</span><span class="ch">)</span><span class="ot">.</span><span class="ch">)*$</span><span class="kw">/s</span></span></code></pre></div>
<p>or use it inline:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">/</span><span class="ch">(?s)^((?!</span><span class="ot">hede</span><span class="ch">)</span><span class="ot">.</span><span class="ch">)*$</span><span class="kw">/</span></span></code></pre></div>
<p><em>(where the <code>/.../</code> are the regex delimiters, i.e., not part of the pattern)</em></p>
<p>If the DOT-ALL modifier is not available, you can mimic the same behavior with the character class <code>[\s\S]</code>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">/</span><span class="ch">^((?!</span><span class="ot">hede</span><span class="ch">)[</span><span class="bn">\s\S</span><span class="ch">])*$</span><span class="kw">/</span></span></code></pre></div>
<h5>
Explanation
</h2>
<p>A string is just a list of <code>n</code> characters. Before, and after each character, there’s an empty string. So a list of <code>n</code> characters will have <code>n+1</code> empty strings. Consider the string <code>"ABhedeCD"</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb8-1"><a href="#cb8-1"></a>    ┌──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┬───┬──┐</span>
<span id="cb8-2"><a href="#cb8-2"></a>S = │e1│ A │e2│ B │e3│ h │e4│ e │e5│ d │e6│ e │e7│ C │e8│ D │e9│</span>
<span id="cb8-3"><a href="#cb8-3"></a>    └──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┴───┴──┘</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="fu">index</span>    <span class="dv">0</span>      <span class="dv">1</span>      <span class="dv">2</span>      <span class="dv">3</span>      <span class="dv">4</span>      <span class="dv">5</span>      <span class="dv">6</span>      <span class="dv">7</span></span></code></pre></div>
<p>where the <code>e</code>’s are the empty strings. The regex <code>(?!hede).</code> looks ahead to see if there’s no substring <code>"hede"</code> to be seen, and if that is the case (so something else is seen), then the <code>.</code> (dot) will match any character except a line break. Look-arounds are also called <em>zero-width-assertions</em> because they don’t <em>consume</em> any characters. They only assert/validate something.</p>
<p>So, in my example, every empty string is first validated to see if there’s no <code>"hede"</code> up ahead, before a character is consumed by the <code>.</code> (dot). The regex <code>(?!hede).</code> will do that only once, so it is wrapped in a group, and repeated zero or more times: <code>((?!hede).)*</code>. Finally, the start- and end-of-input are anchored to make sure the entire input is consumed: <code>^((?!hede).)*$</code></p>
<p>As you can see, the input <code>"ABhedeCD"</code> will fail because on <code>e3</code>, the regex <code>(?!hede)</code> fails (there <em>is</em> <code>"hede"</code> up ahead!).</p>
</section>
<section id="answer-2-score-697" class="level4">
<h4>Answer 2 (score 697)</h4>
<p>Note that the solution to <strong>does not <em>start with</em> “hede”</strong>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb9-1"><a href="#cb9-1"></a>^(?!hede).*$</span></code></pre></div>
<p>is generally much more efficient than the solution to <strong>does not <em>contain</em> “hede”</strong>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb10-1"><a href="#cb10-1"></a>^((?!hede).)*$</span></code></pre></div>
<p>The former checks for “hede” only at the input string’s first position, rather than at every position.</p>
</section>
<section id="answer-3-score-196" class="level4">
<h4>Answer 3 (score 196)</h4>
<p><em>If</em> you’re just using it for grep, you can use <code>grep -v hede</code> to get all lines which do not contain hede.</p>
<p>ETA Oh, rereading the question, <code>grep -v</code> is probably what you meant by “tools options”.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-validate-an-email-address-in-javascript-score-2751724-in-2019" class="level3">
<h3>2: How to validate an email address in JavaScript (score <a href="https://stackoverflow.com/q/46155.html">2751724</a> in 2019)</h3>
<section id="question-1" class="level4">
<h4>Question</h4>
<p>How can an email address be validated in JavaScript?</p>
</section>
<section id="answer-accepted-score-4568" class="level4">
<h4>Answer accepted (score 4568)</h4>
<p>Using <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expressions</a> is probably the best way. You can see a bunch of tests <a href="http://jsfiddle.net/ghvj4gy9/embedded/result,js/" rel="noreferrer">here</a> (taken from <a href="https://cs.chromium.org/chromium/src/third_party/blink/web_tests/fast/forms/resources/ValidityState-typeMismatch-email.js?q=ValidityState-typeMismatch-email.js&amp;sq=package:chromium&amp;dr" rel="noreferrer">chromium</a>)</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb11-1"><a href="#cb11-1"></a>function validateEmail(email) {</span>
<span id="cb11-2"><a href="#cb11-2"></a>    var re = <span class="kw">/</span><span class="ch">^(([^</span><span class="bn">&lt;&gt;()\[\]\\.,;:\s@&quot;</span><span class="ch">]+(</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">&lt;&gt;()\[\]\\.,;:\s@&quot;</span><span class="ch">]+)*)|(</span><span class="ot">&quot;.</span><span class="ch">+</span><span class="ot">&quot;</span><span class="ch">))</span><span class="ot">@</span><span class="ch">((</span><span class="ot">\[</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\]</span><span class="ch">)|(([</span><span class="bn">a-zA-Z\-0-9</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">)+[</span><span class="bn">a-zA-Z</span><span class="ch">]{2,}))$</span><span class="kw">/</span>;</span>
<span id="cb11-3"><a href="#cb11-3"></a>    <span class="kw">return</span> re.test(String(email).toLowerCase());</span>
<span id="cb11-4"><a href="#cb11-4"></a>}</span></code></pre></div>
<p>Here’s the example of regular expresion that accepts unicode:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb12-1"><a href="#cb12-1"></a>var re = <span class="kw">/</span><span class="ch">^(([^</span><span class="bn">&lt;&gt;()\[\]\.,;:\s@\&quot;</span><span class="ch">]+(</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">&lt;&gt;()\[\]\.,;:\s@\&quot;</span><span class="ch">]+)*)|(</span><span class="ot">\&quot;.</span><span class="ch">+</span><span class="ot">\&quot;</span><span class="ch">))</span><span class="ot">@</span><span class="ch">(([^</span><span class="bn">&lt;&gt;()[\]\.,;:\s@\&quot;</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">)+[^</span><span class="bn">&lt;&gt;()[\]\.,;:\s@\&quot;</span><span class="ch">]{2,})$</span><span class="kw">/i</span>;</span></code></pre></div>
<p>But keep in mind that one should not rely only upon JavaScript validation. JavaScript can easily be disabled. This should be validated on the server side as well.</p>
<p>Here’s an example of the above in action:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb13"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb13-1"><a href="#cb13-1"></a>function validateEmail(email) {</span>
<span id="cb13-2"><a href="#cb13-2"></a>  var re = <span class="kw">/</span><span class="ch">^(([^</span><span class="bn">&lt;&gt;()[\]\\.,;:\s@\&quot;</span><span class="ch">]+(</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">&lt;&gt;()[\]\\.,;:\s@\&quot;</span><span class="ch">]+)*)|(</span><span class="ot">\&quot;.</span><span class="ch">+</span><span class="ot">\&quot;</span><span class="ch">))</span><span class="ot">@</span><span class="ch">((</span><span class="ot">\[</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">]{1,3}</span><span class="ot">\]</span><span class="ch">)|(([</span><span class="bn">a-zA-Z\-0-9</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">)+[</span><span class="bn">a-zA-Z</span><span class="ch">]{2,}))$</span><span class="kw">/</span>;</span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="kw">return</span> re.test(email);</span>
<span id="cb13-4"><a href="#cb13-4"></a>}</span>
<span id="cb13-5"><a href="#cb13-5"></a></span>
<span id="cb13-6"><a href="#cb13-6"></a>function validate() {</span>
<span id="cb13-7"><a href="#cb13-7"></a>  var <span class="dt">$result</span> = <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">#result</span><span class="kw">&quot;</span>);</span>
<span id="cb13-8"><a href="#cb13-8"></a>  var email = <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">#email</span><span class="kw">&quot;</span>).val();</span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="dt">$result</span>.text(<span class="kw">&quot;&quot;</span>);</span>
<span id="cb13-10"><a href="#cb13-10"></a></span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="kw">if</span> (validateEmail(email)) {</span>
<span id="cb13-12"><a href="#cb13-12"></a>    <span class="dt">$result</span>.text(email + <span class="kw">&quot;</span><span class="st"> is valid :)</span><span class="kw">&quot;</span>);</span>
<span id="cb13-13"><a href="#cb13-13"></a>    <span class="dt">$result</span>.css(<span class="kw">&quot;</span><span class="st">color</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">green</span><span class="kw">&quot;</span>);</span>
<span id="cb13-14"><a href="#cb13-14"></a>  } <span class="kw">else</span> {</span>
<span id="cb13-15"><a href="#cb13-15"></a>    <span class="dt">$result</span>.text(email + <span class="kw">&quot;</span><span class="st"> is not valid :(</span><span class="kw">&quot;</span>);</span>
<span id="cb13-16"><a href="#cb13-16"></a>    <span class="dt">$result</span>.css(<span class="kw">&quot;</span><span class="st">color</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">red</span><span class="kw">&quot;</span>);</span>
<span id="cb13-17"><a href="#cb13-17"></a>  }</span>
<span id="cb13-18"><a href="#cb13-18"></a>  <span class="kw">return</span> false;</span>
<span id="cb13-19"><a href="#cb13-19"></a>}</span>
<span id="cb13-20"><a href="#cb13-20"></a></span>
<span id="cb13-21"><a href="#cb13-21"></a><span class="dt">$(</span><span class="kw">&quot;</span><span class="st">#validate</span><span class="kw">&quot;</span>).on(<span class="kw">&quot;</span><span class="st">click</span><span class="kw">&quot;</span>, validate);</span></code></pre></div>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"&gt;&lt;/script&gt;

&lt;form&gt;
  &lt;p&gt;Enter an email address:&lt;/p&gt;
  &lt;input id='email'&gt;
  &lt;button type='submit' id='validate'&gt;Validate!&lt;/button&gt;
&lt;/form&gt;

&lt;h2 id='result'&gt;&lt;/h2&gt;</code></pre>
</div>
</div>
</section>
<section id="answer-2-score-719" class="level4">
<h4>Answer 2 (score 719)</h4>
<p>Just for completeness, <a href="http://www.regular-expressions.info/email.html" rel="noreferrer">here you have another RFC 2822 compliant regex</a></p>
<blockquote>
<p>The official standard is known as <a href="https://tools.ietf.org/html/rfc2822#section-3.4.1" rel="noreferrer">RFC 2822</a>. It describes the syntax that valid email addresses must adhere to. You can (<strong>but you shouldn’t</strong> — <a href="http://www.regular-expressions.info/email.html" rel="noreferrer">read on</a>) implement it with this regular expression:</p>
<p><code>(?:[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])</code></p>
<p>(…) We get a more practical implementation of RFC 2822 if we omit the syntax using double quotes and square brackets. <strong>It will still match 99.99% of all email addresses in actual use today.</strong></p>
<p><code>[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?</code></p>
<p>A further change you could make is to allow any two-letter country code top level domain, and only specific generic top level domains. <strong>This regex filters dummy email addresses like <code>asdf@adsf.adsf</code></strong>. You <strong>will need to update it as new top-level domains are added</strong>.</p>
<p><code>[a-z0-9!#$%&amp;amp;'*+/=?^_</code>{|}~-]+(?:.[a-z0-9!#$%&amp;’*+/=?^_<code>{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\b</code></p>
So even when following official standards, there are still trade-offs to be made. <strong><em>Don’t blindly copy regular expressions from online libraries or discussion forums. Always test them on your own data and with your own applications.</em></strong>
</blockquote>
<p><sub>Emphasis mine</sub></p>
</section>
<section id="answer-3-score-714" class="level4">
<h4>Answer 3 (score 714)</h4>
<p>I’ve slightly modified Jaymon’s answer for people who want really simple validation in the form of:</p>
<p>anystring@anystring.anystring</p>
<p>The regular expression:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">/</span><span class="bn">\S</span><span class="ch">+</span><span class="dt">@</span><span class="bn">\S</span><span class="ch">+</span><span class="ot">\.</span><span class="bn">\S</span><span class="ch">+</span><span class="kw">/</span></span></code></pre></div>
<p>Example JavaScript function:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb15-1"><a href="#cb15-1"></a>function validateEmail(email) </span>
<span id="cb15-2"><a href="#cb15-2"></a>{</span>
<span id="cb15-3"><a href="#cb15-3"></a>    var re = <span class="kw">/</span><span class="bn">\S</span><span class="ch">+</span><span class="dt">@</span><span class="bn">\S</span><span class="ch">+</span><span class="ot">\.</span><span class="bn">\S</span><span class="ch">+</span><span class="kw">/</span>;</span>
<span id="cb15-4"><a href="#cb15-4"></a>    <span class="kw">return</span> re.test(email);</span>
<span id="cb15-5"><a href="#cb15-5"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-match-open-tags-except-xhtml-self-contained-tags-score-2669567-in-2012" class="level3">
<h3>3: RegEx match open tags except XHTML self-contained tags (score <a href="https://stackoverflow.com/q/1732348.html">2669567</a> in 2012)</h3>
<section id="question-2" class="level4">
<h4>Question</h4>
<p>I need to match all of these opening tags:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb16-1"><a href="#cb16-1"></a>&lt;p&gt;</span>
<span id="cb16-2"><a href="#cb16-2"></a>&lt;a href=<span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span>&gt;</span></code></pre></div>
<p>But not these:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb17-1"><a href="#cb17-1"></a>&lt;br /&gt;</span>
<span id="cb17-2"><a href="#cb17-2"></a>&lt;hr class=<span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span></code></pre></div>
<p>I came up with this and wanted to make sure I’ve got it right. I am only capturing the <code>a-z</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb18-1"><a href="#cb18-1"></a>&lt;([a<span class="kw">-z</span>]+) <span class="kw">*</span>[^<span class="kw">/</span><span class="ot">]</span><span class="ch">*?</span><span class="ot">&gt;</span></span></code></pre></div>
<p>I believe it says:</p>
<ul>
<li>
Find a less-than, then
</li>
<li>
Find (and capture) a-z one or more times, then
</li>
<li>
Find zero or more spaces, then
</li>
<li>
Find any character zero or more times, greedy, except <code>/</code>, then
</li>
<li>
Find a greater-than
</li>
</ul>
<p>Do I have that right? And more importantly, what do you think?</p>
</section>
<section id="answer-accepted-score-4420" class="level4">
<h4>Answer accepted (score 4420)</h4>
<p>You can’t parse [X]HTML with regex. Because HTML can’t be parsed by regex. Regex is not a tool that can be used to correctly parse HTML. As I have answered in HTML-and-regex questions here so many times before, the use of regex will not allow you to consume HTML. Regular expressions are a tool that is insufficiently sophisticated to understand the constructs employed by HTML. HTML is not a regular language and hence cannot be parsed by regular expressions. Regex queries are not equipped to break down HTML into its meaningful parts. so many times but it is not getting to me. Even enhanced irregular regular expressions as used by Perl are not up to the task of parsing HTML. You will never make me crack. HTML is a language of sufficient complexity that it cannot be parsed by regular expressions. Even Jon Skeet cannot parse HTML using regular expressions. Every time you attempt to parse HTML with regular expressions, the unholy child weeps the blood of virgins, and Russian hackers pwn your webapp. Parsing HTML with regex summons tainted souls into the realm of the living. HTML and regex go together like love, marriage, and ritual infanticide. The &lt;center&gt; cannot hold it is too late. The force of regex and HTML together in the same conceptual space will destroy your mind like so much watery putty. If you parse HTML with regex you are giving in to Them and their blasphemous ways which doom us all to inhuman toil for the One whose Name cannot be expressed in the Basic Multilingual Plane, he comes. HTML-plus-regexp will liquify the n​erves of the sentient whilst you observe, your psyche withering in the onslaught of horror. Rege̿̔̉x-based HTML parsers are the cancer that is killing StackOverflow <i>it is too late it is too late we cannot be saved</i> the trangession of a chi͡ld ensures regex will consume all living tissue (except for HTML which it cannot, as previously prophesied) <i>dear lord help us how can anyone survive this scourge</i> using regex to parse HTML has doomed humanity to an eternity of dread torture and security holes <i>using rege</i>x as a tool to process HTML establishes a brea<i>ch between this world</i> and the dread realm of c͒ͪo͛ͫrrupt entities (like SGML entities, but <i>more corrupt) a mere glimp</i>se of the world of reg​<b>ex parsers for HTML will ins</b>​tantly transport a p<i>rogrammer’s consciousness i</i>nto a w<i>orl</i>d of ceaseless screaming, he comes<strike>, the pestilent sl</strike>ithy regex-infection wil​<b>l devour your HT</b>​ML parser, application and existence for all time like Visual Basic only worse <i>he comes he com</i>es <i>do not fi</i>​ght h<b>e com̡e̶s, ̕h̵i</b>​s un̨ho͞ly radiańcé de<i>stro҉ying all enli̍̈́̂̈́ghtenment, HTML tags <b>lea͠ki̧n͘g fr̶ǫm ̡yo​͟ur eye͢s̸ ̛l̕ik͏e liq</b>​uid p</i>ain, the song of re̸gular exp​re<strike>ssion parsing </strike>will exti<i>​nguish the voices of mor​<b>tal man from the sp</b>​here I can see it can you see ̲͚̖͔̙î̩́t̲͎̩̱͔́̋̀ it is beautiful t​</i>he f<code>inal snuf</code>fing o<i>f the lie​<b>s of Man ALL IS LOŚ͖̩͇̗̪̏̈́T A</b></i><b>LL I​S L</b>OST th<i>e pon̷y he come</i>s he c̶̮om<strike>es he co</strike><b><strike>me</strike>s t<i>he</i> ich​</b>or permeat<i>es al</i>l MY FAC<i>E MY FACE ᵒh god n<b>o NO NOO̼</b></i><b>O​O N</b>Θ stop t<i>he an​*̶͑̾̾​̅ͫ͏̙̤g͇̫͛͆̾ͫ̑͆l͖͉̗̩̳̟̍ͫͥͨ</i>e̠̅s<code>͎a̧͈͖r̽̾̈́͒͑e</code> n<b>​ot rè̑ͧ̌aͨl̘̝̙̃ͤ͂̾̆ ZA̡͊͠͝LGΌ ISͮ̂҉̯͈͕̹̘̱ T</b>O͇̹̺ͅƝ̴ȳ̳ TH̘<b>Ë͖́̉ ͠P̯͍̭O̚​N̐Y̡ H̸̡̪̯ͨ͊̽̅̾̎Ȩ̬̩̾͛ͪ̈́̀́͘ ̶̧̨̱̹̭̯ͧ̾ͬC̷̙̲̝͖ͭ̏ͥͮ͟Oͮ͏̮̪̝͍M̲̖͊̒ͪͩͬ̚̚͜Ȇ̴̟̟͙̞ͩ͌͝</b>S̨̥̫͎̭ͯ̿̔̀ͅ</p>
<hr>
<p>Have you tried using an XML parser instead?</p>
<hr>
<blockquote>
<p><strong>Moderator’s Note</strong></p>
This post is locked to prevent inappropriate edits to its content. The post looks exactly as it is supposed to look - there are no problems with its content. Please do not flag it for our attention.
</blockquote>
</section>
<section id="answer-2-score-3165" class="level4">
<h4>Answer 2 (score 3165)</h4>
<p>While <em>arbitrary</em> HTML with only a regex is impossible, it’s sometimes appropriate to use them for parsing a <em>limited, known</em> set of HTML.</p>
<p>If you have a small set of HTML pages that you want to scrape data from and then stuff into a database, regexes might work fine. For example, I recently wanted to get the names, parties, and districts of Australian federal Representatives, which I got off of the Parliament’s web site. This was a limited, one-time job.</p>
<p>Regexes worked just fine for me, and were very fast to set up.</p>
</section>
<section id="answer-3-score-1984" class="level4">
<h4>Answer 3 (score 1984)</h4>
<p>I think the flaw here is that HTML is a <a href="http://en.wikipedia.org/wiki/Context-free_grammar" rel="noreferrer">Chomsky Type 2 grammar (context free grammar)</a> and RegEx is a <a href="http://en.wikipedia.org/wiki/Regular_grammar" rel="noreferrer">Chomsky Type 3 grammar (regular grammar)</a>. Since a Type 2 grammar is fundamentally more complex than a Type 3 grammar (see the <a href="http://en.wikipedia.org/wiki/Chomsky_hierarchy" rel="noreferrer">Chomsky hierarchy</a>), it is <em>mathematically impossible</em> to parse XML with RegEx.</p>
<p>But many will try, some will even claim success - but until others find the fault and totally mess you up.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-check-if-password-is-8-characters-including-1-uppercase-letter-1-special-character-alphanumeric-characters-score-1708893-in-2018" class="level3">
<h3>4: Regular expression to check if password is “8 characters including 1 uppercase letter, 1 special character, alphanumeric characters” (score <a href="https://stackoverflow.com/q/9477906.html">1708893</a> in 2018)</h3>
<section id="question-3" class="level4">
<h4>Question</h4>
<p>I want a regular expression to check that</p>
<blockquote>
a password must be eight characters including one uppercase letter, one special character and alphanumeric characters.
</blockquote>
<p>And here is my validation expression which is for eight characters including one uppercase letter, one lowercase letter, and one number or special character.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb19-1"><a href="#cb19-1"></a>(?=^.{<span class="dv">8</span>,}<span class="dt">$)</span>((?=.<span class="dt">*\</span>d)|(?=.<span class="dt">*\W</span>+))(?![.\n])(?=.<span class="kw">*</span>[A-Z])(?=.<span class="kw">*</span>[a<span class="kw">-z</span>]).*<span class="dt">$&quot;</span></span></code></pre></div>
<p>How I can write it for a password that must be eight characters including one uppercase letter, one special character and alphanumeric characters?</p>
</section>
<section id="answer-accepted-score-129" class="level4">
<h4>Answer accepted (score 129)</h4>
<p>The regular expression you are after will most likely be huge and a nightmare to maintain especially for people who are not that familiar with regular expressions.</p>
<p>I think it would be easier to break your regex down and do it one bit at a time. It might take a bit more to do, but I am pretty sure that maintaining it and debugging it would be easier. This would also allow you to provide more directed error messages to your users (other than just <code>Invalid Password</code>) which should improve user experience.</p>
<p>From what I am seeing you are pretty fluent in regex, so I would presume that giving you the regular expressions to do what you need would be futile.</p>
<p>Seeing your comment, this is how I would go about it:</p>
<ul>
<li>
<p>
Must be eight characters Long: You do not need a regex for this. Using the <code>.Length</code> property should be enough.
</p>
</li>
<li>
<p>
Including one uppercase letter: You can use the <code>[A-Z]+</code> regular expression. If the string contains at least one upper case letter, this regular expression will yield <code>true</code>.
</p>
</li>
<li>
<p>
One special character: You can use either the <code>\W</code> which will match any character which is not a letter or a number or else, you can use something like so <code>[!@#]</code> to specify a custom list of special characters. Note though that characters such as <code>$</code>, <code>^</code>, <code>(</code> and <code>)</code> are special characters in the regular expression language, so they need to be escaped like so: <code>\$</code>. So in short, you might use the <code>\W</code>.
</p>
</li>
<li>
<p>
Alphanumeric characters: Using the <code>\w+</code> should match any letter and number and underscore.
</p>
</li>
</ul>
<p>Take a look at <a href="http://www.regular-expressions.info/reference.html" rel="noreferrer">this</a> tutorial for more information.</p>
</section>
<section id="answer-2-score-101" class="level4">
<h4>Answer 2 (score 101)</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb20-1"><a href="#cb20-1"></a>(                   <span class="co"># Start of group</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>    (?=.<span class="dt">*\</span>d)        <span class="co">#   must contain at least one digit</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>    (?=.<span class="kw">*</span>[A-Z])     <span class="co">#   must contain at least one uppercase character</span></span>
<span id="cb20-4"><a href="#cb20-4"></a>    (?=.<span class="dt">*\W</span>)        <span class="co">#   must contain at least one special symbol</span></span>
<span id="cb20-5"><a href="#cb20-5"></a>       .            <span class="co">#     match anything with previous condition checking</span></span>
<span id="cb20-6"><a href="#cb20-6"></a>         {<span class="dv">8</span>,<span class="dv">8</span>}      <span class="co">#        length is exactly 8 characters</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>)                   <span class="co"># End of group</span></span></code></pre></div>
<p>In one line:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb21-1"><a href="#cb21-1"></a>((?=.<span class="dt">*\</span>d)(?=.<span class="kw">*</span>[A-Z])(?=.<span class="dt">*\W</span>).{<span class="dv">8</span>,<span class="dv">8</span>})</span></code></pre></div>
<h5>
Edit 2019-05-28:
</h2>
<p>You need to match entire input string. So, you can enclose the regex between <code>^</code> and <code>$</code> to prevent accidentally assuming partial matches as matching entire input:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb22-1"><a href="#cb22-1"></a>^((?=.<span class="dt">*\</span>d)(?=.<span class="kw">*</span>[A-Z])(?=.<span class="dt">*\W</span>).{<span class="dv">8</span>,<span class="dv">8</span>})$</span></code></pre></div>
<h5>
Sources:
</h2>
<ul>
<li>
<p>
<a href="http://www.mkyong.com/regular-expressions/how-to-validate-password-with-regular-expression/" rel="nofollow noreferrer">Password matching expression</a>
</p>
</li>
<li>
<p>
<a href="http://www.zorched.net/2009/05/08/password-strength-validation-with-regular-expressions/" rel="nofollow noreferrer">Password Strength Validation with Regular Expressions</a>
</p>
</li>
</ul>
</section>
<section id="answer-3-score-33" class="level4">
<h4>Answer 3 (score 33)</h4>
<p>So many answers…. all bad!</p>
<p>Regular expressions don’t have an AND operator, so it’s pretty hard to write a regex that matches valid passwords, when validity is defined by something AND something else AND something else…</p>
<p>But, regular expressions <em>do</em> have an OR operator, so just apply DeMorgan’s theorem, and write a regex that matches <em>invalid</em> passwords.</p>
<p>anything with less than 8 characters <strong>OR</strong> anything with no numbers <strong>OR</strong> anything with no uppercase <strong>OR</strong> anything with no special characters</p>
<p>So:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb23-1"><a href="#cb23-1"></a>^(.{<span class="dv">0</span>,<span class="dv">7</span>}|[^<span class="dv">0-9</span>]<span class="dt">*|</span>[^A-Z]<span class="dt">*|</span>[a-zA-Z0<span class="dv">-9</span>]<span class="kw">*</span>)$</span></code></pre></div>
<p>If anything matches that, then it’s an <em>invalid</em> password.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="match-the-path-of-a-url-minus-the-filename-extension-score-1259727-in-2014" class="level3">
<h3>5: Match the path of a URL, minus the filename extension (score <a href="https://stackoverflow.com/q/8313941.html">1259727</a> in 2014)</h3>
<section id="question-4" class="level4">
<h4>Question</h4>
<p>What would be the best regular expression for this scenario?</p>
<p>Given this URL:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb24-1"><a href="#cb24-1"></a>http://php.net/manual/en/function.preg-match.php</span></code></pre></div>
<p>How should I go about selecting everything between (but not including) <code>http://php.net</code> and <code>.php</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb25-1"><a href="#cb25-1"></a><span class="kw">/</span><span class="ot">manual</span><span class="kw">/</span>en/function.preg-match</span></code></pre></div>
<p>This is for an <a href="http://en.wikipedia.org/wiki/Nginx" rel="nofollow">Nginx</a> configuration file.</p>
</section>
<section id="answer-accepted-score-8" class="level4">
<h4>Answer accepted (score 8)</h4>
<p>Like this:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">if</span> (preg_match(<span class="kw">&#39;</span><span class="st">/(?&lt;=net).*(?=\.php)/</span><span class="kw">&#39;</span>, <span class="dt">$subject</span>, <span class="dt">$regs</span>)) {</span>
<span id="cb26-2"><a href="#cb26-2"></a>    <span class="dt">$result</span> = <span class="dt">$regs</span>[<span class="dv">0</span>];</span>
<span id="cb26-3"><a href="#cb26-3"></a>}</span></code></pre></div>
<p>Explanation:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">&quot;</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="st">(?&lt;=      # Assert that the regex below can be matched, with the match ending at this position (positive lookbehind)</span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="st">   net       # Match the characters “net” literally</span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="st">)</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="st">.         # Match any single character that is not a line break character</span></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="st">   *         # Between zero and unlimited times, as many times as possible, giving back as needed (greedy)</span></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="st">(?=       # Assert that the regex below can be matched, starting at this position (positive lookahead)</span></span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="st">   \.        # Match the character “.” literally</span></span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="st">   php       # Match the characters “php” literally</span></span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="st">)</span></span>
<span id="cb27-11"><a href="#cb27-11"></a><span class="kw">&quot;</span></span></code></pre></div>
</section>
<section id="answer-2-score-20" class="level4">
<h4>Answer 2 (score 20)</h4>
<p>A regular expression might not be the most effective tool for this job.</p>
<p>Try using <a href="http://php.net/parse_url" rel="noreferrer"><code>parse_url()</code></a>, combined with <a href="http://php.net/pathinfo" rel="noreferrer"><code>pathinfo()</code></a>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb28-1"><a href="#cb28-1"></a><span class="dt">$url</span>      = <span class="kw">&#39;</span><span class="st">http://php.net/manual/en/function.preg-match.php</span><span class="kw">&#39;</span>;</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="dt">$path</span>     = parse_url(<span class="dt">$url</span>, PHP_URL_PATH);</span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="dt">$pathinfo</span> = pathinfo(<span class="dt">$path</span>);</span>
<span id="cb28-4"><a href="#cb28-4"></a></span>
<span id="cb28-5"><a href="#cb28-5"></a>echo <span class="dt">$pathinfo</span>[<span class="kw">&#39;</span><span class="st">dirname</span><span class="kw">&#39;</span>], <span class="kw">&#39;</span><span class="st">/</span><span class="kw">&#39;</span>, <span class="dt">$pathinfo</span>[<span class="kw">&#39;</span><span class="st">filename</span><span class="kw">&#39;</span>];</span></code></pre></div>
<p>The above code outputs:</p>
<pre>/manual/en/function.preg-match</pre>
</section>
<section id="answer-3-score-3" class="level4">
<h4>Answer 3 (score 3)</h4>
<p>There’s no need to use a regular expression to dissect a URL. PHP has built-in functions for this, <a href="http://www.php.net/pathinfo" rel="nofollow">pathinfo()</a> and <a href="http://www.php.net/parse_url" rel="nofollow">parse_url()</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-validate-an-email-address-using-a-regular-expression-score-1146192-in-2018" class="level3">
<h3>6: How to validate an email address using a regular expression? (score <a href="https://stackoverflow.com/q/201323.html">1146192</a> in 2018)</h3>
<section id="question-5" class="level4">
<h4>Question</h4>
<p>Over the years I have slowly developed a <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expression</a> that validates MOST email addresses correctly, assuming they don’t use an IP address as the server part.</p>
<p>I use it in several PHP programs, and it works most of the time. However, from time to time I get contacted by someone that is having trouble with a site that uses it, and I end up having to make some adjustment (most recently I realized that I wasn’t allowing 4-character TLDs).</p>
<p><em>What is the best regular expression you have or have seen for validating emails?</em></p>
<p>I’ve seen several solutions that use functions that use several shorter expressions, but I’d rather have one long complex expression in a simple function instead of several short expression in a more complex function.</p>
</section>
<section id="answer-accepted-score-2310" class="level4">
<h4>Answer accepted (score 2310)</h4>
<p>The <a href="http://ex-parrot.com/~pdw/Mail-RFC822-Address.html" rel="noreferrer">fully RFC 822 compliant regex</a> is inefficient and obscure because of its length. Fortunately, RFC 822 was superseded twice and the current specification for email addresses is <a href="http://www.ietf.org/rfc/rfc5322.txt" rel="noreferrer">RFC 5322</a>. RFC 5322 leads to a regex that can be understood if studied for a few minutes and is efficient enough for actual use.</p>
<p>One RFC 5322 compliant regex can be found at the top of the page at <a href="http://emailregex.com/" rel="noreferrer">http://emailregex.com/</a> but uses the IP address pattern that is floating around the internet with a bug that allows <code>00</code> for any of the unsigned byte decimal values in a dot-delimited address, which is illegal. The rest of it appears to be consistent with the RFC 5322 grammar and passes several tests using <code>grep -Po</code>, including cases domain names, IP addresses, bad ones, and account names with and without quotes.</p>
<p>Correcting the <code>00</code> bug in the IP pattern, we obtain a working and fairly fast regex. (Scrape the rendered version, not the markdown, for actual code.)</p>
<blockquote>
(?:[a-z0-9!#<span class="math inline"></span>%&amp;’*+/=?^_`{|}~-]+)<em>|"(?:[-0b0c0e-1f-5b5d-7f]|\[-0b0c0e-7f])</em>")@(?:(?:<a href="?:%5Ba-z0-9-%5D*%5Ba-z0-9%5D.html">a-z0-9</a>?.)+<a href="?:%5Ba-z0-9-%5D*%5Ba-z0-9%5D.html">a-z0-9</a>?|[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])).){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[-0b0c0e-1f-5a-7f]|\[-0b0c0e-7f])+)])
</blockquote>
<p>
Here is <a href="https://regexper.com/#(%3F%3A%5Ba-z0-9!%23%24%25%26&#39;*%2B%2F%3D%3F%5E_%60%7B%7C%7D~-%5D%2B(%3F%3A%5C.%5Ba-z0-9!%23%24%25%26&#39;*%2B%2F%3D%3F%5E_%60%7B%7C%7D~-%5D%2B)*%7C%22(%3F%3A%5B%5Cx01-%5Cx08%5Cx0b%5Cx0c%5Cx0e-%5Cx1f%5Cx21%5Cx23-%5Cx5b%5Cx5d-%5Cx7f%5D%7C%5C%5C%5B%5Cx01-%5Cx09%5Cx0b%5Cx0c%5Cx0e-%5Cx7f%5D)*%22)%40(%3F%3A(%3F%3A%5Ba-z0-9%5D(%3F%3A%5Ba-z0-9-%5D*%5Ba-z0-9%5D)%3F%5C.)%2B%5Ba-z0-9%5D(%3F%3A%5Ba-z0-9-%5D*%5Ba-z0-9%5D)%3F%7C%5C%5B(%3F%3A(%3F%3A(2(5%5B0-5%5D%7C%5B0-4%5D%5B0-9%5D)%7C1%5B0-9%5D%5B0-9%5D%7C%5B1-9%5D%3F%5B0-9%5D))%5C.)%7B3%7D(%3F%3A(2(5%5B0-5%5D%7C%5B0-4%5D%5B0-9%5D)%7C1%5B0-9%5D%5B0-9%5D%7C%5B1-9%5D%3F%5B0-9%5D)%7C%5Ba-z0-9-%5D*%5Ba-z0-9%5D%3A(%3F%3A%5B%5Cx01-%5Cx08%5Cx0b%5Cx0c%5Cx0e-%5Cx1f%5Cx21-%5Cx5a%5Cx53-%5Cx7f%5D%7C%5C%5C%5B%5Cx01-%5Cx09%5Cx0b%5Cx0c%5Cx0e-%5Cx7f%5D)%2B)%5C%5D)" rel="noreferrer">diagram</a> of <a href="https://en.wikipedia.org/wiki/Finite-state_machine" rel="noreferrer">finite state machine</a> for above regexp which is more clear than regexp itself <a href="https://i.stack.imgur.com/YI6KR.png" rel="noreferrer"><img src="https://i.stack.imgur.com/YI6KR.png" alt="enter image description here"></a>
</p>
<p>The more sophisticated patterns in Perl and PCRE (regex library used e.g. in PHP) can <a href="https://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/1917982#1917982">correctly parse RFC 5322 without a hitch</a>. Python and C# can do that too, but they use a different syntax from those first two. However, if you are forced to use one of the many less powerful pattern-matching languages, then it’s best to use a real parser.</p>
<p>It’s also important to understand that validating it per the RFC tells you absolutely nothing about whether that address actually exists at the supplied domain, or whether the person entering the address is its true owner. People sign others up to mailing lists this way all the time. Fixing that requires a fancier kind of validation that involves sending that address a message that includes a confirmation token meant to be entered on the same web page as was the address.</p>
<p>Confirmation tokens are the only way to know you got the address of the person entering it. This is why most mailing lists now use that mechanism to confirm sign-ups. After all, anybody can put down <code>president@whitehouse.gov</code>, and that will even parse as legal, but it isn’t likely to be the person at the other end.</p>
<p>For PHP, you should <em>not</em> use the pattern given in <a href="http://www.linuxjournal.com/article/9585" rel="noreferrer">Validate an E-Mail Address with PHP, the Right Way</a> from which I quote:</p>
<blockquote>
There is some danger that common usage and widespread sloppy coding will establish a de facto standard for e-mail addresses that is more restrictive than the recorded formal standard.
</blockquote>
<p>That is no better than all the other non-RFC patterns. It isn’t even smart enough to handle even <a href="http://www.ietf.org/rfc/rfc0822.txt" rel="noreferrer">RFC 822</a>, let alone RFC 5322. <a href="https://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/1917982#1917982">This one</a>, however, is.</p>
<p>If you want to get fancy and pedantic, <a href="http://cubicspot.blogspot.com/2012/06/correct-way-to-validate-e-mail-address.html" rel="noreferrer">implement a complete state engine</a>. A regular expression can only act as a rudimentary filter. The problem with regular expressions is that telling someone that their perfectly valid e-mail address is invalid (a false positive) because your regular expression can’t handle it is just rude and impolite from the user’s perspective. A state engine for the purpose can both validate and even correct e-mail addresses that would otherwise be considered invalid as it disassembles the e-mail address according to each RFC. This allows for a potentially more pleasing experience, like</p>
<blockquote>
The specified e-mail address ‘myemail@address,com’ is invalid. Did you mean ‘myemail@address.com’?
</blockquote>
<p>See also <a href="http://worsethanfailure.com/Articles/Validating_Email_Addresses.aspx" rel="noreferrer">Validating Email Addresses</a>, including the comments. Or <a href="http://fightingforalostcause.net/misc/2006/compare-email-regex.php" rel="noreferrer">Comparing E-mail Address Validating Regular Expressions</a>.</p>
<p><a href="https://i.stack.imgur.com/SrUwP.png" rel="noreferrer"><img src="https://i.stack.imgur.com/SrUwP.png" alt="Regular expression visualization"></a></p>
<p><a href="https://www.debuggex.com/r/aH_x42NflV8G-GS7" rel="noreferrer">Debuggex Demo</a></p>
</section>
<section id="answer-2-score-738" class="level4">
<h4>Answer 2 (score 738)</h4>
<p>You should not use regular expressions to validate email addresses.</p>
<p>Instead, use the <a href="http://msdn.microsoft.com/en-us/library/system.net.mail.mailaddress.aspx" rel="noreferrer">MailAddress</a> class, like this:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb29-1"><a href="#cb29-1"></a>try {</span>
<span id="cb29-2"><a href="#cb29-2"></a>    address = new MailAddress(address).Address;</span>
<span id="cb29-3"><a href="#cb29-3"></a>} catch(FormatException) {</span>
<span id="cb29-4"><a href="#cb29-4"></a>    //address is invalid</span>
<span id="cb29-5"><a href="#cb29-5"></a>}</span></code></pre></div>
<p>The MailAddress class uses a BNF parser to validate the address in full accordance with RFC822.</p>
<p>If you really want to use a regex, <a href="http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html" rel="noreferrer">here it is</a>:</p>
<pre>(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]
)+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:
\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(
?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ 
\t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\0
31]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\
](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+
(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:
(?:\r\n)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z
|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)
?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\
r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[
 \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)
?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t]
)*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[
 \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*
)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t]
)+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*)
*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+
|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r
\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:
\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t
]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031
]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](
?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?
:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?
:\r\n)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)|(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?
:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?
[ \t]))*"(?:(?:\r\n)?[ \t])*)*:(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|
\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;

@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"
(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t]
)*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\
".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?
:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[
\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\".\[\] \000-
\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(
?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;
:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([
^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\"
.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\
]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\
[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\
r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] 
\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]
|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\".\[\] \0
00-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\
.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,
;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|"(?
:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*
(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".
\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[
^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]
]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)(?:,\s*(
?:(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\
".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(
?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[
\["()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t
])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t
])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?
:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|
\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*|(?:
[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\
]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)
?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["
()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)
?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;

@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*(?:,@(?:(?:\r\n)?[
 \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,
;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t]
)*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\
".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?
(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\["()&lt;&gt;@,;:\\".
\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:
\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[
"()&lt;&gt;@,;:\\".\[\]]))|"(?:[^\"\r\\]|\\.|(?:(?:\r\n)?[ \t]))*"(?:(?:\r\n)?[ \t])
*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])
+|\Z|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*)(?:\
.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\".\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z
|(?=[\["()&lt;&gt;@,;:\\".\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n.html)?[ \t])*))*\&gt;(?:(
?:\r\n)?[ \t])*))*)?;\s*)</pre>
</section>
<section id="answer-3-score-527" class="level4">
<h4>Answer 3 (score 527)</h4>
<p>This question is asked a lot, but I think you should step back and ask yourself <em>why</em> you want to validate email adresses syntactically? What is the benefit really?</p>
<ul>
<li>
It will not catch common typos.
</li>
<li>
It does not prevent people from entering invalid or made-up email addresses, or entering someone else’s address.
</li>
</ul>
<p>If you want to validate that an email is correct, you have no choice than to send an confirmation email and have the user reply to that. In many cases you will <em>have</em> to send a confirmation mail anyway for security reasons or for ethical reasons (so you cannot e.g. sign someone up to a service against their will).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-for-alphanumeric-and-underscores-score-1010986-in" class="level3">
<h3>7: Regular Expression for alphanumeric and underscores (score <a href="https://stackoverflow.com/q/336210.html">1010986</a> in )</h3>
<section id="question-6" class="level4">
<h4>Question</h4>
<p>I would like to have a regular expression that checks if a string contains only upper and lowercase letters, numbers, and underscores.</p>
</section>
<section id="answer-2-score-869" class="level4">
<h4>Answer 2 (score 869)</h4>
<p>To match a string that contains <em>only</em> those characters (or an empty string), try</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">&quot;</span><span class="st">^[a-zA-Z0-9_]*</span><span class="dt">$&quot;</span></span></code></pre></div>
<p>This works for .NET regular expressions, and probably a lot of other languages as well.</p>
<p>Breaking it down:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb31-1"><a href="#cb31-1"></a>^ : start of string</span>
<span id="cb31-2"><a href="#cb31-2"></a>[ : beginning of character group</span>
<span id="cb31-3"><a href="#cb31-3"></a>a<span class="kw">-z</span> : any lowercase letter</span>
<span id="cb31-4"><a href="#cb31-4"></a>A-Z : any uppercase letter</span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="dv">0-9</span> : any digit</span>
<span id="cb31-6"><a href="#cb31-6"></a>_ : underscore</span>
<span id="cb31-7"><a href="#cb31-7"></a>] : end of character group</span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="kw">*</span> : zero <span class="kw">or</span> more of the <span class="kw">given</span> characters</span>
<span id="cb31-9"><a href="#cb31-9"></a>$ : end of string</span></code></pre></div>
<p>If you don’t want to allow empty strings, use + instead of *.</p>
<p><strong>EDIT</strong> As others have pointed out, some regex languages have a shorthand form for <code>[a-zA-Z0-9_]</code>. In the .NET regex language, you can turn on ECMAScript behavior and use <code>\w</code> as a shorthand (yielding <code>^\w*$</code> or <code>^\w+$</code>). Note that in other languages, and by default in .NET, <code>\w</code> is somewhat broader, and will match other sorts of unicode characters as well (thanks to Jan for pointing this out). So if you’re really intending to match <strong>only</strong> those characters, using the explicit (longer) form is probably best.</p>
</section>
<section id="answer-3-score-318" class="level4">
<h4>Answer 3 (score 318)</h4>
<p>There’s a lot of verbosity in here, and I’m deeply against it, so, my conclusive answer would be:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw">/</span><span class="ch">^</span><span class="bn">\w</span><span class="ch">+$</span><span class="kw">/</span></span></code></pre></div>
<p><code>\w</code> is equivalent to <code>[A-Za-z0-9_]</code>, which is pretty much what you want. (unless we introduce unicode to the mix)</p>
<p>Using the <code>+</code> quantifier you’ll match one or more characters. If you want to accept an empty string too, use <code>*</code> instead.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="a-comprehensive-regex-for-phone-number-validation-score-876411-in-2017" class="level3">
<h3>8: A comprehensive regex for phone number validation (score <a href="https://stackoverflow.com/q/123559.html">876411</a> in 2017)</h3>
<section id="question-7" class="level4">
<h4>Question</h4>
<p>I’m trying to put together a comprehensive regex to validate phone numbers. Ideally it would handle international formats, but it must handle US formats, including the following:</p>
<ul>
<li>
1-234-567-8901
</li>
<li>
1-234-567-8901 x1234
</li>
<li>
1-234-567-8901 ext1234
</li>
<li>
1 (234) 567-8901
</li>
<li>
1.234.567.8901
</li>
<li>
1/234/567/8901
</li>
<li>
12345678901
</li>
</ul>
<p>I’ll answer with my current attempt, but I’m hoping somebody has something better and/or more elegant.</p>
</section>
<section id="answer-accepted-score-511" class="level4">
<h4>Answer accepted (score 511)</h4>
<p>Better option… just strip all non-digit characters on input (except ‘x’ and leading ‘+’ signs), taking care because of the British tendency to write numbers in the non-standard form <code>+44 (0) ...</code> when asked to use the international prefix (in that specific case, you should discard the <code>(0)</code> entirely).</p>
<p>Then, you end up with values like:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb33-1"><a href="#cb33-1"></a> <span class="dv">12345678901</span></span>
<span id="cb33-2"><a href="#cb33-2"></a> 12345678901x1234</span>
<span id="cb33-3"><a href="#cb33-3"></a> 345678901x1234</span>
<span id="cb33-4"><a href="#cb33-4"></a> <span class="dv">12344678901</span></span>
<span id="cb33-5"><a href="#cb33-5"></a> <span class="dv">12345678901</span></span>
<span id="cb33-6"><a href="#cb33-6"></a> <span class="dv">12345678901</span></span>
<span id="cb33-7"><a href="#cb33-7"></a> <span class="dv">12345678901</span></span>
<span id="cb33-8"><a href="#cb33-8"></a> +<span class="dv">4112345678</span></span>
<span id="cb33-9"><a href="#cb33-9"></a> +<span class="dv">441234567890</span></span></code></pre></div>
<p>Then when you display, reformat to your hearts content. e.g. </p>
<div class="sourceCode" id="cb34"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb34-1"><a href="#cb34-1"></a>  <span class="dv">1</span> (<span class="dv">234</span>) <span class="dv">567-8901</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>  <span class="dv">1</span> (<span class="dv">234</span>) <span class="dv">567-8901</span> x1234</span></code></pre></div>
</section>
<section id="answer-2-score-296" class="level4">
<h4>Answer 2 (score 296)</h4>
<p>It turns out that there’s something of a spec for this, at least for North America, called the <a href="http://en.wikipedia.org/wiki/North_American_Numbering_Plan" rel="noreferrer">NANP</a>.</p>
<p>You need to specify exactly what you want. What are legal delimiters? Spaces, dashes, and periods? No delimiter allowed? Can one mix delimiters (e.g., +0.111-222.3333)? How are extensions (e.g., 111-222-3333 x 44444) going to be handled? What about special numbers, like 911? Is the area code going to be optional or required?</p>
<p>Here’s a regex for a 7 or 10 digit number, with extensions allowed, delimiters are spaces, dashes, or periods:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb35-1"><a href="#cb35-1"></a>^(?:(?:\+?<span class="dv">1</span>\<span class="kw">s*</span><span class="ch">(?:[</span><span class="bn">.-</span><span class="ch">]</span><span class="bn">\s</span><span class="kw">*</span><span class="st">)?)?(?:\(</span><span class="ch">\s</span><span class="kw">*</span>([<span class="dv">2-9</span>]<span class="dv">1</span>[<span class="bn">02</span><span class="dv">-9</span>]|[<span class="dv">2-9</span>][<span class="bn">02</span><span class="dv">-8</span>]<span class="dv">1</span>|[<span class="dv">2-9</span>][<span class="bn">02</span><span class="dv">-8</span>][<span class="bn">02</span><span class="dv">-9</span>])\<span class="kw">s*</span><span class="ot">\)</span><span class="ch">|([</span><span class="bn">2-9</span><span class="ch">]</span><span class="ot">1</span><span class="ch">[</span><span class="bn">02-9</span><span class="ch">]|[</span><span class="bn">2-9</span><span class="ch">][</span><span class="bn">02-8</span><span class="ch">]</span><span class="ot">1</span><span class="ch">|[</span><span class="bn">2-9</span><span class="ch">][</span><span class="bn">02-8</span><span class="ch">][</span><span class="bn">02-9</span><span class="ch">]))</span><span class="bn">\s</span><span class="kw">*</span><span class="st">(?:[.-]</span><span class="ch">\s</span><span class="kw">*</span>)?)?([<span class="dv">2-9</span>]<span class="dv">1</span>[<span class="bn">02</span><span class="dv">-9</span>]|[<span class="dv">2-9</span>][<span class="bn">02</span><span class="dv">-9</span>]<span class="dv">1</span>|[<span class="dv">2-9</span>][<span class="bn">02</span><span class="dv">-9</span>]{<span class="dv">2</span>})\<span class="kw">s*</span><span class="ch">(?:[</span><span class="bn">.-</span><span class="ch">]</span><span class="bn">\s</span><span class="kw">*</span><span class="st">)?([0-9]{4})(?:</span><span class="ch">\s</span><span class="kw">*</span>(?:<span class="co">#|x\.?|ext\.?|extension)\s*(\d+))?$</span></span></code></pre></div>
</section>
<section id="answer-3-score-293" class="level4">
<h4>Answer 3 (score 293)</h4>
<div class="sourceCode" id="cb36"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb36-1"><a href="#cb36-1"></a>.*</span></code></pre></div>
<p>If the user wants to give you his phone number, then trust him to get it right. If he does not want to give it to you then forcing him to enter a valid number will either send him to a competitor’s site or make him enter a random string that fits your regex. I might even be tempted to look up the number of a premium rate sex line and enter that instead.</p>
<p>I would also consider any of the following as valid entries on a web site:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb37-1"><a href="#cb37-1"></a><span class="kw">&quot;</span><span class="st">123 456 7890 until 6pm, then 098 765 4321</span><span class="kw">&quot;</span>  </span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="kw">&quot;</span><span class="st">123 456 7890 or try my mobile on 098 765 4321</span><span class="kw">&quot;</span>  </span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="kw">&quot;</span><span class="st">ex-directory - mind your own business</span><span class="kw">&quot;</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops-score-800567-in-2019" class="level3">
<h3>9: How to use Regular Expressions (Regex) in Microsoft Excel both in-cell and loops (score <a href="https://stackoverflow.com/q/22542834.html">800567</a> in 2019)</h3>
<section id="question-8" class="level4">
<h4>Question</h4>
<p>How can I use regular expressions in Excel and take advantage of Excel’s powerful grid-like setup for data manipulation?</p>
<ul>
<li>
In-cell function to return a matched pattern or replaced value in a string.
</li>
<li>
Sub to loop through a column of data and extract matches to adjacent cells.
</li>
<li>
What setup is necessary?
</li>
<li>
What are Excel’s special characters for Regular expressions?
</li>
</ul>
<hr>
<p>I understand Regex is not ideal for many situations (<a href="https://stackoverflow.com/a/4098123/2521004">To use or not to use regular expressions?</a>) since excel can use <code>Left</code>, <code>Mid</code>, <code>Right</code>, <code>Instr</code> type commands for similar manipulations.</p>
</section>
<section id="answer-accepted-score-883" class="level4">
<h4>Answer accepted (score 883)</h4>
<p><a href="http://en.wikipedia.org/wiki/Regular_expressions" rel="noreferrer">Regular expressions</a> are used for Pattern Matching.</p>
<p>To use in Excel follow these steps :</p>
<p><strong>Step 1</strong>: Add VBA reference to “Microsoft VBScript Regular Expressions 5.5”</p>
<ul>
<li>
Select “Developer” tab (<a href="http://msdn.microsoft.com/en-us/library/bb608625.aspx" rel="noreferrer">I don’t have this tab what do I do?</a>)
</li>
<li>
Select “Visual Basic” icon from ‘Code’ ribbon section
</li>
<li>
In “Microsoft Visual Basic for Applications” window select “Tools” from the top menu.
</li>
<li>
Select “References”
</li>
<li>
Check the box next to “Microsoft VBScript Regular Expressions 5.5” to include in your workbook.
</li>
<li>
Click “OK”
</li>
</ul>
<p><strong>Step 2</strong>: Define your pattern</p>
<p><em>Basic definitions:</em></p>
<p><code>-</code> Range.</p>
<ul>
<li>
E.g. <code>a-z</code> matches an lower case letters from a to z
</li>
<li>
E.g. <code>0-5</code> matches any number from 0 to 5
</li>
</ul>
<p><code>[]</code> Match exactly one of the objects inside these brackets.</p>
<ul>
<li>
E.g. <code>[a]</code> matches the letter a
</li>
<li>
E.g. <code>[abc]</code> matches a single letter which can be a, b or c
</li>
<li>
E.g. <code>[a-z]</code> matches any single lower case letter of the alphabet.
</li>
</ul>
<p><code>()</code> Groups different matches for return purposes. See examples below.</p>
<p><code>{}</code> Multiplier for repeated copies of pattern defined before it.</p>
<ul>
<li>
E.g. <code>[a]{2}</code> matches two consecutive lower case letter a: <code>aa</code>
</li>
<li>
E.g. <code>[a]{1,3}</code> matches at least one and up to three lower case letter <code>a</code>, <code>aa</code>, <code>aaa</code>
</li>
</ul>
<p><code>+</code> Match at least one, or more, of the pattern defined before it.</p>
<ul>
<li>
E.g. <code>a+</code> will match consecutive a’s <code>a</code>, <code>aa</code>, <code>aaa</code>, and so on
</li>
</ul>
<p><code>?</code> Match zero or one of the pattern defined before it.</p>
<ul>
<li>
E.g. Pattern may or may not be present but can only be matched one time.
</li>
<li>
E.g. <code>[a-z]?</code> matches empty string or any single lower case letter.
</li>
</ul>
<p>
<code>*</code> Match zero or more of the pattern defined before it. - E.g. Wildcard for pattern that may or may not be present. - E.g. <code>[a-z]*</code> matches empty string or string of lower case letters.
</p>
<p><code>.</code> Matches any character except newline <code>\n</code></p>
<ul>
<li>
E.g. <code>a.</code> Matches a two character string starting with a and ending with anything except <code>\n</code>
</li>
</ul>
<p><code>|</code> OR operator</p>
<ul>
<li>
E.g. <code>a|b</code> means either <code>a</code> or <code>b</code> can be matched.
</li>
<li>
E.g. <code>red|white|orange</code> matches exactly one of the colors.
</li>
</ul>
<p><code>^</code> NOT operator</p>
<ul>
<li>
E.g. <code>[^0-9]</code> character can not contain a number
</li>
<li>
E.g. <code>[^aA]</code> character can not be lower case <code>a</code> or upper case <code>A</code>
</li>
</ul>
<p><code>\</code> Escapes special character that follows (overrides above behavior)</p>
<ul>
<li>
E.g. <code>\.</code>, <code>\\</code>, <code>\(</code>, <code>\?</code>, <code>\$</code>, <code>\^</code>
</li>
</ul>
<hr>
<p><em>Anchoring Patterns:</em></p>
<p><code>^</code> Match must occur at start of string</p>
<ul>
<li>
E.g. <code>^a</code> First character must be lower case letter <code>a</code>
</li>
<li>
E.g. <code>^[0-9]</code> First character must be a number.
</li>
</ul>
<p><code>$</code> Match must occur at end of string</p>
<ul>
<li>
E.g. <code>a$</code> Last character must be lower case letter <code>a</code>
</li>
</ul>
<hr>
<p><em>Precedence table:</em></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb38-1"><a href="#cb38-1"></a>Order  Name                Representation</span>
<span id="cb38-2"><a href="#cb38-2"></a><span class="dv">1</span>      Parentheses         ( )</span>
<span id="cb38-3"><a href="#cb38-3"></a><span class="dv">2</span>      Multipliers         ? + <span class="kw">*</span> {<span class="kw">m,</span><span class="ot">n} {m</span><span class="kw">,</span> n}?</span>
<span id="cb38-4"><a href="#cb38-4"></a><span class="dv">3</span>      Sequence &amp; Anchors  abc ^ $</span>
<span id="cb38-5"><a href="#cb38-5"></a><span class="dv">4</span>      Alternation         |</span></code></pre></div>
<hr>
<p><em>Predefined Character Abbreviations:</em></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb39-1"><a href="#cb39-1"></a>abr    same as       meaning</span>
<span id="cb39-2"><a href="#cb39-2"></a>\d     [<span class="dv">0-9</span>]         Any single digit</span>
<span id="cb39-3"><a href="#cb39-3"></a>\D     [^<span class="dv">0-9</span>]        Any single character that<span class="kw">&#39;</span><span class="st">s not a digit</span></span>
<span id="cb39-4"><a href="#cb39-4"></a><span class="st">\w     [a-zA-Z0-9_]  Any word character</span></span>
<span id="cb39-5"><a href="#cb39-5"></a><span class="st">\W     [^a-zA-Z0-9_] Any non-word character</span></span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="st">\s     [ \r\t\n\f]   Any space character</span></span>
<span id="cb39-7"><a href="#cb39-7"></a><span class="st">\S     [^ \r\t\n\f]  Any non-space character</span></span>
<span id="cb39-8"><a href="#cb39-8"></a><span class="st">\n     [\n]          New line</span></span></code></pre></div>
<hr>
<p><strong>Example 1</strong>: <em>Run as macro</em></p>
<p>The following example macro looks at the value in cell <code>A1</code> to see if the first 1 or 2 characters are digits. If so, they are removed and the rest of the string is displayed. If not, then a box appears telling you that no match is found. Cell <code>A1</code> values of <code>12abc</code> will return <code>abc</code>, value of <code>1abc</code> will return <code>abc</code>, value of <code>abc123</code> will return “Not Matched” because the digits were not at the start of the string.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb40-1"><a href="#cb40-1"></a>Private Sub simpleRegex()</span>
<span id="cb40-2"><a href="#cb40-2"></a>    Dim strPattern As String: strPattern = <span class="kw">&quot;</span><span class="st">^[0-9]{1,2}</span><span class="kw">&quot;</span></span>
<span id="cb40-3"><a href="#cb40-3"></a>    Dim strReplace As String: strReplace = <span class="kw">&quot;&quot;</span></span>
<span id="cb40-4"><a href="#cb40-4"></a>    Dim regEx As New RegExp</span>
<span id="cb40-5"><a href="#cb40-5"></a>    Dim strInput As String</span>
<span id="cb40-6"><a href="#cb40-6"></a>    Dim Myrange As Range</span>
<span id="cb40-7"><a href="#cb40-7"></a></span>
<span id="cb40-8"><a href="#cb40-8"></a>    Set Myrange = ActiveSheet.Range(<span class="kw">&quot;</span><span class="st">A1</span><span class="kw">&quot;</span>)</span>
<span id="cb40-9"><a href="#cb40-9"></a></span>
<span id="cb40-10"><a href="#cb40-10"></a>    If strPattern &lt;&gt; <span class="kw">&quot;&quot;</span> Then</span>
<span id="cb40-11"><a href="#cb40-11"></a>        strInput = Myrange.Value</span>
<span id="cb40-12"><a href="#cb40-12"></a></span>
<span id="cb40-13"><a href="#cb40-13"></a>        With regEx</span>
<span id="cb40-14"><a href="#cb40-14"></a>            .Global = True</span>
<span id="cb40-15"><a href="#cb40-15"></a>            .MultiLine = True</span>
<span id="cb40-16"><a href="#cb40-16"></a>            .IgnoreCase = False</span>
<span id="cb40-17"><a href="#cb40-17"></a>            .Pattern = strPattern</span>
<span id="cb40-18"><a href="#cb40-18"></a>        End With</span>
<span id="cb40-19"><a href="#cb40-19"></a></span>
<span id="cb40-20"><a href="#cb40-20"></a>        If regEx.Test(strInput) Then</span>
<span id="cb40-21"><a href="#cb40-21"></a>            MsgBox (regEx.Replace(strInput, strReplace))</span>
<span id="cb40-22"><a href="#cb40-22"></a>        Else</span>
<span id="cb40-23"><a href="#cb40-23"></a>            MsgBox (<span class="kw">&quot;</span><span class="st">Not matched</span><span class="kw">&quot;</span>)</span>
<span id="cb40-24"><a href="#cb40-24"></a>        End If</span>
<span id="cb40-25"><a href="#cb40-25"></a>    End If</span>
<span id="cb40-26"><a href="#cb40-26"></a>End Sub</span></code></pre></div>
<hr>
<p><strong>Example 2</strong>: <em>Run as an in-cell function</em></p>
<p>This example is the same as example 1 but is setup to run as an in-cell function. To use, change the code to this:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb41-1"><a href="#cb41-1"></a>Function simpleCellRegex(Myrange As Range) As String</span>
<span id="cb41-2"><a href="#cb41-2"></a>    Dim regEx As New RegExp</span>
<span id="cb41-3"><a href="#cb41-3"></a>    Dim strPattern As String</span>
<span id="cb41-4"><a href="#cb41-4"></a>    Dim strInput As String</span>
<span id="cb41-5"><a href="#cb41-5"></a>    Dim strReplace As String</span>
<span id="cb41-6"><a href="#cb41-6"></a>    Dim strOutput As String</span>
<span id="cb41-7"><a href="#cb41-7"></a></span>
<span id="cb41-8"><a href="#cb41-8"></a></span>
<span id="cb41-9"><a href="#cb41-9"></a>    strPattern = <span class="kw">&quot;</span><span class="st">^[0-9]{1,3}</span><span class="kw">&quot;</span></span>
<span id="cb41-10"><a href="#cb41-10"></a></span>
<span id="cb41-11"><a href="#cb41-11"></a>    If strPattern &lt;&gt; <span class="kw">&quot;&quot;</span> Then</span>
<span id="cb41-12"><a href="#cb41-12"></a>        strInput = Myrange.Value</span>
<span id="cb41-13"><a href="#cb41-13"></a>        strReplace = <span class="kw">&quot;&quot;</span></span>
<span id="cb41-14"><a href="#cb41-14"></a></span>
<span id="cb41-15"><a href="#cb41-15"></a>        With regEx</span>
<span id="cb41-16"><a href="#cb41-16"></a>            .Global = True</span>
<span id="cb41-17"><a href="#cb41-17"></a>            .MultiLine = True</span>
<span id="cb41-18"><a href="#cb41-18"></a>            .IgnoreCase = False</span>
<span id="cb41-19"><a href="#cb41-19"></a>            .Pattern = strPattern</span>
<span id="cb41-20"><a href="#cb41-20"></a>        End With</span>
<span id="cb41-21"><a href="#cb41-21"></a></span>
<span id="cb41-22"><a href="#cb41-22"></a>        If regEx.test(strInput) Then</span>
<span id="cb41-23"><a href="#cb41-23"></a>            simpleCellRegex = regEx.Replace(strInput, strReplace)</span>
<span id="cb41-24"><a href="#cb41-24"></a>        Else</span>
<span id="cb41-25"><a href="#cb41-25"></a>            simpleCellRegex = <span class="kw">&quot;</span><span class="st">Not matched</span><span class="kw">&quot;</span></span>
<span id="cb41-26"><a href="#cb41-26"></a>        End If</span>
<span id="cb41-27"><a href="#cb41-27"></a>    End If</span>
<span id="cb41-28"><a href="#cb41-28"></a>End Function</span></code></pre></div>
<p>Place your strings (“12abc”) in cell <code>A1</code>. Enter this formula <code>=simpleCellRegex(A1)</code> in cell <code>B1</code> and the result will be “abc”.</p>
<p><img src="https://i.stack.imgur.com/q3RRC.png" alt="enter image description here"></p>
<hr>
<p><strong>Example 3</strong>: <em>Loop Through Range</em></p>
<p>This example is the same as example 1 but loops through a range of cells.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb42-1"><a href="#cb42-1"></a>Private Sub simpleRegex()</span>
<span id="cb42-2"><a href="#cb42-2"></a>    Dim strPattern As String: strPattern = <span class="kw">&quot;</span><span class="st">^[0-9]{1,2}</span><span class="kw">&quot;</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>    Dim strReplace As String: strReplace = <span class="kw">&quot;&quot;</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>    Dim regEx As New RegExp</span>
<span id="cb42-5"><a href="#cb42-5"></a>    Dim strInput As String</span>
<span id="cb42-6"><a href="#cb42-6"></a>    Dim Myrange As Range</span>
<span id="cb42-7"><a href="#cb42-7"></a></span>
<span id="cb42-8"><a href="#cb42-8"></a>    Set Myrange = ActiveSheet.Range(<span class="kw">&quot;</span><span class="st">A1:A5</span><span class="kw">&quot;</span>)</span>
<span id="cb42-9"><a href="#cb42-9"></a></span>
<span id="cb42-10"><a href="#cb42-10"></a>    For Each cell In Myrange</span>
<span id="cb42-11"><a href="#cb42-11"></a>        If strPattern &lt;&gt; <span class="kw">&quot;&quot;</span> Then</span>
<span id="cb42-12"><a href="#cb42-12"></a>            strInput = cell.Value</span>
<span id="cb42-13"><a href="#cb42-13"></a></span>
<span id="cb42-14"><a href="#cb42-14"></a>            With regEx</span>
<span id="cb42-15"><a href="#cb42-15"></a>                .Global = True</span>
<span id="cb42-16"><a href="#cb42-16"></a>                .MultiLine = True</span>
<span id="cb42-17"><a href="#cb42-17"></a>                .IgnoreCase = False</span>
<span id="cb42-18"><a href="#cb42-18"></a>                .Pattern = strPattern</span>
<span id="cb42-19"><a href="#cb42-19"></a>            End With</span>
<span id="cb42-20"><a href="#cb42-20"></a></span>
<span id="cb42-21"><a href="#cb42-21"></a>            If regEx.Test(strInput) Then</span>
<span id="cb42-22"><a href="#cb42-22"></a>                MsgBox (regEx.Replace(strInput, strReplace))</span>
<span id="cb42-23"><a href="#cb42-23"></a>            Else</span>
<span id="cb42-24"><a href="#cb42-24"></a>                MsgBox (<span class="kw">&quot;</span><span class="st">Not matched</span><span class="kw">&quot;</span>)</span>
<span id="cb42-25"><a href="#cb42-25"></a>            End If</span>
<span id="cb42-26"><a href="#cb42-26"></a>        End If</span>
<span id="cb42-27"><a href="#cb42-27"></a>    Next</span>
<span id="cb42-28"><a href="#cb42-28"></a>End Sub</span></code></pre></div>
<hr>
<p><strong>Example 4</strong>: Splitting apart different patterns</p>
<p>This example loops through a range (<code>A1</code>, <code>A2</code> &amp; <code>A3</code>) and looks for a string starting with three digits followed by a single alpha character and then 4 numeric digits. The output splits apart the pattern matches into adjacent cells by using the <code>()</code>. <code>$1</code> represents the first pattern matched within the first set of <code>()</code>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb43-1"><a href="#cb43-1"></a>Private Sub splitUpRegexPattern()</span>
<span id="cb43-2"><a href="#cb43-2"></a>    Dim regEx As New RegExp</span>
<span id="cb43-3"><a href="#cb43-3"></a>    Dim strPattern As String</span>
<span id="cb43-4"><a href="#cb43-4"></a>    Dim strInput As String</span>
<span id="cb43-5"><a href="#cb43-5"></a>    Dim Myrange As Range</span>
<span id="cb43-6"><a href="#cb43-6"></a></span>
<span id="cb43-7"><a href="#cb43-7"></a>    Set Myrange = ActiveSheet.Range(<span class="kw">&quot;</span><span class="st">A1:A3</span><span class="kw">&quot;</span>)</span>
<span id="cb43-8"><a href="#cb43-8"></a></span>
<span id="cb43-9"><a href="#cb43-9"></a>    For Each C In Myrange</span>
<span id="cb43-10"><a href="#cb43-10"></a>        strPattern = <span class="kw">&quot;</span><span class="st">(^[0-9]{3})([a-zA-Z])([0-9]{4})</span><span class="kw">&quot;</span></span>
<span id="cb43-11"><a href="#cb43-11"></a></span>
<span id="cb43-12"><a href="#cb43-12"></a>        If strPattern &lt;&gt; <span class="kw">&quot;&quot;</span> Then</span>
<span id="cb43-13"><a href="#cb43-13"></a>            strInput = C.Value</span>
<span id="cb43-14"><a href="#cb43-14"></a></span>
<span id="cb43-15"><a href="#cb43-15"></a>            With regEx</span>
<span id="cb43-16"><a href="#cb43-16"></a>                .Global = True</span>
<span id="cb43-17"><a href="#cb43-17"></a>                .MultiLine = True</span>
<span id="cb43-18"><a href="#cb43-18"></a>                .IgnoreCase = False</span>
<span id="cb43-19"><a href="#cb43-19"></a>                .Pattern = strPattern</span>
<span id="cb43-20"><a href="#cb43-20"></a>            End With</span>
<span id="cb43-21"><a href="#cb43-21"></a></span>
<span id="cb43-22"><a href="#cb43-22"></a>            If regEx.test(strInput) Then</span>
<span id="cb43-23"><a href="#cb43-23"></a>                C.Offset(<span class="dv">0</span>, <span class="dv">1</span>) = regEx.Replace(strInput, <span class="kw">&quot;</span><span class="dt">$1</span><span class="kw">&quot;</span>)</span>
<span id="cb43-24"><a href="#cb43-24"></a>                C.Offset(<span class="dv">0</span>, <span class="dv">2</span>) = regEx.Replace(strInput, <span class="kw">&quot;</span><span class="dt">$2</span><span class="kw">&quot;</span>)</span>
<span id="cb43-25"><a href="#cb43-25"></a>                C.Offset(<span class="dv">0</span>, <span class="dv">3</span>) = regEx.Replace(strInput, <span class="kw">&quot;</span><span class="dt">$3</span><span class="kw">&quot;</span>)</span>
<span id="cb43-26"><a href="#cb43-26"></a>            Else</span>
<span id="cb43-27"><a href="#cb43-27"></a>                C.Offset(<span class="dv">0</span>, <span class="dv">1</span>) = <span class="kw">&quot;</span><span class="st">(Not matched)</span><span class="kw">&quot;</span></span>
<span id="cb43-28"><a href="#cb43-28"></a>            End If</span>
<span id="cb43-29"><a href="#cb43-29"></a>        End If</span>
<span id="cb43-30"><a href="#cb43-30"></a>    Next</span>
<span id="cb43-31"><a href="#cb43-31"></a>End Sub</span></code></pre></div>
<p>Results:</p>
<p><img src="https://i.stack.imgur.com/9eCZ5.png" alt="enter image description here"></p>
<hr>
<p><strong>Additional Pattern Examples</strong></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb44-1"><a href="#cb44-1"></a>String   Regex Pattern                  Explanation</span>
<span id="cb44-2"><a href="#cb44-2"></a>a1aaa    [a-zA-Z][<span class="dv">0-9</span>][a-zA-Z]{<span class="dv">3</span>}       Single alpha, single digit, three alpha characters</span>
<span id="cb44-3"><a href="#cb44-3"></a>a1aaa    [a-zA-Z]?[<span class="dv">0-9</span>][a-zA-Z]{<span class="dv">3</span>}      May <span class="kw">or</span> may <span class="kw">not</span> have preceeding alpha character</span>
<span id="cb44-4"><a href="#cb44-4"></a>a1aaa    [a-zA-Z][<span class="dv">0-9</span>][a-zA-Z]{<span class="dv">0</span>,<span class="dv">3</span>}     Single alpha, single digit, <span class="dv">0</span> to <span class="dv">3</span> alpha characters</span>
<span id="cb44-5"><a href="#cb44-5"></a>a1aaa    [a-zA-Z][<span class="dv">0-9</span>][a-zA-Z]<span class="kw">*</span>         Single alpha, single digit, followed by any number of alpha characters</span>
<span id="cb44-6"><a href="#cb44-6"></a></span>
<span id="cb44-7"><a href="#cb44-7"></a>&lt;/i8&gt;    \&lt;\<span class="kw">/</span><span class="ch">[</span><span class="bn">a-zA-Z</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]</span><span class="ot">\&gt;            Exact non-word character except any single alpha followed by any single digit</span></span></code></pre></div>
</section>
<section id="answer-2-score-190" class="level4">
<h4>Answer 2 (score 190)</h4>
<p>To make use of regular expressions directly in Excel formulas the following UDF (user defined function) can be of help. It more or less directly exposes regular expression functionality as an excel function.</p>
<h5>
How it works
</h2>
<p>It takes 2-3 parameters.</p>
<ol>
<li>
A text to use the regular expression on.
</li>
<li>
A regular expression.
</li>
<li>
A format string specifying how the result should look. It can contain <code>$0</code>, <code>$1</code>, <code>$2</code>, and so on. <code>$0</code> is the entire match, <code>$1</code> and up correspond to the respective match groups in the regular expression. Defaults to <code>$0</code>.
</li>
</ol>
<h5>
Some examples
</h2>
<p>Extracting an email address:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb45-1"><a href="#cb45-1"></a>=regex(<span class="kw">&quot;</span><span class="st">Peter Gordon: some</span><span class="dt">@email</span><span class="st">.com, 47</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="ch">\w</span><span class="st">+</span><span class="dt">@</span><span class="ch">\w</span><span class="st">+\.</span><span class="ch">\w</span><span class="st">+</span><span class="kw">&quot;</span>)</span>
<span id="cb45-2"><a href="#cb45-2"></a>=regex(<span class="kw">&quot;</span><span class="st">Peter Gordon: some</span><span class="dt">@email</span><span class="st">.com, 47</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="ch">\w</span><span class="st">+</span><span class="dt">@</span><span class="ch">\w</span><span class="st">+\.</span><span class="ch">\w</span><span class="st">+</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="dt">$0</span><span class="kw">&quot;</span>)</span></code></pre></div>
<p>Results in: <code>some@email.com</code></p>
<p>Extracting several substrings:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb46-1"><a href="#cb46-1"></a>=regex(<span class="kw">&quot;</span><span class="st">Peter Gordon: some</span><span class="dt">@email</span><span class="st">.com, 47</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">^(.+): (.+), (</span><span class="ch">\d</span><span class="st">+)</span><span class="dt">$&quot;</span><span class="st">, </span><span class="kw">&quot;</span>E-Mail: <span class="dt">$2</span>, Name: <span class="dt">$1</span><span class="kw">&quot;</span><span class="st">)</span></span></code></pre></div>
<p>Results in: <code>E-Mail: some@email.com, Name: Peter Gordon</code></p>
<p>To take apart a combined string in a single cell into its components in multiple cells:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb47-1"><a href="#cb47-1"></a>=regex(<span class="kw">&quot;</span><span class="st">Peter Gordon: some</span><span class="dt">@email</span><span class="st">.com, 47</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">^(.+): (.+), (</span><span class="ch">\d</span><span class="st">+)</span><span class="dt">$&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="dt">$&quot;</span> &amp; <span class="dv">1</span>)</span>
<span id="cb47-2"><a href="#cb47-2"></a>=regex(<span class="kw">&quot;</span><span class="st">Peter Gordon: some</span><span class="dt">@email</span><span class="st">.com, 47</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">^(.+): (.+), (</span><span class="ch">\d</span><span class="st">+)</span><span class="dt">$&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="dt">$&quot;</span> &amp; <span class="dv">2</span>)</span></code></pre></div>
<p>Results in: <code>Peter Gordon</code> <code>some@email.com</code> …</p>
<h5>
How to use
</h2>
<p>To use this UDF do the following (roughly based on <a href="https://support.office.com/en-in/article/Create-Custom-Functions-in-Excel-2007-2f06c10b-3622-40d6-a1b2-b6748ae8231f" title="This Microsoft page">this Microsoft page</a>. They have some good additional info there!):</p>
<ol>
<li>
In Excel in a Macro enabled file (‘.xlsm’) push <code>ALT+F11</code> to open the <em>Microsoft Visual Basic for Applications</em> Editor.
</li>
<li>
<p>Add VBA reference to the Regular Expressions library (shamelessly copied from <a href="/questions/22542834/how-to-use-regular-expressions-regex-in-microsoft-excel-both-in-cell-and-loops#answer-22542835">Portland Runners++ answer</a>):</p>
<ol>
<li>
Click on <em>Tools</em> -&gt; <em>References</em> (please excuse the german screenshot) <img src="https://i.stack.imgur.com/etyH4.png" alt="Tools -&gt; References">
</li>
<li>
Find <em>Microsoft VBScript Regular Expressions 5.5</em> in the list and tick the checkbox next to it.
</li>
<li>
Click <em>OK</em>.
</li>
</ol>
</li>
<li>
<p>
Click on <em>Insert Module</em>. If you give your module a different name make sure the Module does <em>not</em> have the same name as the UDF below (e.g. naming the Module <code>Regex</code> and the function <code>regex</code> causes <em>#NAME!</em> errors).
</p>
<img src="https://i.stack.imgur.com/nlTpn.png" alt="Second icon in the icon row -&gt; Module">
</li>
<li>
<p>
In the big text window in the middle insert the following:
</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb48-1"><a href="#cb48-1"></a>Function regex(strInput As String, matchPattern As String, Optional ByVal outputPattern As String = <span class="kw">&quot;</span><span class="dt">$0</span><span class="kw">&quot;</span>) As Variant</span>
<span id="cb48-2"><a href="#cb48-2"></a>    Dim inputRegexObj As New VBScript_RegExp_<span class="dv">55</span>.RegExp, outputRegexObj As New VBScript_RegExp_<span class="dv">55</span>.RegExp, outReplaceRegexObj As New VBScript_RegExp_<span class="dv">55</span>.RegExp</span>
<span id="cb48-3"><a href="#cb48-3"></a>    Dim inputMatches As Object, replaceMatches As Object, replaceMatch As Object</span>
<span id="cb48-4"><a href="#cb48-4"></a>    Dim replaceNumber As Integer</span>
<span id="cb48-5"><a href="#cb48-5"></a></span>
<span id="cb48-6"><a href="#cb48-6"></a>    With inputRegexObj</span>
<span id="cb48-7"><a href="#cb48-7"></a>        .Global = True</span>
<span id="cb48-8"><a href="#cb48-8"></a>        .MultiLine = True</span>
<span id="cb48-9"><a href="#cb48-9"></a>        .IgnoreCase = False</span>
<span id="cb48-10"><a href="#cb48-10"></a>        .Pattern = matchPattern</span>
<span id="cb48-11"><a href="#cb48-11"></a>    End With</span>
<span id="cb48-12"><a href="#cb48-12"></a>    With outputRegexObj</span>
<span id="cb48-13"><a href="#cb48-13"></a>        .Global = True</span>
<span id="cb48-14"><a href="#cb48-14"></a>        .MultiLine = True</span>
<span id="cb48-15"><a href="#cb48-15"></a>        .IgnoreCase = False</span>
<span id="cb48-16"><a href="#cb48-16"></a>        .Pattern = <span class="kw">&quot;</span><span class="st">\$(</span><span class="ch">\d</span><span class="st">+)</span><span class="kw">&quot;</span></span>
<span id="cb48-17"><a href="#cb48-17"></a>    End With</span>
<span id="cb48-18"><a href="#cb48-18"></a>    With outReplaceRegexObj</span>
<span id="cb48-19"><a href="#cb48-19"></a>        .Global = True</span>
<span id="cb48-20"><a href="#cb48-20"></a>        .MultiLine = True</span>
<span id="cb48-21"><a href="#cb48-21"></a>        .IgnoreCase = False</span>
<span id="cb48-22"><a href="#cb48-22"></a>    End With</span>
<span id="cb48-23"><a href="#cb48-23"></a></span>
<span id="cb48-24"><a href="#cb48-24"></a>    Set inputMatches = inputRegexObj.Execute(strInput)</span>
<span id="cb48-25"><a href="#cb48-25"></a>    If inputMatches.Count = <span class="dv">0</span> Then</span>
<span id="cb48-26"><a href="#cb48-26"></a>        regex = False</span>
<span id="cb48-27"><a href="#cb48-27"></a>    Else</span>
<span id="cb48-28"><a href="#cb48-28"></a>        Set replaceMatches = outputRegexObj.Execute(outputPattern)</span>
<span id="cb48-29"><a href="#cb48-29"></a>        For Each replaceMatch In replaceMatches</span>
<span id="cb48-30"><a href="#cb48-30"></a>            replaceNumber = replaceMatch.SubMatches(<span class="dv">0</span>)</span>
<span id="cb48-31"><a href="#cb48-31"></a>            outReplaceRegexObj.Pattern = <span class="kw">&quot;</span><span class="st">\$</span><span class="kw">&quot;</span> &amp; replaceNumber</span>
<span id="cb48-32"><a href="#cb48-32"></a></span>
<span id="cb48-33"><a href="#cb48-33"></a>            If replaceNumber = <span class="dv">0</span> Then</span>
<span id="cb48-34"><a href="#cb48-34"></a>                outputPattern = outReplaceRegexObj.Replace(outputPattern, inputMatches(<span class="dv">0</span>).Value)</span>
<span id="cb48-35"><a href="#cb48-35"></a>            Else</span>
<span id="cb48-36"><a href="#cb48-36"></a>                If replaceNumber &gt; inputMatches(<span class="dv">0</span>).SubMatches.Count Then</span>
<span id="cb48-37"><a href="#cb48-37"></a>                    <span class="kw">&#39;</span><span class="st">regex = &quot;A to high $ tag found. Largest allowed is $&quot; &amp; inputMatches(0).SubMatches.Count &amp; &quot;.&quot;</span></span>
<span id="cb48-38"><a href="#cb48-38"></a><span class="st">                    regex = CVErr(xlErrValue)</span></span>
<span id="cb48-39"><a href="#cb48-39"></a><span class="st">                    Exit Function</span></span>
<span id="cb48-40"><a href="#cb48-40"></a><span class="st">                Else</span></span>
<span id="cb48-41"><a href="#cb48-41"></a><span class="st">                    outputPattern = outReplaceRegexObj.Replace(outputPattern, inputMatches(0).SubMatches(replaceNumber - 1))</span></span>
<span id="cb48-42"><a href="#cb48-42"></a><span class="st">                End If</span></span>
<span id="cb48-43"><a href="#cb48-43"></a><span class="st">            End If</span></span>
<span id="cb48-44"><a href="#cb48-44"></a><span class="st">        Next</span></span>
<span id="cb48-45"><a href="#cb48-45"></a><span class="st">        regex = outputPattern</span></span>
<span id="cb48-46"><a href="#cb48-46"></a><span class="st">    End If</span></span>
<span id="cb48-47"><a href="#cb48-47"></a><span class="st">End Function</span></span>
<span id="cb48-48"><a href="#cb48-48"></a><span class="st">```&lt;/li&gt;</span></span>
<span id="cb48-49"><a href="#cb48-49"></a><span class="st">&lt;li&gt;&lt;p&gt;Save and close the &lt;em&gt;Microsoft Visual Basic for Applications&lt;/em&gt; Editor window.&lt;/p&gt;&lt;/li&gt;</span></span>
<span id="cb48-50"><a href="#cb48-50"></a><span class="st">&lt;/ol&gt;</span></span>
<span id="cb48-51"><a href="#cb48-51"></a></span>
<span id="cb48-52"><a href="#cb48-52"></a><span class="st">#### Answer 3 (score 54)</span></span>
<span id="cb48-53"><a href="#cb48-53"></a><span class="st">Expanding on &lt;a href=&quot;https://stackoverflow.com/users/1975049/patszim&quot;&gt;patszim&lt;/a&gt;</span><span class="kw">&#39;s</span> <span class="kw">&lt;</span><span class="ot">a href=&quot;https://stackoverflow.com/a/28176749/1699071&quot;&gt;answer</span><span class="kw">&lt;</span><span class="st">/a&gt; for those in a rush.  </span></span>
<span id="cb48-54"><a href="#cb48-54"></a></span>
<span id="cb48-55"><a href="#cb48-55"></a><span class="kw">&lt;o</span>l&gt;</span>
<span id="cb48-56"><a href="#cb48-56"></a>&lt;li&gt;Open Excel workbook.&lt;/li&gt;</span>
<span id="cb48-57"><a href="#cb48-57"></a>&lt;li&gt;&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;F11&lt;/kbd&gt; to <span class="fu">open</span> VBA/Macros window.&lt;/li&gt;</span>
<span id="cb48-58"><a href="#cb48-58"></a>&lt;li&gt;Add reference to regex under &lt;strong&gt;&lt;em&gt;Tools&lt;/em&gt;&lt;/strong&gt; then &lt;strong&gt;&lt;em&gt;References&lt;/em&gt;&lt;/strong&gt;&lt;br&gt;</span>
<span id="cb48-59"><a href="#cb48-59"></a>&lt;a href=<span class="kw">&quot;</span><span class="st">https://i.stack.imgur.com/sKCdA.png</span><span class="kw">&quot;</span> rel=<span class="kw">&quot;</span><span class="st">noreferrer</span><span class="kw">&quot;</span>&gt;&lt;img src=<span class="kw">&quot;</span><span class="st">https://i.stack.imgur.com/sKCdA.png</span><span class="kw">&quot;</span> alt=<span class="kw">&quot;</span><span class="st">![Excel VBA Form add references</span><span class="kw">&quot;</span>&gt;&lt;/a&gt;&lt;/li&gt;</span>
<span id="cb48-60"><a href="#cb48-60"></a>&lt;li&gt;<span class="kw">and</span> selecting &lt;strong&gt;Microsoft VBScript Regular Expression <span class="fl">5.5</span>&lt;/strong&gt;&lt;br&gt;</span>
<span id="cb48-61"><a href="#cb48-61"></a>&lt;a href=<span class="kw">&quot;</span><span class="st">https://i.stack.imgur.com/nmSgP.png</span><span class="kw">&quot;</span> rel=<span class="kw">&quot;</span><span class="st">noreferrer</span><span class="kw">&quot;</span>&gt;&lt;img src=<span class="kw">&quot;</span><span class="st">https://i.stack.imgur.com/nmSgP.png</span><span class="kw">&quot;</span> alt=<span class="kw">&quot;</span><span class="st">![Excel VBA add regex reference</span><span class="kw">&quot;</span>&gt;&lt;/a&gt;&lt;/li&gt;</span>
<span id="cb48-62"><a href="#cb48-62"></a>&lt;li&gt;Insert a new module (code needs to reside in the module otherwise it doesn<span class="kw">&#39;</span><span class="st">t work).&lt;br&gt;</span></span>
<span id="cb48-63"><a href="#cb48-63"></a><span class="st">&lt;a href=&quot;https://i.stack.imgur.com/RaLQ0.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/RaLQ0.png&quot; alt=&quot;![Excel VBA insert code module&quot;&gt;&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb48-64"><a href="#cb48-64"></a><span class="st">&lt;li&gt;In the newly inserted module,&lt;br&gt;</span></span>
<span id="cb48-65"><a href="#cb48-65"></a><span class="st">&lt;a href=&quot;https://i.stack.imgur.com/DFJ7F.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/DFJ7F.png&quot; alt=&quot;![Excel VBA insert code into module&quot;&gt;&lt;/a&gt;&lt;/li&gt;</span></span>
<span id="cb48-66"><a href="#cb48-66"></a><span class="st">&lt;li&gt;&lt;p&gt;add the following code:  &lt;/p&gt;</span></span>
<span id="cb48-67"><a href="#cb48-67"></a></span>
<span id="cb48-68"><a href="#cb48-68"></a><span class="st">```perl</span></span>
<span id="cb48-69"><a href="#cb48-69"></a><span class="st">Function RegxFunc(strInput As String, regexPattern As String) As String</span></span>
<span id="cb48-70"><a href="#cb48-70"></a><span class="st">    Dim regEx As New RegExp</span></span>
<span id="cb48-71"><a href="#cb48-71"></a><span class="st">    With regEx</span></span>
<span id="cb48-72"><a href="#cb48-72"></a><span class="st">        .Global = True</span></span>
<span id="cb48-73"><a href="#cb48-73"></a><span class="st">        .MultiLine = True</span></span>
<span id="cb48-74"><a href="#cb48-74"></a><span class="st">        .IgnoreCase = False</span></span>
<span id="cb48-75"><a href="#cb48-75"></a><span class="st">        .pattern = regexPattern</span></span>
<span id="cb48-76"><a href="#cb48-76"></a><span class="st">    End With</span></span>
<span id="cb48-77"><a href="#cb48-77"></a></span>
<span id="cb48-78"><a href="#cb48-78"></a><span class="st">    If regEx.Test(strInput) Then</span></span>
<span id="cb48-79"><a href="#cb48-79"></a><span class="st">        Set matches = regEx.Execute(strInput)</span></span>
<span id="cb48-80"><a href="#cb48-80"></a><span class="st">        RegxFunc = matches(0).Value</span></span>
<span id="cb48-81"><a href="#cb48-81"></a><span class="st">    Else</span></span>
<span id="cb48-82"><a href="#cb48-82"></a><span class="st">        RegxFunc = &quot;not matched&quot;</span></span>
<span id="cb48-83"><a href="#cb48-83"></a><span class="st">    End If</span></span>
<span id="cb48-84"><a href="#cb48-84"></a><span class="st">End Function</span></span>
<span id="cb48-85"><a href="#cb48-85"></a><span class="st">```&lt;/li&gt;</span></span>
<span id="cb48-86"><a href="#cb48-86"></a><span class="st">&lt;li&gt;&lt;p&gt;The regex pattern is placed in one of the cells and &lt;strong&gt;&lt;em&gt;absolute referencing&lt;/em&gt;&lt;/strong&gt; is used on it.</span></span>
<span id="cb48-87"><a href="#cb48-87"></a><span class="st">&lt;a href=&quot;https://i.stack.imgur.com/XnS6t.png&quot; rel=&quot;noreferrer&quot;&gt;&lt;img src=&quot;https://i.stack.imgur.com/XnS6t.png&quot; alt=&quot;![Excel regex function in-cell usage&quot;&gt;&lt;/a&gt;</span></span>
<span id="cb48-88"><a href="#cb48-88"></a><span class="st">Function will be tied to workbook that its created in.&lt;br&gt;</span></span>
<span id="cb48-89"><a href="#cb48-89"></a><span class="st">If there</span><span class="kw">&#39;</span>s a need <span class="kw">for</span> it to be used in different workbooks, store the function in &lt;strong&gt;Personal.XLSB&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;</span>
<span id="cb48-90"><a href="#cb48-90"></a>&lt;/ol&gt;</span>
<span id="cb48-91"><a href="#cb48-91"></a></span>
<span id="cb48-92"><a href="#cb48-92"></a>&lt;/b&gt; &lt;/em&gt; &lt;/i&gt; &lt;/small&gt; &lt;/strong&gt; &lt;/<span class="kw">sub</span>&gt; &lt;/sup&gt;</span>
<span id="cb48-93"><a href="#cb48-93"></a></span>
<span id="cb48-94"><a href="#cb48-94"></a><span class="co">### 10: How to extract numbers from a string in Python? (score [754314](https://stackoverflow.com/q/4289331.html) in 2019)</span></span>
<span id="cb48-95"><a href="#cb48-95"></a></span>
<span id="cb48-96"><a href="#cb48-96"></a><span class="co">#### Question</span></span>
<span id="cb48-97"><a href="#cb48-97"></a>I would extract all the numbers contained in a string. Which is the better suited <span class="kw">for</span> the purpose, regular expressions <span class="kw">or</span> the <span class="kw">`</span><span class="st">isdigit()</span><span class="kw">`</span> method?  </span>
<span id="cb48-98"><a href="#cb48-98"></a></span>
<span id="cb48-99"><a href="#cb48-99"></a>Example:  </span>
<span id="cb48-100"><a href="#cb48-100"></a></span>
<span id="cb48-101"><a href="#cb48-101"></a><span class="kw">```</span><span class="st">perl</span></span>
<span id="cb48-102"><a href="#cb48-102"></a><span class="st">line = &quot;hello 12 hi 89&quot;</span></span></code></pre></div>
<p>Result:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb49-1"><a href="#cb49-1"></a>[<span class="dv">12</span>, <span class="dv">89</span>]</span></code></pre></div>
</section>
<section id="answer-accepted-score-423" class="level4">
<h4>Answer accepted (score 423)</h4>
<p>If you only want to extract only positive integers, try the following:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb50-1"><a href="#cb50-1"></a>&gt;&gt;&gt; str = <span class="kw">&quot;</span><span class="st">h3110 23 cat 444.4 rabbit 11 2 dog</span><span class="kw">&quot;</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>&gt;&gt;&gt; [<span class="fu">int</span>(s) <span class="kw">for</span> s in str.<span class="fu">split</span>() <span class="kw">if</span> <span class="kw">s.</span><span class="ot">isdigit</span><span class="ch">()</span><span class="ot">]</span></span>
<span id="cb50-3"><a href="#cb50-3"></a><span class="ch">[</span><span class="bn">23, 11, 2</span><span class="ch">]</span></span></code></pre></div>
<p>I would argue that this is better than the regex example for three reasons. First, you don’t need another module; secondly, it’s more readable because you don’t need to parse the regex mini-language; and third, it is faster (and thus likely more pythonic):</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb51-1"><a href="#cb51-1"></a>python -m timeit <span class="kw">-s</span> <span class="kw">&quot;</span><span class="st">str = &#39;h3110 23 cat 444.4 rabbit 11 2 dog&#39; * 1000</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">[s for s in str.split() if s.isdigit()]</span><span class="kw">&quot;</span></span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="dv">100</span> loops, best of <span class="dv">3</span>: <span class="fl">2.84</span> msec per loop</span>
<span id="cb51-3"><a href="#cb51-3"></a></span>
<span id="cb51-4"><a href="#cb51-4"></a>python -m timeit <span class="kw">-s</span> <span class="kw">&quot;</span><span class="st">import re</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">str = &#39;h3110 23 cat 444.4 rabbit 11 2 dog&#39; * 1000</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">re.findall(&#39;\\b\\d+\\b&#39;, str)</span><span class="kw">&quot;</span></span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="dv">100</span> loops, best of <span class="dv">3</span>: <span class="fl">5.66</span> msec per loop</span></code></pre></div>
<p>This will not recognize floats, negative integers, or integers in hexadecimal format. If you can’t accept these limitations, <a href="https://stackoverflow.com/questions/4289331/python-extract-numbers-of-a-string/4289415#4289415">slim’s answer below</a> will do the trick.</p>
</section>
<section id="answer-2-score-393" class="level4">
<h4>Answer 2 (score 393)</h4>
<p>I’d use a regexp :</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb52-1"><a href="#cb52-1"></a>&gt;&gt;&gt; <span class="fu">import</span> re</span>
<span id="cb52-2"><a href="#cb52-2"></a>&gt;&gt;&gt; re.findall(r<span class="kw">&#39;</span><span class="st">\d+</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">hello 42 I</span><span class="ch">\&#39;</span><span class="st">m a 32 string 30</span><span class="kw">&#39;</span>)</span>
<span id="cb52-3"><a href="#cb52-3"></a>[<span class="kw">&#39;</span><span class="st">42</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">32</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">30</span><span class="kw">&#39;</span>]</span></code></pre></div>
<p>This would also match 42 from <code>bla42bla</code>. If you only want numbers delimited by word boundaries (space, period, comma), you can use </p>
<div class="sourceCode" id="cb53"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb53-1"><a href="#cb53-1"></a>&gt;&gt;&gt; re.findall(r<span class="kw">&#39;</span><span class="st">\b\d+\b</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">he33llo 42 I</span><span class="ch">\&#39;</span><span class="st">m a 32 string 30</span><span class="kw">&#39;</span>)</span>
<span id="cb53-2"><a href="#cb53-2"></a>[<span class="kw">&#39;</span><span class="st">42</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">32</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">30</span><span class="kw">&#39;</span>]</span></code></pre></div>
<p>To end up with a list of numbers instead of a list of strings:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb54-1"><a href="#cb54-1"></a>&gt;&gt;&gt; [<span class="fu">int</span>(s) <span class="kw">for</span> s in re.findall(r<span class="kw">&#39;</span><span class="st">\b\d+\b</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">he33llo 42 I</span><span class="ch">\&#39;</span><span class="st">m a 32 string 30</span><span class="kw">&#39;</span>)]</span>
<span id="cb54-2"><a href="#cb54-2"></a>[<span class="dv">42</span>, <span class="dv">32</span>, <span class="dv">30</span>]</span></code></pre></div>
</section>
<section id="answer-3-score-81" class="level4">
<h4>Answer 3 (score 81)</h4>
<p>This is more than a bit late, but you can extend the regex expression to account for scientific notation too.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">import</span> re</span>
<span id="cb55-2"><a href="#cb55-2"></a></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="co"># Format is [(&lt;string&gt;, &lt;expected output&gt;), ...]</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>ss = [(<span class="kw">&quot;</span><span class="st">apple-12.34 ba33na fanc-14.23e-2yapple+45e5+67.56E+3</span><span class="kw">&quot;</span>,</span>
<span id="cb55-5"><a href="#cb55-5"></a>       [<span class="kw">&#39;</span><span class="st">-12.34</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">33</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-14.23e-2</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">+45e5</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">+67.56E+3</span><span class="kw">&#39;</span>]),</span>
<span id="cb55-6"><a href="#cb55-6"></a>      (<span class="kw">&#39;</span><span class="st">hello X42 I</span><span class="ch">\&#39;</span><span class="st">m a Y-32.35 string Z30</span><span class="kw">&#39;</span>,</span>
<span id="cb55-7"><a href="#cb55-7"></a>       [<span class="kw">&#39;</span><span class="st">42</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-32.35</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">30</span><span class="kw">&#39;</span>]),</span>
<span id="cb55-8"><a href="#cb55-8"></a>      (<span class="kw">&#39;</span><span class="st">he33llo 42 I</span><span class="ch">\&#39;</span><span class="st">m a 32 string -30</span><span class="kw">&#39;</span>, </span>
<span id="cb55-9"><a href="#cb55-9"></a>       [<span class="kw">&#39;</span><span class="st">33</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">42</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">32</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-30</span><span class="kw">&#39;</span>]),</span>
<span id="cb55-10"><a href="#cb55-10"></a>      (<span class="kw">&#39;</span><span class="st">h3110 23 cat 444.4 rabbit 11 2 dog</span><span class="kw">&#39;</span>, </span>
<span id="cb55-11"><a href="#cb55-11"></a>       [<span class="kw">&#39;</span><span class="st">3110</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">23</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">444.4</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">11</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">2</span><span class="kw">&#39;</span>]),</span>
<span id="cb55-12"><a href="#cb55-12"></a>      (<span class="kw">&#39;</span><span class="st">hello 12 hi 89</span><span class="kw">&#39;</span>, </span>
<span id="cb55-13"><a href="#cb55-13"></a>       [<span class="kw">&#39;</span><span class="st">12</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">89</span><span class="kw">&#39;</span>]),</span>
<span id="cb55-14"><a href="#cb55-14"></a>      (<span class="kw">&#39;</span><span class="st">4</span><span class="kw">&#39;</span>, </span>
<span id="cb55-15"><a href="#cb55-15"></a>       [<span class="kw">&#39;</span><span class="st">4</span><span class="kw">&#39;</span>]),</span>
<span id="cb55-16"><a href="#cb55-16"></a>      (<span class="kw">&#39;</span><span class="st">I like 74,600 commas not,500</span><span class="kw">&#39;</span>, </span>
<span id="cb55-17"><a href="#cb55-17"></a>       [<span class="kw">&#39;</span><span class="st">74,600</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">500</span><span class="kw">&#39;</span>]),</span>
<span id="cb55-18"><a href="#cb55-18"></a>      (<span class="kw">&#39;</span><span class="st">I like bad math 1+2=.001</span><span class="kw">&#39;</span>, </span>
<span id="cb55-19"><a href="#cb55-19"></a>       [<span class="kw">&#39;</span><span class="st">1</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">+2</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">.001</span><span class="kw">&#39;</span>])]</span>
<span id="cb55-20"><a href="#cb55-20"></a></span>
<span id="cb55-21"><a href="#cb55-21"></a><span class="kw">for</span> <span class="kw">s,</span><span class="ot"> r in ss:</span></span>
<span id="cb55-22"><a href="#cb55-22"></a><span class="ot">    rr = re.findall</span><span class="ch">(</span><span class="ot">&quot;</span><span class="ch">[</span><span class="bn">-+</span><span class="ch">]?[</span><span class="bn">.</span><span class="ch">]?[</span><span class="bn">\d</span><span class="ch">]+(?:</span><span class="kw">,</span><span class="ch">\d\d\d</span><span class="st">)*[\.]?</span><span class="ch">\d</span><span class="st">*(?:[eE][-+]?</span><span class="ch">\d</span><span class="st">+)?&quot;</span><span class="kw">,</span> s)</span>
<span id="cb55-23"><a href="#cb55-23"></a>    <span class="kw">if</span> rr == r:</span>
<span id="cb55-24"><a href="#cb55-24"></a>        <span class="fu">print</span>(<span class="kw">&#39;</span><span class="st">GOOD</span><span class="kw">&#39;</span>)</span>
<span id="cb55-25"><a href="#cb55-25"></a>    <span class="kw">else</span>:</span>
<span id="cb55-26"><a href="#cb55-26"></a>        <span class="fu">print</span>(<span class="kw">&#39;</span><span class="st">WRONG</span><span class="kw">&#39;</span>, rr, <span class="kw">&#39;</span><span class="st">should be</span><span class="kw">&#39;</span>, r)</span></code></pre></div>
<p>Gives all good!</p>
<p>Additionally, you can look at the <a href="http://docs.aws.amazon.com/glue/latest/dg/custom-classifier.html#classifier-builtin-patterns?icmpid=docs_glue_console" rel="noreferrer">AWS Glue built-in regex</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-all-special-characters-from-a-string-score-720840-in-2017" class="level3">
<h3>11: Remove all special characters from a string (score <a href="https://stackoverflow.com/q/14114411.html">720840</a> in 2017)</h3>
<section id="question-9" class="level4">
<h4>Question</h4>
<blockquote>
<p>
<strong>Possible Duplicate:</strong><br> <a href="https://stackoverflow.com/questions/3022185/regular-expression-sanitize-php">Regular Expression Sanitize (PHP)</a>
</p>
</blockquote>
<p>I am facing an issue with URLs, I want to be able to convert titles that could contain anything and have them stripped of all special characters so they only have letters and numbers and of course I would like to replace spaces with hyphens.</p>
<p>How would this be done? I’ve heard a lot about regular expressions (regex) being used…</p>
</section>
<section id="answer-accepted-score-614" class="level4">
<h4>Answer accepted (score 614)</h4>
<p>Easy peasy:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb56-1"><a href="#cb56-1"></a>function clean(<span class="dt">$string</span>) {</span>
<span id="cb56-2"><a href="#cb56-2"></a>   <span class="dt">$string</span> = str_replace(<span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="dt">$string</span>); // Replaces all spaces with hyphens.</span>
<span id="cb56-3"><a href="#cb56-3"></a></span>
<span id="cb56-4"><a href="#cb56-4"></a>   <span class="kw">return</span> preg_replace(<span class="kw">&#39;</span><span class="st">/[^A-Za-z0-9\-]/</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>, <span class="dt">$string</span>); // Removes special chars.</span>
<span id="cb56-5"><a href="#cb56-5"></a>}</span></code></pre></div>
<p><b>Usage:</b></p>
<div class="sourceCode" id="cb57"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb57-1"><a href="#cb57-1"></a>echo clean(<span class="kw">&#39;</span><span class="st">a|&quot;bc!@£de^&amp;$f g</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>Will output: <code>abcdef-g</code></p>
<p><b>Edit:</b></p>
<blockquote>
Hey, just a quick question, how can I prevent multiple hyphens from being next to each other? and have them replaced with just 1?
</blockquote>
<div class="sourceCode" id="cb58"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb58-1"><a href="#cb58-1"></a>function clean(<span class="dt">$string</span>) {</span>
<span id="cb58-2"><a href="#cb58-2"></a>   <span class="dt">$string</span> = str_replace(<span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="dt">$string</span>); // Replaces all spaces with hyphens.</span>
<span id="cb58-3"><a href="#cb58-3"></a>   <span class="dt">$string</span> = preg_replace(<span class="kw">&#39;</span><span class="st">/[^A-Za-z0-9\-]/</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>, <span class="dt">$string</span>); // Removes special chars.</span>
<span id="cb58-4"><a href="#cb58-4"></a></span>
<span id="cb58-5"><a href="#cb58-5"></a>   <span class="kw">return</span> preg_replace(<span class="kw">&#39;</span><span class="st">/-+/</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="dt">$string</span>); // Replaces multiple hyphens with single one.</span>
<span id="cb58-6"><a href="#cb58-6"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-100" class="level4">
<h4>Answer 2 (score 100)</h4>
<h5>
Update
</h1>
<p>The solution below has a “SEO friendlier” version:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb59-1"><a href="#cb59-1"></a>function hyphenize(<span class="dt">$string</span>) {</span>
<span id="cb59-2"><a href="#cb59-2"></a>    <span class="dt">$dict</span> = array(</span>
<span id="cb59-3"><a href="#cb59-3"></a>        <span class="kw">&quot;</span><span class="st">I&#39;m</span><span class="kw">&quot;</span>      =&gt; <span class="kw">&quot;</span><span class="st">I am</span><span class="kw">&quot;</span>,</span>
<span id="cb59-4"><a href="#cb59-4"></a>        <span class="kw">&quot;</span><span class="st">thier</span><span class="kw">&quot;</span>    =&gt; <span class="kw">&quot;</span><span class="st">their</span><span class="kw">&quot;</span>,</span>
<span id="cb59-5"><a href="#cb59-5"></a>        // Add your own replacements here</span>
<span id="cb59-6"><a href="#cb59-6"></a>    );</span>
<span id="cb59-7"><a href="#cb59-7"></a>    <span class="kw">return</span> strtolower(</span>
<span id="cb59-8"><a href="#cb59-8"></a>        preg_replace(</span>
<span id="cb59-9"><a href="#cb59-9"></a>          array( <span class="kw">&#39;</span><span class="st">#[</span><span class="ch">\\</span><span class="st">s-]+#</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">#[^A-Za-z0-9. -]+#</span><span class="kw">&#39;</span> ),</span>
<span id="cb59-10"><a href="#cb59-10"></a>          array( <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span> ),</span>
<span id="cb59-11"><a href="#cb59-11"></a>          // the full cleanString() can be downloaded from http://www.unexpectedit.com/php/php-clean-string-of-<span class="kw">utf8</span>-chars-convert-to-similar-ascii-char</span>
<span id="cb59-12"><a href="#cb59-12"></a>          cleanString(</span>
<span id="cb59-13"><a href="#cb59-13"></a>              str_replace( // preg_replace can be used to support more complicated replacements</span>
<span id="cb59-14"><a href="#cb59-14"></a>                  array_keys(<span class="dt">$dict</span>),</span>
<span id="cb59-15"><a href="#cb59-15"></a>                  array_values(<span class="dt">$dict</span>),</span>
<span id="cb59-16"><a href="#cb59-16"></a>                  urldecode(<span class="dt">$string</span>)</span>
<span id="cb59-17"><a href="#cb59-17"></a>              )</span>
<span id="cb59-18"><a href="#cb59-18"></a>          )</span>
<span id="cb59-19"><a href="#cb59-19"></a>        )</span>
<span id="cb59-20"><a href="#cb59-20"></a>    );</span>
<span id="cb59-21"><a href="#cb59-21"></a>}</span>
<span id="cb59-22"><a href="#cb59-22"></a></span>
<span id="cb59-23"><a href="#cb59-23"></a>function cleanString(<span class="dt">$text</span>) {</span>
<span id="cb59-24"><a href="#cb59-24"></a>    <span class="dt">$utf8</span> = array(</span>
<span id="cb59-25"><a href="#cb59-25"></a>        <span class="kw">&#39;</span><span class="st">/[áàâãªä]/u</span><span class="kw">&#39;</span>   =&gt;   <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span>,</span>
<span id="cb59-26"><a href="#cb59-26"></a>        <span class="kw">&#39;</span><span class="st">/[ÁÀÂÃÄ]/u</span><span class="kw">&#39;</span>    =&gt;   <span class="kw">&#39;</span><span class="st">A</span><span class="kw">&#39;</span>,</span>
<span id="cb59-27"><a href="#cb59-27"></a>        <span class="kw">&#39;</span><span class="st">/[ÍÌÎÏ]/u</span><span class="kw">&#39;</span>     =&gt;   <span class="kw">&#39;</span><span class="st">I</span><span class="kw">&#39;</span>,</span>
<span id="cb59-28"><a href="#cb59-28"></a>        <span class="kw">&#39;</span><span class="st">/[íìîï]/u</span><span class="kw">&#39;</span>     =&gt;   <span class="kw">&#39;</span><span class="st">i</span><span class="kw">&#39;</span>,</span>
<span id="cb59-29"><a href="#cb59-29"></a>        <span class="kw">&#39;</span><span class="st">/[éèêë]/u</span><span class="kw">&#39;</span>     =&gt;   <span class="kw">&#39;</span><span class="st">e</span><span class="kw">&#39;</span>,</span>
<span id="cb59-30"><a href="#cb59-30"></a>        <span class="kw">&#39;</span><span class="st">/[ÉÈÊË]/u</span><span class="kw">&#39;</span>     =&gt;   <span class="kw">&#39;</span><span class="st">E</span><span class="kw">&#39;</span>,</span>
<span id="cb59-31"><a href="#cb59-31"></a>        <span class="kw">&#39;</span><span class="st">/[óòôõºö]/u</span><span class="kw">&#39;</span>   =&gt;   <span class="kw">&#39;</span><span class="st">o</span><span class="kw">&#39;</span>,</span>
<span id="cb59-32"><a href="#cb59-32"></a>        <span class="kw">&#39;</span><span class="st">/[ÓÒÔÕÖ]/u</span><span class="kw">&#39;</span>    =&gt;   <span class="kw">&#39;</span><span class="st">O</span><span class="kw">&#39;</span>,</span>
<span id="cb59-33"><a href="#cb59-33"></a>        <span class="kw">&#39;</span><span class="st">/[úùûü]/u</span><span class="kw">&#39;</span>     =&gt;   <span class="kw">&#39;</span><span class="st">u</span><span class="kw">&#39;</span>,</span>
<span id="cb59-34"><a href="#cb59-34"></a>        <span class="kw">&#39;</span><span class="st">/[ÚÙÛÜ]/u</span><span class="kw">&#39;</span>     =&gt;   <span class="kw">&#39;</span><span class="st">U</span><span class="kw">&#39;</span>,</span>
<span id="cb59-35"><a href="#cb59-35"></a>        <span class="kw">&#39;</span><span class="st">/ç/</span><span class="kw">&#39;</span>           =&gt;   <span class="kw">&#39;</span><span class="st">c</span><span class="kw">&#39;</span>,</span>
<span id="cb59-36"><a href="#cb59-36"></a>        <span class="kw">&#39;</span><span class="st">/Ç/</span><span class="kw">&#39;</span>           =&gt;   <span class="kw">&#39;</span><span class="st">C</span><span class="kw">&#39;</span>,</span>
<span id="cb59-37"><a href="#cb59-37"></a>        <span class="kw">&#39;</span><span class="st">/ñ/</span><span class="kw">&#39;</span>           =&gt;   <span class="kw">&#39;</span><span class="st">n</span><span class="kw">&#39;</span>,</span>
<span id="cb59-38"><a href="#cb59-38"></a>        <span class="kw">&#39;</span><span class="st">/Ñ/</span><span class="kw">&#39;</span>           =&gt;   <span class="kw">&#39;</span><span class="st">N</span><span class="kw">&#39;</span>,</span>
<span id="cb59-39"><a href="#cb59-39"></a>        <span class="kw">&#39;</span><span class="st">/–/</span><span class="kw">&#39;</span>           =&gt;   <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, // UTF<span class="dv">-8</span> hyphen to <span class="kw">&quot;</span><span class="st">normal</span><span class="kw">&quot;</span> hyphen</span>
<span id="cb59-40"><a href="#cb59-40"></a>        <span class="kw">&#39;</span><span class="st">/[’‘‹›‚]/u</span><span class="kw">&#39;</span>    =&gt;   <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, // Literally a single quote</span>
<span id="cb59-41"><a href="#cb59-41"></a>        <span class="kw">&#39;</span><span class="st">/[“”«»„]/u</span><span class="kw">&#39;</span>    =&gt;   <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, // Double quote</span>
<span id="cb59-42"><a href="#cb59-42"></a>        <span class="kw">&#39;</span><span class="st">/ /</span><span class="kw">&#39;</span>           =&gt;   <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, // nonbreaking space (equiv. to <span class="bn">0x160</span>)</span>
<span id="cb59-43"><a href="#cb59-43"></a>    );</span>
<span id="cb59-44"><a href="#cb59-44"></a>    <span class="kw">return</span> preg_replace(array_keys(<span class="dt">$utf8</span>), array_values(<span class="dt">$utf8</span>), <span class="dt">$text</span>);</span>
<span id="cb59-45"><a href="#cb59-45"></a>}</span></code></pre></div>
<p>The rationale for the above functions (which I find <em>way</em> inefficient - the one below is better) is that <em>a service that shall not be named</em> apparently ran spelling checks and keyword recognition on the URLs.</p>
<p>After losing a long time on a customer’s paranoias, I found out they were <em>not</em> imagining things after all – their SEO experts [I am definitely not one] reported that, say, converting “Viaggi Economy Perù” to <code>viaggi-economy-peru</code> “behaved better” than <code>viaggi-economy-per</code> (the previous “cleaning” removed UTF8 characters; <strong>Bogotà</strong> became <strong>bogot</strong>, <strong>Medellìn</strong> became <strong>medelln</strong> and so on).</p>
<p>There were also some common misspellings that seemed to influence the results, and the only explanation that made sense to me is that our URL were being unpacked, the words singled out, and used to drive God knows what ranking algorithms. And those algorithms apparently had been fed with UTF8-cleaned strings, so that “Perù” became “Peru” instead of “Per”. “Per” did not match and sort of took it in the neck.</p>
<p>In order to both keep UTF8 characters and replace some misspellings, the faster function below became the more accurate (?) function above. <code>$dict</code> needs to be hand tailored, of course.</p>
<h5>
Previous answer
</h1>
<p>A simple approach:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb60-1"><a href="#cb60-1"></a>// Remove all characters except A-Z, a<span class="kw">-z</span>, <span class="dv">0-9</span>, dots, hyphens <span class="kw">and</span> spaces</span>
<span id="cb60-2"><a href="#cb60-2"></a>// Note that the hyphen must go <span class="kw">last</span> <span class="kw">not</span> to be confused with a range (A-Z)</span>
<span id="cb60-3"><a href="#cb60-3"></a>// <span class="kw">and</span> the dot, NOT being special (I know. My life was a lie), is NOT escaped</span>
<span id="cb60-4"><a href="#cb60-4"></a></span>
<span id="cb60-5"><a href="#cb60-5"></a><span class="dt">$str</span> = preg_replace(<span class="kw">&#39;</span><span class="st">/[^A-Za-z0-9. -]/</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>, <span class="dt">$str</span>);</span>
<span id="cb60-6"><a href="#cb60-6"></a></span>
<span id="cb60-7"><a href="#cb60-7"></a>// Replace sequences of spaces with hyphen</span>
<span id="cb60-8"><a href="#cb60-8"></a><span class="dt">$str</span> = preg_replace(<span class="kw">&#39;</span><span class="st">/  */</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="dt">$str</span>);</span>
<span id="cb60-9"><a href="#cb60-9"></a></span>
<span id="cb60-10"><a href="#cb60-10"></a>// The above means <span class="kw">&quot;</span><span class="st">a space, followed by a space repeated zero or more times</span><span class="kw">&quot;</span></span>
<span id="cb60-11"><a href="#cb60-11"></a>// (should be equivalent to / +<span class="kw">/</span><span class="ch">)</span></span>
<span id="cb60-12"><a href="#cb60-12"></a></span>
<span id="cb60-13"><a href="#cb60-13"></a><span class="kw">//</span><span class="ot"> You may also want to try this alternative:</span></span>
<span id="cb60-14"><a href="#cb60-14"></a><span class="dt">$str</span><span class="ot"> = preg_replace</span><span class="ch">(</span><span class="ot">&#39;</span><span class="kw">/</span>\\<span class="kw">s+</span><span class="ot">/&#39;, &#39;-&#39;, </span><span class="dt">$str</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb60-15"><a href="#cb60-15"></a></span>
<span id="cb60-16"><a href="#cb60-16"></a><span class="ot">// where </span><span class="bn">\s</span><span class="kw">+</span><span class="st"> means &quot;zero or more whitespaces&quot; (a space is not necessarily the</span></span>
<span id="cb60-17"><a href="#cb60-17"></a><span class="st">// same as a whitespace) just to be sure and include everything</span></span></code></pre></div>
<p>Note that you might have to first <code>urldecode()</code> the URL, since %20 and + both are actually spaces - I mean, if you have “Never%20gonna%20give%20you%20up” you want it to become Never-gonna-give-you-up, not <em>Never20gonna20give20you20up</em> . You might not need it, but I thought I’d mention the possibility.</p>
<p>So the finished function along with test cases:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb61-1"><a href="#cb61-1"></a>function hyphenize(<span class="dt">$string</span>) {</span>
<span id="cb61-2"><a href="#cb61-2"></a>    <span class="kw">return</span> </span>
<span id="cb61-3"><a href="#cb61-3"></a>    <span class="co">## strtolower(</span></span>
<span id="cb61-4"><a href="#cb61-4"></a>          preg_replace(</span>
<span id="cb61-5"><a href="#cb61-5"></a>            array(<span class="kw">&#39;</span><span class="st">#[</span><span class="ch">\\</span><span class="st">s-]+#</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">#[^A-Za-z0-9. -]+#</span><span class="kw">&#39;</span>),</span>
<span id="cb61-6"><a href="#cb61-6"></a>            array(<span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>),</span>
<span id="cb61-7"><a href="#cb61-7"></a>        <span class="co">##     cleanString(</span></span>
<span id="cb61-8"><a href="#cb61-8"></a>              urldecode(<span class="dt">$string</span>)</span>
<span id="cb61-9"><a href="#cb61-9"></a>        <span class="co">##     )</span></span>
<span id="cb61-10"><a href="#cb61-10"></a>        )</span>
<span id="cb61-11"><a href="#cb61-11"></a>    <span class="co">## )</span></span>
<span id="cb61-12"><a href="#cb61-12"></a>    ;</span>
<span id="cb61-13"><a href="#cb61-13"></a>}</span>
<span id="cb61-14"><a href="#cb61-14"></a></span>
<span id="cb61-15"><a href="#cb61-15"></a><span class="fu">print</span> implode(<span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>, array_map(</span>
<span id="cb61-16"><a href="#cb61-16"></a>    function(<span class="dt">$s</span>) {</span>
<span id="cb61-17"><a href="#cb61-17"></a>            <span class="kw">return</span> <span class="dt">$s</span> . <span class="kw">&#39;</span><span class="st"> becomes </span><span class="kw">&#39;</span> . hyphenize(<span class="dt">$s</span>);</span>
<span id="cb61-18"><a href="#cb61-18"></a>    },</span>
<span id="cb61-19"><a href="#cb61-19"></a>    array(</span>
<span id="cb61-20"><a href="#cb61-20"></a>    <span class="kw">&#39;</span><span class="st">Never%20gonna%20give%20you%20up</span><span class="kw">&#39;</span>,</span>
<span id="cb61-21"><a href="#cb61-21"></a>    <span class="kw">&quot;</span><span class="st">I&#39;m not the man I was</span><span class="kw">&quot;</span>,</span>
<span id="cb61-22"><a href="#cb61-22"></a>    <span class="kw">&quot;</span><span class="st">&#39;Légeresse&#39;, dit sa majesté</span><span class="kw">&quot;</span>,</span>
<span id="cb61-23"><a href="#cb61-23"></a>    )));</span>
<span id="cb61-24"><a href="#cb61-24"></a></span>
<span id="cb61-25"><a href="#cb61-25"></a></span>
<span id="cb61-26"><a href="#cb61-26"></a>Never<span class="dt">%20gonna%20give%20you%20up</span>    becomes  never-gonna-give-you-up</span>
<span id="cb61-27"><a href="#cb61-27"></a>I<span class="kw">&#39;</span><span class="st">m not the man I was              becomes  im-not-the-man-I-was</span></span>
<span id="cb61-28"><a href="#cb61-28"></a><span class="kw">&#39;</span>Légeresse<span class="kw">&#39;</span><span class="st">, dit sa majesté        becomes  legeresse-dit-sa-majeste</span></span></code></pre></div>
<p>To handle UTF-8 I used a <code>cleanString</code> implementation found online (link broken since, but a stripped down copy with all the not-too-esoteric UTF8 characters is at the beginning of the answer; it’s also easy to add more characters to it if you need) that converts UTF8 characters to normal characters, thus preserving the word “look” as much as possible. It could be simplified and wrapped inside the function here for performance.</p>
<p>The function above also implements converting to lowercase - but that’s a taste. The code to do so has been commented out.</p>
</section>
<section id="answer-3-score-36" class="level4">
<h4>Answer 3 (score 36)</h4>
<p>Here, check out this function:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb62-1"><a href="#cb62-1"></a>function seo_friendly_url(<span class="dt">$string</span>){</span>
<span id="cb62-2"><a href="#cb62-2"></a>    <span class="dt">$string</span> = str_replace(array(<span class="kw">&#39;</span><span class="st">[</span><span class="ch">\&#39;</span><span class="st">, </span><span class="ch">\&#39;</span><span class="st">]</span><span class="kw">&#39;</span>), <span class="kw">&#39;&#39;</span>, <span class="dt">$string</span>);</span>
<span id="cb62-3"><a href="#cb62-3"></a>    <span class="dt">$string</span> = preg_replace(<span class="kw">&#39;</span><span class="st">/\[.*\]/U</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>, <span class="dt">$string</span>);</span>
<span id="cb62-4"><a href="#cb62-4"></a>    <span class="dt">$string</span> = preg_replace(<span class="kw">&#39;</span><span class="st">/&amp;(amp;)?#?[a-z0-9]+;/i</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="dt">$string</span>);</span>
<span id="cb62-5"><a href="#cb62-5"></a>    <span class="dt">$string</span> = htmlentities(<span class="dt">$string</span>, ENT_COMPAT, <span class="kw">&#39;</span><span class="st">utf-8</span><span class="kw">&#39;</span>);</span>
<span id="cb62-6"><a href="#cb62-6"></a>    <span class="dt">$string</span> = preg_replace(<span class="kw">&#39;</span><span class="st">/&amp;([a-z])(acute|uml|circ|grave|ring|cedil|slash|tilde|caron|lig|quot|rsquo);/i</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">1</span><span class="kw">&#39;</span>, <span class="dt">$string</span> );</span>
<span id="cb62-7"><a href="#cb62-7"></a>    <span class="dt">$string</span> = preg_replace(array(<span class="kw">&#39;</span><span class="st">/[^a-z0-9]/i</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">/[-]+/</span><span class="kw">&#39;</span>) , <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>, <span class="dt">$string</span>);</span>
<span id="cb62-8"><a href="#cb62-8"></a>    <span class="kw">return</span> strtolower(trim(<span class="dt">$string</span>, <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>));</span>
<span id="cb62-9"><a href="#cb62-9"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-numbers-only-score-719314-in-2019" class="level3">
<h3>12: Regex for numbers only (score <a href="https://stackoverflow.com/q/273141.html">719314</a> in 2019)</h3>
<section id="question-10" class="level4">
<h4>Question</h4>
<p>I haven’t used regular expressions at all, so I’m having difficulty troubleshooting. I want the regex to match only when the contained string is all numbers; but with the two examples below it is matching a string that contains all numbers plus an equals sign like “1234=4321”. I’m sure there’s a way to change this behavior, but as I said, I’ve never really done much with regular expressions.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb63-1"><a href="#cb63-1"></a>string compare = <span class="kw">&quot;</span><span class="st">1234=4321</span><span class="kw">&quot;</span>;</span>
<span id="cb63-2"><a href="#cb63-2"></a>Regex regex = new Regex(<span class="dt">@</span><span class="kw">&quot;</span><span class="st">[</span><span class="ch">\d</span><span class="st">]</span><span class="kw">&quot;</span>);</span>
<span id="cb63-3"><a href="#cb63-3"></a></span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="kw">if</span> (regex.IsMatch(compare))</span>
<span id="cb63-5"><a href="#cb63-5"></a>{ </span>
<span id="cb63-6"><a href="#cb63-6"></a>    //true</span>
<span id="cb63-7"><a href="#cb63-7"></a>}</span>
<span id="cb63-8"><a href="#cb63-8"></a></span>
<span id="cb63-9"><a href="#cb63-9"></a>regex = new Regex(<span class="kw">&quot;</span><span class="st">[0-9]</span><span class="kw">&quot;</span>);</span>
<span id="cb63-10"><a href="#cb63-10"></a></span>
<span id="cb63-11"><a href="#cb63-11"></a><span class="kw">if</span> (regex.IsMatch(compare))</span>
<span id="cb63-12"><a href="#cb63-12"></a>{ </span>
<span id="cb63-13"><a href="#cb63-13"></a>    //true</span>
<span id="cb63-14"><a href="#cb63-14"></a>}</span></code></pre></div>
<p>In case it matters, I’m using C# and .NET2.0.</p>
</section>
<section id="answer-accepted-score-449" class="level4">
<h4>Answer accepted (score 449)</h4>
<p>Use the beginning and end anchors.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb64-1"><a href="#cb64-1"></a>Regex regex = new Regex(<span class="dt">@</span><span class="kw">&quot;</span><span class="st">^</span><span class="ch">\d</span><span class="dt">$&quot;</span><span class="st">);</span></span></code></pre></div>
<p>Use <code>"^\d+$"</code> if you need to match more than one digit.</p>
<hr>
<p>Note that <code>"\d"</code> will match <code>[0-9]</code> and other digit characters like the Eastern Arabic numerals <code>٠١٢٣٤٥٦٧٨٩</code>. Use <code>"^[0-9]+$"</code> to restrict matches to just the Arabic numerals 0 - 9.</p>
<hr>
<p>If you need to include any numeric representations other than just digits (like decimal values for starters), then see <a href="https://stackoverflow.com/users/471272/tchrist"><span class="citation" data-cites="tchrist">@tchrist</span></a>’s <a href="https://stackoverflow.com/a/4247184/1288">comprehensive guide to parsing numbers with regular expressions</a>.</p>
</section>
<section id="answer-2-score-99" class="level4">
<h4>Answer 2 (score 99)</h4>
<p>Your regex will match anything that contains a number, you want to use anchors to match the whole string and then match one or more numbers:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb65-1"><a href="#cb65-1"></a>regex = new Regex(<span class="kw">&quot;</span><span class="st">^[0-9]+</span><span class="dt">$&quot;</span><span class="st">);</span></span></code></pre></div>
<p>The <code>^</code> will anchor the beginning of the string, the <code>$</code> will anchor the end of the string, and the <code>+</code> will match one or more of what precedes it (a number in this case).</p>
</section>
<section id="answer-3-score-37" class="level4">
<h4>Answer 3 (score 37)</h4>
<p>If you need to tolerate decimal point and thousand marker</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb66-1"><a href="#cb66-1"></a>var regex = new Regex(<span class="dt">@</span><span class="kw">&quot;</span><span class="st">^-?[0-9][0-9,\.]+</span><span class="dt">$&quot;</span><span class="st">);</span></span></code></pre></div>
<p>You will need a “-”, if the number can go negative.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-match-any-character-in-regular-expression-score-718409-in-2018" class="level3">
<h3>13: How to match “any character” in regular expression? (score <a href="https://stackoverflow.com/q/2912894.html">718409</a> in 2018)</h3>
<section id="question-11" class="level4">
<h4>Question</h4>
<p>The following should be matched:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb67-1"><a href="#cb67-1"></a>AAA123</span>
<span id="cb67-2"><a href="#cb67-2"></a>ABCDEFGH123</span>
<span id="cb67-3"><a href="#cb67-3"></a>XXXX123</span></code></pre></div>
<p>can I do: <code>".*123"</code> ?</p>
</section>
<section id="answer-accepted-score-572" class="level4">
<h4>Answer accepted (score 572)</h4>
<p>Yes, you can. That should work.</p>
<ul>
<li>
<code>.</code> = any char
</li>
<li>
<code>\.</code> = the actual dot character
</li>
<li>
<code>.?</code> = <code>.{0,1}</code> = match any char zero or one times
</li>
<li>
<code>.*</code> = <code>.{0,}</code> = match any char zero or more times
</li>
<li>
<code>.+</code> = <code>.{1,}</code> = match any char one or more times
</li>
</ul>
</section>
<section id="answer-2-score-52" class="level4">
<h4>Answer 2 (score 52)</h4>
<p>Yes that will work, though note that <code>.</code> will not match newlines unless you pass the <a href="http://java.sun.com/javase/7/docs/api/java/util/regex/Pattern.html#DOTALL" rel="noreferrer">DOTALL</a> flag when compiling the expression:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb68-1"><a href="#cb68-1"></a>Pattern pattern = Pattern.compile(<span class="kw">&quot;</span><span class="st">.*123</span><span class="kw">&quot;</span>, Pattern.DOTALL);</span>
<span id="cb68-2"><a href="#cb68-2"></a>Matcher matcher = pattern.matcher(inputStr);</span>
<span id="cb68-3"><a href="#cb68-3"></a>boolean matchFound = matcher.matches();</span></code></pre></div>
</section>
<section id="answer-3-score-19" class="level4">
<h4>Answer 3 (score 19)</h4>
<p>Use the pattern <code>.</code> to match any character once, <code>.*</code> to match any character zero or more times, <code>.+</code> to match any character one or more times.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-access-the-matched-groups-in-a-javascript-regular-expression-score-705906-in-2017" class="level3">
<h3>14: How do you access the matched groups in a JavaScript regular expression? (score <a href="https://stackoverflow.com/q/432493.html">705906</a> in 2017)</h3>
<section id="question-12" class="level4">
<h4>Question</h4>
<p>I want to match a portion of a string using a <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expression</a> and then access that parenthesized substring:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb69-1"><a href="#cb69-1"></a>var myString = <span class="kw">&quot;</span><span class="st">something format_abc</span><span class="kw">&quot;</span>; // I want <span class="kw">&quot;</span><span class="st">abc</span><span class="kw">&quot;</span></span>
<span id="cb69-2"><a href="#cb69-2"></a></span>
<span id="cb69-3"><a href="#cb69-3"></a>var arr = <span class="kw">/</span><span class="ch">(?:^|</span><span class="bn">\s</span><span class="ch">)</span><span class="ot">format_</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)(?:</span><span class="bn">\s</span><span class="ch">|$)</span><span class="kw">/</span>.<span class="fu">exec</span>(myString);</span>
<span id="cb69-4"><a href="#cb69-4"></a></span>
<span id="cb69-5"><a href="#cb69-5"></a>console.<span class="fu">log</span>(arr);     // Prints: [<span class="kw">&quot;</span><span class="st"> format_abc</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">abc</span><span class="kw">&quot;</span>] .. so far so good.</span>
<span id="cb69-6"><a href="#cb69-6"></a>console.<span class="fu">log</span>(arr[<span class="dv">1</span>]);  // Prints: undefined  (???)</span>
<span id="cb69-7"><a href="#cb69-7"></a>console.<span class="fu">log</span>(arr[<span class="dv">0</span>]);  // Prints: format_undefined (!!!)</span></code></pre></div>
<p>What am I doing wrong?</p>
<hr>
<p>I’ve discovered that there was nothing wrong with the regular expression code above: the actual string which I was testing against was this:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb70-1"><a href="#cb70-1"></a><span class="kw">&quot;</span><span class="st">date format_</span><span class="dt">%A</span><span class="kw">&quot;</span></span></code></pre></div>
<p>Reporting that “%A” is undefined seems a very strange behaviour, but it is not directly related to this question, so I’ve opened a new one, <em><a href="https://stackoverflow.com/questions/432826/why-is-a-matched-substring-returning-undefined-in-javascript">Why is a matched substring returning “undefined” in JavaScript?</a></em>.</p>
<hr>
<p>The issue was that <code>console.log</code> takes its parameters like a <code>printf</code> statement, and since the string I was logging (<code>"%A"</code>) had a special value, it was trying to find the value of the next parameter.</p>
</section>
<section id="answer-accepted-score-1570" class="level4">
<h4>Answer accepted (score 1570)</h4>
<p>You can access capturing groups like this:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb71"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb71-1"><a href="#cb71-1"></a>var myString = <span class="kw">&quot;</span><span class="st">something format_abc</span><span class="kw">&quot;</span>;</span>
<span id="cb71-2"><a href="#cb71-2"></a>var myRegexp = <span class="kw">/</span><span class="ch">(?:^|</span><span class="bn">\s</span><span class="ch">)</span><span class="ot">format_</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)(?:</span><span class="bn">\s</span><span class="ch">|$)</span><span class="kw">/g</span>;</span>
<span id="cb71-3"><a href="#cb71-3"></a>var match = myRegexp.<span class="fu">exec</span>(myString);</span>
<span id="cb71-4"><a href="#cb71-4"></a>console.<span class="fu">log</span>(match[<span class="dv">1</span>]); // abc</span></code></pre></div>
</div>
</div>
<p>And if there are multiple matches you can iterate over them:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb72"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb72-1"><a href="#cb72-1"></a>var myString = <span class="kw">&quot;</span><span class="st">something format_abc</span><span class="kw">&quot;</span>;</span>
<span id="cb72-2"><a href="#cb72-2"></a>var myRegexp = <span class="kw">/</span><span class="ch">(?:^|</span><span class="bn">\s</span><span class="ch">)</span><span class="ot">format_</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)(?:</span><span class="bn">\s</span><span class="ch">|$)</span><span class="kw">/g</span>;</span>
<span id="cb72-3"><a href="#cb72-3"></a>match = myRegexp.<span class="fu">exec</span>(myString);</span>
<span id="cb72-4"><a href="#cb72-4"></a><span class="kw">while</span> (match != null) {</span>
<span id="cb72-5"><a href="#cb72-5"></a>  // matched text: match[<span class="dv">0</span>]</span>
<span id="cb72-6"><a href="#cb72-6"></a>  // match start: match.<span class="fu">index</span></span>
<span id="cb72-7"><a href="#cb72-7"></a>  // capturing group n: match[n]</span>
<span id="cb72-8"><a href="#cb72-8"></a>  console.<span class="fu">log</span>(match[<span class="dv">0</span>])</span>
<span id="cb72-9"><a href="#cb72-9"></a>  match = myRegexp.<span class="fu">exec</span>(myString);</span>
<span id="cb72-10"><a href="#cb72-10"></a>}</span></code></pre></div>
</div>
</div>
<h5>
Edit: 2019-09-10
</h2>
<p>As you can see the way to iterate over multiple matches was not very intuitive. This lead to the proposal of the <a href="https://github.com/tc39/proposal-string-matchall" rel="noreferrer"><code>String.prototype.matchAll</code></a> method. This new method is expected to ship in the <a href="https://tc39.es/ecma262/#sec-string.prototype.matchall" rel="noreferrer">ECMAScript 2020 specification</a>. It gives us a clean API and solves multiple problems. It has been started to land on major browsers and JS engines as <a href="https://v8.dev/features/string-matchall" rel="noreferrer">Chrome 73+ / Node 12+</a> and Firefox 67+.</p>
<p>The method returns an iterator and is used as follows:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb73"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb73-1"><a href="#cb73-1"></a>const string = <span class="kw">&quot;</span><span class="st">something format_abc</span><span class="kw">&quot;</span>;</span>
<span id="cb73-2"><a href="#cb73-2"></a>const regexp = <span class="kw">/</span><span class="ch">(?:^|</span><span class="bn">\s</span><span class="ch">)</span><span class="ot">format_</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)(?:</span><span class="bn">\s</span><span class="ch">|$)</span><span class="kw">/g</span>;</span>
<span id="cb73-3"><a href="#cb73-3"></a>const matches = string.matchAll(regexp);</span>
<span id="cb73-4"><a href="#cb73-4"></a></span>
<span id="cb73-5"><a href="#cb73-5"></a><span class="kw">for</span> (const match of matches) {</span>
<span id="cb73-6"><a href="#cb73-6"></a>  console.<span class="fu">log</span>(match);</span>
<span id="cb73-7"><a href="#cb73-7"></a>  console.<span class="fu">log</span>(match.<span class="fu">index</span>)</span>
<span id="cb73-8"><a href="#cb73-8"></a>}</span></code></pre></div>
</div>
</div>
<p>As it returns an iterator, we can say it’s lazy, this is useful when handling particularly large numbers of capturing groups, or very large strings. But if you need, the result can be easily transformed into an Array by using the <em>spread syntax</em> or the <code>Array.from</code> method:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb74-1"><a href="#cb74-1"></a>function getFirstGroup(regexp, str) {</span>
<span id="cb74-2"><a href="#cb74-2"></a>  const array = [...str.matchAll(regexp)];</span>
<span id="cb74-3"><a href="#cb74-3"></a>  <span class="kw">return</span> array.<span class="fu">map</span>(<span class="kw">m</span><span class="ot"> </span><span class="kw">=</span><span class="ot">&gt; m</span><span class="ch">[</span><span class="bn">1</span><span class="ch">])</span><span class="ot">;</span></span>
<span id="cb74-4"><a href="#cb74-4"></a><span class="ot">}</span></span>
<span id="cb74-5"><a href="#cb74-5"></a></span>
<span id="cb74-6"><a href="#cb74-6"></a><span class="ot">// or:</span></span>
<span id="cb74-7"><a href="#cb74-7"></a><span class="ot">function getFirstGroup</span><span class="ch">(</span><span class="ot">regexp, str</span><span class="ch">)</span><span class="ot"> {</span></span>
<span id="cb74-8"><a href="#cb74-8"></a><span class="ot">  return Array.from</span><span class="ch">(</span><span class="ot">str.matchAll</span><span class="ch">(</span><span class="ot">regexp</span><span class="ch">)</span><span class="ot">, m </span><span class="kw">=</span>&gt; <span class="kw">m[</span><span class="ot">1</span><span class="kw">]</span>);</span>
<span id="cb74-9"><a href="#cb74-9"></a>}</span></code></pre></div>
<p>In the meantime, while this proposal gets more wide support, you can use the <a href="https://www.npmjs.com/package/string.prototype.matchall" rel="noreferrer">official shim package</a>.</p>
<p>Also, the internal workings of the method are simple. An equivalent implementation using a generator function would be as follows:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb75-1"><a href="#cb75-1"></a>function<span class="kw">*</span> matchAll(str, regexp) {</span>
<span id="cb75-2"><a href="#cb75-2"></a>  const flags = regexp.global ? regexp.flags : regexp.flags + <span class="kw">&quot;</span><span class="st">g</span><span class="kw">&quot;</span>;</span>
<span id="cb75-3"><a href="#cb75-3"></a>  const re = new RegExp(regexp, flags);</span>
<span id="cb75-4"><a href="#cb75-4"></a>  let match;</span>
<span id="cb75-5"><a href="#cb75-5"></a>  <span class="kw">while</span> (match = re.<span class="fu">exec</span>(str)) {</span>
<span id="cb75-6"><a href="#cb75-6"></a>    yield match;</span>
<span id="cb75-7"><a href="#cb75-7"></a>  }</span>
<span id="cb75-8"><a href="#cb75-8"></a>}</span></code></pre></div>
<p>A copy of the original regexp is created; this is to avoid side-effects due to the mutation of the <code>lastIndex</code> property when going through the multple matches.</p>
<p>Also, we need to ensure the regexp has the <em>global</em> flag to avoid an infinite loop.</p>
<p>I’m also happy to see that even this StackOverflow question was referenced in the <a href="https://github.com/tc39/proposal-string-matchall#previous-discussions" rel="noreferrer">discussions of the proposal</a>.</p>
</section>
<section id="answer-2-score-178" class="level4">
<h4>Answer 2 (score 178)</h4>
<p>Here’s a method you can use to get the <em>n</em>​th capturing group for each match:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false">
<div class="snippet-code">
<div class="sourceCode" id="cb76"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb76-1"><a href="#cb76-1"></a>function getMatches(string, regex, <span class="fu">index</span>) {</span>
<span id="cb76-2"><a href="#cb76-2"></a>  <span class="fu">index</span> || (<span class="fu">index</span> = <span class="dv">1</span>); // <span class="kw">default</span> to the first capturing group</span>
<span id="cb76-3"><a href="#cb76-3"></a>  var matches = [];</span>
<span id="cb76-4"><a href="#cb76-4"></a>  var match;</span>
<span id="cb76-5"><a href="#cb76-5"></a>  <span class="kw">while</span> (match = regex.<span class="fu">exec</span>(string)) {</span>
<span id="cb76-6"><a href="#cb76-6"></a>    matches.<span class="fu">push</span>(match[<span class="fu">index</span>]);</span>
<span id="cb76-7"><a href="#cb76-7"></a>  }</span>
<span id="cb76-8"><a href="#cb76-8"></a>  <span class="kw">return</span> matches;</span>
<span id="cb76-9"><a href="#cb76-9"></a>}</span>
<span id="cb76-10"><a href="#cb76-10"></a></span>
<span id="cb76-11"><a href="#cb76-11"></a></span>
<span id="cb76-12"><a href="#cb76-12"></a>// Example :</span>
<span id="cb76-13"><a href="#cb76-13"></a>var myString = <span class="kw">&#39;</span><span class="st">something format_abc something format_def something format_ghi</span><span class="kw">&#39;</span>;</span>
<span id="cb76-14"><a href="#cb76-14"></a>var myRegEx = <span class="kw">/</span><span class="ch">(?:^|</span><span class="bn">\s</span><span class="ch">)</span><span class="ot">format_</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)(?:</span><span class="bn">\s</span><span class="ch">|$)</span><span class="kw">/g</span>;</span>
<span id="cb76-15"><a href="#cb76-15"></a></span>
<span id="cb76-16"><a href="#cb76-16"></a>// Get an array containing the first capturing group <span class="kw">for</span> every match</span>
<span id="cb76-17"><a href="#cb76-17"></a>var matches = getMatches(myString, myRegEx, <span class="dv">1</span>);</span>
<span id="cb76-18"><a href="#cb76-18"></a></span>
<span id="cb76-19"><a href="#cb76-19"></a>// Log results</span>
<span id="cb76-20"><a href="#cb76-20"></a>document.<span class="fu">write</span>(matches.<span class="fu">length</span> + <span class="kw">&#39;</span><span class="st"> matches found: </span><span class="kw">&#39;</span> + JSON.stringify(matches))</span>
<span id="cb76-21"><a href="#cb76-21"></a>console.<span class="fu">log</span>(matches);</span></code></pre></div>
</div>
</div>
</section>
<section id="answer-3-score-55" class="level4">
<h4>Answer 3 (score 55)</h4>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb77"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb77-1"><a href="#cb77-1"></a>var myString = <span class="kw">&quot;</span><span class="st">something format_abc</span><span class="kw">&quot;</span>;</span>
<span id="cb77-2"><a href="#cb77-2"></a>var arr = myString.match(<span class="kw">/</span><span class="ch">\b</span><span class="ot">format_</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)\b</span><span class="kw">/</span>);</span>
<span id="cb77-3"><a href="#cb77-3"></a>console.<span class="fu">log</span>(arr[<span class="dv">0</span>] + <span class="kw">&quot;</span><span class="st"> </span><span class="kw">&quot;</span> + arr[<span class="dv">1</span>]);</span></code></pre></div>
</div>
</div>
<p>The <code>\b</code> isn’t exactly the same thing. (It works on <code>--format_foo/</code>, but doesn’t work on <code>format_a_b</code>) But I wanted to show an alternative to your expression, which is fine. Of course, the <code>match</code> call is the important thing.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-whether-a-string-matches-a-regex-in-js-score-700870-in-2017" class="level3">
<h3>15: Check whether a string matches a regex in JS (score <a href="https://stackoverflow.com/q/6603015.html">700870</a> in 2017)</h3>
<section id="question-13" class="level4">
<h4>Question</h4>
<p>I want to use JavaScript (can be with jQuery) to do some client-side validation to check whether a string matches the regex:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb78-1"><a href="#cb78-1"></a>^([a-z0<span class="dv">-9</span>]{<span class="dv">5</span>,})$</span></code></pre></div>
<p>Ideally it would be an expression that returned true or false.</p>
<p>I’m a JavaScript newbie, does <code>match()</code> do what I need? It seems to check whether part of a string matches a regex, not the whole thing.</p>
</section>
<section id="answer-accepted-score-1064" class="level4">
<h4>Answer accepted (score 1064)</h4>
<p>Use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" rel="noreferrer"><code>regex.test()</code></a> if all you want is a boolean result:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb79"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb79-1"><a href="#cb79-1"></a>console.<span class="fu">log</span>(<span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>.test(<span class="kw">&#39;</span><span class="st">abc1</span><span class="kw">&#39;</span>)); // false</span>
<span id="cb79-2"><a href="#cb79-2"></a></span>
<span id="cb79-3"><a href="#cb79-3"></a>console.<span class="fu">log</span>(<span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>.test(<span class="kw">&#39;</span><span class="st">abc12</span><span class="kw">&#39;</span>)); // true</span>
<span id="cb79-4"><a href="#cb79-4"></a></span>
<span id="cb79-5"><a href="#cb79-5"></a>console.<span class="fu">log</span>(<span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>.test(<span class="kw">&#39;</span><span class="st">abc123</span><span class="kw">&#39;</span>)); // true</span></code></pre></div>
</div>
</div>
<p>…and you could remove the <code>()</code> from your regexp since you’ve no need for a capture.</p>
</section>
<section id="answer-2-score-160" class="level4">
<h4>Answer 2 (score 160)</h4>
<p>Use <code>test()</code> method :</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb80-1"><a href="#cb80-1"></a>var term = <span class="kw">&quot;</span><span class="st">sample1</span><span class="kw">&quot;</span>;</span>
<span id="cb80-2"><a href="#cb80-2"></a>var re = new RegExp(<span class="kw">&quot;</span><span class="st">^([a-z0-9]{5,})</span><span class="dt">$&quot;</span><span class="st">);</span></span>
<span id="cb80-3"><a href="#cb80-3"></a><span class="st">if (re.test(term)) {</span></span>
<span id="cb80-4"><a href="#cb80-4"></a><span class="st">    console.log(</span><span class="kw">&quot;</span>Valid<span class="kw">&quot;</span><span class="st">);</span></span>
<span id="cb80-5"><a href="#cb80-5"></a><span class="st">} else {</span></span>
<span id="cb80-6"><a href="#cb80-6"></a><span class="st">    console.log(</span><span class="kw">&quot;</span>Invalid<span class="kw">&quot;</span><span class="st">);</span></span>
<span id="cb80-7"><a href="#cb80-7"></a><span class="st">}</span></span></code></pre></div>
</section>
<section id="answer-3-score-83" class="level4">
<h4>Answer 3 (score 83)</h4>
<p>You can use <code>match()</code> as well:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb81-1"><a href="#cb81-1"></a><span class="kw">if</span> (str.match(<span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>)) {</span>
<span id="cb81-2"><a href="#cb81-2"></a>    alert(<span class="kw">&quot;</span><span class="st">match!</span><span class="kw">&quot;</span>);</span>
<span id="cb81-3"><a href="#cb81-3"></a>}</span></code></pre></div>
<p>But <code>test()</code> seems to be faster as you can read <a href="https://stackoverflow.com/a/10940138/1895428">here</a>.</p>
<p><strong>Important difference between <code>match()</code> and <code>test()</code>:</strong></p>
<p><code>match()</code> works only with strings, but <code>test()</code> works also with integers.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb82-1"><a href="#cb82-1"></a><span class="dv">12345</span>.match(<span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>); // ERROR</span>
<span id="cb82-2"><a href="#cb82-2"></a><span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>.test(<span class="dv">12345</span>);  // true</span>
<span id="cb82-3"><a href="#cb82-3"></a><span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>.test(null);   // false</span>
<span id="cb82-4"><a href="#cb82-4"></a></span>
<span id="cb82-5"><a href="#cb82-5"></a>// Better watch out <span class="kw">for</span> undefined <span class="fu">values</span></span>
<span id="cb82-6"><a href="#cb82-6"></a><span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z0-9</span><span class="ch">]{5,})$</span><span class="kw">/</span>.test(undefined); // true</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="python-string.replace-regular-expression-score-696728-in-2019" class="level3">
<h3>16: Python string.replace regular expression (score <a href="https://stackoverflow.com/q/16720541.html">696728</a> in 2019)</h3>
<section id="question-14" class="level4">
<h4>Question</h4>
<p>I have a parameter file of the form:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb83-1"><a href="#cb83-1"></a>parameter-name parameter-value</span></code></pre></div>
<p>Where the parameters may be in any order but there is only one parameter per line. I want to replace one parameter’s <code>parameter-value</code> with a new value.</p>
<p>I am using a line replace function <a href="https://stackoverflow.com/questions/39086/search-and-replace-a-line-in-a-file-in-python">posted previously</a> to replace the line which uses Python’s <a href="http://www.tutorialspoint.com/python/string_replace.htm%20String.Replace" rel="noreferrer"><code>string.replace(pattern, sub)</code></a>. The regular expression that I’m using works for instance in vim but doesn’t appear to work in <code>string.replace()</code>.</p>
<p>Here is the regular expression that I’m using:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb84-1"><a href="#cb84-1"></a>line.replace(<span class="kw">&quot;</span><span class="st">^.*interfaceOpDataFile.*</span><span class="dt">$/</span><span class="st">i</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">interfaceOpDataFile </span><span class="dt">%s</span><span class="kw">&quot;</span> % (fileIn))</span></code></pre></div>
<p>Where <code>"interfaceOpDataFile"</code> is the parameter name that I’m replacing (/i for case-insensitive) and the new parameter value is the contents of the <code>fileIn</code> variable.</p>
<p>Is there a way to get Python to recognize this regular expression or else is there another way to accomplish this task?</p>
</section>
<section id="answer-accepted-score-504" class="level4">
<h4>Answer accepted (score 504)</h4>
<p><code>str.replace()</code> <sup><a href="https://docs.python.org/2/library/stdtypes.html#str.replace" rel="noreferrer">v2</a>|<a href="https://docs.python.org/3/library/stdtypes.html#str.replace" rel="noreferrer">v3</a></sup> does not recognize regular expressions.</p>
<p>To perform a substitution using a regular expression, use <code>re.sub()</code> <sup><a href="https://docs.python.org/2/library/re.html#re.sub" rel="noreferrer">v2</a>|<a href="https://docs.python.org/3/library/re.html#re.sub" rel="noreferrer">v3</a></sup>.</p>
<p>For example:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb85-1"><a href="#cb85-1"></a><span class="fu">import</span> re</span>
<span id="cb85-2"><a href="#cb85-2"></a></span>
<span id="cb85-3"><a href="#cb85-3"></a>line = re.<span class="kw">sub</span>(</span>
<span id="cb85-4"><a href="#cb85-4"></a>           r<span class="kw">&quot;</span><span class="st">(?i)^.*interfaceOpDataFile.*</span><span class="dt">$&quot;</span><span class="st">, </span></span>
<span id="cb85-5"><a href="#cb85-5"></a><span class="st">           </span><span class="kw">&quot;</span>interfaceOpDataFile <span class="dt">%s</span><span class="kw">&quot;</span><span class="st"> % fileIn, </span></span>
<span id="cb85-6"><a href="#cb85-6"></a><span class="st">           line</span></span>
<span id="cb85-7"><a href="#cb85-7"></a><span class="st">       )</span></span></code></pre></div>
<p>In a loop, it would be better to compile the regular expression first:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">import</span> re</span>
<span id="cb86-2"><a href="#cb86-2"></a></span>
<span id="cb86-3"><a href="#cb86-3"></a>regex = re.compile(r<span class="kw">&quot;</span><span class="st">^.*interfaceOpDataFile.*</span><span class="dt">$&quot;</span><span class="st">, re.IGNORECASE)</span></span>
<span id="cb86-4"><a href="#cb86-4"></a><span class="st">for line in some_file:</span></span>
<span id="cb86-5"><a href="#cb86-5"></a><span class="st">    line = regex.sub(</span><span class="kw">&quot;</span>interfaceOpDataFile <span class="dt">%s</span><span class="kw">&quot;</span><span class="st"> % fileIn, line)</span></span>
<span id="cb86-6"><a href="#cb86-6"></a><span class="st">    # do something with the updated line</span></span></code></pre></div>
</section>
<section id="answer-2-score-340" class="level4">
<h4>Answer 2 (score 340)</h4>
<p>You are looking for the <a href="http://docs.python.org/2/library/re.html#re.sub" rel="noreferrer">re.sub</a> function.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb87-1"><a href="#cb87-1"></a><span class="fu">import</span> re</span>
<span id="cb87-2"><a href="#cb87-2"></a><span class="kw">s</span> <span class="kw">=</span><span class="ot"> &quot;Example String&quot;</span></span>
<span id="cb87-3"><a href="#cb87-3"></a><span class="ot">replaced </span><span class="kw">=</span><span class="st"> re.sub(&#39;[ES]&#39;, &#39;a&#39;, s)</span></span>
<span id="cb87-4"><a href="#cb87-4"></a><span class="st">print replaced </span></span></code></pre></div>
<p>will print <code>axample atring</code></p>
</section>
<section id="answer-3-score-14" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>As a summary</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">import</span> sys</span>
<span id="cb88-2"><a href="#cb88-2"></a><span class="fu">import</span> re</span>
<span id="cb88-3"><a href="#cb88-3"></a></span>
<span id="cb88-4"><a href="#cb88-4"></a>f = sys.argv[<span class="dv">1</span>]</span>
<span id="cb88-5"><a href="#cb88-5"></a>find = sys.argv[<span class="dv">2</span>]</span>
<span id="cb88-6"><a href="#cb88-6"></a>replace = sys.argv[<span class="dv">3</span>]</span>
<span id="cb88-7"><a href="#cb88-7"></a>with <span class="fu">open</span> (f, <span class="kw">&quot;</span><span class="st">r</span><span class="kw">&quot;</span>) as myfile:</span>
<span id="cb88-8"><a href="#cb88-8"></a>     s=myfile.<span class="fu">read</span>()</span>
<span id="cb88-9"><a href="#cb88-9"></a>ret = re.<span class="kw">sub</span>(find,replace, s)   <span class="co"># &lt;&lt;&lt; This is where the magic happens</span></span>
<span id="cb88-10"><a href="#cb88-10"></a><span class="fu">print</span> ret</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-that-accepts-only-numbers-0-9-and-no-characters-score-694263-in-2013" class="level3">
<h3>17: Regex that accepts only numbers (0-9) and NO characters (score <a href="https://stackoverflow.com/q/19715303.html">694263</a> in 2013)</h3>
<section id="question-15" class="level4">
<h4>Question</h4>
<p>I need a regex that will accept only digits from 0-9 and nothing else. No letters, no characters.</p>
<p>I thought this would work:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb89-1"><a href="#cb89-1"></a>^[<span class="dv">0-9</span>]</span></code></pre></div>
<p>or even</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb90-1"><a href="#cb90-1"></a>\d+</span></code></pre></div>
<p>but these are accepting the characters : ^,$,(,), etc</p>
<p>I thought that both the regexes above would do the trick and I’m not sure why its accepting those characters.</p>
<p>EDIT:</p>
<p>This is exactly what I am doing:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb91-1"><a href="#cb91-1"></a> private void OnTextChanged(object sender, EventArgs e)</span>
<span id="cb91-2"><a href="#cb91-2"></a>    {</span>
<span id="cb91-3"><a href="#cb91-3"></a></span>
<span id="cb91-4"><a href="#cb91-4"></a>   <span class="kw">if</span> (!System.Text.RegularExpressions.Regex.IsMatch(<span class="kw">&quot;</span><span class="st">^[0-9]</span><span class="kw">&quot;</span>, textbox.Text))</span>
<span id="cb91-5"><a href="#cb91-5"></a>        {</span>
<span id="cb91-6"><a href="#cb91-6"></a>            textbox.Text = string.Empty;</span>
<span id="cb91-7"><a href="#cb91-7"></a>        }</span>
<span id="cb91-8"><a href="#cb91-8"></a>    }</span></code></pre></div>
<p>This is allowing the characters I mentioned above.</p>
</section>
<section id="answer-accepted-score-332" class="level4">
<h4>Answer accepted (score 332)</h4>
<p>Your regex <code>^[0-9]</code> matches anything <em>beginning</em> with a digit, including strings like “1A”. To avoid a partial match, append a <code>$</code> to the end:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb92-1"><a href="#cb92-1"></a>^[<span class="dv">0-9</span>]*$</span></code></pre></div>
<p>This accepts any number of digits, including none. To accept one or more digits, change the <code>*</code> to <code>+</code>. To accept exactly one digit, just remove the <code>*</code>.</p>
<p><strong>UPDATE:</strong> You mixed up the arguments to <code>IsMatch</code>. The pattern should be the second argument, not the first:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb93-1"><a href="#cb93-1"></a><span class="kw">if</span> (!System.Text.RegularExpressions.Regex.IsMatch(textbox.Text, <span class="kw">&quot;</span><span class="st">^[0-9]*</span><span class="dt">$&quot;</span><span class="st">))</span></span></code></pre></div>
<p><strong>CAUTION:</strong> In JavaScript, <code>\d</code> is equivalent to <code>[0-9]</code>, but in .NET, <code>\d</code> by default matches any <a href="http://graphemica.com/categories/decimal-digit-number">Unicode decimal digit</a>, including exotic fare like ႒ (Myanmar 2) and ߉ (N’Ko 9). Unless your app is prepared to deal with these characters, stick with <code>[0-9]</code> (or supply the <a href="https://msdn.microsoft.com/en-us/library/yd1hzczs(v=vs.110).aspx#Anchor_10">RegexOptions.ECMAScript</a> flag).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expressions-is-there-an-and-operator-score-693174-in-2017" class="level3">
<h3>18: Regular Expressions: Is there an AND operator? (score <a href="https://stackoverflow.com/q/469913.html">693174</a> in 2017)</h3>
<section id="question-16" class="level4">
<h4>Question</h4>
<p>Obviously, you can use the <code>|</code> (pipe?) to represent <code>OR</code>, but is there a way to represent <code>AND</code> as well?</p>
<p>Specifically, I’d like to match paragraphs of text that contain ALL of a certain phrase, but in no particular order.</p>
</section>
<section id="answer-2-score-361" class="level4">
<h4>Answer 2 (score 361)</h4>
<p>Use a non-consuming regular expression.</p>
<p>The typical (i.e. Perl/Java) notation is:</p>
<p><code>(?=</code><em>expr</em><code>)</code></p>
<p>This means “match <em>expr</em> but after that continue matching at the original match-point.”</p>
<p>You can do as many of these as you want, and this will be an “and.” Example:</p>
<p><code>(?=match this expression)(?=match this too)(?=oh, and this)</code></p>
<p>You can even add capture groups inside the non-consuming expressions if you need to save some of the data therein.</p>
</section>
<section id="answer-3-score-317" class="level4">
<h4>Answer 3 (score 317)</h4>
<p>You need to use lookahead as some of the other responders have said, but the lookahead has to account for other characters between its target word and the current match position. For example:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb94-1"><a href="#cb94-1"></a>(?=.<span class="dt">*word1</span>)(?=.<span class="dt">*word2</span>)(?=.<span class="dt">*word3</span>)</span></code></pre></div>
<p>The <code>.*</code> in the first lookahead lets it match however many characters it needs to before it gets to “word1”. Then the match position is reset and the second lookahead seeks out “word2”. Reset again, and the final part matches “word3”; since it’s the last word you’re checking for, it isn’t necessary that it be in a lookahead, but it doesn’t hurt.</p>
<p>In order to match a whole paragraph, you need to anchor the regex at both ends and add a final <code>.*</code> to consume the remaining characters. Using Perl-style notation, that would be:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb95-1"><a href="#cb95-1"></a><span class="kw">/</span><span class="ch">^(?=</span><span class="ot">.</span><span class="ch">*</span><span class="ot">word1</span><span class="ch">)(?=</span><span class="ot">.</span><span class="ch">*</span><span class="ot">word2</span><span class="ch">)(?=</span><span class="ot">.</span><span class="ch">*</span><span class="ot">word3</span><span class="ch">)</span><span class="ot">.</span><span class="ch">*$</span><span class="kw">/m</span></span></code></pre></div>
<p>The ‘m’ modifier is for multline mode; it lets the <code>^</code> and <code>$</code> match at paragraph boundaries (“line boundaries” in regex-speak). It’s essential in this case that you <strong>not</strong> use the ‘s’ modifier, which lets the dot metacharacter match newlines as well as all other characters.</p>
<p>Finally, you want to make sure you’re matching whole words and not just fragments of longer words, so you need to add word boundaries:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb96-1"><a href="#cb96-1"></a><span class="kw">/</span><span class="ch">^(?=</span><span class="ot">.</span><span class="ch">*\b</span><span class="ot">word1</span><span class="ch">\b)(?=</span><span class="ot">.</span><span class="ch">*\b</span><span class="ot">word2</span><span class="ch">\b)(?=</span><span class="ot">.</span><span class="ch">*\b</span><span class="ot">word3</span><span class="ch">\b)</span><span class="ot">.</span><span class="ch">*$</span><span class="kw">/m</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-exclude-one-word-with-grep-score-679734-in-2015" class="level3">
<h3>19: How can I exclude one word with grep? (score <a href="https://stackoverflow.com/q/4538253.html">679734</a> in 2015)</h3>
<section id="question-17" class="level4">
<h4>Question</h4>
<p>I need something like:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb97-1"><a href="#cb97-1"></a><span class="fu">grep</span> ^<span class="kw">&quot;</span><span class="st">unwanted_word</span><span class="kw">&quot;</span>XXXXXXXX</span></code></pre></div>
</section>
<section id="answer-accepted-score-730" class="level4">
<h4>Answer accepted (score 730)</h4>
<p>You can also do it using <code>-v</code> (for <code>--invert-match</code>) option of grep as:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb98-1"><a href="#cb98-1"></a><span class="fu">grep</span> -v <span class="kw">&quot;</span><span class="st">unwanted_word</span><span class="kw">&quot;</span> file | <span class="fu">grep</span> XXXXXXXX</span></code></pre></div>
<p><code>grep -v "unwanted_word" file</code> will filter the lines that have the <code>unwanted_word</code> and <code>grep XXXXXXXX</code> will list only lines with pattern <code>XXXXXXXX</code>.</p>
<p><strong>EDIT:</strong></p>
<p>From your comment it looks like you want to list all lines without the <code>unwanted_word</code>. In that case all you need is:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb99-1"><a href="#cb99-1"></a><span class="fu">grep</span> -v <span class="kw">&#39;</span><span class="st">unwanted_word</span><span class="kw">&#39;</span> file</span></code></pre></div>
</section>
<section id="answer-2-score-79" class="level4">
<h4>Answer 2 (score 79)</h4>
<p>I understood the question as “How do I match a word but exclude another”, for which one solution is two greps in series: First grep finding the wanted “word1”, second grep excluding “word2”:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb100-1"><a href="#cb100-1"></a><span class="fu">grep</span> <span class="kw">&quot;</span><span class="st">word1</span><span class="kw">&quot;</span> | <span class="fu">grep</span> -v <span class="kw">&quot;</span><span class="st">word2</span><span class="kw">&quot;</span></span></code></pre></div>
<p>In my case: I need to differentiate between “plot” and “#plot” which grep’s “word” option won’t do (“#” not being a alphanumerical).</p>
<p>Hope this helps.</p>
</section>
<section id="answer-3-score-33-1" class="level4">
<h4>Answer 3 (score 33)</h4>
<p>If your <code>grep</code> supports Perl regular expression with <code>-P</code> option you can do (if bash; if tcsh you’ll need to escape the <code>!</code>):</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">grep</span> -P <span class="kw">&#39;</span><span class="st">(?!.*unwanted_word)keyword</span><span class="kw">&#39;</span> file</span></code></pre></div>
<p>Demo:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb102-1"><a href="#cb102-1"></a>$ cat file</span>
<span id="cb102-2"><a href="#cb102-2"></a>foo1</span>
<span id="cb102-3"><a href="#cb102-3"></a>foo2</span>
<span id="cb102-4"><a href="#cb102-4"></a>foo3</span>
<span id="cb102-5"><a href="#cb102-5"></a>foo4</span>
<span id="cb102-6"><a href="#cb102-6"></a>bar</span>
<span id="cb102-7"><a href="#cb102-7"></a>baz</span></code></pre></div>
<p>Let us now list all <code>foo</code> except <code>foo3</code></p>
<div class="sourceCode" id="cb103"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb103-1"><a href="#cb103-1"></a>$ <span class="fu">grep</span> -P <span class="kw">&#39;</span><span class="st">(?!.*foo3)foo</span><span class="kw">&#39;</span> file</span>
<span id="cb103-2"><a href="#cb103-2"></a>foo1</span>
<span id="cb103-3"><a href="#cb103-3"></a>foo2</span>
<span id="cb103-4"><a href="#cb103-4"></a>foo4</span>
<span id="cb103-5"><a href="#cb103-5"></a>$ </span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="matching-a-space-in-regex-score-675660-in-2015" class="level3">
<h3>20: Matching a space in regex (score <a href="https://stackoverflow.com/q/559363.html">675660</a> in 2015)</h3>
<section id="question-18" class="level4">
<h4>Question</h4>
<p>I need to match a space character in a PHP regular expression. Anyone got any ideas?</p>
<p>I mean like “gavin schulz”, the space in between the two words. I am using a regular expression to make sure that I only allow letters, number and a space. But I’m not sure how to find the space. This is what I have right now:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb104-1"><a href="#cb104-1"></a><span class="dt">$newtag</span> = preg_replace(<span class="kw">&quot;</span><span class="st">/[^a-zA-Z0-9s|]/</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>, <span class="dt">$tag</span>);</span></code></pre></div>
</section>
<section id="answer-accepted-score-339" class="level4">
<h4>Answer accepted (score 339)</h4>
<p>If you’re looking for a space, that would be <code>" "</code> (one space).</p>
<p>If you’re looking for one or more, it’s <code>"  *"</code> (that’s <em>two</em> spaces and an asterisk) or <code>" +"</code> (one space and a plus).</p>
<p>If you’re looking for common spacing, use <code>"[ X]"</code> or <code>"[ X][ X]*"</code> or <code>"[ X]+"</code> where <code>X</code> is the physical tab character (and each is preceded by a single space in all those examples).</p>
<p>These will work in <em>every</em>* regex engine I’ve ever seen (some of which don’t even have the one-or-more <code>"+"</code> character, ugh).</p>
<p>If you know you’ll be using one of the more modern regex engines, <code>"\s"</code> and its variations are the way to go. In addition, I believe word boundaries match start and end of lines as well, important when you’re looking for words that may appear without preceding or following spaces.</p>
<p>For PHP specifically, <a href="http://www.wellho.net/regex/php.html" rel="noreferrer">this page</a> may help.</p>
<p>From your edit, it appears you want to remove all non valid characters The start of this is (note the space inside the regex):</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb105-1"><a href="#cb105-1"></a><span class="dt">$newtag</span> = preg_replace (<span class="kw">&quot;</span><span class="st">/[^a-zA-Z0-9 ]/</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>, <span class="dt">$tag</span>);</span>
<span id="cb105-2"><a href="#cb105-2"></a><span class="co">#                                    ^ space here</span></span></code></pre></div>
<p>If you also want trickery to ensure there’s only one space between each word and none at the start or end, that’s a little more complicated (and probably another question) but the basic idea would be:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb106-1"><a href="#cb106-1"></a><span class="dt">$newtag</span> = preg_replace (<span class="kw">&quot;</span><span class="st">/ +/</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st"> </span><span class="kw">&quot;</span>, <span class="dt">$tag</span>); <span class="co"># convert all multispaces to space</span></span>
<span id="cb106-2"><a href="#cb106-2"></a><span class="dt">$newtag</span> = preg_replace (<span class="kw">&quot;</span><span class="st">/^ /</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>, <span class="dt">$tag</span>);  <span class="co"># remove space from start</span></span>
<span id="cb106-3"><a href="#cb106-3"></a><span class="dt">$newtag</span> = preg_replace (<span class="kw">&quot;</span><span class="st">/ </span><span class="dt">$/</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>, <span class="dt">$tag</span>);  <span class="co"># and end</span></span></code></pre></div>
</section>
<section id="answer-2-score-43" class="level4">
<h4>Answer 2 (score 43)</h4>
<p><code>\040</code> matches exactly the space character.</p>
<p><a href="http://us.php.net/manual/en/regexp.reference.php" rel="noreferrer">Regexp PHP reference</a></p>
<p>
New Link<br> <a href="http://php.net/manual/en/regexp.reference.escape.php" rel="noreferrer">Escape sequences for Regex PHP</a>
</p>
</section>
<section id="answer-3-score-23" class="level4">
<h4>Answer 3 (score 23)</h4>
<p>Here is a everything you need to know about whitespace in regular expressions:</p>
<ul>
<li>
<code>[[:blank:]]</code> Space or tab only
</li>
<li>
<code>[[:space:]]</code> Whitespace
</li>
<li>
<code>\s</code> Any whitespace character
</li>
<li>
<code>\v</code> Vertical whitespace
</li>
<li>
<code>\h</code> Horizontal whitespace
</li>
<li>
<code>x</code> Ignore whitespace
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-use-a-variable-in-a-regular-expression-score-665330-in-2019" class="level3">
<h3>21: How do you use a variable in a regular expression? (score <a href="https://stackoverflow.com/q/494035.html">665330</a> in 2019)</h3>
<section id="question-19" class="level4">
<h4>Question</h4>
<p>I would like to create a <code>String.replaceAll()</code> method in JavaScript and I’m thinking that using a regex would be most terse way to do it. However, I can’t figure out how to pass a variable in to a regex. I can do this already which will replace all the instances of <code>"B"</code> with <code>"A"</code>.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb107-1"><a href="#cb107-1"></a><span class="kw">&quot;</span><span class="st">ABABAB</span><span class="kw">&quot;</span>.replace(<span class="kw">/</span><span class="ot">B</span><span class="kw">/g</span>, <span class="kw">&quot;</span><span class="st">A</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>But I want to do something like this:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb108-1"><a href="#cb108-1"></a>String.<span class="fu">prototype</span>.replaceAll = function(replaceThis, withThis) {</span>
<span id="cb108-2"><a href="#cb108-2"></a>    this.replace(<span class="kw">/</span><span class="ot">replaceThis</span><span class="kw">/g</span>, withThis);</span>
<span id="cb108-3"><a href="#cb108-3"></a>};</span></code></pre></div>
<p>But obviously this will only replace the text <code>"replaceThis"</code>…so how do I pass this variable in to my regex string?</p>
</section>
<section id="answer-accepted-score-1682" class="level4">
<h4>Answer accepted (score 1682)</h4>
<p>Instead of using the <code>/regex/g</code> syntax, you can construct a new <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Regular_Expressions" rel="noreferrer">RegExp</a> object:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb109-1"><a href="#cb109-1"></a>var replace = <span class="kw">&quot;</span><span class="st">regex</span><span class="kw">&quot;</span>;</span>
<span id="cb109-2"><a href="#cb109-2"></a>var re = new RegExp(replace,<span class="kw">&quot;</span><span class="st">g</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>You can dynamically create regex objects this way. Then you will do:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb110-1"><a href="#cb110-1"></a><span class="kw">&quot;</span><span class="st">mystring</span><span class="kw">&quot;</span>.replace(re, <span class="kw">&quot;</span><span class="st">newstring</span><span class="kw">&quot;</span>);</span></code></pre></div>
</section>
<section id="answer-2-score-196" class="level4">
<h4>Answer 2 (score 196)</h4>
<p>As Eric Wendelin mentioned, you can do something like this:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb111-1"><a href="#cb111-1"></a>str1 = <span class="kw">&quot;</span><span class="st">pattern</span><span class="kw">&quot;</span></span>
<span id="cb111-2"><a href="#cb111-2"></a>var re = new RegExp(str1, <span class="kw">&quot;</span><span class="st">g</span><span class="kw">&quot;</span>);</span>
<span id="cb111-3"><a href="#cb111-3"></a><span class="kw">&quot;</span><span class="st">pattern matching .</span><span class="kw">&quot;</span>.replace(re, <span class="kw">&quot;</span><span class="st">regex</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>This yields <code>"regex matching ."</code>. However, it will fail if str1 is <code>"."</code>. You’d expect the result to be <code>"pattern matching regex"</code>, replacing the period with <code>"regex"</code>, but it’ll turn out to be…</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb112-1"><a href="#cb112-1"></a>regexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregexregex</span></code></pre></div>
<p>This is because, although <code>"."</code> is a String, in the RegExp constructor it’s still interpreted as a regular expression, meaning any non-line-break character, meaning every character in the string. For this purpose, the following function may be useful:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb113-1"><a href="#cb113-1"></a> RegExp.quote = function(str) {</span>
<span id="cb113-2"><a href="#cb113-2"></a>     <span class="kw">return</span> str.replace(<span class="kw">/</span><span class="ch">([</span><span class="bn">.?*+</span><span class="ch">^</span><span class="bn">$[\]\\(){}|-</span><span class="ch">])</span><span class="kw">/g</span>, <span class="kw">&quot;</span><span class="st">\\</span><span class="dt">$1</span><span class="kw">&quot;</span>);</span>
<span id="cb113-3"><a href="#cb113-3"></a> };</span></code></pre></div>
<p>Then you can do:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb114-1"><a href="#cb114-1"></a>str1 = <span class="kw">&quot;</span><span class="st">.</span><span class="kw">&quot;</span></span>
<span id="cb114-2"><a href="#cb114-2"></a>var re = new RegExp(RegExp.quote(str1), <span class="kw">&quot;</span><span class="st">g</span><span class="kw">&quot;</span>);</span>
<span id="cb114-3"><a href="#cb114-3"></a><span class="kw">&quot;</span><span class="st">pattern matching .</span><span class="kw">&quot;</span>.replace(re, <span class="kw">&quot;</span><span class="st">regex</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>yielding <code>"pattern matching regex"</code>.</p>
</section>
<section id="answer-3-score-109" class="level4">
<h4>Answer 3 (score 109)</h4>
<blockquote>
<code>"ABABAB".replace(/B/g, "A");</code>
</blockquote>
<p>As always: don’t use regex unless you have to. For a simple string replace, the idiom is:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb115-1"><a href="#cb115-1"></a><span class="kw">&#39;</span><span class="st">ABABAB</span><span class="kw">&#39;</span>.<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">B</span><span class="kw">&#39;</span>).<span class="fu">join</span>(<span class="kw">&#39;</span><span class="st">A</span><span class="kw">&#39;</span>)</span></code></pre></div>
<p>Then you don’t have to worry about the quoting issues mentioned in Gracenotes’s answer.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-a-non-capturing-group-in-regular-expressions-score-647385-in-2019" class="level3">
<h3>22: What is a non-capturing group in regular expressions? (score <a href="https://stackoverflow.com/q/3512471.html">647385</a> in 2019)</h3>
<section id="question-20" class="level4">
<h4>Question</h4>
<p>How are non-capturing groups, i.e. <code>(?:)</code>, used in regular expressions and what are they good for?</p>
</section>
<section id="answer-accepted-score-2154" class="level4">
<h4>Answer accepted (score 2154)</h4>
<p>Let me try to explain this with an example.</p>
<p>Consider the following text:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb116-1"><a href="#cb116-1"></a>http://stackoverflow.com/</span>
<span id="cb116-2"><a href="#cb116-2"></a>https://stackoverflow.com/questions/tagged/regex</span></code></pre></div>
<p>Now, if I apply the regex below over it…</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb117-1"><a href="#cb117-1"></a>(https?|ftp)://([^<span class="kw">/</span><span class="ot">\r</span><span class="bn">\n</span><span class="ot">]</span><span class="ch">+)(</span><span class="kw">/</span>[^\r\n]<span class="kw">*</span>)?</span></code></pre></div>
<p>… I would get the following result:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb118-1"><a href="#cb118-1"></a>Match <span class="kw">&quot;</span><span class="st">http://stackoverflow.com/</span><span class="kw">&quot;</span></span>
<span id="cb118-2"><a href="#cb118-2"></a>     Group <span class="dv">1</span>: <span class="kw">&quot;</span><span class="st">http</span><span class="kw">&quot;</span></span>
<span id="cb118-3"><a href="#cb118-3"></a>     Group <span class="dv">2</span>: <span class="kw">&quot;</span><span class="st">stackoverflow.com</span><span class="kw">&quot;</span></span>
<span id="cb118-4"><a href="#cb118-4"></a>     Group <span class="dv">3</span>: <span class="kw">&quot;</span><span class="st">/</span><span class="kw">&quot;</span></span>
<span id="cb118-5"><a href="#cb118-5"></a></span>
<span id="cb118-6"><a href="#cb118-6"></a>Match <span class="kw">&quot;</span><span class="st">https://stackoverflow.com/questions/tagged/regex</span><span class="kw">&quot;</span></span>
<span id="cb118-7"><a href="#cb118-7"></a>     Group <span class="dv">1</span>: <span class="kw">&quot;</span><span class="st">https</span><span class="kw">&quot;</span></span>
<span id="cb118-8"><a href="#cb118-8"></a>     Group <span class="dv">2</span>: <span class="kw">&quot;</span><span class="st">stackoverflow.com</span><span class="kw">&quot;</span></span>
<span id="cb118-9"><a href="#cb118-9"></a>     Group <span class="dv">3</span>: <span class="kw">&quot;</span><span class="st">/questions/tagged/regex</span><span class="kw">&quot;</span></span></code></pre></div>
<p>But I don’t care about the protocol – I just want the host and path of the URL. So, I change the regex to include the non-capturing group <code>(?:)</code>.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb119-1"><a href="#cb119-1"></a>(?:https?|ftp)://([^<span class="kw">/</span><span class="ot">\r</span><span class="bn">\n</span><span class="ot">]</span><span class="ch">+)(</span><span class="kw">/</span>[^\r\n]<span class="kw">*</span>)?</span></code></pre></div>
<p>Now, my result looks like this:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb120-1"><a href="#cb120-1"></a>Match <span class="kw">&quot;</span><span class="st">http://stackoverflow.com/</span><span class="kw">&quot;</span></span>
<span id="cb120-2"><a href="#cb120-2"></a>     Group <span class="dv">1</span>: <span class="kw">&quot;</span><span class="st">stackoverflow.com</span><span class="kw">&quot;</span></span>
<span id="cb120-3"><a href="#cb120-3"></a>     Group <span class="dv">2</span>: <span class="kw">&quot;</span><span class="st">/</span><span class="kw">&quot;</span></span>
<span id="cb120-4"><a href="#cb120-4"></a></span>
<span id="cb120-5"><a href="#cb120-5"></a>Match <span class="kw">&quot;</span><span class="st">https://stackoverflow.com/questions/tagged/regex</span><span class="kw">&quot;</span></span>
<span id="cb120-6"><a href="#cb120-6"></a>     Group <span class="dv">1</span>: <span class="kw">&quot;</span><span class="st">stackoverflow.com</span><span class="kw">&quot;</span></span>
<span id="cb120-7"><a href="#cb120-7"></a>     Group <span class="dv">2</span>: <span class="kw">&quot;</span><span class="st">/questions/tagged/regex</span><span class="kw">&quot;</span></span></code></pre></div>
<p>See? The first group has not been captured. The parser uses it to match the text, but ignores it later, in the final result.</p>
<hr>
<h5>
EDIT:
</h2>
<p>As requested, let me try to explain groups too.</p>
<p>Well, groups serve many purposes. They can help you to extract exact information from a bigger match (which can also be named), they let you rematch a previous matched group, and can be used for substitutions. Let’s try some examples, shall we?</p>
<p>Ok, imagine you have some kind of XML or HTML (be aware that <a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">regex may not be the best tool for the job</a>, but it is nice as an example). You want to parse the tags, so you could do something like this (I have added spaces to make it easier to understand):</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb121-1"><a href="#cb121-1"></a>   \&lt;(?<span class="kw">&lt;TAG&gt;</span>.+?)\&gt; [^&lt;]<span class="dt">*?</span> \&lt;/\k<span class="kw">&lt;TAG&gt;</span>\&gt;</span>
<span id="cb121-2"><a href="#cb121-2"></a><span class="kw">or</span></span>
<span id="cb121-3"><a href="#cb121-3"></a>   \&lt;(.+?)\&gt; [^&lt;]<span class="dt">*?</span> \&lt;/\<span class="dv">1</span>\&gt;</span></code></pre></div>
<p>The first regex has a named group (TAG), while the second one uses a common group. Both regexes do the same thing: they use the value from the first group (the name of the tag) to match the closing tag. The difference is that the first one uses the name to match the value, and the second one uses the group index (which starts at 1).</p>
<p>Let’s try some substitutions now. Consider the following text:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb122-1"><a href="#cb122-1"></a>Lorem ipsum dolor sit amet consectetuer feugiat fames malesuada pretium egestas.</span></code></pre></div>
<p>Now, let’s use this dumb regex over it:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb123-1"><a href="#cb123-1"></a>\b(\S)(\S)(\S)(\S<span class="kw">*</span>)\b</span></code></pre></div>
<p>This regex matches words with at least 3 characters, and uses groups to separate the first three letters. The result is this:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb124-1"><a href="#cb124-1"></a>Match <span class="kw">&quot;</span><span class="st">Lorem</span><span class="kw">&quot;</span></span>
<span id="cb124-2"><a href="#cb124-2"></a>     Group <span class="dv">1</span>: <span class="kw">&quot;</span><span class="st">L</span><span class="kw">&quot;</span></span>
<span id="cb124-3"><a href="#cb124-3"></a>     Group <span class="dv">2</span>: <span class="kw">&quot;</span><span class="st">o</span><span class="kw">&quot;</span></span>
<span id="cb124-4"><a href="#cb124-4"></a>     Group <span class="dv">3</span>: <span class="kw">&quot;</span><span class="st">r</span><span class="kw">&quot;</span></span>
<span id="cb124-5"><a href="#cb124-5"></a>     Group <span class="dv">4</span>: <span class="kw">&quot;</span><span class="st">em</span><span class="kw">&quot;</span></span>
<span id="cb124-6"><a href="#cb124-6"></a>Match <span class="kw">&quot;</span><span class="st">ipsum</span><span class="kw">&quot;</span></span>
<span id="cb124-7"><a href="#cb124-7"></a>     Group <span class="dv">1</span>: <span class="kw">&quot;</span><span class="st">i</span><span class="kw">&quot;</span></span>
<span id="cb124-8"><a href="#cb124-8"></a>     Group <span class="dv">2</span>: <span class="kw">&quot;</span><span class="st">p</span><span class="kw">&quot;</span></span>
<span id="cb124-9"><a href="#cb124-9"></a>     Group <span class="dv">3</span>: <span class="kw">&quot;</span><span class="st">s</span><span class="kw">&quot;</span></span>
<span id="cb124-10"><a href="#cb124-10"></a>     Group <span class="dv">4</span>: <span class="kw">&quot;</span><span class="st">um</span><span class="kw">&quot;</span></span>
<span id="cb124-11"><a href="#cb124-11"></a>...</span>
<span id="cb124-12"><a href="#cb124-12"></a></span>
<span id="cb124-13"><a href="#cb124-13"></a>Match <span class="kw">&quot;</span><span class="st">consectetuer</span><span class="kw">&quot;</span></span>
<span id="cb124-14"><a href="#cb124-14"></a>     Group <span class="dv">1</span>: <span class="kw">&quot;</span><span class="st">c</span><span class="kw">&quot;</span></span>
<span id="cb124-15"><a href="#cb124-15"></a>     Group <span class="dv">2</span>: <span class="kw">&quot;</span><span class="st">o</span><span class="kw">&quot;</span></span>
<span id="cb124-16"><a href="#cb124-16"></a>     Group <span class="dv">3</span>: <span class="kw">&quot;</span><span class="st">n</span><span class="kw">&quot;</span></span>
<span id="cb124-17"><a href="#cb124-17"></a>     Group <span class="dv">4</span>: <span class="kw">&quot;</span><span class="st">sectetuer</span><span class="kw">&quot;</span></span>
<span id="cb124-18"><a href="#cb124-18"></a>...</span></code></pre></div>
<p>So, if we apply the substitution string:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb125-1"><a href="#cb125-1"></a><span class="dt">$1_$3$2_$4</span></span></code></pre></div>
<p>… over it, we are trying to use the first group, add an underscore, use the third group, then the second group, add another underscore, and then the fourth group. The resulting string would be like the one below.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb126-1"><a href="#cb126-1"></a>L_ro_em i_sp_um d_lo_or s_ti_ a_em_t c_no_sectetuer f_ue_giat f_ma_es m_la_esuada p_er_tium e_eg_stas.</span></code></pre></div>
<p>You can use named groups for substitutions too, using <code>${name}</code>.</p>
<p>To play around with regexes, I recommend <a href="http://regex101.com/" rel="noreferrer">http://regex101.com/</a>, which offers a good amount of details on how the regex works; it also offers a few regex engines to choose from.</p>
</section>
<section id="answer-2-score-161" class="level4">
<h4>Answer 2 (score 161)</h4>
<p>You can use capturing groups to organize and parse an expression. A non-capturing group has the first benefit, but doesn’t have the overhead of the second. You can still say a non-capturing group is optional, for example.</p>
<p>Say you want to match numeric text, but some numbers could be written as 1st, 2nd, 3rd, 4th,… If you want to capture the numeric part, but not the (optional) suffix you can use a non-capturing group.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb127-1"><a href="#cb127-1"></a>([<span class="dv">0-9</span>]+)(?:st|nd|rd|th)?</span></code></pre></div>
<p>That will match numbers in the form 1, 2, 3… or in the form 1st, 2nd, 3rd,… but it will only capture the numeric part.</p>
</section>
<section id="answer-3-score-98" class="level4">
<h4>Answer 3 (score 98)</h4>
<p><code>?:</code> is used when you want to group an expression, but you do not want to save it as a matched/captured portion of the string.</p>
<p>An example would be something to match an IP address:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb128-1"><a href="#cb128-1"></a><span class="kw">/</span><span class="ch">(?:</span><span class="bn">\d</span><span class="ch">{1,3}</span><span class="ot">\.</span><span class="ch">){3}</span><span class="bn">\d</span><span class="ch">{1,3}</span><span class="kw">/</span></span></code></pre></div>
<p>Note that I don’t care about saving the first 3 octets, but the <code>(?:...)</code> grouping allows me to shorten the regex without incurring the overhead of capturing and storing a match.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="using-string-format-to-show-decimal-up-to-2-places-or-simple-integer-score-641202-in-2017" class="level3">
<h3>23: Using String Format to show decimal up to 2 places or simple integer (score <a href="https://stackoverflow.com/q/6951335.html">641202</a> in 2017)</h3>
<section id="question-21" class="level4">
<h4>Question</h4>
<p>
I have got a price field to display which sometimes can be either 100 or 100.99 or 100.9, What I want is to display the price in 2 decimal places only if the decimals are entered for that price , for instance if its 100 so it should only show 100 not 100.00 and if the price is 100.2 it should display 100.20 similarly for 100.22 should be same . I googled and came across some examples but they didn’t match exactly what i wanted :
</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb129-1"><a href="#cb129-1"></a>// just two decimal places</span>
<span id="cb129-2"><a href="#cb129-2"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.00}</span><span class="kw">&quot;</span>, <span class="fl">123.4567</span>);      // <span class="kw">&quot;</span><span class="st">123.46</span><span class="kw">&quot;</span></span>
<span id="cb129-3"><a href="#cb129-3"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.00}</span><span class="kw">&quot;</span>, <span class="fl">123.4</span>);         // <span class="kw">&quot;</span><span class="st">123.40</span><span class="kw">&quot;</span></span>
<span id="cb129-4"><a href="#cb129-4"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.00}</span><span class="kw">&quot;</span>, <span class="fl">123.0</span>);         // <span class="kw">&quot;</span><span class="st">123.00</span><span class="kw">&quot;</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-140" class="level4">
<h4>Answer accepted (score 140)</h4>
<p>An inelegant way would be:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb130-1"><a href="#cb130-1"></a>var <span class="kw">my</span> = DoFormat(<span class="fl">123.0</span>);</span></code></pre></div>
<p>With <code>DoFormat</code> being something like:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb131-1"><a href="#cb131-1"></a>public static string DoFormat( double myNumber )</span>
<span id="cb131-2"><a href="#cb131-2"></a>{</span>
<span id="cb131-3"><a href="#cb131-3"></a>    var <span class="kw">s</span> <span class="kw">=</span><span class="ot"> string.Format</span><span class="ch">(</span><span class="ot">&quot;{0:0.00}&quot;, myNumber</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb131-4"><a href="#cb131-4"></a></span>
<span id="cb131-5"><a href="#cb131-5"></a><span class="ot">    if </span><span class="ch">(</span><span class="ot"> s.EndsWith</span><span class="ch">(</span><span class="ot">&quot;00&quot;</span><span class="ch">)</span><span class="ot"> </span><span class="ch">)</span></span>
<span id="cb131-6"><a href="#cb131-6"></a><span class="ot">    {</span></span>
<span id="cb131-7"><a href="#cb131-7"></a><span class="ot">        return </span><span class="ch">((</span><span class="ot">int</span><span class="ch">)</span><span class="ot">myNumber</span><span class="ch">)</span><span class="ot">.ToString</span><span class="ch">()</span><span class="ot">;</span></span>
<span id="cb131-8"><a href="#cb131-8"></a><span class="ot">    }</span></span>
<span id="cb131-9"><a href="#cb131-9"></a><span class="ot">    else</span></span>
<span id="cb131-10"><a href="#cb131-10"></a><span class="ot">    {</span></span>
<span id="cb131-11"><a href="#cb131-11"></a><span class="ot">        return s;</span></span>
<span id="cb131-12"><a href="#cb131-12"></a><span class="ot">    }</span></span>
<span id="cb131-13"><a href="#cb131-13"></a><span class="ot">}</span></span></code></pre></div>
<p>Not elegant but working for me in similar situations in some projects.</p>
</section>
<section id="answer-2-score-470" class="level4">
<h4>Answer 2 (score 470)</h4>
<p>Sorry for reactivating this question, but I didn’t find the right answer here.</p>
<p>In formatting numbers you can use <code>0</code> as a mandatory place and <code>#</code> as an optional place.</p>
<p><strong>So:</strong></p>
<div class="sourceCode" id="cb132"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb132-1"><a href="#cb132-1"></a>// just two decimal places</span>
<span id="cb132-2"><a href="#cb132-2"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.##}</span><span class="kw">&quot;</span>, <span class="fl">123.4567</span>);      // <span class="kw">&quot;</span><span class="st">123.46</span><span class="kw">&quot;</span></span>
<span id="cb132-3"><a href="#cb132-3"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.##}</span><span class="kw">&quot;</span>, <span class="fl">123.4</span>);         // <span class="kw">&quot;</span><span class="st">123.4</span><span class="kw">&quot;</span></span>
<span id="cb132-4"><a href="#cb132-4"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.##}</span><span class="kw">&quot;</span>, <span class="fl">123.0</span>);         // <span class="kw">&quot;</span><span class="st">123</span><span class="kw">&quot;</span></span></code></pre></div>
<p>You can also combine <code>0</code> with <code>#</code>.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb133-1"><a href="#cb133-1"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.0#}</span><span class="kw">&quot;</span>, <span class="fl">123.4567</span>)       // <span class="kw">&quot;</span><span class="st">123.46</span><span class="kw">&quot;</span></span>
<span id="cb133-2"><a href="#cb133-2"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.0#}</span><span class="kw">&quot;</span>, <span class="fl">123.4</span>)          // <span class="kw">&quot;</span><span class="st">123.4</span><span class="kw">&quot;</span></span>
<span id="cb133-3"><a href="#cb133-3"></a>String.Format(<span class="kw">&quot;</span><span class="st">{0:0.0#}</span><span class="kw">&quot;</span>, <span class="fl">123.0</span>)          // <span class="kw">&quot;</span><span class="st">123.0</span><span class="kw">&quot;</span></span></code></pre></div>
<p>For this formating method is always used <code>CurrentCulture</code>. For some Cultures <code>.</code> will be changed to <code>,</code>.</p>
<h5>
Answer to original question:
</h2>
<p>The simpliest solution comes from <span class="citation" data-cites="Andrew">@Andrew</span> (<a href="https://stackoverflow.com/questions/6951335#33180829">here</a>). So I personally would use something like this:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb134-1"><a href="#cb134-1"></a>var number = <span class="fl">123.46</span>;</span>
<span id="cb134-2"><a href="#cb134-2"></a>String.Format(number % <span class="dv">1</span> == <span class="dv">0</span> ? <span class="kw">&quot;</span><span class="st">{0:0}</span><span class="kw">&quot;</span> : <span class="kw">&quot;</span><span class="st">{0:0.00}</span><span class="kw">&quot;</span>, number)</span></code></pre></div>
</section>
<section id="answer-3-score-56" class="level4">
<h4>Answer 3 (score 56)</h4>
<p>This is a common formatting floating number use case.</p>
<p>
Unfortunately, all of the built-in one-letter format strings (eg. F, G, N) won’t achieve this directly.<br> For example, <code>num.ToString("F2")</code> will always show 2 decimal places like <code>123.40</code>.
</p>
<p>You’ll have to use <strong><code>0.##</code></strong> pattern even it looks a little verbose.</p>
<p>A complete code example:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb135-1"><a href="#cb135-1"></a>double a = <span class="fl">123.4567</span>;</span>
<span id="cb135-2"><a href="#cb135-2"></a>double b = <span class="fl">123.40</span>;</span>
<span id="cb135-3"><a href="#cb135-3"></a>double c = <span class="fl">123.00</span>;</span>
<span id="cb135-4"><a href="#cb135-4"></a></span>
<span id="cb135-5"><a href="#cb135-5"></a>string sa = a.ToString(<span class="kw">&quot;</span><span class="st">0.##</span><span class="kw">&quot;</span>); // <span class="fl">123.46</span></span>
<span id="cb135-6"><a href="#cb135-6"></a>string sb = b.ToString(<span class="kw">&quot;</span><span class="st">0.##</span><span class="kw">&quot;</span>); // <span class="fl">123.4</span></span>
<span id="cb135-7"><a href="#cb135-7"></a>string sc = c.ToString(<span class="kw">&quot;</span><span class="st">0.##</span><span class="kw">&quot;</span>); // <span class="dv">123</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-match-all-characters-between-two-strings-score-638223-in-2016" class="level3">
<h3>24: Regex Match all characters between two strings (score <a href="https://stackoverflow.com/q/6109882.html">638223</a> in 2016)</h3>
<section id="question-22" class="level4">
<h4>Question</h4>
<p>
Example: “This is justsimple sentence”.
</p>
<p>I want to match every character between “This is” and “sentence”. Line breaks should be ignored. I can’t figure out the correct syntax.</p>
</section>
<section id="answer-accepted-score-541" class="level4">
<h4>Answer accepted (score 541)</h4>
<p>For example</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb136-1"><a href="#cb136-1"></a>(?&lt;=This is)(.<span class="kw">*</span>)(?=sentence)</span></code></pre></div>
<p><a href="http://regexr.com?2tr28" rel="noreferrer">Regexr</a></p>
<p>I used lookbehind <code>(?&amp;lt;=)</code> and look ahead <code>(?=)</code> so that “This is” and “sentence” is not included in the match, but this is up to your use case, you can also simply write <code>This is(.*)sentence</code>.</p>
<p>The important thing here is that you activate the “dotall” mode of your regex engine, so that the <code>.</code> is matching the newline. But how you do this depends on your regex engine.</p>
<p>The next thing is if you use <code>.*</code> or <code>.*?</code>. The first one is greedy and will match till the last “sentence” in your string, the second one is lazy and will match till the next “sentence” in your string.</p>
<p><strong>Update</strong></p>
<p><a href="http://gskinner.com/RegExr/?2tr2n" rel="noreferrer">Regexr</a></p>
<div class="sourceCode" id="cb137"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb137-1"><a href="#cb137-1"></a>This is(?s)(.<span class="kw">*</span>)sentence</span></code></pre></div>
<p>Where the (?s) turns on the dotall modifier, making the <code>.</code> matching the newline characters.</p>
<p><strong>Update 2:</strong></p>
<div class="sourceCode" id="cb138"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb138-1"><a href="#cb138-1"></a>(?&lt;=is \()(.<span class="dt">*?</span>)(?=\<span class="kw">s*</span><span class="ot">\)</span><span class="ch">)</span></span></code></pre></div>
<p>is matching your example “This is (a simple) sentence”. See here on <a href="http://regexr.com?2tr5t" rel="noreferrer">Regexr</a></p>
</section>
<section id="answer-2-score-159" class="level4">
<h4>Answer 2 (score 159)</h4>
<h5>
Lazy Quantifier Needed
</h2>
<p>Resurrecting this question because the regex in the accepted answer doesn’t seem quite correct to me. Why? Because</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb139-1"><a href="#cb139-1"></a>(?&lt;=This is)(.<span class="kw">*</span>)(?=sentence)</span></code></pre></div>
<p>will match <code>my first sentence. This is my second</code> in <code>This is my first sentence. This is my second sentence.</code></p>
<p><a href="http://regex101.com/r/eZ1gT7/6"><strong>See demo</strong></a>.</p>
<p>You need a lazy quantifier between the two lookarounds. Adding a <code>?</code> makes the star lazy.</p>
<p>This matches what you want:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb140-1"><a href="#cb140-1"></a>(?&lt;=This is).<span class="dt">*?</span>(?=sentence)</span></code></pre></div>
<p><a href="http://regex101.com/r/eZ1gT7/5">See demo</a>. I removed the capture group, which was not needed.</p>
<p><strong>DOTALL Mode to Match Across Line Breaks</strong></p>
<p>Note that in the demo the “dot matches line breaks mode” (a.k.a.) dot-all is set (see <a href="http://www.rexegg.com/regex-modifiers.html#dotall">how to turn on DOTALL in various languages</a>). In many regex flavors, you can set it with the online modifier <code>(?s)</code>, turning the expression into:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb141-1"><a href="#cb141-1"></a>(?s)(?&lt;=This is).<span class="dt">*?</span>(?=sentence)</span></code></pre></div>
<hr>
<p><strong>Reference</strong></p>
<ul>
<li>
<a href="http://www.rexegg.com/regex-greed.html">The Many Degrees of Regex Greed</a>
</li>
<li>
<a href="http://www.regular-expressions.info/repeat.html">Repetition with Star and Plus</a>
</li>
</ul>
</section>
<section id="answer-3-score-37-1" class="level4">
<h4>Answer 3 (score 37)</h4>
<p>Try <code>This is[\s\S]*sentence</code>, works in javascript</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-check-whether-a-string-contains-only-numbers-score-633360-in-2018" class="level3">
<h3>25: Regex to check whether a string contains only numbers (score <a href="https://stackoverflow.com/q/9011524.html">633360</a> in 2018)</h3>
<section id="question-23" class="level4">
<h4>Question</h4>
<div class="sourceCode" id="cb142"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb142-1"><a href="#cb142-1"></a>hash = window.location.hash.<span class="fu">substr</span>(<span class="dv">1</span>);</span>
<span id="cb142-2"><a href="#cb142-2"></a>var reg = new RegExp(<span class="kw">&#39;</span><span class="st">^[0-9]$</span><span class="kw">&#39;</span>);</span>
<span id="cb142-3"><a href="#cb142-3"></a>console.<span class="fu">log</span>(reg.test(hash));</span></code></pre></div>
<p>I get false on both <code>"123"</code> and <code>"123f"</code>. I would like to check if the hash only contains numbers. Did I miss something?</p>
</section>
<section id="answer-accepted-score-452" class="level4">
<h4>Answer accepted (score 452)</h4>
<div class="sourceCode" id="cb143"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb143-1"><a href="#cb143-1"></a>var reg = <span class="kw">/</span><span class="ch">^</span><span class="bn">\d</span><span class="ch">+$</span><span class="kw">/</span>;</span></code></pre></div>
<p>should do it. The original matches anything that consists of exactly one digit.</p>
</section>
<section id="answer-2-score-92" class="level4">
<h4>Answer 2 (score 92)</h4>
<p>As you said, you want hash to contain only numbers.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb144-1"><a href="#cb144-1"></a>var reg = new RegExp(<span class="kw">&#39;</span><span class="st">^[0-9]+$</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb145-1"><a href="#cb145-1"></a>var reg = new RegExp(<span class="kw">&#39;</span><span class="st">^</span><span class="ch">\\</span><span class="st">d+$</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>
<code>\d</code> and <code>[0-9]</code> both mean the same thing. The + used means that search for one or more occurring of [0-9].
</p>
</section>
<section id="answer-3-score-64" class="level4">
<h4>Answer 3 (score 64)</h4>
<p>This one will allow also for signed and float numbers or empty string:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb146-1"><a href="#cb146-1"></a>var reg = <span class="kw">/</span><span class="ch">^</span><span class="ot">-</span><span class="ch">?</span><span class="bn">\d</span><span class="ch">*</span><span class="ot">\.</span><span class="ch">?</span><span class="bn">\d</span><span class="ch">*$</span><span class="kw">/</span></span></code></pre></div>
<p>If you don’t want allow to empty string use this one:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb147-1"><a href="#cb147-1"></a>var reg = <span class="kw">/</span><span class="ch">^</span><span class="ot">-</span><span class="ch">?</span><span class="bn">\d</span><span class="ch">+</span><span class="ot">\.</span><span class="ch">?</span><span class="bn">\d</span><span class="ch">*$</span><span class="kw">/</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-negate-specific-word-in-regex-score-626264-in-2016" class="level3">
<h3>26: How to negate specific word in regex? (score <a href="https://stackoverflow.com/q/1240275.html">626264</a> in 2016)</h3>
<section id="question-24" class="level4">
<h4>Question</h4>
<p>I know that I can negate group of chars as in <code>[^bar]</code> but I need a regular expression where negation applies to the specific word - so in my example how do I negate an actual <code>"bar"</code> and not <code>"any chars in bar"</code>?</p>
</section>
<section id="answer-accepted-score-641" class="level4">
<h4>Answer accepted (score 641)</h4>
<p>A great way to do this is to use <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">negative lookahead</a>:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb148-1"><a href="#cb148-1"></a>^(?!.<span class="dt">*bar</span>).*$</span></code></pre></div>
<blockquote>
The negative lookahead construct is the pair of parentheses, with the opening parenthesis followed by a question mark and an exclamation point. Inside the lookahead [is any regex pattern].
</blockquote>
</section>
<section id="answer-2-score-60" class="level4">
<h4>Answer 2 (score 60)</h4>
<p>Unless performance is of utmost concern, it’s often easier just to run your results through a second pass, skipping those that match the words you want to negate.</p>
<p>Regular expressions usually mean you’re doing scripting or some sort of low-performance task anyway, so find a solution that is easy to read, easy to understand and easy to maintain.</p>
</section>
<section id="answer-3-score-44" class="level4">
<h4>Answer 3 (score 44)</h4>
<p>The following regex will do what you want (as long as negative lookbehinds and lookaheads are supported), matching things properly; the only problem is that it matches individual characters (i.e. each match is a single character rather than all characters between two consecutive “bar”s), possibly resulting in a potential for high overhead if you’re working with very long strings.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb149-1"><a href="#cb149-1"></a>b(?!ar)|(?&lt;!b)a|a(?!r)|(?&lt;!ba)r|[^bar]</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-match-only-letters-score-623756-in-2018" class="level3">
<h3>27: Regex to match only letters (score <a href="https://stackoverflow.com/q/3617797.html">623756</a> in 2018)</h3>
<section id="question-25" class="level4">
<h4>Question</h4>
<p>How can I write a regex that matches only letters?</p>
</section>
<section id="answer-2-score-357" class="level4">
<h4>Answer 2 (score 357)</h4>
<p>Use a character set: <code>[a-zA-Z]</code> matches one letter from A–Z in lowercase and uppercase. <code>[a-zA-Z]+</code> matches one or more letters and <code>^[a-zA-Z]+$</code> matches only strings that consist of one or more letters only (<code>^</code> and <code>$</code> mark the begin and end of a string respectively).</p>
<p>If you want to match other letters than A–Z, you can either add them to the character set: <code>[a-zA-ZäöüßÄÖÜ]</code>. Or you use predefined character classes like the <a href="http://www.regular-expressions.info/unicode.html#prop" rel="noreferrer">Unicode character property</a> class <code>\p{L}</code> that describes the Unicode characters that are letters.</p>
</section>
<section id="answer-3-score-177" class="level4">
<h4>Answer 3 (score 177)</h4>
<p><code>\p{L}</code> matches anything that is a Unicode letter if you’re interested in alphabets beyond the Latin one</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="split-string-on-whitespace-in-python-score-603894-in-2015" class="level3">
<h3>28: Split string on whitespace in Python (score <a href="https://stackoverflow.com/q/8113782.html">603894</a> in 2015)</h3>
<section id="question-26" class="level4">
<h4>Question</h4>
<p>I’m looking for the Python equivalent of</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb150-1"><a href="#cb150-1"></a>String str = <span class="kw">&quot;</span><span class="st">many   fancy word </span><span class="ch">\n</span><span class="st">hello    </span><span class="ch">\t</span><span class="st">hi</span><span class="kw">&quot;</span>;</span>
<span id="cb150-2"><a href="#cb150-2"></a>String whiteSpaceRegex = <span class="kw">&quot;</span><span class="st">\\s</span><span class="kw">&quot;</span>;</span>
<span id="cb150-3"><a href="#cb150-3"></a>String[] words = str.<span class="fu">split</span>(whiteSpaceRegex);</span>
<span id="cb150-4"><a href="#cb150-4"></a></span>
<span id="cb150-5"><a href="#cb150-5"></a>[<span class="kw">&quot;</span><span class="st">many</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">fancy</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">word</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">hello</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">hi</span><span class="kw">&quot;</span>]</span></code></pre></div>
</section>
<section id="answer-accepted-score-745" class="level4">
<h4>Answer accepted (score 745)</h4>
<p>The <code>str.split()</code> method without an argument splits on whitespace:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb151-1"><a href="#cb151-1"></a>&gt;&gt;&gt; <span class="kw">&quot;</span><span class="st">many   fancy word </span><span class="ch">\n</span><span class="st">hello    </span><span class="ch">\t</span><span class="st">hi</span><span class="kw">&quot;</span>.<span class="fu">split</span>()</span>
<span id="cb151-2"><a href="#cb151-2"></a>[<span class="kw">&#39;</span><span class="st">many</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">fancy</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">word</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">hello</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">hi</span><span class="kw">&#39;</span>]</span></code></pre></div>
</section>
<section id="answer-2-score-63" class="level4">
<h4>Answer 2 (score 63)</h4>
<div class="sourceCode" id="cb152"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb152-1"><a href="#cb152-1"></a><span class="fu">import</span> re</span>
<span id="cb152-2"><a href="#cb152-2"></a><span class="kw">s</span> <span class="kw">=</span><span class="ot"> &quot;many   fancy word </span><span class="bn">\n</span><span class="ot">hello    \thi&quot;</span></span>
<span id="cb152-3"><a href="#cb152-3"></a><span class="ot">re.split</span><span class="ch">(</span><span class="ot">&#39;</span><span class="bn">\s</span><span class="ch">+</span><span class="ot">&#39;, s</span><span class="ch">)</span></span></code></pre></div>
</section>
<section id="answer-3-score-14-1" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>Another method through <code>re</code> module. It does the reverse operation of matching all the words instead of spitting the whole sentence by space.</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb153-1"><a href="#cb153-1"></a>&gt;&gt;&gt; <span class="fu">import</span> re</span>
<span id="cb153-2"><a href="#cb153-2"></a>&gt;&gt;&gt; <span class="kw">s</span> <span class="kw">=</span><span class="ot"> &quot;many   fancy word </span><span class="bn">\n</span><span class="ot">hello    \thi&quot;</span></span>
<span id="cb153-3"><a href="#cb153-3"></a><span class="ot">&gt;&gt;&gt; re.findall</span><span class="ch">(</span><span class="ot">r&#39;</span><span class="bn">\S</span><span class="ch">+</span><span class="ot">&#39;, s</span><span class="ch">)</span></span>
<span id="cb153-4"><a href="#cb153-4"></a><span class="ch">[</span><span class="bn">&#39;many&#39;, &#39;fancy&#39;, &#39;word&#39;, &#39;hello&#39;, &#39;hi&#39;</span><span class="ch">]</span></span></code></pre></div>
<p>Above regex would match one or more non-space characters.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="simple-regular-expression-for-a-decimal-with-a-precision-of-2-score-593074-in-2012" class="level3">
<h3>29: Simple regular expression for a decimal with a precision of 2 (score <a href="https://stackoverflow.com/q/308122.html">593074</a> in 2012)</h3>
<section id="question-27" class="level4">
<h4>Question</h4>
<p>What is the regular expression for a decimal with a precision of 2?</p>
<p><em>Valid examples</em>:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb154-1"><a href="#cb154-1"></a><span class="fl">123.12</span></span>
<span id="cb154-2"><a href="#cb154-2"></a><span class="dv">2</span></span>
<span id="cb154-3"><a href="#cb154-3"></a><span class="dv">56754</span></span>
<span id="cb154-4"><a href="#cb154-4"></a><span class="fl">92929292929292.12</span></span>
<span id="cb154-5"><a href="#cb154-5"></a><span class="fl">0.21</span></span>
<span id="cb154-6"><a href="#cb154-6"></a><span class="fl">3.1</span></span></code></pre></div>
<p><em>Invalid examples:</em></p>
<div class="sourceCode" id="cb155"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb155-1"><a href="#cb155-1"></a><span class="fl">12.1232</span></span>
<span id="cb155-2"><a href="#cb155-2"></a><span class="fl">2.23332</span></span>
<span id="cb155-3"><a href="#cb155-3"></a>e666.<span class="dv">76</span></span></code></pre></div>
<p>The decimal point may be optional, and integers may also be included.</p>
</section>
<section id="answer-accepted-score-376" class="level4">
<h4>Answer accepted (score 376)</h4>
<p>Valid regex tokens vary by implementation. The most generic form that I know of would be:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb156-1"><a href="#cb156-1"></a>[<span class="dv">0-9</span>]+(\.[<span class="dv">0-9</span>][<span class="dv">0-9</span>]?)?</span></code></pre></div>
<p>The most compact:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb157-1"><a href="#cb157-1"></a>\d+(\.\d{<span class="dv">1</span>,<span class="dv">2</span>})?</span></code></pre></div>
<p>Both assume that you must have both at least one digit before and one after the decimal place.</p>
<p>To require that the whole string is a number of this form, wrap the expression in start and end tags such as (in Perl’s form):</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb158-1"><a href="#cb158-1"></a>^\d+(\.\d{<span class="dv">1</span>,<span class="dv">2</span>})?$</span></code></pre></div>
<p><strong>ADDED:</strong> Wrapped the fractional portion in ()? to make it optional. Be aware that this excludes forms such as “12.” Including that would be more like <code>^\d+\.?\d{0,2}$</code>.</p>
<p>
<strong>Added:</strong> Use this format <code>^\d{1,6}(\.\d{1,2})?$</code> to stop repetition and give a restriction to whole part of the decimal value.
</p>
</section>
<section id="answer-2-score-262" class="level4">
<h4>Answer 2 (score 262)</h4>
<div class="sourceCode" id="cb159"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb159-1"><a href="#cb159-1"></a>^[<span class="dv">0-9</span>]+(\.[<span class="dv">0-9</span>]{<span class="dv">1</span>,<span class="dv">2</span>})?$</span></code></pre></div>
<p>And since regular expressions are horrible to read, much less understand, here is the verbose equivalent:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb160-1"><a href="#cb160-1"></a>^                         <span class="co"># Start of string</span></span>
<span id="cb160-2"><a href="#cb160-2"></a> [<span class="dv">0-9</span>]+                   <span class="co"># Require one or more numbers</span></span>
<span id="cb160-3"><a href="#cb160-3"></a>       (                  <span class="co"># Begin optional group</span></span>
<span id="cb160-4"><a href="#cb160-4"></a>        \.                <span class="co"># Point must be escaped or it is treated as &quot;any character&quot;</span></span>
<span id="cb160-5"><a href="#cb160-5"></a>          [<span class="dv">0-9</span>]{<span class="dv">1</span>,<span class="dv">2</span>}      <span class="co"># One or two numbers</span></span>
<span id="cb160-6"><a href="#cb160-6"></a>                    )?    <span class="co"># End group--signify that it&#39;s optional with &quot;?&quot;</span></span>
<span id="cb160-7"><a href="#cb160-7"></a>                      $   <span class="co"># End of string</span></span></code></pre></div>
<p>You can replace <code>[0-9]</code> with <code>\d</code> in most regular expression implementations (including <a href="http://en.wikipedia.org/wiki/Perl_Compatible_Regular_Expressions" rel="noreferrer">PCRE</a>, the most common). I’ve left it as <code>[0-9]</code> as I think it’s easier to read.</p>
<p>Also, here is the simple Python script I used to check it:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb161-1"><a href="#cb161-1"></a><span class="fu">import</span> re</span>
<span id="cb161-2"><a href="#cb161-2"></a>deci_num_checker = re.compile(r<span class="kw">&quot;&quot;&quot;</span><span class="st">^[0-9]+(\.[0-9]{1,2})?</span><span class="dt">$&quot;</span><span class="kw">&quot;&quot;</span><span class="st">)</span></span>
<span id="cb161-3"><a href="#cb161-3"></a></span>
<span id="cb161-4"><a href="#cb161-4"></a><span class="st">valid = [</span><span class="kw">&quot;</span><span class="fl">123.12</span><span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="dv">2</span><span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="dv">56754</span><span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="fl">92929292929292.12</span><span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="fl">0.21</span><span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="fl">3.1</span><span class="kw">&quot;</span><span class="st">]</span></span>
<span id="cb161-5"><a href="#cb161-5"></a><span class="st">invalid = [</span><span class="kw">&quot;</span><span class="fl">12.1232</span><span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span><span class="fl">2.23332</span><span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span>e666.<span class="dv">76</span><span class="kw">&quot;</span><span class="st">]</span></span>
<span id="cb161-6"><a href="#cb161-6"></a></span>
<span id="cb161-7"><a href="#cb161-7"></a><span class="st">assert len([deci_num_checker.match(x) != None for x in valid]) == len(valid)</span></span>
<span id="cb161-8"><a href="#cb161-8"></a><span class="st">assert [deci_num_checker.match(x) == None for x in invalid].count(False) == 0</span></span></code></pre></div>
</section>
<section id="answer-3-score-20" class="level4">
<h4>Answer 3 (score 20)</h4>
<p>To include an optional minus sign and to disallow numbers like <code>015</code> (which can be mistaken for octal numbers) write:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb162-1"><a href="#cb162-1"></a>-?(<span class="dv">0</span>|([<span class="dv">1-9</span>]\d<span class="kw">*</span>))(\.\d+)?</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-is-the-andor-operator-represented-as-in-regular-expressions-score-590059-in-2019" class="level3">
<h3>30: How is the AND/OR operator represented as in Regular Expressions? (score <a href="https://stackoverflow.com/q/8020848.html">590059</a> in 2019)</h3>
<section id="question-28" class="level4">
<h4>Question</h4>
<p>
I’m currently programming a vocabulary algorithm that checks if a user has typed in the word correctly. I have the following situation: The correct solution for the word would be “part1, part2”. The user should be able to enter either “part1” (answer 1), “part2” (answer 2) or “part1, part2” (answer 3). I now try to match the string given by the user with the following, automatically created, regex expression:
</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb163-1"><a href="#cb163-1"></a>^(part1|part2)$</span></code></pre></div>
<p>This only returns answer 1 and 2 as correct while answer 3 would be wrong. I’m now wondering whether there’s an operator similar to | that says <code>and/or</code> instead of <code>either...or</code>.</p>
<p>May anyone help me solve this problem?</p>
</section>
<section id="answer-accepted-score-260" class="level4">
<h4>Answer accepted (score 260)</h4>
<p>I’m going to assume you want to build a the regex dynamically to contain other words than part1 and part2, and that you want order not to matter. If so you can use something like this:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb164-1"><a href="#cb164-1"></a>((^|, )(part1|part2|part3))+$</span></code></pre></div>
<p>Positive matches:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb165-1"><a href="#cb165-1"></a>part1</span>
<span id="cb165-2"><a href="#cb165-2"></a>part2, part1</span>
<span id="cb165-3"><a href="#cb165-3"></a>part1, part2, part3</span></code></pre></div>
<p>Negative matches:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb166-1"><a href="#cb166-1"></a>part1,           //with <span class="kw">and</span> without trailing spaces.</span>
<span id="cb166-2"><a href="#cb166-2"></a>part3, part2, </span>
<span id="cb166-3"><a href="#cb166-3"></a>otherpart1</span></code></pre></div>
</section>
<section id="answer-2-score-25" class="level4">
<h4>Answer 2 (score 25)</h4>
<div class="sourceCode" id="cb167"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb167-1"><a href="#cb167-1"></a><span class="kw">&#39;</span><span class="st">^(part1|part2|part1,part2)$</span><span class="kw">&#39;</span></span></code></pre></div>
<p>does it work?</p>
</section>
<section id="answer-3-score-5" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>Does this work without alternation?</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb168-1"><a href="#cb168-1"></a>^((part)<span class="dv">1</span>(, \<span class="dv">22</span>)?)?(part2)?$</span></code></pre></div>
<p>or why not this?</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb169-1"><a href="#cb169-1"></a>^((part)<span class="dv">1</span>(, (\<span class="dv">22</span>))?)?(\<span class="dv">4</span>)?$</span></code></pre></div>
<p>The first works for all conditions the second for all but <code>part2</code>(using GNU sed 4.1.5)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-match-anything-up-until-this-sequence-of-characters-in-a-regular-expression-score-570881-in" class="level3">
<h3>31: How to match “anything up until this sequence of characters” in a regular expression? (score <a href="https://stackoverflow.com/q/7124778.html">570881</a> in )</h3>
<section id="question-29" class="level4">
<h4>Question</h4>
<p>Take this regular expression: <code>/^[^abc]/</code>. This will match any single character at the beginning of a string, except a, b, or c. </p>
<p>If you add a <code>*</code> after it – <code>/^[^abc]*/</code> – the regular expression will continue to add each subsequent character to the result, until it meets either an <code>a</code>, <strong>or</strong> <code>b</code>, <strong>or</strong> <code>c</code>.</p>
<p>For example, with the source string <code>"qwerty qwerty whatever abc hello"</code>, the expression will match up to <code>"qwerty qwerty wh"</code>.</p>
<p>But what if I wanted the matching string to be <code>"qwerty qwerty whatever "</code></p>
<p>…In other words, how can I match everything up to (but not including) the <em>exact sequence</em> <code>"abc"</code>?</p>
</section>
<section id="answer-accepted-score-884" class="level4">
<h4>Answer accepted (score 884)</h4>
<p>
You didn’t specify which flavor of regex you’re using, but this will work in any of the most popular ones that can be considered “complete”.
</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb170-1"><a href="#cb170-1"></a><span class="kw">/</span><span class="ot">.</span><span class="ch">+?(?=</span><span class="ot">abc</span><span class="ch">)</span><span class="kw">/</span></span></code></pre></div>
<h5>
How it works
</h3>
<p>
The <code>.+?</code> part is the un-greedy version of <code>.+</code> (one or more of anything). When we use <code>.+</code>, the engine will basically match everything. Then, if there is something else in the regex it will go back in steps trying to match the following part. This is the <strong>greedy</strong> behavior, meaning <strong>as much as possible to satisfy</strong>.
</p>
<p>
When using <code>.+?</code>, instead of matching all at once and going back for other conditions (if any), the engine will match the next characters by step until the subsequent part of the regex is matched (again if any). This is the <strong>un-greedy</strong>, meaning match <strong>the fewest possible to satisfy</strong>.
</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb171-1"><a href="#cb171-1"></a><span class="kw">/</span><span class="ot">.</span><span class="ch">+</span><span class="ot">X</span><span class="kw">/</span>  ~ <span class="kw">&quot;</span><span class="st">abcXabcXabcX</span><span class="kw">&quot;</span>        <span class="kw">/</span><span class="ot">.</span><span class="ch">+</span><span class="kw">/</span>  ~ <span class="kw">&quot;</span><span class="st">abcXabcXabcX</span><span class="kw">&quot;</span></span>
<span id="cb171-2"><a href="#cb171-2"></a>          ^^^^^^^^^^^^                  ^^^^^^^^^^^^</span>
<span id="cb171-3"><a href="#cb171-3"></a></span>
<span id="cb171-4"><a href="#cb171-4"></a><span class="kw">/</span><span class="ot">.</span><span class="ch">+?</span><span class="ot">X</span><span class="kw">/</span> ~ <span class="kw">&quot;</span><span class="st">abcXabcXabcX</span><span class="kw">&quot;</span>        <span class="kw">/</span><span class="ot">.</span><span class="ch">+?</span><span class="kw">/</span> ~ <span class="kw">&quot;</span><span class="st">abcXabcXabcX</span><span class="kw">&quot;</span></span>
<span id="cb171-5"><a href="#cb171-5"></a>          ^^^^                          ^</span></code></pre></div>
<p>
Following that we have <code>(?=</code><strong><code>{contents}</code></strong><code>)</code>, a <em>zero width assertion</em>, a <em>look around</em>. This grouped construction matches its contents, but does not count as characters matched (<strong>zero width</strong>). It only returns if it is a match or not (<strong>assertion</strong>).
</p>
<p>Thus, in other terms the regex <code>/.+?(?=abc)/</code> means:</p>
<blockquote>
<p>
Match any characters as few as possible until a “abc” is found, without counting the “abc”.
</p>
</blockquote>
</section>
<section id="answer-2-score-104" class="level4">
<h4>Answer 2 (score 104)</h4>
<p>If you’re looking to capture everything up to “abc”:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb172-1"><a href="#cb172-1"></a><span class="kw">/</span><span class="ch">^(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot">abc</span><span class="kw">/</span></span></code></pre></div>
<p>Explanation:</p>
<p><code>( )</code> capture the expression inside the parentheses for access using <code>$1</code>, <code>$2</code>, etc.</p>
<p><code>^</code> match start of line</p>
<p><code>.*</code> match anything, <code>?</code> non-greedily (match the minimum number of characters required) - [1]</p>
<p>[1] The reason why this is needed is that otherwise, in the following string:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb173-1"><a href="#cb173-1"></a>whatever whatever something abc something abc</span></code></pre></div>
<p>by default, regexes are <em>greedy</em>, meaning it will match as much as possible. Therefore <code>/^.*abc/</code> would match “whatever whatever something abc something”. Adding the non-greedy quantifier <code>?</code> makes the regex only match “whatever whatever something”.</p>
</section>
<section id="answer-3-score-38" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>As <span class="citation" data-cites="Jared">@Jared</span> Ng and <span class="citation" data-cites="Issun">@Issun</span> pointed out, the key to solve this kind of RegEx like “matching everything up to a certain word or substring” or “matching everything after a certain word or substring” is called “lookaround” zero-length assertions. <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">Read more about them here.</a></p>
<p>In your particular case, it can be solved by a positive look ahead. A picture is worth a thousand words. See the detail explanation in the screenshot.</p>
<p><a href="https://i.stack.imgur.com/cxm8d.png" rel="noreferrer"><img src="https://i.stack.imgur.com/cxm8d.png" alt="Regex101 Screenshot"></a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-extract-a-substring-using-regex-score-570678-in-2014" class="level3">
<h3>32: How to extract a substring using regex (score <a href="https://stackoverflow.com/q/4662215.html">570678</a> in 2014)</h3>
<section id="question-30" class="level4">
<h4>Question</h4>
<p>I have a string that has two single quotes in it, the <code>'</code> character. In between the single quotes is the data I want.</p>
<p>How can I write a regex to extract “the data i want” from the following text?</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb174-1"><a href="#cb174-1"></a>mydata = <span class="kw">&quot;</span><span class="st">some string with &#39;the data i want&#39; inside</span><span class="kw">&quot;</span>;</span></code></pre></div>
</section>
<section id="answer-accepted-score-511-1" class="level4">
<h4>Answer accepted (score 511)</h4>
<p>Assuming you want the part between single quotes, use this regular expression with a <a href="http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html" rel="noreferrer"><code>Matcher</code></a>:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb175-1"><a href="#cb175-1"></a><span class="kw">&quot;</span><span class="st">&#39;(.*?)&#39;</span><span class="kw">&quot;</span></span></code></pre></div>
<p>Example:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb176-1"><a href="#cb176-1"></a>String mydata = <span class="kw">&quot;</span><span class="st">some string with &#39;the data i want&#39; inside</span><span class="kw">&quot;</span>;</span>
<span id="cb176-2"><a href="#cb176-2"></a>Pattern pattern = Pattern.compile(<span class="kw">&quot;</span><span class="st">&#39;(.*?)&#39;</span><span class="kw">&quot;</span>);</span>
<span id="cb176-3"><a href="#cb176-3"></a>Matcher matcher = pattern.matcher(mydata);</span>
<span id="cb176-4"><a href="#cb176-4"></a><span class="kw">if</span> (matcher.find())</span>
<span id="cb176-5"><a href="#cb176-5"></a>{</span>
<span id="cb176-6"><a href="#cb176-6"></a>    System.out.println(matcher.group(<span class="dv">1</span>));</span>
<span id="cb176-7"><a href="#cb176-7"></a>}</span></code></pre></div>
<p>Result:</p>
<pre>
the data i want
</pre>
</section>
<section id="answer-2-score-63-1" class="level4">
<h4>Answer 2 (score 63)</h4>
<p>You don’t need regex for this.</p>
<p>Add apache commons lang to your project (<a href="http://commons.apache.org/proper/commons-lang/" rel="noreferrer">http://commons.apache.org/proper/commons-lang/</a>), then use:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb177-1"><a href="#cb177-1"></a>String dataYouWant = StringUtils.substringBetween(mydata, <span class="kw">&quot;</span><span class="st">&#39;</span><span class="kw">&quot;</span>);</span></code></pre></div>
</section>
<section id="answer-3-score-11" class="level4">
<h4>Answer 3 (score 11)</h4>
<div class="sourceCode" id="cb178"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb178-1"><a href="#cb178-1"></a><span class="fu">import</span> java.util.regex.Matcher;</span>
<span id="cb178-2"><a href="#cb178-2"></a><span class="fu">import</span> java.util.regex.Pattern;</span>
<span id="cb178-3"><a href="#cb178-3"></a></span>
<span id="cb178-4"><a href="#cb178-4"></a>public class Test {</span>
<span id="cb178-5"><a href="#cb178-5"></a>    public static void main(String[] args) {</span>
<span id="cb178-6"><a href="#cb178-6"></a>        Pattern pattern = Pattern.compile(<span class="kw">&quot;</span><span class="st">.*&#39;([^&#39;]*)&#39;.*</span><span class="kw">&quot;</span>);</span>
<span id="cb178-7"><a href="#cb178-7"></a>        String mydata = <span class="kw">&quot;</span><span class="st">some string with &#39;the data i want&#39; inside</span><span class="kw">&quot;</span>;</span>
<span id="cb178-8"><a href="#cb178-8"></a></span>
<span id="cb178-9"><a href="#cb178-9"></a>        Matcher matcher = pattern.matcher(mydata);</span>
<span id="cb178-10"><a href="#cb178-10"></a>        <span class="kw">if</span>(matcher.matches()) {</span>
<span id="cb178-11"><a href="#cb178-11"></a>            System.out.println(matcher.group(<span class="dv">1</span>));</span>
<span id="cb178-12"><a href="#cb178-12"></a>        }</span>
<span id="cb178-13"><a href="#cb178-13"></a></span>
<span id="cb178-14"><a href="#cb178-14"></a>    }</span>
<span id="cb178-15"><a href="#cb178-15"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-ignore-case-sensitivity-score-569767-in-2017" class="level3">
<h3>33: Regex: ignore case sensitivity (score <a href="https://stackoverflow.com/q/9655164.html">569767</a> in 2017)</h3>
<section id="question-31" class="level4">
<h4>Question</h4>
<p>How can I make the following regex ignore case sensitivity? It should match all the correct characters but ignore whether they are lower or uppercase.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb179-1"><a href="#cb179-1"></a>G[a<span class="kw">-b</span>].*</span></code></pre></div>
</section>
<section id="answer-accepted-score-363" class="level4">
<h4>Answer accepted (score 363)</h4>
<p>Assuming you want the <strong>whole</strong> regex to ignore case, you should look for the <a href="http://www.regular-expressions.info/modifiers.html"><code>i</code> flag</a>. Nearly all regex engines support it:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb180-1"><a href="#cb180-1"></a><span class="kw">/</span><span class="ot">G</span><span class="ch">[</span><span class="bn">a-b</span><span class="ch">]</span><span class="ot">.</span><span class="ch">*</span><span class="kw">/i</span></span>
<span id="cb180-2"><a href="#cb180-2"></a></span>
<span id="cb180-3"><a href="#cb180-3"></a>string.match(<span class="kw">&quot;</span><span class="st">G[a-b].*</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">i</span><span class="kw">&quot;</span>)</span></code></pre></div>
<p>Check the documentation for your language/platform/tool to find how the matching modes are specified.</p>
<p>If you want only <strong>part</strong> of the regex to be case insensitive (as my original answer presumed), then you have two options:</p>
<ol>
<li>
<p>
Use the <code>(?i)</code> and [optionally] <code>(?-i)</code> mode modifiers:
</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb181-1"><a href="#cb181-1"></a>(?i)G[a<span class="kw">-b</span>](?-i.html).*</span>
<span id="cb181-2"><a href="#cb181-2"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb181-3"><a href="#cb181-3"></a><span class="st">&lt;li&gt;&lt;p&gt;Put all the variations (i.e. lowercase and uppercase) in the regex - useful if mode modifiers are not supported:&lt;/p&gt;</span></span>
<span id="cb181-4"><a href="#cb181-4"></a></span>
<span id="cb181-5"><a href="#cb181-5"></a><span class="kw">```</span>perl</span>
<span id="cb181-6"><a href="#cb181-6"></a>[gG][a-bA<span class="kw">-B</span>].*</span>
<span id="cb181-7"><a href="#cb181-7"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb181-8"><a href="#cb181-8"></a><span class="st">&lt;/ol&gt;</span></span>
<span id="cb181-9"><a href="#cb181-9"></a></span>
<span id="cb181-10"><a href="#cb181-10"></a><span class="st">One last note: if you&#39;re dealing with Unicode characters besides ASCII, check whether or not your regex engine properly supports them.  </span></span>
<span id="cb181-11"><a href="#cb181-11"></a></span>
<span id="cb181-12"><a href="#cb181-12"></a><span class="st">#### Answer 2 (score 120)</span></span>
<span id="cb181-13"><a href="#cb181-13"></a><span class="st">&lt;p&gt;Depends on implementation</span></span>
<span id="cb181-14"><a href="#cb181-14"></a><span class="st">but I would use&lt;/p&gt;</span></span>
<span id="cb181-15"><a href="#cb181-15"></a></span>
<span id="cb181-16"><a href="#cb181-16"></a><span class="kw">```</span>perl</span>
<span id="cb181-17"><a href="#cb181-17"></a>(?i)G[a<span class="kw">-b</span>].</span></code></pre></div>
<p><strong>VARIATIONS:</strong></p>
<div class="sourceCode" id="cb182"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb182-1"><a href="#cb182-1"></a>(?i) case-insensitive mode ON    </span>
<span id="cb182-2"><a href="#cb182-2"></a>(?-i) case-insensitive mode OFF</span></code></pre></div>
<p>Modern regex flavors allow you to apply modifiers to only part of the regular expression. If you insert the modifier (?im) in the middle of the regex then the modifier only applies to the part of the regex to the right of the modifier. With these flavors, you can turn off modes by preceding them with a minus sign (?-i).</p>
<p>
Description is from the page: <a href="https://www.regular-expressions.info/modifiers.html" rel="noreferrer">https://www.regular-expressions.info/modifiers.html</a>
</p>
</section>
<section id="answer-3-score-46" class="level4">
<h4>Answer 3 (score 46)</h4>
<p>regular expression for validate ‘abc’ ignoring case sensitive</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb183-1"><a href="#cb183-1"></a>(?i)(abc)</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-crlf-in-notepad-score-548272-in-2018" class="level3">
<h3>34: Find CRLF in Notepad++ (score <a href="https://stackoverflow.com/q/133965.html">548272</a> in 2018)</h3>
<section id="question-32" class="level4">
<h4>Question</h4>
<p>How can I find/replace all CR/LF characters in Notepad++?</p>
<p>I am looking for something equivalent to the ^p special character in Microsoft Word.</p>
</section>
<section id="answer-accepted-score-398" class="level4">
<h4>Answer accepted (score 398)</h4>
<p><strong><code>[\r\n]+</code></strong> should work too</p>
<p>Update March, 26th 2012, release date of <strong><a href="http://notepad-plus-plus.org/news/notepad-6.0-release.html" rel="noreferrer">Notepad++ 6.0</a></strong>:</p>
<p>OMG, it actually does work now!!!</p>
<p><img src="https://i.stack.imgur.com/ZiyXX.png" alt="PCRE regexp in Notepad++"></p>
<hr>
<p>Original answer 2008 (Notepad++ 4.x) - 2009-2010-2011 (Notepad++ 5.x)</p>
<p>Actually no, it does not seem to work with regexp…</p>
<p>But if you have Notepad++ 5.x, you can use the ‘<strong>extended</strong>’ search mode and look for <code>\r\n</code>. That does find all your <code>CRLF</code>.</p>
<p>(I realize this is the same answer than the others, but again, ‘extended mode’ is only available with Notepad++ 4.9, 5.x and more)</p>
<hr>
<p>
Since April 2009, you have a wiki article on the Notepad++ site on this topic:<br> “<strong><a href="http://sourceforge.net/apps/mediawiki/notepad-plus/index.php?title=Replacing_Newlines" rel="noreferrer">How To Replace Line Ends, thus changing the line layout</a></strong>”.<br> (mentioned by <a href="https://stackoverflow.com/users/467509/georgiecasey">georgiecasey</a> in his/her <a href="https://stackoverflow.com/questions/133965/find-crlf-in-notepad/4608574#4608574">answer below</a>)
</p>
<p>Some relevant extracts includes the following search processes:</p>
<blockquote>
<h5>
Simple search (<kbd>Ctrl</kbd>+<kbd>F</kbd>), Search Mode = <code>Normal</code>
</h3>
<p>You can select an <code>EOL</code> in the editing window.</p>
<ul>
<li>
Just move the cursor to the end of the line, and type <kbd>Shift</kbd>+<kbd>Right</kbd> Arrow.
</li>
<li>
or, to select <code>EOL</code> with the mouse, start just at the line end and drag to the start of the next line; dragging to the right of the <code>EOL</code> won’t work. You can manually copy the <code>EOL</code> and paste it into the field for Unix files (<code>LF</code>-only).
</li>
</ul>
<h5>
Simple search (Ctrl+F), Search Mode = Extended
</h3>
<p>
The “Extended” option shows <code>\n</code> and <code>\r</code> as characters that could be matched.<br> As with the Normal search mode, Notepad++ is looking for the exact character.<br> Searching for <code>\r</code> in a UNIX-format file will not find anything, but searching for <code>\n</code> will. Similarly, a Macintosh-format file will contain <code>\r</code> but not <code>\n</code>.
</p>
<h5>
Simple search (Ctrl+F), Search Mode = Regular expression
</h3>
<p>
Regular expressions use the characters <code>^</code> and <code>$</code> to anchor the match string to the beginning or end of the line. For instance, searching for <code>return;$</code> will find occurrences of “return;” that occur with no subsequent text on that same line. The anchor characters work identically in all file formats.<br> The ‘.’ dot metacharacter does not match line endings.
</p>
<p>
[Tested in Notepad++ 5.8.5]: <strong>a regular expression search with an explicit <code>\r</code> or <code>\n</code> does not work (contrary to the <a href="http://www.scintilla.org/ScintillaDoc.html" rel="noreferrer">Scintilla documentation</a>)</strong>.<br> Neither does a search on an explicit (pasted) LF, or on the (invisible) EOL characters placed in the field when an EOL is selected. Advanced search (<kbd>Ctrl</kbd>+<kbd>R</kbd>) without regexp
</p>
<p>
<kbd>Ctrl</kbd>+<kbd>M</kbd> will insert something that matches newlines. They will be replaced by the replace string.<br> I recommend this method as the most reliable, unless you really need to use regex.<br> As an example, to remove every second newline in a double spaced file, enter <kbd>Ctrl</kbd>+<kbd>M</kbd> twice in the search string box, and once in the replace string box.
</p>
<h5>
Advanced search (<kbd>Ctrl</kbd>+<kbd>R</kbd>) with Regexp.
</h3>
Neither <kbd>Ctrl</kbd>+<kbd>M</kbd>, <code>$</code> nor <code>\r\n</code> are matched.<br />

</blockquote>
<hr>
<p>The same wiki also mentions the <strong>Hex editor alternative</strong>:</p>
<blockquote>
<ul>
<li>
Type the new string at the beginning of the document.
</li>
<li>
Then select to <strong>view the document in Hex mode</strong>.
</li>
<li>
Select one of the new lines and hit <kbd>Ctrl</kbd>+<kbd>H</kbd>.
</li>
<li>
While you have the Replace dialog box up, select on the background the new replacement string and <kbd>Ctrl</kbd>+<kbd>C</kbd> copy it to paste it in the Replace with text input.
</li>
<li>
Then Replace or Replace All as you wish.
</li>
</ul>
<p>
Note: the character selected for new line usually appears as <strong><code>0a</code></strong>.<br> It may have a different value if the file is in Windows Format. In that case you can always go to <code>Edit -&amp;gt; EOL Conversion -&amp;gt; Convert to Unix Format</code>, and after the replacement switch it back and <code>Edit -&amp;gt; EOL Conversion -&amp;gt; Convert to Windows Format</code>.
</p>
</blockquote>
</section>
<section id="answer-2-score-22" class="level4">
<h4>Answer 2 (score 22)</h4>
<p>It appears that this is a <a href="http://notepad-plus.sourceforge.net/uk/newlineFindReplace-HOWTO.php" rel="noreferrer">FAQ</a>, and the resolution offered is:</p>
<blockquote>
<p><strong>Simple search (Ctrl+H) without regexp</strong></p>
<p>
You can turn on View/Show End of Line or view/Show All, and select the now visible newline characters. Then when you start the command some characters matching the newline character will be pasted into the search field. Matches will be replaced by the replace string, unlike in regex mode.
</p>
<p>
Note 1: If you select them with the mouse, start just before them and drag to the start of the next line. Dragging to the end of the line won’t work.
</p>
<p>
Note 2: You can’t copy and paste them into the field yourself.
</p>
<p><strong>Advanced search (Ctrl+R) without regexp</strong></p>
Ctrl+M will insert something that matches newlines. They will be replaced by the replace string.
</blockquote>
</section>
<section id="answer-3-score-10" class="level4">
<h4>Answer 3 (score 10)</h4>
<p>On the Replace dialog, you want to set the search mode to “Extended”. Normal or Regular Expression modes wont work.</p>
<p>Then just find “” (or just for unix files or just  mac format files), and set the replace to whatever you want.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-a-good-regular-expression-to-match-a-url-score-534454-in-2012" class="level3">
<h3>35: What is a good regular expression to match a URL? (score <a href="https://stackoverflow.com/q/3809401.html">534454</a> in 2012)</h3>
<section id="question-33" class="level4">
<h4>Question</h4>
<p>Currently I have an input box which will detect the URL and parse the data.</p>
<p>So right now, I am using:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb184-1"><a href="#cb184-1"></a>var urlR = <span class="kw">/</span><span class="ch">^(?:([</span><span class="bn">A-Za-z</span><span class="ch">]+)</span><span class="ot">:</span><span class="ch">)?(</span><span class="ot">\/</span><span class="ch">{0,3})([</span><span class="bn">0-9.\-A-Za-z</span><span class="ch">]+)</span></span>
<span id="cb184-2"><a href="#cb184-2"></a><span class="ot">           </span><span class="ch">(?::(</span><span class="bn">\d</span><span class="ch">+))?(?:</span><span class="ot">\/</span><span class="ch">([^</span><span class="bn">?#</span><span class="ch">]*))?(?:</span><span class="ot">\?</span><span class="ch">([^</span><span class="bn">#</span><span class="ch">]*))?(?:</span><span class="ot">#</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*))?$</span><span class="kw">/</span>;</span>
<span id="cb184-3"><a href="#cb184-3"></a>var url= content.match(urlR);</span></code></pre></div>
<p>The problem is, when I enter a URL like <code>www.google.com</code>, its not working. when I entered <code>http://www.google.com</code>, it is working.</p>
<p>I am not very fluent in regular expressions. Can anyone help me?</p>
</section>
<section id="answer-2-score-492" class="level4">
<h4>Answer 2 (score 492)</h4>
<p>Regex if you want to ensure URL starts with HTTP/HTTPS:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb185-1"><a href="#cb185-1"></a>https?:\<span class="kw">/</span><span class="ot">\/</span><span class="ch">(</span><span class="ot">www\.</span><span class="ch">)?[</span><span class="bn">-a-zA-Z0-9@:%._\+~#=</span><span class="ch">]{1,256}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">a-zA-Z0-9()</span><span class="ch">]{1,6}\b([</span><span class="bn">-a-zA-Z0-9()@:%_\+.~#?&amp;//=</span><span class="ch">]*)</span></span></code></pre></div>
<p>If you do not require HTTP protocol:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb186-1"><a href="#cb186-1"></a>[-a-zA-Z0<span class="dv">-9</span><span class="dt">@</span>:%._\+~<span class="co">#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&amp;//=]*)</span></span></code></pre></div>
<p>To try this out see <a href="http://regexr.com?37i6s" rel="noreferrer">http://regexr.com?37i6s</a>, or for a version which is less restrictive <a href="http://regexr.com/3e6m0" rel="noreferrer">http://regexr.com/3e6m0</a>.</p>
<p>Example JavaScript implementation:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb187"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb187-1"><a href="#cb187-1"></a>var expression = <span class="kw">/</span><span class="ch">[</span><span class="bn">-a-zA-Z0-9@:%._\+~#=</span><span class="ch">]{1,256}</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">a-zA-Z0-9()</span><span class="ch">]{1,6}\b([</span><span class="bn">-a-zA-Z0-9()@:%_\+.~#?&amp;//=</span><span class="ch">]*)?</span><span class="kw">/gi</span>;</span>
<span id="cb187-2"><a href="#cb187-2"></a>var regex = new RegExp(expression);</span>
<span id="cb187-3"><a href="#cb187-3"></a>var t = <span class="kw">&#39;</span><span class="st">www.google.com</span><span class="kw">&#39;</span>;</span>
<span id="cb187-4"><a href="#cb187-4"></a></span>
<span id="cb187-5"><a href="#cb187-5"></a><span class="kw">if</span> (t.match(regex)) {</span>
<span id="cb187-6"><a href="#cb187-6"></a>  alert(<span class="kw">&quot;</span><span class="st">Successful match</span><span class="kw">&quot;</span>);</span>
<span id="cb187-7"><a href="#cb187-7"></a>} <span class="kw">else</span> {</span>
<span id="cb187-8"><a href="#cb187-8"></a>  alert(<span class="kw">&quot;</span><span class="st">No match</span><span class="kw">&quot;</span>);</span>
<span id="cb187-9"><a href="#cb187-9"></a>}</span></code></pre></div>
</div>
</div>
</section>
<section id="answer-3-score-169" class="level4">
<h4>Answer 3 (score 169)</h4>
<div class="sourceCode" id="cb188"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb188-1"><a href="#cb188-1"></a>(https?:\<span class="kw">/</span><span class="ot">\/</span><span class="ch">(?:</span><span class="ot">www\.</span><span class="ch">|(?!</span><span class="ot">www</span><span class="ch">))[</span><span class="bn">a-zA-Z0-9</span><span class="ch">][</span><span class="bn">a-zA-Z0-9-</span><span class="ch">]+[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,}|</span><span class="ot">www\.</span><span class="ch">[</span><span class="bn">a-zA-Z0-9</span><span class="ch">][</span><span class="bn">a-zA-Z0-9-</span><span class="ch">]+[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,}|</span><span class="ot">https</span><span class="ch">?</span><span class="ot">:\/\/</span><span class="ch">(?:</span><span class="ot">www\.</span><span class="ch">|(?!</span><span class="ot">www</span><span class="ch">))[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,}|</span><span class="ot">www\.</span><span class="ch">[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,})</span></span></code></pre></div>
<p>Will match the following cases</p>
<ul>
<li>
<code>http://www.foufos.gr</code>
</li>
<li>
<code>https://www.foufos.gr</code>
</li>
<li>
<code>http://foufos.gr</code>
</li>
<li>
<code>http://www.foufos.gr/kino</code>
</li>
<li>
<code>http://werer.gr</code>
</li>
<li>
<code>www.foufos.gr</code>
</li>
<li>
<code>www.mp3.com</code>
</li>
<li>
<code>www.t.co</code>
</li>
<li>
<code>http://t.co</code>
</li>
<li>
<code>http://www.t.co</code>
</li>
<li>
<code>https://www.t.co</code>
</li>
<li>
<code>www.aa.com</code>
</li>
<li>
<code>http://aa.com</code>
</li>
<li>
<code>http://www.aa.com</code>
</li>
<li>
<code>https://www.aa.com</code>
</li>
</ul>
<p>Will NOT match the following</p>
<ul>
<li>
<code>www.foufos</code>
</li>
<li>
<code>www.foufos-.gr</code>
</li>
<li>
<code>www.-foufos.gr</code>
</li>
<li>
<code>foufos.gr</code>
</li>
<li>
<code>http://www.foufos</code>
</li>
<li>
<code>http://foufos</code>
</li>
<li>
<code>www.mp3#.com</code>
</li>
</ul>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb189"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb189-1"><a href="#cb189-1"></a>var expression = <span class="kw">/</span><span class="ch">(</span><span class="ot">https</span><span class="ch">?</span><span class="ot">:\/\/</span><span class="ch">(?:</span><span class="ot">www\.</span><span class="ch">|(?!</span><span class="ot">www</span><span class="ch">))[</span><span class="bn">a-zA-Z0-9</span><span class="ch">][</span><span class="bn">a-zA-Z0-9-</span><span class="ch">]+[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,}|</span><span class="ot">www\.</span><span class="ch">[</span><span class="bn">a-zA-Z0-9</span><span class="ch">][</span><span class="bn">a-zA-Z0-9-</span><span class="ch">]+[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,}|</span><span class="ot">https</span><span class="ch">?</span><span class="ot">:\/\/</span><span class="ch">(?:</span><span class="ot">www\.</span><span class="ch">|(?!</span><span class="ot">www</span><span class="ch">))[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,}|</span><span class="ot">www\.</span><span class="ch">[</span><span class="bn">a-zA-Z0-9</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[^</span><span class="bn">\s</span><span class="ch">]{2,})</span><span class="kw">/gi</span>;</span>
<span id="cb189-2"><a href="#cb189-2"></a>var regex = new RegExp(expression);</span>
<span id="cb189-3"><a href="#cb189-3"></a></span>
<span id="cb189-4"><a href="#cb189-4"></a>var check = [</span>
<span id="cb189-5"><a href="#cb189-5"></a>  <span class="kw">&#39;</span><span class="st">http://www.foufos.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-6"><a href="#cb189-6"></a>  <span class="kw">&#39;</span><span class="st">https://www.foufos.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-7"><a href="#cb189-7"></a>  <span class="kw">&#39;</span><span class="st">http://foufos.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-8"><a href="#cb189-8"></a>  <span class="kw">&#39;</span><span class="st">http://www.foufos.gr/kino</span><span class="kw">&#39;</span>,</span>
<span id="cb189-9"><a href="#cb189-9"></a>  <span class="kw">&#39;</span><span class="st">http://werer.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-10"><a href="#cb189-10"></a>  <span class="kw">&#39;</span><span class="st">www.foufos.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-11"><a href="#cb189-11"></a>  <span class="kw">&#39;</span><span class="st">www.mp3.com</span><span class="kw">&#39;</span>,</span>
<span id="cb189-12"><a href="#cb189-12"></a>  <span class="kw">&#39;</span><span class="st">www.t.co</span><span class="kw">&#39;</span>,</span>
<span id="cb189-13"><a href="#cb189-13"></a>  <span class="kw">&#39;</span><span class="st">http://t.co</span><span class="kw">&#39;</span>,</span>
<span id="cb189-14"><a href="#cb189-14"></a>  <span class="kw">&#39;</span><span class="st">http://www.t.co</span><span class="kw">&#39;</span>,</span>
<span id="cb189-15"><a href="#cb189-15"></a>  <span class="kw">&#39;</span><span class="st">https://www.t.co</span><span class="kw">&#39;</span>,</span>
<span id="cb189-16"><a href="#cb189-16"></a>  <span class="kw">&#39;</span><span class="st">www.aa.com</span><span class="kw">&#39;</span>,</span>
<span id="cb189-17"><a href="#cb189-17"></a>  <span class="kw">&#39;</span><span class="st">http://aa.com</span><span class="kw">&#39;</span>,</span>
<span id="cb189-18"><a href="#cb189-18"></a>  <span class="kw">&#39;</span><span class="st">http://www.aa.com</span><span class="kw">&#39;</span>,</span>
<span id="cb189-19"><a href="#cb189-19"></a>  <span class="kw">&#39;</span><span class="st">https://www.aa.com</span><span class="kw">&#39;</span>,</span>
<span id="cb189-20"><a href="#cb189-20"></a>  <span class="kw">&#39;</span><span class="st">www.foufos</span><span class="kw">&#39;</span>,</span>
<span id="cb189-21"><a href="#cb189-21"></a>  <span class="kw">&#39;</span><span class="st">www.foufos-.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-22"><a href="#cb189-22"></a>  <span class="kw">&#39;</span><span class="st">www.-foufos.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-23"><a href="#cb189-23"></a>  <span class="kw">&#39;</span><span class="st">foufos.gr</span><span class="kw">&#39;</span>,</span>
<span id="cb189-24"><a href="#cb189-24"></a>  <span class="kw">&#39;</span><span class="st">http://www.foufos</span><span class="kw">&#39;</span>,</span>
<span id="cb189-25"><a href="#cb189-25"></a>  <span class="kw">&#39;</span><span class="st">http://foufos</span><span class="kw">&#39;</span>,</span>
<span id="cb189-26"><a href="#cb189-26"></a>  <span class="kw">&#39;</span><span class="st">www.mp3#.com</span><span class="kw">&#39;</span></span>
<span id="cb189-27"><a href="#cb189-27"></a>];</span>
<span id="cb189-28"><a href="#cb189-28"></a></span>
<span id="cb189-29"><a href="#cb189-29"></a>check.forEach(function(entry) {</span>
<span id="cb189-30"><a href="#cb189-30"></a>  <span class="kw">if</span> (entry.match(regex)) {</span>
<span id="cb189-31"><a href="#cb189-31"></a>    <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">#output</span><span class="kw">&quot;</span>).append( <span class="kw">&quot;</span><span class="st">&lt;div &gt;Success: </span><span class="kw">&quot;</span> + entry + <span class="kw">&quot;</span><span class="st">&lt;/div&gt;</span><span class="kw">&quot;</span> );</span>
<span id="cb189-32"><a href="#cb189-32"></a>  } <span class="kw">else</span> {</span>
<span id="cb189-33"><a href="#cb189-33"></a>    <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">#output</span><span class="kw">&quot;</span>).append( <span class="kw">&quot;</span><span class="st">&lt;div&gt;Fail: </span><span class="kw">&quot;</span> + entry + <span class="kw">&quot;</span><span class="st">&lt;/div&gt;</span><span class="kw">&quot;</span> );</span>
<span id="cb189-34"><a href="#cb189-34"></a>  }</span>
<span id="cb189-35"><a href="#cb189-35"></a>});</span></code></pre></div>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;
&lt;div id="output"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
<p><a href="https://rubular.com/r/eGPe4bGlwMd98E" rel="noreferrer">Check it in rubular - NEW version</a></p>
<p><a href="https://www.rubular.com/r/WacnNAOQZa" rel="noreferrer"><del>Check it in rubular - old version</del></a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-validate-date-format-ddmmyyyy-score-533749-in-2016" class="level3">
<h3>36: Regex to validate date format dd/mm/yyyy (score <a href="https://stackoverflow.com/q/15491894.html">533749</a> in 2016)</h3>
<section id="question-34" class="level4">
<h4>Question</h4>
<p>I need to validate a date string for the format <code>dd/mm/yyyy</code> with a regular expresssion.</p>
<p>This regex validates <code>dd/mm/yyyy</code>, but not the invalid dates like <code>31/02/4500</code>:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb190-1"><a href="#cb190-1"></a>^(<span class="dv">0</span>?[<span class="dv">1-9</span>]|[<span class="dv">12</span>][<span class="dv">0-9</span>]|<span class="dv">3</span>[<span class="bn">01</span>])[\<span class="kw">/</span><span class="ot">\-]</span><span class="ch">(</span><span class="ot">0</span><span class="ch">?[</span><span class="bn">1-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">012</span><span class="ch">]</span><span class="ot">.html</span><span class="ch">)[</span><span class="bn">\/\-</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">{4}$</span></span></code></pre></div>
<p>What is a valid regex to validate <code>dd/mm/yyyy</code> format with leap year support?</p>
</section>
<section id="answer-accepted-score-286" class="level4">
<h4>Answer accepted (score 286)</h4>
<p>
The regex you pasted does not validate leap years correctly, but there is one that does <a href="https://stackoverflow.com/a/8768241/1537042">in the same post</a>. I modified it to take <code>dd/mm/yyyy</code>, <code>dd-mm-yyyy</code> or <code>dd.mm.yyyy</code>.
</p>
<p><code>^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[13-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$</code></p>
<p>I tested it a bit in the link Arun provided in his answer and also <a href="http://regexr.com?346hf" rel="noreferrer">here</a> and it seems to work.</p>
<p>Edit February 14th 2019: I’ve removed a comma that was in the regex which allowed dates like <code>29-0,-11</code></p>
</section>
<section id="answer-2-score-240" class="level4">
<h4>Answer 2 (score 240)</h4>
<p>I have extended the regex given by <span class="citation" data-cites="Ofir">@Ofir</span> Luzon for the formats dd-mmm-YYYY, dd/mmm/YYYY, dd.mmm.YYYY as per my requirement. Anyone else with same requirement can refer this</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb191-1"><a href="#cb191-1"></a>^(?:(?:<span class="dv">31</span>(\<span class="kw">/</span><span class="ch">|</span><span class="ot">-</span><span class="ch">|</span><span class="ot">\.</span><span class="ch">)(?:</span><span class="ot">0</span><span class="ch">?[</span><span class="bn">13578</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">02</span><span class="ch">]|(?:</span><span class="ot">Jan</span><span class="ch">|</span><span class="ot">Mar</span><span class="ch">|</span><span class="ot">May</span><span class="ch">|</span><span class="ot">Jul</span><span class="ch">|</span><span class="ot">Aug</span><span class="ch">|</span><span class="ot">Oct</span><span class="ch">|</span><span class="ot">Dec</span><span class="ch">)))</span><span class="dt">\1</span><span class="ch">|(?:(?:</span><span class="ot">29</span><span class="ch">|</span><span class="ot">30</span><span class="ch">)(</span><span class="ot">\/</span><span class="ch">|</span><span class="ot">-</span><span class="ch">|</span><span class="ot">\.</span><span class="ch">)(?:</span><span class="ot">0</span><span class="ch">?[</span><span class="bn">1,3-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-2</span><span class="ch">]|(?:</span><span class="ot">Jan</span><span class="ch">|</span><span class="ot">Mar</span><span class="ch">|</span><span class="ot">Apr</span><span class="ch">|</span><span class="ot">May</span><span class="ch">|</span><span class="ot">Jun</span><span class="ch">|</span><span class="ot">Jul</span><span class="ch">|</span><span class="ot">Aug</span><span class="ch">|</span><span class="ot">Sep</span><span class="ch">|</span><span class="ot">Oct</span><span class="ch">|</span><span class="ot">Nov</span><span class="ch">|</span><span class="ot">Dec</span><span class="ch">))</span><span class="dt">\2</span><span class="ch">))(?:(?:</span><span class="ot">1</span><span class="ch">[</span><span class="bn">6-9</span><span class="ch">]|[</span><span class="bn">2-9</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">)?</span><span class="bn">\d</span><span class="ch">{2})$|^(?:</span><span class="ot">29</span><span class="ch">(</span><span class="ot">\/</span><span class="ch">|</span><span class="ot">-</span><span class="ch">|</span><span class="ot">\.</span><span class="ch">)(?:</span><span class="ot">0</span><span class="ch">?</span><span class="ot">2</span><span class="ch">|(?:</span><span class="ot">Feb</span><span class="ch">))</span><span class="dt">\3</span><span class="ch">(?:(?:(?:</span><span class="ot">1</span><span class="ch">[</span><span class="bn">6-9</span><span class="ch">]|[</span><span class="bn">2-9</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">)?(?:</span><span class="ot">0</span><span class="ch">[</span><span class="bn">48</span><span class="ch">]|[</span><span class="bn">2468</span><span class="ch">][</span><span class="bn">048</span><span class="ch">]|[</span><span class="bn">13579</span><span class="ch">][</span><span class="bn">26</span><span class="ch">])|(?:(?:</span><span class="ot">16</span><span class="ch">|[</span><span class="bn">2468</span><span class="ch">][</span><span class="bn">048</span><span class="ch">]|[</span><span class="bn">3579</span><span class="ch">][</span><span class="bn">26</span><span class="ch">])</span><span class="ot">00</span><span class="ch">))))$|^(?:</span><span class="ot">0</span><span class="ch">?[</span><span class="bn">1-9</span><span class="ch">]|</span><span class="ot">1</span><span class="bn">\d</span><span class="ch">|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-8</span><span class="ch">])(</span><span class="ot">\/</span><span class="ch">|</span><span class="ot">-</span><span class="ch">|</span><span class="ot">\.</span><span class="ch">)(?:(?:</span><span class="ot">0</span><span class="ch">?[</span><span class="bn">1-9</span><span class="ch">]|(?:</span><span class="ot">Jan</span><span class="ch">|</span><span class="ot">Feb</span><span class="ch">|</span><span class="ot">Mar</span><span class="ch">|</span><span class="ot">Apr</span><span class="ch">|</span><span class="ot">May</span><span class="ch">|</span><span class="ot">Jun</span><span class="ch">|</span><span class="ot">Jul</span><span class="ch">|</span><span class="ot">Aug</span><span class="ch">|</span><span class="ot">Sep</span><span class="ch">))|(?:</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-2</span><span class="ch">]|(?:</span><span class="ot">Oct</span><span class="ch">|</span><span class="ot">Nov</span><span class="ch">|</span><span class="ot">Dec</span><span class="ch">)))</span><span class="dt">\4</span><span class="ch">(?:(?:</span><span class="ot">1</span><span class="ch">[</span><span class="bn">6-9</span><span class="ch">]|[</span><span class="bn">2-9</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">)?</span><span class="bn">\d</span><span class="ch">{2})$</span></span></code></pre></div>
<p>and tested for some test cases here <a href="http://regexr.com/39tr1" rel="noreferrer">http://regexr.com/39tr1</a>.</p>
<p>
For better understanding for this Regular expression refer this image: <img src="https://i.stack.imgur.com/D4YDF.png" alt="enter image description here">
</p>
</section>
<section id="answer-3-score-63" class="level4">
<h4>Answer 3 (score 63)</h4>
<p>Notice:</p>
<blockquote>
Your regexp does not work for years that “are multiples of 4 and 100, but not of 400”. Years that pass that test are not leap years. For example: 1900, 2100, 2200, 2300, 2500, etc. In other words, it puts all years with the format  in the same class of leap years, which is incorrect. – MuchToLearn
</blockquote>
<p>So it works properly only for [1901 - 2099] (Whew) 😊</p>
<p>dd/MM/yyyy:</p>
<p>
Checks if leap year. Years from 1900 to 9999 are valid. Only dd/MM/yyyy
</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb192-1"><a href="#cb192-1"></a>(^(((<span class="dv">0</span>[<span class="dv">1-9</span>]|<span class="dv">1</span>[<span class="dv">0-9</span>]|<span class="dv">2</span>[<span class="dv">0-8</span>])[\<span class="kw">/</span><span class="ot">]</span><span class="ch">(</span><span class="ot">0</span><span class="ch">[</span><span class="bn">1-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">012</span><span class="ch">]</span><span class="ot">.html</span><span class="ch">))|((</span><span class="ot">29</span><span class="ch">|</span><span class="ot">30</span><span class="ch">|</span><span class="ot">31</span><span class="ch">)[</span><span class="bn">\/</span><span class="ch">](</span><span class="ot">0</span><span class="ch">[</span><span class="bn">13578</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">02</span><span class="ch">]</span><span class="ot">.html</span><span class="ch">))|((</span><span class="ot">29</span><span class="ch">|</span><span class="ot">30</span><span class="ch">)[</span><span class="bn">\/</span><span class="ch">](</span><span class="ot">0</span><span class="ch">[</span><span class="bn">4,6,9</span><span class="ch">]|</span><span class="ot">11.html</span><span class="ch">)))[</span><span class="bn">\/</span><span class="ch">](</span><span class="ot">19</span><span class="ch">|[</span><span class="bn">2-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]</span><span class="ot">.html</span><span class="ch">)</span><span class="bn">\d\d</span><span class="ch">$)|(^</span><span class="ot">29</span><span class="ch">[</span><span class="bn">\/</span><span class="ch">]</span><span class="ot">02</span><span class="ch">[</span><span class="bn">\/</span><span class="ch">](</span><span class="ot">19</span><span class="ch">|[</span><span class="bn">2-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]</span><span class="ot">.html</span><span class="ch">)(</span><span class="ot">00</span><span class="ch">|</span><span class="ot">04</span><span class="ch">|</span><span class="ot">08</span><span class="ch">|</span><span class="ot">12</span><span class="ch">|</span><span class="ot">16</span><span class="ch">|</span><span class="ot">20</span><span class="ch">|</span><span class="ot">24</span><span class="ch">|</span><span class="ot">28</span><span class="ch">|</span><span class="ot">32</span><span class="ch">|</span><span class="ot">36</span><span class="ch">|</span><span class="ot">40</span><span class="ch">|</span><span class="ot">44</span><span class="ch">|</span><span class="ot">48</span><span class="ch">|</span><span class="ot">52</span><span class="ch">|</span><span class="ot">56</span><span class="ch">|</span><span class="ot">60</span><span class="ch">|</span><span class="ot">64</span><span class="ch">|</span><span class="ot">68</span><span class="ch">|</span><span class="ot">72</span><span class="ch">|</span><span class="ot">76</span><span class="ch">|</span><span class="ot">80</span><span class="ch">|</span><span class="ot">84</span><span class="ch">|</span><span class="ot">88</span><span class="ch">|</span><span class="ot">92</span><span class="ch">|</span><span class="ot">96</span><span class="ch">)$)</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="replace-specific-characters-within-strings-score-524267-in-2019" class="level3">
<h3>37: Replace specific characters within strings (score <a href="https://stackoverflow.com/q/11936339.html">524267</a> in 2019)</h3>
<section id="question-35" class="level4">
<h4>Question</h4>
<p>I would like to remove specific characters from strings within a vector, similar to the <em>Find and Replace</em> feature in Excel.</p>
<p>Here are the data I start with:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb193-1"><a href="#cb193-1"></a>group &lt;- data.frame(c(<span class="kw">&quot;</span><span class="st">12357e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">12575e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">197e18</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">e18947</span><span class="kw">&quot;</span>)</span></code></pre></div>
<p>I start with just the first column; I want to produce the second column by removing the <code>e</code>’s:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb194-1"><a href="#cb194-1"></a>group       group.<span class="fu">no</span>.e</span>
<span id="cb194-2"><a href="#cb194-2"></a>12357e      <span class="dv">12357</span></span>
<span id="cb194-3"><a href="#cb194-3"></a>12575e      <span class="dv">12575</span></span>
<span id="cb194-4"><a href="#cb194-4"></a>197e18      <span class="dv">19718</span></span>
<span id="cb194-5"><a href="#cb194-5"></a>e18947      <span class="dv">18947</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-376-1" class="level4">
<h4>Answer accepted (score 376)</h4>
<p>With a regular expression and the function <code>gsub()</code>:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb195-1"><a href="#cb195-1"></a>group &lt;- c(<span class="kw">&quot;</span><span class="st">12357e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">12575e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">197e18</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">e18947</span><span class="kw">&quot;</span>)</span>
<span id="cb195-2"><a href="#cb195-2"></a>group</span>
<span id="cb195-3"><a href="#cb195-3"></a>[<span class="dv">1</span>] <span class="kw">&quot;</span><span class="st">12357e</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">12575e</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">197e18</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">e18947</span><span class="kw">&quot;</span></span>
<span id="cb195-4"><a href="#cb195-4"></a></span>
<span id="cb195-5"><a href="#cb195-5"></a>gsub(<span class="kw">&quot;</span><span class="st">e</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>, group)</span>
<span id="cb195-6"><a href="#cb195-6"></a>[<span class="dv">1</span>] <span class="kw">&quot;</span><span class="st">12357</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">12575</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">19718</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">18947</span><span class="kw">&quot;</span></span></code></pre></div>
<p>What <code>gsub</code> does here is to replace each occurrence of <code>"e"</code> with an empty string <code>""</code>.</p>
<hr>
<p>See <code>?regexp</code> or <code>gsub</code> for more help.</p>
</section>
<section id="answer-2-score-45" class="level4">
<h4>Answer 2 (score 45)</h4>
<p>Regular expressions are your friends:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb196-1"><a href="#cb196-1"></a>R&gt; <span class="co">## also adds missing &#39;)&#39; and sets column name</span></span>
<span id="cb196-2"><a href="#cb196-2"></a>R&gt; group&lt;-data.frame(group=c(<span class="kw">&quot;</span><span class="st">12357e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">12575e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">197e18</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">e18947</span><span class="kw">&quot;</span>))  )</span>
<span id="cb196-3"><a href="#cb196-3"></a>R&gt; group</span>
<span id="cb196-4"><a href="#cb196-4"></a>   group</span>
<span id="cb196-5"><a href="#cb196-5"></a><span class="dv">1</span> 12357e</span>
<span id="cb196-6"><a href="#cb196-6"></a><span class="dv">2</span> 12575e</span>
<span id="cb196-7"><a href="#cb196-7"></a><span class="dv">3</span> 197e18</span>
<span id="cb196-8"><a href="#cb196-8"></a><span class="dv">4</span> e18947</span></code></pre></div>
<p>Now use <code>gsub()</code> with the simplest possible replacement pattern: empty string:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb197-1"><a href="#cb197-1"></a>R&gt; group<span class="dt">$groupNoE</span> &lt;- gsub(<span class="kw">&quot;</span><span class="st">e</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>, group<span class="dt">$group</span>)</span>
<span id="cb197-2"><a href="#cb197-2"></a>R&gt; group</span>
<span id="cb197-3"><a href="#cb197-3"></a>   group groupNoE</span>
<span id="cb197-4"><a href="#cb197-4"></a><span class="dv">1</span> 12357e    <span class="dv">12357</span></span>
<span id="cb197-5"><a href="#cb197-5"></a><span class="dv">2</span> 12575e    <span class="dv">12575</span></span>
<span id="cb197-6"><a href="#cb197-6"></a><span class="dv">3</span> 197e18    <span class="dv">19718</span></span>
<span id="cb197-7"><a href="#cb197-7"></a><span class="dv">4</span> e18947    <span class="dv">18947</span></span>
<span id="cb197-8"><a href="#cb197-8"></a>R&gt; </span></code></pre></div>
</section>
<section id="answer-3-score-23-1" class="level4">
<h4>Answer 3 (score 23)</h4>
<p>Summarizing 2 ways to replace strings:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb198-1"><a href="#cb198-1"></a>group&lt;-data.frame(group=c(<span class="kw">&quot;</span><span class="st">12357e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">12575e</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">197e18</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">e18947</span><span class="kw">&quot;</span>))</span></code></pre></div>
<ol type="1">
<li>Use <code>gsub</code></li>
</ol>
<div class="sourceCode" id="cb199"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb199-1"><a href="#cb199-1"></a>group<span class="dt">$group</span>.<span class="fu">no</span>.e &lt;- gsub(<span class="kw">&quot;</span><span class="st">e</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>, group<span class="dt">$group</span>)</span></code></pre></div>
<ol start="2" type="1">
<li>Use the <code>stringr</code> package</li>
</ol>
<div class="sourceCode" id="cb200"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb200-1"><a href="#cb200-1"></a>group<span class="dt">$group</span>.<span class="fu">no</span>.e &lt;- str_replace_all(group<span class="dt">$group</span>, <span class="kw">&quot;</span><span class="st">e</span><span class="kw">&quot;</span>, <span class="kw">&quot;&quot;</span>)</span></code></pre></div>
<p>Both will produce the desire output:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb201-1"><a href="#cb201-1"></a>   group group.<span class="fu">no</span>.e</span>
<span id="cb201-2"><a href="#cb201-2"></a><span class="dv">1</span> 12357e      <span class="dv">12357</span></span>
<span id="cb201-3"><a href="#cb201-3"></a><span class="dv">2</span> 12575e      <span class="dv">12575</span></span>
<span id="cb201-4"><a href="#cb201-4"></a><span class="dv">3</span> 197e18      <span class="dv">19718</span></span>
<span id="cb201-5"><a href="#cb201-5"></a><span class="dv">4</span> e18947      <span class="dv">18947</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-match-any-character-across-multiple-lines-in-a-regular-expression-score-520690-in-2015" class="level3">
<h3>38: How do I match any character across multiple lines in a regular expression? (score <a href="https://stackoverflow.com/q/159118.html">520690</a> in 2015)</h3>
<section id="question-36" class="level4">
<h4>Question</h4>
<p>For example, this regex</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb202-1"><a href="#cb202-1"></a>(.<span class="kw">*</span>)&lt;FooBar&gt;</span></code></pre></div>
<p>will match:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb203-1"><a href="#cb203-1"></a>abcde&lt;FooBar&gt;</span></code></pre></div>
<p>But how do I get it to match across multiple lines?</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb204-1"><a href="#cb204-1"></a>abcde</span>
<span id="cb204-2"><a href="#cb204-2"></a>fghij&lt;FooBar&gt;</span></code></pre></div>
</section>
<section id="answer-accepted-score-215" class="level4">
<h4>Answer accepted (score 215)</h4>
<p>It depends on the language, but there should be a modifier that you can add to the regex pattern. In PHP it is:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb205-1"><a href="#cb205-1"></a><span class="kw">/</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*)</span><span class="ot">&lt;FooBar&gt;</span><span class="kw">/s</span></span></code></pre></div>
<p>The <strong>s</strong> at the end causes the dot to match <em>all</em> characters including newlines.</p>
</section>
<section id="answer-2-score-308" class="level4">
<h4>Answer 2 (score 308)</h4>
<p>Try this:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb206-1"><a href="#cb206-1"></a>((.|\n)<span class="kw">*</span>)&lt;FooBar&gt;</span></code></pre></div>
<p>It basically says “any character or a newline” repeated zero or more times.</p>
</section>
<section id="answer-3-score-68" class="level4">
<h4>Answer 3 (score 68)</h4>
<p>The question is, can <code>.</code> pattern match <em>any</em> character? The answer varies from engine to engine. The main difference is whether the pattern is used by a POSIX or non-POSIX regex library.</p>
<p>Special note about <a href="/questions/tagged/lua-patterns" class="post-tag" title="show questions tagged &#39;lua-patterns&#39;" rel="tag">lua-patterns</a>: they are not considered regular expressions, but <code>.</code> matches any char there, same as POSIX based engines.</p>
<p>Another note on <a href="/questions/tagged/matlab" class="post-tag" title="show questions tagged &#39;matlab&#39;" rel="tag">matlab</a> and <a href="/questions/tagged/octave" class="post-tag" title="show questions tagged &#39;octave&#39;" rel="tag">octave</a>: the <code>.</code> matches any char by default (<a href="https://ideone.com/OkH7Mh" rel="noreferrer">demo</a>): <code>str = "abcde\n     fghij&amp;lt;Foobar&amp;gt;"; expression = '(.*)&amp;lt;Foobar&amp;gt;*'; [tokens,matches] = regexp(str,expression,'tokens','match');</code> (<code>tokens</code> contain a <code>abcde\n     fghij</code> item).</p>
<p>Also, in all of <a href="/questions/tagged/boost" class="post-tag" title="show questions tagged &#39;boost&#39;" rel="tag">boost</a>’s regex grammars the dot matches line breaks by default. Boost’s ECMAScript grammar allows you to turn this off with <code>regex_constants::no_mod_m</code> (<a href="http://www.regular-expressions.info/dot.html" rel="noreferrer">source</a>).</p>
<p>As for <a href="/questions/tagged/oracle" class="post-tag" title="show questions tagged &#39;oracle&#39;" rel="tag">oracle</a> (it is POSIX based), use <a href="https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions130.htm" rel="noreferrer"><code>n</code> option</a> (<a href="http://rextester.com/WEQF2051" rel="noreferrer">demo</a>): <code>select regexp_substr('abcde' || chr(10) ||'     fghij&amp;lt;Foobar&amp;gt;', '(.*)&amp;lt;Foobar&amp;gt;', 1, 1, 'n', 1) as results from dual</code></p>
<p><strong>POSIX-based engines</strong>:</p>
<p>A mere <code>.</code> already matches line breaks, no need to use any modifiers, see <a href="/questions/tagged/bash" class="post-tag" title="show questions tagged &#39;bash&#39;" rel="tag">bash</a> (<a href="https://ideone.com/d1XTpR" rel="noreferrer">demo</a>).</p>
<p>The <a href="/questions/tagged/tcl" class="post-tag" title="show questions tagged &#39;tcl&#39;" rel="tag">tcl</a> (<a href="https://ideone.com/ORmscd" rel="noreferrer">demo</a>), <a href="/questions/tagged/postgresql" class="post-tag" title="show questions tagged &#39;postgresql&#39;" rel="tag">postgresql</a> (<a href="http://rextester.com/FWXM76553" rel="noreferrer">demo</a>), <a href="/questions/tagged/r" class="post-tag" title="show questions tagged &#39;r&#39;" rel="tag">r</a> (TRE, base R default engine with no <code>perl=TRUE</code>, for base R with <code>perl=TRUE</code> or for <em>stringr</em>/<em>stringi</em> patterns, use the <code>(?s)</code> inline modifier) (<a href="https://ideone.com/A1kIU4" rel="noreferrer">demo</a>) also treat <code>.</code> the same way.</p>
<p><em>However</em>, most POSIX based tools process input line by line. Hence, <code>.</code> does not match the line breaks just because they are not in scope. Here are some examples how to override this:</p>
<ul>
<li>
<a href="/questions/tagged/sed" class="post-tag" title="show questions tagged &#39;sed&#39;" rel="tag">sed</a> - There are multiple workarounds, the most precise but not very safe is <code>sed 'H;1h;$!d;x; s/\(.*\)&amp;gt;&amp;lt;Foobar&amp;gt;/\1/'</code> (<code>H;1h;$!d;x;</code> slurps the file into memory). If whole lines must be included, <code>sed '/start_pattern/,/end_pattern/d' file</code> (removing from start will end with matched lines included) or <code>sed '/start_pattern/,/end_pattern/{{//!d;};}' file</code> (with matching lines excluded) can be considered.
</li>
<li>
<a href="/questions/tagged/perl" class="post-tag" title="show questions tagged &#39;perl&#39;" rel="tag">perl</a> - <code>perl -0pe 's/(.*)&amp;lt;FooBar&amp;gt;/$1/gs' &amp;lt;&amp;lt;&amp;lt; "$str"</code> (<code>-0</code> slurps the whole file into memory, <code>-p</code> prints the file after applying the script given by <code>-e</code>). Note that using <code>-000pe</code> will slurp the file and activate ‘paragraph mode’ where Perl uses consecutive newlines (<code>\n\n</code>) as the record separator.
</li>
<li>
<a href="/questions/tagged/gnu-grep" class="post-tag" title="show questions tagged &#39;gnu-grep&#39;" rel="tag">gnu-grep</a> - <code>grep -Poz '(?si)abc\K.*?(?=&amp;lt;Foobar&amp;gt;)' file</code>. Here, <code>z</code> enables file slurping, <code>(?s)</code> enables the DOTALL mode for the <code>.</code> pattern, <code>(?i)</code> enables case insensitive mode, <code>\K</code> omits the text matched so far, <code>*?</code> is a lazy quantifier, <code>(?=&amp;lt;Foobar&amp;gt;)</code> matches the location before <code>&amp;lt;Foobar&amp;gt;</code>.
</li>
<li>
<a href="/questions/tagged/pcregrep" class="post-tag" title="show questions tagged &#39;pcregrep&#39;" rel="tag">pcregrep</a> - <code>pcregrep -Mi "(?si)abc\K.*?(?=&amp;lt;Foobar&amp;gt;)" file</code> (<code>M</code> enables file slurping here). Note <code>pcregrep</code> is a good solution for Mac OS <code>grep</code> users.
</li>
</ul>
<p><a href="https://ideone.com/J7n00M" rel="noreferrer">See demos</a>.</p>
<p><strong>Non-POSIX-based engines</strong>:</p>
<ul>
<li>
<a href="/questions/tagged/php" class="post-tag" title="show questions tagged &#39;php&#39;" rel="tag">php</a> - Use <code>s</code> modifier <a href="http://php.net/manual/en/reference.pcre.pattern.modifiers.php" rel="noreferrer">PCRE_DOTALL modifier</a>: <code>preg_match('~(.*)&amp;lt;Foobar&amp;gt;~s', $s, $m)</code> (<a href="https://ideone.com/QyLjnm" rel="noreferrer">demo</a>)
</li>
<li>
<a href="/questions/tagged/c%23" class="post-tag" title="show questions tagged &#39;c#&#39;" rel="tag">c#</a> - Use <code>RegexOptions.Singleline</code> flag (<a href="https://ideone.com/agPd94" rel="noreferrer">demo</a>): <br/> - <code>var result = Regex.Match(s, @"(.*)&amp;lt;Foobar&amp;gt;", RegexOptions.Singleline).Groups[1].Value;</code><br/>- <code>var result = Regex.Match(s, @"(?s)(.*)&amp;lt;Foobar&amp;gt;").Groups[1].Value;</code>
</li>
<li>
<a href="/questions/tagged/powershell" class="post-tag" title="show questions tagged &#39;powershell&#39;" rel="tag">powershell</a> - Use <code>(?s)</code> inline option: <code>$s = "abcde</code>nfghij&lt;FooBar&gt;“; $s -match”(?s)(.<em>)&lt;Foobar&gt;“; $matches[1]<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/perl" class="post-tag" title="show questions tagged &amp;#39;perl&amp;#39;" rel="tag"&gt;perl&lt;/a&gt; - Use</code>s<code>modifier (or</code>(?s)<code>inline version at the start) (&lt;a href="https://ideone.com/nsYpjE" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>/(.<em>)&lt;FooBar&gt;/s<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/python" class="post-tag" title="show questions tagged &amp;#39;python&amp;#39;" rel="tag"&gt;python&lt;/a&gt; - Use</code>re.DOTALL<code>(or</code>re.S<code>) flags or</code>(?s)<code>inline modifier (&lt;a href="https://ideone.com/A21CXy" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>m = re.search(r"(.</em>)&lt;FooBar&gt;”, s, flags=re.S)<code>(and then</code>if m:<code>,</code>print(m.group(1))<code>)&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/java" class="post-tag" title="show questions tagged &amp;#39;java&amp;#39;" rel="tag"&gt;java&lt;/a&gt; - Use</code>Pattern.DOTALL<code>modifier (or inline</code>(?s)<code>flag) (&lt;a href="https://ideone.com/Oq1j8Z" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>Pattern.compile(“(.<em>)&lt;FooBar&gt;", Pattern.DOTALL)<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/groovy" class="post-tag" title="show questions tagged &amp;#39;groovy&amp;#39;" rel="tag"&gt;groovy&lt;/a&gt; - Use</code>(?s)<code>in-pattern modifier (&lt;a href="https://ideone.com/2wmACW" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>regex = /(?s)(.</em>)&lt;FooBar&gt;/<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/scala" class="post-tag" title="show questions tagged &amp;#39;scala&amp;#39;" rel="tag"&gt;scala&lt;/a&gt; - Use</code>(?s)<code>modifier (&lt;a href="https://ideone.com/faL4xJ" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>”(?s)(.</em>)&lt;Foobar&gt;“.r.findAllIn(”abcdefghij&lt;Foobar&gt;“).matchData foreach { m =&gt; println(m.group(1)) }<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/javascript" class="post-tag" title="show questions tagged &amp;#39;javascript&amp;#39;" rel="tag"&gt;javascript&lt;/a&gt; - Use</code>[^]<code>or workarounds</code>[]<code>/</code>[]<code>/</code>[]<code>(&lt;a href="https://jsfiddle.net/36c6rt7o/3/" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>s.match(/([]<em>)&lt;FooBar&gt;/)[1]<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/c%2b%2b" class="post-tag" title="show questions tagged &amp;#39;c++&amp;#39;" rel="tag"&gt;c++&lt;/a&gt; (</code>std::regex<code>) Use</code>[]<code>or the JS workarounds (&lt;a href="https://ideone.com/2xC4ih" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>regex rex(R"(([]</em>)&lt;FooBar&gt;)”);<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/vba" class="post-tag" title="show questions tagged &amp;#39;vba&amp;#39;" rel="tag"&gt;vba&lt;/a&gt; - Use the same approach as in JavaScript,</code>([]<em>)&lt;Foobar&gt;<code>.&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/ruby" class="post-tag" title="show questions tagged &amp;#39;ruby&amp;#39;" rel="tag"&gt;ruby&lt;/a&gt; - Use &lt;a href="https://ruby-doc.org/core-2.4.0/Regexp.html#class-Regexp-label-Options" rel="noreferrer"&gt;</code>/m<code>&lt;em&gt;MULTILINE&lt;/em&gt; modifier&lt;/a&gt; (&lt;a href="https://ideone.com/hSj5M2" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>s[/(.*)&lt;Foobar&gt;/m, 1]<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/go" class="post-tag" title="show questions tagged &amp;#39;go&amp;#39;" rel="tag"&gt;go&lt;/a&gt; - Use the inline modifier</code>(?s)<code>at the start (&lt;a href="https://play.golang.org/p/Xqproig3jZ" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>re: = regexp.MustCompile(<code>(?s)(.*)&amp;lt;FooBar&gt;</code>)<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/swift" class="post-tag" title="show questions tagged &amp;#39;swift&amp;#39;" rel="tag"&gt;swift&lt;/a&gt; - Use &lt;a href="https://developer.apple.com/documentation/foundation/nsregularexpression.options/1412529-dotmatcheslineseparators" rel="noreferrer"&gt;</code>dotMatchesLineSeparators<code>&lt;/a&gt; or (easier) pass the</code>(?s)<code>inline modifier to the pattern:</code>let rx = “(?s)(.<em>)&lt;Foobar&gt;"<code>&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/objective-c" class="post-tag" title="show questions tagged &amp;#39;objective-c&amp;#39;" rel="tag"&gt;objective-c&lt;/a&gt; - Same as Swift,</code>(?s)<code>works the easiest, but here is how the &lt;a href="https://ideone.com/C6RP37" rel="noreferrer"&gt;option can be used&lt;/a&gt;: &lt;code&gt;NSRegularExpression* regex = [NSRegularExpression regularExpressionWithPattern:pattern  options:NSRegularExpressionDotMatchesLineSeparators error:&amp;amp;regexError];&lt;/code&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="/questions/tagged/re2" class="post-tag" title="show questions tagged &amp;#39;re2&amp;#39;" rel="tag"&gt;re2&lt;/a&gt;, &lt;a href="/questions/tagged/google-apps-script" class="post-tag" title="show questions tagged &amp;#39;google-apps-script&amp;#39;" rel="tag"&gt;google-apps-script&lt;/a&gt; - Use</code>(?s)<code>modifier (&lt;a href="https://docs.google.com/spreadsheets/d/1kn6Bb4TTjXT27Yfqwi3Z9K6YQVQxqHIBYoAAa1B4NsA/edit#gid=0" rel="noreferrer"&gt;demo&lt;/a&gt;):</code>"(?s)(.</em>)&lt;Foobar&gt;”<code>(in Google Spreadsheets,</code>=REGEXEXTRACT(A2,"(?s)(.</em>)&lt;Foobar&gt;")`)
</li>
</ul>
<p><strong>NOTES ON <code>(?s)</code></strong>:</p>
<p>In most non-POSIX engines, <code>(?s)</code> inline modifier (or embedded flag option) can be used to enforce <code>.</code> to match line breaks.</p>
<p>If placed at the start of the pattern, <code>(?s)</code> changes the bahavior of all <code>.</code> in the pattern. If the <code>(?s)</code> is placed somewhere after the beginning, only those <code>.</code> will be affected that are located to the right of it <em>unless</em> this is a pattern passed to Python <code>re</code>. In Python <code>re</code>, regardless of the <code>(?s)</code> location, the whole pattern <code>.</code> are affected. The <code>(?s)</code> effect is stopped using <code>(?-s)</code>. A modified group can be used to only affect a specified range of a regex pattern (e.g. <code>Delim1(?s:.*?)\nDelim2.*</code> will make the first <code>.*?</code> match across newlines and the second <code>.*</code> will only match the rest of the line).</p>
<p><strong>POSIX note</strong>:</p>
<p>In non-POSIX regex engines, to match any char, <code>[\s\S]</code> / <code>[\d\D]</code> / <code>[\w\W]</code> constructs can be used.</p>
<p>In POSIX, <code>[\s\S]</code> is not matching any char (as in JavaScript or any non-POSIX engine) because regex escape sequences are not supported inside bracket expressions. <code>[\s\S]</code> is parsed as bracket expressions that match a single char, <code>\</code> or <code>s</code> or <code>S</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-stop-at-first-match-score-520377-in-2012" class="level3">
<h3>39: Regular expression to stop at first match (score <a href="https://stackoverflow.com/q/2503413.html">520377</a> in 2012)</h3>
<section id="question-37" class="level4">
<h4>Question</h4>
<p>My regex pattern looks something like</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb207-1"><a href="#cb207-1"></a>&lt;xxxx location=<span class="kw">&quot;</span><span class="st">file path/level1/level2</span><span class="kw">&quot;</span> xxxx some=<span class="kw">&quot;</span><span class="st">xxx</span><span class="kw">&quot;</span>&gt;</span></code></pre></div>
<p>I am only interested in the part in quotes assigned to location. Shouldn’t it be as easy as below without the greedy switch?</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb208-1"><a href="#cb208-1"></a><span class="kw">/</span><span class="ot">.</span><span class="ch">*</span><span class="ot">location=&quot;</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*)</span><span class="ot">&quot;.</span><span class="ch">*</span><span class="kw">/</span></span></code></pre></div>
<p>Does not seem to work.</p>
</section>
<section id="answer-accepted-score-970" class="level4">
<h4>Answer accepted (score 970)</h4>
<p>You need to make your regular expression non-greedy, because by default, <code>"(.*)"</code> will match all of <code>"file path/level1/level2" xxx some="xxx"</code>.</p>
<p>Instead you can make your dot-star non-greedy, which will make it match as few characters as possible:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb209-1"><a href="#cb209-1"></a><span class="kw">/</span><span class="ot">location=&quot;</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot">&quot;</span><span class="kw">/</span></span></code></pre></div>
<p>Adding a <code>?</code> on a quantifier (<code>?</code>, <code>*</code> or <code>+</code>) makes it non-greedy.</p>
</section>
<section id="answer-2-score-48" class="level4">
<h4>Answer 2 (score 48)</h4>
<p><code>location="(.*)"</code> will match from the " after <code>location=</code> until the " after <code>some="xxx</code> unless you make it non-greedy. So you either need <code>.*?</code> (i.e. make it non-greedy) or better replace <code>.*</code> with <code>[^"]*</code>.</p>
</section>
<section id="answer-3-score-29" class="level4">
<h4>Answer 3 (score 29)</h4>
<p>How about</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb210-1"><a href="#cb210-1"></a>.<span class="dt">*location</span>=<span class="kw">&quot;</span><span class="st">([^</span><span class="kw">&quot;</span>]<span class="kw">*</span>)<span class="kw">&quot;</span><span class="st">.*</span></span></code></pre></div>
<p>This avoids the unlimited search with .* and will match exactly to the first quote.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="a-regular-expression-to-exclude-a-wordstring-score-515997-in-2010" class="level3">
<h3>40: A regular expression to exclude a word/string (score <a href="https://stackoverflow.com/q/2078915.html">515997</a> in 2010)</h3>
<section id="question-38" class="level4">
<h4>Question</h4>
<p>I have a regular expression as follows:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb211-1"><a href="#cb211-1"></a>^<span class="kw">/</span><span class="ch">[</span><span class="bn">a-z0-9</span><span class="ch">]+$</span></span></code></pre></div>
<p>This matches strings such as <code>/hello</code> or <code>/hello123</code>.</p>
<p>However, I would like it to exclude a couple of string values such as <code>/ignoreme</code> and <code>/ignoreme2</code>.</p>
<p>I’ve tried a few variants but can’t seem to get any to work!</p>
<p>My latest feeble attempt was</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb212-1"><a href="#cb212-1"></a>^<span class="kw">/</span><span class="ch">(((?!</span><span class="ot">ignoreme</span><span class="ch">)|(?!</span><span class="ot">ignoreme2</span><span class="ch">))[</span><span class="bn">a-z0-9</span><span class="ch">])+$</span></span></code></pre></div>
<p>Any help would be gratefully appreciated :-)</p>
</section>
<section id="answer-accepted-score-328" class="level4">
<h4>Answer accepted (score 328)</h4>
<p>Here’s yet another way (using a <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">negative look-ahead</a>):</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb213-1"><a href="#cb213-1"></a>^<span class="kw">/</span><span class="ch">(?!</span><span class="ot">ignoreme</span><span class="ch">|</span><span class="ot">ignoreme2</span><span class="ch">|</span><span class="ot">ignoremeN</span><span class="ch">)([</span><span class="bn">a-z0-9</span><span class="ch">]+)$</span><span class="ot"> </span></span></code></pre></div>
<p>Note: There’s only one capturing expression: <code>([a-z0-9]+)</code>.</p>
</section>
<section id="answer-2-score-39" class="level4">
<h4>Answer 2 (score 39)</h4>
<p>This should do it:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb214-1"><a href="#cb214-1"></a>^<span class="kw">/</span><span class="ch">\b([</span><span class="bn">a-z0-9</span><span class="ch">]+)\b(?&lt;!</span><span class="ot">ignoreme</span><span class="ch">|</span><span class="ot">ignoreme2</span><span class="ch">|</span><span class="ot">ignoreme3</span><span class="ch">)</span></span></code></pre></div>
<p>You can add as much ignored words as you like, here is a simple PHP implementation:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb215-1"><a href="#cb215-1"></a><span class="dt">$ignoredWords</span> = array(<span class="kw">&#39;</span><span class="st">ignoreme</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">ignoreme2</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">ignoreme...</span><span class="kw">&#39;</span>);</span>
<span id="cb215-2"><a href="#cb215-2"></a></span>
<span id="cb215-3"><a href="#cb215-3"></a>preg_match(<span class="kw">&#39;</span><span class="st">~^/\b([a-z0-9]+)\b(?&lt;!</span><span class="kw">&#39;</span> . implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array_map(<span class="kw">&#39;</span><span class="st">preg_quote</span><span class="kw">&#39;</span>, <span class="dt">$ignoredWords</span>)) . <span class="kw">&#39;</span><span class="st">)~i</span><span class="kw">&#39;</span>, <span class="dt">$string</span>);</span></code></pre></div>
</section>
<section id="answer-3-score-17" class="level4">
<h4>Answer 3 (score 17)</h4>
<p>As you want to exclude both words, you need a conjuction:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb216-1"><a href="#cb216-1"></a>^<span class="kw">/</span><span class="ch">(?!</span><span class="ot">ignoreme</span><span class="ch">$)(?!</span><span class="ot">ignoreme2</span><span class="ch">$)[</span><span class="bn">a-z0-9</span><span class="ch">]+$</span></span></code></pre></div>
<p>Now both conditions must be true (neither <em>ignoreme</em> nor <em>ignoreme2</em> is allowed) to have a match.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-password-must-contain-at-least-eight-characters-at-least-one-number-and-both-lower-and-uppercase-letters-and-special-characters-score-498895-in-2017" class="level3">
<h3>41: Regex for password must contain at least eight characters, at least one number and both lower and uppercase letters and special characters (score <a href="https://stackoverflow.com/q/19605150.html">498895</a> in 2017)</h3>
<section id="question-39" class="level4">
<h4>Question</h4>
<p>I want a regular expression to check that:</p>
<p>A password contains at least eight characters, including at least one number and includes both lower and uppercase letters and special characters, for example <code>#</code>, <code>?</code>, <code>!</code>.</p>
<p>It cannot be your old password or contain your username, <code>"password"</code>, or <code>"websitename"</code></p>
<p>And here is my validation expression which is for eight characters including one uppercase letter, one lowercase letter, and one number or special character.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb217-1"><a href="#cb217-1"></a>(?=^.{<span class="dv">8</span>,}<span class="dt">$)</span>((?=.<span class="dt">*\</span>d)|(?=.<span class="dt">*\W</span>+))(?![.\n])(?=.<span class="kw">*</span>[A-Z])(?=.<span class="kw">*</span>[a<span class="kw">-z</span>]).*<span class="dt">$&quot;</span></span></code></pre></div>
<p>How can I write it for <strong>a password must be eight characters including one uppercase letter, one special character and alphanumeric characters</strong>?</p>
</section>
<section id="answer-2-score-965" class="level4">
<h4>Answer 2 (score 965)</h4>
<p>Minimum eight characters, at least one letter and one number:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb218-1"><a href="#cb218-1"></a><span class="kw">&quot;</span><span class="st">^(?=.*[A-Za-z])(?=.*</span><span class="ch">\d</span><span class="st">)[A-Za-z</span><span class="ch">\d</span><span class="st">]{8,}</span><span class="dt">$&quot;</span></span></code></pre></div>
<p>Minimum eight characters, at least one letter, one number and one special character:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb219-1"><a href="#cb219-1"></a><span class="kw">&quot;</span><span class="st">^(?=.*[A-Za-z])(?=.*</span><span class="ch">\d</span><span class="st">)(?=.*[</span><span class="dt">@$!%</span><span class="st">*#?&amp;])[A-Za-z</span><span class="ch">\d</span><span class="dt">@$!%</span><span class="st">*#?&amp;]{8,}</span><span class="dt">$&quot;</span></span></code></pre></div>
<p>Minimum eight characters, at least one uppercase letter, one lowercase letter and one number:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb220-1"><a href="#cb220-1"></a><span class="kw">&quot;</span><span class="st">^(?=.*[a-z])(?=.*[A-Z])(?=.*</span><span class="ch">\d</span><span class="st">)[a-zA-Z</span><span class="ch">\d</span><span class="st">]{8,}</span><span class="dt">$&quot;</span></span></code></pre></div>
<p>Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb221-1"><a href="#cb221-1"></a><span class="kw">&quot;</span><span class="st">^(?=.*[a-z])(?=.*[A-Z])(?=.*</span><span class="ch">\d</span><span class="st">)(?=.*[</span><span class="dt">@$!%</span><span class="st">*?&amp;])[A-Za-z</span><span class="ch">\d</span><span class="dt">@$!%</span><span class="st">*?&amp;]{8,}</span><span class="dt">$&quot;</span></span></code></pre></div>
<p>Minimum eight and maximum 10 characters, at least one uppercase letter, one lowercase letter, one number and one special character:</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb222-1"><a href="#cb222-1"></a><span class="kw">&quot;</span><span class="st">^(?=.*[a-z])(?=.*[A-Z])(?=.*</span><span class="ch">\d</span><span class="st">)(?=.*[</span><span class="dt">@$!%</span><span class="st">*?&amp;])[A-Za-z</span><span class="ch">\d</span><span class="dt">@$!%</span><span class="st">*?&amp;]{8,10}</span><span class="dt">$&quot;</span></span></code></pre></div>
</section>
<section id="answer-3-score-330" class="level4">
<h4>Answer 3 (score 330)</h4>
<p>You may use this regex with multiple <a href="https://www.regular-expressions.info/lookaround.html" rel="noreferrer">lookahead assertions (conditions)</a>:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb223-1"><a href="#cb223-1"></a>^(?=.<span class="dt">*?</span>[A-Z])(?=.<span class="dt">*?</span>[a<span class="kw">-z</span>])(?=.<span class="dt">*?</span>[<span class="dv">0-9</span>])(?=.<span class="dt">*?</span>[<span class="co">#?!@$%^&amp;*-]).{8,}$</span></span></code></pre></div>
<p>This regex will enforce these rules:</p>
<ul>
<li>
At least one upper case <a href="https://en.wikipedia.org/wiki/English_alphabet" rel="noreferrer">English letter</a>, <code>(?=.*?[A-Z])</code>
</li>
<li>
At least one lower case English letter, <code>(?=.*?[a-z])</code>
</li>
<li>
At least one digit, <code>(?=.*?[0-9])</code>
</li>
<li>
At least one special character, <code>(?=.*?[#?!@$%^&amp;amp;*-])</code>
</li>
<li>
Minimum eight in length <code>.{8,}</code> (with the anchors)
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-remove-all-line-breaks-from-a-string-score-487768-in-2018" class="level3">
<h3>42: How to remove all line breaks from a string (score <a href="https://stackoverflow.com/q/10805125.html">487768</a> in 2018)</h3>
<section id="question-40" class="level4">
<h4>Question</h4>
<p>I have a text in a textarea and I read it out using the .value attribute.</p>
<p>Now I would like to remove all linebreaks (the character that is produced when you press <kbd>Enter</kbd>) from my text now using .replace with a regular expression, but how do I indicate a linebreak in a regex?</p>
<p>If that is not possible, is there another way?</p>
</section>
<section id="answer-accepted-score-430" class="level4">
<h4>Answer accepted (score 430)</h4>
<p>This is probably a FAQ. Anyhow, line breaks (better: newlines) can be one of Carriage Return (CR, <code>\r</code>, on older Macs), Line Feed (LF, <code>\n</code>, on Unices incl. Linux) or CR followed by LF (<code>\r\n</code>, on WinDOS). (Contrary to another answer, this has <em>nothing</em> to do with character encoding.)</p>
<p>Therefore, the most efficient <code>RegExp</code> literal to match all variants is</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb224-1"><a href="#cb224-1"></a><span class="kw">/</span><span class="ot">\r</span><span class="ch">?</span><span class="bn">\n</span><span class="ch">|</span><span class="ot">\r</span><span class="kw">/</span></span></code></pre></div>
<p>If you want to match all newlines in a string, use a global match,</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb225-1"><a href="#cb225-1"></a><span class="kw">/</span><span class="ot">\r</span><span class="ch">?</span><span class="bn">\n</span><span class="ch">|</span><span class="ot">\r</span><span class="kw">/g</span></span></code></pre></div>
<p>respectively. Then proceed with the <code>replace</code> method as suggested in several other answers. (Probably you do <em>not</em> want to remove the newlines, but replace them with other whitespace, for example the space character, so that words remain intact.)</p>
</section>
<section id="answer-2-score-453" class="level4">
<h4>Answer 2 (score 453)</h4>
<p>How you’d find a line break varies between operating system encodings. Windows would be <code>\r\n</code>, but Linux just uses <code>\n</code> and Apple uses <code>\r</code>.</p>
<p>I found this in <a href="http://www.textfixer.com/tutorials/javascript-line-breaks.php" rel="noreferrer">JavaScript line breaks</a>:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb226-1"><a href="#cb226-1"></a>someText = someText.replace(<span class="kw">/</span><span class="ch">(</span><span class="ot">\r</span><span class="bn">\n</span><span class="ch">|</span><span class="bn">\n</span><span class="ch">|</span><span class="ot">\r</span><span class="ch">)</span><span class="kw">/gm</span>, <span class="kw">&quot;&quot;</span>);</span></code></pre></div>
<p>That should remove all kinds of line breaks.</p>
</section>
<section id="answer-3-score-97" class="level4">
<h4>Answer 3 (score 97)</h4>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim" rel="noreferrer"><code>String.trim()</code></a> removes whitespace from the beginning and end of strings… including newlines.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb227-1"><a href="#cb227-1"></a>const myString = <span class="kw">&quot;</span><span class="st">   </span><span class="ch">\n</span><span class="st"> </span><span class="ch">\n\n</span><span class="st"> Hey! </span><span class="ch">\n</span><span class="st"> I&#39;m a string!!!         </span><span class="ch">\n\n</span><span class="kw">&quot;</span>;</span>
<span id="cb227-2"><a href="#cb227-2"></a>const trimmedString = myString.trim();</span>
<span id="cb227-3"><a href="#cb227-3"></a></span>
<span id="cb227-4"><a href="#cb227-4"></a>console.<span class="fu">log</span>(trimmedString);</span>
<span id="cb227-5"><a href="#cb227-5"></a>// outputs: <span class="kw">&quot;</span><span class="st">Hey! </span><span class="ch">\n</span><span class="st"> I&#39;m a string!!!</span><span class="kw">&quot;</span></span></code></pre></div>
<p>Here’s an example fiddle: <a href="http://jsfiddle.net/BLs8u/" rel="noreferrer">http://jsfiddle.net/BLs8u/</a></p>
<p><strong>NOTE!</strong> it only trims the beginning and end of the string, not line breaks or whitespace in the middle of the string.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-and-extract-a-number-from-a-string-score-480142-in-2015" class="level3">
<h3>43: Find and extract a number from a string (score <a href="https://stackoverflow.com/q/4734116.html">480142</a> in 2015)</h3>
<section id="question-41" class="level4">
<h4>Question</h4>
<p>I have a requirement to find and extract a number contained within a string.</p>
<p>For example, from these strings:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb228-1"><a href="#cb228-1"></a>string test = <span class="kw">&quot;</span><span class="st">1 test</span><span class="kw">&quot;</span></span>
<span id="cb228-2"><a href="#cb228-2"></a>string test1 = <span class="kw">&quot;</span><span class="st"> 1 test</span><span class="kw">&quot;</span></span>
<span id="cb228-3"><a href="#cb228-3"></a>string test2 = <span class="kw">&quot;</span><span class="st">test 99</span><span class="kw">&quot;</span></span></code></pre></div>
<p>How can I do this?</p>
</section>
<section id="answer-2-score-500" class="level4">
<h4>Answer 2 (score 500)</h4>
<p><code>\d+</code> is the regex for an integer number. So</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb229-1"><a href="#cb229-1"></a>//System.Text.RegularExpressions.Regex</span>
<span id="cb229-2"><a href="#cb229-2"></a>resultString = Regex.Match(subjectString, <span class="dt">@</span><span class="kw">&quot;</span><span class="ch">\d</span><span class="st">+</span><span class="kw">&quot;</span>).Value;</span></code></pre></div>
<p>returns a string containing the first occurrence of a number in <code>subjectString</code>.</p>
<p><code>Int32.Parse(resultString)</code> will then give you the number.</p>
</section>
<section id="answer-3-score-154" class="level4">
<h4>Answer 3 (score 154)</h4>
<p>Here’s how I cleanse phone numbers to get the digits only:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb230-1"><a href="#cb230-1"></a>string numericPhone = new String(phone.Where(Char.IsDigit).ToArray());</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-extract-text-between-square-brackets-score-478828-in-2010" class="level3">
<h3>44: Regular expression to extract text between square brackets (score <a href="https://stackoverflow.com/q/2403122.html">478828</a> in 2010)</h3>
<section id="question-42" class="level4">
<h4>Question</h4>
<p>Simple regex question. I have a string on the following format:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb231-1"><a href="#cb231-1"></a>this is a [sample] string with [some] special words. [another one]</span></code></pre></div>
<p>What is the regular expression to extract the words within the square brackets, ie.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb232-1"><a href="#cb232-1"></a>sample</span>
<span id="cb232-2"><a href="#cb232-2"></a>some</span>
<span id="cb232-3"><a href="#cb232-3"></a>another one</span></code></pre></div>
<p>Note: In my use case, brackets cannot be nested.</p>
</section>
<section id="answer-accepted-score-664" class="level4">
<h4>Answer accepted (score 664)</h4>
<p>You can use the following regex <strong>globally</strong>:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb233-1"><a href="#cb233-1"></a>\[(.<span class="dt">*?</span>)\]</span></code></pre></div>
<p>Explanation:</p>
<ul>
<li>
<code>\[</code> : <code>[</code> is a meta char and needs to be escaped if you want to match it literally.
</li>
<li>
<code>(.*?)</code> : match everything in a non-greedy way and capture it.
</li>
<li>
<code>\]</code> : <code>]</code> is a meta char and needs to be escaped if you want to match it literally.
</li>
</ul>
</section>
<section id="answer-2-score-88" class="level4">
<h4>Answer 2 (score 88)</h4>
<div class="sourceCode" id="cb234"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb234-1"><a href="#cb234-1"></a>(?&lt;=\[).+?(?=\])</span></code></pre></div>
<p>Will capture content without brackets</p>
<ul>
<li>
<p>
<code>(?&amp;lt;=\[)</code> - positive lookbehind for <code>[</code>
</p>
</li>
<li>
<p>
<code>.*?</code> - non greedy match for the content
</p>
</li>
<li>
<p>
<code>(?=\])</code> - positive lookahead for <code>]</code>
</p>
</li>
</ul>
<p>EDIT: for nested brackets the below regex should work:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb235-1"><a href="#cb235-1"></a>(\[(?:\[??[^\[]<span class="dt">*?</span>\]))</span></code></pre></div>
</section>
<section id="answer-3-score-84" class="level4">
<h4>Answer 3 (score 84)</h4>
<p>This should work out ok:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb236-1"><a href="#cb236-1"></a>\[([^]]+)\]</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-for-exact-match-of-a-string-score-476033-in-2019" class="level3">
<h3>45: Regular expression for exact match of a string (score <a href="https://stackoverflow.com/q/5752829.html">476033</a> in 2019)</h3>
<section id="question-43" class="level4">
<h4>Question</h4>
<p>I want to match two passwords with regular expression. For example I have two inputs “123456” and “1234567” then the result should be not match (false). And when I have entered “123456” and “123456” then the result should be match (true).</p>
<p>I couldn’t make the expression. How do I do it?</p>
</section>
<section id="answer-accepted-score-146" class="level4">
<h4>Answer accepted (score 146)</h4>
<p>if you have a the input password in a variable and you want to match exactly 123456 then anchors will help you:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb237-1"><a href="#cb237-1"></a><span class="kw">/</span><span class="ch">^</span><span class="ot">123456</span><span class="ch">$</span><span class="kw">/</span></span></code></pre></div>
<p>in perl the test for matching the password would be something like</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb238-1"><a href="#cb238-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">MATCH_OK</span><span class="kw">&quot;</span> <span class="kw">if</span> (<span class="dt">$input_pass</span>=~<span class="kw">/</span><span class="ch">^</span><span class="ot">123456</span><span class="ch">$</span><span class="kw">/</span>);</span></code></pre></div>
<p>EDIT:</p>
<p><a href="https://stackoverflow.com/users/50476/bart-kiers">bart kiers</a> is right tho, why don’t you use a strcmp() for this? every language has it in its own way</p>
<p>as a second thought, you may want to consider a safer authentication mechanism :)</p>
</section>
<section id="answer-2-score-132" class="level4">
<h4>Answer 2 (score 132)</h4>
<p>
In malfaux’s answer <strong>‘^’</strong> and <strong>‘$’</strong> has been used to detect the beginning and the end of the text. <br/>These are usually used to detect the beginning and the end of a line. <br/>However this may be the correct way in this case. <br/>But if you wish to match an exact word the more elegant way is to use <strong>‘</strong>. In this case following pattern will match the exact phrase’123456’.
</p>
<blockquote>
/
</blockquote>
</section>
<section id="answer-3-score-26" class="level4">
<h4>Answer 3 (score 26)</h4>
<div class="sourceCode" id="cb239"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb239-1"><a href="#cb239-1"></a>(?&lt;![\w\d])abc(?![\w\d])</span></code></pre></div>
<p>this makes sure that your match is not preceded by some character, number, or underscore and is not followed immediately by character or number, or underscore</p>
<p>so it will match “abc” in “abc”, “abc.”, “abc”, but not “4abc”, nor “abcde”</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="split-java-string-by-new-line-score-474015-in-2009" class="level3">
<h3>46: Split Java String by New Line (score <a href="https://stackoverflow.com/q/454908.html">474015</a> in 2009)</h3>
<section id="question-44" class="level4">
<h4>Question</h4>
<p>
I’m trying to split text in a <code>JTextArea</code> using a regex to split the String by <code>\n</code> However, this does not work and I also tried by <code>\r\n|\r|n</code> and many other combination of regexes. Code:
</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb240-1"><a href="#cb240-1"></a>public void insertUpdate(DocumentEvent e) {</span>
<span id="cb240-2"><a href="#cb240-2"></a>    String <span class="fu">split</span>[], docStr = null;</span>
<span id="cb240-3"><a href="#cb240-3"></a>    Document textAreaDoc = (Document)e.getDocument();</span>
<span id="cb240-4"><a href="#cb240-4"></a></span>
<span id="cb240-5"><a href="#cb240-5"></a>    try {</span>
<span id="cb240-6"><a href="#cb240-6"></a>        docStr = textAreaDoc.getText(textAreaDoc.getStartPosition().getOffset(), textAreaDoc.getEndPosition().getOffset());</span>
<span id="cb240-7"><a href="#cb240-7"></a>    } catch (BadLocationException e1) {</span>
<span id="cb240-8"><a href="#cb240-8"></a>        // TODO Auto-generated catch block</span>
<span id="cb240-9"><a href="#cb240-9"></a>        e1.printStackTrace();</span>
<span id="cb240-10"><a href="#cb240-10"></a>    }</span>
<span id="cb240-11"><a href="#cb240-11"></a></span>
<span id="cb240-12"><a href="#cb240-12"></a>    <span class="fu">split</span> = docStr.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">\\n</span><span class="kw">&quot;</span>);</span>
<span id="cb240-13"><a href="#cb240-13"></a>}</span></code></pre></div>
</section>
<section id="answer-accepted-score-687" class="level4">
<h4>Answer accepted (score 687)</h4>
<p>This should cover you:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb241-1"><a href="#cb241-1"></a>String lines[] = string.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">\\r?\\n</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>There’s only really two newlines (UNIX and Windows) that you need to worry about.</p>
</section>
<section id="answer-2-score-126" class="level4">
<h4>Answer 2 (score 126)</h4>
<p>If you don’t want empty lines:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb242-1"><a href="#cb242-1"></a>String.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">[\\r\\n]+</span><span class="kw">&quot;</span>)</span></code></pre></div>
</section>
<section id="answer-3-score-106" class="level4">
<h4>Answer 3 (score 106)</h4>
<p><a href="https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#split(java.lang.String)" rel="noreferrer"><code>String#split​(String regex)</code></a> method is using regex (regular expressions). Since Java 8 regex supports <code>\R</code> which represents (from <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html" rel="noreferrer">documentation of Pattern class</a>):</p>
<blockquote>
<p>
<strong>Linebreak matcher</strong><br>          Any Unicode linebreak sequence, is equivalent to <code>\u000D\u000A|[\u000A\u000B\u000C\u000D\u0085\u2028\u2029]</code>
</p>
</blockquote>
<p>So we can use it to match:</p>
<ul>
<li>
<code>\u000D\000A</code> -&gt; <code>\r\n</code> pair
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000a/index.htm" rel="noreferrer">\u000A</a> -&gt; line feed (<code>\n</code>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000b/index.htm" rel="noreferrer">\u000B</a> -&gt; line tabulation (DO NOT confuse with <a href="http://www.fileformat.info/info/unicode/char/0009/index.htm" rel="noreferrer">character tabulation <code>\t</code> which is <code>\\u0009</code></a>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000c/index.htm" rel="noreferrer">\u000C</a> -&gt; form feed (<code>\f</code>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/000d/index.htm" rel="noreferrer">\u000D</a> -&gt; carriage return (<code>\r</code>)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/0085/index.htm" rel="noreferrer">\u0085</a> -&gt; next line (NEL)
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/2028/index.htm" rel="noreferrer">\u2028</a> -&gt; line separator
</li>
<li>
<a href="http://www.fileformat.info/info/unicode/char/2029/index.htm" rel="noreferrer">\u2029</a> -&gt; paragraph separator
</li>
</ul>
<p>As you see <code>\r\n</code> is placed at start of regex which ensures that regex will try to match this <em>pair</em> first, and only if that match fails it will try to match <em>single character</em> line separators.</p>
<hr>
<p>So if you want to split on line separator use <code>split("\\R")</code>.</p>
<p>If you <a href="https://stackoverflow.com/questions/14602062/java-string-split-removed-empty-values">don’t want to remove from resulting array trailing empty strings <code>""</code></a> use <code>split(regex, limit)</code> with negative <code>limit</code> parameter like <code>split("\\R", -1)</code>.</p>
<p>If you want to treat one or more continues empty lines as single delimiter use <code>split("\\R+")</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="removing-empty-lines-in-notepad-score-472569-in-2014" class="level3">
<h3>47: Removing empty lines in Notepad++ (score <a href="https://stackoverflow.com/q/3866034.html">472569</a> in 2014)</h3>
<section id="question-45" class="level4">
<h4>Question</h4>
<p>How can I replace empty lines in Notepad++? I tried a find and replace with the empty lines in the find, and nothing in the replace, but it did not work; it probably needs regex.</p>
</section>
<section id="answer-accepted-score-367" class="level4">
<h4>Answer accepted (score 367)</h4>
<p>You need something like a regular expression.</p>
<p><strong>You have to be in <code>Extended</code> mode</strong></p>
<p>If you want all the lines to end up on a <strong>single line</strong> use <code>\r\n</code>. If you want to simply remove <strong>empty</strong> lines, use <code>\n\r</code> as <span class="citation" data-cites="Link">@Link</span> originally suggested.</p>
<p>Replace either expression with nothing.</p>
</section>
<section id="answer-2-score-529" class="level4">
<h4>Answer 2 (score 529)</h4>
<p>There is now a built-in way to do this as of version 6.5.2</p>
<p><code>Edit -&amp;gt; Line Operations -&amp;gt; Remove Empty Lines</code> or <code>Remove Empty Lines (Containing Blank characters)</code></p>
<p><a href="https://i.stack.imgur.com/XelUW.png" rel="noreferrer"><img src="https://i.stack.imgur.com/XelUW.png" alt="Screenshot of removing empty lines"></a></p>
</section>
<section id="answer-3-score-122" class="level4">
<h4>Answer 3 (score 122)</h4>
<p>There is a plugin that adds a menu entitled <code>TextFX</code>. This menu, which houses a dizzying array of quick text editing options, gives a person the ability to make quick coding changes. In this menu, you can find selections such as Drop Quotes, Delete Blank Lines as well as Unwrap and Rewrap Text</p>
<p><strong>Do the following:</strong></p>
<div class="sourceCode" id="cb243"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb243-1"><a href="#cb243-1"></a>TextFX &gt; TextFX Edit &gt; Delete Blank Lines</span>
<span id="cb243-2"><a href="#cb243-2"></a>TextFX &gt; TextFX Edit &gt; Delete Surplus Blank Lines</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expressions--match-anything-score-465260-in-2018" class="level3">
<h3>48: Regular Expressions- Match Anything (score <a href="https://stackoverflow.com/q/6711971.html">465260</a> in 2018)</h3>
<section id="question-46" class="level4">
<h4>Question</h4>
<p>How do I make an expression to match absolutely anything (including whitespaces)? <br />Example:</p>
<p><strong>Regex:</strong> I bought _____ sheep.</p>
<p><strong>Matches:</strong> I bought sheep. I bought a sheep. I bought five sheep.</p>
<p>I tried using <code>(.*)</code>, but that doesn’t seem to be working.</p>
<p>Update: I got it to work, apparently the problem wasn’t with the regular expressions, it’s just that the (.) characters were being escaped.</p>
</section>
<section id="answer-2-score-252" class="level4">
<h4>Answer 2 (score 252)</h4>
<p>Normally the dot matches any character <em>except newlines</em>.</p>
<p>So if <code>.*</code> isn’t working, set the “dot matches newlines, too” option (or use <code>(?s).*</code>).</p>
<p>If you’re using JavaScript, which doesn’t have a “dotall” option, try <code>[\s\S]*</code>. This means “match any number of characters that are either whitespace or non-whitespace” - effectively “match any string”.</p>
<p>Another option that only works for JavaScript (and is not recognized by any other regex flavor) is <code>[^]*</code> which also matches any string. But <code>[\s\S]*</code> seems to be more widely used, perhaps because it’s more portable.</p>
</section>
<section id="answer-3-score-155" class="level4">
<h4>Answer 3 (score 155)</h4>
<p><code>(.*?)</code> matches anything - I’ve been using it for years.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-and-kill-a-process-in-one-line-using-bash-and-regex-score-456080-in-2010" class="level3">
<h3>49: Find and kill a process in one line using bash and regex (score <a href="https://stackoverflow.com/q/3510673.html">456080</a> in 2010)</h3>
<section id="question-47" class="level4">
<h4>Question</h4>
<p>I often need to kill a process during programming.</p>
<p>The way I do it now is:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb244-1"><a href="#cb244-1"></a>[~]$ ps aux | <span class="fu">grep</span> <span class="kw">&#39;</span><span class="st">python csp_build.py</span><span class="kw">&#39;</span></span>
<span id="cb244-2"><a href="#cb244-2"></a>user    <span class="dv">5124</span>  <span class="fl">1.0</span>  <span class="fl">0.3</span> <span class="dv">214588</span> <span class="dv">13852</span> pts/<span class="dv">4</span>    Sl+  <span class="dv">11</span>:<span class="dv">19</span>   <span class="dv">0</span>:<span class="dv">00</span> python csp_build.py</span>
<span id="cb244-3"><a href="#cb244-3"></a>user    <span class="dv">5373</span>  <span class="fl">0.0</span>  <span class="fl">0.0</span>   <span class="dv">8096</span>   <span class="dv">960</span> pts/<span class="dv">6</span>    S+   <span class="dv">11</span>:<span class="dv">20</span>   <span class="dv">0</span>:<span class="dv">00</span> <span class="fu">grep</span> python csp_build.py</span>
<span id="cb244-4"><a href="#cb244-4"></a>[~]$ <span class="fu">kill</span> <span class="dv">5124</span></span></code></pre></div>
<p>How can I extract the process id automatically and kill it in the same line?</p>
<p>Like this:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb245-1"><a href="#cb245-1"></a>[~]$ ps aux | <span class="fu">grep</span> <span class="kw">&#39;</span><span class="st">python csp_build.py</span><span class="kw">&#39;</span> | <span class="fu">kill</span> &lt;regex that returns the pid&gt;</span></code></pre></div>
</section>
<section id="answer-accepted-score-1287" class="level4">
<h4>Answer accepted (score 1287)</h4>
<p>In <code>bash</code>, you should be able to do:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb246-1"><a href="#cb246-1"></a><span class="fu">kill</span> <span class="dt">$(ps</span> aux | <span class="fu">grep</span> <span class="kw">&#39;</span><span class="st">[p]ython csp_build.py</span><span class="kw">&#39;</span> | awk <span class="kw">&#39;</span><span class="st">{print $2}</span><span class="kw">&#39;</span>)</span></code></pre></div>
<p>Details on its workings are as follows:</p>
<ul>
<li>
The <code>ps</code> gives you the list of all the processes.
</li>
<li>
The <code>grep</code> filters that based on your search string, <code>[p]</code> is a trick to stop you picking up the actual <code>grep</code> process itself.
</li>
<li>
The <code>awk</code> just gives you the second field of each line, which is the PID.
</li>
<li>
The <code>$(x)</code> construct means to execute <code>x</code> then take its output and put it on the command line. The output of that <code>ps</code> pipeline inside that construct above is the list of process IDs so you end up with a command like <code>kill 1234 1122 7654</code>.
</li>
</ul>
<p>Here’s a transcript showing it in action:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb247-1"><a href="#cb247-1"></a>pax&gt; <span class="fu">sleep</span> <span class="dv">3600</span> &amp;</span>
<span id="cb247-2"><a href="#cb247-2"></a>[<span class="dv">1</span>] <span class="dv">2225</span></span>
<span id="cb247-3"><a href="#cb247-3"></a>pax&gt; <span class="fu">sleep</span> <span class="dv">3600</span> &amp;</span>
<span id="cb247-4"><a href="#cb247-4"></a>[<span class="dv">2</span>] <span class="dv">2226</span></span>
<span id="cb247-5"><a href="#cb247-5"></a>pax&gt; <span class="fu">sleep</span> <span class="dv">3600</span> &amp;</span>
<span id="cb247-6"><a href="#cb247-6"></a>[<span class="dv">3</span>] <span class="dv">2227</span></span>
<span id="cb247-7"><a href="#cb247-7"></a>pax&gt; <span class="fu">sleep</span> <span class="dv">3600</span> &amp;</span>
<span id="cb247-8"><a href="#cb247-8"></a>[<span class="dv">4</span>] <span class="dv">2228</span></span>
<span id="cb247-9"><a href="#cb247-9"></a>pax&gt; <span class="fu">sleep</span> <span class="dv">3600</span> &amp;</span>
<span id="cb247-10"><a href="#cb247-10"></a>[<span class="dv">5</span>] <span class="dv">2229</span></span>
<span id="cb247-11"><a href="#cb247-11"></a>pax&gt; <span class="fu">kill</span> <span class="dt">$(ps</span> aux | <span class="fu">grep</span> <span class="kw">&#39;</span><span class="st">[s]leep</span><span class="kw">&#39;</span> | awk <span class="kw">&#39;</span><span class="st">{print $2}</span><span class="kw">&#39;</span>)</span>
<span id="cb247-12"><a href="#cb247-12"></a>[<span class="dv">5</span>]+  Terminated              <span class="fu">sleep</span> <span class="dv">3600</span></span>
<span id="cb247-13"><a href="#cb247-13"></a>[<span class="dv">1</span>]   Terminated              <span class="fu">sleep</span> <span class="dv">3600</span></span>
<span id="cb247-14"><a href="#cb247-14"></a>[<span class="dv">2</span>]   Terminated              <span class="fu">sleep</span> <span class="dv">3600</span></span>
<span id="cb247-15"><a href="#cb247-15"></a>[<span class="dv">3</span>]-  Terminated              <span class="fu">sleep</span> <span class="dv">3600</span></span>
<span id="cb247-16"><a href="#cb247-16"></a>[<span class="dv">4</span>]+  Terminated              <span class="fu">sleep</span> <span class="dv">3600</span></span></code></pre></div>
<p>and you can see it terminating all the sleepers.</p>
<hr>
<p>Explaining the <code>grep '[p]ython csp_build.py'</code> bit in a bit more detail:</p>
<p>When you do <code>sleep 3600 &amp;amp;</code> followed by <code>ps -ef | grep sleep</code>, you tend to get <em>two</em> processes with <code>sleep</code> in it, the <code>sleep 3600</code> and the <code>grep sleep</code> (because they both have <code>sleep</code> in them, that’s not rocket science).</p>
<p>However, <code>ps -ef | grep '[s]leep'</code> won’t create a process with <code>sleep</code> in it, it instead creates <code>grep '[s]leep'</code> and here’s the tricky bit: the <code>grep</code> doesn’t find it because it’s looking for the regular expression "any character from the character class <code>[s]</code> (which is <code>s</code>) followed by <code>leep</code>.</p>
<p>In other words, it’s looking for <code>sleep</code> but the grep process is <code>grep '[s]leep'</code> which doesn’t have <code>sleep</code> in it.</p>
<p>When I was shown this (by someone here on SO), I immediately started using it because</p>
<ul>
<li>
it’s one less process than adding <code>| grep -v grep</code>; and
</li>
<li>
it’s elegant <em>and</em> sneaky, a rare combination :-)
</li>
</ul>
</section>
<section id="answer-2-score-125" class="level4">
<h4>Answer 2 (score 125)</h4>
<p>if you have pkill,</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb248-1"><a href="#cb248-1"></a>pkill <span class="kw">-f</span> csp_build.py</span></code></pre></div>
<p>If you only want to grep against the process name (instead of the full argument list) then leave off <code>-f</code>.</p>
</section>
<section id="answer-3-score-82" class="level4">
<h4>Answer 3 (score 82)</h4>
<h5>
One liner:
</h2>
<p><strong><code>ps aux  |  grep -i csp_build  |  awk '{print $2}'  |  xargs sudo kill -9</code></strong></p>
<ul>
<li>
Print out column 2: <code>awk '{print $2}'</code>
</li>
<li>
<strong><code>sudo</code></strong> is optional
</li>
<li>
Run <code>kill -9 5124</code>, <code>kill -9 5373</code> etc (kill -15 is more graceful but slightly slower)
</li>
</ul>
<hr>
<h5>
Bonus:
</h2>
<p>
I also have 2 shortcut functions defined in my .bash_profile (~/.bash_profile is for osx, you have to see what works for your *nix machine).
</p>
<ol>
<li>
<p><strong>p</strong> <em>keyword</em></p>
<ul>
<li>
lists out all <strong>P</strong>rocesses containing keyword
</li>
<li>
usage e.g: <code>p csp_build</code> , <code>p python</code> etc
</li>
</ul>
</li>
</ol>
<p><em>bash_profile code:</em></p>
<div class="sourceCode" id="cb249"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb249-1"><a href="#cb249-1"></a><span class="co"># FIND PROCESS</span></span>
<span id="cb249-2"><a href="#cb249-2"></a>function p(){</span>
<span id="cb249-3"><a href="#cb249-3"></a>        ps aux | <span class="fu">grep</span> -i <span class="dt">$1</span> | <span class="fu">grep</span> -v <span class="fu">grep</span></span>
<span id="cb249-4"><a href="#cb249-4"></a>}</span></code></pre></div>
<ol start="2">
<li>
<p><strong>ka</strong> <em>keyword</em></p>
<ul>
<li>
<strong>K</strong>ills <strong>A</strong>ll processes that have this keyword
</li>
<li>
usage e.g: <code>ka csp_build</code> , <code>ka python</code> etc
</li>
<li>
optional kill level e.g: <code>ka csp_build 15</code>, <code>ka python 9</code>
</li>
</ul>
</li>
</ol>
<p><em>bash_profile code:</em></p>
<div class="sourceCode" id="cb250"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb250-1"><a href="#cb250-1"></a><span class="co"># KILL ALL</span></span>
<span id="cb250-2"><a href="#cb250-2"></a>function ka(){</span>
<span id="cb250-3"><a href="#cb250-3"></a></span>
<span id="cb250-4"><a href="#cb250-4"></a>    cnt=<span class="dt">$(</span> p <span class="dt">$1</span> | wc <span class="kw">-l</span>)  <span class="co"># total count of processes found</span></span>
<span id="cb250-5"><a href="#cb250-5"></a>    klevel=<span class="dt">$</span>{<span class="dv">2</span>:-<span class="dv">15</span>}       <span class="co"># kill level, defaults to 15 if argument 2 is empty</span></span>
<span id="cb250-6"><a href="#cb250-6"></a></span>
<span id="cb250-7"><a href="#cb250-7"></a>    echo <span class="kw">-e</span> <span class="kw">&quot;</span><span class="ch">\n</span><span class="st">Searching for &#39;</span><span class="dt">$1</span><span class="kw">&#39;</span><span class="st"> -- Found</span><span class="kw">&quot;</span> <span class="dt">$cnt</span> <span class="kw">&quot;</span><span class="st">Running Processes .. </span><span class="kw">&quot;</span></span>
<span id="cb250-8"><a href="#cb250-8"></a>    p <span class="dt">$1</span></span>
<span id="cb250-9"><a href="#cb250-9"></a></span>
<span id="cb250-10"><a href="#cb250-10"></a>    echo <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">\nTerminating</span><span class="kw">&#39;</span> <span class="dt">$cnt</span> <span class="kw">&#39;</span><span class="st">processes .. </span><span class="kw">&#39;</span></span>
<span id="cb250-11"><a href="#cb250-11"></a></span>
<span id="cb250-12"><a href="#cb250-12"></a>    ps aux  |  <span class="fu">grep</span> -i <span class="dt">$1</span> |  <span class="fu">grep</span> -v <span class="fu">grep</span>   | awk <span class="kw">&#39;</span><span class="st">{print $2}</span><span class="kw">&#39;</span> | xargs sudo <span class="fu">kill</span> -klevel</span>
<span id="cb250-13"><a href="#cb250-13"></a>    echo <span class="kw">-e</span> <span class="kw">&quot;</span><span class="st">Done!</span><span class="ch">\n</span><span class="kw">&quot;</span></span>
<span id="cb250-14"><a href="#cb250-14"></a></span>
<span id="cb250-15"><a href="#cb250-15"></a>    echo <span class="kw">&quot;</span><span class="st">Running search again:</span><span class="kw">&quot;</span></span>
<span id="cb250-16"><a href="#cb250-16"></a>    p <span class="kw">&quot;</span><span class="dt">$1</span><span class="kw">&quot;</span></span>
<span id="cb250-17"><a href="#cb250-17"></a>    echo <span class="kw">-e</span> <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span></span>
<span id="cb250-18"><a href="#cb250-18"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-matching-up-to-the-first-occurrence-of-a-character-score-447616-in-2013" class="level3">
<h3>50: Regex: matching up to the first occurrence of a character (score <a href="https://stackoverflow.com/q/2013124.html">447616</a> in 2013)</h3>
<section id="question-48" class="level4">
<h4>Question</h4>
<p>I am looking for a pattern that matches everything <strong>until</strong> the first occurrence of a specific character, say a “;” - a <strong>semicolon</strong>.</p>
<p>I wrote this:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb251-1"><a href="#cb251-1"></a><span class="kw">/</span><span class="ch">^(</span><span class="ot">.</span><span class="ch">*)</span><span class="ot">;</span><span class="kw">/</span></span></code></pre></div>
<p>But it actually matches everything (including the semicolon) until the last occurrence of a semicolon.</p>
</section>
<section id="answer-accepted-score-443" class="level4">
<h4>Answer accepted (score 443)</h4>
<p>You need</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb252-1"><a href="#cb252-1"></a><span class="kw">/</span><span class="ch">[^</span><span class="bn">;</span><span class="ch">]*</span><span class="kw">/</span></span></code></pre></div>
<p>The <code>[^;]</code> is a <em>character class</em>, it matches everything but a semicolon.</p>
<p>To cite the <a href="http://perldoc.perl.org/perlre.html" rel="noreferrer"><code>perlre</code></a> manpage:</p>
<blockquote>
You can specify a character class, by enclosing a list of characters in [] , which will match any character from the list. If the first character after the “[” is “^”, the class matches any character not in the list.
</blockquote>
<p>This should work in most regex dialects.</p>
</section>
<section id="answer-2-score-266" class="level4">
<h4>Answer 2 (score 266)</h4>
<p>Would;</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb253-1"><a href="#cb253-1"></a><span class="kw">/</span><span class="ch">^(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot">;</span><span class="kw">/</span></span></code></pre></div>
<p>work?</p>
<p>The <code>?</code> is a lazy operator, so the regex grabs as little as possible before matching the <code>;</code>.</p>
</section>
<section id="answer-3-score-34" class="level4">
<h4>Answer 3 (score 34)</h4>
<p><code>/^[^;]*/</code></p>
<p>The [^;] says match anything except a semicolon. The square brackets are a set matching operator, it’s essentially, match any character in this set of characters, the <code>^</code> at the start makes it an inverse match, so match anything <em>not</em> in this set.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-if-string-matches-pattern-score-446271-in-2016" class="level3">
<h3>51: Check if string matches pattern (score <a href="https://stackoverflow.com/q/12595051.html">446271</a> in 2016)</h3>
<section id="question-49" class="level4">
<h4>Question</h4>
<p>How do I check if a string matches this pattern?</p>
<p>Uppercase letter, number(s), uppercase letter, number(s)…</p>
<p>Example, These would match:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb254-1"><a href="#cb254-1"></a>A1B2</span>
<span id="cb254-2"><a href="#cb254-2"></a>B10L1</span>
<span id="cb254-3"><a href="#cb254-3"></a>C1N200J1</span></code></pre></div>
<p>These wouldn’t (‘^’ points to problem)</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb255-1"><a href="#cb255-1"></a>a1B2</span>
<span id="cb255-2"><a href="#cb255-2"></a>^</span>
<span id="cb255-3"><a href="#cb255-3"></a>A10B</span>
<span id="cb255-4"><a href="#cb255-4"></a>   ^</span>
<span id="cb255-5"><a href="#cb255-5"></a>AB400</span>
<span id="cb255-6"><a href="#cb255-6"></a>^</span></code></pre></div>
</section>
<section id="answer-accepted-score-396" class="level4">
<h4>Answer accepted (score 396)</h4>
<div class="sourceCode" id="cb256"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb256-1"><a href="#cb256-1"></a><span class="fu">import</span> re</span>
<span id="cb256-2"><a href="#cb256-2"></a>pattern = re.compile(<span class="kw">&quot;</span><span class="st">^([A-Z][0-9]+)+</span><span class="dt">$&quot;</span><span class="st">)</span></span>
<span id="cb256-3"><a href="#cb256-3"></a><span class="st">pattern.match(string)</span></span></code></pre></div>
<p>Edit: As noted in the comments <code>match</code> checks only for matches at the beginning of the string while <code>re.search()</code> will match a pattern anywhere in string. (See also: <a href="https://docs.python.org/library/re.html#search-vs-match" rel="noreferrer">https://docs.python.org/library/re.html#search-vs-match</a>)</p>
</section>
<section id="answer-2-score-132-1" class="level4">
<h4>Answer 2 (score 132)</h4>
<p><strong>One-liner: <code>re.match(r"pattern", string) # No need to compile</code></strong></p>
<div class="sourceCode" id="cb257"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb257-1"><a href="#cb257-1"></a><span class="fu">import</span> re</span>
<span id="cb257-2"><a href="#cb257-2"></a>&gt;&gt;&gt; <span class="kw">if</span> re.match(r<span class="kw">&quot;</span><span class="st">hello[0-9]+</span><span class="kw">&quot;</span>, <span class="kw">&#39;</span><span class="st">hello1</span><span class="kw">&#39;</span>):</span>
<span id="cb257-3"><a href="#cb257-3"></a>...     <span class="fu">print</span>(<span class="kw">&#39;</span><span class="st">Yes</span><span class="kw">&#39;</span>)</span>
<span id="cb257-4"><a href="#cb257-4"></a>... </span>
<span id="cb257-5"><a href="#cb257-5"></a>Yes</span></code></pre></div>
<p>You can evalute it as <code>bool</code> if needed</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb258-1"><a href="#cb258-1"></a>&gt;&gt;&gt; bool(re.match(r<span class="kw">&quot;</span><span class="st">hello[0-9]+</span><span class="kw">&quot;</span>, <span class="kw">&#39;</span><span class="st">hello1</span><span class="kw">&#39;</span>))</span>
<span id="cb258-2"><a href="#cb258-2"></a>True</span></code></pre></div>
</section>
<section id="answer-3-score-32" class="level4">
<h4>Answer 3 (score 32)</h4>
<p>Please try the following:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb259-1"><a href="#cb259-1"></a><span class="fu">import</span> re</span>
<span id="cb259-2"><a href="#cb259-2"></a></span>
<span id="cb259-3"><a href="#cb259-3"></a>name = [<span class="kw">&quot;</span><span class="st">A1B1</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">djdd</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">B2C4</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">C2H2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">jdoi</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="st">1A4V</span><span class="kw">&quot;</span>]</span>
<span id="cb259-4"><a href="#cb259-4"></a></span>
<span id="cb259-5"><a href="#cb259-5"></a><span class="co"># Match names.</span></span>
<span id="cb259-6"><a href="#cb259-6"></a><span class="kw">for</span> element in name:</span>
<span id="cb259-7"><a href="#cb259-7"></a>     <span class="kw">m</span><span class="ot"> </span><span class="kw">=</span><span class="ot"> re.match</span><span class="ch">(</span><span class="ot">&quot;</span><span class="ch">(^[</span><span class="bn">A-Z</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">[</span><span class="bn">A-Z</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">)</span><span class="ot">&quot;, element</span><span class="ch">)</span></span>
<span id="cb259-8"><a href="#cb259-8"></a><span class="ot">     if m:</span></span>
<span id="cb259-9"><a href="#cb259-9"></a><span class="ot">        print</span><span class="ch">(</span><span class="ot">m.groups</span><span class="ch">())</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-split-a-string-with-multiple-separators-in-javascript-score-442421-in-2015" class="level3">
<h3>52: How do I split a string with multiple separators in javascript? (score <a href="https://stackoverflow.com/q/650022.html">442421</a> in 2015)</h3>
<section id="question-50" class="level4">
<h4>Question</h4>
<p>How do I split a string with multiple separators in JavaScript? I’m trying to split on both commas and spaces but, AFAIK, JS’s split function only supports one separator.</p>
</section>
<section id="answer-accepted-score-639" class="level4">
<h4>Answer accepted (score 639)</h4>
<p>Pass in a regexp as the parameter:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb260-1"><a href="#cb260-1"></a>js&gt; <span class="kw">&quot;</span><span class="st">Hello awesome, world!</span><span class="kw">&quot;</span>.<span class="fu">split</span>(<span class="kw">/</span><span class="ch">[</span><span class="bn">\s,</span><span class="ch">]+</span><span class="kw">/</span>)</span>
<span id="cb260-2"><a href="#cb260-2"></a>Hello,awesome,world!</span></code></pre></div>
<p><strong>Edited to add:</strong></p>
<p>You can get the last element by selecting the length of the array minus 1:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb261-1"><a href="#cb261-1"></a>&gt;&gt;&gt; bits = <span class="kw">&quot;</span><span class="st">Hello awesome, world!</span><span class="kw">&quot;</span>.<span class="fu">split</span>(<span class="kw">/</span><span class="ch">[</span><span class="bn">\s,</span><span class="ch">]+</span><span class="kw">/</span>)</span>
<span id="cb261-2"><a href="#cb261-2"></a>[<span class="kw">&quot;</span><span class="st">Hello</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">awesome</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">world!</span><span class="kw">&quot;</span>]</span>
<span id="cb261-3"><a href="#cb261-3"></a>&gt;&gt;&gt; bit = bits[bits.<span class="fu">length</span> - <span class="dv">1</span>]</span>
<span id="cb261-4"><a href="#cb261-4"></a><span class="kw">&quot;</span><span class="st">world!</span><span class="kw">&quot;</span></span></code></pre></div>
<p>… and if the pattern doesn’t match:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb262-1"><a href="#cb262-1"></a>&gt;&gt;&gt; bits = <span class="kw">&quot;</span><span class="st">Hello awesome, world!</span><span class="kw">&quot;</span>.<span class="fu">split</span>(<span class="kw">/</span><span class="ot">foo</span><span class="kw">/</span>)</span>
<span id="cb262-2"><a href="#cb262-2"></a>[<span class="kw">&quot;</span><span class="st">Hello awesome, world!</span><span class="kw">&quot;</span>]</span>
<span id="cb262-3"><a href="#cb262-3"></a>&gt;&gt;&gt; bits[bits.<span class="fu">length</span> - <span class="dv">1</span>]</span>
<span id="cb262-4"><a href="#cb262-4"></a><span class="kw">&quot;</span><span class="st">Hello awesome, world!</span><span class="kw">&quot;</span></span></code></pre></div>
</section>
<section id="answer-2-score-168" class="level4">
<h4>Answer 2 (score 168)</h4>
<p>You can pass a regex into <a href="https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/String/split" rel="noreferrer">Javascript’s split operator</a>. For example:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb263-1"><a href="#cb263-1"></a><span class="kw">&quot;</span><span class="st">1,2 3</span><span class="kw">&quot;</span>.<span class="fu">split</span>(<span class="kw">/</span><span class="ot">,</span><span class="ch">|</span><span class="ot"> </span><span class="kw">/</span>) </span>
<span id="cb263-2"><a href="#cb263-2"></a>[<span class="kw">&quot;</span><span class="st">1</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">3</span><span class="kw">&quot;</span>]</span></code></pre></div>
<p>Or, if you want to allow multiple separators together to act as one only:</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb264-1"><a href="#cb264-1"></a><span class="kw">&quot;</span><span class="st">1, 2, , 3</span><span class="kw">&quot;</span>.<span class="fu">split</span>(<span class="kw">/</span><span class="ch">(?:</span><span class="ot">,</span><span class="ch">|</span><span class="ot"> </span><span class="ch">)+</span><span class="kw">/</span>) </span>
<span id="cb264-2"><a href="#cb264-2"></a>[<span class="kw">&quot;</span><span class="st">1</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">3</span><span class="kw">&quot;</span>]</span></code></pre></div>
<p>(You have to use the non-capturing (?:) parens because otherwise it gets spliced back into the result. Or you can be smart like Aaron and use a character class.)</p>
<p>(Examples tested in Safari + FF)</p>
</section>
<section id="answer-3-score-48" class="level4">
<h4>Answer 3 (score 48)</h4>
<p>Another simple but effective method is to use split + join repeatedly.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb265-1"><a href="#cb265-1"></a><span class="kw">&quot;</span><span class="st">a=b,c:d</span><span class="kw">&quot;</span>.<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">=</span><span class="kw">&#39;</span>).<span class="fu">join</span>(<span class="kw">&#39;</span><span class="st">,</span><span class="kw">&#39;</span>).<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>).<span class="fu">join</span>(<span class="kw">&#39;</span><span class="st">,</span><span class="kw">&#39;</span>).<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">,</span><span class="kw">&#39;</span>)</span></code></pre></div>
<p>Essentially doing a split followed by a join is like a global replace so this replaces each separator with a comma then once all are replaced it does a final split on comma</p>
<p>The result of the above expression is:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb266-1"><a href="#cb266-1"></a>[<span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">c</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">d</span><span class="kw">&#39;</span>]</span></code></pre></div>
<p>Expanding on this you could also place it in a function:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb267-1"><a href="#cb267-1"></a>function splitMulti(str, tokens){</span>
<span id="cb267-2"><a href="#cb267-2"></a>        var tempChar = tokens[<span class="dv">0</span>]; // We can <span class="fu">use</span> the first token as a temporary <span class="fu">join</span> character</span>
<span id="cb267-3"><a href="#cb267-3"></a>        <span class="kw">for</span>(var i = <span class="dv">1</span>; i &lt; tokens.<span class="fu">length</span>; i++){</span>
<span id="cb267-4"><a href="#cb267-4"></a>            str = str.<span class="fu">split</span>(tokens[i]).<span class="fu">join</span>(tempChar);</span>
<span id="cb267-5"><a href="#cb267-5"></a>        }</span>
<span id="cb267-6"><a href="#cb267-6"></a>        str = str.<span class="fu">split</span>(tempChar);</span>
<span id="cb267-7"><a href="#cb267-7"></a>        <span class="kw">return</span> str;</span>
<span id="cb267-8"><a href="#cb267-8"></a>}</span></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb268-1"><a href="#cb268-1"></a>splitMulti(<span class="kw">&#39;</span><span class="st">a=b,c:d</span><span class="kw">&#39;</span>, [<span class="kw">&#39;</span><span class="st">=</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">,</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>]) // [<span class="kw">&quot;</span><span class="st">a</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">b</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">c</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">d</span><span class="kw">&quot;</span>]</span></code></pre></div>
<p>If you use this functionality a lot it might even be worth considering wrapping <code>String.prototype.split</code> for convenience (I think my function is fairly safe - the only consideration is the additional overhead of the conditionals (minor) and the fact that it lacks an implementation of the limit argument if an array is passed).</p>
<p>Be sure to include the <code>splitMulti</code> function if using this approach to the below simply wraps it :). Also worth noting that some people frown on extending built-ins (as many people do it wrong and conflicts can occur) so if in doubt speak to someone more senior before using this or ask on SO :)</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb269-1"><a href="#cb269-1"></a>    var splitOrig = String.<span class="fu">prototype</span>.<span class="fu">split</span>; // Maintain a reference to inbuilt fn</span>
<span id="cb269-2"><a href="#cb269-2"></a>    String.<span class="fu">prototype</span>.<span class="fu">split</span> = function (){</span>
<span id="cb269-3"><a href="#cb269-3"></a>        <span class="kw">if</span>(arguments[<span class="dv">0</span>].<span class="fu">length</span> &gt; <span class="dv">0</span>){</span>
<span id="cb269-4"><a href="#cb269-4"></a>            <span class="kw">if</span>(Object.<span class="fu">prototype</span>.toString.call(arguments[<span class="dv">0</span>]) == <span class="kw">&quot;</span><span class="st">[object Array]</span><span class="kw">&quot;</span> ) { // Check <span class="kw">if</span> <span class="kw">our</span> separator is an array</span>
<span id="cb269-5"><a href="#cb269-5"></a>                <span class="kw">return</span> splitMulti(this, arguments[<span class="dv">0</span>]);  // Call splitMulti</span>
<span id="cb269-6"><a href="#cb269-6"></a>            }</span>
<span id="cb269-7"><a href="#cb269-7"></a>        }</span>
<span id="cb269-8"><a href="#cb269-8"></a>        <span class="kw">return</span> splitOrig.apply(this, arguments); // Call original <span class="fu">split</span> maintaining context</span>
<span id="cb269-9"><a href="#cb269-9"></a>    };</span></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb270-1"><a href="#cb270-1"></a>var a = <span class="kw">&quot;</span><span class="st">a=b,c:d</span><span class="kw">&quot;</span>;</span>
<span id="cb270-2"><a href="#cb270-2"></a>    a.<span class="fu">split</span>([<span class="kw">&#39;</span><span class="st">=</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">,</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>]); // [<span class="kw">&quot;</span><span class="st">a</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">b</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">c</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">d</span><span class="kw">&quot;</span>]</span>
<span id="cb270-3"><a href="#cb270-3"></a></span>
<span id="cb270-4"><a href="#cb270-4"></a>// Test to check that the built-in <span class="fu">split</span> still works (although <span class="kw">our</span> wrapper wouldn<span class="kw">&#39;</span><span class="st">t work if it didn</span><span class="kw">&#39;</span>t as it depends on it :P)</span>
<span id="cb270-5"><a href="#cb270-5"></a>        a.<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">=</span><span class="kw">&#39;</span>); // [<span class="kw">&quot;</span><span class="st">a</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">b,c:d</span><span class="kw">&quot;</span>] </span></code></pre></div>
<p>Enjoy!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-count-string-occurrence-in-string-score-426426-in" class="level3">
<h3>53: How to count string occurrence in string? (score <a href="https://stackoverflow.com/q/4009756.html">426426</a> in )</h3>
<section id="question-51" class="level4">
<h4>Question</h4>
<p>How can I count the number of times a particular string occurs in another string. For example, this is what I am trying to do in Javascript:</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb271-1"><a href="#cb271-1"></a>var temp = <span class="kw">&quot;</span><span class="st">This is a string.</span><span class="kw">&quot;</span>;</span>
<span id="cb271-2"><a href="#cb271-2"></a>alert(temp.count(<span class="kw">&quot;</span><span class="st">is</span><span class="kw">&quot;</span>)); //should output <span class="kw">&#39;</span><span class="st">2</span><span class="kw">&#39;</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-933" class="level4">
<h4>Answer accepted (score 933)</h4>
<p>The <code>g</code> in the regular expression (short for <em>global</em>) says to search the whole string rather than just find the first occurrence. This matches <code>is</code> twice:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb272"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb272-1"><a href="#cb272-1"></a>var temp = <span class="kw">&quot;</span><span class="st">This is a string.</span><span class="kw">&quot;</span>;</span>
<span id="cb272-2"><a href="#cb272-2"></a>var count = (temp.match(<span class="kw">/</span><span class="ot">is</span><span class="kw">/g</span>) || []).<span class="fu">length</span>;</span>
<span id="cb272-3"><a href="#cb272-3"></a>console.<span class="fu">log</span>(count);</span></code></pre></div>
</div>
</div>
<p>And, if there are no matches, it returns <code>0</code>:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb273"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb273-1"><a href="#cb273-1"></a>var temp = <span class="kw">&quot;</span><span class="st">Hello World!</span><span class="kw">&quot;</span>;</span>
<span id="cb273-2"><a href="#cb273-2"></a>var count = (temp.match(<span class="kw">/</span><span class="ot">is</span><span class="kw">/g</span>) || []).<span class="fu">length</span>;</span>
<span id="cb273-3"><a href="#cb273-3"></a>console.<span class="fu">log</span>(count);</span></code></pre></div>
</div>
</div>
</section>
<section id="answer-2-score-224" class="level4">
<h4>Answer 2 (score 224)</h4>
<div class="sourceCode" id="cb274"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb274-1"><a href="#cb274-1"></a><span class="kw">/</span><span class="ch">**</span><span class="ot"> Function that count occurrences of a substring in a string;</span></span>
<span id="cb274-2"><a href="#cb274-2"></a><span class="ot"> </span><span class="ch">*</span><span class="ot"> </span><span class="dt">@param</span><span class="ot"> {String} string               The string</span></span>
<span id="cb274-3"><a href="#cb274-3"></a><span class="ot"> </span><span class="ch">*</span><span class="ot"> </span><span class="dt">@param</span><span class="ot"> {String} subString            The sub string to search for</span></span>
<span id="cb274-4"><a href="#cb274-4"></a><span class="ot"> </span><span class="ch">*</span><span class="ot"> </span><span class="dt">@param</span><span class="ot"> {Boolean} </span><span class="ch">[</span><span class="bn">allowOverlapping</span><span class="ch">]</span><span class="ot">  Optional. </span><span class="ch">(</span><span class="ot">Default:false</span><span class="ch">)</span></span>
<span id="cb274-5"><a href="#cb274-5"></a><span class="ot"> </span><span class="ch">*</span></span>
<span id="cb274-6"><a href="#cb274-6"></a><span class="ot"> </span><span class="ch">*</span><span class="ot"> </span><span class="dt">@author</span><span class="ot"> Vitim.us https:</span><span class="kw">//</span><span class="ot">gist.github.com</span><span class="kw">/</span>victornpb/<span class="dv">7736865</span></span>
<span id="cb274-7"><a href="#cb274-7"></a> <span class="kw">*</span> <span class="dt">@see</span> Unit Test https://jsfiddle.net/Victornpb/5axuh96u/</span>
<span id="cb274-8"><a href="#cb274-8"></a> <span class="kw">*</span> <span class="dt">@see</span> http://stackoverflow.com/questions/<span class="dv">4009756</span>/how-to-count-string-occurrence-in-string/<span class="dv">7924240</span><span class="co">#7924240</span></span>
<span id="cb274-9"><a href="#cb274-9"></a> <span class="dt">*/</span></span>
<span id="cb274-10"><a href="#cb274-10"></a>function occurrences(string, subString, allowOverlapping) {</span>
<span id="cb274-11"><a href="#cb274-11"></a></span>
<span id="cb274-12"><a href="#cb274-12"></a>    string += <span class="kw">&quot;&quot;</span>;</span>
<span id="cb274-13"><a href="#cb274-13"></a>    subString += <span class="kw">&quot;&quot;</span>;</span>
<span id="cb274-14"><a href="#cb274-14"></a>    <span class="kw">if</span> (subString.<span class="fu">length</span> &lt;= <span class="dv">0</span>) <span class="kw">return</span> (string.<span class="fu">length</span> + <span class="dv">1</span>);</span>
<span id="cb274-15"><a href="#cb274-15"></a></span>
<span id="cb274-16"><a href="#cb274-16"></a>    var n = <span class="dv">0</span>,</span>
<span id="cb274-17"><a href="#cb274-17"></a>        <span class="fu">pos</span> = <span class="dv">0</span>,</span>
<span id="cb274-18"><a href="#cb274-18"></a>        step = allowOverlapping ? <span class="dv">1</span> : subString.<span class="fu">length</span>;</span>
<span id="cb274-19"><a href="#cb274-19"></a></span>
<span id="cb274-20"><a href="#cb274-20"></a>    <span class="kw">while</span> (true) {</span>
<span id="cb274-21"><a href="#cb274-21"></a>        <span class="fu">pos</span> = string.indexOf(subString, <span class="fu">pos</span>);</span>
<span id="cb274-22"><a href="#cb274-22"></a>        <span class="kw">if</span> (<span class="fu">pos</span> &gt;= <span class="dv">0</span>) {</span>
<span id="cb274-23"><a href="#cb274-23"></a>            ++n;</span>
<span id="cb274-24"><a href="#cb274-24"></a>            <span class="fu">pos</span> += step;</span>
<span id="cb274-25"><a href="#cb274-25"></a>        } <span class="kw">else</span> <span class="kw">break</span>;</span>
<span id="cb274-26"><a href="#cb274-26"></a>    }</span>
<span id="cb274-27"><a href="#cb274-27"></a>    <span class="kw">return</span> n;</span>
<span id="cb274-28"><a href="#cb274-28"></a>}</span></code></pre></div>
<h5>
Usage
</h2>
<div class="sourceCode" id="cb275"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb275-1"><a href="#cb275-1"></a>occurrences(<span class="kw">&quot;</span><span class="st">foofoofoo</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">bar</span><span class="kw">&quot;</span>); //<span class="dv">0</span></span>
<span id="cb275-2"><a href="#cb275-2"></a></span>
<span id="cb275-3"><a href="#cb275-3"></a>occurrences(<span class="kw">&quot;</span><span class="st">foofoofoo</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span>); //<span class="dv">3</span></span>
<span id="cb275-4"><a href="#cb275-4"></a></span>
<span id="cb275-5"><a href="#cb275-5"></a>occurrences(<span class="kw">&quot;</span><span class="st">foofoofoo</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">foofoo</span><span class="kw">&quot;</span>); //<span class="dv">1</span></span></code></pre></div>
<h5>
allowOverlapping
</h3>
<div class="sourceCode" id="cb276"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb276-1"><a href="#cb276-1"></a>occurrences(<span class="kw">&quot;</span><span class="st">foofoofoo</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">foofoo</span><span class="kw">&quot;</span>, true); //<span class="dv">2</span></span></code></pre></div>
<p>Matches:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb277-1"><a href="#cb277-1"></a>  foofoofoo</span>
<span id="cb277-2"><a href="#cb277-2"></a><span class="dv">1</span> <span class="kw">`</span><span class="st">----´</span></span>
<span id="cb277-3"><a href="#cb277-3"></a><span class="st">2    </span><span class="kw">`</span>----´</span></code></pre></div>
<h5>
Unit Test
</h2>
<ul>
<li>
<a href="https://jsfiddle.net/Victornpb/5axuh96u/" rel="noreferrer">https://jsfiddle.net/Victornpb/5axuh96u/</a>
</li>
</ul>
<h5>
Benchmark
</h2>
<blockquote>
<p>
I’ve made a benchmark test and my function is more then 10 times faster then the regexp match function posted by gumbo. In my test string is 25 chars length. with 2 occurences of the character ‘o’. I executed 1 000 000 times in Safari.
</p>
<p><strong>Safari 5.1</strong></p>
<p>Benchmark&gt; Total time execution: 5617 ms (regexp)</p>
<p>Benchmark&gt; Total time execution: 881 ms (my function 6.4x faster)</p>
<p><strong>Firefox 4</strong></p>
<p>Benchmark&gt; Total time execution: 8547 ms (Rexexp)</p>
<p>Benchmark&gt; Total time execution: 634 ms (my function 13.5x faster)</p>
<hr>
<p>Edit: changes I’ve made</p>
<ul>
<li>
<p>
cached substring length
</p>
</li>
<li>
<p>
added type-casting to string.
</p>
</li>
<li>
<p>
added optional ‘allowOverlapping’ parameter
</p>
</li>
<li>
<p>
fixed correct output for "" empty substring case.
</p>
</li>
</ul>
</blockquote>
<p>Gist</p>
<ul>
<li>
<a href="https://gist.github.com/victornpb/7736865" rel="noreferrer">https://gist.github.com/victornpb/7736865</a>
</li>
</ul>
</section>
<section id="answer-3-score-99" class="level4">
<h4>Answer 3 (score 99)</h4>
<div class="sourceCode" id="cb278"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb278-1"><a href="#cb278-1"></a>function countInstances(string, word) {</span>
<span id="cb278-2"><a href="#cb278-2"></a>   <span class="kw">return</span> string.<span class="fu">split</span>(word).<span class="fu">length</span> - <span class="dv">1</span>;</span>
<span id="cb278-3"><a href="#cb278-3"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-allow-spaces-between-words-score-425290-in-2019" class="level3">
<h3>54: Regular expression to allow spaces between words (score <a href="https://stackoverflow.com/q/15472764.html">425290</a> in 2019)</h3>
<section id="question-52" class="level4">
<h4>Question</h4>
<p>I want a regular expression that prevents symbols and only allows letters and numbers. The regex below works great, but it doesn’t allow for spaces between words.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb279-1"><a href="#cb279-1"></a>^[a-zA-Z0<span class="dv">-9</span>_]*$</span></code></pre></div>
<p>For example, when using this regular expression “HelloWorld” is fine, but “Hello World” does not match.</p>
<p>How can I tweak it to allow spaces?</p>
</section>
<section id="answer-accepted-score-305" class="level4">
<h4>Answer accepted (score 305)</h4>
<h5>
tl;dr
</h1>
<p>Just add a space in your <a href="http://www.regular-expressions.info/charclass.html" rel="noreferrer">character class</a>.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb280-1"><a href="#cb280-1"></a>^[a-zA-Z0<span class="dv">-9</span>_ ]*$</span></code></pre></div>
<p> </p>
<hr>
<h5>
Now, if you want to be strict…
</h1>
<p>The above isn’t exactly correct. Due to the fact that <code>*</code> means <em>zero or more</em>, it would match all of the following cases that one would not usually mean to match:</p>
<ul>
<li>
An empty string, "".
</li>
<li>
A string comprised entirely of spaces, “      ”.
</li>
<li>
A string that leads and / or trails with spaces, “   Hello World  ”.
</li>
<li>
A string that contains multiple spaces in between words, “Hello   World”.
</li>
</ul>
<p>Originally I didn’t think such details were worth going into, as OP was asking such a basic question that it seemed strictness wasn’t a concern. Now that the question’s gained some popularity however, I want to say…</p>
<h5>
…use <a href="https://stackoverflow.com/a/15473717/3886459"><span class="citation" data-cites="stema">@stema</span>’s answer</a>.
</h2>
<p>Which, in my flavor (without using <code>\w</code>) translates to:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb281-1"><a href="#cb281-1"></a>^[a-zA-Z0<span class="dv">-9</span>_]+( [a-zA-Z0<span class="dv">-9</span>_]+)*$</span></code></pre></div>
<p>(Please upvote <span class="citation" data-cites="stema">@stema</span> regardless.)</p>
<p>Some things to note about this (and <span class="citation" data-cites="stema">@stema</span>’s) answer:</p>
<ul>
<li>
<p>
If you want to allow <em>multiple</em> spaces between words (say, if you’d like to allow accidental double-spaces, or if you’re working with copy-pasted text from a PDF), then add a <code>+</code> after the space:
</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb282-1"><a href="#cb282-1"></a>^\w+( +\w+)*$</span>
<span id="cb282-2"><a href="#cb282-2"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb282-3"><a href="#cb282-3"></a><span class="st">&lt;li&gt;&lt;p&gt;If you want to allow tabs and newlines (whitespace characters), then replace the space with a </span><span class="kw">`</span>\<span class="kw">s+</span><span class="ot">`:&lt;/p&gt;</span></span>
<span id="cb282-4"><a href="#cb282-4"></a></span>
<span id="cb282-5"><a href="#cb282-5"></a><span class="ot">```perl</span></span>
<span id="cb282-6"><a href="#cb282-6"></a><span class="ch">^</span><span class="bn">\w</span><span class="kw">+</span><span class="st">(</span><span class="ch">\s</span><span class="kw">+</span>\w+)*$</span></code></pre></div>
Here I suggest the <code>+</code> by default because, for example, Windows linebreaks consist of <em>two</em> whitespace characters in sequence, <code>\r\n</code>, so you’ll need the <code>+</code> to catch both.
</li>
</ul>
<h5>
Still not working?
</h1>
<p>Check what dialect of regular expressions you’re using.<sup>*</sup> In languages like Java you’ll have to escape your backslashes, <em>i.e.</em> <code>\\w</code> and <code>\\s</code>. In older or more basic languages and utilities, like <code>sed</code>, <code>\w</code> and <code>\s</code> aren’t defined, so write them out with character classes, <em>e.g.</em> <code>[a-zA-Z0-9_]</code> and <code>[\f\n\p\r\t]</code>, respectively.</p>
<p> </p>
<hr>
<p><sup><sup>*</sup> I know this question is tagged <a href="/questions/tagged/vb.net" class="post-tag" title="show questions tagged &#39;vb.net&#39;" rel="tag">vb.net</a>, but based on 25,000+ views, I’m guessing it’s not only those folks who are coming across this question. Currently it’s the first hit on google for the search phrase, <em>regular expression space word</em>.</sup></p>
</section>
<section id="answer-2-score-105" class="level4">
<h4>Answer 2 (score 105)</h4>
<p>One possibility would be to just add the space into you character class, like acheong87 suggested, this depends on how strict you are on your pattern, because this would also allow a string starting with 5 spaces, or strings consisting only of spaces.</p>
<p>The other possibility is to define a pattern:</p>
<p>I will use <code>\w</code> this is in most regex flavours the same than <code>[a-zA-Z0-9_]</code> (in some it is Unicode based)</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb283-1"><a href="#cb283-1"></a>^\w+( \w+)*$</span></code></pre></div>
<p>This will allow a series of at least one word and the words are divided by spaces.</p>
<p><code>^</code> Match the start of the string</p>
<p><code>\w+</code> Match a series of at least one word character</p>
<p><code>( \w+)*</code> is a group that is repeated 0 or more times. In the group it expects a space followed by a series of at least one word character</p>
<p><code>$</code> matches the end of the string</p>
</section>
<section id="answer-3-score-21" class="level4">
<h4>Answer 3 (score 21)</h4>
<p>This one worked for me</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb284-1"><a href="#cb284-1"></a>([\w ]+)</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="validating-email-addresses-using-jquery-and-regex-score-422825-in-2017" class="level3">
<h3>55: Validating email addresses using jQuery and regex (score <a href="https://stackoverflow.com/q/2855865.html">422825</a> in 2017)</h3>
<section id="question-53" class="level4">
<h4>Question</h4>
<p>I’m not too sure how to do this. I need to validate email addresses using regex with something like this:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb285-1"><a href="#cb285-1"></a>[a-z0<span class="dv">-9</span>!<span class="co">#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9].html)?\.)+(?:[A-Z]{2}|com|org|net|edu|gov|mil|biz|info|mobi|name|aero|asia|jobs|museum)</span></span></code></pre></div>
<p>Then I need to run this in a jQuery function like this:</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb286-1"><a href="#cb286-1"></a><span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_emailaddress</span><span class="kw">&quot;</span>).live(<span class="kw">&#39;</span><span class="st">change</span><span class="kw">&#39;</span>,function() { </span>
<span id="cb286-2"><a href="#cb286-2"></a>var emailaddress = <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_emailaddress</span><span class="kw">&quot;</span>).val();</span>
<span id="cb286-3"><a href="#cb286-3"></a></span>
<span id="cb286-4"><a href="#cb286-4"></a>// validation here? </span>
<span id="cb286-5"><a href="#cb286-5"></a></span>
<span id="cb286-6"><a href="#cb286-6"></a><span class="kw">if</span>(emailaddress){}</span>
<span id="cb286-7"><a href="#cb286-7"></a></span>
<span id="cb286-8"><a href="#cb286-8"></a>// end validation</span>
<span id="cb286-9"><a href="#cb286-9"></a></span>
<span id="cb286-10"><a href="#cb286-10"></a><span class="dt">$j</span>.ajax({  </span>
<span id="cb286-11"><a href="#cb286-11"></a>        type: <span class="kw">&quot;</span><span class="st">POST</span><span class="kw">&quot;</span>,  </span>
<span id="cb286-12"><a href="#cb286-12"></a>         url: <span class="kw">&quot;</span><span class="st">../ff-admin/ff-register/ff-user-check.php</span><span class="kw">&quot;</span>,  </span>
<span id="cb286-13"><a href="#cb286-13"></a>        data: <span class="kw">&quot;</span><span class="st">fld_emailaddress=</span><span class="kw">&quot;</span>+ emailaddress,  </span>
<span id="cb286-14"><a href="#cb286-14"></a>        success: function(msg)</span>
<span id="cb286-15"><a href="#cb286-15"></a>        { </span>
<span id="cb286-16"><a href="#cb286-16"></a>            <span class="kw">if</span>(msg == <span class="kw">&#39;</span><span class="st">OK</span><span class="kw">&#39;</span>) { </span>
<span id="cb286-17"><a href="#cb286-17"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_username</span><span class="kw">&quot;</span>).attr(<span class="kw">&#39;</span><span class="st">disabled</span><span class="kw">&#39;</span>,false); </span>
<span id="cb286-18"><a href="#cb286-18"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_password</span><span class="kw">&quot;</span>).attr(<span class="kw">&#39;</span><span class="st">disabled</span><span class="kw">&#39;</span>,false); </span>
<span id="cb286-19"><a href="#cb286-19"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#cmd_register_submit</span><span class="kw">&quot;</span>).attr(<span class="kw">&#39;</span><span class="st">disabled</span><span class="kw">&#39;</span>,false); </span>
<span id="cb286-20"><a href="#cb286-20"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_emailaddress</span><span class="kw">&quot;</span>).removeClass(<span class="kw">&#39;</span><span class="st">object_error</span><span class="kw">&#39;</span>); // <span class="kw">if</span> necessary</span>
<span id="cb286-21"><a href="#cb286-21"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_emailaddress</span><span class="kw">&quot;</span>).addClass(<span class="kw">&quot;</span><span class="st">object_ok</span><span class="kw">&quot;</span>);</span>
<span id="cb286-22"><a href="#cb286-22"></a>            <span class="dt">$j</span>(<span class="kw">&#39;</span><span class="st">#email_ac</span><span class="kw">&#39;</span>).html(<span class="kw">&#39;</span><span class="st">&amp;nbsp;&lt;img src=&quot;img/cool.png&quot; align=&quot;absmiddle&quot;&gt; &lt;font color=&quot;Green&quot;&gt; Your email &lt;strong&gt;</span><span class="kw">&#39;</span>+ emailaddress+<span class="kw">&#39;</span><span class="st">&lt;/strong&gt; is OK.&lt;/font&gt;  </span><span class="kw">&#39;</span>);</span>
<span id="cb286-23"><a href="#cb286-23"></a>            } <span class="kw">else</span> {  </span>
<span id="cb286-24"><a href="#cb286-24"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_username</span><span class="kw">&quot;</span>).attr(<span class="kw">&#39;</span><span class="st">disabled</span><span class="kw">&#39;</span>,true); </span>
<span id="cb286-25"><a href="#cb286-25"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_password</span><span class="kw">&quot;</span>).attr(<span class="kw">&#39;</span><span class="st">disabled</span><span class="kw">&#39;</span>,true); </span>
<span id="cb286-26"><a href="#cb286-26"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#cmd_register_submit</span><span class="kw">&quot;</span>).attr(<span class="kw">&#39;</span><span class="st">disabled</span><span class="kw">&#39;</span>,true);  </span>
<span id="cb286-27"><a href="#cb286-27"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_emailaddress</span><span class="kw">&quot;</span>).removeClass(<span class="kw">&#39;</span><span class="st">object_ok</span><span class="kw">&#39;</span>); // <span class="kw">if</span> necessary</span>
<span id="cb286-28"><a href="#cb286-28"></a>            <span class="dt">$j</span>(<span class="kw">&quot;</span><span class="st">#fld_emailaddress</span><span class="kw">&quot;</span>).addClass(<span class="kw">&quot;</span><span class="st">object_error</span><span class="kw">&quot;</span>);</span>
<span id="cb286-29"><a href="#cb286-29"></a>            <span class="dt">$j</span>(<span class="kw">&#39;</span><span class="st">#email_ac</span><span class="kw">&#39;</span>).html(msg);</span>
<span id="cb286-30"><a href="#cb286-30"></a>            }</span>
<span id="cb286-31"><a href="#cb286-31"></a>        }</span>
<span id="cb286-32"><a href="#cb286-32"></a>     });</span>
<span id="cb286-33"><a href="#cb286-33"></a>});</span></code></pre></div>
<p>Where does the validation go and what is the expression?</p>
</section>
<section id="answer-accepted-score-489" class="level4">
<h4>Answer accepted (score 489)</h4>
<h5>
UPDATES
</h1>
<ul>
<li>
<a href="http://so.lucafilosofi.com/jquery-validate-e-mail-address-regex/" rel="noreferrer">http://so.lucafilosofi.com/jquery-validate-e-mail-address-regex/</a>
</li>
<li>
using new regex
</li>
<li>
added support for <a href="http://en.wikipedia.org/wiki/Email_address#Address_tags" rel="noreferrer">Address tags</a> (+ sign)
</li>
</ul>
<hr>
<div class="sourceCode" id="cb287"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb287-1"><a href="#cb287-1"></a>function isValidEmailAddress(emailAddress) {</span>
<span id="cb287-2"><a href="#cb287-2"></a>    var pattern = <span class="kw">/</span><span class="ch">^([</span><span class="bn">a-z\d!#$%&amp;&#39;*+\-\/=?</span><span class="ch">^</span><span class="bn">_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]+(</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">a-z\d!#$%&amp;&#39;*+\-\/=?</span><span class="ch">^</span><span class="bn">_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]+)*|</span><span class="ot">&quot;</span><span class="ch">((([</span><span class="bn"> \t</span><span class="ch">]*</span><span class="ot">\r</span><span class="bn">\n</span><span class="ch">)?[</span><span class="bn"> \t</span><span class="ch">]+)?([</span><span class="bn">\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]|</span><span class="ot">\\</span><span class="ch">[</span><span class="bn">\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]))*(([</span><span class="bn"> \t</span><span class="ch">]*</span><span class="ot">\r</span><span class="bn">\n</span><span class="ch">)?[</span><span class="bn"> \t</span><span class="ch">]+)?</span><span class="ot">&quot;</span><span class="ch">)</span><span class="ot">@</span><span class="ch">(([</span><span class="bn">a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]|[</span><span class="bn">a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">][</span><span class="bn">a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]*[</span><span class="bn">a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">])</span><span class="ot">\.</span><span class="ch">)+([</span><span class="bn">a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]|[</span><span class="bn">a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">][</span><span class="bn">a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">]*[</span><span class="bn">a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF</span><span class="ch">])</span><span class="ot">\.</span><span class="ch">?$</span><span class="kw">/i</span>;</span>
<span id="cb287-3"><a href="#cb287-3"></a>    <span class="kw">return</span> pattern.test(emailAddress);</span>
<span id="cb287-4"><a href="#cb287-4"></a>}</span></code></pre></div>
<hr>
<div class="sourceCode" id="cb288"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb288-1"><a href="#cb288-1"></a><span class="kw">if</span>( !isValidEmailAddress( emailaddress ) ) { <span class="kw">/</span><span class="ch">*</span><span class="ot"> do stuff here </span><span class="ch">*</span><span class="kw">/</span> }</span></code></pre></div>
<ul>
<li>
<strong>NOTE:</strong> <a href="https://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses">keep in mind that no 100% regex</a> email check exists!
</li>
</ul>
</section>
<section id="answer-2-score-28" class="level4">
<h4>Answer 2 (score 28)</h4>
<p>This is my solution:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb289-1"><a href="#cb289-1"></a>function isValidEmailAddress(emailAddress) {</span>
<span id="cb289-2"><a href="#cb289-2"></a>    var pattern = new RegExp(<span class="kw">/</span><span class="ch">^[</span><span class="bn">+a-zA-Z0-9._-</span><span class="ch">]+</span><span class="dt">@</span><span class="ch">[</span><span class="bn">a-zA-Z0-9.-</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">a-zA-Z</span><span class="ch">]{2,4}$</span><span class="kw">/i</span>);</span>
<span id="cb289-3"><a href="#cb289-3"></a>    // alert( pattern.test(emailAddress) );</span>
<span id="cb289-4"><a href="#cb289-4"></a>    <span class="kw">return</span> pattern.test(emailAddress);</span>
<span id="cb289-5"><a href="#cb289-5"></a>};</span></code></pre></div>
<p><strike>Found that RegExp over here: <a href="http://mdskinner.com/code/email-regex-and-validation-jquery" rel="noreferrer">http://mdskinner.com/code/email-regex-and-validation-jquery</a></strike></p>
</section>
<section id="answer-3-score-14-2" class="level4">
<h4>Answer 3 (score 14)</h4>
<div class="sourceCode" id="cb290"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb290-1"><a href="#cb290-1"></a><span class="dt">$(document</span>).ready(function() {</span>
<span id="cb290-2"><a href="#cb290-2"></a></span>
<span id="cb290-3"><a href="#cb290-3"></a><span class="dt">$(</span><span class="kw">&#39;</span><span class="co">#emailid&#39;).focusout(function(){</span></span>
<span id="cb290-4"><a href="#cb290-4"></a></span>
<span id="cb290-5"><a href="#cb290-5"></a>                <span class="dt">$(</span><span class="kw">&#39;</span><span class="co">#emailid&#39;).filter(function(){</span></span>
<span id="cb290-6"><a href="#cb290-6"></a>                   var emil=<span class="dt">$(</span><span class="kw">&#39;</span><span class="co">#emailid&#39;).val();</span></span>
<span id="cb290-7"><a href="#cb290-7"></a>              var emailReg = <span class="kw">/</span><span class="ch">^([</span><span class="bn">\w-\.</span><span class="ch">]+</span><span class="ot">@</span><span class="ch">([</span><span class="bn">\w-</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">)+[</span><span class="bn">\w-</span><span class="ch">]{2,4})?$</span><span class="kw">/</span>;</span>
<span id="cb290-8"><a href="#cb290-8"></a>            <span class="kw">if</span>( !emailReg.test( emil ) ) {</span>
<span id="cb290-9"><a href="#cb290-9"></a>                alert(<span class="kw">&#39;</span><span class="st">Please enter valid email</span><span class="kw">&#39;</span>);</span>
<span id="cb290-10"><a href="#cb290-10"></a>                } <span class="kw">else</span> {</span>
<span id="cb290-11"><a href="#cb290-11"></a>                alert(<span class="kw">&#39;</span><span class="st">Thank you for your valid email</span><span class="kw">&#39;</span>);</span>
<span id="cb290-12"><a href="#cb290-12"></a>                }</span>
<span id="cb290-13"><a href="#cb290-13"></a>                })</span>
<span id="cb290-14"><a href="#cb290-14"></a>            });</span>
<span id="cb290-15"><a href="#cb290-15"></a>});</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-new-lines-from-string-and-replace-with-one-empty-space-score-421794-in-2019" class="level3">
<h3>56: Remove new lines from string and replace with one empty space (score <a href="https://stackoverflow.com/q/3760816.html">421794</a> in 2019)</h3>
<section id="question-54" class="level4">
<h4>Question</h4>
<div class="sourceCode" id="cb291"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb291-1"><a href="#cb291-1"></a><span class="dt">$string</span> = <span class="kw">&quot;</span></span>
<span id="cb291-2"><a href="#cb291-2"></a><span class="st">put returns between paragraphs</span></span>
<span id="cb291-3"><a href="#cb291-3"></a></span>
<span id="cb291-4"><a href="#cb291-4"></a><span class="st">for linebreak add 2 spaces at end</span></span>
<span id="cb291-5"><a href="#cb291-5"></a></span>
<span id="cb291-6"><a href="#cb291-6"></a><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Want to remove all new lines from string.</p>
<p>I’ve this regex, it can catch all of them, the problem is I don’t know with which function should I use it.</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb292-1"><a href="#cb292-1"></a><span class="kw">/</span><span class="ot">\r</span><span class="bn">\n</span><span class="ch">|</span><span class="ot">\r</span><span class="ch">|</span><span class="bn">\n</span><span class="kw">/</span></span></code></pre></div>
<p><code>$string</code> should become:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb293-1"><a href="#cb293-1"></a><span class="dt">$string</span> = <span class="kw">&quot;</span><span class="st">put returns between paragraphs for linebreak add 2 spaces at end </span><span class="kw">&quot;</span>;</span></code></pre></div>
</section>
<section id="answer-accepted-score-540" class="level4">
<h4>Answer accepted (score 540)</h4>
<p>You have to be cautious of double line breaks, which would cause double spaces. Use this really efficient regular expression:</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb294-1"><a href="#cb294-1"></a><span class="dt">$string</span> = trim(preg_replace(<span class="kw">&#39;</span><span class="st">/\s\s+/</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="dt">$string</span>));</span></code></pre></div>
<p>Multiple spaces and newlines are replaced with a single space.</p>
<p><strong>Edit:</strong> As others have pointed out, this solution has issues matching single newlines in between words. This is not present in the example, but one can easily see how that situation could occur. An alternative is to do the following:</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb295-1"><a href="#cb295-1"></a><span class="dt">$string</span> = trim(preg_replace(<span class="kw">&#39;</span><span class="st">/\s+/</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="dt">$string</span>));</span></code></pre></div>
</section>
<section id="answer-2-score-172" class="level4">
<h4>Answer 2 (score 172)</h4>
<p>A few comments on the accepted answer:</p>
<p>The <code>+</code> means “1 or more”. I don’t think you need to repeat <code>\s</code>. I think you can simply write <code>'/\s+/'</code>.</p>
<p>Also, if you want to remove whitespace first and last in the string, add <code>trim</code>.</p>
<p>With these modifications, the code would be:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb296-1"><a href="#cb296-1"></a><span class="dt">$string</span> = preg_replace(<span class="kw">&#39;</span><span class="st">/\s+/</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, trim(<span class="dt">$string</span>));</span></code></pre></div>
</section>
<section id="answer-3-score-72" class="level4">
<h4>Answer 3 (score 72)</h4>
<p>Just use <a href="http://php.net/manual/en/function.preg-replace.php" rel="noreferrer"><code>preg_replace()</code></a></p>
<div class="sourceCode" id="cb297"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb297-1"><a href="#cb297-1"></a><span class="dt">$string</span> = preg_replace(<span class="kw">&#39;</span><span class="st">~[\r\n]+~</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>, <span class="dt">$string</span>);</span></code></pre></div>
<p>You could get away with <a href="http://php.net/manual/en/function.str-replace.php" rel="noreferrer"><code>str_replace()</code></a> on this one, although the code doesn’t look as clean:</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb298-1"><a href="#cb298-1"></a><span class="dt">$string</span> = str_replace(array(<span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="ch">\r</span><span class="kw">&quot;</span>), <span class="kw">&#39;&#39;</span>, <span class="dt">$string</span>);</span></code></pre></div>
<p>See it live on <a href="http://ideone.com/ugNOZ" rel="noreferrer">ideone</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-do-a-regular-expression-replace-in-mysql-score-412329-in-2017" class="level3">
<h3>57: How to do a regular expression replace in MySQL? (score <a href="https://stackoverflow.com/q/986826.html">412329</a> in 2017)</h3>
<section id="question-55" class="level4">
<h4>Question</h4>
<p>I have a table with ~500k rows; varchar(255) UTF8 column <code>filename</code> contains a file name;</p>
<p>I’m trying to strip out various strange characters out of the filename - thought I’d use a character class: <code>[^a-zA-Z0-9()_ .\-]</code></p>
<p>Now, <strong>is there a function in MySQL that lets you replace through a regular expression</strong>? I’m looking for a similar functionality to REPLACE() function - simplified example follows:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb299-1"><a href="#cb299-1"></a>SELECT REPLACE(<span class="kw">&#39;</span><span class="st">stackowerflow</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">ower</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">over</span><span class="kw">&#39;</span>);</span>
<span id="cb299-2"><a href="#cb299-2"></a></span>
<span id="cb299-3"><a href="#cb299-3"></a>Output: <span class="kw">&quot;</span><span class="st">stackoverflow</span><span class="kw">&quot;</span></span>
<span id="cb299-4"><a href="#cb299-4"></a></span>
<span id="cb299-5"><a href="#cb299-5"></a><span class="kw">/</span><span class="ch">*</span><span class="ot"> does something like this exist</span><span class="ch">?</span><span class="ot"> </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb299-6"><a href="#cb299-6"></a>SELECT X_REG_REPLACE(<span class="kw">&#39;</span><span class="st">Stackoverflow</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">/[A-Zf]/</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>); </span>
<span id="cb299-7"><a href="#cb299-7"></a></span>
<span id="cb299-8"><a href="#cb299-8"></a>Output: <span class="kw">&quot;</span><span class="st">-tackover-low</span><span class="kw">&quot;</span></span></code></pre></div>
<p>I know about <a href="https://stackoverflow.com/a/6943142/19746">REGEXP/RLIKE</a>, but those only check <em>if</em> there is a match, not <em>what</em> the match is.</p>
<p>(I <em>could</em> do a “<code>SELECT pkey_id,filename FROM foo WHERE filename RLIKE '[^a-zA-Z0-9()_ .\-]'</code>” from a PHP script, do a <code>preg_replace</code> and then “<code>UPDATE foo ... WHERE pkey_id=...</code>”, but that looks like a last-resort slow &amp; ugly hack)</p>
</section>
<section id="answer-accepted-score-45" class="level4">
<h4>Answer accepted (score 45)</h4>
<p>MySQL 8.0+ you could use natively <code>REGEXP_REPLACE</code>.</p>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/regexp.html#function_regexp-replace" rel="noreferrer">12.5.2 Regular Expressions</a>:</p>
<blockquote>
<p><strong>REGEXP_REPLACE(expr, pat, repl[, pos[, occurrence[, match_type]]])</strong></p>
Replaces occurrences in the string expr that match the regular expression specified by the pattern pat with the replacement string repl, and returns the resulting string. If expr, pat, or repl is NULL, the return value is NULL.
</blockquote>
<p>and <a href="https://dev.mysql.com/doc/refman/8.0/en/mysql-nutshell.html" rel="noreferrer">Regular expression support</a>:</p>
<blockquote>
<p>Previously, MySQL used the Henry Spencer regular expression library to support regular expression operators (REGEXP, RLIKE).</p>
Regular expression support has been reimplemented using International Components for Unicode (ICU), which provides full Unicode support and is multibyte safe. The REGEXP_LIKE() function performs regular expression matching in the manner of the REGEXP and RLIKE operators, which now are synonyms for that function. <strong>In addition, the REGEXP_INSTR(), REGEXP_REPLACE(), and REGEXP_SUBSTR() functions are available to find match positions and perform substring substitution and extraction, respectively.</strong>
</blockquote>
<div class="sourceCode" id="cb300"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb300-1"><a href="#cb300-1"></a>SELECT REGEXP_REPLACE(<span class="kw">&#39;</span><span class="st">Stackoverflow</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">[A-Zf]</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="kw">&#39;</span><span class="st">c</span><span class="kw">&#39;</span>); </span>
<span id="cb300-2"><a href="#cb300-2"></a>-- Output:</span>
<span id="cb300-3"><a href="#cb300-3"></a>-tackover-low</span></code></pre></div>
<p><strong><a href="https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=b2436ab953a61ed401284357140777d4" rel="noreferrer">DBFiddle Demo</a></strong></p>
</section>
<section id="answer-2-score-140" class="level4">
<h4>Answer 2 (score 140)</h4>
<p>No. </p>
<p>But if you have access to your server, you could use a user defined function (UDF) like <a href="https://github.com/hholzgra/mysql-udf-regexp" rel="noreferrer">mysql-udf-regexp</a>.</p>
<p><strong>EDIT:</strong> MySQL 8.0+ you could use natively REGEXP_REPLACE. More in answer above</p>
</section>
<section id="answer-3-score-122-1" class="level4">
<h4>Answer 3 (score 122)</h4>
<p>Use MariaDB instead. It has a function</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb301-1"><a href="#cb301-1"></a>REGEXP_REPLACE(col, regexp, replace)</span></code></pre></div>
<p>See <a href="https://mariadb.com/kb/en/mariadb/documentation/functions-and-operators/string-functions/regular-expressions-functions/pcre-regular-expressions/">MariaDB docs</a> and <a href="https://mariadb.com/kb/en/mariadb/documentation/functions-and-operators/string-functions/regular-expressions-functions/pcre-regular-expressions/">PCRE Regular expression enhancements</a></p>
<p>Note that you can use regexp grouping as well (I found that very useful):</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb302-1"><a href="#cb302-1"></a>SELECT REGEXP_REPLACE(<span class="kw">&quot;</span><span class="st">stackoverflow</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">(stack)(over)(flow)</span><span class="kw">&quot;</span>, <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">2 - </span><span class="ch">\\</span><span class="st">1 - </span><span class="ch">\\</span><span class="st">3</span><span class="kw">&#39;</span>)</span></code></pre></div>
<p>returns</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb303-1"><a href="#cb303-1"></a>over - stack - flow</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-all-special-characters-punctuation-and-spaces-from-string-score-410777-in-2015" class="level3">
<h3>58: Remove all special characters, punctuation and spaces from string (score <a href="https://stackoverflow.com/q/5843518.html">410777</a> in 2015)</h3>
<section id="question-56" class="level4">
<h4>Question</h4>
<p>I need to remove all special characters, punctuation and spaces from a string so that I only have letters and numbers.</p>
</section>
<section id="answer-accepted-score-301" class="level4">
<h4>Answer accepted (score 301)</h4>
<p>This can be done without regex:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb304-1"><a href="#cb304-1"></a>&gt;&gt;&gt; string = <span class="kw">&quot;</span><span class="st">Special </span><span class="dt">$#</span><span class="st">! characters   spaces 888323</span><span class="kw">&quot;</span></span>
<span id="cb304-2"><a href="#cb304-2"></a>&gt;&gt;&gt; <span class="kw">&#39;&#39;</span>.<span class="fu">join</span>(e <span class="kw">for</span> e in string <span class="kw">if</span> e.isalnum())</span>
<span id="cb304-3"><a href="#cb304-3"></a><span class="kw">&#39;</span><span class="st">Specialcharactersspaces888323</span><span class="kw">&#39;</span></span></code></pre></div>
<p>You can use <a href="https://docs.python.org/library/stdtypes.html#str.isalnum" rel="noreferrer"><code>str.isalnum</code></a>:</p>
<blockquote>
<div class="sourceCode" id="cb305"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb305-1"><a href="#cb305-1"></a>S.isalnum() -&gt; bool</span>
<span id="cb305-2"><a href="#cb305-2"></a></span>
<span id="cb305-3"><a href="#cb305-3"></a>Return True <span class="kw">if</span> all characters in S are alphanumeric</span>
<span id="cb305-4"><a href="#cb305-4"></a><span class="kw">and</span> there is at least one character in S, False otherwise.</span></code></pre></div>
</blockquote>
<p>If you insist on using regex, other solutions will do fine. However note that if it can be done without using a regular expression, that’s the best way to go about it.</p>
</section>
<section id="answer-2-score-183" class="level4">
<h4>Answer 2 (score 183)</h4>
<p>Here is a regex to match a string of characters that are not a letters or numbers:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb306-1"><a href="#cb306-1"></a>[^A-Za-z0<span class="dv">-9</span>]+</span></code></pre></div>
<p>Here is the Python command to do a regex substitution:</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb307-1"><a href="#cb307-1"></a>re.<span class="kw">sub</span>(<span class="kw">&#39;</span><span class="st">[^A-Za-z0-9]+</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>, mystring)</span></code></pre></div>
</section>
<section id="answer-3-score-39" class="level4">
<h4>Answer 3 (score 39)</h4>
<p>Shorter way :</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb308-1"><a href="#cb308-1"></a><span class="fu">import</span> re</span>
<span id="cb308-2"><a href="#cb308-2"></a>cleanString = re.<span class="kw">sub</span>(<span class="kw">&#39;</span><span class="st">\W+</span><span class="kw">&#39;</span>,<span class="kw">&#39;&#39;</span>, string )</span></code></pre></div>
<p>If you want spaces between words and numbers substitute ’’ with ’ ’</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-print-matched-regex-pattern-using-awk-score-406650-in-2018" class="level3">
<h3>59: How to print matched regex pattern using awk? (score <a href="https://stackoverflow.com/q/5536018.html">406650</a> in 2018)</h3>
<section id="question-57" class="level4">
<h4>Question</h4>
<p>Using <code>awk</code>, I need to find a word in a file that matches a regex pattern.</p>
<p>I <em>only</em> want to print the word matched with the pattern.</p>
<p>So if in the line, I have:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb309-1"><a href="#cb309-1"></a>xxx yyy zzz</span></code></pre></div>
<p>And pattern:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb310-1"><a href="#cb310-1"></a><span class="kw">/</span><span class="ot">yyy</span><span class="kw">/</span></span></code></pre></div>
<p>I want to only get:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb311-1"><a href="#cb311-1"></a>yyy</span></code></pre></div>
<hr>
<p>
EDIT: thanks to <strong>kurumi</strong> i managed to write something like this:
</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb312-1"><a href="#cb312-1"></a>awk <span class="kw">&#39;</span><span class="st">{</span></span>
<span id="cb312-2"><a href="#cb312-2"></a><span class="st">        for(i=1; i&lt;=NF; i++) {</span></span>
<span id="cb312-3"><a href="#cb312-3"></a><span class="st">                tmp=match($i, /[0-9]..?.?[^A-Za-z0-9]/)</span></span>
<span id="cb312-4"><a href="#cb312-4"></a><span class="st">                if(tmp) {</span></span>
<span id="cb312-5"><a href="#cb312-5"></a><span class="st">                        print $i</span></span>
<span id="cb312-6"><a href="#cb312-6"></a><span class="st">                }</span></span>
<span id="cb312-7"><a href="#cb312-7"></a><span class="st">        }</span></span>
<span id="cb312-8"><a href="#cb312-8"></a><span class="st">}</span><span class="kw">&#39;</span> <span class="dt">$1</span></span></code></pre></div>
<p>and this is what i needed :) thanks a lot!</p>
</section>
<section id="answer-accepted-score-133" class="level4">
<h4>Answer accepted (score 133)</h4>
<p>This is the very basic</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb313-1"><a href="#cb313-1"></a>awk <span class="kw">&#39;</span><span class="st">/pattern/{ print $0 }</span><span class="kw">&#39;</span> file</span></code></pre></div>
<p>ask <code>awk</code> to search for <code>pattern</code> using <code>//</code>, then print out the line, which by default is called a record, denoted by $0. At least read up the <a href="http://www.gnu.org/software/gawk/manual">documentation</a>.</p>
<p>If you only want to get print out the matched word.</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb314-1"><a href="#cb314-1"></a>awk <span class="kw">&#39;</span><span class="st">{for(i=1;i&lt;=NF;i++){ if($i==&quot;yyy&quot;){print $i} } }</span><span class="kw">&#39;</span> file</span></code></pre></div>
</section>
<section id="answer-2-score-102" class="level4">
<h4>Answer 2 (score 102)</h4>
<p>It sounds like you are trying to emulate GNU’s <code>grep -o</code> behaviour. This will do that providing you only want the first match on each line:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb315-1"><a href="#cb315-1"></a>awk <span class="kw">&#39;</span><span class="st">match($0, /regex/) {</span></span>
<span id="cb315-2"><a href="#cb315-2"></a><span class="st">    print substr($0, RSTART, RLENGTH)</span></span>
<span id="cb315-3"><a href="#cb315-3"></a><span class="st">}</span></span>
<span id="cb315-4"><a href="#cb315-4"></a><span class="kw">&#39;</span> file</span></code></pre></div>
<p>Here’s an example:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb316-1"><a href="#cb316-1"></a>% awk <span class="kw">&#39;</span><span class="st">match($0, /a.t/) {</span></span>
<span id="cb316-2"><a href="#cb316-2"></a><span class="st">    print substr($0, RSTART, RLENGTH)</span></span>
<span id="cb316-3"><a href="#cb316-3"></a><span class="st">}</span></span>
<span id="cb316-4"><a href="#cb316-4"></a><span class="kw">&#39;</span> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/s</span>hare/dict/words | head</span>
<span id="cb316-5"><a href="#cb316-5"></a>act</span>
<span id="cb316-6"><a href="#cb316-6"></a>act</span>
<span id="cb316-7"><a href="#cb316-7"></a>act</span>
<span id="cb316-8"><a href="#cb316-8"></a>act</span>
<span id="cb316-9"><a href="#cb316-9"></a>aft</span>
<span id="cb316-10"><a href="#cb316-10"></a>ant</span>
<span id="cb316-11"><a href="#cb316-11"></a>apt</span>
<span id="cb316-12"><a href="#cb316-12"></a>art</span>
<span id="cb316-13"><a href="#cb316-13"></a>art</span>
<span id="cb316-14"><a href="#cb316-14"></a>art</span></code></pre></div>
<p>Read about <a href="https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html#index-match_0028_0029-function" rel="noreferrer"><code>match</code></a>, <a href="https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html#index-substr_0028_0029-function" rel="noreferrer"><code>substr</code></a>, <a href="https://www.gnu.org/software/gawk/manual/html_node/Auto_002dset.html#index-RSTART-variable" rel="noreferrer"><code>RSTART</code></a> and <a href="https://www.gnu.org/software/gawk/manual/html_node/Auto_002dset.html#index-RLENGTH-variable" rel="noreferrer"><code>RLENGTH</code></a> in the <code>awk</code> manual.</p>
<p>After that you may wish to extend this to deal with multiple matches on the same line. I can’t do <em>all</em> your homework for you :-)</p>
</section>
<section id="answer-3-score-30" class="level4">
<h4>Answer 3 (score 30)</h4>
<p><strong><em>gawk</em></strong> can get the matching part of every line using this as action:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb317-1"><a href="#cb317-1"></a>{ <span class="kw">if</span> (match(<span class="dt">$0</span>,<span class="kw">/</span><span class="ot">your regexp</span><span class="kw">/</span>,m)) <span class="fu">print</span> <span class="kw">m[</span><span class="ot">0</span><span class="kw">]</span> }</span></code></pre></div>
<blockquote>
<p>
match(string, regexp [, array]) If array is present, it is cleared, and then the zeroth element of array is set to the entire portion of string matched by regexp. If regexp contains parentheses, the integer-indexed elements of array are set to contain the portion of string matching the corresponding parenthesized subexpression. <a href="http://www.gnu.org/software/gawk/manual/gawk.html#String-Functions" rel="noreferrer">http://www.gnu.org/software/gawk/manual/gawk.html#String-Functions</a>
</p>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-remove-special-characters-from-a-string-score-406020-in-2016" class="level3">
<h3>60: How to remove special characters from a string? (score <a href="https://stackoverflow.com/q/7552253.html">406020</a> in 2016)</h3>
<section id="question-58" class="level4">
<h4>Question</h4>
<p>I want to remove special characters like:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb318-1"><a href="#cb318-1"></a>- + ^ . : ,</span></code></pre></div>
<p>from an String using Java.</p>
</section>
<section id="answer-accepted-score-236" class="level4">
<h4>Answer accepted (score 236)</h4>
<p>That depends on what you define as special characters, but try <code>replaceAll(...)</code>:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb319-1"><a href="#cb319-1"></a>String result = yourString.replaceAll(<span class="kw">&quot;</span><span class="st">[-+.^:,]</span><span class="kw">&quot;</span>,<span class="kw">&quot;&quot;</span>);</span></code></pre></div>
<p>Note that the <code>^</code> character must not be the first one in the list, since you’d then either have to escape it or it would mean “any but these characters”.</p>
<p>Another note: the <code>-</code> character needs to be the first or last one on the list, otherwise you’d have to escape it or it would define a range ( e.g. <code>:-,</code> would mean "all characters in the range <code>:</code> to <code>,</code>).</p>
<p>So, in order to keep consistency and not depend on character positioning, you might want to escape all those characters that have a special meaning in regular expressions (the following list is not complete, so be aware of other characters like <code>(</code>, <code>{</code>, <code>$</code> etc.):</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb320-1"><a href="#cb320-1"></a>String result = yourString.replaceAll(<span class="kw">&quot;</span><span class="st">[\\-\\+\\.\\^:,]</span><span class="kw">&quot;</span>,<span class="kw">&quot;&quot;</span>);</span></code></pre></div>
<p>
<br> If you want to get rid of all punctuation and symbols, try this regex: <code>\p{P}\p{S}</code> (keep in mind that in Java strings you’d have to escape back slashes: <code>"\\p{P}\\p{S}"</code>).
</p>
<p>A third way could be something like this, if you can exactly define what should be left in your string:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb321-1"><a href="#cb321-1"></a>String  result = yourString.replaceAll(<span class="kw">&quot;</span><span class="st">[^\\w\\s]</span><span class="kw">&quot;</span>,<span class="kw">&quot;&quot;</span>);</span></code></pre></div>
<p>This means: replace everything that is not a word character (a-z in any case, 0-9 or _) or whitespace.</p>
<p>Edit: please note that there are a couple of other patterns that might prove helpful. However, I can’t explain them all, so have a look at the reference section of <a href="http://www.regular-expressions.info/refunicode.html">regular-expressions.info</a>.</p>
<p>Here’s less restrictive alternative to the “define allowed characters” approach, as suggested by Ray:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb322-1"><a href="#cb322-1"></a>String  result = yourString.replaceAll(<span class="kw">&quot;</span><span class="st">[^\\p{L}\\p{Z}]</span><span class="kw">&quot;</span>,<span class="kw">&quot;&quot;</span>);</span></code></pre></div>
<p>The regex matches everything that is not a letter in any language and not a separator (whitespace, linebreak etc.). Note that you can’t use <code>[\P{L}\P{Z}]</code> (upper case P means not having that property), since that would mean “everything that is not a letter or not whitespace”, which almost matches everything, since letters are not whitespace and vice versa.</p>
<p><em>Additional information on Unicode</em></p>
<p>Some unicode characters seem to cause problems due to different possible ways to encode them (as a single code point or a combination of code points). Please refer to <a href="http://www.regular-expressions.info/refunicode.html">regular-expressions.info</a> for more information.</p>
</section>
<section id="answer-2-score-16" class="level4">
<h4>Answer 2 (score 16)</h4>
<p>
As described here <a href="http://developer.android.com/reference/java/util/regex/Pattern.html">http://developer.android.com/reference/java/util/regex/Pattern.html</a>
</p>
<blockquote>
Patterns are compiled regular expressions. In many cases, convenience methods such as <code>String.matches</code>, <code>String.replaceAll</code> and <code>String.split</code> will be preferable, but if you need to do a lot of work with the same regular expression, it may be more efficient to compile it once and reuse it. The Pattern class and its companion, Matcher, also offer more functionality than the small amount exposed by String.
</blockquote>
<div class="sourceCode" id="cb323"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb323-1"><a href="#cb323-1"></a>public class RegularExpressionTest {</span>
<span id="cb323-2"><a href="#cb323-2"></a></span>
<span id="cb323-3"><a href="#cb323-3"></a>public static void main(String[] args) {</span>
<span id="cb323-4"><a href="#cb323-4"></a>    System.out.println(<span class="kw">&quot;</span><span class="st">String is = </span><span class="kw">&quot;</span>+getOnlyStrings(<span class="kw">&quot;</span><span class="st">!&amp;(*^*(^(+one(&amp;(^()(*)(*&amp;^%</span><span class="dt">$#@</span><span class="st">!#</span><span class="dt">$%</span><span class="st">^&amp;*()(</span><span class="kw">&quot;</span>));</span>
<span id="cb323-5"><a href="#cb323-5"></a>    System.out.println(<span class="kw">&quot;</span><span class="st">Number is = </span><span class="kw">&quot;</span>+getOnlyDigits(<span class="kw">&quot;</span><span class="st">&amp;(*^*(^(+91-&amp;*9hi-639-0097(&amp;(^(</span><span class="kw">&quot;</span>));</span>
<span id="cb323-6"><a href="#cb323-6"></a>}</span>
<span id="cb323-7"><a href="#cb323-7"></a></span>
<span id="cb323-8"><a href="#cb323-8"></a> public static String getOnlyDigits(String s) {</span>
<span id="cb323-9"><a href="#cb323-9"></a>    Pattern pattern = Pattern.compile(<span class="kw">&quot;</span><span class="st">[^0-9]</span><span class="kw">&quot;</span>);</span>
<span id="cb323-10"><a href="#cb323-10"></a>    Matcher matcher = pattern.matcher(s);</span>
<span id="cb323-11"><a href="#cb323-11"></a>    String number = matcher.replaceAll(<span class="kw">&quot;&quot;</span>);</span>
<span id="cb323-12"><a href="#cb323-12"></a>    <span class="kw">return</span> number;</span>
<span id="cb323-13"><a href="#cb323-13"></a> }</span>
<span id="cb323-14"><a href="#cb323-14"></a> public static String getOnlyStrings(String s) {</span>
<span id="cb323-15"><a href="#cb323-15"></a>    Pattern pattern = Pattern.compile(<span class="kw">&quot;</span><span class="st">[^a-z A-Z]</span><span class="kw">&quot;</span>);</span>
<span id="cb323-16"><a href="#cb323-16"></a>    Matcher matcher = pattern.matcher(s);</span>
<span id="cb323-17"><a href="#cb323-17"></a>    String number = matcher.replaceAll(<span class="kw">&quot;&quot;</span>);</span>
<span id="cb323-18"><a href="#cb323-18"></a>    <span class="kw">return</span> number;</span>
<span id="cb323-19"><a href="#cb323-19"></a> }</span>
<span id="cb323-20"><a href="#cb323-20"></a>}</span></code></pre></div>
<p>Result</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb324-1"><a href="#cb324-1"></a>String is = one</span>
<span id="cb324-2"><a href="#cb324-2"></a>Number is = <span class="dv">9196390097</span></span></code></pre></div>
</section>
<section id="answer-3-score-16" class="level4">
<h4>Answer 3 (score 16)</h4>
<p>
As described here <a href="http://developer.android.com/reference/java/util/regex/Pattern.html">http://developer.android.com/reference/java/util/regex/Pattern.html</a>
</p>
<blockquote>
Patterns are compiled regular expressions. In many cases, convenience methods such as <code>String.matches</code>, <code>String.replaceAll</code> and <code>String.split</code> will be preferable, but if you need to do a lot of work with the same regular expression, it may be more efficient to compile it once and reuse it. The Pattern class and its companion, Matcher, also offer more functionality than the small amount exposed by String.
</blockquote>
<div class="sourceCode" id="cb325"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb325-1"><a href="#cb325-1"></a>public class RegularExpressionTest {</span>
<span id="cb325-2"><a href="#cb325-2"></a></span>
<span id="cb325-3"><a href="#cb325-3"></a>public static void main(String[] args) {</span>
<span id="cb325-4"><a href="#cb325-4"></a>    System.out.println(<span class="kw">&quot;</span><span class="st">String is = </span><span class="kw">&quot;</span>+getOnlyStrings(<span class="kw">&quot;</span><span class="st">!&amp;(*^*(^(+one(&amp;(^()(*)(*&amp;^%</span><span class="dt">$#@</span><span class="st">!#</span><span class="dt">$%</span><span class="st">^&amp;*()(</span><span class="kw">&quot;</span>));</span>
<span id="cb325-5"><a href="#cb325-5"></a>    System.out.println(<span class="kw">&quot;</span><span class="st">Number is = </span><span class="kw">&quot;</span>+getOnlyDigits(<span class="kw">&quot;</span><span class="st">&amp;(*^*(^(+91-&amp;*9hi-639-0097(&amp;(^(</span><span class="kw">&quot;</span>));</span>
<span id="cb325-6"><a href="#cb325-6"></a>}</span>
<span id="cb325-7"><a href="#cb325-7"></a></span>
<span id="cb325-8"><a href="#cb325-8"></a> public static String getOnlyDigits(String s) {</span>
<span id="cb325-9"><a href="#cb325-9"></a>    Pattern pattern = Pattern.compile(<span class="kw">&quot;</span><span class="st">[^0-9]</span><span class="kw">&quot;</span>);</span>
<span id="cb325-10"><a href="#cb325-10"></a>    Matcher matcher = pattern.matcher(s);</span>
<span id="cb325-11"><a href="#cb325-11"></a>    String number = matcher.replaceAll(<span class="kw">&quot;&quot;</span>);</span>
<span id="cb325-12"><a href="#cb325-12"></a>    <span class="kw">return</span> number;</span>
<span id="cb325-13"><a href="#cb325-13"></a> }</span>
<span id="cb325-14"><a href="#cb325-14"></a> public static String getOnlyStrings(String s) {</span>
<span id="cb325-15"><a href="#cb325-15"></a>    Pattern pattern = Pattern.compile(<span class="kw">&quot;</span><span class="st">[^a-z A-Z]</span><span class="kw">&quot;</span>);</span>
<span id="cb325-16"><a href="#cb325-16"></a>    Matcher matcher = pattern.matcher(s);</span>
<span id="cb325-17"><a href="#cb325-17"></a>    String number = matcher.replaceAll(<span class="kw">&quot;&quot;</span>);</span>
<span id="cb325-18"><a href="#cb325-18"></a>    <span class="kw">return</span> number;</span>
<span id="cb325-19"><a href="#cb325-19"></a> }</span>
<span id="cb325-20"><a href="#cb325-20"></a>}</span></code></pre></div>
<p>Result</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb326-1"><a href="#cb326-1"></a>String is = one</span>
<span id="cb326-2"><a href="#cb326-2"></a>Number is = <span class="dv">9196390097</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-test-if-string-begins-with-http-or-https-score-404032-in-2011" class="level3">
<h3>61: Regex to test if string begins with http:// or https:// (score <a href="https://stackoverflow.com/q/4643142.html">404032</a> in 2011)</h3>
<section id="question-59" class="level4">
<h4>Question</h4>
<p>I’m trying to set a regexp which will check the start of a string, and if it contains either <code>http://</code> or <code>https://</code> it should match it.</p>
<p>How can I do that? I’m trying the following which isn’t working:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb327-1"><a href="#cb327-1"></a>^[(http)(https)]://</span></code></pre></div>
</section>
<section id="answer-accepted-score-325" class="level4">
<h4>Answer accepted (score 325)</h4>
<p>Your use of <code>[]</code> is incorrect – note that <code>[]</code> denotes a <em>character class</em> and will therefore only ever match one character. The expression <code>[(http)(https)]</code> translates to “match a <code>(</code>, an <code>h</code>, a <code>t</code>, a <code>t</code>, a <code>p</code>, a <code>)</code>, or an <code>s</code>.” (Duplicate characters are ignored.)</p>
<p>Try this:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb328-1"><a href="#cb328-1"></a>^https?://</span></code></pre></div>
<p>If you really want to use alternation, use this syntax instead:</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb329-1"><a href="#cb329-1"></a>^(http|https)://</span></code></pre></div>
</section>
<section id="answer-2-score-37" class="level4">
<h4>Answer 2 (score 37)</h4>
<p>Case insensitive:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb330-1"><a href="#cb330-1"></a>var re = new RegExp(<span class="kw">&quot;</span><span class="st">^(http|https)://</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">i</span><span class="kw">&quot;</span>);</span>
<span id="cb330-2"><a href="#cb330-2"></a>var str = <span class="kw">&quot;</span><span class="st">My String</span><span class="kw">&quot;</span>;</span>
<span id="cb330-3"><a href="#cb330-3"></a>var match = re.test(str);</span></code></pre></div>
</section>
<section id="answer-3-score-25" class="level4">
<h4>Answer 3 (score 25)</h4>
<div class="sourceCode" id="cb331"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb331-1"><a href="#cb331-1"></a>^https?://</span></code></pre></div>
<p>You might have to escape the forward slashes though, depending on context.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-email-validation-score-401797-in-2016" class="level3">
<h3>62: Regex Email validation (score <a href="https://stackoverflow.com/q/5342375.html">401797</a> in 2016)</h3>
<section id="question-60" class="level4">
<h4>Question</h4>
<p>I use this</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb332-1"><a href="#cb332-1"></a><span class="dt">@</span><span class="kw">&quot;</span><span class="st">^([</span><span class="ch">\w</span><span class="st">\.\-]+)</span><span class="dt">@</span><span class="st">([</span><span class="ch">\w</span><span class="st">\-]+)((\.(</span><span class="ch">\w</span><span class="st">){2,3})+)</span><span class="dt">$&quot;</span></span></code></pre></div>
<p>regexp to validate the email</p>
<p>
<code>([\w\.\-]+)</code> - this is for the first-level domain (many letters and numbers, also point and hyphen)<br><br> <code>([\w\-]+)</code> - this is for second-level domain<br><br> <code>((\.(\w){2,3})+)</code> - and this is for other level domains(from 3 to infinity) which includes a point and 2 or 3 literals<br>
</p>
<p>what’s wrong with this regex?</p>
<p>EDIT:it doesn’t match the “something@someth.ing” email</p>
</section>
<section id="answer-accepted-score-343" class="level4">
<h4>Answer accepted (score 343)</h4>
<p>TLD’s like <a href="http://en.wikipedia.org/wiki/.museum" rel="noreferrer">.museum</a> aren’t matched this way, and there are a few other long TLD’s. Also, you can validate email addresses using the <a href="http://msdn.microsoft.com/en-us/library/system.net.mail.mailaddress.aspx" rel="noreferrer">MailAddress class</a> as Microsoft explains <a href="http://msdn.microsoft.com/en-us/library/01escwtf.aspx" rel="noreferrer">here</a> in a note:</p>
<blockquote>
<p>
Instead of using a regular expression to validate an email address, you can use the System.Net.Mail.MailAddress class. To determine whether an email address is valid, pass the email address to the MailAddress.MailAddress(String) class constructor.
</p>
</blockquote>
<div class="sourceCode" id="cb333"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb333-1"><a href="#cb333-1"></a>public bool IsValid(string emailaddress)</span>
<span id="cb333-2"><a href="#cb333-2"></a>{</span>
<span id="cb333-3"><a href="#cb333-3"></a>    try</span>
<span id="cb333-4"><a href="#cb333-4"></a>    {</span>
<span id="cb333-5"><a href="#cb333-5"></a>        MailAddress <span class="kw">m</span><span class="ot"> </span><span class="kw">=</span><span class="ot"> new MailAddress</span><span class="ch">(</span><span class="ot">emailaddress</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb333-6"><a href="#cb333-6"></a></span>
<span id="cb333-7"><a href="#cb333-7"></a><span class="ot">        return true;</span></span>
<span id="cb333-8"><a href="#cb333-8"></a><span class="ot">    }</span></span>
<span id="cb333-9"><a href="#cb333-9"></a><span class="ot">    catch </span><span class="ch">(</span><span class="ot">FormatException</span><span class="ch">)</span></span>
<span id="cb333-10"><a href="#cb333-10"></a><span class="ot">    {</span></span>
<span id="cb333-11"><a href="#cb333-11"></a><span class="ot">        return false;</span></span>
<span id="cb333-12"><a href="#cb333-12"></a><span class="ot">    }</span></span>
<span id="cb333-13"><a href="#cb333-13"></a><span class="ot">}</span></span></code></pre></div>
<p>This saves you a lot af headaches because you don’t have to write (or try to understand someone else’s) regex.</p>
</section>
<section id="answer-2-score-91" class="level4">
<h4>Answer 2 (score 91)</h4>
<p>
I think <code>@"^([\w\.\-]+)@([\w\-]+)((\.(\w){2,3})+)$"</code> should work.<br> You need to write it like
</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb334-1"><a href="#cb334-1"></a>string email = txtemail.Text;</span>
<span id="cb334-2"><a href="#cb334-2"></a>Regex regex = new Regex(<span class="dt">@</span><span class="kw">&quot;</span><span class="st">^([</span><span class="ch">\w</span><span class="st">\.\-]+)</span><span class="dt">@</span><span class="st">([</span><span class="ch">\w</span><span class="st">\-]+)((\.(</span><span class="ch">\w</span><span class="st">){2,3})+)</span><span class="dt">$&quot;</span><span class="st">);</span></span>
<span id="cb334-3"><a href="#cb334-3"></a><span class="st">Match match = regex.Match(email);</span></span>
<span id="cb334-4"><a href="#cb334-4"></a><span class="st">if (match.Success)</span></span>
<span id="cb334-5"><a href="#cb334-5"></a><span class="st">    Response.Write(email + </span><span class="kw">&quot;</span> is correct<span class="kw">&quot;</span><span class="st">);</span></span>
<span id="cb334-6"><a href="#cb334-6"></a><span class="st">else</span></span>
<span id="cb334-7"><a href="#cb334-7"></a><span class="st">    Response.Write(email + </span><span class="kw">&quot;</span> is incorrect<span class="kw">&quot;</span><span class="st">);</span></span></code></pre></div>
<p>Be warned that this will fail if:</p>
<ol>
<li>
<p>
There is a subdomain after the <code>@</code> symbol.
</p>
</li>
<li>
<p>
You use a TLD with a length greater than 3, such as <code>.info</code>
</p>
</li>
</ol>
</section>
<section id="answer-3-score-65" class="level4">
<h4>Answer 3 (score 65)</h4>
<p>I have an expression for checking email addresses that I use.</p>
<p>Since none of the above were as short or as accurate as mine, I thought I would post it here.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb335-1"><a href="#cb335-1"></a><span class="dt">@</span><span class="kw">&quot;</span><span class="st">^[</span><span class="ch">\w</span><span class="st">!#</span><span class="dt">$%</span><span class="st">&amp;&#39;*+\-/=?\^_`{|}~]+(\.[</span><span class="ch">\w</span><span class="st">!#</span><span class="dt">$%</span><span class="st">&amp;&#39;*+\-/=?\^_`{|}~]+)*</span><span class="kw">&quot;</span></span>
<span id="cb335-2"><a href="#cb335-2"></a>+ <span class="kw">&quot;</span><span class="dt">@</span><span class="kw">&quot;</span></span>
<span id="cb335-3"><a href="#cb335-3"></a>+ <span class="dt">@</span><span class="kw">&quot;</span><span class="st">((([\-</span><span class="ch">\w</span><span class="st">]+\.)+[a-zA-Z]{2,4})|(([0-9]{1,3}\.){3}[0-9]{1,3}))</span><span class="dt">$&quot;</span><span class="st">;</span></span></code></pre></div>
<p>For more info go read about it here: <a href="https://www.rhyous.com/2010/06/15/csharp-email-regular-expression/" rel="noreferrer">C# – Email Regular Expression</a></p>
<p>Also, this checks for RFC validity based on email syntax, not for whether the email really exists. The only way to test that an email really exists is to send and email and have the user verify they received the email by clicking a link or entering a token.</p>
<p>Then there are throw-away domains, such as Mailinator.com, and such. This doesn’t do anything to verify whether an email is from a throwaway domain or not.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="jquery-selector-regular-expressions-score-401188-in-2016" class="level3">
<h3>63: jQuery selector regular expressions (score <a href="https://stackoverflow.com/q/190253.html">401188</a> in 2016)</h3>
<section id="question-61" class="level4">
<h4>Question</h4>
<p>I am after documentation on using wildcard or regular expressions (not sure on the exact terminology) with a jQuery selector.</p>
<p>I have looked for this myself but have been unable to find information on the syntax and how to use it. Does anyone know where the documentation for the syntax is?</p>
<p>EDIT: The attribute filters allow you to select based on patterns of an attribute value.</p>
</section>
<section id="answer-accepted-score-328-1" class="level4">
<h4>Answer accepted (score 328)</h4>
<p>James Padolsey created a <a href="http://james.padolsey.com/javascript/regex-selector-for-jquery/" rel="noreferrer">wonderful filter</a> that allows regex to be used for selection.</p>
<p>Say you have the following <code>div</code>:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb336-1"><a href="#cb336-1"></a>&lt;div class=<span class="kw">&quot;</span><span class="st">asdf</span><span class="kw">&quot;</span>&gt;</span></code></pre></div>
<p>Padolsey’s <code>:regex</code> filter can select it like so:</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb337-1"><a href="#cb337-1"></a><span class="dt">$(</span><span class="kw">&quot;</span><span class="st">div:regex(class, .*sd.*)</span><span class="kw">&quot;</span>)</span></code></pre></div>
<p>Also, check the <a href="http://docs.jquery.com/Selectors" rel="noreferrer">official documentation on selectors</a>.</p>
</section>
<section id="answer-2-score-712" class="level4">
<h4>Answer 2 (score 712)</h4>
<p>You can use the <a href="http://docs.jquery.com/Traversing/filter#expr" rel="noreferrer"><code>filter</code></a> function to apply more complicated regex matching.</p>
<p>Here’s an example which would just match the first three divs:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb338"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb338-1"><a href="#cb338-1"></a><span class="dt">$(</span><span class="kw">&#39;</span><span class="dt">div</span><span class="kw">&#39;</span>)</span>
<span id="cb338-2"><a href="#cb338-2"></a>  .filter(function() {</span>
<span id="cb338-3"><a href="#cb338-3"></a>    <span class="kw">return</span> this.id.match(<span class="kw">/</span><span class="ot">abc</span><span class="ch">+</span><span class="ot">d</span><span class="kw">/</span>);</span>
<span id="cb338-4"><a href="#cb338-4"></a>  })</span>
<span id="cb338-5"><a href="#cb338-5"></a>  .html(<span class="kw">&quot;</span><span class="st">Matched!</span><span class="kw">&quot;</span>);</span></code></pre></div>
<pre class="snippet-code-html lang-html prettyprint-override"><code>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"&gt;&lt;/script&gt;

&lt;div id="abcd"&gt;Not matched&lt;/div&gt;
&lt;div id="abccd"&gt;Not matched&lt;/div&gt;
&lt;div id="abcccd"&gt;Not matched&lt;/div&gt;
&lt;div id="abd"&gt;Not matched&lt;/div&gt;</code></pre>
</div>
</div>
</section>
<section id="answer-3-score-263" class="level4">
<h4>Answer 3 (score 263)</h4>
<p>These can be helpful.</p>
<p>If you’re finding by <strong>Contains</strong> then it’ll be like this</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb339-1"><a href="#cb339-1"></a>    <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">input[id*=&#39;DiscountType&#39;]</span><span class="kw">&quot;</span>).<span class="kw">each</span>(function (i, el) {</span>
<span id="cb339-2"><a href="#cb339-2"></a>         //It<span class="kw">&#39;</span><span class="st">ll be an array of elements</span></span>
<span id="cb339-3"><a href="#cb339-3"></a><span class="st">     });</span></span></code></pre></div>
<p>If you’re finding by <strong>Starts With</strong> then it’ll be like this</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb340-1"><a href="#cb340-1"></a>    <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">input[id^=&#39;DiscountType&#39;]</span><span class="kw">&quot;</span>).<span class="kw">each</span>(function (i, el) {</span>
<span id="cb340-2"><a href="#cb340-2"></a>         //It<span class="kw">&#39;</span><span class="st">ll be an array of elements</span></span>
<span id="cb340-3"><a href="#cb340-3"></a><span class="st">     });</span></span></code></pre></div>
<p>If you’re finding by <strong>Ends With</strong> then it’ll be like this</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb341-1"><a href="#cb341-1"></a>     <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">input[id</span><span class="dt">$=</span><span class="st">&#39;DiscountType&#39;]</span><span class="kw">&quot;</span>).<span class="kw">each</span>(function (i, el) {</span>
<span id="cb341-2"><a href="#cb341-2"></a>         //It<span class="kw">&#39;</span><span class="st">ll be an array of elements</span></span>
<span id="cb341-3"><a href="#cb341-3"></a><span class="st">     });</span></span></code></pre></div>
<p>If you want to select elements which <strong>id is not a given string</strong></p>
<div class="sourceCode" id="cb342"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb342-1"><a href="#cb342-1"></a>    <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">input[id!=&#39;DiscountType&#39;]</span><span class="kw">&quot;</span>).<span class="kw">each</span>(function (i, el) {</span>
<span id="cb342-2"><a href="#cb342-2"></a>         //It<span class="kw">&#39;</span><span class="st">ll be an array of elements</span></span>
<span id="cb342-3"><a href="#cb342-3"></a><span class="st">     });</span></span></code></pre></div>
<p>If you want to select elements which <strong>name contains a given word, delimited by spaces</strong></p>
<div class="sourceCode" id="cb343"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb343-1"><a href="#cb343-1"></a>     <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">input[name~=&#39;DiscountType&#39;]</span><span class="kw">&quot;</span>).<span class="kw">each</span>(function (i, el) {</span>
<span id="cb343-2"><a href="#cb343-2"></a>         //It<span class="kw">&#39;</span><span class="st">ll be an array of elements</span></span>
<span id="cb343-3"><a href="#cb343-3"></a><span class="st">     });</span></span></code></pre></div>
<p>If you want to select elements which <strong>id is equal to a given string or starting with that string followed by a hyphen</strong></p>
<div class="sourceCode" id="cb344"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb344-1"><a href="#cb344-1"></a>     <span class="dt">$(</span><span class="kw">&quot;</span><span class="st">input[id|=&#39;DiscountType&#39;]</span><span class="kw">&quot;</span>).<span class="kw">each</span>(function (i, el) {</span>
<span id="cb344-2"><a href="#cb344-2"></a>         //It<span class="kw">&#39;</span><span class="st">ll be an array of elements</span></span>
<span id="cb344-3"><a href="#cb344-3"></a><span class="st">     });</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-all-special-characters-with-regexp-score-395465-in-2018" class="level3">
<h3>64: Remove all special characters with RegExp (score <a href="https://stackoverflow.com/q/4374822.html">395465</a> in 2018)</h3>
<section id="question-62" class="level4">
<h4>Question</h4>
<p>I would like a RegExp that will remove all special characters from a string. I am trying something like this but it doesn’t work in IE7, though it works in Firefox.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb345-1"><a href="#cb345-1"></a>var specialChars = <span class="kw">&quot;</span><span class="st">!</span><span class="dt">@</span><span class="st">#</span><span class="dt">$^</span><span class="st">&amp;%*()+=-[]\/{}|:&lt;&gt;?,.</span><span class="kw">&quot;</span>;</span>
<span id="cb345-2"><a href="#cb345-2"></a></span>
<span id="cb345-3"><a href="#cb345-3"></a><span class="kw">for</span> (var i = <span class="dv">0</span>; i &lt; specialChars.<span class="fu">length</span>; i++) {</span>
<span id="cb345-4"><a href="#cb345-4"></a>  stringToReplace = stringToReplace.replace(new RegExp(<span class="kw">&quot;</span><span class="st">\\</span><span class="kw">&quot;</span> + specialChars[i], <span class="kw">&quot;</span><span class="st">gi</span><span class="kw">&quot;</span>), <span class="kw">&quot;&quot;</span>);</span>
<span id="cb345-5"><a href="#cb345-5"></a>}</span></code></pre></div>
<p>A detailed description of the RegExp would be helpful as well.</p>
</section>
<section id="answer-accepted-score-569" class="level4">
<h4>Answer accepted (score 569)</h4>
<div class="sourceCode" id="cb346"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb346-1"><a href="#cb346-1"></a>var desired = stringToReplace.replace(<span class="kw">/</span><span class="ch">[^</span><span class="bn">\w\s</span><span class="ch">]</span><span class="kw">/gi</span>, <span class="kw">&#39;&#39;</span>)</span></code></pre></div>
<p>As was mentioned in the comments it’s easier to do this as a whitelist - replace the characters which <em>aren’t</em> in your safelist.</p>
<p>The caret (<code>^</code>) character is the negation of the set <code>[...]</code>, <code>gi</code> say global and case-insensitive (the latter is a bit redundant but I wanted to mention it) and the safelist in this example is digits, word characters, underscores (<code>\w</code>) and whitespace (<code>\s</code>).</p>
</section>
<section id="answer-2-score-91-1" class="level4">
<h4>Answer 2 (score 91)</h4>
<p>Note that if you still want to exclude a set, including things like slashes and special characters you can do the following:</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb347-1"><a href="#cb347-1"></a>var outString = sourceString.replace(<span class="kw">/</span><span class="ch">[</span><span class="bn">`~!@#$%</span><span class="ch">^</span><span class="bn">&amp;*()_|+\-=?;:&#39;&quot;,.&lt;&gt;\{\}\[\]\\\/</span><span class="ch">]</span><span class="kw">/gi</span>, <span class="kw">&#39;&#39;</span>);</span></code></pre></div>
<p>take special note that in order to also include the “minus” character, you need to escape it with a backslash like the latter group. if you don’t it will also select 0-9 which is probably undesired.</p>
</section>
<section id="answer-3-score-19-1" class="level4">
<h4>Answer 3 (score 19)</h4>
<h5>
<strong>Plain Javascript regex does not handle Unicode letters</strong>.
</h1>
<p>Do not use <code>[^\w\s]</code>, this will remove letters with accents (like àèéìòù), not to mention to Cyrillic or Chinese, letters coming from such languages will be completed removed.</p>
<p>You really don’t want remove these letters together with all the special characters. You have two chances:</p>
<ul>
<li>
Add in your regex all the special characters you don’t want remove, <br> for example: <code>[^èéòàùì\w\s]</code>.
</li>
<li>
Have a look at <a href="http://xregexp.com/" rel="noreferrer">xregexp.com</a>. XRegExp adds base support for Unicode matching via the <code>\p{...}</code> syntax.
</li>
</ul>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb348"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb348-1"><a href="#cb348-1"></a>var str = <span class="kw">&quot;</span><span class="st">Їжак::: résd,</span><span class="dt">$%</span><span class="st">&amp; adùf&quot;</span></span>
<span id="cb348-2"><a href="#cb348-2"></a><span class="st">var search = XRegExp(&#39;([^?&lt;first&gt;\\pL ]+)&#39;);</span></span>
<span id="cb348-3"><a href="#cb348-3"></a><span class="st">var res = XRegExp.replace(str, search, &#39;&#39;,</span><span class="kw">&quot;</span>all<span class="kw">&quot;</span><span class="st">);</span></span>
<span id="cb348-4"><a href="#cb348-4"></a></span>
<span id="cb348-5"><a href="#cb348-5"></a><span class="st">console.log(res); // returns </span><span class="kw">&quot;</span>Їжак::: resd,adf<span class="kw">&quot;</span></span>
<span id="cb348-6"><a href="#cb348-6"></a><span class="st">console.log(str.replace(/[^</span><span class="ch">\w\s</span><span class="st">]/gi, &#39;&#39;) ); // returns </span><span class="kw">&quot;</span> rsd adf<span class="kw">&quot;</span></span>
<span id="cb348-7"><a href="#cb348-7"></a><span class="st">console.log(str.replace(/[^</span><span class="ch">\w</span><span class="st">èéòàùì</span><span class="ch">\s</span><span class="st">]/gi, &#39;&#39;) ); // returns </span><span class="kw">&quot;</span> résd adùf<span class="kw">&quot;</span></span></code></pre></div>
<pre class="snippet-code-html lang-html prettyprint-override">`&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/xregexp/3.1.1/xregexp-all.js"&gt;&lt;/script&gt;`</pre>
</div>
</div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-find-a-string-included-between-two-characters-while-excluding-the-delimiters-score-395344-in-2018" class="level3">
<h3>65: Regular Expression to find a string included between two characters while EXCLUDING the delimiters (score <a href="https://stackoverflow.com/q/1454913.html">395344</a> in 2018)</h3>
<section id="question-63" class="level4">
<h4>Question</h4>
<p>I need to extract from a string a set of characters which are included between two delimiters, without returning the delimiters themselves.</p>
<p>A simple example should be helpful:</p>
<p><strong>Target</strong>: extract the substring between square brackets, without returning the brackets themselves.</p>
<p><strong>Base string</strong>: <code>This is a test string [more or less]</code></p>
<p>If I use the following reg. ex.</p>
<pre>\[.*?\]</pre>
<p>The match is <code>[more or less]</code>. I need to get only <code>more or less</code> (without the brackets).</p>
<p>Is it possible to do it?</p>
</section>
<section id="answer-accepted-score-389" class="level4">
<h4>Answer accepted (score 389)</h4>
<p>Easy done:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb349-1"><a href="#cb349-1"></a>(?&lt;=\[)(.<span class="dt">*?</span>)(?=\])</span></code></pre></div>
<p>Technically that’s using lookaheads and lookbehinds. See <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">Lookahead and Lookbehind Zero-Width Assertions</a>. The pattern consists of:</p>
<ul>
<li>
is preceded by a [ that is not captured (lookbehind);
</li>
<li>
a non-greedy captured group. It’s non-greedy to stop at the first ]; and
</li>
<li>
is followed by a ] that is not captured (lookahead).
</li>
</ul>
<p>Alternatively you can just capture what’s between the square brackets:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb350-1"><a href="#cb350-1"></a>\[(.<span class="dt">*?</span>)\]</span></code></pre></div>
<p>and return the first captured group instead of the entire match.</p>
</section>
<section id="answer-2-score-47" class="level4">
<h4>Answer 2 (score 47)</h4>
<p>If you are using <strong>JavaScript</strong>, the <a href="https://stackoverflow.com/a/1454936/1476885">first solution</a> provided by cletus, <code>(?&amp;lt;=\[)(.*?)(?=\])</code>, will not work because JavaScript doesn’t support the lookbehind operator.</p>
<p>However, the second solution works well, but you need to get the second matched element.</p>
<p>Example:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb351-1"><a href="#cb351-1"></a>var regex = <span class="kw">/</span><span class="ot">\[</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot">\]</span><span class="kw">/</span>;</span>
<span id="cb351-2"><a href="#cb351-2"></a>var strToMatch = <span class="kw">&quot;</span><span class="st">This is a test string [more or less]</span><span class="kw">&quot;</span>;</span>
<span id="cb351-3"><a href="#cb351-3"></a>var matched = regex.<span class="fu">exec</span>(strToMatch);</span></code></pre></div>
<p>It will return:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb352-1"><a href="#cb352-1"></a>[<span class="kw">&quot;</span><span class="st">[more or less]</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">more or less</span><span class="kw">&quot;</span>]</span></code></pre></div>
<p>So, what you need is the second value. Use:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb353-1"><a href="#cb353-1"></a>var matched = regex.<span class="fu">exec</span>(strToMatch)[<span class="dv">1</span>];</span></code></pre></div>
<p>To return:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb354-1"><a href="#cb354-1"></a><span class="kw">&quot;</span><span class="st">more or less</span><span class="kw">&quot;</span></span></code></pre></div>
</section>
<section id="answer-3-score-18" class="level4">
<h4>Answer 3 (score 18)</h4>
<p>You just need to ‘capture’ the bit between the brackets.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb355-1"><a href="#cb355-1"></a>\[(.<span class="dt">*?</span>)\]</span></code></pre></div>
<p>To capture you put it inside parentheses. You do not say which language this is using. In Perl for example, you would access this using the $1 variable.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb356-1"><a href="#cb356-1"></a><span class="kw">my</span> <span class="dt">$string</span> =<span class="kw">&#39;</span><span class="st">This is the match [more or less]</span><span class="kw">&#39;</span>;</span>
<span id="cb356-2"><a href="#cb356-2"></a><span class="dt">$string</span> =~ <span class="kw">/</span><span class="ot">\[</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot">\]</span><span class="kw">/</span>;</span>
<span id="cb356-3"><a href="#cb356-3"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">match:</span><span class="dt">$1</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Other languages will have different mechanisms. C#, for example, uses the <a href="http://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.match%28VS.71%29.aspx" rel="noreferrer">Match collection</a> class, I believe.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="java-string-replace-using-regular-expressions-score-394664-in-2012" class="level3">
<h3>66: Java; String replace (using regular expressions)? (score <a href="https://stackoverflow.com/q/632204.html">394664</a> in 2012)</h3>
<section id="question-64" class="level4">
<h4>Question</h4>
<p>As part of a project for school, I need to replace a string from the form:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb357-1"><a href="#cb357-1"></a><span class="dv">5</span> <span class="kw">*</span> x^<span class="dv">3</span> - <span class="dv">6</span> <span class="kw">*</span> x^<span class="dv">1</span> + <span class="dv">1</span></span></code></pre></div>
<p>to something like:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb358-1"><a href="#cb358-1"></a>5x&lt;sup&gt;<span class="dv">3</span>&lt;/sup&gt; - 6x&lt;sup&gt;<span class="dv">1</span>&lt;/sup&gt; + <span class="dv">1</span></span></code></pre></div>
<p>I believe this can be done with regular expressions, but I don’t know how to do it yet.</p>
<p>Can you lend me a hand?</p>
<p>P.S. The actual assignment is to implement a Polynomial Processing Java application, and I’m using this to pass polynomial.toString() from the model to the view, and I want do display it using html tags in a pretty way.</p>
</section>
<section id="answer-2-score-157" class="level4">
<h4>Answer 2 (score 157)</h4>
<div class="sourceCode" id="cb359"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb359-1"><a href="#cb359-1"></a>str.replaceAll(<span class="kw">&quot;</span><span class="st">\\^([0-9]+)</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">&lt;sup&gt;</span><span class="dt">$1</span><span class="st">&lt;/sup&gt;</span><span class="kw">&quot;</span>);</span></code></pre></div>
</section>
<section id="answer-3-score-33-2" class="level4">
<h4>Answer 3 (score 33)</h4>
<div class="sourceCode" id="cb360"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb360-1"><a href="#cb360-1"></a>private String removeScript(String content) {</span>
<span id="cb360-2"><a href="#cb360-2"></a>    Pattern p = Pattern.compile(<span class="kw">&quot;</span><span class="st">&lt;script[^&gt;]*&gt;(.*?)&lt;/script&gt;</span><span class="kw">&quot;</span>,</span>
<span id="cb360-3"><a href="#cb360-3"></a>            Pattern.DOTALL | Pattern.CASE_INSENSITIVE);</span>
<span id="cb360-4"><a href="#cb360-4"></a>    <span class="kw">return</span> p.matcher(content).replaceAll(<span class="kw">&quot;&quot;</span>);</span>
<span id="cb360-5"><a href="#cb360-5"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="java-string-split-with-.-dot-score-387315-in-2019" class="level3">
<h3>67: Java string split with “.” (dot) (score <a href="https://stackoverflow.com/q/14833008.html">387315</a> in 2019)</h3>
<section id="question-65" class="level4">
<h4>Question</h4>
<p>Why does the second line of this code throw <code>ArrayIndexOutOfBoundsException</code>?</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb361-1"><a href="#cb361-1"></a>String filename = <span class="kw">&quot;</span><span class="st">D:/some folder/001.docx</span><span class="kw">&quot;</span>;</span>
<span id="cb361-2"><a href="#cb361-2"></a>String extensionRemoved = filename.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">.</span><span class="kw">&quot;</span>)[<span class="dv">0</span>];</span></code></pre></div>
<p>While this works:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb362-1"><a href="#cb362-1"></a>String driveLetter = filename.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">/</span><span class="kw">&quot;</span>)[<span class="dv">0</span>];</span></code></pre></div>
<p>I use Java 7.</p>
</section>
<section id="answer-2-score-678" class="level4">
<h4>Answer 2 (score 678)</h4>
<p>You need to escape the dot if you want to split on a <em>literal</em> dot:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb363-1"><a href="#cb363-1"></a>String extensionRemoved = filename.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">\\.</span><span class="kw">&quot;</span>)[<span class="dv">0</span>];</span></code></pre></div>
<p>
Otherwise you are splitting on the regex <code>.</code>, which means “any character”.<br> Note the double backslash needed to create a single backslash in the regex.
</p>
<hr>
<p>You’re getting an <code>ArrayIndexOutOfBoundsException</code> because your input string is just a dot, ie <code>"."</code>, which is an edge case that produces an empty array when split on dot; <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-"><code>split(regex)</code></a> removes all trailing blanks from the result, but since splitting a dot on a dot leaves only two blanks, after trailing blanks are removed you’re left with an empty array.</p>
<p>To avoid getting an <code>ArrayIndexOutOfBoundsException</code> for this edge case, use the overloaded version of <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-"><code>split(regex, limit)</code></a>, which has a second parameter that is the size limit for the resulting array. When <code>limit</code> is <em>negative</em>, the behaviour of removing trailing blanks from the resulting array is disabled:</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb364-1"><a href="#cb364-1"></a><span class="kw">&quot;</span><span class="st">.</span><span class="kw">&quot;</span>.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">\\.</span><span class="kw">&quot;</span>, <span class="dv">-1</span>) // returns an array of two blanks, ie [<span class="kw">&quot;&quot;</span>, <span class="kw">&quot;&quot;</span>]</span></code></pre></div>
<p>ie, when <code>filename</code> is just a dot <code>"."</code>, calling <code>filename.split("\\.", -1)[0]</code> will return a blank, but calling <code>filename.split("\\.")[0]</code> will throw an <code>ArrayIndexOutOfBoundsException</code>.</p>
</section>
<section id="answer-3-score-93" class="level4">
<h4>Answer 3 (score 93)</h4>
<p>“.” is a special character in java regex engine, so you have to use “\.” to escape this character:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb365-1"><a href="#cb365-1"></a>final String extensionRemoved = filename.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">\\.</span><span class="kw">&quot;</span>)[<span class="dv">0</span>];</span></code></pre></div>
<p>I hope this helps</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-limit-number-of-characters-to-10-score-384603-in-2013" class="level3">
<h3>68: Regular expression to limit number of characters to 10 (score <a href="https://stackoverflow.com/q/1649435.html">384603</a> in 2013)</h3>
<section id="question-66" class="level4">
<h4>Question</h4>
<p>I am trying to write a <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expression</a> that will only allow lowercase letters and up to 10 characters. What I have so far looks like this:</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb366-1"><a href="#cb366-1"></a>pattern: <span class="kw">/</span><span class="ch">^[</span><span class="bn">a-z</span><span class="ch">]{0,10}+$</span><span class="kw">/</span> </span></code></pre></div>
<p>This does not work or compile. I had a working one that would just allow lowercase letters which was this:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb367-1"><a href="#cb367-1"></a>pattern: <span class="kw">/</span><span class="ch">^[</span><span class="bn">a-z</span><span class="ch">]+$</span><span class="kw">/</span> </span></code></pre></div>
<p>But I need to limit the number of characters to 10.</p>
</section>
<section id="answer-2-score-326" class="level4">
<h4>Answer 2 (score 326)</h4>
<p>You can use curly braces to control the number of occurrences. For example, this means 0 to 10:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb368-1"><a href="#cb368-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">a-z</span><span class="ch">]{0,10}$</span><span class="kw">/</span></span></code></pre></div>
<p>The options are:</p>
<ul>
<li>
{3} Exactly 3 occurrences;
</li>
<li>
{6,} At least 6 occurrences;
</li>
<li>
{2,5} 2 to 5 occurrences.
</li>
</ul>
<p>See the <a href="http://www.regular-expressions.info/reference.html" rel="noreferrer">regular expression reference</a>.</p>
<p>Your expression had a + after the closing curly brace, hence the error.</p>
</section>
<section id="answer-3-score-10-1" class="level4">
<h4>Answer 3 (score 10)</h4>
<p><code>/^[a-z]{0,10}$/</code> should work. <code>/^[a-z]{1,10}$/</code> if you want to match at least one character, like <code>/^[a-z]+$/</code> does.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-string-contains-score-381502-in-2016" class="level3">
<h3>69: Regex for string contains? (score <a href="https://stackoverflow.com/q/4999064.html">381502</a> in 2016)</h3>
<section id="question-67" class="level4">
<h4>Question</h4>
<p>What is the regex for simply checking if a string contains a certain word (e.g. ‘Test’)? I’ve done some googling but can’t get a straight example of such a regex. This is for a build script but has no bearing to any particular programming language.</p>
</section>
<section id="answer-accepted-score-70" class="level4">
<h4>Answer accepted (score 70)</h4>
<p>Assuming regular PCRE-style regex flavors:</p>
<p>If you want to check for it as a <em>single, full word</em>, it’s <code>\bTest\b</code>, with appropriate flags for case insensitivity if desired and delimiters for your programming language. <code>\b</code> represents a “word boundary”, that is, a point between characters where a word can be considered to start or end. For example, since spaces are used to separate words, there will be a word boundary on either side of a space.</p>
<p>If you want to check for it as <em>part of the word</em>, it’s just <code>Test</code>, again with appropriate flags for case insensitivity. Note that usually, dedicated “substring” methods tend to be faster in this case, because it removes the overhead of parsing the regex.</p>
</section>
<section id="answer-2-score-91-2" class="level4">
<h4>Answer 2 (score 91)</h4>
<p>Just don’t anchor your pattern:</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb369-1"><a href="#cb369-1"></a><span class="kw">/</span><span class="ot">Test</span><span class="kw">/</span></span></code></pre></div>
<p>The above regex will check for the literal string “Test” being found somewhere within it.</p>
</section>
<section id="answer-3-score-1" class="level4">
<h4>Answer 3 (score 1)</h4>
<p>I have hashed together different elements to get the validation we needed for student emails. I hope this is going to work I haven’t tested fully.</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb370-1"><a href="#cb370-1"></a>^[a-zA-Z0<span class="dv">-9</span>._<span class="dt">%+</span>-]+<span class="dt">@</span>\{ac|org|stu|student|stud|studmail|edu|uni}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-replace-multiple-spaces-with-a-single-space-score-379298-in-2016" class="level3">
<h3>70: Regex to replace multiple spaces with a single space (score <a href="https://stackoverflow.com/q/1981349.html">379298</a> in 2016)</h3>
<section id="question-68" class="level4">
<h4>Question</h4>
<p>Given a string like:</p>
<pre>"The dog      has a long   tail, and it     is RED!"</pre>
<p>What kind of jQuery or JavaScript magic can be used to keep spaces to only one space max?</p>
<p>Goal:</p>
<pre>"The dog has a long tail, and it is RED!"</pre>
</section>
<section id="answer-accepted-score-817" class="level4">
<h4>Answer accepted (score 817)</h4>
<p>Given that you also want to cover tabs, newlines, etc, just replace <code>\s\s+</code> with <code>' '</code>:</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb371-1"><a href="#cb371-1"></a>string = string.replace(<span class="kw">/</span><span class="bn">\s\s</span><span class="ch">+</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>If you really want to cover only spaces (and thus not tabs, newlines, etc), do so:</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb372-1"><a href="#cb372-1"></a>string = string.replace(<span class="kw">/</span><span class="ot">  </span><span class="ch">+</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>);</span></code></pre></div>
</section>
<section id="answer-2-score-152" class="level4">
<h4>Answer 2 (score 152)</h4>
<p>Since you seem to be interested in performance, I profiled these with firebug. Here are the results I got:</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb373-1"><a href="#cb373-1"></a>str.replace( <span class="kw">/</span><span class="ot">  </span><span class="ch">+</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span> )       -&gt;  380ms</span>
<span id="cb373-2"><a href="#cb373-2"></a>str.replace( <span class="kw">/</span><span class="bn">\s\s</span><span class="ch">+</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span> )     -&gt;  390ms</span>
<span id="cb373-3"><a href="#cb373-3"></a>str.replace( <span class="kw">/</span><span class="ot"> </span><span class="ch">{2,}</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span> )     -&gt;  470ms</span>
<span id="cb373-4"><a href="#cb373-4"></a>str.replace( <span class="kw">/</span><span class="ot"> </span><span class="ch">+</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span> )        -&gt;  790ms</span>
<span id="cb373-5"><a href="#cb373-5"></a>str.replace( <span class="kw">/</span><span class="ot"> </span><span class="ch">+(?=</span><span class="ot"> </span><span class="ch">)</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>)    -&gt; 3250ms</span></code></pre></div>
<p>This is on Firefox, running 100k string replacements.</p>
<p>I encourage you to do your own profiling tests with firebug, if you think performance is an issue. Humans are notoriously bad at predicting where the bottlenecks in their programs lie.</p>
<p>(Also, note that IE 8’s developer toolbar also has a profiler built in – it might be worth checking what the performance is like in IE.)</p>
</section>
<section id="answer-3-score-43" class="level4">
<h4>Answer 3 (score 43)</h4>
<div class="sourceCode" id="cb374"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb374-1"><a href="#cb374-1"></a>var str = <span class="kw">&quot;</span><span class="st">The      dog        has a long tail,      and it is RED!</span><span class="kw">&quot;</span>;</span>
<span id="cb374-2"><a href="#cb374-2"></a>str = str.replace(<span class="kw">/</span><span class="ot"> </span><span class="ch">{2,}</span><span class="kw">/g</span>,<span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>
<strong>EDIT:</strong> If you wish to replace all kind of whitespace characters the most efficient way would be like that:
</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb375-1"><a href="#cb375-1"></a>str = str.replace(<span class="kw">/</span><span class="bn">\s</span><span class="ch">{2,}</span><span class="kw">/g</span>,<span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>);</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="test-if-characters-are-in-a-string-score-377400-in-2018" class="level3">
<h3>71: Test if characters are in a string (score <a href="https://stackoverflow.com/q/10128617.html">377400</a> in 2018)</h3>
<section id="question-69" class="level4">
<h4>Question</h4>
<p>I’m trying to determine if a string is a subset of another string. For example:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb376-1"><a href="#cb376-1"></a>chars &lt;- <span class="kw">&quot;</span><span class="st">test</span><span class="kw">&quot;</span></span>
<span id="cb376-2"><a href="#cb376-2"></a>value &lt;- <span class="kw">&quot;</span><span class="st">es</span><span class="kw">&quot;</span></span></code></pre></div>
<p>I want to return TRUE if “value” appears as part of the string “chars”. In the following scenario, I would want to return false:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb377-1"><a href="#cb377-1"></a>chars &lt;- <span class="kw">&quot;</span><span class="st">test</span><span class="kw">&quot;</span></span>
<span id="cb377-2"><a href="#cb377-2"></a>value &lt;- <span class="kw">&quot;</span><span class="st">et</span><span class="kw">&quot;</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-338" class="level4">
<h4>Answer accepted (score 338)</h4>
<p>Use the <code>grepl</code> function</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb378-1"><a href="#cb378-1"></a>grepl(value, chars)</span>
<span id="cb378-2"><a href="#cb378-2"></a><span class="co"># TRUE</span></span></code></pre></div>
</section>
<section id="answer-2-score-133" class="level4">
<h4>Answer 2 (score 133)</h4>
<h5>
Answer
</h2>
<p>Sigh, it took me 45 minutes to find the answer to this simple question. The answer is: <code>grepl(needle, haystack, fixed=TRUE)</code></p>
<div class="sourceCode" id="cb379"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb379-1"><a href="#cb379-1"></a><span class="co"># Correct</span></span>
<span id="cb379-2"><a href="#cb379-2"></a>&gt; grepl(<span class="kw">&quot;</span><span class="st">1+2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">1+2</span><span class="kw">&quot;</span>, fixed=TRUE)</span>
<span id="cb379-3"><a href="#cb379-3"></a>[<span class="dv">1</span>] TRUE</span>
<span id="cb379-4"><a href="#cb379-4"></a>&gt; grepl(<span class="kw">&quot;</span><span class="st">1+2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">123+456</span><span class="kw">&quot;</span>, fixed=TRUE)</span>
<span id="cb379-5"><a href="#cb379-5"></a>[<span class="dv">1</span>] FALSE</span>
<span id="cb379-6"><a href="#cb379-6"></a></span>
<span id="cb379-7"><a href="#cb379-7"></a><span class="co"># Incorrect</span></span>
<span id="cb379-8"><a href="#cb379-8"></a>&gt; grepl(<span class="kw">&quot;</span><span class="st">1+2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">1+2</span><span class="kw">&quot;</span>)</span>
<span id="cb379-9"><a href="#cb379-9"></a>[<span class="dv">1</span>] FALSE</span>
<span id="cb379-10"><a href="#cb379-10"></a>&gt; grepl(<span class="kw">&quot;</span><span class="st">1+2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">123+456</span><span class="kw">&quot;</span>)</span>
<span id="cb379-11"><a href="#cb379-11"></a>[<span class="dv">1</span>] TRUE</span></code></pre></div>
<hr>
<h5>
Interpretation
</h2>
<p><code>grep</code> is named after the linux executable, which is itself an acronym of “<strong>G</strong>lobal <strong>R</strong>egular <strong>E</strong>xpression <strong>P</strong>rint”, it would read lines of input and then print them if they matched the arguments you gave. “Global” meant the match could occur anywhere on the input line, I’ll explain “Regular Expression” below, but the idea is it’s a smarter way to match the string (R calls this “character”, eg <code>class("abc")</code>), and “Print” because it’s a command line program, emitting output means it prints to its output string.</p>
<p>Now, the <code>grep</code> program is basically a filter, from lines of input, to lines of output. And it seems that R’s <code>grep</code> function similarly will take an array of inputs. For reasons that are utterly unknown to me (I only started playing with R about an hour ago), it returns a vector of the indexes that match, rather than a list of matches.</p>
<p>But, back to your original question, what we really want is to know whether we found the needle in the haystack, a true/false value. They apparently decided to name this function <code>grepl</code>, as in “grep” but with a “<strong>L</strong>ogical” return value (they call true and false logical values, eg <code>class(TRUE)</code>).</p>
<p>So, now we know where the name came from and what it’s supposed to do. Lets get back to Regular Expressions. The arguments, even though they are strings, they are used to build regular expressions (henceforth: regex). A regex is a way to match a string (if this definition irritates you, let it go). For example, the regex <code>a</code> matches the character <code>"a"</code>, the regex <code>a*</code> matches the character <code>"a"</code> 0 or more times, and the regex <code>a+</code> would match the character <code>"a"</code> 1 or more times. Hence in the example above, the needle we are searching for <code>1+2</code>, when treated as a regex, means “one or more 1 followed by a 2”… but ours is followed by a plus!</p>
<p><a href="https://i.stack.imgur.com/cTye4.png"><img src="https://i.stack.imgur.com/cTye4.png" alt="1+2 as a regex"></a></p>
<p>So, if you used the <code>grepl</code> without setting <code>fixed</code>, your needles would accidentally be haystacks, and that would accidentally work quite often, we can see it even works for the OP’s example. But that’s a latent bug! We need to tell it the input is a string, not a regex, which is apparently what <code>fixed</code> is for. Why fixed? No clue, bookmark this answer b/c you’re probably going to have to look it up 5 more times before you get it memorized.</p>
<h5>
A few final thoughts
</h2>
<p>The better your code is, the less history you have to know to make sense of it. Every argument can have at least two interesting values (otherwise it wouldn’t need to be an argument), the docs list 9 arguments here, which means there’s at least 2^9=512 ways to invoke it, that’s a lot of work to write, test, and remember… decouple such functions (split them up, remove dependencies on each other, string things are different than regex things are different than vector things). Some of the options are also mutually exclusive, don’t give users incorrect ways to use the code, ie the problematic invocation should be structurally nonsensical (such as passing an option that doesn’t exist), not logically nonsensical (where you have to emit a warning to explain it). Put metaphorically: replacing the front door in the side of the 10th floor with a wall is better than hanging a sign that warns against its use, but either is better than neither. In an interface, the function defines what the arguments should look like, not the caller (because the caller depends on the function, inferring everything that everyone might ever want to call it with makes the function depend on the callers, too, and this type of cyclical dependency will quickly clog a system up and never provide the benefits you expect). Be very wary of equivocating types, it’s a design flaw that things like <code>TRUE</code> and <code>0</code> and <code>"abc"</code> are all vectors.</p>
</section>
<section id="answer-3-score-31" class="level4">
<h4>Answer 3 (score 31)</h4>
<p>You want <code>grepl</code>:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb380-1"><a href="#cb380-1"></a>&gt; chars &lt;- <span class="kw">&quot;</span><span class="st">test</span><span class="kw">&quot;</span></span>
<span id="cb380-2"><a href="#cb380-2"></a>&gt; value &lt;- <span class="kw">&quot;</span><span class="st">es</span><span class="kw">&quot;</span></span>
<span id="cb380-3"><a href="#cb380-3"></a>&gt; grepl(value, chars)</span>
<span id="cb380-4"><a href="#cb380-4"></a>[<span class="dv">1</span>] TRUE</span>
<span id="cb380-5"><a href="#cb380-5"></a>&gt; chars &lt;- <span class="kw">&quot;</span><span class="st">test</span><span class="kw">&quot;</span></span>
<span id="cb380-6"><a href="#cb380-6"></a>&gt; value &lt;- <span class="kw">&quot;</span><span class="st">et</span><span class="kw">&quot;</span></span>
<span id="cb380-7"><a href="#cb380-7"></a>&gt; grepl(value, chars)</span>
<span id="cb380-8"><a href="#cb380-8"></a>[<span class="dv">1</span>] FALSE</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-find-all-occurrences-of-a-substring-score-375838-in-2019" class="level3">
<h3>72: How to find all occurrences of a substring? (score <a href="https://stackoverflow.com/q/4664850.html">375838</a> in 2019)</h3>
<section id="question-70" class="level4">
<h4>Question</h4>
<p>Python has <code>string.find()</code> and <code>string.rfind()</code> to get the index of a substring in a string.</p>
<p>I’m wondering whether there is something like <code>string.find_all()</code> which can return all found indexes (not only the first from the beginning or the first from the end).</p>
<p>For example:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb381-1"><a href="#cb381-1"></a>string = <span class="kw">&quot;</span><span class="st">test test test test</span><span class="kw">&quot;</span></span>
<span id="cb381-2"><a href="#cb381-2"></a></span>
<span id="cb381-3"><a href="#cb381-3"></a><span class="fu">print</span> string.find(<span class="kw">&#39;</span><span class="st">test</span><span class="kw">&#39;</span>) <span class="co"># 0</span></span>
<span id="cb381-4"><a href="#cb381-4"></a><span class="fu">print</span> string.rfind(<span class="kw">&#39;</span><span class="st">test</span><span class="kw">&#39;</span>) <span class="co"># 15</span></span>
<span id="cb381-5"><a href="#cb381-5"></a></span>
<span id="cb381-6"><a href="#cb381-6"></a><span class="co">#this is the goal</span></span>
<span id="cb381-7"><a href="#cb381-7"></a><span class="fu">print</span> string.find_all(<span class="kw">&#39;</span><span class="st">test</span><span class="kw">&#39;</span>) <span class="co"># [0,5,10,15]</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-465" class="level4">
<h4>Answer accepted (score 465)</h4>
<p>There is no simple built-in string function that does what you’re looking for, but you could use the more powerful <a href="http://www.regular-expressions.info/" rel="noreferrer">regular expressions</a>:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb382-1"><a href="#cb382-1"></a><span class="fu">import</span> re</span>
<span id="cb382-2"><a href="#cb382-2"></a>[<span class="kw">m.</span><span class="ot">start</span><span class="ch">()</span><span class="ot"> for m in re</span><span class="kw">.</span>finditer(<span class="kw">&#39;</span><span class="st">test</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">test test test test</span><span class="kw">&#39;</span>)]</span>
<span id="cb382-3"><a href="#cb382-3"></a><span class="co">#[0, 5, 10, 15]</span></span></code></pre></div>
<p>If you want to find overlapping matches, <a href="http://www.regular-expressions.info/lookaround.html" rel="noreferrer">lookahead</a> will do that:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb383-1"><a href="#cb383-1"></a>[<span class="kw">m.</span><span class="ot">start</span><span class="ch">()</span><span class="ot"> for m in re</span><span class="kw">.</span>finditer(<span class="kw">&#39;</span><span class="st">(?=tt)</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">ttt</span><span class="kw">&#39;</span>)]</span>
<span id="cb383-2"><a href="#cb383-2"></a><span class="co">#[0, 1]</span></span></code></pre></div>
<p>If you want a reverse find-all without overlaps, you can combine positive and negative lookahead into an expression like this:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb384-1"><a href="#cb384-1"></a>search = <span class="kw">&#39;</span><span class="st">tt</span><span class="kw">&#39;</span></span>
<span id="cb384-2"><a href="#cb384-2"></a>[<span class="kw">m.</span><span class="ot">start</span><span class="ch">()</span><span class="ot"> for m in re</span><span class="kw">.</span>finditer(<span class="kw">&#39;</span><span class="st">(?=%s)(?!.{1,%d}%s)</span><span class="kw">&#39;</span> % (search, len(search)-<span class="dv">1</span>, search), <span class="kw">&#39;</span><span class="st">ttt</span><span class="kw">&#39;</span>)]</span>
<span id="cb384-3"><a href="#cb384-3"></a><span class="co">#[1]</span></span></code></pre></div>
<p><a href="http://docs.python.org/library/re.html#re.finditer" rel="noreferrer"><code>re.finditer</code></a> returns a <a href="http://wiki.python.org/moin/Generators" rel="noreferrer">generator</a>, so you could change the <code>[]</code> in the above to <code>()</code> to get a generator instead of a list which will be more efficient if you’re only iterating through the results once.</p>
</section>
<section id="answer-2-score-94" class="level4">
<h4>Answer 2 (score 94)</h4>
<div class="sourceCode" id="cb385"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb385-1"><a href="#cb385-1"></a>&gt;&gt;&gt; help(str.find)</span>
<span id="cb385-2"><a href="#cb385-2"></a>Help on method_descriptor:</span>
<span id="cb385-3"><a href="#cb385-3"></a></span>
<span id="cb385-4"><a href="#cb385-4"></a>find(...)</span>
<span id="cb385-5"><a href="#cb385-5"></a>    S.find(<span class="kw">sub </span>[,start [,end]]) -&gt; <span class="fu">int</span></span></code></pre></div>
<p>Thus, we can build it ourselves:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb386-1"><a href="#cb386-1"></a>def find_all(a_str, <span class="kw">sub</span>):</span>
<span id="cb386-2"><a href="#cb386-2"></a>    start = <span class="dv">0</span></span>
<span id="cb386-3"><a href="#cb386-3"></a>    <span class="kw">while</span> True:</span>
<span id="cb386-4"><a href="#cb386-4"></a>        start = a_str.find(<span class="kw">sub</span>, start)</span>
<span id="cb386-5"><a href="#cb386-5"></a>        <span class="kw">if</span> start == <span class="dv">-1</span>: <span class="kw">return</span></span>
<span id="cb386-6"><a href="#cb386-6"></a>        yield start</span>
<span id="cb386-7"><a href="#cb386-7"></a>        start += len(<span class="kw">sub</span>) <span class="co"># use start += 1 to find overlapping matches</span></span>
<span id="cb386-8"><a href="#cb386-8"></a></span>
<span id="cb386-9"><a href="#cb386-9"></a>list(find_all(<span class="kw">&#39;</span><span class="st">spam spam spam spam</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">spam</span><span class="kw">&#39;</span>)) <span class="co"># [0, 5, 10, 15]</span></span></code></pre></div>
<p>No temporary strings or regexes required.</p>
</section>
<section id="answer-3-score-43-1" class="level4">
<h4>Answer 3 (score 43)</h4>
<p>Here’s a (very inefficient) way to get <em>all</em> (i.e. even overlapping) matches:</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb387-1"><a href="#cb387-1"></a>&gt;&gt;&gt; string = <span class="kw">&quot;</span><span class="st">test test test test</span><span class="kw">&quot;</span></span>
<span id="cb387-2"><a href="#cb387-2"></a>&gt;&gt;&gt; [i <span class="kw">for</span> i in range(len(string)) <span class="kw">if</span> string.startswith(<span class="kw">&#39;</span><span class="st">test</span><span class="kw">&#39;</span>, i)]</span>
<span id="cb387-3"><a href="#cb387-3"></a>[<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>]</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url-score-372948-in-2016" class="level3">
<h3>73: What is the best regular expression to check if a string is a valid URL? (score <a href="https://stackoverflow.com/q/161738.html">372948</a> in 2016)</h3>
<section id="question-71" class="level4">
<h4>Question</h4>
<p>How can I check if a given string is a valid URL address?</p>
<p>My knowledge of regular expressions is basic and doesn’t allow me to choose from the hundreds of regular expressions I’ve already seen on the web.</p>
</section>
<section id="answer-2-score-395" class="level4">
<h4>Answer 2 (score 395)</h4>
<p>I wrote my URL (actually IRI, internationalized) pattern to comply with RFC 3987 (<a href="http://www.faqs.org/rfcs/rfc3987.html" rel="noreferrer">http://www.faqs.org/rfcs/rfc3987.html</a>). These are in PCRE syntax.</p>
<p>For absolute IRIs (internationalized):</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb388-1"><a href="#cb388-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">a-z</span><span class="ch">](?:[</span><span class="bn">-a-z0-9\+\.</span><span class="ch">]</span><span class="ot">.html</span><span class="ch">)*</span><span class="ot">:</span><span class="ch">(?:</span><span class="ot">\/\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:</span><span class="ch">])*</span><span class="ot">@</span><span class="ch">)?(?:</span><span class="ot">\[</span><span class="ch">(?:(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){6}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){5}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){4}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,1}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){3}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,2}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){2}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,3}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,4}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,5}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,6}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">)|</span><span class="ot">v</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">-a-z0-9\._~!\$&amp;&#39;\(\)\*\+,;=:</span><span class="ch">]+)</span><span class="ot">\]</span><span class="ch">|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3}|(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=</span><span class="ch">])*)(?::[</span><span class="bn">0-9</span><span class="ch">]*)?(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*|</span><span class="ot">\/</span><span class="ch">(?:(?:(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))+)(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*)?|(?:(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))+)(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*|(?!(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])))(?:</span><span class="ot">\?</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])|[</span><span class="bn">\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}\/\?</span><span class="ch">])*)?(?:</span><span class="ot">\#</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])|[</span><span class="bn">\/\?</span><span class="ch">])*)?$</span><span class="kw">/i</span></span></code></pre></div>
<p>To also allow relative IRIs:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb389-1"><a href="#cb389-1"></a><span class="kw">/</span><span class="ch">^(?:[</span><span class="bn">a-z</span><span class="ch">](?:[</span><span class="bn">-a-z0-9\+\.</span><span class="ch">]</span><span class="ot">.html</span><span class="ch">)*</span><span class="ot">:</span><span class="ch">(?:</span><span class="ot">\/\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:</span><span class="ch">])*</span><span class="ot">@</span><span class="ch">)?(?:</span><span class="ot">\[</span><span class="ch">(?:(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){6}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){5}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){4}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,1}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){3}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,2}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){2}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,3}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,4}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,5}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,6}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">)|</span><span class="ot">v</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">-a-z0-9\._~!\$&amp;&#39;\(\)\*\+,;=:</span><span class="ch">]+)</span><span class="ot">\]</span><span class="ch">|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3}|(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=</span><span class="ch">])*)(?::[</span><span class="bn">0-9</span><span class="ch">]*)?(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*|</span><span class="ot">\/</span><span class="ch">(?:(?:(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))+)(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*)?|(?:(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))+)(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*|(?!(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])))(?:</span><span class="ot">\?</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])|[</span><span class="bn">\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}\/\?</span><span class="ch">])*)?(?:</span><span class="ot">\#</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])|[</span><span class="bn">\/\?</span><span class="ch">])*)?|(?:</span><span class="ot">\/\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:</span><span class="ch">])*</span><span class="ot">@</span><span class="ch">)?(?:</span><span class="ot">\[</span><span class="ch">(?:(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){6}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){5}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){4}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,1}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){3}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,2}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){2}(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,3}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,4}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3})|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,5}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}|(?:(?:[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4}</span><span class="ot">:</span><span class="ch">){0,6}[</span><span class="bn">0-9a-f</span><span class="ch">]{1,4})?</span><span class="ot">::</span><span class="ch">)|</span><span class="ot">v</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">-a-z0-9\._~!\$&amp;&#39;\(\)\*\+,;=:</span><span class="ch">]+)</span><span class="ot">\]</span><span class="ch">|(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])(?:</span><span class="ot">\.</span><span class="ch">(?:[</span><span class="bn">0-9</span><span class="ch">]|[</span><span class="bn">1-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">1</span><span class="ch">[</span><span class="bn">0-9</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">2</span><span class="ch">[</span><span class="bn">0-4</span><span class="ch">][</span><span class="bn">0-9</span><span class="ch">]|</span><span class="ot">25</span><span class="ch">[</span><span class="bn">0-5</span><span class="ch">])){3}|(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=</span><span class="ch">])*)(?::[</span><span class="bn">0-9</span><span class="ch">]*)?(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*|</span><span class="ot">\/</span><span class="ch">(?:(?:(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))+)(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*)?|(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=@</span><span class="ch">])+)(?:</span><span class="ot">\/</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">]))*)*|(?!(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])))(?:</span><span class="ot">\?</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])|[</span><span class="bn">\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}\/\?</span><span class="ch">])*)?(?:</span><span class="ot">\#</span><span class="ch">(?:(?:</span><span class="ot">%</span><span class="ch">[</span><span class="bn">0-9a-f</span><span class="ch">][</span><span class="bn">0-9a-f</span><span class="ch">]|[</span><span class="bn">-a-z0-9\._~\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}!\$&amp;&#39;\(\)\*\+,;=:@</span><span class="ch">])|[</span><span class="bn">\/\?</span><span class="ch">])*)?)$</span><span class="kw">/i</span></span></code></pre></div>
<p>How they were compiled (in PHP):</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb390-1"><a href="#cb390-1"></a>&lt;?php</span>
<span id="cb390-2"><a href="#cb390-2"></a></span>
<span id="cb390-3"><a href="#cb390-3"></a><span class="kw">/</span><span class="ch">*</span><span class="ot"> Regex convenience functions </span><span class="ch">(</span><span class="ot">character class, non-capturing group</span><span class="ch">)</span><span class="ot"> </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb390-4"><a href="#cb390-4"></a>function cc(<span class="dt">$str</span>, <span class="dt">$suffix</span> = <span class="kw">&#39;&#39;</span>, <span class="dt">$negate</span> = false) {</span>
<span id="cb390-5"><a href="#cb390-5"></a>    <span class="kw">return</span> <span class="kw">&#39;</span><span class="st">[</span><span class="kw">&#39;</span> . (<span class="dt">$negate</span> ? <span class="kw">&#39;</span><span class="st">^</span><span class="kw">&#39;</span> : <span class="kw">&#39;&#39;</span>) . <span class="dt">$str</span> . <span class="kw">&#39;</span><span class="st">]</span><span class="kw">&#39;</span> . <span class="dt">$suffix</span>;</span>
<span id="cb390-6"><a href="#cb390-6"></a>}</span>
<span id="cb390-7"><a href="#cb390-7"></a>function ncg(<span class="dt">$str</span>, <span class="dt">$suffix</span> = <span class="kw">&#39;&#39;</span>) {</span>
<span id="cb390-8"><a href="#cb390-8"></a>    <span class="kw">return</span> <span class="kw">&#39;</span><span class="st">(?:</span><span class="kw">&#39;</span> . <span class="dt">$str</span> . <span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span> . <span class="dt">$suffix</span>;</span>
<span id="cb390-9"><a href="#cb390-9"></a>}</span>
<span id="cb390-10"><a href="#cb390-10"></a></span>
<span id="cb390-11"><a href="#cb390-11"></a><span class="kw">/</span><span class="ch">*</span><span class="ot"> Preserved from RFC3986 </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb390-12"><a href="#cb390-12"></a></span>
<span id="cb390-13"><a href="#cb390-13"></a><span class="dt">$ALPHA</span> = <span class="kw">&#39;</span><span class="st">a-z</span><span class="kw">&#39;</span>;</span>
<span id="cb390-14"><a href="#cb390-14"></a><span class="dt">$DIGIT</span> = <span class="kw">&#39;</span><span class="st">0-9</span><span class="kw">&#39;</span>;</span>
<span id="cb390-15"><a href="#cb390-15"></a><span class="dt">$HEXDIG</span> = <span class="dt">$DIGIT</span> . <span class="kw">&#39;</span><span class="st">a-f</span><span class="kw">&#39;</span>;</span>
<span id="cb390-16"><a href="#cb390-16"></a></span>
<span id="cb390-17"><a href="#cb390-17"></a><span class="dt">$sub_delims</span> = <span class="kw">&#39;</span><span class="st">!</span><span class="ch">\\</span><span class="st">$&amp;</span><span class="ch">\&#39;\\</span><span class="st">(</span><span class="ch">\\</span><span class="st">)</span><span class="ch">\\</span><span class="st">*</span><span class="ch">\\</span><span class="st">+,;=</span><span class="kw">&#39;</span>;</span>
<span id="cb390-18"><a href="#cb390-18"></a><span class="dt">$gen_delims</span> = <span class="kw">&#39;</span><span class="st">:</span><span class="ch">\\</span><span class="st">/</span><span class="ch">\\</span><span class="st">?</span><span class="ch">\\</span><span class="st">#</span><span class="ch">\\</span><span class="st">[</span><span class="ch">\\</span><span class="st">]@</span><span class="kw">&#39;</span>;</span>
<span id="cb390-19"><a href="#cb390-19"></a><span class="dt">$reserved</span> = <span class="dt">$gen_delims</span> . <span class="dt">$sub_delims</span>;</span>
<span id="cb390-20"><a href="#cb390-20"></a><span class="dt">$unreserved</span> = <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span> . <span class="dt">$ALPHA</span> . <span class="dt">$DIGIT</span> . <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">._~</span><span class="kw">&#39;</span>;</span>
<span id="cb390-21"><a href="#cb390-21"></a></span>
<span id="cb390-22"><a href="#cb390-22"></a><span class="dt">$pct_encoded</span> = <span class="kw">&#39;</span><span class="st">%</span><span class="kw">&#39;</span> . cc(<span class="dt">$HEXDIG</span>) . cc(<span class="dt">$HEXDIG</span>);</span>
<span id="cb390-23"><a href="#cb390-23"></a></span>
<span id="cb390-24"><a href="#cb390-24"></a><span class="dt">$dec_octet</span> = ncg(implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array(</span>
<span id="cb390-25"><a href="#cb390-25"></a>    cc(<span class="dt">$DIGIT</span>),</span>
<span id="cb390-26"><a href="#cb390-26"></a>    cc(<span class="kw">&#39;</span><span class="st">1-9</span><span class="kw">&#39;</span>) . cc(<span class="dt">$DIGIT</span>),</span>
<span id="cb390-27"><a href="#cb390-27"></a>    <span class="kw">&#39;</span><span class="st">1</span><span class="kw">&#39;</span> . cc(<span class="dt">$DIGIT</span>) . cc(<span class="dt">$DIGIT</span>),</span>
<span id="cb390-28"><a href="#cb390-28"></a>    <span class="kw">&#39;</span><span class="st">2</span><span class="kw">&#39;</span> . cc(<span class="kw">&#39;</span><span class="st">0-4</span><span class="kw">&#39;</span>) . cc(<span class="dt">$DIGIT</span>),</span>
<span id="cb390-29"><a href="#cb390-29"></a>    <span class="kw">&#39;</span><span class="st">25</span><span class="kw">&#39;</span> . cc(<span class="kw">&#39;</span><span class="st">0-5</span><span class="kw">&#39;</span>)</span>
<span id="cb390-30"><a href="#cb390-30"></a>)));</span>
<span id="cb390-31"><a href="#cb390-31"></a></span>
<span id="cb390-32"><a href="#cb390-32"></a><span class="dt">$IPv4address</span> = <span class="dt">$dec_octet</span> . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">.</span><span class="kw">&#39;</span> . <span class="dt">$dec_octet</span>, <span class="kw">&#39;</span><span class="st">{3}</span><span class="kw">&#39;</span>);</span>
<span id="cb390-33"><a href="#cb390-33"></a></span>
<span id="cb390-34"><a href="#cb390-34"></a><span class="dt">$h16</span> = cc(<span class="dt">$HEXDIG</span>, <span class="kw">&#39;</span><span class="st">{1,4}</span><span class="kw">&#39;</span>);</span>
<span id="cb390-35"><a href="#cb390-35"></a><span class="dt">$ls32</span> = ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span> . <span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . <span class="dt">$IPv4address</span>);</span>
<span id="cb390-36"><a href="#cb390-36"></a></span>
<span id="cb390-37"><a href="#cb390-37"></a><span class="dt">$IPv6address</span> = ncg(implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array(</span>
<span id="cb390-38"><a href="#cb390-38"></a>    ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{6}</span><span class="kw">&#39;</span>) . <span class="dt">$ls32</span>,</span>
<span id="cb390-39"><a href="#cb390-39"></a>    <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span> . ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{5}</span><span class="kw">&#39;</span>) . <span class="dt">$ls32</span>,</span>
<span id="cb390-40"><a href="#cb390-40"></a>    ncg(<span class="dt">$h16</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span> . ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{4}</span><span class="kw">&#39;</span>) . <span class="dt">$ls32</span>,</span>
<span id="cb390-41"><a href="#cb390-41"></a>    ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span> . <span class="dt">$h16</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span> . ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{3}</span><span class="kw">&#39;</span>) . <span class="dt">$ls32</span>,</span>
<span id="cb390-42"><a href="#cb390-42"></a>    ncg(ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{0,2}</span><span class="kw">&#39;</span>) . <span class="dt">$h16</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span> . ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{2}</span><span class="kw">&#39;</span>) . <span class="dt">$ls32</span>,</span>
<span id="cb390-43"><a href="#cb390-43"></a>    ncg(ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{0,3}</span><span class="kw">&#39;</span>) . <span class="dt">$h16</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span> . <span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span> . <span class="dt">$ls32</span>,</span>
<span id="cb390-44"><a href="#cb390-44"></a>    ncg(ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{0,4}</span><span class="kw">&#39;</span>) . <span class="dt">$h16</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span> . <span class="dt">$ls32</span>,</span>
<span id="cb390-45"><a href="#cb390-45"></a>    ncg(ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{0,5}</span><span class="kw">&#39;</span>) . <span class="dt">$h16</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span> . <span class="dt">$h16</span>,</span>
<span id="cb390-46"><a href="#cb390-46"></a>    ncg(ncg(<span class="dt">$h16</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{0,6}</span><span class="kw">&#39;</span>) . <span class="dt">$h16</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="kw">&#39;</span><span class="st">::</span><span class="kw">&#39;</span>,</span>
<span id="cb390-47"><a href="#cb390-47"></a>)));</span>
<span id="cb390-48"><a href="#cb390-48"></a></span>
<span id="cb390-49"><a href="#cb390-49"></a><span class="dt">$IPvFuture</span> = <span class="kw">&#39;</span><span class="st">v</span><span class="kw">&#39;</span> . cc(<span class="dt">$HEXDIG</span>, <span class="kw">&#39;</span><span class="st">+</span><span class="kw">&#39;</span>) . cc(<span class="dt">$unreserved</span> . <span class="dt">$sub_delims</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">+</span><span class="kw">&#39;</span>);</span>
<span id="cb390-50"><a href="#cb390-50"></a></span>
<span id="cb390-51"><a href="#cb390-51"></a><span class="dt">$IP_literal</span> = <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">[</span><span class="kw">&#39;</span> . ncg(implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array(<span class="dt">$IPv6address</span>, <span class="dt">$IPvFuture</span>))) . <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">]</span><span class="kw">&#39;</span>;</span>
<span id="cb390-52"><a href="#cb390-52"></a></span>
<span id="cb390-53"><a href="#cb390-53"></a><span class="dt">$port</span> = cc(<span class="dt">$DIGIT</span>, <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-54"><a href="#cb390-54"></a></span>
<span id="cb390-55"><a href="#cb390-55"></a><span class="dt">$scheme</span> = cc(<span class="dt">$ALPHA</span>) . ncg(cc(<span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span> . <span class="dt">$ALPHA</span> . <span class="dt">$DIGIT</span> . <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">+</span><span class="ch">\\</span><span class="st">.</span><span class="kw">&#39;</span>), <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-56"><a href="#cb390-56"></a></span>
<span id="cb390-57"><a href="#cb390-57"></a><span class="kw">/</span><span class="ch">*</span><span class="ot"> New or changed in RFC3987 </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb390-58"><a href="#cb390-58"></a></span>
<span id="cb390-59"><a href="#cb390-59"></a><span class="dt">$iprivate</span> = <span class="kw">&#39;</span><span class="st">\x{E000}-\x{F8FF}\x{F0000}-\x{FFFFD}\x{100000}-\x{10FFFD}</span><span class="kw">&#39;</span>;</span>
<span id="cb390-60"><a href="#cb390-60"></a></span>
<span id="cb390-61"><a href="#cb390-61"></a><span class="dt">$ucschar</span> = <span class="kw">&#39;</span><span class="st">\x{A0}-\x{D7FF}\x{F900}-\x{FDCF}\x{FDF0}-\x{FFEF}</span><span class="kw">&#39;</span> .</span>
<span id="cb390-62"><a href="#cb390-62"></a>    <span class="kw">&#39;</span><span class="st">\x{10000}-\x{1FFFD}\x{20000}-\x{2FFFD}\x{30000}-\x{3FFFD}</span><span class="kw">&#39;</span> .</span>
<span id="cb390-63"><a href="#cb390-63"></a>    <span class="kw">&#39;</span><span class="st">\x{40000}-\x{4FFFD}\x{50000}-\x{5FFFD}\x{60000}-\x{6FFFD}</span><span class="kw">&#39;</span> .</span>
<span id="cb390-64"><a href="#cb390-64"></a>    <span class="kw">&#39;</span><span class="st">\x{70000}-\x{7FFFD}\x{80000}-\x{8FFFD}\x{90000}-\x{9FFFD}</span><span class="kw">&#39;</span> .</span>
<span id="cb390-65"><a href="#cb390-65"></a>    <span class="kw">&#39;</span><span class="st">\x{A0000}-\x{AFFFD}\x{B0000}-\x{BFFFD}\x{C0000}-\x{CFFFD}</span><span class="kw">&#39;</span> .</span>
<span id="cb390-66"><a href="#cb390-66"></a>    <span class="kw">&#39;</span><span class="st">\x{D0000}-\x{DFFFD}\x{E1000}-\x{EFFFD}</span><span class="kw">&#39;</span>;</span>
<span id="cb390-67"><a href="#cb390-67"></a></span>
<span id="cb390-68"><a href="#cb390-68"></a><span class="dt">$iunreserved</span> = <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span> . <span class="dt">$ALPHA</span> . <span class="dt">$DIGIT</span> . <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">._~</span><span class="kw">&#39;</span> . <span class="dt">$ucschar</span>;</span>
<span id="cb390-69"><a href="#cb390-69"></a></span>
<span id="cb390-70"><a href="#cb390-70"></a><span class="dt">$ipchar</span> = ncg(<span class="dt">$pct_encoded</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . cc(<span class="dt">$iunreserved</span> . <span class="dt">$sub_delims</span> . <span class="kw">&#39;</span><span class="st">:@</span><span class="kw">&#39;</span>));</span>
<span id="cb390-71"><a href="#cb390-71"></a></span>
<span id="cb390-72"><a href="#cb390-72"></a><span class="dt">$ifragment</span> = ncg(<span class="dt">$ipchar</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . cc(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="ch">\\</span><span class="st">?</span><span class="kw">&#39;</span>), <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-73"><a href="#cb390-73"></a></span>
<span id="cb390-74"><a href="#cb390-74"></a><span class="dt">$iquery</span> = ncg(<span class="dt">$ipchar</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . cc(<span class="dt">$iprivate</span> . <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="ch">\\</span><span class="st">?</span><span class="kw">&#39;</span>), <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-75"><a href="#cb390-75"></a></span>
<span id="cb390-76"><a href="#cb390-76"></a><span class="dt">$isegment_nz_nc</span> = ncg(<span class="dt">$pct_encoded</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . cc(<span class="dt">$iunreserved</span> . <span class="dt">$sub_delims</span> . <span class="kw">&#39;</span><span class="st">@</span><span class="kw">&#39;</span>), <span class="kw">&#39;</span><span class="st">+</span><span class="kw">&#39;</span>);</span>
<span id="cb390-77"><a href="#cb390-77"></a><span class="dt">$isegment_nz</span> = ncg(<span class="dt">$ipchar</span>, <span class="kw">&#39;</span><span class="st">+</span><span class="kw">&#39;</span>);</span>
<span id="cb390-78"><a href="#cb390-78"></a><span class="dt">$isegment</span> = ncg(<span class="dt">$ipchar</span>, <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-79"><a href="#cb390-79"></a></span>
<span id="cb390-80"><a href="#cb390-80"></a><span class="dt">$ipath_empty</span> = <span class="kw">&#39;</span><span class="st">(?!</span><span class="kw">&#39;</span> . <span class="dt">$ipchar</span> . <span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span>;</span>
<span id="cb390-81"><a href="#cb390-81"></a><span class="dt">$ipath_rootless</span> = ncg(<span class="dt">$isegment_nz</span>) . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="kw">&#39;</span> . <span class="dt">$isegment</span>, <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-82"><a href="#cb390-82"></a><span class="dt">$ipath_noscheme</span> = ncg(<span class="dt">$isegment_nz_nc</span>) . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="kw">&#39;</span> . <span class="dt">$isegment</span>, <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-83"><a href="#cb390-83"></a><span class="dt">$ipath_absolute</span> = <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="kw">&#39;</span> . ncg(<span class="dt">$ipath_rootless</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>); // Spec says isegment-nz *( <span class="kw">&quot;</span><span class="st">/</span><span class="kw">&quot;</span> isegment )</span>
<span id="cb390-84"><a href="#cb390-84"></a><span class="dt">$ipath_abempty</span> = ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="kw">&#39;</span> . <span class="dt">$isegment</span>, <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-85"><a href="#cb390-85"></a></span>
<span id="cb390-86"><a href="#cb390-86"></a><span class="dt">$ipath</span> = ncg(implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array(</span>
<span id="cb390-87"><a href="#cb390-87"></a>    <span class="dt">$ipath_abempty</span>,</span>
<span id="cb390-88"><a href="#cb390-88"></a>    <span class="dt">$ipath_absolute</span>,</span>
<span id="cb390-89"><a href="#cb390-89"></a>    <span class="dt">$ipath_noscheme</span>,</span>
<span id="cb390-90"><a href="#cb390-90"></a>    <span class="dt">$ipath_rootless</span>,</span>
<span id="cb390-91"><a href="#cb390-91"></a>    <span class="dt">$ipath_empty</span></span>
<span id="cb390-92"><a href="#cb390-92"></a>))) . <span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span>;</span>
<span id="cb390-93"><a href="#cb390-93"></a></span>
<span id="cb390-94"><a href="#cb390-94"></a><span class="dt">$ireg_name</span> = ncg(<span class="dt">$pct_encoded</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . cc(<span class="dt">$iunreserved</span> . <span class="dt">$sub_delims</span> . <span class="kw">&#39;</span><span class="st">@</span><span class="kw">&#39;</span>), <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-95"><a href="#cb390-95"></a></span>
<span id="cb390-96"><a href="#cb390-96"></a><span class="dt">$ihost</span> = ncg(implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array(<span class="dt">$IP_literal</span>, <span class="dt">$IPv4address</span>, <span class="dt">$ireg_name</span>)));</span>
<span id="cb390-97"><a href="#cb390-97"></a><span class="dt">$iuserinfo</span> = ncg(<span class="dt">$pct_encoded</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . cc(<span class="dt">$iunreserved</span> . <span class="dt">$sub_delims</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span>), <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>);</span>
<span id="cb390-98"><a href="#cb390-98"></a><span class="dt">$iauthority</span> = ncg(<span class="dt">$iuserinfo</span> . <span class="kw">&#39;</span><span class="st">@</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . <span class="dt">$ihost</span> . ncg(<span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span> . <span class="dt">$port</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>);</span>
<span id="cb390-99"><a href="#cb390-99"></a></span>
<span id="cb390-100"><a href="#cb390-100"></a><span class="dt">$irelative_part</span> = ncg(implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array(</span>
<span id="cb390-101"><a href="#cb390-101"></a>    <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="ch">\\</span><span class="st">/</span><span class="kw">&#39;</span> . <span class="dt">$iauthority</span> . <span class="dt">$ipath_abempty</span> . <span class="kw">&#39;&#39;</span>,</span>
<span id="cb390-102"><a href="#cb390-102"></a>    <span class="kw">&#39;&#39;</span> . <span class="dt">$ipath_absolute</span> . <span class="kw">&#39;&#39;</span>,</span>
<span id="cb390-103"><a href="#cb390-103"></a>    <span class="kw">&#39;&#39;</span> . <span class="dt">$ipath_noscheme</span> . <span class="kw">&#39;&#39;</span>,</span>
<span id="cb390-104"><a href="#cb390-104"></a>    <span class="kw">&#39;&#39;</span> . <span class="dt">$ipath_empty</span> . <span class="kw">&#39;&#39;</span></span>
<span id="cb390-105"><a href="#cb390-105"></a>)));</span>
<span id="cb390-106"><a href="#cb390-106"></a></span>
<span id="cb390-107"><a href="#cb390-107"></a><span class="dt">$irelative_ref</span> = <span class="dt">$irelative_part</span> . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">?</span><span class="kw">&#39;</span> . <span class="dt">$iquery</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">#</span><span class="kw">&#39;</span> . <span class="dt">$ifragment</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>);</span>
<span id="cb390-108"><a href="#cb390-108"></a></span>
<span id="cb390-109"><a href="#cb390-109"></a><span class="dt">$ihier_part</span> = ncg(implode(<span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, array(</span>
<span id="cb390-110"><a href="#cb390-110"></a>    <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">/</span><span class="ch">\\</span><span class="st">/</span><span class="kw">&#39;</span> . <span class="dt">$iauthority</span> . <span class="dt">$ipath_abempty</span> . <span class="kw">&#39;&#39;</span>,</span>
<span id="cb390-111"><a href="#cb390-111"></a>    <span class="kw">&#39;&#39;</span> . <span class="dt">$ipath_absolute</span> . <span class="kw">&#39;&#39;</span>,</span>
<span id="cb390-112"><a href="#cb390-112"></a>    <span class="kw">&#39;&#39;</span> . <span class="dt">$ipath_rootless</span> . <span class="kw">&#39;&#39;</span>,</span>
<span id="cb390-113"><a href="#cb390-113"></a>    <span class="kw">&#39;&#39;</span> . <span class="dt">$ipath_empty</span> . <span class="kw">&#39;&#39;</span></span>
<span id="cb390-114"><a href="#cb390-114"></a>)));</span>
<span id="cb390-115"><a href="#cb390-115"></a></span>
<span id="cb390-116"><a href="#cb390-116"></a><span class="dt">$absolute_IRI</span> = <span class="dt">$scheme</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span> . <span class="dt">$ihier_part</span> . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">?</span><span class="kw">&#39;</span> . <span class="dt">$iquery</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>);</span>
<span id="cb390-117"><a href="#cb390-117"></a></span>
<span id="cb390-118"><a href="#cb390-118"></a><span class="dt">$IRI</span> = <span class="dt">$scheme</span> . <span class="kw">&#39;</span><span class="st">:</span><span class="kw">&#39;</span> . <span class="dt">$ihier_part</span> . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">?</span><span class="kw">&#39;</span> . <span class="dt">$iquery</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>) . ncg(<span class="kw">&#39;</span><span class="ch">\\</span><span class="st">#</span><span class="kw">&#39;</span> . <span class="dt">$ifragment</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>);</span>
<span id="cb390-119"><a href="#cb390-119"></a></span>
<span id="cb390-120"><a href="#cb390-120"></a><span class="dt">$IRI_reference</span> = ncg(<span class="dt">$IRI</span> . <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span> . <span class="dt">$irelative_ref</span>);</span></code></pre></div>
<p>Edit 7 March 2011: Because of the way PHP handles backslashes in quoted strings, these are unusable by default. You’ll need to double-escape backslashes except where the backslash has a special meaning in regex. You can do that this way:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb391-1"><a href="#cb391-1"></a><span class="dt">$escape_backslash</span> = <span class="kw">&#39;</span><span class="st">/(?&lt;!</span><span class="ch">\\</span><span class="st">)</span><span class="ch">\\</span><span class="st">(?![\[\]</span><span class="ch">\\</span><span class="st">\^\$\.\|\*\+\(\)QEnrtaefvdwsDWSbAZzB1-9GX]|x\{[0-9a-f]{1,4}\}|\c[A-Z]|)/</span><span class="kw">&#39;</span>;</span>
<span id="cb391-2"><a href="#cb391-2"></a><span class="dt">$absolute_IRI</span> = preg_replace(<span class="dt">$escape_backslash</span>, <span class="kw">&#39;</span><span class="ch">\\\\</span><span class="kw">&#39;</span>, <span class="dt">$absolute_IRI</span>);</span>
<span id="cb391-3"><a href="#cb391-3"></a><span class="dt">$IRI</span> = preg_replace(<span class="dt">$escape_backslash</span>, <span class="kw">&#39;</span><span class="ch">\\\\</span><span class="kw">&#39;</span>, <span class="dt">$IRI</span>);</span>
<span id="cb391-4"><a href="#cb391-4"></a><span class="dt">$IRI_reference</span> = preg_replace(<span class="dt">$escape_backslash</span>, <span class="kw">&#39;</span><span class="ch">\\\\</span><span class="kw">&#39;</span>, <span class="dt">$IRI_reference</span>);</span></code></pre></div>
</section>
<section id="answer-3-score-141" class="level4">
<h4>Answer 3 (score 141)</h4>
<p>I’ve just written up a blog post for a great solution for recognizing URLs in most used formats such as:</p>
<ul>
<li>
<code>www.google.com</code>
</li>
<li>
<code>http://www.google.com</code>
</li>
<li>
<code>mailto:somebody@google.com</code>
</li>
<li>
<code>somebody@google.com</code>
</li>
<li>
<code>www.url-with-querystring.com/?url=has-querystring</code>
</li>
</ul>
<p>The regular expression used is:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb392-1"><a href="#cb392-1"></a><span class="kw">/</span><span class="ch">((([</span><span class="bn">A-Za-z</span><span class="ch">]{3,9}</span><span class="ot">:</span><span class="ch">(?:</span><span class="ot">\/\/</span><span class="ch">)?)(?:[</span><span class="bn">-;:&amp;=\+\$,\w</span><span class="ch">]+</span><span class="ot">@</span><span class="ch">)?[</span><span class="bn">A-Za-z0-9.-</span><span class="ch">]+|(?:</span><span class="ot">www.</span><span class="ch">|[</span><span class="bn">-;:&amp;=\+\$,\w</span><span class="ch">]+</span><span class="ot">@</span><span class="ch">)[</span><span class="bn">A-Za-z0-9.-</span><span class="ch">]+)((?:</span><span class="ot">\/</span><span class="ch">[</span><span class="bn">\+~%\/.\w-_</span><span class="ch">]*)?</span><span class="ot">\?</span><span class="ch">?(?:[</span><span class="bn">-\+=&amp;;%@.\w_</span><span class="ch">]*)</span><span class="ot">#</span><span class="ch">?(?:[</span><span class="bn">\w</span><span class="ch">]*))?)</span><span class="kw">/</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-output-only-captured-groups-with-sed-score-372573-in-2019" class="level3">
<h3>74: How to output only captured groups with sed? (score <a href="https://stackoverflow.com/q/2777579.html">372573</a> in 2019)</h3>
<section id="question-72" class="level4">
<h4>Question</h4>
<p>Is there any way to tell <code>sed</code> to output only captured groups? For example given the input:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb393-1"><a href="#cb393-1"></a>This is a sample <span class="dv">123</span> text <span class="kw">and</span> some <span class="dv">987</span> numbers</span></code></pre></div>
<p>and pattern:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb394-1"><a href="#cb394-1"></a><span class="kw">/</span><span class="ch">([</span><span class="bn">\d</span><span class="ch">]+)</span><span class="kw">/</span></span></code></pre></div>
<p>Could I get only 123 and 987 output in the way formatted by back references?</p>
</section>
<section id="answer-accepted-score-298" class="level4">
<h4>Answer accepted (score 298)</h4>
<p>The key to getting this to work is to tell <code>sed</code> to exclude what you don’t want to be output as well as specifying what you do want.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb395-1"><a href="#cb395-1"></a>string=<span class="kw">&#39;</span><span class="st">This is a sample 123 text and some 987 numbers</span><span class="kw">&#39;</span></span>
<span id="cb395-2"><a href="#cb395-2"></a>echo <span class="kw">&quot;</span><span class="dt">$string</span><span class="kw">&quot;</span> | sed -rn <span class="kw">&#39;</span><span class="st">s/[^[:digit:]]*([[:digit:]]+)[^[:digit:]]+([[:digit:]]+)[^[:digit:]]*/\1 \2/p</span><span class="kw">&#39;</span></span></code></pre></div>
<p>This says:</p>
<ul>
<li>
don’t default to printing each line (<code>-n</code>)
</li>
<li>
exclude zero or more non-digits
</li>
<li>
include one or more digits
</li>
<li>
exclude one or more non-digits
</li>
<li>
include one or more digits
</li>
<li>
exclude zero or more non-digits
</li>
<li>
print the substitution (<code>p</code>)
</li>
</ul>
<p>In general, in <code>sed</code> you capture groups using parentheses and output what you capture using a back reference:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb396-1"><a href="#cb396-1"></a>echo <span class="kw">&quot;</span><span class="st">foobarbaz</span><span class="kw">&quot;</span> | sed <span class="kw">&#39;</span><span class="st">s/^foo\(.*\)baz$/\1/</span><span class="kw">&#39;</span></span></code></pre></div>
<p>will output “bar”. If you use <code>-r</code> (<code>-E</code> for OS X) for extended regex, you don’t need to escape the parentheses:</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb397-1"><a href="#cb397-1"></a>echo <span class="kw">&quot;</span><span class="st">foobarbaz</span><span class="kw">&quot;</span> | sed <span class="kw">-r</span> <span class="kw">&#39;</span><span class="st">s/^foo(.*)baz$/\1/</span><span class="kw">&#39;</span></span></code></pre></div>
<p>There can be up to 9 capture groups and their back references. The back references are numbered in the order the groups appear, but they can be used in any order and can be repeated:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb398-1"><a href="#cb398-1"></a>echo <span class="kw">&quot;</span><span class="st">foobarbaz</span><span class="kw">&quot;</span> | sed <span class="kw">-r</span> <span class="kw">&#39;</span><span class="st">s/^foo(.*)b(.)z$/\2 \1 \2/</span><span class="kw">&#39;</span></span></code></pre></div>
<p>outputs “a bar a”.</p>
<p>If you have GNU <code>grep</code> (it may also work in BSD, including OS X):</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb399-1"><a href="#cb399-1"></a>echo <span class="kw">&quot;</span><span class="dt">$string</span><span class="kw">&quot;</span> | <span class="fu">grep</span> -Po <span class="kw">&#39;</span><span class="st">\d+</span><span class="kw">&#39;</span></span></code></pre></div>
<p>or variations such as:</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb400-1"><a href="#cb400-1"></a>echo <span class="kw">&quot;</span><span class="dt">$string</span><span class="kw">&quot;</span> | <span class="fu">grep</span> -Po <span class="kw">&#39;</span><span class="st">(?&lt;=\D )(\d+)</span><span class="kw">&#39;</span></span></code></pre></div>
<p>
The <code>-P</code> option enables Perl Compatible Regular Expressions. See <a href="http://linux.die.net/man/3/pcrepattern" rel="noreferrer"><code>man 3 pcrepattern</code></a> or <a href="http://linux.die.net/man/3/pcresyntax" rel="noreferrer"><code>man 3 pcresyntax</code></a>.
</p>
</section>
<section id="answer-2-score-52-1" class="level4">
<h4>Answer 2 (score 52)</h4>
<p>Sed has up to nine remembered patterns but you need to use escaped parentheses to remember portions of the regular expression.</p>
<p>See <a href="http://www.grymoire.com/Unix/Sed.html#uh-4" rel="noreferrer">here</a> for examples and more detail</p>
</section>
<section id="answer-3-score-30-1" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>you can use grep</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb401-1"><a href="#cb401-1"></a><span class="fu">grep</span> -Eow <span class="kw">&quot;</span><span class="st">[0-9]+</span><span class="kw">&quot;</span> file</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="using-regex-in-sql-server-score-371450-in" class="level3">
<h3>75: Using RegEx in SQL Server (score <a href="https://stackoverflow.com/q/8928378.html">371450</a> in )</h3>
<section id="question-73" class="level4">
<h4>Question</h4>
<p>I’m looking how to replace/encode text using RegEx based on RegEx settings/params below:</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb402-1"><a href="#cb402-1"></a>RegEx.IgnoreCase = True     </span>
<span id="cb402-2"><a href="#cb402-2"></a>RegEx.Global = True     </span>
<span id="cb402-3"><a href="#cb402-3"></a>RegEx.Pattern = <span class="kw">&quot;</span><span class="st">[^a-z</span><span class="ch">\d\s</span><span class="st">.]+</span><span class="kw">&quot;</span>   </span></code></pre></div>
<p>I have seen some examples on RegEx, but confused as to how to apply it the same way in SQL Server. Any suggestions would be helpful. Thank you.</p>
</section>
<section id="answer-accepted-score-91" class="level4">
<h4>Answer accepted (score 91)</h4>
<p>You do not need to interact with managed code, as you can use <a href="http://msdn.microsoft.com/en-us/library/ms179859.aspx" rel="noreferrer">LIKE</a>:</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb403-1"><a href="#cb403-1"></a>CREATE TABLE <span class="co">#Sample(Field varchar(50), Result varchar(50))</span></span>
<span id="cb403-2"><a href="#cb403-2"></a>GO</span>
<span id="cb403-3"><a href="#cb403-3"></a>INSERT INTO <span class="co">#Sample (Field, Result) VALUES (&#39;ABC123 &#39;, &#39;Do not match&#39;)</span></span>
<span id="cb403-4"><a href="#cb403-4"></a>INSERT INTO <span class="co">#Sample (Field, Result) VALUES (&#39;ABC123.&#39;, &#39;Do not match&#39;)</span></span>
<span id="cb403-5"><a href="#cb403-5"></a>INSERT INTO <span class="co">#Sample (Field, Result) VALUES (&#39;ABC123&amp;&#39;, &#39;Match&#39;)</span></span>
<span id="cb403-6"><a href="#cb403-6"></a>SELECT <span class="kw">*</span> FROM <span class="co">#Sample WHERE Field LIKE &#39;%[^a-z0-9 .]%&#39;</span></span>
<span id="cb403-7"><a href="#cb403-7"></a>GO</span>
<span id="cb403-8"><a href="#cb403-8"></a>DROP TABLE <span class="co">#Sample</span></span></code></pre></div>
<p>As your expression ends with <code>+</code> you can go with <code>'%[^a-z0-9 .][^a-z0-9 .]%'</code></p>
<p><strong>EDIT</strong>: to make clear: SQL Server doesn’t supports regular expressions without managed code. Depending on the situation, the <code>LIKE</code> operator can be an option, but it lacks the flexibility that regular expressions provides.</p>
</section>
<section id="answer-2-score-7" class="level4">
<h4>Answer 2 (score 7)</h4>
<p>You will have to build a CLR procedure that provides regex functionality, as <a href="http://www.simple-talk.com/sql/t-sql-programming/clr-assembly-regex-functions-for-sql-server-by-example/" rel="nofollow noreferrer">this article</a> illustrates.</p>
<p>Their example function uses VB.NET:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb404-1"><a href="#cb404-1"></a>Imports System</span>
<span id="cb404-2"><a href="#cb404-2"></a>Imports System.Data.Sql</span>
<span id="cb404-3"><a href="#cb404-3"></a>Imports Microsoft.SqlServer.Server</span>
<span id="cb404-4"><a href="#cb404-4"></a>Imports System.Data.SqlTypes</span>
<span id="cb404-5"><a href="#cb404-5"></a>Imports System.Runtime.InteropServices</span>
<span id="cb404-6"><a href="#cb404-6"></a>Imports System.Text.RegularExpressions</span>
<span id="cb404-7"><a href="#cb404-7"></a>Imports System.Collections <span class="kw">&#39;</span><span class="st">the IEnumerable interface is here  </span></span>
<span id="cb404-8"><a href="#cb404-8"></a></span>
<span id="cb404-9"><a href="#cb404-9"></a></span>
<span id="cb404-10"><a href="#cb404-10"></a><span class="st">Namespace SimpleTalk.Phil.Factor</span></span>
<span id="cb404-11"><a href="#cb404-11"></a><span class="st">    Public Class RegularExpressionFunctions</span></span>
<span id="cb404-12"><a href="#cb404-12"></a><span class="st">        </span><span class="kw">&#39;</span>RegExIsMatch function</span>
<span id="cb404-13"><a href="#cb404-13"></a>        &lt;SqlFunction(IsDeterministic:=True, IsPrecise:=True)&gt; _</span>
<span id="cb404-14"><a href="#cb404-14"></a>        Public Shared Function RegExIsMatch( _</span>
<span id="cb404-15"><a href="#cb404-15"></a>                                            ByVal pattern As SqlString, _</span>
<span id="cb404-16"><a href="#cb404-16"></a>                                            ByVal input As SqlString, _</span>
<span id="cb404-17"><a href="#cb404-17"></a>                                            ByVal Options As SqlInt32) As SqlBoolean</span>
<span id="cb404-18"><a href="#cb404-18"></a>            If (input.IsNull OrElse pattern.IsNull) Then</span>
<span id="cb404-19"><a href="#cb404-19"></a>                Return SqlBoolean.False</span>
<span id="cb404-20"><a href="#cb404-20"></a>            End If</span>
<span id="cb404-21"><a href="#cb404-21"></a>            Dim RegExOption As New System.Text.RegularExpressions.RegExOptions</span>
<span id="cb404-22"><a href="#cb404-22"></a>            RegExOption = Options</span>
<span id="cb404-23"><a href="#cb404-23"></a>            Return RegEx.IsMatch(input.Value, pattern.Value, RegExOption)</span>
<span id="cb404-24"><a href="#cb404-24"></a>        End Function</span>
<span id="cb404-25"><a href="#cb404-25"></a>    End Class      <span class="kw">&#39;</span><span class="st"> </span></span>
<span id="cb404-26"><a href="#cb404-26"></a><span class="st">End Namespace</span></span></code></pre></div>
<p>…and is installed in SQL Server using the following SQL (replacing ‘%’-delimted variables by their actual equivalents:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb405-1"><a href="#cb405-1"></a>sp_configure <span class="kw">&#39;</span><span class="st">clr enabled</span><span class="kw">&#39;</span>, <span class="dv">1</span></span>
<span id="cb405-2"><a href="#cb405-2"></a>RECONFIGURE WITH OVERRIDE</span>
<span id="cb405-3"><a href="#cb405-3"></a></span>
<span id="cb405-4"><a href="#cb405-4"></a>IF EXISTS ( SELECT   <span class="dv">1</span></span>
<span id="cb405-5"><a href="#cb405-5"></a>            FROM     sys.objects</span>
<span id="cb405-6"><a href="#cb405-6"></a>            WHERE    object_id = OBJECT_ID(N<span class="kw">&#39;</span><span class="st">dbo.RegExIsMatch</span><span class="kw">&#39;</span>) ) </span>
<span id="cb405-7"><a href="#cb405-7"></a>   DROP FUNCTION dbo.RegExIsMatch</span>
<span id="cb405-8"><a href="#cb405-8"></a>go</span>
<span id="cb405-9"><a href="#cb405-9"></a></span>
<span id="cb405-10"><a href="#cb405-10"></a>IF EXISTS ( SELECT   <span class="dv">1</span></span>
<span id="cb405-11"><a href="#cb405-11"></a>            FROM     sys.assemblies asms</span>
<span id="cb405-12"><a href="#cb405-12"></a>            WHERE    asms.name = N<span class="kw">&#39;</span><span class="st">RegExFunction </span><span class="kw">&#39;</span> ) </span>
<span id="cb405-13"><a href="#cb405-13"></a>   DROP ASSEMBLY [RegExFunction]</span>
<span id="cb405-14"><a href="#cb405-14"></a></span>
<span id="cb405-15"><a href="#cb405-15"></a>CREATE ASSEMBLY RegExFunction </span>
<span id="cb405-16"><a href="#cb405-16"></a>           FROM <span class="kw">&#39;</span><span class="st">%FILE%</span><span class="kw">&#39;</span></span>
<span id="cb405-17"><a href="#cb405-17"></a>GO</span>
<span id="cb405-18"><a href="#cb405-18"></a></span>
<span id="cb405-19"><a href="#cb405-19"></a>CREATE FUNCTION RegExIsMatch</span>
<span id="cb405-20"><a href="#cb405-20"></a>   (</span>
<span id="cb405-21"><a href="#cb405-21"></a>    <span class="dt">@Pattern</span> NVARCHAR(<span class="dv">4000</span>),</span>
<span id="cb405-22"><a href="#cb405-22"></a>    <span class="dt">@Input</span> NVARCHAR(MAX),</span>
<span id="cb405-23"><a href="#cb405-23"></a>    <span class="dt">@Options</span> <span class="fu">int</span></span>
<span id="cb405-24"><a href="#cb405-24"></a>   )</span>
<span id="cb405-25"><a href="#cb405-25"></a>RETURNS BIT</span>
<span id="cb405-26"><a href="#cb405-26"></a>AS EXTERNAL NAME </span>
<span id="cb405-27"><a href="#cb405-27"></a>   RegExFunction.[SimpleTalk.Phil.Factor.RegularExpressionFunctions].RegExIsMatch</span>
<span id="cb405-28"><a href="#cb405-28"></a>GO</span>
<span id="cb405-29"><a href="#cb405-29"></a></span>
<span id="cb405-30"><a href="#cb405-30"></a>--a few tests</span>
<span id="cb405-31"><a href="#cb405-31"></a>---Is this card a valid credit card?</span>
<span id="cb405-32"><a href="#cb405-32"></a>SELECT dbo.RegExIsMatch (<span class="kw">&#39;</span><span class="st">^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">4241825283987487</span><span class="kw">&#39;</span>,<span class="dv">1</span>)</span>
<span id="cb405-33"><a href="#cb405-33"></a>--is there a number in this string</span>
<span id="cb405-34"><a href="#cb405-34"></a>SELECT dbo.RegExIsMatch( <span class="kw">&#39;</span><span class="st">\d</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">there is 1 thing I hate</span><span class="kw">&#39;</span>,<span class="dv">1</span>)</span>
<span id="cb405-35"><a href="#cb405-35"></a>--Verifies number Returns <span class="dv">1</span></span>
<span id="cb405-36"><a href="#cb405-36"></a>DECLARE <span class="dt">@pattern</span> VARCHAR(<span class="dv">255</span>)</span>
<span id="cb405-37"><a href="#cb405-37"></a>SELECT <span class="dt">@pattern</span> =<span class="kw">&#39;</span><span class="st">[a-zA-Z0-9]\d{2}[a-zA-Z0-9](-\d{3}.html){2}[A-Za-z0-9]</span><span class="kw">&#39;</span></span>
<span id="cb405-38"><a href="#cb405-38"></a>SELECT  dbo.RegExIsMatch (<span class="dt">@pattern</span>, <span class="kw">&#39;</span><span class="st">1298-673-4192</span><span class="kw">&#39;</span>,<span class="dv">1</span>),</span>
<span id="cb405-39"><a href="#cb405-39"></a>        dbo.RegExIsMatch (<span class="dt">@pattern</span>,<span class="kw">&#39;</span><span class="st">A08Z-931-468A</span><span class="kw">&#39;</span>,<span class="dv">1</span>),</span>
<span id="cb405-40"><a href="#cb405-40"></a>        dbo.RegExIsMatch (<span class="dt">@pattern</span>,<span class="kw">&#39;</span><span class="st">[A90-123-129X</span><span class="kw">&#39;</span>,<span class="dv">1</span>),</span>
<span id="cb405-41"><a href="#cb405-41"></a>        dbo.RegExIsMatch (<span class="dt">@pattern</span>,<span class="kw">&#39;</span><span class="st">12345-KKA-1230</span><span class="kw">&#39;</span>,<span class="dv">1</span>),</span>
<span id="cb405-42"><a href="#cb405-42"></a>        dbo.RegExIsMatch (<span class="dt">@pattern</span>,<span class="kw">&#39;</span><span class="st">0919-2893-1256</span><span class="kw">&#39;</span>,<span class="dv">1</span>)</span></code></pre></div>
</section>
<section id="answer-3-score-6" class="level4">
<h4>Answer 3 (score 6)</h4>
<p>Slightly modified version of <a href="https://www.simple-talk.com/sql/t-sql-programming/tsql-regular-expression-workbench/" rel="noreferrer">Julio’s answer.</a></p>
<div class="sourceCode" id="cb406"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb406-1"><a href="#cb406-1"></a>-- MS SQL using VBScript Regex</span>
<span id="cb406-2"><a href="#cb406-2"></a>-- <span class="fu">select</span> dbo.RegexReplace(<span class="kw">&#39;</span><span class="st">aa bb cc</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">($1) ($2) ($3)</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">([^\s]*)\s*([^\s]*)\s*([^\s]*)</span><span class="kw">&#39;</span>)</span>
<span id="cb406-3"><a href="#cb406-3"></a>-- <span class="dt">$$</span> dollar sign, <span class="dt">$1</span> - <span class="dt">$9</span> back references, <span class="dt">$&amp;</span> whole match</span>
<span id="cb406-4"><a href="#cb406-4"></a></span>
<span id="cb406-5"><a href="#cb406-5"></a>CREATE FUNCTION [dbo].[RegexReplace]</span>
<span id="cb406-6"><a href="#cb406-6"></a>(   -- these match exactly the parameters of RegExp</span>
<span id="cb406-7"><a href="#cb406-7"></a>    <span class="dt">@searchstring</span> varchar(<span class="dv">4000</span>),</span>
<span id="cb406-8"><a href="#cb406-8"></a>    <span class="dt">@replacestring</span> varchar(<span class="dv">4000</span>),</span>
<span id="cb406-9"><a href="#cb406-9"></a>    <span class="dt">@pattern</span> varchar(<span class="dv">4000</span>)</span>
<span id="cb406-10"><a href="#cb406-10"></a>)</span>
<span id="cb406-11"><a href="#cb406-11"></a>RETURNS varchar(<span class="dv">4000</span>)</span>
<span id="cb406-12"><a href="#cb406-12"></a>AS</span>
<span id="cb406-13"><a href="#cb406-13"></a><span class="kw">BEGIN</span></span>
<span id="cb406-14"><a href="#cb406-14"></a>    declare <span class="dt">@objRegexExp</span> <span class="fu">int</span>, </span>
<span id="cb406-15"><a href="#cb406-15"></a>        <span class="dt">@objErrorObj</span> <span class="fu">int</span>,</span>
<span id="cb406-16"><a href="#cb406-16"></a>        <span class="dt">@strErrorMessage</span> varchar(<span class="dv">255</span>),</span>
<span id="cb406-17"><a href="#cb406-17"></a>        <span class="dt">@res</span> <span class="fu">int</span>,</span>
<span id="cb406-18"><a href="#cb406-18"></a>        <span class="dt">@result</span> varchar(<span class="dv">4000</span>)</span>
<span id="cb406-19"><a href="#cb406-19"></a></span>
<span id="cb406-20"><a href="#cb406-20"></a>    <span class="kw">if</span>( <span class="dt">@searchstring</span> is null <span class="kw">or</span> len(ltrim(rtrim(<span class="dt">@searchstring</span>))) = <span class="dv">0</span>) <span class="kw">return</span> null</span>
<span id="cb406-21"><a href="#cb406-21"></a>    set <span class="dt">@result</span>=<span class="kw">&#39;&#39;</span></span>
<span id="cb406-22"><a href="#cb406-22"></a>    <span class="fu">exec</span> <span class="dt">@res</span>=sp_OACreate <span class="kw">&#39;</span><span class="st">VBScript.RegExp</span><span class="kw">&#39;</span>, <span class="dt">@objRegexExp</span> out</span>
<span id="cb406-23"><a href="#cb406-23"></a>    <span class="kw">if</span>( <span class="dt">@res</span> &lt;&gt; <span class="dv">0</span>) <span class="kw">return</span> <span class="kw">&#39;</span><span class="st">..VBScript did not initialize</span><span class="kw">&#39;</span></span>
<span id="cb406-24"><a href="#cb406-24"></a>    <span class="fu">exec</span> <span class="dt">@res</span>=sp_OASetProperty <span class="dt">@objRegexExp</span>, <span class="kw">&#39;</span><span class="st">Pattern</span><span class="kw">&#39;</span>, <span class="dt">@pattern</span></span>
<span id="cb406-25"><a href="#cb406-25"></a>    <span class="kw">if</span>( <span class="dt">@res</span> &lt;&gt; <span class="dv">0</span>) <span class="kw">return</span> <span class="kw">&#39;</span><span class="st">..Pattern property set failed</span><span class="kw">&#39;</span></span>
<span id="cb406-26"><a href="#cb406-26"></a>    <span class="fu">exec</span> <span class="dt">@res</span>=sp_OASetProperty <span class="dt">@objRegexExp</span>, <span class="kw">&#39;</span><span class="st">IgnoreCase</span><span class="kw">&#39;</span>, <span class="dv">0</span></span>
<span id="cb406-27"><a href="#cb406-27"></a>    <span class="kw">if</span>( <span class="dt">@res</span> &lt;&gt; <span class="dv">0</span>) <span class="kw">return</span> <span class="kw">&#39;</span><span class="st">..IgnoreCase option failed</span><span class="kw">&#39;</span></span>
<span id="cb406-28"><a href="#cb406-28"></a>    <span class="fu">exec</span> <span class="dt">@res</span>=sp_OAMethod <span class="dt">@objRegexExp</span>, <span class="kw">&#39;</span><span class="st">Replace</span><span class="kw">&#39;</span>, <span class="dt">@result</span> OUT,</span>
<span id="cb406-29"><a href="#cb406-29"></a>         <span class="dt">@searchstring</span>, <span class="dt">@replacestring</span></span>
<span id="cb406-30"><a href="#cb406-30"></a>    <span class="kw">if</span>( <span class="dt">@res</span> &lt;&gt; <span class="dv">0</span>) <span class="kw">return</span> <span class="kw">&#39;</span><span class="st">..Bad search string</span><span class="kw">&#39;</span></span>
<span id="cb406-31"><a href="#cb406-31"></a>    <span class="fu">exec</span> <span class="dt">@res</span>=sp_OADestroy <span class="dt">@objRegexExp</span></span>
<span id="cb406-32"><a href="#cb406-32"></a>    <span class="kw">return</span> <span class="dt">@result</span></span>
<span id="cb406-33"><a href="#cb406-33"></a><span class="kw">END</span></span></code></pre></div>
<p>You’ll need Ole Automation Procedures turned on in SQL:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb407-1"><a href="#cb407-1"></a><span class="fu">exec</span> sp_configure <span class="kw">&#39;</span><span class="st">show advanced options</span><span class="kw">&#39;</span>,<span class="dv">1</span>; </span>
<span id="cb407-2"><a href="#cb407-2"></a>go</span>
<span id="cb407-3"><a href="#cb407-3"></a>reconfigure; </span>
<span id="cb407-4"><a href="#cb407-4"></a>go</span>
<span id="cb407-5"><a href="#cb407-5"></a>sp_configure <span class="kw">&#39;</span><span class="st">Ole Automation Procedures</span><span class="kw">&#39;</span>, <span class="dv">1</span>; </span>
<span id="cb407-6"><a href="#cb407-6"></a>go</span>
<span id="cb407-7"><a href="#cb407-7"></a>reconfigure; </span>
<span id="cb407-8"><a href="#cb407-8"></a>go</span>
<span id="cb407-9"><a href="#cb407-9"></a>sp_configure <span class="kw">&#39;</span><span class="st">show advanced options</span><span class="kw">&#39;</span>,<span class="dv">0</span>; </span>
<span id="cb407-10"><a href="#cb407-10"></a>go</span>
<span id="cb407-11"><a href="#cb407-11"></a>reconfigure;</span>
<span id="cb407-12"><a href="#cb407-12"></a>go</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-a-word-or-its-prefix-score-365246-in-2018" class="level3">
<h3>76: Regular expression to match a word or its prefix (score <a href="https://stackoverflow.com/q/18402416.html">365246</a> in 2018)</h3>
<section id="question-74" class="level4">
<h4>Question</h4>
<p>I want to match a regular expression on a whole word.</p>
<p>In the following example I am trying to match <code>s</code> or <code>season</code> but what I have matches <code>s</code>, <code>e</code>, <code>a</code>, <code>o</code> and <code>n</code>.</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb408-1"><a href="#cb408-1"></a>[<span class="kw">s|</span><span class="ot">season]</span></span></code></pre></div>
<p>How do I make a regular expression to match a whole word?</p>
</section>
<section id="answer-accepted-score-125" class="level4">
<h4>Answer accepted (score 125)</h4>
<p>Square brackets are meant for character class, and you’re actually trying to match any one of: <code>s</code>, <code>|</code>, <code>s</code> (again), <code>e</code>, <code>a</code>, <code>s</code> (again), <code>o</code> and <code>n</code>.</p>
<p>Use parentheses instead for grouping:</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb409-1"><a href="#cb409-1"></a>(<span class="kw">s|</span><span class="ot">season</span><span class="ch">)</span></span></code></pre></div>
<p>or non-capturing group:</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb410-1"><a href="#cb410-1"></a>(?:<span class="kw">s|</span><span class="ot">season</span><span class="ch">)</span></span></code></pre></div>
<hr>
<p>Note: Non-capture groups tell the engine that it doesn’t need to store the match, while the other one (capturing group does). For small stuff, either works, for ‘heavy duty’ stuff, you might want to see first if you need the match or not. If you don’t, better use the non-capture group to allocate more memory for calculation instead of storing something you will never need to use.</p>
</section>
<section id="answer-2-score-115" class="level4">
<h4>Answer 2 (score 115)</h4>
<h5>
Use this live online example to test your pattern:
</h2>
<p><img src="https://i.stack.imgur.com/l69SY.png" alt="enter image description here"></p>
<p>Above screenshot taken from this live example: <a href="https://regex101.com/r/cU5lC2/1" rel="noreferrer">https://regex101.com/r/cU5lC2/1</a></p>
<h5>
Matching any whole word on the commandline.
</h2>
<p>I’ll be using the <a href="http://www.phpsh.org/" rel="noreferrer">phpsh interactive shell</a> on <a href="http://releases.ubuntu.com/12.10/" rel="noreferrer">Ubuntu 12.10</a> to demonstrate the <a href="http://us2.php.net/pcre" rel="noreferrer">PCRE regex engine</a> through the method known as <a href="http://us2.php.net/preg_match" rel="noreferrer">preg_match</a></p>
<p>Start phpsh, put some content into a variable, match on word.</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb411-1"><a href="#cb411-1"></a>el<span class="dt">@apollo</span>:~<span class="kw">/</span><span class="ot">foo</span><span class="ch">$</span><span class="ot"> phpsh</span></span>
<span id="cb411-2"><a href="#cb411-2"></a></span>
<span id="cb411-3"><a href="#cb411-3"></a><span class="ot">php&gt; </span><span class="dt">$content1</span><span class="ot"> = &#39;badger&#39;</span></span>
<span id="cb411-4"><a href="#cb411-4"></a><span class="ot">php&gt; </span><span class="dt">$content2</span><span class="ot"> = &#39;1234&#39;</span></span>
<span id="cb411-5"><a href="#cb411-5"></a><span class="ot">php&gt; </span><span class="dt">$content3</span><span class="ot"> = &#39;</span><span class="dt">$%</span><span class="ch">^</span><span class="ot">&amp;&#39;</span></span>
<span id="cb411-6"><a href="#cb411-6"></a></span>
<span id="cb411-7"><a href="#cb411-7"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(</span><span class="bn">\w</span><span class="ch">+)</span><span class="ot">&#39;, </span><span class="dt">$content1</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb411-8"><a href="#cb411-8"></a><span class="ot">1</span></span>
<span id="cb411-9"><a href="#cb411-9"></a></span>
<span id="cb411-10"><a href="#cb411-10"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(</span><span class="bn">\w</span><span class="ch">+)</span><span class="ot">&#39;, </span><span class="dt">$content2</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb411-11"><a href="#cb411-11"></a><span class="ot">1</span></span>
<span id="cb411-12"><a href="#cb411-12"></a></span>
<span id="cb411-13"><a href="#cb411-13"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(</span><span class="bn">\w</span><span class="ch">+)</span><span class="ot">&#39;, </span><span class="dt">$content3</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb411-14"><a href="#cb411-14"></a><span class="ot">0</span></span></code></pre></div>
<p>The preg_match method used the PCRE engine within the PHP language to analyze variables: <code>$content1</code>, <code>$content2</code> and <code>$content3</code> with the <code>(\w)+</code> pattern.</p>
<p>$content1 and $content2 contain at least one word, $content3 does not.</p>
<h5>
Match a specific words on the commandline without word bountaries
</h2>
<div class="sourceCode" id="cb412"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb412-1"><a href="#cb412-1"></a>el<span class="dt">@apollo</span>:~<span class="kw">/</span><span class="ot">foo</span><span class="ch">$</span><span class="ot"> phpsh</span></span>
<span id="cb412-2"><a href="#cb412-2"></a></span>
<span id="cb412-3"><a href="#cb412-3"></a><span class="ot">php&gt; </span><span class="dt">$gun1</span><span class="ot"> = &#39;dart gun&#39;;</span></span>
<span id="cb412-4"><a href="#cb412-4"></a><span class="ot">php&gt; </span><span class="dt">$gun2</span><span class="ot"> = &#39;fart gun&#39;;</span></span>
<span id="cb412-5"><a href="#cb412-5"></a><span class="ot">php&gt; </span><span class="dt">$gun3</span><span class="ot"> = &#39;darty gun&#39;;</span></span>
<span id="cb412-6"><a href="#cb412-6"></a><span class="ot">php&gt; </span><span class="dt">$gun4</span><span class="ot"> = &#39;unicorn gun&#39;;</span></span>
<span id="cb412-7"><a href="#cb412-7"></a></span>
<span id="cb412-8"><a href="#cb412-8"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(</span><span class="ot">dart</span><span class="ch">|</span><span class="ot">fart</span><span class="ch">)</span><span class="ot">&#39;, </span><span class="dt">$gun1</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb412-9"><a href="#cb412-9"></a><span class="ot">1</span></span>
<span id="cb412-10"><a href="#cb412-10"></a></span>
<span id="cb412-11"><a href="#cb412-11"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(</span><span class="ot">dart</span><span class="ch">|</span><span class="ot">fart</span><span class="ch">)</span><span class="ot">&#39;, </span><span class="dt">$gun2</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb412-12"><a href="#cb412-12"></a><span class="ot">1</span></span>
<span id="cb412-13"><a href="#cb412-13"></a></span>
<span id="cb412-14"><a href="#cb412-14"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(</span><span class="ot">dart</span><span class="ch">|</span><span class="ot">fart</span><span class="ch">)</span><span class="ot">&#39;, </span><span class="dt">$gun3</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb412-15"><a href="#cb412-15"></a><span class="ot">1</span></span>
<span id="cb412-16"><a href="#cb412-16"></a></span>
<span id="cb412-17"><a href="#cb412-17"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(</span><span class="ot">dart</span><span class="ch">|</span><span class="ot">fart</span><span class="ch">)</span><span class="ot">&#39;, </span><span class="dt">$gun4</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb412-18"><a href="#cb412-18"></a><span class="ot">0</span></span></code></pre></div>
<p>Variables <code>gun1</code> and <code>gun2</code> contain the string <code>dart</code> or <code>fart</code> which is correct, but gun3 contains <code>darty</code> and still matches, that is the problem. So onto the next example.</p>
<h5>
Match specific words on the commandline with word boundaries:
</h2>
<p>
Word Boundaries can be force matched with <code>\b</code>, see: <a href="https://i.stack.imgur.com/U7T8z.png" rel="noreferrer"><img src="https://i.stack.imgur.com/U7T8z.png" alt="Visual analysis of what wordboundary is doing from jex.im/regulex "></a>
</p>
<p>Regex Visual Image acquired from <a href="http://jex.im/regulex" rel="noreferrer">http://jex.im/regulex</a> and <a href="https://github.com/JexCheng/regulex" rel="noreferrer">https://github.com/JexCheng/regulex</a> Example:</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb413-1"><a href="#cb413-1"></a>el<span class="dt">@apollo</span>:~<span class="kw">/</span><span class="ot">foo</span><span class="ch">$</span><span class="ot"> phpsh</span></span>
<span id="cb413-2"><a href="#cb413-2"></a></span>
<span id="cb413-3"><a href="#cb413-3"></a><span class="ot">php&gt; </span><span class="dt">$gun1</span><span class="ot"> = &#39;dart gun&#39;;</span></span>
<span id="cb413-4"><a href="#cb413-4"></a><span class="ot">php&gt; </span><span class="dt">$gun2</span><span class="ot"> = &#39;fart gun&#39;;</span></span>
<span id="cb413-5"><a href="#cb413-5"></a><span class="ot">php&gt; </span><span class="dt">$gun3</span><span class="ot"> = &#39;darty gun&#39;;</span></span>
<span id="cb413-6"><a href="#cb413-6"></a><span class="ot">php&gt; </span><span class="dt">$gun4</span><span class="ot"> = &#39;unicorn gun&#39;;</span></span>
<span id="cb413-7"><a href="#cb413-7"></a></span>
<span id="cb413-8"><a href="#cb413-8"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(\b</span><span class="ot">dart</span><span class="ch">\b|\b</span><span class="ot">fart</span><span class="ch">\b)</span><span class="ot">&#39;, </span><span class="dt">$gun1</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb413-9"><a href="#cb413-9"></a><span class="ot">1</span></span>
<span id="cb413-10"><a href="#cb413-10"></a></span>
<span id="cb413-11"><a href="#cb413-11"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(\b</span><span class="ot">dart</span><span class="ch">\b|\b</span><span class="ot">fart</span><span class="ch">\b)</span><span class="ot">&#39;, </span><span class="dt">$gun2</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb413-12"><a href="#cb413-12"></a><span class="ot">1</span></span>
<span id="cb413-13"><a href="#cb413-13"></a></span>
<span id="cb413-14"><a href="#cb413-14"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(\b</span><span class="ot">dart</span><span class="ch">\b|\b</span><span class="ot">fart</span><span class="ch">\b)</span><span class="ot">&#39;, </span><span class="dt">$gun3</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb413-15"><a href="#cb413-15"></a><span class="ot">0</span></span>
<span id="cb413-16"><a href="#cb413-16"></a></span>
<span id="cb413-17"><a href="#cb413-17"></a><span class="ot">php&gt; echo preg_match</span><span class="ch">(</span><span class="ot">&#39;</span><span class="ch">(\b</span><span class="ot">dart</span><span class="ch">\b|\b</span><span class="ot">fart</span><span class="ch">\b)</span><span class="ot">&#39;, </span><span class="dt">$gun4</span><span class="ch">)</span><span class="ot">;</span></span>
<span id="cb413-18"><a href="#cb413-18"></a><span class="ot">0</span></span></code></pre></div>
<p>The <code>\b</code> asserts that we have a word boundary, making sure " dart " is matched, but " darty " isn’t.</p>
</section>
<section id="answer-3-score-3-1" class="level4">
<h4>Answer 3 (score 3)</h4>
<p>
I test examples in js. Simplest solution - just add word u need inside / /:
</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb414-1"><a href="#cb414-1"></a>var reg = <span class="kw">/</span><span class="ot">cat</span><span class="kw">/</span>;</span>
<span id="cb414-2"><a href="#cb414-2"></a>reg.test(<span class="kw">&#39;</span><span class="st">some cat here</span><span class="kw">&#39;</span>);//<span class="dv">1</span> test</span>
<span id="cb414-3"><a href="#cb414-3"></a>true // result</span>
<span id="cb414-4"><a href="#cb414-4"></a>reg.test(<span class="kw">&#39;</span><span class="st">acatb</span><span class="kw">&#39;</span>);//<span class="dv">2</span> test</span>
<span id="cb414-5"><a href="#cb414-5"></a>true // result</span></code></pre></div>
<hr>
<p>Now if u need this specific word with boundaries, not inside any other signs-letters. We use <strong>b</strong> marker:</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb415-1"><a href="#cb415-1"></a>var reg = <span class="kw">/</span><span class="ch">\b</span><span class="ot">cat</span><span class="ch">\b</span><span class="kw">/</span></span>
<span id="cb415-2"><a href="#cb415-2"></a>reg.test(<span class="kw">&#39;</span><span class="st">acatb</span><span class="kw">&#39;</span>);//<span class="dv">1</span> test </span>
<span id="cb415-3"><a href="#cb415-3"></a>false // result</span>
<span id="cb415-4"><a href="#cb415-4"></a>reg.test(<span class="kw">&#39;</span><span class="st">have cat here</span><span class="kw">&#39;</span>);//<span class="dv">2</span> test</span>
<span id="cb415-5"><a href="#cb415-5"></a>true // result</span></code></pre></div>
<p>We have also exec() method in js, whichone returns object-result. It helps f.g. to get info about place/index of our word.</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb416-1"><a href="#cb416-1"></a>var matchResult = <span class="kw">/</span><span class="ch">\b</span><span class="ot">cat</span><span class="ch">\b</span><span class="kw">/</span>.<span class="fu">exec</span>(<span class="kw">&quot;</span><span class="st">good cat good</span><span class="kw">&quot;</span>);</span>
<span id="cb416-2"><a href="#cb416-2"></a>console.<span class="fu">log</span>(matchResult.<span class="fu">index</span>); // <span class="dv">5</span></span></code></pre></div>
<p>If we need get all matched words in string/sentence/text, we can use g modifier (global match):</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb417-1"><a href="#cb417-1"></a><span class="kw">&quot;</span><span class="st">cat good cat good cat</span><span class="kw">&quot;</span>.match(<span class="kw">/</span><span class="ch">\b</span><span class="ot">cat</span><span class="ch">\b</span><span class="kw">/g</span>).<span class="fu">length</span></span>
<span id="cb417-2"><a href="#cb417-2"></a>// <span class="dv">3</span> </span></code></pre></div>
<p>Now the last one - i need not 1 specific word, but some of them. We use | sign, it means choice/or.</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb418-1"><a href="#cb418-1"></a><span class="kw">&quot;</span><span class="st">bad dog bad</span><span class="kw">&quot;</span>.match(<span class="kw">/</span><span class="ch">\b</span><span class="ot">cat</span><span class="ch">|</span><span class="ot">dog</span><span class="ch">\b</span><span class="kw">/g</span>).<span class="fu">length</span></span>
<span id="cb418-2"><a href="#cb418-2"></a>// <span class="dv">1</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="match-two-strings-in-one-line-with-grep-score-363844-in-2019" class="level3">
<h3>77: Match two strings in one line with grep (score <a href="https://stackoverflow.com/q/4487328.html">363844</a> in 2019)</h3>
<section id="question-75" class="level4">
<h4>Question</h4>
<p>I am trying to use <code>grep</code> to match lines that contain two different strings. I have tried the following but this matches lines that contain either <em>string1</em> <strong>or</strong> <em>string2</em> which not what I want.</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb419-1"><a href="#cb419-1"></a><span class="fu">grep</span> <span class="kw">&#39;</span><span class="st">string1\|string2</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<p>So how do I match with <code>grep</code> only the lines that contain <em>both strings</em>?</p>
</section>
<section id="answer-accepted-score-173" class="level4">
<h4>Answer accepted (score 173)</h4>
<p>You can use <code>grep 'string1' filename | grep 'string2'</code></p>
<p>Or, <code>grep 'string1.*string2\|string2.*string1' filename</code></p>
</section>
<section id="answer-2-score-197" class="level4">
<h4>Answer 2 (score 197)</h4>
<p>I think this is what you were looking for:</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb420-1"><a href="#cb420-1"></a><span class="fu">grep</span> -E <span class="kw">&quot;</span><span class="st">string1|string2</span><span class="kw">&quot;</span> filename</span></code></pre></div>
<p>I think that answers like this:</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb421-1"><a href="#cb421-1"></a><span class="fu">grep</span> <span class="kw">&#39;</span><span class="st">string1.*string2\|string2.*string1</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<p>only match the case where both are present, not one or the other or both.</p>
</section>
<section id="answer-3-score-26-1" class="level4">
<h4>Answer 3 (score 26)</h4>
<p>To search for files containing all the words in any order anywhere:</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb422-1"><a href="#cb422-1"></a><span class="fu">grep</span> -ril \<span class="kw">&#39;</span><span class="st">action</span><span class="ch">\&#39;</span><span class="st"> | xargs grep -il </span><span class="ch">\&#39;</span><span class="st">model</span><span class="ch">\&#39;</span><span class="st"> | xargs grep -il </span><span class="ch">\&#39;</span><span class="st">view_type</span><span class="ch">\&#39;</span></span></code></pre></div>
<p>The first grep kicks off a recursive search (<code>r</code>), ignoring case (<code>i</code>) and listing (printing out) the name of the files that are matching (<code>l</code>) for one term (<code>'action'</code> with the single quotes) occurring anywhere in the file.</p>
<p>The subsequent greps search for the other terms, retaining case insensitivity and listing out the matching files.</p>
<p>The final list of files that you will get will the ones that contain these terms, in any order anywhere in the file.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-match-everything-but-specific-pattern-score-359326-in-2019" class="level3">
<h3>78: Regex: match everything but specific pattern (score <a href="https://stackoverflow.com/q/1687620.html">359326</a> in 2019)</h3>
<section id="question-76" class="level4">
<h4>Question</h4>
<p>I need a regex able to match everything <strong>but</strong> a string starting with a specific pattern (specifically <code>index.php</code> and what follows, like <code>index.php?id=2342343</code>)</p>
</section>
<section id="answer-accepted-score-204" class="level4">
<h4>Answer accepted (score 204)</h4>
<p>Not a regexp expert, but I think you could use a negative lookahead from the start, e.g. <code>^(?!foo).*$</code> shouldn’t match anything starting with <code>foo</code>.</p>
</section>
<section id="answer-2-score-256" class="level4">
<h4>Answer 2 (score 256)</h4>
<p>Regex: match everything <strong>but</strong>:</p>
<ul>
<li>
<p>a <strong>string <em>starting with</em> a specific pattern</strong> (e.g. any - empty, too - string not starting with <code>foo</code>):</p>
<ul>
<li>
<p>Lookahead-based solution for NFAs:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/6"><code>^(?!foo).*$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/5"><code>^(?!foo)</code></a>
</li>
</ul>
</li>
<li>
<p>Negated character class based solution <em>for regex engines not supporting lookarounds</em>:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/16"><code>^(([^f].{2}|.[^o].|.{2}[^o]).*|.{0,2})$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/15"><code>^([^f].{2}|.[^o].|.{2}[^o])|^.{0,2}$</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>ending with</em> a specific pattern</strong> (say, no <code>world.</code> at the end):</p>
<ul>
<li>
<p>Lookbehind-based solution:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/11"><code>(?&amp;lt;!world\.)$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/12"><code>^.*(?&amp;lt;!world\.)$</code></a>
</li>
</ul>
</li>
<li>
<p>POSIX workaround:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/17"><code>^(.*([^w].{5}|.[^o].{4}|.{2}[^r].{3}|.{3}[^l].{2}|.{4}[^d].|.{5}[^.])|.{0,5})$</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/18"><code>([^w].{5}|.[^o].{4}|.{2}[^r].{3}|.{3}[^l].{2}|.{4}[^d].|.{5}[^.]$|^.{0,5})$</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>containing</em> specific text</strong> (say, not match a string having <code>foo</code>) (no POSIX compliant patern, sorry):</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/21"><code>^(?!.*foo)</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/22"><code>^(?!.*foo).*$</code></a>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>containing</em> specific <em>character</em></strong> (say, avoid matching a string having a <code>|</code> symbol):</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/26"><code>^[^|]*$</code></a>
</li>
</ul>
</li>
<li>
<p>a <strong>string <em>equal to</em> some string</strong> (say, not equal to <code>foo</code>):</p>
<ul>
<li>
<p>Lookaround-based:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/23"><code>^(?!foo$)</code></a>
</li>
<li>
<a href="https://regex101.com/r/jC8nB0/24"><code>^(?!foo$).*$</code></a>
</li>
</ul>
</li>
<li>
<p>POSIX:</p>
<ul>
<li>
<a href="https://regex101.com/r/jC8nB0/25"><code>^(.{0,2}|.{4,}|[^f]..|.[^o].|..[^o])$</code></a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>a <strong>sequence of characters</strong>:</p>
<ul>
<li>
<em>PCRE</em> (match any text but <code>cat</code>): <a href="https://regex101.com/r/jC8nB0/1"><code>/cat(*SKIP)(*FAIL)|[^c]*(?:c(?!at)[^c]*)*/i</code></a> or <a href="https://regex101.com/r/jC8nB0/2"><code>/cat(*SKIP)(*FAIL)|(?:(?!cat).)+/is</code></a>
</li>
<li>
Other engines allowing lookarounds: <a href="https://regex101.com/r/jC8nB0/19"><code>(cat)|[^c]*(?:c(?!at)[^c]*)*</code></a> (or <a href="https://regex101.com/r/jC8nB0/20"><code>(?s)(cat)|(?:(?!cat).)*</code></a>, or <code>(cat)|[^c]+(?:c(?!at)[^c]*)*|(?:c(?!at)[^c]*)+[^c]*</code>) and then check with language means: if Group 1 matched, it is not what we need, else, grab the match value if not empty
</li>
</ul>
</li>
<li>
<p>a <strong>certain single character or a set of characters</strong>:</p>
<ul>
<li>
Use a <a href="http://www.regular-expressions.info/charclass.html#negated">negated character class</a>: <a href="https://regex101.com/r/jC8nB0/7"><code>[^a-z]+</code></a> (any char other than a lowercase ASCII letter)
</li>
<li>
Matching any char(s) but <code>|</code>: <a href="https://regex101.com/r/jC8nB0/8"><code>[^|]+</code></a>
</li>
</ul>
</li>
</ul>
<p><strong>Demo note</strong>: the newline <code>\n</code> is used inside negated character classes in demos to avoid match overflow to the neighboring line(s). They are not necessary when testing individual strings.</p>
<p><strong>Anchor note</strong>: In many languages, use <code>\A</code> to define the unambiguous start of string, and <code>\z</code> (in Python, it is <code>\Z</code>, in JavaScript, <code>$</code> is OK) to define the very end of the string.</p>
<p><strong>Dot note</strong>: In many flavors (but not POSIX, TRE, TCL), <code>.</code> matches any char <em>but a newline</em> char. Make sure you use a corresponding DOTALL modifier (<code>/s</code> in PCRE/Boost/.NET/Python/Java and <code>/m</code> in Ruby) for the <code>.</code> to match any char including a newline.</p>
<p><strong>Backslash note</strong>: In languages where you have to declare patterns with C strings allowing escape sequences (like <code>\n</code> for a newline), you need to double the backslashes escaping special characters so that the engine could treat them as literal characters (e.g. in Java, <code>world\.</code> will be declared as <code>"world\\."</code>, or use a character class: <code>"world[.]"</code>). Use raw string literals (Python <code>r'\bworld\b'</code>), C# verbatim string literals <code>@"world\."</code>, or slashy strings/regex literal notations like <code>/world\./</code>.</p>
</section>
<section id="answer-3-score-243" class="level4">
<h4>Answer 3 (score 243)</h4>
<p>You can put a <code>^</code> in the beginning of a character set to match anything but those characters.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb423-1"><a href="#cb423-1"></a>[^=]*</span></code></pre></div>
<p>will match everything but <code>=</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex---does-not-contain-certain-characters-score-353405-in-2019" class="level3">
<h3>79: Regex - Does not contain certain Characters (score <a href="https://stackoverflow.com/q/4105956.html">353405</a> in 2019)</h3>
<section id="question-77" class="level4">
<h4>Question</h4>
<p>I need a regex to match if anywhere in a sentence there is NOT either &lt; or &gt;.</p>
<p>If either &lt; or &gt; are in the string then it must return false.</p>
<p>I had a partial success with this but only if my &lt; &gt; are at the beginning or end:</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb424-1"><a href="#cb424-1"></a>(?!&lt;|&gt;).*$</span></code></pre></div>
<p>I am using .Net if that makes a difference.</p>
<p>Thanks for the help.</p>
</section>
<section id="answer-accepted-score-368" class="level4">
<h4>Answer accepted (score 368)</h4>
<div class="sourceCode" id="cb425"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb425-1"><a href="#cb425-1"></a>^[^&lt;&gt;]+$</span></code></pre></div>
<p>The caret in the character class (<code>[^</code>) means match anything but, so this means, beginning of string, then one or more of anything except <code>&amp;lt;</code> and <code>&amp;gt;</code>, then the end of the string.</p>
</section>
<section id="answer-2-score-52-2" class="level4">
<h4>Answer 2 (score 52)</h4>
<p>Here you go:</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb426-1"><a href="#cb426-1"></a>^[^&lt;&gt;]*$</span></code></pre></div>
<p>This will test for string that has no <code>&amp;lt;</code> and no <code>&amp;gt;</code></p>
<p>If you want to test for a string that may have <code>&amp;lt;</code> and <code>&amp;gt;</code>, but must also have something other you should use just</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb427-1"><a href="#cb427-1"></a>[^&lt;&gt;] (<span class="kw">or</span> ^.<span class="kw">*</span>[^&lt;&gt;].*<span class="dt">$)</span></span></code></pre></div>
<p>Where <code>[&amp;lt;&amp;gt;]</code> means <em>any of <code>&amp;lt;</code> or <code>&amp;gt;</code></em> and <code>[^&amp;lt;&amp;gt;]</code> means <em>any that is not of <code>&amp;lt;</code> or <code>&amp;gt;</code></em>.</p>
<p>And of course the mandatory <a href="http://www.regular-expressions.info/reference.html">link</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="whitespace-matching-regex---java-score-352296-in-2014" class="level3">
<h3>80: Whitespace Matching Regex - Java (score <a href="https://stackoverflow.com/q/4731055.html">352296</a> in 2014)</h3>
<section id="question-78" class="level4">
<h4>Question</h4>
<p>The Java API for <a href="http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html">regular expressions</a> states that <code>\s</code> will match whitespace. So the regex <code>\\s\\s</code> should match two spaces.</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb428-1"><a href="#cb428-1"></a>Pattern whitespace = Pattern.compile(<span class="kw">&quot;</span><span class="st">\\s\\s</span><span class="kw">&quot;</span>);</span>
<span id="cb428-2"><a href="#cb428-2"></a>matcher = whitespace.matcher(modLine);</span>
<span id="cb428-3"><a href="#cb428-3"></a><span class="kw">while</span> (matcher.find()) matcher.replaceAll(<span class="kw">&quot;</span><span class="st"> </span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>The aim of this is to replace all instances of two consecutive whitespace with a single space. However this does not actually work.</p>
<p>Am I having a grave misunderstanding of regexes or the term “whitespace”?</p>
</section>
<section id="answer-accepted-score-41" class="level4">
<h4>Answer accepted (score 41)</h4>
<p>Yeah, you need to grab the result of matcher.replaceAll():</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb429-1"><a href="#cb429-1"></a>String result = matcher.replaceAll(<span class="kw">&quot;</span><span class="st"> </span><span class="kw">&quot;</span>);</span>
<span id="cb429-2"><a href="#cb429-2"></a>System.out.println(result);</span></code></pre></div>
</section>
<section id="answer-2-score-182" class="level4">
<h4>Answer 2 (score 182)</h4>
<p>You can’t use <code>\s</code> in Java to match white space on its own native character set, because Java doesn’t support the Unicode white space property — even though doing so is strictly required to meet <a href="http://www.unicode.org/reports/tr18/#Categories" rel="noreferrer">UTS#18’s RL1.2!</a> What it does have is not standards-conforming, alas.</p>
<p>Unicode defines 26 code points as <code>\p{White_Space}</code>: 20 of them are various sorts of <code>\pZ</code> <em>GeneralCategory=Separator</em>, and the remaining 6 are <code>\p{Cc}</code> <em>GeneralCategory=Control</em>.</p>
<p>White space is a pretty stable property, and those same ones have been around virtually forever. Even so, Java has no property that conforms to The Unicode Standard for these, so you instead have to use code like this:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb430-1"><a href="#cb430-1"></a>String whitespace_chars =  <span class="kw">&quot;&quot;</span>       <span class="kw">/</span><span class="ch">*</span><span class="ot"> dummy empty string for homogeneity </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb430-2"><a href="#cb430-2"></a>                        + <span class="kw">&quot;</span><span class="st">\\u0009</span><span class="kw">&quot;</span> // CHARACTER TABULATION</span>
<span id="cb430-3"><a href="#cb430-3"></a>                        + <span class="kw">&quot;</span><span class="st">\\u000A</span><span class="kw">&quot;</span> // LINE FEED (LF)</span>
<span id="cb430-4"><a href="#cb430-4"></a>                        + <span class="kw">&quot;</span><span class="st">\\u000B</span><span class="kw">&quot;</span> // LINE TABULATION</span>
<span id="cb430-5"><a href="#cb430-5"></a>                        + <span class="kw">&quot;</span><span class="st">\\u000C</span><span class="kw">&quot;</span> // FORM FEED (FF)</span>
<span id="cb430-6"><a href="#cb430-6"></a>                        + <span class="kw">&quot;</span><span class="st">\\u000D</span><span class="kw">&quot;</span> // CARRIAGE RETURN (CR)</span>
<span id="cb430-7"><a href="#cb430-7"></a>                        + <span class="kw">&quot;</span><span class="st">\\u0020</span><span class="kw">&quot;</span> // SPACE</span>
<span id="cb430-8"><a href="#cb430-8"></a>                        + <span class="kw">&quot;</span><span class="st">\\u0085</span><span class="kw">&quot;</span> // NEXT LINE (NEL) </span>
<span id="cb430-9"><a href="#cb430-9"></a>                        + <span class="kw">&quot;</span><span class="st">\\u00A0</span><span class="kw">&quot;</span> // NO-BREAK SPACE</span>
<span id="cb430-10"><a href="#cb430-10"></a>                        + <span class="kw">&quot;</span><span class="st">\\u1680</span><span class="kw">&quot;</span> // OGHAM SPACE MARK</span>
<span id="cb430-11"><a href="#cb430-11"></a>                        + <span class="kw">&quot;</span><span class="st">\\u180E</span><span class="kw">&quot;</span> // MONGOLIAN VOWEL SEPARATOR</span>
<span id="cb430-12"><a href="#cb430-12"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2000</span><span class="kw">&quot;</span> // EN QUAD </span>
<span id="cb430-13"><a href="#cb430-13"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2001</span><span class="kw">&quot;</span> // EM QUAD </span>
<span id="cb430-14"><a href="#cb430-14"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2002</span><span class="kw">&quot;</span> // EN SPACE</span>
<span id="cb430-15"><a href="#cb430-15"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2003</span><span class="kw">&quot;</span> // EM SPACE</span>
<span id="cb430-16"><a href="#cb430-16"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2004</span><span class="kw">&quot;</span> // THREE-PER-EM SPACE</span>
<span id="cb430-17"><a href="#cb430-17"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2005</span><span class="kw">&quot;</span> // FOUR-PER-EM SPACE</span>
<span id="cb430-18"><a href="#cb430-18"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2006</span><span class="kw">&quot;</span> // SIX-PER-EM SPACE</span>
<span id="cb430-19"><a href="#cb430-19"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2007</span><span class="kw">&quot;</span> // FIGURE SPACE</span>
<span id="cb430-20"><a href="#cb430-20"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2008</span><span class="kw">&quot;</span> // PUNCTUATION SPACE</span>
<span id="cb430-21"><a href="#cb430-21"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2009</span><span class="kw">&quot;</span> // THIN SPACE</span>
<span id="cb430-22"><a href="#cb430-22"></a>                        + <span class="kw">&quot;</span><span class="st">\\u200A</span><span class="kw">&quot;</span> // HAIR SPACE</span>
<span id="cb430-23"><a href="#cb430-23"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2028</span><span class="kw">&quot;</span> // LINE SEPARATOR</span>
<span id="cb430-24"><a href="#cb430-24"></a>                        + <span class="kw">&quot;</span><span class="st">\\u2029</span><span class="kw">&quot;</span> // PARAGRAPH SEPARATOR</span>
<span id="cb430-25"><a href="#cb430-25"></a>                        + <span class="kw">&quot;</span><span class="st">\\u202F</span><span class="kw">&quot;</span> // NARROW NO-BREAK SPACE</span>
<span id="cb430-26"><a href="#cb430-26"></a>                        + <span class="kw">&quot;</span><span class="st">\\u205F</span><span class="kw">&quot;</span> // MEDIUM MATHEMATICAL SPACE</span>
<span id="cb430-27"><a href="#cb430-27"></a>                        + <span class="kw">&quot;</span><span class="st">\\u3000</span><span class="kw">&quot;</span> // IDEOGRAPHIC SPACE</span>
<span id="cb430-28"><a href="#cb430-28"></a>                        ;        </span>
<span id="cb430-29"><a href="#cb430-29"></a><span class="kw">/</span><span class="ch">*</span><span class="ot"> A </span><span class="bn">\s</span><span class="ot"> that actually works for Java’s native character set: Unicode </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb430-30"><a href="#cb430-30"></a>String     whitespace_charclass = <span class="kw">&quot;</span><span class="st">[</span><span class="kw">&quot;</span>  + whitespace_chars + <span class="kw">&quot;</span><span class="st">]</span><span class="kw">&quot;</span>;    </span>
<span id="cb430-31"><a href="#cb430-31"></a><span class="kw">/</span><span class="ch">*</span><span class="ot"> A </span><span class="bn">\S</span><span class="ot"> that actually works for  Java’s native character set: Unicode </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb430-32"><a href="#cb430-32"></a>String not_whitespace_charclass = <span class="kw">&quot;</span><span class="st">[^</span><span class="kw">&quot;</span> + whitespace_chars + <span class="kw">&quot;</span><span class="st">]</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Now you can use <code>whitespace_charclass + "+"</code> as the pattern in your <code>replaceAll</code>.</p>
<hr>
<p>Sorry ’bout all that. <strong>Java’s regexes just don’t work very well on its own native character set,</strong> and so you really have to jump through exotic hoops to make them work.</p>
<p>And if you think white space is bad, you should see what you have to do to get <code>\w</code> and <code>\b</code> to finally behave properly!</p>
<p>Yes, it’s possible, and yes, it’s a mindnumbing mess. That’s being charitable, even. The easiest way to get a standards-comforming regex library for Java is to JNI over to ICU’s stuff. That’s what Google does for Android, because OraSun’s doesn’t measure up.</p>
<p>If you don’t want to do that but still want to stick with Java, I have a front-end regex rewriting library I wrote that “fixes” Java’s patterns, at least to get them conform to the requirements of <a href="http://www.unicode.org/reports/tr18/#Compatibility_Properties" rel="noreferrer">RL1.2a in UTS#18, <em>Unicode Regular Expressions</em></a>.</p>
</section>
<section id="answer-3-score-13" class="level4">
<h4>Answer 3 (score 13)</h4>
<p>For Java (not php, not javascript, not anyother):</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb431-1"><a href="#cb431-1"></a>txt.replaceAll(<span class="kw">&quot;</span><span class="st">\\p{javaSpaceChar}{2,}</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="st"> </span><span class="kw">&quot;</span>)</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-use-regex-with-find-command-score-351529-in-2011" class="level3">
<h3>81: How to use regex with find command? (score <a href="https://stackoverflow.com/q/6844785.html">351529</a> in 2011)</h3>
<section id="question-79" class="level4">
<h4>Question</h4>
<p>I have some images named with generated uuid1 string. For example 81397018-b84a-11e0-9d2a-001b77dc0bed.jpg. I want to find out all these images using “find” command:</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb432-1"><a href="#cb432-1"></a>find . -regex <span class="kw">&quot;</span><span class="st">[a-f0-9\-]\{36\}\.jpg</span><span class="kw">&quot;</span>.</span></code></pre></div>
<p>But it doesn’t work. Something wrong with the regex? Could someone help me with this?</p>
</section>
<section id="answer-accepted-score-311" class="level4">
<h4>Answer accepted (score 311)</h4>
<div class="sourceCode" id="cb433"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb433-1"><a href="#cb433-1"></a>find . -regextype sed -regex <span class="kw">&quot;</span><span class="st">.*/[a-f0-9\-]\{36\}\.jpg</span><span class="kw">&quot;</span></span></code></pre></div>
<p>Note that you need to specify <code>.*/</code> in the beginning because <code>find</code> matches the whole path.</p>
<p>Example:</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb434-1"><a href="#cb434-1"></a>susam<span class="dt">@nifty</span>:~<span class="kw">/</span><span class="ot">so</span><span class="ch">$</span><span class="ot"> find . -name &quot;</span><span class="ch">*</span><span class="ot">.jpg&quot;</span></span>
<span id="cb434-2"><a href="#cb434-2"></a><span class="ot">.</span><span class="kw">/</span>foo<span class="dv">-111</span>.jpg</span>
<span id="cb434-3"><a href="#cb434-3"></a>.<span class="kw">/</span><span class="ot">test</span><span class="kw">/</span><span class="dv">81397018</span>-b84a-11e0-9d2a-001b77dc0bed.jpg</span>
<span id="cb434-4"><a href="#cb434-4"></a>.<span class="kw">/</span><span class="ot">81397018-b84a-11e0-9d2a-001b77dc0bed.jpg</span></span>
<span id="cb434-5"><a href="#cb434-5"></a><span class="ot">susam</span><span class="dt">@nifty</span><span class="ot">:~</span><span class="kw">/so</span>$ </span>
<span id="cb434-6"><a href="#cb434-6"></a>susam<span class="dt">@nifty</span>:~<span class="kw">/</span><span class="ot">so</span><span class="ch">$</span><span class="ot"> find . -regextype sed -regex &quot;.</span><span class="ch">*</span><span class="kw">/</span>[a-f0<span class="dv">-9</span>\-]\{<span class="dv">36</span>\}\.jpg<span class="kw">&quot;</span></span>
<span id="cb434-7"><a href="#cb434-7"></a><span class="st">./test/81397018-b84a-11e0-9d2a-001b77dc0bed.jpg</span></span>
<span id="cb434-8"><a href="#cb434-8"></a><span class="st">./81397018-b84a-11e0-9d2a-001b77dc0bed.jpg</span></span></code></pre></div>
<p>My version of find:</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb435-1"><a href="#cb435-1"></a>$ find --version</span>
<span id="cb435-2"><a href="#cb435-2"></a>find (GNU findutils) <span class="fl">4.4</span>.<span class="dv">2</span></span>
<span id="cb435-3"><a href="#cb435-3"></a>Copyright (C) <span class="dv">2007</span> Free Software Foundation, Inc.</span>
<span id="cb435-4"><a href="#cb435-4"></a>License GPLv3+: GNU GPL version <span class="dv">3</span> <span class="kw">or</span> later &lt;http://gnu.org/licenses/gpl.html&gt;</span>
<span id="cb435-5"><a href="#cb435-5"></a>This is free software: you are free to change <span class="kw">and</span> redistribute it.</span>
<span id="cb435-6"><a href="#cb435-6"></a>There is NO WARRANTY, to the extent permitted by law.</span>
<span id="cb435-7"><a href="#cb435-7"></a></span>
<span id="cb435-8"><a href="#cb435-8"></a>Written by Eric B. Decker, James Youngman, <span class="kw">and</span> Kevin Dalley.</span>
<span id="cb435-9"><a href="#cb435-9"></a>Built using GNU gnulib version e5573b1bad88bfabcda181b9e0125fb0c52b7d3b</span>
<span id="cb435-10"><a href="#cb435-10"></a>Features enabled: D_TYPE O_NOFOLLOW(enabled) LEAF_OPTIMISATION FTS() CBO(level=<span class="dv">0</span>) </span>
<span id="cb435-11"><a href="#cb435-11"></a>susam<span class="dt">@nifty</span>:~<span class="kw">/</span><span class="ot">so</span><span class="ch">$</span><span class="ot"> </span></span>
<span id="cb435-12"><a href="#cb435-12"></a><span class="ot">susam</span><span class="dt">@nifty</span><span class="ot">:~</span><span class="kw">/so</span>$ find . -regextype foo -regex <span class="kw">&quot;</span><span class="st">.*/[a-f0-9\-]\{36\}\.jpg</span><span class="kw">&quot;</span></span>
<span id="cb435-13"><a href="#cb435-13"></a>find: Unknown regular expression type <span class="kw">`</span><span class="st">foo&#39;; valid types are </span><span class="kw">`</span>findutils-default<span class="kw">&#39;</span><span class="st">, `awk</span><span class="kw">&#39;</span>, <span class="kw">`</span><span class="st">egrep&#39;, </span><span class="kw">`</span>ed<span class="kw">&#39;</span><span class="st">, `emacs</span><span class="kw">&#39;</span>, <span class="kw">`</span><span class="st">gnu-awk&#39;, </span><span class="kw">`</span>grep<span class="kw">&#39;</span><span class="st">, `posix-awk</span><span class="kw">&#39;</span>, <span class="kw">`</span><span class="st">posix-basic&#39;, </span><span class="kw">`</span>posix-egrep<span class="kw">&#39;</span><span class="st">, `posix-extended</span><span class="kw">&#39;</span>, <span class="kw">`</span><span class="st">posix-minimal-basic&#39;, </span><span class="kw">`</span>sed<span class="kw">&#39;</span><span class="st">.</span></span></code></pre></div>
</section>
<section id="answer-2-score-72" class="level4">
<h4>Answer 2 (score 72)</h4>
<p>The <code>-regex</code> find expression matches the <strong>whole name</strong>, including the relative path from the current directory. For <code>find .</code> this always starts with <code>./</code>, then any directories.</p>
<p>Also, these are <code>emacs</code> regular expressions, which have other escaping rules than the usual egrep regular expressions.</p>
<p>If these are all directly in the current directory, then</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb436-1"><a href="#cb436-1"></a>find . -regex <span class="kw">&#39;</span><span class="st">\./[a-f0-9\-]\{36\}\.jpg</span><span class="kw">&#39;</span></span></code></pre></div>
<p>should work. (I’m not really sure - I can’t get the counted repetition to work here.) You can switch to egrep expressions by <code>-regextype posix-egrep</code>:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb437-1"><a href="#cb437-1"></a>find . -regextype posix-egrep -regex <span class="kw">&#39;</span><span class="st">\./[a-f0-9\-]{36}\.jpg</span><span class="kw">&#39;</span></span></code></pre></div>
<p>(Note that everything said here is for GNU find, I don’t know anything about the BSD one which is also the default on Mac.)</p>
</section>
<section id="answer-3-score-30-2" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>Judging from other answers, it seems this might be find’s fault.</p>
<p>However you can do it this way instead:</p>
<p><code>find . * | grep -P "[a-f0-9\-]{36}\.jpg"</code></p>
<p>You might have to tweak the grep a bit and use different options depending on what you want but it works.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="php-string-contains-score-351294-in-2017" class="level3">
<h3>82: PHP string “contains” (score <a href="https://stackoverflow.com/q/13577041.html">351294</a> in 2017)</h3>
<section id="question-80" class="level4">
<h4>Question</h4>
<blockquote>
<p>
<strong>Possible Duplicate:</strong><br> <a href="https://stackoverflow.com/questions/1019169/how-can-i-check-if-a-word-is-contained-in-another-string-using-php">How can I check if a word is contained in another string using PHP?</a>
</p>
</blockquote>
<p>What would be the most efficient way to check whether a string contains a “.” or not?</p>
<p>I know you can do this in many different ways like with <a href="http://en.wikipedia.org/wiki/Regular_expression" rel="noreferrer">regular expressions</a> or loop through the string to see if it contains a dot (“.”).</p>
</section>
<section id="answer-accepted-score-488" class="level4">
<h4>Answer accepted (score 488)</h4>
<div class="sourceCode" id="cb438"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb438-1"><a href="#cb438-1"></a><span class="kw">if</span> (strpos(<span class="dt">$str</span>, <span class="kw">&#39;</span><span class="st">.</span><span class="kw">&#39;</span>) !== FALSE)</span>
<span id="cb438-2"><a href="#cb438-2"></a>{</span>
<span id="cb438-3"><a href="#cb438-3"></a> echo <span class="kw">&#39;</span><span class="st">Found it</span><span class="kw">&#39;</span>;</span>
<span id="cb438-4"><a href="#cb438-4"></a>}</span>
<span id="cb438-5"><a href="#cb438-5"></a><span class="kw">else</span></span>
<span id="cb438-6"><a href="#cb438-6"></a>{</span>
<span id="cb438-7"><a href="#cb438-7"></a> echo <span class="kw">&#39;</span><span class="st">Not found.</span><span class="kw">&#39;</span>;</span>
<span id="cb438-8"><a href="#cb438-8"></a>}</span></code></pre></div>
<p>Note that you need to compare with the <code>!==</code> operator. If you use <code>!=</code> or <code>&amp;lt;&amp;gt;</code> and the <code>'.'</code> is found at position <code>0</code>, hey! <code>0</code> compares equal to <code>FALSE</code> and you lose. This will cause you to point a production website at a development database over the weekend, causing no end of joy when you return monday.</p>
</section>
<section id="answer-2-score-65" class="level4">
<h4>Answer 2 (score 65)</h4>
<p>You can use these string functions,</p>
<p><a href="http://www.php.net/manual/en/function.strstr.php" rel="noreferrer">strstr</a> — Find the first occurrence of a string</p>
<p><a href="http://www.php.net/manual/en/function.stristr.php" rel="noreferrer">stristr</a> — Case-insensitive strstr()</p>
<p><a href="http://www.php.net/manual/en/function.strrchr.php" rel="noreferrer">strrchr</a> — Find the last occurrence of a character in a string</p>
<p><a href="http://www.php.net/manual/en/function.strpos.php" rel="noreferrer">strpos</a> — Find the position of the first occurrence of a substring in a string</p>
<p><a href="http://www.php.net/manual/en/function.strpbrk.php" rel="noreferrer">strpbrk</a> — Search a string for any of a set of characters</p>
<p>If that doesn’t help then you should use <code>preg</code> regular expression</p>
<p><a href="http://www.php.net/manual/en/function.preg-match.php" rel="noreferrer">preg_match</a> — Perform a regular expression match</p>
</section>
<section id="answer-3-score-7" class="level4">
<h4>Answer 3 (score 7)</h4>
<p>You can use <code>stristr()</code> or <code>strpos()</code>. Both <em>return false</em> if nothing is found.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-every-new-line-character-inside-a-tag-score-350198-in-2015" class="level3">
<h3>83: Regular Expression to match every new line character () inside a <content> tag (score <a href="https://stackoverflow.com/q/1117807.html">350198</a> in 2015)</h3>
<section id="question-81" class="level4">
<h4>Question</h4>
<p>I’m looking for a regular expression to match every new line character (<code>\n</code>) inside a XML tag which is <code>&amp;lt;content&amp;gt;</code>, or inside any tag which is inside that <code>&amp;lt;content&amp;gt;</code> tag, for example :</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb439-1"><a href="#cb439-1"></a>&lt;blog&gt;</span>
<span id="cb439-2"><a href="#cb439-2"></a>&lt;text&gt;</span>
<span id="cb439-3"><a href="#cb439-3"></a>(Do NOT match new lines here)</span>
<span id="cb439-4"><a href="#cb439-4"></a>&lt;/text&gt;</span>
<span id="cb439-5"><a href="#cb439-5"></a>&lt;content&gt;</span>
<span id="cb439-6"><a href="#cb439-6"></a>(DO match new lines here)</span>
<span id="cb439-7"><a href="#cb439-7"></a>&lt;p&gt;</span>
<span id="cb439-8"><a href="#cb439-8"></a>(Do match new lines here)</span>
<span id="cb439-9"><a href="#cb439-9"></a>&lt;/p&gt;</span>
<span id="cb439-10"><a href="#cb439-10"></a>&lt;/content&gt;</span>
<span id="cb439-11"><a href="#cb439-11"></a>(Do NOT match new lines here)</span>
<span id="cb439-12"><a href="#cb439-12"></a>&lt;content&gt;</span>
<span id="cb439-13"><a href="#cb439-13"></a>(DO match new lines here)</span>
<span id="cb439-14"><a href="#cb439-14"></a>&lt;/content&gt;</span></code></pre></div>
</section>
<section id="answer-accepted-score-73" class="level4">
<h4>Answer accepted (score 73)</h4>
<p>Actually… you can’t use a simple regex here, at least not one. You probably need to worry about comments! Someone may write:</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb440-1"><a href="#cb440-1"></a>&lt;!-- &lt;content&gt; blah &lt;/content&gt; --&gt;</span></code></pre></div>
<p>You can take two approaches here:</p>
<ol>
<li>
Strip all comments out first. Then use the regex approach.
</li>
<li>
Do not use regular expressions and use a context sensitive parsing approach that can keep track of whether or not you are nested in a comment.
</li>
</ol>
<p>Be careful.</p>
<p>I am also not so sure you can match all new lines at once. <span class="citation" data-cites="Quartz">@Quartz</span> suggested this one:</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb441-1"><a href="#cb441-1"></a>&lt;content&gt;([^\n]<span class="dt">*\</span>n+)+&lt;/content&gt;</span></code></pre></div>
<p>This will match any content tags that have a newline character RIGHT BEFORE the closing tag… but I’m not sure what you mean by matching <em>all</em> newlines. Do you want to be able to access all the matched newline characters? If so, your best bet is to grab all content tags, and then search for all the newline chars that are nested in between. Something more like this:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb442-1"><a href="#cb442-1"></a>&lt;content&gt;.<span class="dt">*&lt;</span><span class="kw">/</span><span class="ot">content&gt;</span></span></code></pre></div>
<p>BUT THERE IS ONE CAVEAT: regexes are greedy, so this regex will match the first opening tag to the last closing one. Instead, you HAVE to suppress the regex so it is not greedy. In languages like python, you can do this with the “?” regex symbol.</p>
<p>I hope with this you can see some of the pitfalls and figure out how you want to proceed. You are probably better off using an XML parsing library, then iterating over all the content tags.</p>
<p>I know I may not be offering the best solution, but at least I hope you will see the difficulty in this and why other answers may not be right…</p>
<p><strong>UPDATE 1:</strong></p>
<p>Let me summarize a bit more and add some more detail to my response. I am going to use python’s regex syntax because it is what I am more used to (forgive me ahead of time… you may need to escape some characters… comment on my post and I will correct it):</p>
<p>
<p>To strip out comments, use this regex:</p>
Notice the “?” suppresses the .* to make it non-greedy.
</p>
<p>
Similarly, to search for content tags, use: .*?
</p>
<p>Also, You may be able to try this out, and access each newline character with the match objects groups():</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb443-1"><a href="#cb443-1"></a>&lt;content&gt;(.<span class="dt">*?</span>(\n))+.<span class="dt">*?</span>&lt;/content&gt;</span></code></pre></div>
<p>I know my escaping is off, but it captures the idea. This last example probably won’t work, but I think it’s your best bet at expressing what you want. My suggestion remains: either grab all the content tags and do it yourself, or use a parsing library.</p>
<p><strong>UPDATE 2:</strong></p>
<p>So here is python code that ought to work. I am still unsure what you mean by “find” all newlines. Do you want the entire lines? Or just to count how many newlines. To get the actual lines, try:</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb444-1"><a href="#cb444-1"></a><span class="kw">#!/usr/bin/python</span></span>
<span id="cb444-2"><a href="#cb444-2"></a></span>
<span id="cb444-3"><a href="#cb444-3"></a><span class="fu">import</span> re</span>
<span id="cb444-4"><a href="#cb444-4"></a></span>
<span id="cb444-5"><a href="#cb444-5"></a>def FindContentNewlines(xml_text):</span>
<span id="cb444-6"><a href="#cb444-6"></a>    <span class="co"># May want to compile these regexes elsewhere, but I do it here for brevity</span></span>
<span id="cb444-7"><a href="#cb444-7"></a>    comments = re.compile(r<span class="kw">&quot;</span><span class="st">&lt;!--.*?--&gt;</span><span class="kw">&quot;</span>, re.DOTALL)</span>
<span id="cb444-8"><a href="#cb444-8"></a>    content = re.compile(r<span class="kw">&quot;</span><span class="st">&lt;content&gt;(.*?)&lt;/content&gt;</span><span class="kw">&quot;</span>, re.DOTALL)</span>
<span id="cb444-9"><a href="#cb444-9"></a>    newlines = re.compile(r<span class="kw">&quot;</span><span class="st">^(.*?)</span><span class="dt">$&quot;</span><span class="st">, re.MULTILINE|re.DOTALL)</span></span>
<span id="cb444-10"><a href="#cb444-10"></a></span>
<span id="cb444-11"><a href="#cb444-11"></a><span class="st">    # strip comments: this actually may not be reliable for </span><span class="kw">&quot;</span>nested comments<span class="kw">&quot;</span></span>
<span id="cb444-12"><a href="#cb444-12"></a><span class="st">    # How does xml handle &lt;!--  &lt;!-- --&gt; --&gt;. I am not sure. But that COULD</span></span>
<span id="cb444-13"><a href="#cb444-13"></a><span class="st">    # be trouble.</span></span>
<span id="cb444-14"><a href="#cb444-14"></a><span class="st">    xml_text = re.sub(comments, </span><span class="kw">&quot;&quot;</span><span class="st">, xml_text)</span></span>
<span id="cb444-15"><a href="#cb444-15"></a></span>
<span id="cb444-16"><a href="#cb444-16"></a><span class="st">    result = []</span></span>
<span id="cb444-17"><a href="#cb444-17"></a><span class="st">    all_contents = re.findall(content, xml_text)</span></span>
<span id="cb444-18"><a href="#cb444-18"></a><span class="st">    for c in all_contents:</span></span>
<span id="cb444-19"><a href="#cb444-19"></a><span class="st">        result.extend(re.findall(newlines, c))</span></span>
<span id="cb444-20"><a href="#cb444-20"></a></span>
<span id="cb444-21"><a href="#cb444-21"></a><span class="st">    return result</span></span>
<span id="cb444-22"><a href="#cb444-22"></a></span>
<span id="cb444-23"><a href="#cb444-23"></a><span class="st">if __name__ == </span><span class="kw">&quot;</span>__main__<span class="kw">&quot;</span><span class="st">:</span></span>
<span id="cb444-24"><a href="#cb444-24"></a><span class="st">    example = </span><span class="kw">&quot;&quot;&quot;</span></span>
<span id="cb444-25"><a href="#cb444-25"></a></span>
<span id="cb444-26"><a href="#cb444-26"></a>&lt;!-- This stuff</span>
<span id="cb444-27"><a href="#cb444-27"></a>ought to be omitted</span>
<span id="cb444-28"><a href="#cb444-28"></a>&lt;content&gt;</span>
<span id="cb444-29"><a href="#cb444-29"></a>  omitted</span>
<span id="cb444-30"><a href="#cb444-30"></a>&lt;/content&gt;</span>
<span id="cb444-31"><a href="#cb444-31"></a>--&gt;</span>
<span id="cb444-32"><a href="#cb444-32"></a></span>
<span id="cb444-33"><a href="#cb444-33"></a>This stuff is good</span>
<span id="cb444-34"><a href="#cb444-34"></a>&lt;content&gt;</span>
<span id="cb444-35"><a href="#cb444-35"></a>&lt;p&gt;</span>
<span id="cb444-36"><a href="#cb444-36"></a>  haha!</span>
<span id="cb444-37"><a href="#cb444-37"></a>&lt;/p&gt;</span>
<span id="cb444-38"><a href="#cb444-38"></a>&lt;/content&gt;</span>
<span id="cb444-39"><a href="#cb444-39"></a></span>
<span id="cb444-40"><a href="#cb444-40"></a>This is <span class="kw">not</span> found</span>
<span id="cb444-41"><a href="#cb444-41"></a><span class="kw">&quot;&quot;&quot;</span></span>
<span id="cb444-42"><a href="#cb444-42"></a><span class="st">    print FindContentNewlines(example)</span></span></code></pre></div>
<p>This program prints the result:</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb445-1"><a href="#cb445-1"></a> [<span class="kw">&#39;&#39;</span>, <span class="kw">&#39;</span><span class="st">&lt;p&gt;</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">  haha!</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">&lt;/p&gt;</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>]</span></code></pre></div>
<p>The first and last empty strings come from the newline chars immediately preceeding the first <code>&amp;lt;p&amp;gt;</code> and the one coming right after the <code>&amp;lt;/p&amp;gt;</code>. All in all this (for the most part) does the trick. Experiment with this code and refine it for your needs. Print out stuff in the middle so you can see what the regexes are matching and not matching.</p>
<p>Hope this helps :-).</p>
<p>PS - I didn’t have much luck trying out my regex from my first update to capture all the newlines… let me know if you do.</p>
</section>
<section id="answer-2-score-4" class="level4">
<h4>Answer 2 (score 4)</h4>
<div class="sourceCode" id="cb446"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb446-1"><a href="#cb446-1"></a>&lt;content&gt;(?:[^\n]*(\n+))+&lt;/content&gt;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-for-javascript-to-allow-only-alphanumeric-score-349473-in-2015" class="level3">
<h3>84: RegEx for Javascript to allow only alphanumeric (score <a href="https://stackoverflow.com/q/388996.html">349473</a> in 2015)</h3>
<section id="question-82" class="level4">
<h4>Question</h4>
<p>I need to find a reg ex that only allows alphanumeric. So far, everyone I try only works if the string is alphanumeric, meaning contains both a letter and a number. I just want one what would allow either and not require both.</p>
</section>
<section id="answer-accepted-score-450" class="level4">
<h4>Answer accepted (score 450)</h4>
<div class="sourceCode" id="cb447"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb447-1"><a href="#cb447-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">a-z0-9</span><span class="ch">]+$</span><span class="kw">/i</span></span>
<span id="cb447-2"><a href="#cb447-2"></a></span>
<span id="cb447-3"><a href="#cb447-3"></a>^         Start of string</span>
<span id="cb447-4"><a href="#cb447-4"></a>[a-z0<span class="dv">-9</span>]  a <span class="kw">or</span> b <span class="kw">or</span> c <span class="kw">or</span> ... z <span class="kw">or</span> <span class="dv">0</span> <span class="kw">or</span> <span class="dv">1</span> <span class="kw">or</span> ... <span class="dv">9</span></span>
<span id="cb447-5"><a href="#cb447-5"></a>+         one <span class="kw">or</span> more <span class="fu">times</span> (change to <span class="kw">*</span> to allow empty string)</span>
<span id="cb447-6"><a href="#cb447-6"></a>$         end of string    </span>
<span id="cb447-7"><a href="#cb447-7"></a><span class="kw">/</span><span class="ot">i        case-insensitive</span></span></code></pre></div>
</section>
<section id="answer-2-score-137" class="level4">
<h4>Answer 2 (score 137)</h4>
<p>If you wanted to return a replaced result, then this would work:</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb448-1"><a href="#cb448-1"></a>var a = <span class="kw">&#39;</span><span class="st">Test123*** TEST</span><span class="kw">&#39;</span>;</span>
<span id="cb448-2"><a href="#cb448-2"></a>var b = a.replace(<span class="kw">/</span><span class="ch">[^</span><span class="bn">a-z0-9</span><span class="ch">]</span><span class="kw">/gi</span>,<span class="kw">&#39;&#39;</span>);</span>
<span id="cb448-3"><a href="#cb448-3"></a>console.<span class="fu">log</span>(b);</span></code></pre></div>
<p>This would return:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb449-1"><a href="#cb449-1"></a>Test123TEST</span></code></pre></div>
<p>Note that the gi is necessary because it means global (not just on the first match), and case-insensitive, which is why I have a-z instead of a-zA-Z. And the ^ inside the brackets means “anything not in these brackets”.</p>
<p>WARNING: Alphanumeric is great if that’s exactly what you want. But if you’re using this in an international market on like a person’s name or geographical area, then you need to account for unicode characters, which this won’t do. For instance, if you have a name like “Âlvarö”, it would make it “lvar”.</p>
</section>
<section id="answer-3-score-77" class="level4">
<h4>Answer 3 (score 77)</h4>
<p>Use the word character class. The following is equivalent to a <code>^[a-zA-Z0-9_]+$</code>:</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb450-1"><a href="#cb450-1"></a>^\w+$</span></code></pre></div>
<p>Explanation:</p>
<ul>
<li>
^ start of string
</li>
<li>
any word character (A-Z, a-z, 0-9, _).
</li>
<li>
$ end of string
</li>
</ul>
<p>Use <code>/[^\w]|_/g</code> if you don’t want to match the underscore.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="validate-phone-number-with-javascript-score-347886-in-2011" class="level3">
<h3>85: Validate phone number with JavaScript (score <a href="https://stackoverflow.com/q/4338267.html">347886</a> in 2011)</h3>
<section id="question-83" class="level4">
<h4>Question</h4>
<p>
I found this code in some website, and it works perfectly. It validates that the phone number is in one of these formats:<br> <strong>(123) 456-7890</strong> or <strong>123-456-7890</strong>
</p>
<p>The problem is that my client (I don’t know why, maybe client stuffs) wants to add another format, the ten numbers consecutively, something like this: <strong>1234567890</strong>.</p>
<p>I’m using this regular expression,</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb451-1"><a href="#cb451-1"></a><span class="kw">/</span><span class="ch">^(</span><span class="ot">\(</span><span class="ch">)?</span><span class="bn">\d</span><span class="ch">{3}(</span><span class="ot">\)</span><span class="ch">)?(</span><span class="ot">-</span><span class="ch">|</span><span class="bn">\s</span><span class="ch">)?</span><span class="bn">\d</span><span class="ch">{3}(</span><span class="ot">-</span><span class="ch">|</span><span class="bn">\s</span><span class="ch">)</span><span class="bn">\d</span><span class="ch">{4}$</span><span class="kw">/</span></span></code></pre></div>
<p>How can I add that it also validates the another format? I’m not good with regular expressions.</p>
</section>
<section id="answer-accepted-score-107" class="level4">
<h4>Answer accepted (score 107)</h4>
<p>First off, your format validator is obviously only appropriate for <a href="http://en.wikipedia.org/wiki/North_American_Numbering_Plan" rel="noreferrer">NANP</a> (country code +1) numbers. Will your application be used by someone with a phone number from outside North America? If so, you don’t want to prevent those people from entering a perfectly valid [international] number.</p>
<p>Secondly, your validation is incorrect. NANP numbers take the form <code>NXX NXX XXXX</code> where <code>N</code> is a digit 2-9 and <code>X</code> is a digit 0-9. Additionally, area codes and exchanges may not take the form <code>N11</code> (end with two ones) to avoid confusion with special services <em>except</em> numbers in a non-geographic area code (800, 888, 877, 866, 855, 900) may have a <code>N11</code> exchange.</p>
<p>So, your regex will pass the number (123) 123 4566 even though that is not a valid phone number. You can fix that by replacing <code>\d{3}</code> with <code>[2-9]{1}\d{2}</code>.</p>
<p>Finally, I get the feeling you’re validating user input in a web browser. Remember that client-side validation is <a href="https://stackoverflow.com/questions/1726617/form-validation-with-javascript-vs-php">only a <strong>convenience</strong> you provide to the user</a>; you still need to validate all input (again) on the server.</p>
<p><strong>TL;DR</strong> don’t use a regular expression to <a href="https://stackoverflow.com/a/5059082/1269037">validate complex real-world data like phone numbers</a> or <a href="https://stackoverflow.com/questions/37684/how-to-replace-plain-urls-with-links/21925491#21925491">URLs</a>. Use a <a href="https://github.com/googlei18n/libphonenumber" rel="noreferrer">specialized library</a>.</p>
</section>
<section id="answer-2-score-119" class="level4">
<h4>Answer 2 (score 119)</h4>
<p>My regex of choice is:</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb452-1"><a href="#cb452-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">\+</span><span class="ch">]?[</span><span class="bn">(</span><span class="ch">]?[</span><span class="bn">0-9</span><span class="ch">]{3}[</span><span class="bn">)</span><span class="ch">]?[</span><span class="bn">-\s\.</span><span class="ch">]?[</span><span class="bn">0-9</span><span class="ch">]{3}[</span><span class="bn">-\s\.</span><span class="ch">]?[</span><span class="bn">0-9</span><span class="ch">]{4,6}$</span><span class="kw">/im</span></span></code></pre></div>
<p>Valid formats:</p>
<p>
<strong>(123) 456-7890</strong><br> <strong>(123)456-7890</strong><br> <strong>123-456-7890</strong><br> <strong>123.456.7890</strong><br> <strong>1234567890</strong><br> <strong>+31636363634</strong><br> <strong>075-63546725</strong>
</p>
</section>
<section id="answer-3-score-58" class="level4">
<h4>Answer 3 (score 58)</h4>
<p>If you are looking for 10 and only 10 digits, ignore everything but the digits-</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb453-1"><a href="#cb453-1"></a>   <span class="kw">return</span> value.match(<span class="kw">/</span><span class="bn">\d</span><span class="kw">/g</span>).<span class="fu">length</span>===<span class="dv">10</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="javascript-regular-expression-email-validation-score-329940-in-2018" class="level3">
<h3>86: JavaScript Regular Expression Email Validation (score <a href="https://stackoverflow.com/q/940577.html">329940</a> in 2018)</h3>
<section id="question-84" class="level4">
<h4>Question</h4>
<p>This code is always alerting out <code>"null"</code>, which means that the string does not match the expression.</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb454-1"><a href="#cb454-1"></a>var pattern = <span class="kw">&quot;</span><span class="st">^</span><span class="ch">\w</span><span class="st">+</span><span class="dt">@</span><span class="st">[a-zA-Z_]+?\.[a-zA-Z]{2,3}</span><span class="dt">$&quot;</span><span class="st">; </span></span>
<span id="cb454-2"><a href="#cb454-2"></a></span>
<span id="cb454-3"><a href="#cb454-3"></a><span class="st">function isEmailAddress(str) {</span></span>
<span id="cb454-4"><a href="#cb454-4"></a></span>
<span id="cb454-5"><a href="#cb454-5"></a><span class="st">    str = </span><span class="kw">&quot;</span>azamsharp<span class="dt">@gmail</span>.com<span class="kw">&quot;</span><span class="st">;      </span></span>
<span id="cb454-6"><a href="#cb454-6"></a></span>
<span id="cb454-7"><a href="#cb454-7"></a><span class="st">    alert(str.match(pattern)); </span></span>
<span id="cb454-8"><a href="#cb454-8"></a><span class="st">    return str.match(pattern);    </span></span>
<span id="cb454-9"><a href="#cb454-9"></a></span>
<span id="cb454-10"><a href="#cb454-10"></a><span class="st">}</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-73-1" class="level4">
<h4>Answer accepted (score 73)</h4>
<p>If you define your regular expression as a string then all backslashes need to be escaped, so instead of ‘’ you should have ‘\w’.</p>
<p>Alternatively, define it as a regular expression:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb455-1"><a href="#cb455-1"></a>var pattern = <span class="kw">/</span><span class="ch">^</span><span class="bn">\w</span><span class="ch">+</span><span class="dt">@</span><span class="ch">[</span><span class="bn">a-zA-Z_</span><span class="ch">]+?</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">a-zA-Z</span><span class="ch">]{2,3}$</span><span class="kw">/</span>; </span></code></pre></div>
<hr>
<p>BTW, please don’t validate email addresses on the client-side. Your regular expression is way too simple to pass for a solid implementation anyway.</p>
<p>See the real thing here: <strong><a href="http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html" rel="noreferrer">http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html</a></strong></p>
</section>
<section id="answer-2-score-27" class="level4">
<h4>Answer 2 (score 27)</h4>
<p>this is the one i am using on my page.</p>
<p><a href="http://www.zparacha.com/validate-email-address-using-javascript-regular-expression/" rel="noreferrer">http://www.zparacha.com/validate-email-address-using-javascript-regular-expression/</a></p>
<p><code>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/</code></p>
</section>
<section id="answer-3-score-14-3" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>I’ve been using this function for a while. it returns a boolean value.</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb456-1"><a href="#cb456-1"></a>// Validates email address of course.</span>
<span id="cb456-2"><a href="#cb456-2"></a>function validEmail(e) {</span>
<span id="cb456-3"><a href="#cb456-3"></a>    var filter = <span class="kw">/</span><span class="ch">^</span><span class="bn">\s</span><span class="ch">*[</span><span class="bn">\w\-\+_</span><span class="ch">]+(</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">\w\-\+_</span><span class="ch">]+)*</span><span class="ot">\@</span><span class="ch">[</span><span class="bn">\w\-\+_</span><span class="ch">]+</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">\w\-\+_</span><span class="ch">]+(</span><span class="ot">\.</span><span class="ch">[</span><span class="bn">\w\-\+_</span><span class="ch">]+)*</span><span class="bn">\s</span><span class="ch">*$</span><span class="kw">/</span>;</span>
<span id="cb456-4"><a href="#cb456-4"></a>    <span class="kw">return</span> String(e).search (filter) != <span class="dv">-1</span>;</span>
<span id="cb456-5"><a href="#cb456-5"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-remove-all-non-alphanumeric-characters-from-a-string-except-dash-score-329647-in-2014" class="level3">
<h3>87: How do I remove all non alphanumeric characters from a string except dash? (score <a href="https://stackoverflow.com/q/3210393.html">329647</a> in 2014)</h3>
<section id="question-85" class="level4">
<h4>Question</h4>
<p>How do I remove all non alphanumeric characters from a string except dash and space characters?</p>
</section>
<section id="answer-accepted-score-808" class="level4">
<h4>Answer accepted (score 808)</h4>
<p>Replace <code>[^a-zA-Z0-9 -]</code> with an empty string.</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb457-1"><a href="#cb457-1"></a>Regex rgx = new Regex(<span class="kw">&quot;</span><span class="st">[^a-zA-Z0-9 -]</span><span class="kw">&quot;</span>);</span>
<span id="cb457-2"><a href="#cb457-2"></a>str = rgx.Replace(str, <span class="kw">&quot;&quot;</span>);</span></code></pre></div>
</section>
<section id="answer-2-score-338" class="level4">
<h4>Answer 2 (score 338)</h4>
<p>I could have used RegEx, they can provide elegant solution but they can cause performane issues. Here is one solution</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb458-1"><a href="#cb458-1"></a>char[] arr = str.ToCharArray();</span>
<span id="cb458-2"><a href="#cb458-2"></a></span>
<span id="cb458-3"><a href="#cb458-3"></a>arr = Array.FindAll&lt;char&gt;(arr, (c =&gt; (char.IsLetterOrDigit(c) </span>
<span id="cb458-4"><a href="#cb458-4"></a>                                  || char.IsWhiteSpace(c) </span>
<span id="cb458-5"><a href="#cb458-5"></a>                                  || c == <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>)));</span>
<span id="cb458-6"><a href="#cb458-6"></a>str = new string(arr);</span></code></pre></div>
<hr>
<p>When using the compact framework (which doesn’t have FindAll)</p>
<p>Replace FindAll with<sup>1</sup></p>
<div class="sourceCode" id="cb459"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb459-1"><a href="#cb459-1"></a>char[] arr = str.Where(c =&gt; (char.IsLetterOrDigit(c) || </span>
<span id="cb459-2"><a href="#cb459-2"></a>                             char.IsWhiteSpace(c) || </span>
<span id="cb459-3"><a href="#cb459-3"></a>                             c == <span class="kw">&#39;</span><span class="st">-</span><span class="kw">&#39;</span>)).ToArray(); </span>
<span id="cb459-4"><a href="#cb459-4"></a></span>
<span id="cb459-5"><a href="#cb459-5"></a>str = new string(arr);</span></code></pre></div>
<hr>
<p><sup>1</sup> <a href="https://stackoverflow.com/questions/3210393/how-do-i-remove-all-non-alphanumeric-characters-from-a-string-except-dash/3210462#comment20263933_3210462">Comment by ShawnFeatherly</a></p>
</section>
<section id="answer-3-score-43-2" class="level4">
<h4>Answer 3 (score 43)</h4>
<p>You can try:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb460-1"><a href="#cb460-1"></a>   string s1= Regex.Replace(<span class="kw">s,</span><span class="ot">&quot;</span><span class="ch">[^</span><span class="bn">A-Za-z0-9 _</span><span class="ch">]</span><span class="ot">&quot;</span><span class="kw">,</span><span class="st">&quot;&quot;);</span></span></code></pre></div>
<p>Where <code>s</code> is your string.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-string-starting-with-stop-score-329414-in-2011" class="level3">
<h3>88: Regular Expression to match string starting with “stop” (score <a href="https://stackoverflow.com/q/1240504.html">329414</a> in 2011)</h3>
<section id="question-86" class="level4">
<h4>Question</h4>
<p>How do I create a regular expression to match a word at the beginning of a string. We are looking to match <code>stop</code> at the beginning of a string and anything can follow it.</p>
<p>For example the expression should match:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb461-1"><a href="#cb461-1"></a>stop</span>
<span id="cb461-2"><a href="#cb461-2"></a>stop random</span>
<span id="cb461-3"><a href="#cb461-3"></a>stopping</span></code></pre></div>
<p>Thanks.</p>
</section>
<section id="answer-2-score-158" class="level4">
<h4>Answer 2 (score 158)</h4>
<p>If you wish to match only lines beginning with stop use</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb462-1"><a href="#cb462-1"></a>^stop</span></code></pre></div>
<p>If you wish to match lines beginning with the word stop followed by a space</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb463-1"><a href="#cb463-1"></a>^stop\s</span></code></pre></div>
<p>Or, if you wish to match lines beginning with the word stop but followed by either a space or any other non word character you can use (your regex flavor permitting)</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb464-1"><a href="#cb464-1"></a>^stop\W</span></code></pre></div>
<p>On the other hand, what follows matches a word at the beginning of a string on most regex flavors (in these flavors matches the opposite of )</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb465-1"><a href="#cb465-1"></a>^\w</span></code></pre></div>
<p>If your flavor does not have the shortcut, you can use</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb466-1"><a href="#cb466-1"></a>^[a-zA-Z0<span class="dv">-9</span>]+</span></code></pre></div>
<p>Be wary that this second idiom will only match letters and numbers, no symbol whatsoever.</p>
<p>Check your regex flavor manual to know what shortcuts are allowed and what exactly do they match (and how do they deal with Unicode.)</p>
</section>
<section id="answer-3-score-70" class="level4">
<h4>Answer 3 (score 70)</h4>
<p>Try this:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb467-1"><a href="#cb467-1"></a><span class="kw">/</span><span class="ch">^</span><span class="ot">stop.</span><span class="ch">*$</span><span class="kw">/</span></span></code></pre></div>
<p>Explanation:</p>
<ul>
<li>
<strong>/</strong> charachters delimit the regular expression (i.e. they are not part of the Regex per se)
</li>
<li>
<strong>^</strong> means match at the beginning of the line
</li>
<li>
<strong>.</strong> followed by <strong><em></strong> means match any character (.), any number of times (</em>)
</li>
<li>
<strong>$</strong> means to the end of the line
</li>
</ul>
<p>If you would like to enforce that stop be followed by a whitespace, you could modify the RegEx like so:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb468-1"><a href="#cb468-1"></a><span class="kw">/</span><span class="ch">^</span><span class="ot">stop</span><span class="bn">\s</span><span class="ch">+</span><span class="ot">.</span><span class="ch">*$</span><span class="kw">/</span></span></code></pre></div>
<ul>
<li>
<strong></strong> means any whitespace character
</li>
<li>
<strong>+</strong> following the <strong></strong> means there has to be at least one whitespace character following after the stop word
</li>
</ul>
<p>Note: Also keep in mind that the RegEx above requires that the stop word be followed by a space! So it wouldn’t match a line that only contains: <em>stop</em></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-only-alphabetic-characters-score-329002-in-2011" class="level3">
<h3>89: Regular Expression to match only alphabetic characters (score <a href="https://stackoverflow.com/q/6067592.html">329002</a> in 2011)</h3>
<section id="question-87" class="level4">
<h4>Question</h4>
<p>I was wondering If i could get a regular expression which will match a string that only has alpahabetic characters, and that alone</p>
</section>
<section id="answer-accepted-score-161" class="level4">
<h4>Answer accepted (score 161)</h4>
<p>You may use any of these 2 variants:</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb469-1"><a href="#cb469-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">A-Z</span><span class="ch">]+$</span><span class="kw">/i</span></span>
<span id="cb469-2"><a href="#cb469-2"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">A-Za-z</span><span class="ch">]+$</span><span class="kw">/</span></span></code></pre></div>
<p>to match an input string of ASCII alphabets.</p>
<ul>
<li>
<code>[A-Za-z]</code> will match all the alphabets (both lowercase and uppercase).
</li>
<li>
<code>^</code> and <code>$</code> will make sure that nothing but these alphabets will be matched.
</li>
</ul>
<p><strong>Code:</strong></p>
<div class="sourceCode" id="cb470"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb470-1"><a href="#cb470-1"></a>preg_match(<span class="kw">&#39;</span><span class="st">/^[A-Z]+$/i</span><span class="kw">&#39;</span>, <span class="kw">&quot;</span><span class="st">abcAbc^Xyz</span><span class="kw">&quot;</span>, <span class="dt">$m</span>);</span>
<span id="cb470-2"><a href="#cb470-2"></a>var_dump(<span class="dt">$m</span>);</span></code></pre></div>
<p><strong>Output:</strong></p>
<div class="sourceCode" id="cb471"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb471-1"><a href="#cb471-1"></a>array(<span class="dv">0</span>) {</span>
<span id="cb471-2"><a href="#cb471-2"></a>}</span></code></pre></div>
<p><strong>Test case</strong> is for OP’s comment that he wants to match <strong>only if</strong> there are 1 or more alphabets present in input. As you can see in test case that match failed because there was <code>^</code> in the input string <code>abcAbc^Xyz</code>.</p>
<p><strong>Note:</strong> Please note that above answer <em>only matches ASCII alphabets</em> and doesn’t match Unicode characters. If you want to match unicode letters then use:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb472-1"><a href="#cb472-1"></a><span class="kw">/</span><span class="ch">^</span><span class="dt">\p{L}</span><span class="ch">+$</span><span class="kw">/</span>u</span></code></pre></div>
</section>
<section id="answer-2-score-49" class="level4">
<h4>Answer 2 (score 49)</h4>
<p>If you need to include non-ASCII alphabetic characters, and if your regex flavor supports Unicode, then</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb473-1"><a href="#cb473-1"></a>\A\pL+\z</span></code></pre></div>
<p>would be the correct regex.</p>
<p>Some regex engines don’t support this Unicode syntax but allow the <code>\w</code> alphanumeric shorthand to also match non-ASCII characters. In that case, you can get all alphabetics by subtracting digits and underscores from <code>\w</code> like this:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb474-1"><a href="#cb474-1"></a>\A[^\W\d_]+\z</span></code></pre></div>
<p><code>\A</code> matches at the start of the string, <code>\z</code> at the end of the string (<code>^</code> and <code>$</code> also match at the start/end of lines in some languages like Ruby, or if certain regex options are set).</p>
</section>
<section id="answer-3-score-21-1" class="level4">
<h4>Answer 3 (score 21)</h4>
<p>This will match one or more alphabetical characters:</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb475-1"><a href="#cb475-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">a-z</span><span class="ch">]+$</span><span class="kw">/</span></span></code></pre></div>
<p>You can make it case insensitive using:</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb476-1"><a href="#cb476-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">a-z</span><span class="ch">]+$</span><span class="kw">/i</span></span></code></pre></div>
<p>or:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb477-1"><a href="#cb477-1"></a><span class="kw">/</span><span class="ch">^[</span><span class="bn">a-zA-Z</span><span class="ch">]+$</span><span class="kw">/</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-dns-hostname-or-ip-address-score-322309-in-2014" class="level3">
<h3>90: Regular expression to match DNS hostname or IP Address? (score <a href="https://stackoverflow.com/q/106179.html">322309</a> in 2014)</h3>
<section id="question-88" class="level4">
<h4>Question</h4>
<p>Does anyone have a regular expression handy that will match any legal DNS hostname or IP address?</p>
<p>It’s easy to write one that works 95% of the time, but I’m hoping to get something that’s well tested to exactly match the latest RFC specs for DNS hostnames.</p>
</section>
<section id="answer-accepted-score-518" class="level4">
<h4>Answer accepted (score 518)</h4>
<p>You can use the following regular expressions separately or by combining them in a joint OR expression.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb478-1"><a href="#cb478-1"></a>ValidIpAddressRegex = <span class="kw">&quot;</span><span class="st">^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])</span><span class="dt">$&quot;</span><span class="st">;</span></span>
<span id="cb478-2"><a href="#cb478-2"></a></span>
<span id="cb478-3"><a href="#cb478-3"></a><span class="st">ValidHostnameRegex = </span><span class="kw">&quot;</span>^(([a-zA-Z0<span class="dv">-9</span>]|[a-zA-Z0<span class="dv">-9</span>][a-zA-Z0<span class="dv">-9</span>\-]<span class="kw">*</span>[a-zA-Z0<span class="dv">-9</span>])\.)*([A-Za-z0<span class="dv">-9</span>]|[A-Za-z0<span class="dv">-9</span>][A-Za-z0<span class="dv">-9</span>\-]<span class="kw">*</span>[A-Za-z0<span class="dv">-9</span>])<span class="dt">$&quot;</span>;</span></code></pre></div>
<p><strong>ValidIpAddressRegex</strong> matches valid IP addresses and <strong>ValidHostnameRegex</strong> valid host names. Depending on the language you use  could have to be escaped with .</p>
<hr>
<p><strong>ValidHostnameRegex</strong> is valid as per <a href="http://tools.ietf.org/html/rfc1123" rel="noreferrer">RFC 1123</a>. Originally, <a href="http://tools.ietf.org/html/rfc952" rel="noreferrer">RFC 952</a> specified that hostname segments could not start with a digit.</p>
<p><a href="http://en.wikipedia.org/wiki/Hostname" rel="noreferrer">http://en.wikipedia.org/wiki/Hostname</a></p>
<blockquote>
<p>
The original specification of hostnames in <a href="http://tools.ietf.org/html/rfc952" rel="noreferrer">RFC 952</a>, mandated that labels could not start with a digit or with a hyphen, and must not end with a hyphen. However, a subsequent specification (<a href="http://tools.ietf.org/html/rfc1123" rel="noreferrer">RFC 1123</a>) permitted hostname labels to start with digits.
</p>
</blockquote>
<div class="sourceCode" id="cb479"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb479-1"><a href="#cb479-1"></a>Valid952HostnameRegex = <span class="kw">&quot;</span><span class="st">^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])</span><span class="dt">$&quot;</span><span class="st">;</span></span></code></pre></div>
</section>
<section id="answer-2-score-61" class="level4">
<h4>Answer 2 (score 61)</h4>
<p>The hostname regex of <em>smink</em> does not observe the limitation on the length of individual labels within a hostname. <strong>Each label within a valid hostname may be no more than 63 octets long.</strong></p>
<pre>ValidHostnameRegex="^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])\
(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$"</pre>
<p>Note that the backslash at the end of the first line (above) is Unix shell syntax for splitting the long line. It’s not a part of the regular expression itself.</p>
<p>Here’s just the regular expression alone on a single line:</p>
<pre>^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$</pre>
<p>You should also check separately that <strong>the total length of the hostname must not exceed 255 characters</strong>. For more information, please consult RFC-952 and RFC-1123.</p>
</section>
<section id="answer-3-score-31-1" class="level4">
<h4>Answer 3 (score 31)</h4>
<p>To match a valid <strong>IP address</strong> use the following regex:</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb480-1"><a href="#cb480-1"></a>(<span class="dv">25</span>[<span class="dv">0-5</span>]|<span class="dv">2</span>[<span class="dv">0-4</span>][<span class="dv">0-9</span>]|[<span class="bn">01</span>]?[<span class="dv">0-9</span>][<span class="dv">0-9</span>]?)(\.(<span class="dv">25</span>[<span class="dv">0-5</span>]|<span class="dv">2</span>[<span class="dv">0-4</span>][<span class="dv">0-9</span>]|[<span class="bn">01</span>]?[<span class="dv">0-9</span>][<span class="dv">0-9</span>]?)){<span class="dv">3</span>}</span></code></pre></div>
<p>instead of:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb481-1"><a href="#cb481-1"></a>([<span class="bn">01</span>]?[<span class="dv">0-9</span>][<span class="dv">0-9</span>]?|<span class="dv">2</span>[<span class="dv">0-4</span>][<span class="dv">0-9</span>]|<span class="dv">25</span>[<span class="dv">0-5</span>])(\.([<span class="bn">01</span>]?[<span class="dv">0-9</span>][<span class="dv">0-9</span>]?|<span class="dv">2</span>[<span class="dv">0-4</span>][<span class="dv">0-9</span>]|<span class="dv">25</span>[<span class="dv">0-5</span>])){<span class="dv">3</span>}</span></code></pre></div>
<h5>
Explanation
</h3>
<p>Many regex engine match the first possibility in the <code>OR</code> sequence. For instance, try the following regex:</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb482-1"><a href="#cb482-1"></a><span class="fl">10.48</span>.<span class="fl">0.200</span></span></code></pre></div>
<h5>
Test
</h3>
<p>Test the difference between <a href="http://regexr.com?37hh1" rel="noreferrer">good</a> vs <a href="http://regexr.com?37hh4" rel="noreferrer">bad</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-regex-will-match-every-character-except-comma-or-semi-colon-score-320135-in-2009" class="level3">
<h3>91: What regex will match every character except comma ‘,’ or semi-colon ‘;’? (score <a href="https://stackoverflow.com/q/1409162.html">320135</a> in 2009)</h3>
<section id="question-89" class="level4">
<h4>Question</h4>
<p>Is it possible to define a regex which will match every character except a certain defined character or set of characters?</p>
<p>Basically, I wanted to split a string by either comma (,) or semi-colon (;). So I was thinking of doing it with a regex which would match everything until it encountered a comma or a semi-colon.</p>
</section>
<section id="answer-accepted-score-418" class="level4">
<h4>Answer accepted (score 418)</h4>
<div class="sourceCode" id="cb483"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb483-1"><a href="#cb483-1"></a>[^,;]+         </span></code></pre></div>
<p>You haven’t specified the regex implementation you are using. Most of them have a <code>Split</code> method that takes delimiters and split by them. You might want to use that one with a “normal” (without <code>^</code>) character class:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb484-1"><a href="#cb484-1"></a>[,;]+</span></code></pre></div>
</section>
<section id="answer-2-score-73" class="level4">
<h4>Answer 2 (score 73)</h4>
<p>Use character classes. A character class beginning with caret will match anything not in the class.</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb485-1"><a href="#cb485-1"></a>[^,;]</span></code></pre></div>
</section>
<section id="answer-3-score-38-1" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>use a <a href="https://www.regular-expressions.info/charclass.html#negated" rel="noreferrer">negative character class</a>:</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb486-1"><a href="#cb486-1"></a>[^,;]+</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-escape-regular-expression-special-characters-using-javascript-score-319153-in-2011" class="level3">
<h3>92: How to escape regular expression special characters using javascript? (score <a href="https://stackoverflow.com/q/3115150.html">319153</a> in 2011)</h3>
<section id="question-90" class="level4">
<h4>Question</h4>
<p>I need to escape the regular expression special characters using java script.How can i achieve this?Any help should be appreciated.</p>
<hr>
<p>Thanks for your quick reply.But i need to escape all the special characters of regular expression.I have try by this code,But i can’t achieve the result.</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb487-1"><a href="#cb487-1"></a>RegExp.escape=function(str)</span>
<span id="cb487-2"><a href="#cb487-2"></a>            {</span>
<span id="cb487-3"><a href="#cb487-3"></a>                <span class="kw">if</span> (!arguments.callee.sRE) {</span>
<span id="cb487-4"><a href="#cb487-4"></a>                    var specials = [</span>
<span id="cb487-5"><a href="#cb487-5"></a>                        <span class="kw">&#39;</span><span class="st">/</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">.</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">*</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">+</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">?</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>,</span>
<span id="cb487-6"><a href="#cb487-6"></a>                        <span class="kw">&#39;</span><span class="st">(</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">[</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">]</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">{</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">}</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="ch">\\</span><span class="kw">&#39;</span></span>
<span id="cb487-7"><a href="#cb487-7"></a>                    ];</span>
<span id="cb487-8"><a href="#cb487-8"></a>                    arguments.callee.sRE = new RegExp(</span>
<span id="cb487-9"><a href="#cb487-9"></a>                    <span class="kw">&#39;</span><span class="st">(</span><span class="ch">\\</span><span class="kw">&#39;</span> + specials.<span class="fu">join</span>(<span class="kw">&#39;</span><span class="st">|</span><span class="ch">\\</span><span class="kw">&#39;</span>) + <span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">gim</span><span class="kw">&#39;</span></span>
<span id="cb487-10"><a href="#cb487-10"></a>                );</span>
<span id="cb487-11"><a href="#cb487-11"></a>                }</span>
<span id="cb487-12"><a href="#cb487-12"></a>                <span class="kw">return</span> str.replace(arguments.callee.sRE, <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">$1</span><span class="kw">&#39;</span>);</span>
<span id="cb487-13"><a href="#cb487-13"></a></span>
<span id="cb487-14"><a href="#cb487-14"></a>            }</span>
<span id="cb487-15"><a href="#cb487-15"></a></span>
<span id="cb487-16"><a href="#cb487-16"></a>function regExpFind() {</span>
<span id="cb487-17"><a href="#cb487-17"></a>            &lt;<span class="dt">%-</span>-var regex = new RegExp(<span class="kw">&quot;</span><span class="st">\\[munees\\]</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="st">gim</span><span class="kw">&quot;</span>);--%&gt;</span>
<span id="cb487-18"><a href="#cb487-18"></a>                    var regex= new RegExp(RegExp.escape(<span class="kw">&quot;</span><span class="st">[Munees]waran</span><span class="kw">&quot;</span>));</span>
<span id="cb487-19"><a href="#cb487-19"></a>                    &lt;<span class="dt">%-</span>-var regex=RegExp.escape<span class="kw">`</span><span class="st">enter code here</span><span class="kw">`</span>(<span class="kw">&quot;</span><span class="st">[Munees]waran</span><span class="kw">&quot;</span>);--%&gt;</span>
<span id="cb487-20"><a href="#cb487-20"></a>                    alert(<span class="kw">&quot;</span><span class="st">Reg : </span><span class="kw">&quot;</span>+regex);</span>
<span id="cb487-21"><a href="#cb487-21"></a>                }</span></code></pre></div>
<p>What i am wrong with this code?Please guide me.</p>
</section>
<section id="answer-2-score-380" class="level4">
<h4>Answer 2 (score 380)</h4>
<p>Use the <code>\</code> character to escape a character that has special meaning inside a regular expression.</p>
<p>To automate it, you could use this:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb488-1"><a href="#cb488-1"></a>function escapeRegExp(text) {</span>
<span id="cb488-2"><a href="#cb488-2"></a>  <span class="kw">return</span> text.replace(<span class="kw">/</span><span class="ch">[</span><span class="bn">-[\]{}()*+?.,\\</span><span class="ch">^</span><span class="bn">$|#\s</span><span class="ch">]</span><span class="kw">/g</span>, <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">$&amp;</span><span class="kw">&#39;</span>);</span>
<span id="cb488-3"><a href="#cb488-3"></a>}</span></code></pre></div>
<p><strong>Update:</strong> There is now a proposal to standardize this method, possibly in ES2016: <a href="https://github.com/benjamingr/RegExp.escape" rel="noreferrer">https://github.com/benjamingr/RegExp.escape</a></p>
<p><strong>Update</strong>: The abovementioned proposal was rejected, so keep implementing this yourself if you need it.</p>
</section>
<section id="answer-3-score-14-4" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>Use the backslash to escape a character. For example:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb489-1"><a href="#cb489-1"></a><span class="kw">/</span><span class="ot">\\d</span><span class="kw">/</span></span></code></pre></div>
<p>This will match  of a numeric character</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-get-a-string-between-two-strings-in-javascript-score-316875-in-2019" class="level3">
<h3>93: Regular expression to get a string between two strings in Javascript (score <a href="https://stackoverflow.com/q/5642315.html">316875</a> in 2019)</h3>
<section id="question-91" class="level4">
<h4>Question</h4>
<p>I have found very similar posts, but I can’t quite get my regular expression right here.</p>
<p>I am trying to write a regular expression which returns a string which is between two other strings. For example: I want to get the string which resides between the strings “cow” and “milk”.</p>
<blockquote>
My cow always gives milk
</blockquote>
<p>would return</p>
<blockquote>
“always gives”
</blockquote>
<p>Here is the expression I have pieced together so far:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb490-1"><a href="#cb490-1"></a>(?=cow).*(?=milk)</span></code></pre></div>
<p>However, this returns the string “cow always gives”.</p>
</section>
<section id="answer-accepted-score-156" class="level4">
<h4>Answer accepted (score 156)</h4>
<p>A lookahead (that <code>(?=</code> part) does not consume any input. It is a <em>zero-width assertion</em> (as are boundary checks and lookbehinds).</p>
<p>You want a regular match here, to consume the <code>cow</code> portion. To capture the portion in between, you use a capturing group (just put the portion of pattern you want to capture inside parenthesis):</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb491-1"><a href="#cb491-1"></a>cow(.<span class="kw">*</span>)milk</span></code></pre></div>
<p>No lookaheads are needed at all.</p>
</section>
<section id="answer-2-score-57" class="level4">
<h4>Answer 2 (score 57)</h4>
<blockquote>
Regular expression to get a string between two strings in JavaScript
</blockquote>
<p>The most complete solution that will work in the vast majority of cases is using a <strong>capturing group</strong> with a <strong>lazy dot matching pattern</strong>. However, a dot <code>.</code> in JavaScript regex does not match line break characters, so, what will work in 100% cases is a <code>[^]</code> or <code>[\s\S]</code>/<code>[\d\D]</code>/<code>[\w\W]</code> constructs.</p>
<h5>
ECMAScript 2018 and newer compatible solution
</h2>
<p>In JavaScript environments supporting <em>ECMAScript 2018</em>, <code>s</code> modifier allows <code>.</code> to match any char including line break chars, and the regex engine supports lookbehinds of variable length. So, you may use a regex like</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb492-1"><a href="#cb492-1"></a>var result = <span class="kw">s.</span><span class="ot">match</span><span class="ch">(</span><span class="ot">/</span><span class="ch">(?&lt;=</span><span class="ot">cow</span><span class="bn">\s</span><span class="ch">+)</span><span class="kw">.</span><span class="st">*?(?=</span><span class="ch">\s</span><span class="st">+milk)/gs); // Returns multiple matches if any</span></span>
<span id="cb492-2"><a href="#cb492-2"></a><span class="st">// Or</span></span>
<span id="cb492-3"><a href="#cb492-3"></a><span class="st">var result = s</span><span class="kw">.m</span>atch(<span class="kw">/</span><span class="ch">(?&lt;=</span><span class="ot">cow</span><span class="bn">\s</span><span class="ch">*)</span><span class="ot">.</span><span class="ch">*?(?=</span><span class="bn">\s</span><span class="ch">*</span><span class="ot">milk</span><span class="ch">)</span><span class="kw">/gs</span>); // Same but whitespaces are optional</span></code></pre></div>
<p>In both cases, the current position is checked for <code>cow</code> with any 1/0 or more whitespaces after <code>cow</code>, then any 0+ chars as few as possible are matched and consumed (=added to the match value), and then <code>milk</code> is checked for (with any 1/0 or more whitespaces before this substring).</p>
<h5>
Scenario 1: Single-line input
</h2>
<p><strong><em>This and all other scenarios below are supported by all JavaScript environments. See usage examples at the bottom of the answer.</em></strong></p>
<div class="sourceCode" id="cb493"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb493-1"><a href="#cb493-1"></a>cow (.<span class="dt">*?</span>) milk</span></code></pre></div>
<p><code>cow</code> is found first, then a space, then any 0+ chars other than line break chars, as few as possible as <code>*?</code> is a lazy quantifier, are captured into Group 1 and then a space with <code>milk</code> must follow (and those are matched and <em>consumed</em>, too).</p>
<h5>
Scenario 2: Multiline input
</h2>
<div class="sourceCode" id="cb494"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb494-1"><a href="#cb494-1"></a>cow ([\<span class="kw">s\</span><span class="ot">S]</span><span class="ch">*?)</span><span class="ot"> milk</span></span></code></pre></div>
<p>Here, <code>cow</code> and a space are matched first, then any 0+ chars as few as possible are matched and captured into Group 1, and then a space with <code>milk</code> are matched.</p>
<h5>
Scenario 3: Overlapping matches
</h2>
<p>If you have a string like <code>&amp;gt;&amp;gt;&amp;gt;15 text&amp;gt;&amp;gt;&amp;gt;67 text2&amp;gt;&amp;gt;&amp;gt;</code> and you need to get 2 matches in-between <code>&amp;gt;&amp;gt;&amp;gt;</code>+<code>number</code>+<code>whitespace</code> and <code>&amp;gt;&amp;gt;&amp;gt;</code>, you can’t use <a href="https://regex101.com/r/Vtw7W1/2" rel="nofollow noreferrer"><code>/&amp;gt;&amp;gt;&amp;gt;\d+\s(.*?)&amp;gt;&amp;gt;&amp;gt;/g</code></a> as this will only find 1 match due to the fact the <code>&amp;gt;&amp;gt;&amp;gt;</code> before <code>67</code> is already <em>consumed</em> upon finding the first match. You may use a <a href="http://www.regular-expressions.info/lookaround.html" rel="nofollow noreferrer"><strong>positive lookahead</strong></a> to check for the text presence without actually “gobbling” it (i.e. appending to the match):</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb495-1"><a href="#cb495-1"></a><span class="kw">/</span><span class="ot">&gt;&gt;&gt;</span><span class="bn">\d</span><span class="ch">+</span><span class="bn">\s</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)(?=&gt;&gt;&gt;)</span><span class="kw">/g</span></span></code></pre></div>
<p>See the <a href="https://regex101.com/r/Vtw7W1/3" rel="nofollow noreferrer">online regex demo</a> yielding <code>text1</code> and <code>text2</code> as Group 1 contents found.</p>
<p>Also see <a href="https://stackoverflow.com/questions/18029487/how-to-get-all-possible-overlapping-matches-for-a-string"><em>How to get all possible overlapping matches for a string</em></a>.</p>
<h5>
Performance considerations
</h2>
<p>Lazy dot matching pattern (<code>.*?</code>) inside regex patterns may slow down script execution if very long input is given. In many cases, <a href="http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop" rel="nofollow noreferrer"><em>unroll-the-loop technique</em></a> helps to a greater extent. Trying to grab all between <code>cow</code> and <code>milk</code> from <code>"Their\ncow\ngives\nmore\nmilk"</code>, we see that we just need to match all lines that do not start with <code>milk</code>, thus, instead of <a href="https://regex101.com/r/e1W8DA/1" rel="nofollow noreferrer"><code>cow\n([\s\S]*?)\nmilk</code></a> we can use:</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb496-1"><a href="#cb496-1"></a><span class="kw">/</span><span class="ot">cow</span><span class="bn">\n</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*(?:</span><span class="bn">\n</span><span class="ch">(?!</span><span class="ot">milk</span><span class="ch">$)</span><span class="ot">.</span><span class="ch">*)*)</span><span class="bn">\n</span><span class="ot">milk</span><span class="kw">/gm</span></span></code></pre></div>
<p>See the <a href="https://regex101.com/r/4xWB0S/2" rel="nofollow noreferrer">regex demo</a> (if there can be <code>\r\n</code>, use <code>/cow\r?\n(.*(?:\r?\n(?!milk$).*)*)\r?\nmilk/gm</code>). With this small test string, the performance gain is negligible, but with very large text, you will feel the difference (especially if the lines are long and line breaks are not very numerous).</p>
<blockquote>
<h5>
Sample regex usage in JavaScript:
</h3>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb497"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb497-1"><a href="#cb497-1"></a>//Single/First match expected: <span class="fu">use</span> <span class="fu">no</span> global modifier <span class="kw">and</span> access match[<span class="dv">1</span>]</span>
<span id="cb497-2"><a href="#cb497-2"></a>console.<span class="fu">log</span>(<span class="kw">&quot;</span><span class="st">My cow always gives milk</span><span class="kw">&quot;</span>.match(<span class="kw">/</span><span class="ot">cow </span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot"> milk</span><span class="kw">/</span>)[<span class="dv">1</span>]);</span>
<span id="cb497-3"><a href="#cb497-3"></a>// Multiple matches: get multiple matches with a global modifier <span class="kw">and</span></span>
<span id="cb497-4"><a href="#cb497-4"></a>// trim the results <span class="kw">if</span> <span class="fu">length</span> of leading/trailing delimiters is known</span>
<span id="cb497-5"><a href="#cb497-5"></a>var <span class="kw">s</span> <span class="kw">=</span><span class="ot"> &quot;My cow always gives milk, thier cow also gives milk&quot;;</span></span>
<span id="cb497-6"><a href="#cb497-6"></a><span class="ot">console.log</span><span class="ch">(</span><span class="ot">s.match</span><span class="ch">(</span><span class="ot">/cow </span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot"> milk/g</span><span class="ch">)</span><span class="ot">.map</span><span class="ch">(</span><span class="ot">function</span><span class="ch">(</span><span class="ot">x</span><span class="ch">)</span><span class="ot"> {return x.substr</span><span class="ch">(</span><span class="ot">4,x.length-9</span><span class="ch">)</span><span class="ot">;}</span><span class="ch">))</span><span class="ot">;</span></span>
<span id="cb497-7"><a href="#cb497-7"></a><span class="ot">//or use RegExp#exec inside a loop to collect all the Group 1 contents</span></span>
<span id="cb497-8"><a href="#cb497-8"></a><span class="ot">var result </span><span class="kw">=</span><span class="st"> [], m, rx </span><span class="kw">=</span> <span class="kw">/</span><span class="ot">cow </span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot"> milk</span><span class="kw">/g</span>;</span>
<span id="cb497-9"><a href="#cb497-9"></a><span class="kw">while</span> ((m=rx.<span class="fu">exec</span>(s)) !== null) {</span>
<span id="cb497-10"><a href="#cb497-10"></a>  result.<span class="fu">push</span>(<span class="kw">m[</span><span class="ot">1</span><span class="kw">]</span>);</span>
<span id="cb497-11"><a href="#cb497-11"></a>}</span>
<span id="cb497-12"><a href="#cb497-12"></a>console.<span class="fu">log</span>(result);</span></code></pre></div>
</div>
</div>
</blockquote>
</section>
<section id="answer-3-score-50" class="level4">
<h4>Answer 3 (score 50)</h4>
<p>Here’s a regex which will grab what’s between cow and milk (without leading/trailing space):</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb498-1"><a href="#cb498-1"></a>srctext = <span class="kw">&quot;</span><span class="st">My cow always gives milk.</span><span class="kw">&quot;</span>;</span>
<span id="cb498-2"><a href="#cb498-2"></a>var re = <span class="kw">/</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*</span><span class="ot">cow</span><span class="bn">\s</span><span class="ch">+)(</span><span class="ot">.</span><span class="ch">*)(</span><span class="bn">\s</span><span class="ch">+</span><span class="ot">milk.</span><span class="ch">*)</span><span class="kw">/</span>;</span>
<span id="cb498-3"><a href="#cb498-3"></a>var newtext = srctext.replace(re, <span class="kw">&quot;</span><span class="dt">$2</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>An example: <a href="http://jsfiddle.net/entropo/tkP74/" rel="noreferrer">http://jsfiddle.net/entropo/tkP74/</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="use-string.split-with-multiple-delimiters-score-313325-in-2017" class="level3">
<h3>94: Use String.split() with multiple delimiters (score <a href="https://stackoverflow.com/q/5993779.html">313325</a> in 2017)</h3>
<section id="question-92" class="level4">
<h4>Question</h4>
<p>I need to split a string base on delimiter <code>-</code> and <code>.</code>. Below are my desired output.</p>
<p><code>AA.BB-CC-DD.zip</code> -&gt;</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb499-1"><a href="#cb499-1"></a>AA</span>
<span id="cb499-2"><a href="#cb499-2"></a>BB</span>
<span id="cb499-3"><a href="#cb499-3"></a>CC</span>
<span id="cb499-4"><a href="#cb499-4"></a>DD</span>
<span id="cb499-5"><a href="#cb499-5"></a>zip </span></code></pre></div>
<p>but my following code does not work.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb500-1"><a href="#cb500-1"></a>private void getId(String pdfName){</span>
<span id="cb500-2"><a href="#cb500-2"></a>    String[]tokens = pdfName.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">-\\.</span><span class="kw">&quot;</span>);</span>
<span id="cb500-3"><a href="#cb500-3"></a>}</span></code></pre></div>
</section>
<section id="answer-accepted-score-296" class="level4">
<h4>Answer accepted (score 296)</h4>
<p>I think you need to include the regex <strong>OR operator</strong>:</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb501-1"><a href="#cb501-1"></a>String[]tokens = pdfName.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">-|\\.</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>
What you have will match:<br> [DASH followed by DOT together] <code>-.</code><br> not<br> [DASH or DOT any of them] <code>-</code> or <code>.</code>
</p>
</section>
<section id="answer-2-score-48-1" class="level4">
<h4>Answer 2 (score 48)</h4>
<p>Try this regex <code>"[-.]+"</code>. The + after treats consecutive delimiter chars as one. Remove plus if you do not want this.</p>
</section>
<section id="answer-3-score-25-1" class="level4">
<h4>Answer 3 (score 25)</h4>
<p>You can use the regex “”.This matches any non-word character.The required line would be:</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb502-1"><a href="#cb502-1"></a>String[] tokens=pdfName.<span class="fu">split</span>(<span class="kw">&quot;</span><span class="st">\\W</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-match-balanced-parentheses-score-312134-in-2019" class="level3">
<h3>95: Regular expression to match balanced parentheses (score <a href="https://stackoverflow.com/q/546433.html">312134</a> in 2019)</h3>
<section id="question-93" class="level4">
<h4>Question</h4>
<p>I need a regular expression to select all the text between two outer brackets.</p>
<p>Example: <code>some text(text here(possible text)text(possible text(more text)))end text</code></p>
<p>Result: <code>(text here(possible text)text(possible text(more text)))</code></p>
</section>
<section id="answer-accepted-score-126" class="level4">
<h4>Answer accepted (score 126)</h4>
<p>Regular expressions are the wrong tool for the job because you are dealing with nested structures, i.e. recursion.</p>
<p>But there is a simple algorithm to do this, which I described <a href="https://stackoverflow.com/questions/524548/regular-expression-to-detect-semi-colon-terminated-c-for-while-loops/524624#524624">in this answer</a> to a <a href="https://stackoverflow.com/questions/524548/regular-expression-to-detect-semi-colon-terminated-c-for-while-loops">previous question</a>.</p>
</section>
<section id="answer-2-score-108" class="level4">
<h4>Answer 2 (score 108)</h4>
<p>You can use <a href="http://www.regular-expressions.info/recurse.html#balanced" rel="noreferrer">regex recursion</a>:</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb503-1"><a href="#cb503-1"></a>\(([^()]|(?R))<span class="dt">*\</span>)</span></code></pre></div>
</section>
<section id="answer-3-score-101" class="level4">
<h4>Answer 3 (score 101)</h4>
<p>I want to add this answer for quickreference. Feel free to update.</p>
<hr>
<p><strong>.NET Regex</strong> using <a href="http://www.regular-expressions.info/balancing.html" rel="noreferrer">balancing groups</a>.</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb504-1"><a href="#cb504-1"></a>\((?&gt;\((?&lt;c&gt;)|[^()]+|\)(?&lt;<span class="kw">-c</span>&gt;))*(?(c)(?!))\)</span></code></pre></div>
<p>Where <code>c</code> is used as the depth counter.</p>
<p><a href="http://regexstorm.net/tester?p=%5C((%3F%3E%5C((%3F%3Cc%3E)%7C%5B%5E()%5D%2B%7C%5C)(%3F%3C-c%3E))*(%3F(c)(%3F!))%5C)&amp;i=some%20text(text%20here(possible%20text)text(possible%20text(more%20text)))end%20text" rel="noreferrer">Demo at Regexstorm.com</a></p>
<ul>
<li>
<a href="https://stackoverflow.com/questions/7898310/using-regex-to-balance-match-parenthesis"><strong>Stack Overflow</strong>: Using RegEx to balance match parenthesis</a>
</li>
<li>
<a href="http://weblogs.asp.net/whaggard/377025" rel="noreferrer"><strong>Wes’ Puzzling Blog</strong>: Matching Balanced Constructs with .NET Regular Expressions</a>
</li>
<li>
<a href="http://www.rassoc.com/gregr/weblog/2003/05/15/nested-constructs-in-regular-expressions/" rel="noreferrer"><strong>Greg Reinacker’s Weblog</strong>: Nested Constructs in Regular Expressions</a>
</li>
</ul>
<hr>
<p><strong>PCRE</strong> using a <a href="http://php.net/manual/en/regexp.reference.recursive.php" rel="noreferrer">recursive pattern</a>.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb505-1"><a href="#cb505-1"></a>\((?:[^)(]+|(?R))<span class="dt">*+</span>\)</span></code></pre></div>
<p><a href="https://regex101.com/r/eBtSTM/1" rel="noreferrer">Demo at regex101</a>; Or without alternation:</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb506-1"><a href="#cb506-1"></a>\((?:[^)(]*(?R)?)<span class="dt">*+</span>\)</span></code></pre></div>
<p><a href="https://regex101.com/r/eBtSTM/2" rel="noreferrer">Demo at regex101</a>; Or <a href="http://www.softec.lu/site/RegularExpressions/UnrollingTheLoop" rel="noreferrer">unrolled</a> for performance:</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb507-1"><a href="#cb507-1"></a>\([^)(]<span class="dt">*+</span>(?:(?R)[^)(]<span class="kw">*</span>)<span class="dt">*+</span>\)</span></code></pre></div>
<p><a href="https://regex101.com/r/eBtSTM/3" rel="noreferrer">Demo at regex101</a>; The pattern is pasted at <code>(?R)</code> which represents <code>(?0)</code>.</p>
<p><em>Perl, PHP, Notepad++,</em> <em>R</em>: <a href="http://www.regular-expressions.info/rlanguage.html" rel="noreferrer">perl=TRUE</a>, <em>Python</em>: <a href="https://pypi.python.org/pypi/regex" rel="noreferrer">Regex package</a> with <code>(?V1)</code> for Perl behaviour.</p>
<hr>
<p><strong>Ruby</strong> using <a href="http://ruby-doc.org/core-2.0.0/Regexp.html#class-Regexp-label-Subexpression+Calls" rel="noreferrer">subexpression calls</a>.</p>
<p>With Ruby 2.0 <code>\g&amp;lt;0&amp;gt;</code> can be used to call full pattern.</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb508-1"><a href="#cb508-1"></a>\((?&gt;[^)(]+|\g<span class="kw">&lt;0&gt;</span>)<span class="dt">*\</span>)</span></code></pre></div>
<p><a href="http://rubular.com/r/RUDsEv7SBZ" rel="noreferrer">Demo at Rubular</a>; Ruby 1.9 only supports <a href="http://www.regular-expressions.info/subroutine.html" rel="noreferrer">capturing group recursion</a>:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb509-1"><a href="#cb509-1"></a>(\((?&gt;[^)(]+|\g<span class="kw">&lt;1&gt;</span>)<span class="dt">*\</span>))</span></code></pre></div>
<p><a href="http://rubular.com/r/vuyejEfjih" rel="noreferrer">Demo at Rubular</a>  (<a href="http://ruby-doc.org/core-1.9.3/Regexp.html#class-Regexp-label-Atomic+Grouping" rel="noreferrer">atomic grouping</a> since Ruby 1.9.3)</p>
<hr>
<p><strong>JavaScript</strong>  <a href="http://xregexp.com/api/#matchRecursive" rel="noreferrer">API :: XRegExp.matchRecursive</a></p>
<div class="sourceCode" id="cb510"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb510-1"><a href="#cb510-1"></a>XRegExp.matchRecursive(str, <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">(</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="ch">\\</span><span class="st">)</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">g</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>JS, Java and other regex flavors without recursion up to 2 levels of nesting:</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb511-1"><a href="#cb511-1"></a>\((?:[^)(]+|\((?:[^)(]+|\([^)(]<span class="dt">*\</span>))<span class="dt">*\</span>))<span class="dt">*\</span>)</span></code></pre></div>
<p>
<a href="https://regex101.com/r/eE6mX3/1" rel="noreferrer">Demo at regex101</a>. Deeper <a href="https://stackoverflow.com/a/17759264">nesting needs to be added</a> to pattern.<br> To fail faster on unbalanced parenthesis <a href="https://regex101.com/r/cU7uG9/1" rel="noreferrer">drop the <code>+</code> quantifier.</a>
</p>
<hr>
<p><strong>Java</strong>: An interesting <a href="https://stackoverflow.com/a/47162099/5527985">idea using forward references by <span class="citation" data-cites="jaytea">@jaytea</span></a>.</p>
<hr>
<p><sub><a href="https://stackoverflow.com/a/22944075/5527985">Reference - What does this regex mean?</a></sub><br></p>
<ul>
<li>
<a href="http://www.rexegg.com/regex-recursion.html" rel="noreferrer"><strong>rexegg.com</strong> - Recursive Regular Expressions</a>
</li>
<li>
<a href="http://www.regular-expressions.info/recurse.html" rel="noreferrer"><strong>Regular-Expressions.info</strong> - Regular Expression Recursion</a>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-grabbing-values-between-quotation-marks-score-309597-in-2014" class="level3">
<h3>96: RegEx: Grabbing values between quotation marks (score <a href="https://stackoverflow.com/q/171480.html">309597</a> in 2014)</h3>
<section id="question-94" class="level4">
<h4>Question</h4>
<p>I have a value like this:</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb512-1"><a href="#cb512-1"></a><span class="kw">&quot;</span><span class="st">Foo Bar</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">Another Value</span><span class="kw">&quot;</span> something <span class="kw">else</span></span></code></pre></div>
<p>What regex will return the values enclosed in the quotation marks (e.g. <code>Foo Bar</code> and <code>Another Value</code>)?</p>
</section>
<section id="answer-accepted-score-315" class="level4">
<h4>Answer accepted (score 315)</h4>
<p>I’ve been using the following with great success:</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb513-1"><a href="#cb513-1"></a>([<span class="kw">&quot;</span><span class="st">&#39;])(?:(?=(\\?))\2.)*?</span><span class="ch">\1</span></span></code></pre></div>
<p>It supports nested quotes as well.</p>
<p>For those who want a deeper explanation of how this works, here’s an explanation from user <a href="https://stackoverflow.com/users/20713/ephemient">ephemient</a>:</p>
<blockquote>
<code>([""'])</code> match a quote; <code>((?=(\\?))\2.)</code> if backslash exists, gobble it, and whether or not that happens, match a character; <code>*?</code> match many times (non-greedily, as to not eat the closing quote); <code>\1</code> match the same quote that was use for opening.
</blockquote>
</section>
<section id="answer-2-score-291" class="level4">
<h4>Answer 2 (score 291)</h4>
<p>In general, the following regular expression fragment is what you are looking for:</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb514-1"><a href="#cb514-1"></a><span class="kw">&quot;</span><span class="st">(.*?)</span><span class="kw">&quot;</span></span></code></pre></div>
<p>This uses the non-greedy *? operator to capture everything up to but not including the next double quote. Then, you use a language-specific mechanism to extract the matched text.</p>
<p>In Python, you could do:</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb515-1"><a href="#cb515-1"></a>&gt;&gt;&gt; <span class="fu">import</span> re</span>
<span id="cb515-2"><a href="#cb515-2"></a>&gt;&gt;&gt; string = <span class="kw">&#39;</span><span class="st">&quot;Foo Bar&quot; &quot;Another Value&quot;</span><span class="kw">&#39;</span></span>
<span id="cb515-3"><a href="#cb515-3"></a>&gt;&gt;&gt; <span class="fu">print</span> re.findall(r<span class="kw">&#39;</span><span class="st">&quot;(.*?)&quot;</span><span class="kw">&#39;</span>, string)</span>
<span id="cb515-4"><a href="#cb515-4"></a>[<span class="kw">&#39;</span><span class="st">Foo Bar</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">Another Value</span><span class="kw">&#39;</span>]</span></code></pre></div>
</section>
<section id="answer-3-score-80" class="level4">
<h4>Answer 3 (score 80)</h4>
<p>I would go for:</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb516-1"><a href="#cb516-1"></a><span class="kw">&quot;</span><span class="st">([^</span><span class="kw">&quot;</span>]<span class="kw">*</span>)<span class="kw">&quot;</span></span></code></pre></div>
<p>
The <b>[^"]</b> is regex for any character except ‘<b>"</b>’<br> The reason I use this over the non greedy many operator is that I have to keep looking that up just to make sure I get it correct.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-extract-text-that-lies-between-parentheses-round-brackets-score-307895-in-2015" class="level3">
<h3>97: How do I extract text that lies between parentheses (round brackets)? (score <a href="https://stackoverflow.com/q/378415.html">307895</a> in 2015)</h3>
<section id="question-95" class="level4">
<h4>Question</h4>
<p>I have a string <code>User name (sales)</code> and I want to extract the text between the brackets, how would I do this?</p>
<p>I suspect sub-string but I can’t work out how to read until the closing bracket, the length of text will vary.</p>
</section>
<section id="answer-2-score-419" class="level4">
<h4>Answer 2 (score 419)</h4>
<p>A very simple way to do it is by using regular expressions:</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb517-1"><a href="#cb517-1"></a>Regex.Match(<span class="kw">&quot;</span><span class="st">User name (sales)</span><span class="kw">&quot;</span>, <span class="dt">@</span><span class="kw">&quot;</span><span class="st">\(([^)]*)\)</span><span class="kw">&quot;</span>).Groups[<span class="dv">1</span>].Value</span></code></pre></div>
<hr>
<p>As a response to the (very funny) comment, here’s the same Regex with some explanation:</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb518-1"><a href="#cb518-1"></a>\(             <span class="co"># Escaped parenthesis, means &quot;starts with a &#39;(&#39; character&quot;</span></span>
<span id="cb518-2"><a href="#cb518-2"></a>    (          <span class="co"># Parentheses in a regex mean &quot;put (capture) the stuff </span></span>
<span id="cb518-3"><a href="#cb518-3"></a>               <span class="co">#     in between into the Groups array&quot; </span></span>
<span id="cb518-4"><a href="#cb518-4"></a>       [^)]    <span class="co"># Any character that is not a &#39;)&#39; character</span></span>
<span id="cb518-5"><a href="#cb518-5"></a>       <span class="kw">*</span>       <span class="co"># Zero or more occurrences of the aforementioned &quot;non &#39;)&#39; char&quot;</span></span>
<span id="cb518-6"><a href="#cb518-6"></a>    )          <span class="co"># Close the capturing group</span></span>
<span id="cb518-7"><a href="#cb518-7"></a>\)             <span class="co"># &quot;Ends with a &#39;)&#39; character&quot;</span></span></code></pre></div>
</section>
<section id="answer-3-score-415" class="level4">
<h4>Answer 3 (score 415)</h4>
<p>If you wish to stay away from regular expressions, the simplest way I can think of is:</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb519-1"><a href="#cb519-1"></a>string input = <span class="kw">&quot;</span><span class="st">User name (sales)</span><span class="kw">&quot;</span>;</span>
<span id="cb519-2"><a href="#cb519-2"></a>string output = input.Split(<span class="kw">&#39;</span><span class="st">(</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span>)[<span class="dv">1</span>];</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="jquery-validate-how-to-add-a-rule-for-regular-expression-validation-score-305989-in-2017" class="level3">
<h3>98: jQuery validate: How to add a rule for regular expression validation? (score <a href="https://stackoverflow.com/q/280759.html">305989</a> in 2017)</h3>
<section id="question-96" class="level4">
<h4>Question</h4>
<p>I am using the <strong><a href="http://en.wikipedia.org/wiki/JQuery" rel="noreferrer">jQuery</a> validation plugin</strong>. Great stuff! I want to migrate my existing ASP.NET solution to use jQuery instead of the ASP.NET validators. I am missing a replacement for the <strong>regular expression</strong> validator. I want to be able to do something like this:</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb520-1"><a href="#cb520-1"></a><span class="dt">$(</span><span class="kw">&quot;</span><span class="st">Textbox</span><span class="kw">&quot;</span>).rules(<span class="kw">&quot;</span><span class="st">add</span><span class="kw">&quot;</span>, { regularExpression: <span class="kw">&quot;</span><span class="st">^[a-zA-Z&#39;.</span><span class="ch">\s</span><span class="st">]{1,40}</span><span class="dt">$&quot;</span><span class="st"> })</span></span></code></pre></div>
<p>How do I <strong>add a custom rule</strong> to achieve this?</p>
</section>
<section id="answer-accepted-score-317" class="level4">
<h4>Answer accepted (score 317)</h4>
<p>Thanks to the answer of redsquare I added a method like this:</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb521-1"><a href="#cb521-1"></a><span class="dt">$.validator</span>.addMethod(</span>
<span id="cb521-2"><a href="#cb521-2"></a>        <span class="kw">&quot;</span><span class="st">regex</span><span class="kw">&quot;</span>,</span>
<span id="cb521-3"><a href="#cb521-3"></a>        function(value, element, regexp) {</span>
<span id="cb521-4"><a href="#cb521-4"></a>            var re = new RegExp(regexp);</span>
<span id="cb521-5"><a href="#cb521-5"></a>            <span class="kw">return</span> this.optional(element) || re.test(value);</span>
<span id="cb521-6"><a href="#cb521-6"></a>        },</span>
<span id="cb521-7"><a href="#cb521-7"></a>        <span class="kw">&quot;</span><span class="st">Please check your input.</span><span class="kw">&quot;</span></span>
<span id="cb521-8"><a href="#cb521-8"></a>);</span></code></pre></div>
<p>now all you need to do to validate against any regex is this:</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb522-1"><a href="#cb522-1"></a><span class="dt">$(</span><span class="kw">&quot;</span><span class="st">#Textbox</span><span class="kw">&quot;</span>).rules(<span class="kw">&quot;</span><span class="st">add</span><span class="kw">&quot;</span>, { regex: <span class="kw">&quot;</span><span class="st">^[a-zA-Z&#39;.\\s]{1,40}</span><span class="dt">$&quot;</span><span class="st"> })</span></span></code></pre></div>
<p>Additionally, it looks like there is a file called additional-methods.js that contains the method “pattern”, which can be a RegExp when created using the method without quotes.</p>
<p><a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/" rel="noreferrer">http://bassistance.de/jquery-plugins/jquery-plugin-validation/</a></p>
<p><a href="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/additional-methods.js" rel="noreferrer">http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/additional-methods.js</a></p>
</section>
<section id="answer-2-score-78" class="level4">
<h4>Answer 2 (score 78)</h4>
<p>You can use the addMethod()</p>
<p>e.g</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb523-1"><a href="#cb523-1"></a><span class="dt">$.validator</span>.addMethod(<span class="kw">&#39;</span><span class="st">postalCode</span><span class="kw">&#39;</span>, function (value) { </span>
<span id="cb523-2"><a href="#cb523-2"></a>    <span class="kw">return</span> <span class="kw">/</span><span class="ch">^((</span><span class="bn">\d</span><span class="ch">{5}</span><span class="ot">-</span><span class="bn">\d</span><span class="ch">{4})|(</span><span class="bn">\d</span><span class="ch">{5})|([</span><span class="bn">A-Z</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">[</span><span class="bn">A-Z</span><span class="ch">]</span><span class="bn">\s\d</span><span class="ch">[</span><span class="bn">A-Z</span><span class="ch">]</span><span class="bn">\d</span><span class="ch">))$</span><span class="kw">/</span>.test(value); </span>
<span id="cb523-3"><a href="#cb523-3"></a>}, <span class="kw">&#39;</span><span class="st">Please enter a valid US or Canadian postal code.</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>good article here <a href="https://web.archive.org/web/20130609222116/http://www.randallmorey.com/blog/2008/mar/16/extending-jquery-form-validation-plugin/" rel="noreferrer">https://web.archive.org/web/20130609222116/http://www.randallmorey.com/blog/2008/mar/16/extending-jquery-form-validation-plugin/</a></p>
</section>
<section id="answer-3-score-43-3" class="level4">
<h4>Answer 3 (score 43)</h4>
<p>I had some trouble putting together all the pieces for doing a jQuery regular expression validator, but I got it to work… Here is a complete working example. It uses the ‘Validation’ plugin which can be found in <em><a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/" rel="noreferrer">jQuery Validation Plugin</a></em></p>
<div class="sourceCode" id="cb524"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb524-1"><a href="#cb524-1"></a>&lt;!DOCTYPE html PUBLIC <span class="kw">&quot;</span><span class="st">-//W3C//DTD XHTML 1.0 Strict//EN</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb524-2"><a href="#cb524-2"></a>&lt;html xmlns=<span class="kw">&quot;</span><span class="st">http://www.w3.org/1999/xhtml</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb524-3"><a href="#cb524-3"></a>&lt;head&gt;</span>
<span id="cb524-4"><a href="#cb524-4"></a>    &lt;meta http-equiv=<span class="kw">&quot;</span><span class="st">Content-Type</span><span class="kw">&quot;</span> content=<span class="kw">&quot;</span><span class="st">text/html; charset=UTF-8</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb524-5"><a href="#cb524-5"></a><span class="ot">    &lt;script src=&quot;http:</span><span class="kw">//</span><span class="ot">YOURJQUERYPATH</span><span class="kw">/</span>js/jquery.js<span class="kw">&quot;</span><span class="st"> type=</span><span class="kw">&quot;</span>text/javascript<span class="kw">&quot;</span><span class="st">&gt;&lt;/script&gt;</span></span>
<span id="cb524-6"><a href="#cb524-6"></a><span class="st">    &lt;script src=</span><span class="kw">&quot;</span>http://YOURJQUERYPATH/js/jquery.validate.js<span class="kw">&quot;</span><span class="st"> type=</span><span class="kw">&quot;</span>text/javascript<span class="kw">&quot;</span><span class="st">&gt;&lt;/script&gt;</span></span>
<span id="cb524-7"><a href="#cb524-7"></a><span class="st">    &lt;script type=</span><span class="kw">&quot;</span>text/javascript<span class="kw">&quot;</span><span class="st">&gt;</span></span>
<span id="cb524-8"><a href="#cb524-8"></a></span>
<span id="cb524-9"><a href="#cb524-9"></a><span class="st">        </span><span class="dt">$(</span><span class="st">).ready(function() {</span></span>
<span id="cb524-10"><a href="#cb524-10"></a><span class="st">            </span><span class="dt">$.</span><span class="st">validator.addMethod(</span><span class="kw">&quot;</span>EMAIL<span class="kw">&quot;</span><span class="st">, function(value, element) {</span></span>
<span id="cb524-11"><a href="#cb524-11"></a><span class="st">                return this.optional(element) || /^[a-zA-Z0-9._-]+</span><span class="dt">@</span><span class="st">[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}</span><span class="dt">$/</span><span class="st">i.test(value);</span></span>
<span id="cb524-12"><a href="#cb524-12"></a><span class="st">            }, </span><span class="kw">&quot;</span>Email Address is invalid: Please enter a valid email address.<span class="kw">&quot;</span><span class="st">);</span></span>
<span id="cb524-13"><a href="#cb524-13"></a></span>
<span id="cb524-14"><a href="#cb524-14"></a><span class="st">            </span><span class="dt">$.</span><span class="st">validator.addMethod(</span><span class="kw">&quot;</span>PASSWORD<span class="kw">&quot;</span><span class="st">,function(value,element){</span></span>
<span id="cb524-15"><a href="#cb524-15"></a><span class="st">                return this.optional(element) || /^(?=.*</span><span class="ch">\d</span><span class="st">)(?=.*[a-z])(?=.*[A-Z]).{8,16}</span><span class="dt">$/</span><span class="st">i.test(value);</span></span>
<span id="cb524-16"><a href="#cb524-16"></a><span class="st">            },</span><span class="kw">&quot;</span>Passwords are <span class="dv">8-16</span> characters with uppercase letters, lowercase letters <span class="kw">and</span> at least one number.<span class="kw">&quot;</span><span class="st">);</span></span>
<span id="cb524-17"><a href="#cb524-17"></a></span>
<span id="cb524-18"><a href="#cb524-18"></a><span class="st">            </span><span class="dt">$.</span><span class="st">validator.addMethod(</span><span class="kw">&quot;</span>SUBMIT<span class="kw">&quot;</span><span class="st">,function(value,element){</span></span>
<span id="cb524-19"><a href="#cb524-19"></a><span class="st">                return this.optional(element) || /[^ ]/i.test(value);</span></span>
<span id="cb524-20"><a href="#cb524-20"></a><span class="st">            },</span><span class="kw">&quot;</span>You did <span class="kw">not</span> click the submit button.<span class="kw">&quot;</span><span class="st">);</span></span>
<span id="cb524-21"><a href="#cb524-21"></a></span>
<span id="cb524-22"><a href="#cb524-22"></a><span class="st">            // Validate signup form on keyup and submit</span></span>
<span id="cb524-23"><a href="#cb524-23"></a><span class="st">            </span><span class="dt">$(</span><span class="kw">&quot;</span><span class="co">#LOGIN&quot;).validate({</span></span>
<span id="cb524-24"><a href="#cb524-24"></a>                rules: {</span>
<span id="cb524-25"><a href="#cb524-25"></a>                    EMAIL: <span class="kw">&quot;</span><span class="st">required EMAIL</span><span class="kw">&quot;</span>,</span>
<span id="cb524-26"><a href="#cb524-26"></a>                    PASSWORD: <span class="kw">&quot;</span><span class="st">required PASSWORD</span><span class="kw">&quot;</span>,</span>
<span id="cb524-27"><a href="#cb524-27"></a>                    SUBMIT: <span class="kw">&quot;</span><span class="st">required SUBMIT</span><span class="kw">&quot;</span>,</span>
<span id="cb524-28"><a href="#cb524-28"></a>                },</span>
<span id="cb524-29"><a href="#cb524-29"></a>            });</span>
<span id="cb524-30"><a href="#cb524-30"></a>        });</span>
<span id="cb524-31"><a href="#cb524-31"></a>    &lt;/script&gt;</span>
<span id="cb524-32"><a href="#cb524-32"></a>&lt;/head&gt;</span>
<span id="cb524-33"><a href="#cb524-33"></a>&lt;body&gt;</span>
<span id="cb524-34"><a href="#cb524-34"></a>    &lt;div id=<span class="kw">&quot;</span><span class="st">LOGIN_FORM</span><span class="kw">&quot;</span> class=<span class="kw">&quot;</span><span class="st">form</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb524-35"><a href="#cb524-35"></a>        &lt;form id=<span class="kw">&quot;</span><span class="st">LOGIN</span><span class="kw">&quot;</span> name=<span class="kw">&quot;</span><span class="st">LOGIN</span><span class="kw">&quot;</span> method=<span class="kw">&quot;</span><span class="st">post</span><span class="kw">&quot;</span> action=<span class="kw">&quot;</span><span class="st">/index/secure/authentication?action=login</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb524-36"><a href="#cb524-36"></a>            &lt;h1&gt;Log In&lt;/h1&gt;</span>
<span id="cb524-37"><a href="#cb524-37"></a>            &lt;div id=<span class="kw">&quot;</span><span class="st">LOGIN_EMAIL</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb524-38"><a href="#cb524-38"></a>                &lt;label <span class="kw">for</span>=<span class="kw">&quot;</span><span class="st">EMAIL</span><span class="kw">&quot;</span>&gt;Email Address&lt;/label&gt;</span>
<span id="cb524-39"><a href="#cb524-39"></a>                &lt;input id=<span class="kw">&quot;</span><span class="st">EMAIL</span><span class="kw">&quot;</span> name=<span class="kw">&quot;</span><span class="st">EMAIL</span><span class="kw">&quot;</span> type=<span class="kw">&quot;</span><span class="st">text</span><span class="kw">&quot;</span> value=<span class="kw">&quot;&quot;</span> tabindex=<span class="kw">&quot;</span><span class="st">1</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb524-40"><a href="#cb524-40"></a><span class="ot">            &lt;</span><span class="kw">/</span>div&gt;</span>
<span id="cb524-41"><a href="#cb524-41"></a>            &lt;div id=<span class="kw">&quot;</span><span class="st">LOGIN_PASSWORD</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb524-42"><a href="#cb524-42"></a>                &lt;label <span class="kw">for</span>=<span class="kw">&quot;</span><span class="st">PASSWORD</span><span class="kw">&quot;</span>&gt;Password&lt;/label&gt;</span>
<span id="cb524-43"><a href="#cb524-43"></a>                &lt;input id=<span class="kw">&quot;</span><span class="st">PASSWORD</span><span class="kw">&quot;</span> name=<span class="kw">&quot;</span><span class="st">PASSWORD</span><span class="kw">&quot;</span> type=<span class="kw">&quot;</span><span class="st">password</span><span class="kw">&quot;</span> value=<span class="kw">&quot;&quot;</span> tabindex=<span class="kw">&quot;</span><span class="st">2</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb524-44"><a href="#cb524-44"></a><span class="ot">            &lt;</span><span class="kw">/</span>div&gt;</span>
<span id="cb524-45"><a href="#cb524-45"></a>            &lt;div id=<span class="kw">&quot;</span><span class="st">LOGIN_SUBMIT</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb524-46"><a href="#cb524-46"></a>                &lt;input id=<span class="kw">&quot;</span><span class="st">SUBMIT</span><span class="kw">&quot;</span> name=<span class="kw">&quot;</span><span class="st">SUBMIT</span><span class="kw">&quot;</span> type=<span class="kw">&quot;</span><span class="st">submit</span><span class="kw">&quot;</span> value=<span class="kw">&quot;</span><span class="st">Submit</span><span class="kw">&quot;</span> tabindex=<span class="kw">&quot;</span><span class="st">3</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb524-47"><a href="#cb524-47"></a><span class="ot">            &lt;</span><span class="kw">/</span>div&gt;</span>
<span id="cb524-48"><a href="#cb524-48"></a>        &lt;/form&gt;</span>
<span id="cb524-49"><a href="#cb524-49"></a>    &lt;/div&gt;</span>
<span id="cb524-50"><a href="#cb524-50"></a>&lt;/body&gt;</span>
<span id="cb524-51"><a href="#cb524-51"></a>&lt;/html&gt;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regular-expression-to-get-a-string-between-parentheses-in-javascript-score-305791-in-2018" class="level3">
<h3>99: Regular Expression to get a string between parentheses in Javascript (score <a href="https://stackoverflow.com/q/17779744.html">305791</a> in 2018)</h3>
<section id="question-97" class="level4">
<h4>Question</h4>
<p>I am trying to write a regular expression which returns a string which is between parentheses. For example: I want to get the string which resides between the strings “(” and “)”</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb525-1"><a href="#cb525-1"></a>I expect five hundred dollars (<span class="dt">$500</span>).</span></code></pre></div>
<p>would return</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb526-1"><a href="#cb526-1"></a><span class="dt">$500</span></span></code></pre></div>
<p>Found <a href="https://stackoverflow.com/questions/5642315/regular-expression-to-get-a-string-between-two-strings-in-javascript">Regular Expression to get a string between two strings in Javascript</a></p>
<p>But I’m new with regex. I don’t know how to use ‘(’, ‘)’ in regexp</p>
</section>
<section id="answer-accepted-score-405" class="level4">
<h4>Answer accepted (score 405)</h4>
<p>You need to create a set of escaped (with <code>\</code>) parentheses (that match the parentheses) and a group of regular parentheses that create your capturing group:</p>
<p>
<div class="snippet" data-lang="js" data-hide="false" data-console="true" data-babel="false">
<div class="snippet-code">
<div class="sourceCode" id="cb527"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb527-1"><a href="#cb527-1"></a>var regExp = <span class="kw">/</span><span class="ot">\(</span><span class="ch">([^</span><span class="bn">)</span><span class="ch">]+)</span><span class="ot">\)</span><span class="kw">/</span>;</span>
<span id="cb527-2"><a href="#cb527-2"></a>var matches = regExp.<span class="fu">exec</span>(<span class="kw">&quot;</span><span class="st">I expect five hundred dollars (</span><span class="dt">$500</span><span class="st">).</span><span class="kw">&quot;</span>);</span>
<span id="cb527-3"><a href="#cb527-3"></a></span>
<span id="cb527-4"><a href="#cb527-4"></a>//matches[<span class="dv">1</span>] contains the value between the parentheses</span>
<span id="cb527-5"><a href="#cb527-5"></a>console.<span class="fu">log</span>(matches[<span class="dv">1</span>]);</span></code></pre></div>
</div>
</div>
<p>Breakdown:</p>
<ul>
<li>
<code>\(</code> : match an opening parentheses
</li>
<li>
<code>(</code> : begin capturing group
</li>
<li>
<code>[^)]+</code>: match one or more non <code>)</code> characters
</li>
<li>
<code>)</code> : end capturing group
</li>
<li>
<code>\)</code> : match closing parentheses
</li>
</ul>
<p>Here is a visual explanation on <a href="http://www.regexplained.co.uk/?pattern=%252F%5C((%5B%5E)%5D%252B)%5C)%252F" rel="noreferrer">RegExplained</a></p>
</section>
<section id="answer-2-score-31" class="level4">
<h4>Answer 2 (score 31)</h4>
<p>Try string manipulation:</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb528-1"><a href="#cb528-1"></a>var txt = <span class="kw">&quot;</span><span class="st">I expect five hundred dollars (</span><span class="dt">$500</span><span class="st">). and new brackets (</span><span class="dt">$600</span><span class="st">)</span><span class="kw">&quot;</span>;</span>
<span id="cb528-2"><a href="#cb528-2"></a>var newTxt = txt.<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">(</span><span class="kw">&#39;</span>);</span>
<span id="cb528-3"><a href="#cb528-3"></a><span class="kw">for</span> (var i = <span class="dv">1</span>; i &lt; newTxt.<span class="fu">length</span>; i++) {</span>
<span id="cb528-4"><a href="#cb528-4"></a>    console.<span class="fu">log</span>(newTxt[i].<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span>)[<span class="dv">0</span>]);</span>
<span id="cb528-5"><a href="#cb528-5"></a>}</span></code></pre></div>
<p>or regex (<em>which is somewhat <a href="http://jsperf.com/stringvsregex/">slow compare to the above</a></em>)</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb529-1"><a href="#cb529-1"></a>var txt = <span class="kw">&quot;</span><span class="st">I expect five hundred dollars (</span><span class="dt">$500</span><span class="st">). and new brackets (</span><span class="dt">$600</span><span class="st">)</span><span class="kw">&quot;</span>;</span>
<span id="cb529-2"><a href="#cb529-2"></a>var regExp = <span class="kw">/</span><span class="ot">\(</span><span class="ch">([^</span><span class="bn">)</span><span class="ch">]+)</span><span class="ot">\)</span><span class="kw">/g</span>;</span>
<span id="cb529-3"><a href="#cb529-3"></a>var matches = txt.match(regExp);</span>
<span id="cb529-4"><a href="#cb529-4"></a><span class="kw">for</span> (var i = <span class="dv">0</span>; i &lt; matches.<span class="fu">length</span>; i++) {</span>
<span id="cb529-5"><a href="#cb529-5"></a>    var str = matches[i];</span>
<span id="cb529-6"><a href="#cb529-6"></a>    console.<span class="fu">log</span>(str.substring(<span class="dv">1</span>, str.<span class="fu">length</span> - <span class="dv">1</span>));</span>
<span id="cb529-7"><a href="#cb529-7"></a>}</span></code></pre></div>
</section>
<section id="answer-3-score-9" class="level4">
<h4>Answer 3 (score 9)</h4>
<p>Ported <a href="https://stackoverflow.com/a/17780281/942767">Mr_Green’s answer</a> to a functional programming style to avoid use of temporary global variables.</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb530-1"><a href="#cb530-1"></a>var matches = string2.<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">[</span><span class="kw">&#39;</span>)</span>
<span id="cb530-2"><a href="#cb530-2"></a>  .filter(function(v){ <span class="kw">return</span> v.indexOf(<span class="kw">&#39;</span><span class="st">]</span><span class="kw">&#39;</span>) &gt; <span class="dv">-1</span>})</span>
<span id="cb530-3"><a href="#cb530-3"></a>  .<span class="fu">map</span>( function(value) { </span>
<span id="cb530-4"><a href="#cb530-4"></a>    <span class="kw">return</span> value.<span class="fu">split</span>(<span class="kw">&#39;</span><span class="st">]</span><span class="kw">&#39;</span>)[<span class="dv">0</span>]</span>
<span id="cb530-5"><a href="#cb530-5"></a>  })</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-extract-img-src-title-and-alt-from-html-using-php-score-303789-in-2015" class="level3">
<h3>100: How to extract img src, title and alt from html using php? (score <a href="https://stackoverflow.com/q/138313.html">303789</a> in 2015)</h3>
<section id="question-98" class="level4">
<h4>Question</h4>
<p>I would like to create a page where all images which reside on my website are listed with title and alternative representation.</p>
<p>I already wrote me a little program to find and load all HTML files, but now I am stuck at how to extract <code>src</code>, <code>title</code> and <code>alt</code> from this HTML:</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb531-1"><a href="#cb531-1"></a>&lt;img &lt;b&gt;src&lt;/b&gt;=<span class="kw">&quot;</span><span class="st">/image/fluffybunny.jpg</span><span class="kw">&quot;</span> &lt;b&gt;title&lt;/b&gt;=<span class="kw">&quot;</span><span class="st">Harvey the bunny</span><span class="kw">&quot;</span> &lt;b&gt;alt&lt;/b&gt;=<span class="kw">&quot;</span><span class="st">a cute little fluffy bunny</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span></code></pre></div>
<p>I guess this should be done with some regex, but since the order of the tags may vary, and I need all of them, I don’t really know how to parse this in an elegant way (I could do it the hard char by char way, but that’s painful).</p>
</section>
<section id="answer-accepted-score-191" class="level4">
<h4>Answer accepted (score 191)</h4>
<h5>
EDIT : now that I know better
</h2>
<p>Using regexp to solve this kind of problem is <a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454">a bad idea</a> and will likely lead in unmaintainable and unreliable code. Better use an <a href="http://simplehtmldom.sourceforge.net/" rel="noreferrer">HTML parser</a>.</p>
<h5>
Solution With regexp
</h2>
<p>In that case it’s better to split the process into two parts :</p>
<ul>
<li>
get all the img tag
</li>
<li>
extract their metadata
</li>
</ul>
<p>I will assume your doc is not xHTML strict so you can’t use an XML parser. E.G. with this web page source code :</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb532-1"><a href="#cb532-1"></a><span class="kw">/</span><span class="ch">*</span><span class="ot"> preg_match_all match the regexp in all the </span><span class="dt">$html</span><span class="ot"> string and output everything as </span></span>
<span id="cb532-2"><a href="#cb532-2"></a><span class="ot">an array in </span><span class="dt">$result</span><span class="ot">. &quot;i&quot; option is used to make it case insensitive </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb532-3"><a href="#cb532-3"></a></span>
<span id="cb532-4"><a href="#cb532-4"></a>preg_match_all(<span class="kw">&#39;</span><span class="st">/&lt;img[^&gt;]+&gt;/i</span><span class="kw">&#39;</span>,<span class="dt">$html</span>, <span class="dt">$result</span>); </span>
<span id="cb532-5"><a href="#cb532-5"></a></span>
<span id="cb532-6"><a href="#cb532-6"></a>print_r(<span class="dt">$result</span>);</span>
<span id="cb532-7"><a href="#cb532-7"></a>Array</span>
<span id="cb532-8"><a href="#cb532-8"></a>(</span>
<span id="cb532-9"><a href="#cb532-9"></a>    [<span class="dv">0</span>] =&gt; Array</span>
<span id="cb532-10"><a href="#cb532-10"></a>        (</span>
<span id="cb532-11"><a href="#cb532-11"></a>            [<span class="dv">0</span>] =&gt; &lt;img src=<span class="kw">&quot;</span><span class="st">/Content/Img/stackoverflow-logo-250.png</span><span class="kw">&quot;</span> width=<span class="kw">&quot;</span><span class="st">250</span><span class="kw">&quot;</span> height=<span class="kw">&quot;</span><span class="st">70</span><span class="kw">&quot;</span> alt=<span class="kw">&quot;</span><span class="st">logo link to homepage</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb532-12"><a href="#cb532-12"></a><span class="ot">            </span><span class="ch">[</span><span class="bn">1</span><span class="ch">]</span><span class="ot"> =&gt; &lt;img class=&quot;vote-up&quot; src=&quot;</span><span class="kw">/co</span>ntent/img/vote-arrow-up.png<span class="kw">&quot;</span><span class="st"> alt=</span><span class="kw">&quot;</span>vote up<span class="kw">&quot;</span><span class="st"> title=</span><span class="kw">&quot;</span>This was helpful (click again to undo)<span class="kw">&quot;</span><span class="st"> /&gt;</span></span>
<span id="cb532-13"><a href="#cb532-13"></a><span class="st">            [2] =&gt; &lt;img class=</span><span class="kw">&quot;</span>vote-down<span class="kw">&quot;</span><span class="st"> src=</span><span class="kw">&quot;/</span><span class="ot">content</span><span class="kw">/img/</span><span class="ot">vote-arrow-down.png&quot; alt=&quot;vote down&quot; title=&quot;This was not helpful </span><span class="ch">(</span><span class="ot">click again to undo</span><span class="ch">)</span><span class="ot">&quot; </span><span class="kw">/</span>&gt;</span>
<span id="cb532-14"><a href="#cb532-14"></a>            [<span class="dv">3</span>] =&gt; &lt;img src=<span class="kw">&quot;</span><span class="st">http://www.gravatar.com/avatar/df299babc56f0a79678e567e87a09c31?s=32&amp;d=identicon&amp;r=PG</span><span class="kw">&quot;</span> height=<span class="dv">32</span> width=<span class="dv">32</span> alt=<span class="kw">&quot;</span><span class="st">gravatar image</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb532-15"><a href="#cb532-15"></a><span class="ot">            </span><span class="ch">[</span><span class="bn">4</span><span class="ch">]</span><span class="ot"> =&gt; &lt;img class=&quot;vote-up&quot; src=&quot;</span><span class="kw">/co</span>ntent/img/vote-arrow-up.png<span class="kw">&quot;</span><span class="st"> alt=</span><span class="kw">&quot;</span>vote up<span class="kw">&quot;</span><span class="st"> title=</span><span class="kw">&quot;</span>This was helpful (click again to undo)<span class="kw">&quot;</span><span class="st"> /&gt;</span></span>
<span id="cb532-16"><a href="#cb532-16"></a></span>
<span id="cb532-17"><a href="#cb532-17"></a><span class="st">[...]</span></span>
<span id="cb532-18"><a href="#cb532-18"></a><span class="st">        )</span></span>
<span id="cb532-19"><a href="#cb532-19"></a></span>
<span id="cb532-20"><a href="#cb532-20"></a><span class="st">)</span></span></code></pre></div>
<p>Then we get all the img tag attributes with a loop :</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb533-1"><a href="#cb533-1"></a><span class="dt">$img</span> = array();</span>
<span id="cb533-2"><a href="#cb533-2"></a><span class="kw">foreach</span>( <span class="dt">$result</span> as <span class="dt">$img_tag</span>)</span>
<span id="cb533-3"><a href="#cb533-3"></a>{</span>
<span id="cb533-4"><a href="#cb533-4"></a>    preg_match_all(<span class="kw">&#39;</span><span class="st">/(alt|title|src)=(&quot;[^&quot;]*&quot;)/i</span><span class="kw">&#39;</span>,<span class="dt">$img_tag</span>, <span class="dt">$img</span>[<span class="dt">$img_tag</span>]);</span>
<span id="cb533-5"><a href="#cb533-5"></a>}</span>
<span id="cb533-6"><a href="#cb533-6"></a></span>
<span id="cb533-7"><a href="#cb533-7"></a>print_r(<span class="dt">$img</span>);</span>
<span id="cb533-8"><a href="#cb533-8"></a></span>
<span id="cb533-9"><a href="#cb533-9"></a>Array</span>
<span id="cb533-10"><a href="#cb533-10"></a>(</span>
<span id="cb533-11"><a href="#cb533-11"></a>    [&lt;img src=<span class="kw">&quot;</span><span class="st">/Content/Img/stackoverflow-logo-250.png</span><span class="kw">&quot;</span> width=<span class="kw">&quot;</span><span class="st">250</span><span class="kw">&quot;</span> height=<span class="kw">&quot;</span><span class="st">70</span><span class="kw">&quot;</span> alt=<span class="kw">&quot;</span><span class="st">logo link to homepage</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;] =&gt; Array</span></span>
<span id="cb533-12"><a href="#cb533-12"></a><span class="ot">        </span><span class="ch">(</span></span>
<span id="cb533-13"><a href="#cb533-13"></a><span class="ot">            </span><span class="ch">[</span><span class="bn">0</span><span class="ch">]</span><span class="ot"> =&gt; Array</span></span>
<span id="cb533-14"><a href="#cb533-14"></a><span class="ot">                </span><span class="ch">(</span></span>
<span id="cb533-15"><a href="#cb533-15"></a><span class="ot">                    </span><span class="ch">[</span><span class="bn">0</span><span class="ch">]</span><span class="ot"> =&gt; src=&quot;</span><span class="kw">/</span>Content/Img/stackoverflow-logo<span class="dv">-250</span>.png<span class="kw">&quot;</span></span>
<span id="cb533-16"><a href="#cb533-16"></a><span class="st">                    [1] =&gt; alt=</span><span class="kw">&quot;</span>logo <span class="fu">link</span> to homepage<span class="kw">&quot;</span></span>
<span id="cb533-17"><a href="#cb533-17"></a><span class="st">                )</span></span>
<span id="cb533-18"><a href="#cb533-18"></a></span>
<span id="cb533-19"><a href="#cb533-19"></a><span class="st">            [1] =&gt; Array</span></span>
<span id="cb533-20"><a href="#cb533-20"></a><span class="st">                (</span></span>
<span id="cb533-21"><a href="#cb533-21"></a><span class="st">                    [0] =&gt; src</span></span>
<span id="cb533-22"><a href="#cb533-22"></a><span class="st">                    [1] =&gt; alt</span></span>
<span id="cb533-23"><a href="#cb533-23"></a><span class="st">                )</span></span>
<span id="cb533-24"><a href="#cb533-24"></a></span>
<span id="cb533-25"><a href="#cb533-25"></a><span class="st">            [2] =&gt; Array</span></span>
<span id="cb533-26"><a href="#cb533-26"></a><span class="st">                (</span></span>
<span id="cb533-27"><a href="#cb533-27"></a><span class="st">                    [0] =&gt; </span><span class="kw">&quot;/</span><span class="ot">Content</span><span class="kw">/</span>Img/stackoverflow-logo<span class="dv">-250</span>.png<span class="kw">&quot;</span></span>
<span id="cb533-28"><a href="#cb533-28"></a><span class="st">                    [1] =&gt; </span><span class="kw">&quot;</span>logo <span class="fu">link</span> to homepage<span class="kw">&quot;</span></span>
<span id="cb533-29"><a href="#cb533-29"></a><span class="st">                )</span></span>
<span id="cb533-30"><a href="#cb533-30"></a></span>
<span id="cb533-31"><a href="#cb533-31"></a><span class="st">        )</span></span>
<span id="cb533-32"><a href="#cb533-32"></a></span>
<span id="cb533-33"><a href="#cb533-33"></a><span class="st">    [&lt;img class=</span><span class="kw">&quot;</span>vote-up<span class="kw">&quot;</span><span class="st"> src=</span><span class="kw">&quot;/</span><span class="ot">content</span><span class="kw">/img/</span><span class="ot">vote-arrow-up.png&quot; alt=&quot;vote up&quot; title=&quot;This was helpful </span><span class="ch">(</span><span class="ot">click again to undo</span><span class="ch">)</span><span class="ot">&quot; </span><span class="kw">/</span>&gt;] =&gt; Array</span>
<span id="cb533-34"><a href="#cb533-34"></a>        (</span>
<span id="cb533-35"><a href="#cb533-35"></a>            [<span class="dv">0</span>] =&gt; Array</span>
<span id="cb533-36"><a href="#cb533-36"></a>                (</span>
<span id="cb533-37"><a href="#cb533-37"></a>                    [<span class="dv">0</span>] =&gt; src=<span class="kw">&quot;</span><span class="st">/content/img/vote-arrow-up.png</span><span class="kw">&quot;</span></span>
<span id="cb533-38"><a href="#cb533-38"></a>                    [<span class="dv">1</span>] =&gt; alt=<span class="kw">&quot;</span><span class="st">vote up</span><span class="kw">&quot;</span></span>
<span id="cb533-39"><a href="#cb533-39"></a>                    [<span class="dv">2</span>] =&gt; title=<span class="kw">&quot;</span><span class="st">This was helpful (click again to undo)</span><span class="kw">&quot;</span></span>
<span id="cb533-40"><a href="#cb533-40"></a>                )</span>
<span id="cb533-41"><a href="#cb533-41"></a></span>
<span id="cb533-42"><a href="#cb533-42"></a>            [<span class="dv">1</span>] =&gt; Array</span>
<span id="cb533-43"><a href="#cb533-43"></a>                (</span>
<span id="cb533-44"><a href="#cb533-44"></a>                    [<span class="dv">0</span>] =&gt; src</span>
<span id="cb533-45"><a href="#cb533-45"></a>                    [<span class="dv">1</span>] =&gt; alt</span>
<span id="cb533-46"><a href="#cb533-46"></a>                    [<span class="dv">2</span>] =&gt; title</span>
<span id="cb533-47"><a href="#cb533-47"></a>                )</span>
<span id="cb533-48"><a href="#cb533-48"></a></span>
<span id="cb533-49"><a href="#cb533-49"></a>            [<span class="dv">2</span>] =&gt; Array</span>
<span id="cb533-50"><a href="#cb533-50"></a>                (</span>
<span id="cb533-51"><a href="#cb533-51"></a>                    [<span class="dv">0</span>] =&gt; <span class="kw">&quot;</span><span class="st">/content/img/vote-arrow-up.png</span><span class="kw">&quot;</span></span>
<span id="cb533-52"><a href="#cb533-52"></a>                    [<span class="dv">1</span>] =&gt; <span class="kw">&quot;</span><span class="st">vote up</span><span class="kw">&quot;</span></span>
<span id="cb533-53"><a href="#cb533-53"></a>                    [<span class="dv">2</span>] =&gt; <span class="kw">&quot;</span><span class="st">This was helpful (click again to undo)</span><span class="kw">&quot;</span></span>
<span id="cb533-54"><a href="#cb533-54"></a>                )</span>
<span id="cb533-55"><a href="#cb533-55"></a></span>
<span id="cb533-56"><a href="#cb533-56"></a>        )</span>
<span id="cb533-57"><a href="#cb533-57"></a></span>
<span id="cb533-58"><a href="#cb533-58"></a>    [&lt;img class=<span class="kw">&quot;</span><span class="st">vote-down</span><span class="kw">&quot;</span> src=<span class="kw">&quot;</span><span class="st">/content/img/vote-arrow-down.png</span><span class="kw">&quot;</span> alt=<span class="kw">&quot;</span><span class="st">vote down</span><span class="kw">&quot;</span> title=<span class="kw">&quot;</span><span class="st">This was not helpful (click again to undo)</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;] =&gt; Array</span></span>
<span id="cb533-59"><a href="#cb533-59"></a><span class="ot">        </span><span class="ch">(</span></span>
<span id="cb533-60"><a href="#cb533-60"></a><span class="ot">            </span><span class="ch">[</span><span class="bn">0</span><span class="ch">]</span><span class="ot"> =&gt; Array</span></span>
<span id="cb533-61"><a href="#cb533-61"></a><span class="ot">                </span><span class="ch">(</span></span>
<span id="cb533-62"><a href="#cb533-62"></a><span class="ot">                    </span><span class="ch">[</span><span class="bn">0</span><span class="ch">]</span><span class="ot"> =&gt; src=&quot;</span><span class="kw">/co</span>ntent/img/vote-arrow-down.png<span class="kw">&quot;</span></span>
<span id="cb533-63"><a href="#cb533-63"></a><span class="st">                    [1] =&gt; alt=</span><span class="kw">&quot;</span>vote down<span class="kw">&quot;</span></span>
<span id="cb533-64"><a href="#cb533-64"></a><span class="st">                    [2] =&gt; title=</span><span class="kw">&quot;</span>This was <span class="kw">not</span> helpful (click again to undo)<span class="kw">&quot;</span></span>
<span id="cb533-65"><a href="#cb533-65"></a><span class="st">                )</span></span>
<span id="cb533-66"><a href="#cb533-66"></a></span>
<span id="cb533-67"><a href="#cb533-67"></a><span class="st">            [1] =&gt; Array</span></span>
<span id="cb533-68"><a href="#cb533-68"></a><span class="st">                (</span></span>
<span id="cb533-69"><a href="#cb533-69"></a><span class="st">                    [0] =&gt; src</span></span>
<span id="cb533-70"><a href="#cb533-70"></a><span class="st">                    [1] =&gt; alt</span></span>
<span id="cb533-71"><a href="#cb533-71"></a><span class="st">                    [2] =&gt; title</span></span>
<span id="cb533-72"><a href="#cb533-72"></a><span class="st">                )</span></span>
<span id="cb533-73"><a href="#cb533-73"></a></span>
<span id="cb533-74"><a href="#cb533-74"></a><span class="st">            [2] =&gt; Array</span></span>
<span id="cb533-75"><a href="#cb533-75"></a><span class="st">                (</span></span>
<span id="cb533-76"><a href="#cb533-76"></a><span class="st">                    [0] =&gt; </span><span class="kw">&quot;/</span><span class="ot">content</span><span class="kw">/img/</span><span class="ot">vote-arrow-down.png&quot;</span></span>
<span id="cb533-77"><a href="#cb533-77"></a><span class="ot">                    </span><span class="ch">[</span><span class="bn">1</span><span class="ch">]</span><span class="ot"> =&gt; &quot;vote down&quot;</span></span>
<span id="cb533-78"><a href="#cb533-78"></a><span class="ot">                    </span><span class="ch">[</span><span class="bn">2</span><span class="ch">]</span><span class="ot"> =&gt; &quot;This was not helpful </span><span class="ch">(</span><span class="ot">click again to undo</span><span class="ch">)</span><span class="ot">&quot;</span></span>
<span id="cb533-79"><a href="#cb533-79"></a><span class="ot">                </span><span class="ch">)</span></span>
<span id="cb533-80"><a href="#cb533-80"></a></span>
<span id="cb533-81"><a href="#cb533-81"></a><span class="ot">        </span><span class="ch">)</span></span>
<span id="cb533-82"><a href="#cb533-82"></a></span>
<span id="cb533-83"><a href="#cb533-83"></a><span class="ot">    </span><span class="ch">[</span><span class="bn">&lt;img src=&quot;http://www.gravatar.com/avatar/df299babc56f0a79678e567e87a09c31?s=32&amp;d=identicon&amp;r=PG&quot; height=32 width=32 alt=&quot;gravatar image&quot; /&gt;</span><span class="ch">]</span><span class="ot"> =&gt; Array</span></span>
<span id="cb533-84"><a href="#cb533-84"></a><span class="ot">        </span><span class="ch">(</span></span>
<span id="cb533-85"><a href="#cb533-85"></a><span class="ot">            </span><span class="ch">[</span><span class="bn">0</span><span class="ch">]</span><span class="ot"> =&gt; Array</span></span>
<span id="cb533-86"><a href="#cb533-86"></a><span class="ot">                </span><span class="ch">(</span></span>
<span id="cb533-87"><a href="#cb533-87"></a><span class="ot">                    </span><span class="ch">[</span><span class="bn">0</span><span class="ch">]</span><span class="ot"> =&gt; src=&quot;http:</span><span class="kw">//</span><span class="ot">www.gravatar.com</span><span class="kw">/</span>avatar/df299babc56f0a79678e567e87a09c31?s=<span class="dv">32</span>&amp;d=identicon&amp;r=PG<span class="kw">&quot;</span></span>
<span id="cb533-88"><a href="#cb533-88"></a><span class="st">                    [1] =&gt; alt=</span><span class="kw">&quot;</span>gravatar image<span class="kw">&quot;</span></span>
<span id="cb533-89"><a href="#cb533-89"></a><span class="st">                )</span></span>
<span id="cb533-90"><a href="#cb533-90"></a></span>
<span id="cb533-91"><a href="#cb533-91"></a><span class="st">            [1] =&gt; Array</span></span>
<span id="cb533-92"><a href="#cb533-92"></a><span class="st">                (</span></span>
<span id="cb533-93"><a href="#cb533-93"></a><span class="st">                    [0] =&gt; src</span></span>
<span id="cb533-94"><a href="#cb533-94"></a><span class="st">                    [1] =&gt; alt</span></span>
<span id="cb533-95"><a href="#cb533-95"></a><span class="st">                )</span></span>
<span id="cb533-96"><a href="#cb533-96"></a></span>
<span id="cb533-97"><a href="#cb533-97"></a><span class="st">            [2] =&gt; Array</span></span>
<span id="cb533-98"><a href="#cb533-98"></a><span class="st">                (</span></span>
<span id="cb533-99"><a href="#cb533-99"></a><span class="st">                    [0] =&gt; </span><span class="kw">&quot;</span>http://www.gravatar.com/avatar/df299babc56f0a79678e567e87a09c31?s=<span class="dv">32</span>&amp;d=identicon&amp;r=PG<span class="kw">&quot;</span></span>
<span id="cb533-100"><a href="#cb533-100"></a><span class="st">                    [1] =&gt; </span><span class="kw">&quot;</span>gravatar image<span class="kw">&quot;</span></span>
<span id="cb533-101"><a href="#cb533-101"></a><span class="st">                )</span></span>
<span id="cb533-102"><a href="#cb533-102"></a></span>
<span id="cb533-103"><a href="#cb533-103"></a><span class="st">        )</span></span>
<span id="cb533-104"><a href="#cb533-104"></a></span>
<span id="cb533-105"><a href="#cb533-105"></a><span class="st">   [..]</span></span>
<span id="cb533-106"><a href="#cb533-106"></a><span class="st">        )</span></span>
<span id="cb533-107"><a href="#cb533-107"></a></span>
<span id="cb533-108"><a href="#cb533-108"></a><span class="st">)</span></span></code></pre></div>
<p>Regexps are CPU intensive so you may want to cache this page. If you have no cache system, you can tweak your own by using <a href="http://fr2.php.net/manual/fr/function.ob-start.php" rel="noreferrer">ob_start</a> and loading / saving from a text file.</p>
<h5>
How does this stuff work ?
</h2>
<p>First, we use <a href="http://fr2.php.net/manual/fr/function.preg-match-all.php" rel="noreferrer">preg_ match_ all</a>, a function that gets every string matching the pattern and ouput it in it’s third parameter.</p>
<p>The regexps :</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb534-1"><a href="#cb534-1"></a>&lt;img[^&gt;]+&gt;</span></code></pre></div>
<p>We apply it on all html web pages. It can be read as <em>every string that starts with “<code>&amp;lt;img</code>”, contains non “&gt;” char and ends with a &gt;</em>.</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb535-1"><a href="#cb535-1"></a>(alt|title|src)=(<span class="kw">&quot;</span><span class="st">[^</span><span class="kw">&quot;</span>]<span class="dt">*&quot;</span>)</span></code></pre></div>
<p>We apply it successively on each img tag. It can be read as <em>every string starting with “alt”, “title” or “src”, then a “=”, then a ’ " ‘, a bunch of stuff that are not’ " ’ and ends with a ’ " ’. Isolate the sub-strings between ()</em>.</p>
<p>Finally, every time you want to deal with regexps, it handy to have good tools to quickly test them. Check this <a href="http://regex.larsolavtorvik.com/" rel="noreferrer">online regexp tester</a>.</p>
<p>EDIT : answer to the first comment.</p>
<p>It’s true that I did not think about the (hopefully few) people using single quotes.</p>
<p>Well, if you use only ‘, just replace all the " by’.</p>
<p>If you mix both. First you should slap yourself :-), then try to use (“|’) instead or” and [^ø] to replace [^"].</p>
</section>
<section id="answer-2-score-243" class="level4">
<h4>Answer 2 (score 243)</h4>
<div class="sourceCode" id="cb536"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb536-1"><a href="#cb536-1"></a><span class="dt">$url</span>=<span class="kw">&quot;</span><span class="st">http://example.com</span><span class="kw">&quot;</span>;</span>
<span id="cb536-2"><a href="#cb536-2"></a></span>
<span id="cb536-3"><a href="#cb536-3"></a><span class="dt">$html</span> = file_get_contents(<span class="dt">$url</span>);</span>
<span id="cb536-4"><a href="#cb536-4"></a></span>
<span id="cb536-5"><a href="#cb536-5"></a><span class="dt">$doc</span> = new DOMDocument();</span>
<span id="cb536-6"><a href="#cb536-6"></a><span class="dt">@$doc</span>-&gt;<span class="dt">loadHTML</span>(<span class="dt">$html</span>);</span>
<span id="cb536-7"><a href="#cb536-7"></a></span>
<span id="cb536-8"><a href="#cb536-8"></a><span class="dt">$tags</span> = <span class="dt">$doc</span>-&gt;<span class="dt">getElementsByTagName</span>(<span class="kw">&#39;</span><span class="st">img</span><span class="kw">&#39;</span>);</span>
<span id="cb536-9"><a href="#cb536-9"></a></span>
<span id="cb536-10"><a href="#cb536-10"></a><span class="kw">foreach</span> (<span class="dt">$tags</span> as <span class="dt">$tag</span>) {</span>
<span id="cb536-11"><a href="#cb536-11"></a>       echo <span class="dt">$tag</span>-&gt;<span class="dt">getAttribute</span>(<span class="kw">&#39;</span><span class="st">src</span><span class="kw">&#39;</span>);</span>
<span id="cb536-12"><a href="#cb536-12"></a>}</span></code></pre></div>
</section>
<section id="answer-3-score-64-1" class="level4">
<h4>Answer 3 (score 64)</h4>
<p>Just to give a small example of using PHP’s XML functionality for the task:</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb537-1"><a href="#cb537-1"></a><span class="dt">$doc</span>=new DOMDocument();</span>
<span id="cb537-2"><a href="#cb537-2"></a><span class="dt">$doc</span>-&gt;<span class="dt">loadHTML</span>(<span class="kw">&quot;</span><span class="st">&lt;html&gt;&lt;body&gt;Test&lt;br&gt;&lt;img src=\&quot;myimage.jpg\&quot; title=\&quot;title\&quot; alt=\&quot;alt\&quot;&gt;&lt;/body&gt;&lt;/html&gt;</span><span class="kw">&quot;</span>);</span>
<span id="cb537-3"><a href="#cb537-3"></a><span class="dt">$xml</span>=simplexml_import_dom(<span class="dt">$doc</span>); // just to make xpath more simple</span>
<span id="cb537-4"><a href="#cb537-4"></a><span class="dt">$images</span>=<span class="dt">$xml</span>-&gt;<span class="dt">xpath</span>(<span class="kw">&#39;</span><span class="st">//img</span><span class="kw">&#39;</span>);</span>
<span id="cb537-5"><a href="#cb537-5"></a><span class="kw">foreach</span> (<span class="dt">$images</span> as <span class="dt">$img</span>) {</span>
<span id="cb537-6"><a href="#cb537-6"></a>    echo <span class="dt">$img</span>[<span class="kw">&#39;</span><span class="st">src</span><span class="kw">&#39;</span>] . <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span> . <span class="dt">$img</span>[<span class="kw">&#39;</span><span class="st">alt</span><span class="kw">&#39;</span>] . <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span> . <span class="dt">$img</span>[<span class="kw">&#39;</span><span class="st">title</span><span class="kw">&#39;</span>];</span>
<span id="cb537-7"><a href="#cb537-7"></a>}</span></code></pre></div>
<p>I did use the <code>DOMDocument::loadHTML()</code> method because this method can cope with HTML-syntax and does not force the input document to be XHTML. Strictly speaking the conversion to a <code>SimpleXMLElement</code> is not necessary - it just makes using xpath and the xpath results more simple.</p>
</section>
</section>
</section>
</body>
</html>
