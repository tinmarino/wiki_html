<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Linux_top_100.md – Linux &lt;- StackOverflow top 100</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #232629;
    color: #7a7c7d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
div.sourceCode
  { color: #cfcfc2; background-color: #232629; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span. { color: #cfcfc2; } /* Normal */
code span.al { color: #95da4c; } /* Alert */
code span.an { color: #3f8058; } /* Annotation */
code span.at { color: #2980b9; } /* Attribute */
code span.bn { color: #f67400; } /* BaseN */
code span.bu { color: #7f8c8d; } /* BuiltIn */
code span.cf { color: #fdbc4b; } /* ControlFlow */
code span.ch { color: #3daee9; } /* Char */
code span.cn { color: #27aeae; } /* Constant */
code span.co { color: #7a7c7d; } /* Comment */
code span.cv { color: #7f8c8d; } /* CommentVar */
code span.do { color: #a43340; } /* Documentation */
code span.dt { color: #2980b9; } /* DataType */
code span.dv { color: #f67400; } /* DecVal */
code span.er { color: #da4453; } /* Error */
code span.ex { color: #0099ff; } /* Extension */
code span.fl { color: #f67400; } /* Float */
code span.fu { color: #8e44ad; } /* Function */
code span.im { color: #27ae60; } /* Import */
code span.in { color: #c45b00; } /* Information */
code span.kw { color: #cfcfc2; } /* Keyword */
code span.op { color: #cfcfc2; } /* Operator */
code span.ot { color: #27ae60; } /* Other */
code span.pp { color: #27ae60; } /* Preprocessor */
code span.re { color: #2980b9; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #da4453; } /* SpecialString */
code span.st { color: #f44f4f; } /* String */
code span.va { color: #27aeae; } /* Variable */
code span.vs { color: #da4453; } /* VerbatimString */
code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="../Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="../Css/layout_toc.css" />
  <script type="text/javascript" src="../Css/js_masonry_desandro.js"></script>
</head>
<body>
<header>
<h1 class="title">Linux &lt;- StackOverflow top 100</h1>
</header>
<nav id="TOC">
<ul>
<li><a href="#how-do-i-find-all-files-containing-specific-text-on-linux-score-6026154-in-2017">1: How do I find all files containing specific text on Linux? (score <span>6026154</span> in 2017)</a></li>
<li><a href="#how-do-i-change-permissions-for-a-folder-and-all-of-its-subfolders-and-files-in-one-step-in-linux-score-3802221-in-2019">2: How do I change permissions for a folder and all of its subfolders and files in one step in Linux? (score <span>3802221</span> in 2019)</a></li>
<li><a href="#how-do-i-copy-folder-with-files-to-another-folder-in-unixlinux-score-2371756-in-2017">3: How do I copy folder with files to another folder in Unix/Linux? (score <span>2371756</span> in 2017)</a></li>
<li><a href="#how-can-i-recursively-find-all-files-in-current-and-subfolders-based-on-wildcard-matching-score-2158446-in-2016">4: How can I recursively find all files in current and subfolders based on wildcard matching? (score <span>2158446</span> in 2016)</a></li>
<li><a href="#how-to-symlink-a-file-in-linux-score-1958525-in-2016">5: How to symlink a file in Linux? (score <span>1958525</span> in 2016)</a></li>
<li><a href="#chmod-777-to-a-folder-and-all-contents-score-1793940-in-2018">6: Chmod 777 to a folder and all contents (score <span>1793940</span> in 2018)</a></li>
<li><a href="#how-to-create-a-file-in-linux-from-terminal-window-score-1564036-in-2018">7: How to create a file in Linux from terminal window? (score <span>1564036</span> in 2018)</a></li>
<li><a href="#how-to-permanently-set-path-on-linuxunix-score-1467227-in-2018">8: How to permanently set $PATH on Linux/Unix? (score <span>1467227</span> in 2018)</a></li>
<li><a href="#how-do-i-grep-recursively-score-1461938-in-2018">9: How do I grep recursively? (score <span>1461938</span> in 2018)</a></li>
<li><a href="#looping-through-the-content-of-a-file-in-bash-score-1415142-in-2018">10: Looping through the content of a file in Bash (score <span>1415142</span> in 2018)</a></li>
<li><a href="#error-could-not-find-or-load-main-class-score-1353834-in-2012">11: Error: Could not find or load main class (score <span>1353834</span> in 2012)</a></li>
<li><a href="#kill-detached-screen-session-score-1279942-in-2019">12: Kill detached screen session (score <span>1279942</span> in 2019)</a></li>
<li><a href="#how-to-get-the-current-date-and-time-in-the-terminal-and-set-a-custom-command-in-terminal-for-it-score-1254767-in-2016">13: How to get the current date and time in the terminal and set a custom command in terminal for it? (score <span>1254767</span> in 2016)</a></li>
<li><a href="#how-to-count-lines-in-a-document-score-1222035-in-2015">14: How to count lines in a document? (score <span>1222035</span> in 2015)</a></li>
<li><a href="#how-to-download-a-file-from-server-using-ssh-score-1214123-in-2016">15: How to download a file from server using SSH? (score <span>1214123</span> in 2016)</a></li>
<li><a href="#sleep-for-milliseconds-score-1182180-in-2015">16: Sleep for milliseconds (score <span>1182180</span> in 2015)</a></li>
<li><a href="#how-to-measure-actual-memory-usage-of-an-application-or-process-score-1147677-in-2017">17: How to measure actual memory usage of an application or process? (score <span>1147677</span> in 2017)</a></li>
<li><a href="#error-cant-connect-to-local-mysql-server-through-socketvarrunmysqldmysqld.sock-2-missing-varrunmysqldmysqld.sock-score-1145574-in-2018">18: error: ‘Can’t connect to local MySQL server through socket’/var/run/mysqld/mysqld.sock’ (2)’ – Missing /var/run/mysqld/mysqld.sock (score <span>1145574</span> in 2018)</a></li>
<li><a href="#is-there-a-command-to-list-all-unix-group-names-score-1057247-in-2017">19: Is there a command to list all Unix group names? (score <span>1057247</span> in 2017)</a></li>
<li><a href="#lost-httpd.conf-file-located-apache-score-1043824-in-2017">20: Lost httpd.conf file located apache (score <span>1043824</span> in 2017)</a></li>
<li><a href="#linux-error-while-loading-shared-libraries-cannot-open-shared-object-file-no-such-file-or-directory-score-1027980-in-2009">21: Linux error while loading shared libraries: cannot open shared object file: No such file or directory (score <span>1027980</span> in 2009)</a></li>
<li><a href="#redirect-all-output-to-file-score-1007650-in-2015">22: Redirect all output to file (score <span>1007650</span> in 2015)</a></li>
<li><a href="#c-ide-for-linux-score-967131-in-2017">23: C++ IDE for Linux? (score <span>967131</span> in 2017)</a></li>
<li><a href="#how-to-kill-a-process-running-on-particular-port-in-linux-score-954064-in-2017">24: How to kill a process running on particular port in Linux? (score <span>954064</span> in 2017)</a></li>
<li><a href="#how-to-force-cp-to-overwrite-without-confirmation-score-937183-in-2016">25: How to force cp to overwrite without confirmation (score <span>937183</span> in 2016)</a></li>
<li><a href="#how-do-i-prompt-for-yesnocancel-input-in-a-linux-shell-script-score-926403-in-2016">26: How do I prompt for Yes/No/Cancel input in a Linux shell script? (score <span>926403</span> in 2016)</a></li>
<li><a href="#how-can-i-generate-a-list-of-files-with-their-absolute-path-in-linux-score-923845-in-2019">27: How can I generate a list of files with their absolute path in Linux? (score <span>923845</span> in 2019)</a></li>
<li><a href="#remove-a-symlink-to-a-directory-score-921379-in-2014">28: Remove a symlink to a directory (score <span>921379</span> in 2014)</a></li>
<li><a href="#http-post-and-get-using-curl-in-linux-score-908003-in-2019">29: HTTP POST and GET using cURL in Linux (score <span>908003</span> in 2019)</a></li>
<li><a href="#how-to-run-a-shell-script-at-startup-score-904087-in-2018">30: How to run a shell script at startup (score <span>904087</span> in 2018)</a></li>
<li><a href="#how-to-exclude-a-directory-in-find-.-command-score-899880-in-2018">31: How to exclude a directory in find . command (score <span>899880</span> in 2018)</a></li>
<li><a href="#how-to-change-the-output-color-of-echo-in-linux-score-896232-in-2017">32: How to change the output color of echo in Linux (score <span>896232</span> in 2017)</a></li>
<li><a href="#error-1045-28000-access-denied-for-user-rootlocalhost-using-password-yes-score-860136-in-2019">33: ERROR 1045 (28000): Access denied for user ‘root’@‘localhost’ (using password: YES) (score <span>860136</span> in 2019)</a></li>
<li><a href="#usrbinld-cannot-find--l-score-838868-in-2016">34: usr/bin/ld: cannot find -l<nameOfTheLibrary> (score <span>838868</span> in 2016)</a></li>
<li><a href="#how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal-score-838291-in-2017">35: How to run a shell script on a Unix console or Mac terminal? (score <span>838291</span> in 2017)</a></li>
<li><a href="#how-to-get-full-path-of-a-file-score-837153-in-2014">36: How to get full path of a file? (score <span>837153</span> in 2014)</a></li>
<li><a href="#performing-http-requests-with-curl-using-proxy-score-833120-in-2017">37: performing HTTP requests with cURL (using PROXY) (score <span>833120</span> in 2017)</a></li>
<li><a href="#shell-command-to-tar-directory-excluding-certain-filesfolders-score-811337-in-2019">38: Shell command to tar directory excluding certain files/folders (score <span>811337</span> in 2019)</a></li>
<li><a href="#how-do-i-delete-an-exported-environment-variable-score-805227-in-2017">39: How do I delete an exported environment variable? (score <span>805227</span> in 2017)</a></li>
<li><a href="#how-does-cat-eof-work-in-bash-score-797520-in-2017">40: How does “cat &lt;&lt; EOF” work in bash? (score <span>797520</span> in 2017)</a></li>
<li><a href="#dude-wheres-my-php.ini-score-754046-in-2019">41: Dude, where’s my php.ini? (score <span>754046</span> in 2019)</a></li>
<li><a href="#how-do-i-find-the-mysql-my.cnf-location-score-752753-in-2018">42: How do I find the MySQL my.cnf location (score <span>752753</span> in 2018)</a></li>
<li><a href="#open-in-python-does-not-create-a-file-if-it-doesnt-exist-score-749514-in-2016">43: open() in Python does not create a file if it doesn’t exist (score <span>749514</span> in 2016)</a></li>
<li><a href="#how-to-set-the-environmental-variable-ld_library_path-in-linux-score-746566-in-2015">44: How to set the environmental variable LD_LIBRARY_PATH in linux (score <span>746566</span> in 2015)</a></li>
<li><a href="#how-to-run-node.js-as-a-background-process-and-never-die-score-716866-in-2018">45: How to run Node.js as a background process and never die? (score <span>716866</span> in 2018)</a></li>
<li><a href="#how-can-i-see-the-size-of-files-and-directories-in-linux-score-707520-in-2019">46: How can I see the size of files and directories in linux? (score <span>707520</span> in 2019)</a></li>
<li><a href="#using-ls-to-list-directories-and-their-total-sizes-score-698469-in-2009">47: Using ls to list directories and their total sizes (score <span>698469</span> in 2009)</a></li>
<li><a href="#how-can-i-redirect-and-append-both-stdout-and-stderr-to-a-file-with-bash-score-692374-in-2015">48: How can I redirect and append both stdout and stderr to a file with Bash? (score <span>692374</span> in 2015)</a></li>
<li><a href="#how-to-set-java_home-in-linux-for-all-users-score-675722-in-2014">49: How to set JAVA_HOME in Linux for all users (score <span>675722</span> in 2014)</a></li>
<li><a href="#how-do-i-change-the-root-directory-of-an-apache-server-score-667193-in-2016">50: How do I change the root directory of an apache server? (score <span>667193</span> in 2016)</a></li>
<li><a href="#how-to-fix-sudo-no-tty-present-and-no-askpass-program-specified-error-score-655921-in-2018">51: How to fix ‘sudo: no tty present and no askpass program specified’ error? (score <span>655921</span> in 2018)</a></li>
<li><a href="#merge-convert-multiple-pdf-files-into-one-pdf-score-649302-in-2017">52: Merge / convert multiple PDF files into one PDF (score <span>649302</span> in 2017)</a></li>
<li><a href="#how-do-i-send-a-file-as-an-email-attachment-using-linux-command-line-score-635793-in-2016">53: How do I send a file as an email attachment using Linux command line? (score <span>635793</span> in 2016)</a></li>
<li><a href="#unicodedecodeerror-utf8-codec-cant-decode-byte-0x9c-score-605641-in-2019">54: UnicodeDecodeError: ‘utf8’ codec can’t decode byte 0x9c (score <span>605641</span> in 2019)</a></li>
<li><a href="#how-to-pass-password-to-scp-score-596751-in-2019">55: How to pass password to scp? (score <span>596751</span> in 2019)</a></li>
<li><a href="#how-do-i-test-if-a-variable-is-a-number-in-bash-score-596633-in-2017">56: How do I test if a variable is a number in Bash? (score <span>596633</span> in 2017)</a></li>
<li><a href="#using-openssl-to-get-the-certificate-from-a-server-score-591147-in">57: Using openssl to get the certificate from a server (score <span>591147</span> in )</a></li>
<li><a href="#why-doesnt-cd-work-in-a-shell-script-score-584778-in-2018">58: Why doesn’t “cd” work in a shell script? (score <span>584778</span> in 2018)</a></li>
<li><a href="#ld-cannot-find-an-existing-library-score-583334-in-2010">59: ld cannot find an existing library (score <span>583334</span> in 2010)</a></li>
<li><a href="#recursively-counting-files-in-a-linux-directory-score-580138-in-2015">60: Recursively counting files in a Linux directory (score <span>580138</span> in 2015)</a></li>
<li><a href="#why-do-you-need-to-put-binbash-at-the-beginning-of-a-script-file-score-573690-in-2018">61: Why do you need to put #!/bin/bash at the beginning of a script file? (score <span>573690</span> in 2018)</a></li>
<li><a href="#how-can-i-use-grep-to-show-just-filenames-on-linux-score-572766-in-2019">62: How can I use grep to show just filenames on Linux? (score <span>572766</span> in 2019)</a></li>
<li><a href="#how-to-obtain-the-number-of-cpuscores-in-linux-from-the-command-line-score-571310-in-2015">63: How to obtain the number of CPUs/cores in Linux from the command line? (score <span>571310</span> in 2015)</a></li>
<li><a href="#how-to-redirect-output-to-a-file-and-stdout-score-560328-in-2014">64: How to redirect output to a file and stdout (score <span>560328</span> in 2014)</a></li>
<li><a href="#write-to-.txt-file-score-558915-in-2014">65: Write to .txt file? (score <span>558915</span> in 2014)</a></li>
<li><a href="#how-to-grep-a-string-in-a-directory-and-all-its-subdirectories-files-in-linux-score-553700-in">66: How to grep a string in a directory and all its subdirectories’ files in LINUX? (score <span>553700</span> in )</a></li>
<li><a href="#install-tkinter-for-python-score-552246-in-2019">67: Install tkinter for Python (score <span>552246</span> in 2019)</a></li>
<li><a href="#grep-but-only-certain-file-extensions-score-550776-in-2017">68: grep, but only certain file extensions (score <span>550776</span> in 2017)</a></li>
<li><a href="#undefined-reference-to-pthread_create-in-linux-score-550266-in-2017">69: Undefined reference to pthread_create in Linux (score <span>550266</span> in 2017)</a></li>
<li><a href="#how-to-create-a-link-to-a-directory-score-529086-in-2016">70: How to create a link to a directory (score <span>529086</span> in 2016)</a></li>
<li><a href="#command-to-change-the-default-home-directory-of-a-user-score-524721-in-2014">71: Command to change the default home directory of a user (score <span>524721</span> in 2014)</a></li>
<li><a href="#argument-list-too-long-error-for-rm-cp-mv-commands-score-523283-in-2018">72: Argument list too long error for rm, cp, mv commands (score <span>523283</span> in 2018)</a></li>
<li><a href="#how-to-set-proxy-for-wget-score-523259-in-2019">73: How to set proxy for wget? (score <span>523259</span> in 2019)</a></li>
<li><a href="#convert-dos-line-endings-to-linux-line-endings-in-vim-score-517407-in-2016">74: Convert DOS line endings to Linux line endings in vim (score <span>517407</span> in 2016)</a></li>
<li><a href="#how-to-log-in-to-mysql-and-query-the-database-from-linux-terminal-score-516111-in-2011">75: how to log in to mysql and query the database from linux terminal (score <span>516111</span> in 2011)</a></li>
<li><a href="#how-to-determine-whether-a-given-linux-is-32-bit-or-64-bit-score-510809-in-2011">76: How to determine whether a given Linux is 32 bit or 64 bit? (score <span>510809</span> in 2011)</a></li>
<li><a href="#how-do-i-connect-to-a-terminal-to-a-serial-to-usb-device-on-ubuntu-10.10-maverick-meerkat-score-507010-in-2018">77: How do I connect to a terminal to a serial-to-USB device on Ubuntu 10.10 (Maverick Meerkat)? (score <span>507010</span> in 2018)</a></li>
<li><a href="#changing-default-shell-in-linux-score-504666-in-2019">78: Changing default shell in Linux (score <span>504666</span> in 2019)</a></li>
<li><a href="#chmod-recursively-score-502035-in-2017">79: Chmod recursively (score <span>502035</span> in 2017)</a></li>
<li><a href="#docker-cant-connect-to-docker-daemon-score-499935-in-2017">80: Docker can’t connect to docker daemon (score <span>499935</span> in 2017)</a></li>
<li><a href="#command-line-tool-to-find-java-heap-size-and-memory-used-linux-score-494555-in">81: Command-line Tool to find Java Heap Size and Memory Used (Linux)? (score <span>494555</span> in )</a></li>
<li><a href="#how-to-see-top-processes-sorted-by-actual-memory-usage-score-492906-in-2018">82: How to see top processes sorted by actual memory usage? (score <span>492906</span> in 2018)</a></li>
<li><a href="#how-do-i-change-the-number-of-open-files-limit-in-linux-score-491550-in-2012">83: How do I change the number of open files limit in Linux? (score <span>491550</span> in 2012)</a></li>
<li><a href="#check-if-a-particular-service-is-running-on-ubuntu-score-490966-in-2016">84: Check If a Particular Service Is Running on Ubuntu (score <span>490966</span> in 2016)</a></li>
<li><a href="#apt-get-command-not-found-score-490087-in">85: apt-get: command not found (score <span>490087</span> in )</a></li>
<li><a href="#how-to-unmount-a-busy-device-score-483674-in-2019">86: How to unmount a busy device (score <span>483674</span> in 2019)</a></li>
<li><a href="#configure-binshm-bad-interpreter-score-480455-in-2010">87: ./configure : /bin/sh^M : bad interpreter (score <span>480455</span> in 2010)</a></li>
<li><a href="#given-two-directory-trees-how-can-i-find-out-which-files-differ-score-474513-in">88: Given two directory trees, how can I find out which files differ? (score <span>474513</span> in )</a></li>
<li><a href="#execute-combine-multiple-linux-commands-in-one-line-score-471680-in-2019">89: Execute combine multiple Linux commands in one line (score <span>471680</span> in 2019)</a></li>
<li><a href="#automatically-enter-ssh-password-with-script-score-471660-in-2017">90: Automatically enter SSH password with script (score <span>471660</span> in 2017)</a></li>
<li><a href="#easily-measure-elapsed-time-score-469449-in-2013">91: Easily measure elapsed time (score <span>469449</span> in 2013)</a></li>
<li><a href="#extract-file-basename-without-path-and-extension-in-bash-score-465033-in-2017">92: Extract file basename without path and extension in bash (score <span>465033</span> in 2017)</a></li>
<li><a href="#find-all-storage-devices-attached-to-a-linux-machine-score-460866-in-2013">93: Find all storage devices attached to a Linux machine (score <span>460866</span> in 2013)</a></li>
<li><a href="#get-current-time-in-seconds-since-the-epoch-on-linux-bash-score-459374-in-2018">94: Get current time in seconds since the Epoch on Linux, Bash (score <span>459374</span> in 2018)</a></li>
<li><a href="#how-to-add-a-default-include-path-for-gcc-in-linux-score-455167-in-2017">95: How to add a default include path for GCC in Linux? (score <span>455167</span> in 2017)</a></li>
<li><a href="#how-to-replace-a-string-in-multiple-files-in-linux-command-line-score-453048-in-2017">96: How to replace a string in multiple files in linux command line (score <span>453048</span> in 2017)</a></li>
<li><a href="#pipe-tofrom-the-clipboard-in-bash-script-score-452594-in-2018">97: Pipe to/from the clipboard in Bash script (score <span>452594</span> in 2018)</a></li>
<li><a href="#how-to-recursively-download-a-folder-via-ftp-on-linux-score-452057-in-2016">98: How to recursively download a folder via FTP on Linux (score <span>452057</span> in 2016)</a></li>
<li><a href="#count-number-of-files-within-a-directory-in-linux-score-451411-in-2018">99: Count number of files within a directory in Linux? (score <span>451411</span> in 2018)</a></li>
<li><a href="#exploring-docker-containers-file-system-score-448919-in-2017">100: Exploring Docker container’s file system (score <span>448919</span> in 2017)</a></li>
</ul>
</nav>
<section class="level2">
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
<section id="how-do-i-find-all-files-containing-specific-text-on-linux-score-6026154-in-2017" class="level3">
<h3>1: How do I find all files containing specific text on Linux? (score <a href="https://stackoverflow.com/q/16956810.html">6026154</a> in 2017)</h3>
<section id="question" class="level4">
<h4>Question</h4>
<p>I’m trying to find a way to scan my entire Linux system for all files containing a specific string of text. Just to clarify, I’m looking for text within the file, not in the file name.</p>
<p>When I was looking up how to do this, I came across this solution twice:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">find</span> / -type f -exec grep -H <span class="st">&#39;text-to-find-here&#39;</span> {} <span class="dt">\;</span></a></code></pre></div>
<p>However, it doesn’t work. It seems to display every single file in the system.</p>
<p>Is this close to the proper way to do it? If not, how should I? This ability to find text strings in files would be extraordinarily useful for some programming projects I’m doing.</p>
</section>
<section id="answer-accepted-score-8685" class="level4">
<h4>Answer accepted (score 8685)</h4>
<p>Do the following:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">grep</span> -rnw <span class="st">&#39;/path/to/somewhere/&#39;</span> -e <span class="st">&#39;pattern&#39;</span></a></code></pre></div>
<ul>
<li>
<code>-r</code> or <code>-R</code> is recursive,
</li>
<li>
<code>-n</code> is line number, and
</li>
<li>
<code>-w</code> stands for match the whole word.
</li>
<li>
<code>-l</code> (lower-case L) can be added to just give the file name of matching files.
</li>
</ul>
<p>Along with these, <code>--exclude</code>, <code>--include</code>, <code>--exclude-dir</code> flags could be used for efficient searching:</p>
<ul>
<li>
<p>
This will only search through those files which have .c or .h extensions:
</p>
<code>sh grep --include=\*.{c,h} -rnw '/path/to/somewhere/' -e &quot;pattern&quot;</code>
</li>
<li>
<p>
This will exclude searching all the files ending with .o extension:
</p>
<code>sh grep --exclude=*.o -rnw '/path/to/somewhere/' -e &quot;pattern&quot;</code>
</li>
<li>
<p>
For directories it’s possible to exclude a particular directory(ies) through <code>--exclude-dir</code> parameter. For example, this will exclude the dirs dir1/, dir2/ and all of them matching *.dst/:
</p>
<code>sh grep --exclude-dir={dir1,dir2,*.dst} -rnw '/path/to/somewhere/' -e &quot;pattern&quot;</code>
</li>
</ul>
<p>This works very well for me, to achieve almost the same purpose like yours.</p>
<p>For more options check <code>man grep</code>.</p>
</section>
<section id="answer-2-score-1380" class="level4">
<h4>Answer 2 (score 1380)</h4>
<p>You can use <code>grep -ilR</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">grep</span> -Ril <span class="st">&quot;text-to-find-here&quot;</span> /</a></code></pre></div>
<ul>
<li>
<code>i</code> stands for ignore case (optional in your case).
</li>
<li>
<code>R</code> stands for recursive.
</li>
<li>
<code>l</code> stands for “show the file name, not the result itself”.
</li>
<li>
<code>/</code> stands for starting at the root of your machine.
</li>
</ul>
</section>
<section id="answer-3-score-303" class="level4">
<h4>Answer 3 (score 303)</h4>
<p>You can use <a href="http://beyondgrep.com/">ack</a>. It is like <a href="http://en.wikipedia.org/wiki/Grep">grep</a> for source code. You can scan your entire file system with it.</p>
<p>Just do:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="ex">ack</span> <span class="st">&#39;text-to-find-here&#39;</span></a></code></pre></div>
<p>In your root directory.</p>
<p>You can also use <a href="http://en.wikipedia.org/wiki/Regular_expression">regular expressions</a>, specify the filetype, etc.</p>
<hr>
<p><strong>UPDATE</strong></p>
<p>I just discovered <a href="https://github.com/ggreer/the_silver_searcher">The Silver Searcher</a>, which is like ack but 3-5x faster than it and even ignores patterns from a <code>.gitignore</code> file.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-change-permissions-for-a-folder-and-all-of-its-subfolders-and-files-in-one-step-in-linux-score-3802221-in-2019" class="level3">
<h3>2: How do I change permissions for a folder and all of its subfolders and files in one step in Linux? (score <a href="https://stackoverflow.com/q/3740152.html">3802221</a> in 2019)</h3>
<section id="question-1" class="level4">
<h4>Question</h4>
<p>I would like to change permissions of a folder and all its sub folders and files in one step (command) in Linux.</p>
<p>I have already tried the below command but it works only for the mentioned folder:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">chmod</span> 775 /opt/lampp/htdocs</a></code></pre></div>
<p>Is there a way to set <code>chmod 755</code> for <code>/opt/lampp/htdocs</code> and all of its content including subfolders and files?</p>
<p>Also, in the future, if I create a new folder or file inside <code>htdocs</code>, how can the permissions of that automatically be set to <code>755</code>?</p>
<p>I had a look at this link too:</p>
<p><a href="http://stackoverflow.com/questions/3740187/how-to-set-default-chmod-in-linux-terminal">http://stackoverflow.com/questions/3740187/how-to-set-default-chmod-in-linux-terminal</a></p>
</section>
<section id="answer-accepted-score-2775" class="level4">
<h4>Answer accepted (score 2775)</h4>
<p>The other answers are correct, in that <code>chmod -R 755</code> will set these permissions to all files and subfolders in the tree. <strong>But why on earth would you want to</strong>? It might make sense for the directories, but why set the execute bit on all the files?</p>
<p>I suspect what you really want to do is set the directories to 755 and either leave the files alone or set them to 644. For this, you can use the <code>find</code> command. For example:</p>
<p>To change all the directories to 755 (<code>drwxr-xr-x</code>):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="fu">find</span> /opt/lampp/htdocs -type d -exec chmod 755 {} <span class="dt">\;</span></a></code></pre></div>
<p>To change all the files to 644 (<code>-rw-r--r--</code>):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="fu">find</span> /opt/lampp/htdocs -type f -exec chmod 644 {} <span class="dt">\;</span></a></code></pre></div>
</section>
<section id="answer-2-score-750" class="level4">
<h4>Answer 2 (score 750)</h4>
<p>Check the -R option</p>
<p><code>chmod -R &amp;lt;permissionsettings&amp;gt; &amp;lt;dirname&amp;gt;</code></p>
<p>In the future, you can save a lot of time by checking the man page first:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">man</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="bu">command</span> name<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>So in this case:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">man</span> chmod</a></code></pre></div>
</section>
<section id="answer-3-score-365" class="level4">
<h4>Answer 3 (score 365)</h4>
<p>If you want to set permissions on all files to <code>a+r</code>, and all directories to <code>a+x</code>, and do that recursively through the complete subdirectory tree, use:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="fu">chmod</span> -R a+rX *</a></code></pre></div>
<p>The <code>X</code> (that is capital <code>X</code>, not small <code>x</code>!) is ignored for files (unless they are executable for someone already) but is used for directories.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-copy-folder-with-files-to-another-folder-in-unixlinux-score-2371756-in-2017" class="level3">
<h3>3: How do I copy folder with files to another folder in Unix/Linux? (score <a href="https://stackoverflow.com/q/14922562.html">2371756</a> in 2017)</h3>
<section id="question-2" class="level4">
<h4>Question</h4>
<p>I am having some issues to copy a folder with files in that folder into another folder. Command <code>cp -r</code> doesn’t copy files in the folder.</p>
</section>
<section id="answer-accepted-score-1861" class="level4">
<h4>Answer accepted (score 1861)</h4>
<p>The option you’re looking for is <code>-R</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">cp</span> -R path_to_source path_to_destination/</a></code></pre></div>
<ul>
<li>
If <code>destination</code> doesn’t exist, it will be created.
</li>
<li>
<code>-R</code> means <code>copy directories recursively</code>. You can also use <code>-r</code> since it’s case-insensitive.
</li>
<li>
Note the nuances with adding the trailing <code>/</code> as per <span class="citation" data-cites="muni764">@muni764</span>’s <a href="https://stackoverflow.com/questions/14922562/how-do-i-copy-folder-with-files-to-another-folder-in-unix-linux#comment90054461_14922600">comment</a>.
</li>
</ul>
</section>
<section id="answer-2-score-364" class="level4">
<h4>Answer 2 (score 364)</h4>
<p>You are looking for the <code>cp</code> command. You need to change directories so that you are outside of the directory you are trying to copy. If the directory you’re copying is called <code>dir1</code> and you want to copy it to your <code>/home/Pictures</code> folder:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" title="1"><span class="fu">cp</span> -r dir1/ ~/Pictures/</a></code></pre></div>
<p>Linux is case-sensitive and also needs the <code>/</code> after each directory to know that it isn’t a file. <code>~</code> is a special character in the terminal that automatically evaluates to the current user’s home directory. If you need to know what directory you are in, use the command <code>pwd</code>.</p>
<p>When you don’t know how to use a Linux command, there is a manual page that you can refer to by typing</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" title="1"><span class="fu">man</span> [insert command here]</a></code></pre></div>
<p>at a terminal prompt.</p>
<p>Also, to auto complete long file paths when typing in the terminal, you can hit <kbd>Tab</kbd> after you’ve started typing the path and you will either be presented with choices, or it will insert the remaining part of the path.</p>
</section>
<section id="answer-3-score-101" class="level4">
<h4>Answer 3 (score 101)</h4>
<p>Use:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" title="1">$ <span class="fu">cp</span> -R SRCFOLDER DESTFOLDER/</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-recursively-find-all-files-in-current-and-subfolders-based-on-wildcard-matching-score-2158446-in-2016" class="level3">
<h3>4: How can I recursively find all files in current and subfolders based on wildcard matching? (score <a href="https://stackoverflow.com/q/5905054.html">2158446</a> in 2016)</h3>
<section id="question-3" class="level4">
<h4>Question</h4>
<p>How can I recursively find all files in current and subfolders based on wildcard matching?</p>
</section>
<section id="answer-accepted-score-2420" class="level4">
<h4>Answer accepted (score 2420)</h4>
<p>Use <a href="http://linux.die.net/man/1/find" rel="noreferrer">find</a> for that:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" title="1"><span class="fu">find</span> . -name <span class="st">&quot;foo*&quot;</span></a></code></pre></div>
<p><code>find</code> needs a starting point, and the <code>.</code> (dot) points to the current directory.</p>
</section>
<section id="answer-2-score-202" class="level4">
<h4>Answer 2 (score 202)</h4>
<p>Piping find into grep is often more convenient; it gives you the full power of regular expressions for arbitrary wildcard matching.</p>
<p>For example, to find all files with case insensitive string “foo” in the filename:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" title="1"><span class="ex">~</span>$ <span class="fu">find</span> . -print <span class="kw">|</span> <span class="fu">grep</span> -i foo</a></code></pre></div>
</section>
<section id="answer-3-score-134" class="level4">
<h4>Answer 3 (score 134)</h4>
<p><code>find</code> will find all files that match a pattern:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb17-1" title="1"><span class="fu">find</span> . -name <span class="st">&quot;*foo&quot;</span></a></code></pre></div>
<p>However, if you want a picture:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb18-1" title="1"><span class="ex">tree</span> -P <span class="st">&quot;*foo&quot;</span></a></code></pre></div>
<p>Hope this helps!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-symlink-a-file-in-linux-score-1958525-in-2016" class="level3">
<h3>5: How to symlink a file in Linux? (score <a href="https://stackoverflow.com/q/1951742.html">1958525</a> in 2016)</h3>
<section id="question-4" class="level4">
<h4>Question</h4>
<p>I want to make a symbolic link in Linux. I have written this bash command where the first path is the folder I want link into and the second path is the compiled source.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb19-1" title="1"><span class="fu">ln</span> -s <span class="st">&#39;+basebuild+&#39;</span>/IpDome-kernel/kernel /home/build/sandbox/gen2/basebuild/IpDome-kernel/kernal </a></code></pre></div>
<p>Is this correct?</p>
</section>
<section id="answer-accepted-score-3555" class="level4">
<h4>Answer accepted (score 3555)</h4>
<p>To create a new symlink (will fail if symlink exists already):</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" title="1"><span class="fu">ln</span> -s /path/to/file /path/to/symlink</a></code></pre></div>
<p>To create or update a symlink:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb21-1" title="1"><span class="fu">ln</span> -sf /path/to/file /path/to/symlink</a></code></pre></div>
</section>
<section id="answer-2-score-285" class="level4">
<h4>Answer 2 (score 285)</h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb22-1" title="1"><span class="fu">ln</span> -s TARGET LINK_NAME</a></code></pre></div>
<p>Where the <code>-s</code> makes it symbolic.</p>
</section>
<section id="answer-3-score-275" class="level4">
<h4>Answer 3 (score 275)</h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" title="1"><span class="fu">ln</span> -s EXISTING_FILE_OR_DIRECTORY SYMLINK_NAME</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="chmod-777-to-a-folder-and-all-contents-score-1793940-in-2018" class="level3">
<h3>6: Chmod 777 to a folder and all contents (score <a href="https://stackoverflow.com/q/8328481.html">1793940</a> in 2018)</h3>
<section id="question-5" class="level4">
<h4>Question</h4>
<p>I have a web directory <code>/www</code> and a folder in that directory called <code>store</code>.</p>
<p>Within <code>store</code> are several files and folders. I want to give the folder <code>store</code> and all files and folders within the <code>store</code> folder all permissions.</p>
<p>How do I do this? I am guessing via .htaccess.</p>
</section>
<section id="answer-accepted-score-723" class="level4">
<h4>Answer accepted (score 723)</h4>
<p>If you are going for a console command it would be:</p>
<p><code>chmod -R 777 /www/store</code>. The <code>-R</code> (or <code>--recursive</code>) options make it recursive.</p>
<p>Or if you want to make all the files in the current directory have all permissions type:</p>
<p><code>chmod -R 777 ./</code></p>
<p>If you need more info about <code>chmod</code> command see: <a href="https://www.linux.org/threads/file-permissions-chmod.4124/" rel="noreferrer">File permission</a></p>
</section>
<section id="answer-2-score-162" class="level4">
<h4>Answer 2 (score 162)</h4>
<p>If by all permissions you mean 777</p>
<p>Navigate to folder and</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" title="1"><span class="fu">chmod</span> -R 777 .</a></code></pre></div>
</section>
<section id="answer-3-score-100" class="level4">
<h4>Answer 3 (score 100)</h4>
<h5>
You can give permission to folder and all its contents using option <code>-R</code> i.e Recursive permissions.
</h2>
<p>But I would suggest not to give 777 permission to all folder and it’s all contents. You should give specific permission to each sub-folder in www directory folders.</p>
<h5>
Ideally, give <code>755</code> permission for security reasons to the web folder.
</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" title="1"><span class="fu">sudo</span> chmod -R 755 /www/store</a></code></pre></div>
<p>Each number has meaning in permission. Do not give full permission.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb26-1" title="1"><span class="ex">N</span>   Description                      ls   binary    </a>
<a class="sourceLine" id="cb26-2" title="2"><span class="ex">0</span>   No permissions at all            ---  000</a>
<a class="sourceLine" id="cb26-3" title="3"><span class="ex">1</span>   Only execute                     --x  001</a>
<a class="sourceLine" id="cb26-4" title="4"><span class="ex">2</span>   Only write                       -w-  010</a>
<a class="sourceLine" id="cb26-5" title="5"><span class="ex">3</span>   Write and execute                -wx  011</a>
<a class="sourceLine" id="cb26-6" title="6"><span class="ex">4</span>   Only read                        r--  100</a>
<a class="sourceLine" id="cb26-7" title="7"><span class="ex">5</span>   Read and execute                 r-x  101</a>
<a class="sourceLine" id="cb26-8" title="8"><span class="ex">6</span>   Read and write                   rw-  110</a>
<a class="sourceLine" id="cb26-9" title="9"><span class="ex">7</span>   Read, write, and execute         rwx  111</a></code></pre></div>
<ul>
<li>
First Number 7 - Read, write, and execute for the user.
</li>
<li>
Second Number 5 - Read and execute for the group.
</li>
<li>
Third Number 5 - Read and execute for others.
</li>
</ul>
<p>If your production web folder has multiple users, then you can set permissions and user groups accordingly.</p>
<p>More info :</p>
<ol>
<li>
<a href="http://www.surfsafely.com/file-permissions-what-does-chmod-777-mean/" rel="noreferrer">Understanding File Permissions: What Does “Chmod 777″ Mean?</a>
</li>
<li>
<a href="https://askubuntu.com/questions/9402/what-file-permissions-should-i-set-on-web-root">What file permissions should I set on web root?</a>
</li>
<li>
<a href="https://askubuntu.com/questions/20105/why-shouldnt-var-www-have-chmod-777/20110#20110">Why shouldn’t /var/www have chmod 777</a>
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-create-a-file-in-linux-from-terminal-window-score-1564036-in-2018" class="level3">
<h3>7: How to create a file in Linux from terminal window? (score <a href="https://stackoverflow.com/q/9381463.html">1564036</a> in 2018)</h3>
<section id="question-6" class="level4">
<h4>Question</h4>
<p>What’s the easiest way to create a file in Linux terminal?</p>
</section>
<section id="answer-accepted-score-548" class="level4">
<h4>Answer accepted (score 548)</h4>
<p>Depending on what you want the file to contain:</p>
<ul>
<li>
<code>touch /path/to/file</code> for an empty file
</li>
<li>
<p>
<code>somecommand &amp;gt; /path/to/file</code> for a file containing the output of some command.
</p>
<code>sh   eg: grep --help &amp;gt; randomtext.txt       echo &quot;This is some text&quot; &amp;gt; randomtext.txt</code>
</li>
<li>
<p>
<code>nano /path/to/file</code> or <code>vi /path/to/file</code> (or <code>any other editor emacs,gedit etc</code>)<br> It either opens the existing one for editing or creates &amp; opens the empty file to enter, if it doesn’t exist
</p>
</li>
</ul>
</section>
<section id="answer-2-score-118" class="level4">
<h4>Answer 2 (score 118)</h4>
<p>Use <a href="http://en.wikipedia.org/wiki/Touch_(Unix)" rel="noreferrer">touch</a></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb27-1" title="1"><span class="fu">touch</span> filename</a></code></pre></div>
</section>
<section id="answer-3-score-85" class="level4">
<h4>Answer 3 (score 85)</h4>
<p><strong>Create the file using <code>cat</code></strong></p>
<p><code>$ cat &amp;gt; myfile.txt</code></p>
<p>Now, just type whatever you want in the file:</p>
<p><code>Hello World!</code></p>
<p>CTRL-D to save and exit</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-permanently-set-path-on-linuxunix-score-1467227-in-2018" class="level3">
<h3>8: How to permanently set $PATH on Linux/Unix? (score <a href="https://stackoverflow.com/q/14637979.html">1467227</a> in 2018)</h3>
<section id="question-7" class="level4">
<h4>Question</h4>
<p>I’m trying to add a directory to my path so it will always be in my Linux path. I’ve tried:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb28-1" title="1"><span class="bu">export</span> <span class="va">PATH=$PATH</span>:/path/to/dir</a></code></pre></div>
<p>This works, however each time I exit the terminal and start a new terminal instance, this path is lost, and I need to run the export command again.</p>
<p>How can I do it so this will be set permanently?</p>
</section>
<section id="answer-accepted-score-998" class="level4">
<h4>Answer accepted (score 998)</h4>
<p><strong>You need to add it to your <code>~/.profile</code> or <code>~/.bashrc</code> file.</strong> </p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb29-1" title="1"><span class="bu">export</span> <span class="va">PATH=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/path/to/dir&quot;</span></a></code></pre></div>
<p>Depending on what you’re doing, you also may want to symlink to binaries:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb30-1" title="1"><span class="bu">cd</span> /usr/bin</a>
<a class="sourceLine" id="cb30-2" title="2"><span class="fu">sudo</span> ln -s /path/to/binary binary-name</a></code></pre></div>
<p><strong>Note that this will not automatically update your path for the remainder of the session.</strong> To do this, you should run:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb31-1" title="1"><span class="bu">source</span> ~/.profile </a>
<a class="sourceLine" id="cb31-2" title="2"><span class="ex">or</span></a>
<a class="sourceLine" id="cb31-3" title="3"><span class="bu">source</span> ~/.bashrc</a></code></pre></div>
</section>
<section id="answer-2-score-237" class="level4">
<h4>Answer 2 (score 237)</h4>
<p>
In Ubuntu, edit <code>/etc/environment</code>. Its sole purpose is to store Environment Variables. Originally the $PATH variable is defined here. This is a paste from my <code>/etc/environment</code> file:
</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb32-1" title="1"><span class="va">PATH=</span><span class="st">&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games&quot;</span></a></code></pre></div>
<p>So you can just open up this file as root and add whatever you want.</p>
<p>
For Immediate results, Run (try as normal user <em>and</em> root):
</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb33-1" title="1"><span class="bu">source</span> /etc/environment <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="bu">export</span> <span class="va">PATH</span></a></code></pre></div>
<p><strong>UPDATE:</strong></p>
<p>If you use <code>zsh</code> (a.k.a Z Shell), add this line right after the comments in <code>/etc/zsh/zshenv</code>:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb34-1" title="1"><span class="bu">source</span> /etc/environment</a></code></pre></div>
<p><em>I encountered this little quirk on Ubuntu 15.10, but if your <strong>zsh</strong> is not getting the correct <strong>PATH</strong>, this could be why</em></p>
</section>
<section id="answer-3-score-152" class="level4">
<h4>Answer 3 (score 152)</h4>
<p>There are multiple ways to do it. The actual solution depends on the purpose.</p>
<p>The variable values are usually stored in either a list of assignments or a shell script that is run at the start of the system or user session. In case of the shell script you must use a specific shell syntax.</p>
<h5>
System wide
</h2>
<ol>
<li>
<code>/etc/environment</code> List of unique assignments. Perfect for adding system-wide directories like <code>/usr/local/something/bin</code> to <code>PATH</code> variable or defining <code>JAVA_HOME</code>.
</li>
<li>
<code>/etc/xprofile</code> Shell script executed while starting X Window System session. This is run for every user that logs into X Window System. It is a good choice for <code>PATH</code> entries that are valid for every user like <code>/usr/local/something/bin</code>. The file is included by other script so use POSIX shell syntax not the syntax of your user shell.
</li>
<li>
<code>/etc/profile</code> and <code>/etc/profile.d/*</code> Shell script. This is a good choice for shell-only systems. Those files are read only by shells.
</li>
<li>
<code>/etc/&amp;lt;shell&amp;gt;.&amp;lt;shell&amp;gt;rc</code>. Shell script. This is a poor choice because it is single shell specific.
</li>
</ol>
<h5>
User session
</h2>
<ol>
<li>
<code>~/.pam_environment</code>. List of unique assignments. Loaded by <a href="http://www.linux-pam.org/" rel="noreferrer">PAM</a> at the start of every user session irrelevant if it is an X Window System session or shell. You cannot reference other variable including <code>HOME</code> or <code>PATH</code> so it has limited use.
</li>
<li>
<code>~/.xprofile</code> Shell script. This is executed when the user logs into X Window System system. The variables defined here are visible to every X application. Perfect choice for extending <code>PATH</code> with values such as <code>~/bin</code> or <code>~/go/bin</code> or defining user specific <code>GOPATH</code> or <code>NPM_HOME</code>. The file is included by other script so use POSIX shell syntax not the syntax of your user shell. Your graphical text editor or IDE started by shortcut will see those values.
</li>
<li>
<code>~/.profile</code> Shell script. It will be visible only for programs started from terminal or terminal emulator. It is a good choice for shell-only systems.
</li>
<li>
<code>~/.&amp;lt;shell&amp;gt;rc</code>. Shell script. This is a poor choice because it is single shell specific.
</li>
</ol>
<h5>
Distribution specific documentation
</h2>
<ul>
<li>
<a href="https://help.ubuntu.com/community/EnvironmentVariables#Persistent_environment_variables" rel="noreferrer">Ubuntu</a>
</li>
<li>
<a href="https://wiki.archlinux.org/index.php/Environment_variables" rel="noreferrer">archlinux</a>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-grep-recursively-score-1461938-in-2018" class="level3">
<h3>9: How do I grep recursively? (score <a href="https://stackoverflow.com/q/1987926.html">1461938</a> in 2018)</h3>
<section id="question-8" class="level4">
<h4>Question</h4>
<p>How do I recursively <code>grep</code> all directories and subdirectories?</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb35-1" title="1"><span class="fu">find</span> . <span class="kw">|</span> <span class="fu">xargs</span> grep <span class="st">&quot;texthere&quot;</span> *</a></code></pre></div>
</section>
<section id="answer-accepted-score-2401" class="level4">
<h4>Answer accepted (score 2401)</h4>
<div class="sourceCode" id="cb36"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb36-1" title="1"><span class="fu">grep</span> -r <span class="st">&quot;texthere&quot;</span> .</a></code></pre></div>
<p>The first parameter represents the regular expression to search for, while the second one represents the directory that should be searched. In this case, <code>.</code> means the current directory.</p>
<p>Note: This works for GNU grep, and on some platforms like Solaris you must specifically use GNU grep as opposed to legacy implementation. For Solaris this is the <code>ggrep</code> command.</p>
</section>
<section id="answer-2-score-651" class="level4">
<h4>Answer 2 (score 651)</h4>
<p>If you know the extension or pattern of the file you would like, another method is to use <code>--include</code> option:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb37-1" title="1"><span class="fu">grep</span> -r --include <span class="st">&quot;*.txt&quot;</span> texthere .</a></code></pre></div>
<p>You can also mention files to exclude with <code>--exclude</code>.</p>
<h5>
Ag
</h3>
<p>If you frequently search through code, <a href="https://github.com/ggreer/the_silver_searcher">Ag (The Silver Searcher)</a> is a much faster alternative to grep, that’s customized for searching code. For instance, it’s recursive by default and automatically ignores files and directories listed in <code>.gitignore</code>, so you don’t have to keep passing the same cumbersome exclude options to grep or find.</p>
</section>
<section id="answer-3-score-122" class="level4">
<h4>Answer 3 (score 122)</h4>
<p>Also:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb38-1" title="1"><span class="fu">find</span> ./ -type f -print0 <span class="kw">|</span> <span class="fu">xargs</span> -0 grep <span class="st">&quot;foo&quot;</span></a></code></pre></div>
<p>but <code>grep -r</code> is a better answer.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="looping-through-the-content-of-a-file-in-bash-score-1415142-in-2018" class="level3">
<h3>10: Looping through the content of a file in Bash (score <a href="https://stackoverflow.com/q/1521462.html">1415142</a> in 2018)</h3>
<section id="question-9" class="level4">
<h4>Question</h4>
<p>How do I iterate through each line of a text file with <a href="http://en.wikipedia.org/wiki/Bash" rel="noreferrer">Bash</a>?</p>
<p>With this script:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb39-1" title="1"><span class="bu">echo</span> <span class="st">&quot;Start!&quot;</span></a>
<a class="sourceLine" id="cb39-2" title="2"><span class="kw">for</span> <span class="ex">p</span> in (peptides.txt)</a>
<a class="sourceLine" id="cb39-3" title="3"><span class="kw">do</span></a>
<a class="sourceLine" id="cb39-4" title="4">    <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${p}</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb39-5" title="5"><span class="kw">done</span></a></code></pre></div>
<p>I get this output on the screen:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb40-1" title="1"><span class="ex">Start</span>!</a>
<a class="sourceLine" id="cb40-2" title="2"><span class="ex">.</span>/runPep.sh: <span class="ex">line</span> 3: syntax error near unexpected token <span class="kw">`(</span><span class="st">&#39;</span></a>
<a class="sourceLine" id="cb40-3" title="3"><span class="st">./runPep.sh: line 3: `for p in (peptides.txt)&#39;</span></a></code></pre></div>
<p>(Later I want to do something more complicated with <code>$p</code> than just output to the screen.)</p>
<hr>
<p>The environment variable <strong>SHELL</strong> is (from env):</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb41-1" title="1"><span class="va">SHELL=</span>/bin/bash</a></code></pre></div>
<p><code>/bin/bash --version</code> output:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb42-1" title="1"><span class="ex">GNU</span> bash, version 3.1.17(1)<span class="ex">-release</span> (x86_64-suse-linux-gnu)</a>
<a class="sourceLine" id="cb42-2" title="2"><span class="ex">Copyright</span> (C) <span class="ex">2005</span> Free Software Foundation, Inc.</a></code></pre></div>
<p><code>cat /proc/version</code> output:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb43-1" title="1"><span class="ex">Linux</span> version 2.6.18.2-34-default (geeko@buildhost) <span class="kw">(</span><span class="fu">gcc</span> version 4.1.2 20061115 (prerelease<span class="kw">)</span> <span class="kw">(</span><span class="ex">SUSE</span> Linux<span class="kw">)</span>) <span class="co">#1 SMP Mon Nov 27 11:46:27 UTC 2006</span></a></code></pre></div>
<p>The file peptides.txt contains:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb44-1" title="1"><span class="ex">RKEKNVQ</span></a>
<a class="sourceLine" id="cb44-2" title="2"><span class="ex">IPKKLLQK</span></a>
<a class="sourceLine" id="cb44-3" title="3"><span class="ex">QYFHQLEKMNVK</span></a>
<a class="sourceLine" id="cb44-4" title="4"><span class="ex">IPKKLLQK</span></a>
<a class="sourceLine" id="cb44-5" title="5"><span class="ex">GDLSTALEVAIDCYEK</span></a>
<a class="sourceLine" id="cb44-6" title="6"><span class="ex">QYFHQLEKMNVKIPENIYR</span></a>
<a class="sourceLine" id="cb44-7" title="7"><span class="ex">RKEKNVQ</span></a>
<a class="sourceLine" id="cb44-8" title="8"><span class="ex">VLAKHGKLQDAIN</span></a>
<a class="sourceLine" id="cb44-9" title="9"><span class="ex">ILGFMK</span></a>
<a class="sourceLine" id="cb44-10" title="10"><span class="ex">LEDVALQILL</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-1891" class="level4">
<h4>Answer accepted (score 1891)</h4>
<p>One way to do it is:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">while</span> <span class="bu">read</span> <span class="va">p</span>; <span class="kw">do</span></a>
<a class="sourceLine" id="cb45-2" title="2">  <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$p</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb45-3" title="3"><span class="kw">done</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">peptides.txt</span></a></code></pre></div>
<p>As pointed out in the comments, this has the side effects of trimming leading whitespace, interpretting backslash sequences, and skipping the trailing line if it’s missing a terminating linefeed. If these are concerns, you can do:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb46-1" title="1"><span class="kw">while</span> <span class="va">IFS=</span><span class="st">&quot;&quot;</span> <span class="bu">read</span> -r <span class="va">p</span> <span class="kw">||</span><span class="bu"> [</span> <span class="ot">-n</span> <span class="st">&quot;</span><span class="va">$p</span><span class="st">&quot;</span><span class="bu"> ]</span></a>
<a class="sourceLine" id="cb46-2" title="2"><span class="kw">do</span></a>
<a class="sourceLine" id="cb46-3" title="3">  <span class="bu">printf</span> <span class="st">&#39;%s\n&#39;</span> <span class="st">&quot;</span><span class="va">$p</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb46-4" title="4"><span class="kw">done</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">peptides.txt</span></a></code></pre></div>
<hr>
<p>Exceptionally, if the <a href="https://unix.stackexchange.com/questions/107800/using-while-loop-to-ssh-to-multiple-servers">loop body may read from standard input</a>, you can open the file using a different file descriptor:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb47-1" title="1"><span class="kw">while</span> <span class="bu">read</span> -u 10 <span class="va">p</span>; <span class="kw">do</span></a>
<a class="sourceLine" id="cb47-2" title="2">  <span class="ex">...</span></a>
<a class="sourceLine" id="cb47-3" title="3"><span class="kw">done</span> <span class="ex">10</span><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">peptides.txt</span></a></code></pre></div>
<p>Here, 10 is just an arbitrary number (different from 0, 1, 2).</p>
</section>
<section id="answer-2-score-374" class="level4">
<h4>Answer 2 (score 374)</h4>
<div class="sourceCode" id="cb48"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb48-1" title="1"><span class="fu">cat</span> peptides.txt <span class="kw">|</span> <span class="kw">while</span> <span class="bu">read</span> <span class="va">line</span></a>
<a class="sourceLine" id="cb48-2" title="2"><span class="kw">do</span></a>
<a class="sourceLine" id="cb48-3" title="3">   <span class="co"># do something with $line here</span></a>
<a class="sourceLine" id="cb48-4" title="4"><span class="kw">done</span></a></code></pre></div>
<p>and the one-liner variant:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb49-1" title="1"><span class="fu">cat</span> peptides.txt <span class="kw">|</span> <span class="kw">while</span> <span class="bu">read</span> <span class="va">line</span>; <span class="kw">do</span> <span class="ex">something_with_</span><span class="va">$line_here</span><span class="kw">;</span> <span class="kw">done</span></a></code></pre></div>
</section>
<section id="answer-3-score-137" class="level4">
<h4>Answer 3 (score 137)</h4>
<p><strong>Option 1a:</strong> While loop: Single line at a time: Input redirection</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb50-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb50-2" title="2"><span class="va">filename=</span><span class="st">&#39;peptides.txt&#39;</span></a>
<a class="sourceLine" id="cb50-3" title="3"><span class="bu">echo</span> Start</a>
<a class="sourceLine" id="cb50-4" title="4"><span class="kw">while</span> <span class="bu">read</span> <span class="va">p</span>; <span class="kw">do</span> </a>
<a class="sourceLine" id="cb50-5" title="5">    <span class="bu">echo</span> <span class="va">$p</span></a>
<a class="sourceLine" id="cb50-6" title="6"><span class="kw">done</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="va">$filename</span></a></code></pre></div>
<p>
<strong>Option 1b:</strong> While loop: Single line at a time:<br> Open the file, read from a file descriptor (in this case file descriptor #4).
</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb51-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb51-2" title="2"><span class="va">filename=</span><span class="st">&#39;peptides.txt&#39;</span></a>
<a class="sourceLine" id="cb51-3" title="3"><span class="bu">exec</span> 4<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="va">$filename</span></a>
<a class="sourceLine" id="cb51-4" title="4"><span class="bu">echo</span> Start</a>
<a class="sourceLine" id="cb51-5" title="5"><span class="kw">while</span> <span class="bu">read</span> -u4 <span class="va">p</span> ; <span class="kw">do</span></a>
<a class="sourceLine" id="cb51-6" title="6">    <span class="bu">echo</span> <span class="va">$p</span></a>
<a class="sourceLine" id="cb51-7" title="7"><span class="kw">done</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="error-could-not-find-or-load-main-class-score-1353834-in-2012" class="level3">
<h3>11: Error: Could not find or load main class (score <a href="https://stackoverflow.com/q/7485670.html">1353834</a> in 2012)</h3>
<section id="question-10" class="level4">
<h4>Question</h4>
<p>I am having trouble compiling and running my Java code, intended to allow me to interface Java with a shared object for Vensim, a simulation modeling package.</p>
<p>The following code compiles without error:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb52-1" title="1"><span class="ex">javac</span> -d . -cp ./apache-log4j-1.2.16/log4j-1.2.16.jar:./vensim.jar SpatialModel.java     VensimHelper.java VensimException.java VensimContextRepository.java</a></code></pre></div>
<p>However, when I try to run the following:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb53-1" title="1"><span class="ex">java</span> -cp ./apache-log4j-1.2.16/log4j-1.2.16.jar:./vensim.jar SpatialModel vars</a></code></pre></div>
<p>
I get the following error: “Error: Could not find or load main class SpatialModel”. My SpatialModel.java code does contain a ‘main’ method (below), so I’m not sure what the problem is - can anyone please help me out? Thanks.
</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb54-1" title="1"><span class="ex">import</span> java.io.File<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-2" title="2"><span class="ex">import</span> java.text.NumberFormat<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-3" title="3"><span class="ex">import</span> java.util.ArrayList<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-4" title="4"><span class="ex">import</span> java.util.Arrays<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-5" title="5"><span class="ex">import</span> java.util.List<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-6" title="6"></a>
<a class="sourceLine" id="cb54-7" title="7"><span class="ex">import</span> org.apache.log4j.Logger<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-8" title="8"></a>
<a class="sourceLine" id="cb54-9" title="9"><span class="ex">public</span> class SpatialModel {</a>
<a class="sourceLine" id="cb54-10" title="10"></a>
<a class="sourceLine" id="cb54-11" title="11">    <span class="ex">private</span> VensimHelper vh<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-12" title="12"></a>
<a class="sourceLine" id="cb54-13" title="13">    <span class="ex">public</span> static final String DLL_LIBNAME_PARAM = <span class="st">&quot;vensim_lib_nam&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb54-14" title="14"></a>
<a class="sourceLine" id="cb54-15" title="15">    <span class="ex">public</span> static final String MODEL_PATH_PARAM = <span class="st">&quot;vensim_model_path&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb54-16" title="16"></a>
<a class="sourceLine" id="cb54-17" title="17">    <span class="ex">private</span> final static int VENSIM_CONTEXT_CREATION_MAX_FAILURE_COUNT = 10<span class="kw">;</span></a>
<a class="sourceLine" id="cb54-18" title="18"></a>
<a class="sourceLine" id="cb54-19" title="19">    <span class="ex">public</span> SpatialModel() <span class="ex">throws</span> SpatialException {</a>
<a class="sourceLine" id="cb54-20" title="20"></a>
<a class="sourceLine" id="cb54-21" title="21">        <span class="ex">String</span> libName = System.getProperty(DLL_LIBNAME_PARAM);</a>
<a class="sourceLine" id="cb54-22" title="22">        <span class="ex">String</span> modelPath = System.getProperty(MODEL_PATH_PARAM);        </a>
<a class="sourceLine" id="cb54-23" title="23"></a>
<a class="sourceLine" id="cb54-24" title="24">        <span class="ex">if</span>(libName == null <span class="kw">||</span> <span class="ex">libName.trim</span>()<span class="ex">.equals</span>(<span class="st">&quot;&quot;</span>)) <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-25" title="25">            <span class="ex">log.error</span>(<span class="st">&quot;Vensim library name has to be set with -D&quot;</span> + DLL_LIBNAME_PARAM);</a>
<a class="sourceLine" id="cb54-26" title="26">            <span class="ex">throw</span> new SpatialException(<span class="st">&quot;Vensim library name has to be set with -D&quot;</span> + DLL_LIBNAME_PARAM);</a>
<a class="sourceLine" id="cb54-27" title="27">        <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-28" title="28"></a>
<a class="sourceLine" id="cb54-29" title="29">        <span class="ex">if</span>(modelPath == null <span class="kw">||</span> <span class="ex">modelPath.trim</span>()<span class="ex">.equals</span>(<span class="st">&quot;&quot;</span>)) <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-30" title="30">            <span class="ex">log.error</span>(<span class="st">&quot;Model path has to set with -D&quot;</span> + MODEL_PATH_PARAM);</a>
<a class="sourceLine" id="cb54-31" title="31">            <span class="ex">throw</span> new SpatialException(<span class="st">&quot;Model path ahs to be set with -D&quot;</span> + MODEL_PATH_PARAM);</a>
<a class="sourceLine" id="cb54-32" title="32">        <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-33" title="33"></a>
<a class="sourceLine" id="cb54-34" title="34">        <span class="kw">for</span> <span class="kw">(</span><span class="ex">int</span> i = 0<span class="kw">;</span> <span class="ex">i</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">VENSIM_CONTEXT_CREATION_MAX_FAILURE_COUNT</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="ex">vh</span> == null<span class="kw">;</span> <span class="ex">i++</span><span class="kw">)</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-35" title="35">            <span class="ex">try</span> {</a>
<a class="sourceLine" id="cb54-36" title="36">                <span class="ex">log.info</span>(<span class="st">&quot;creating new vensim helper\n\tdll lib: &quot;</span> + libName + <span class="st">&quot;\n\tmodel path: &quot;</span> + modelPath);</a>
<a class="sourceLine" id="cb54-37" title="37">                <span class="ex">vh</span> = new VensimHelper(libName, modelPath);</a>
<a class="sourceLine" id="cb54-38" title="38">            <span class="kw">}</span> <span class="ex">catch</span> (Throwable e) <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-39" title="39">                <span class="ex">log.error</span>(<span class="st">&quot;An exception was thrown when initializing Vensim, try: &quot;</span> + i, e);</a>
<a class="sourceLine" id="cb54-40" title="40">            <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-41" title="41">        }</a>
<a class="sourceLine" id="cb54-42" title="42">        <span class="kw">if</span> <span class="kw">(</span><span class="ex">vh</span> == null<span class="kw">)</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-43" title="43">            <span class="ex">throw</span> new SpatialException(<span class="st">&quot;Can&#39;t initialize Vensim&quot;</span>);</a>
<a class="sourceLine" id="cb54-44" title="44">        <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-45" title="45"></a>
<a class="sourceLine" id="cb54-46" title="46">    }</a>
<a class="sourceLine" id="cb54-47" title="47"></a>
<a class="sourceLine" id="cb54-48" title="48">    <span class="ex">public</span> static void main(String[] args) <span class="ex">throws</span> VensimException {</a>
<a class="sourceLine" id="cb54-49" title="49"></a>
<a class="sourceLine" id="cb54-50" title="50">        <span class="ex">long</span> before = System.currentTimeMillis();   </a>
<a class="sourceLine" id="cb54-51" title="51">        <span class="ex">String</span> libName = System.getProperty(DLL_LIBNAME_PARAM);</a>
<a class="sourceLine" id="cb54-52" title="52">        <span class="ex">String</span> modelPath = System.getProperty(MODEL_PATH_PARAM);</a>
<a class="sourceLine" id="cb54-53" title="53"></a>
<a class="sourceLine" id="cb54-54" title="54">        <span class="kw">if</span> <span class="kw">(</span><span class="ex">libName</span> == null<span class="kw">)</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-55" title="55">            <span class="ex">libName</span> = <span class="st">&quot;libvensim&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb54-56" title="56">        <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-57" title="57">        <span class="ex">if</span>(modelPath == null) <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-58" title="58">            <span class="ex">modelPath</span> = <span class="st">&quot;~/BassModel.vmf&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb54-59" title="59">        <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-60" title="60"></a>
<a class="sourceLine" id="cb54-61" title="61">        <span class="ex">System.setProperty</span>(DLL_LIBNAME_PARAM, libName);</a>
<a class="sourceLine" id="cb54-62" title="62">        <span class="ex">System.setProperty</span>(MODEL_PATH_PARAM, modelPath);</a>
<a class="sourceLine" id="cb54-63" title="63"></a>
<a class="sourceLine" id="cb54-64" title="64">        <span class="kw">if</span> <span class="kw">(</span><span class="ex">args.length</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">0</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="ex">args</span>[0].equals(<span class="st">&quot;info&quot;</span><span class="kw">)</span>) <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-65" title="65">            <span class="ex">System.out.println</span>(new VensimHelper(libName, modelPath)<span class="ex">.getVensimInfo</span>());</a>
<a class="sourceLine" id="cb54-66" title="66">        <span class="kw">}</span> <span class="kw">else</span> <span class="kw">if</span> <span class="kw">(</span><span class="ex">args.length</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">0</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="ex">args</span>[0].equals(<span class="st">&quot;vars&quot;</span><span class="kw">)</span>) <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-67" title="67">            <span class="ex">VensimHelper</span> helper = new VensimHelper(libName, modelPath);</a>
<a class="sourceLine" id="cb54-68" title="68">            <span class="ex">String</span>[] vars = helper.getVariables();</a>
<a class="sourceLine" id="cb54-69" title="69">            <span class="kw">for</span> <span class="kw">(</span><span class="ex">String</span> var : vars<span class="kw">)</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-70" title="70">                <span class="ex">System.out.println</span>(helper.getVariableInfo(var));</a>
<a class="sourceLine" id="cb54-71" title="71">            <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-72" title="72">        <span class="kw">}</span> <span class="kw">else</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb54-73" title="73"></a>
<a class="sourceLine" id="cb54-74" title="74">            <span class="ex">File</span> f = new File(<span class="st">&quot;.&quot;</span>);</a>
<a class="sourceLine" id="cb54-75" title="75">            <span class="ex">System.out.println</span>(f.getAbsolutePath());</a>
<a class="sourceLine" id="cb54-76" title="76"></a>
<a class="sourceLine" id="cb54-77" title="77">            <span class="ex">SpatialModel</span> sm = new SpatialModel();</a>
<a class="sourceLine" id="cb54-78" title="78">        <span class="kw">}</span></a>
<a class="sourceLine" id="cb54-79" title="79"></a>
<a class="sourceLine" id="cb54-80" title="80">        <span class="ex">System.out.println</span>(<span class="st">&quot;Execution time: &quot;</span> + (System.currentTimeMillis() <span class="ex">-</span> before));</a>
<a class="sourceLine" id="cb54-81" title="81">    }</a>
<a class="sourceLine" id="cb54-82" title="82"></a>
<a class="sourceLine" id="cb54-83" title="83">}</a></code></pre></div>
</section>
<section id="answer-accepted-score-263" class="level4">
<h4>Answer accepted (score 263)</h4>
<p>
You must ensure that you add the location of your <code>.class</code> file to your classpath. So, if its in the current folder, add <code>.</code> to your classpath. Note that the Windows classpath separator is a semi-colon, i.e. a <code>;</code>.
</p>
</section>
<section id="answer-2-score-133" class="level4">
<h4>Answer 2 (score 133)</h4>
<p>If the class is in a package</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb55-1" title="1"><span class="ex">package</span> thepackagename<span class="kw">;</span></a>
<a class="sourceLine" id="cb55-2" title="2"></a>
<a class="sourceLine" id="cb55-3" title="3"><span class="ex">public</span> class TheClassName {</a>
<a class="sourceLine" id="cb55-4" title="4">  <span class="ex">public</span> static final void main(String[] cmd_lineParams)  <span class="kw">{</span></a>
<a class="sourceLine" id="cb55-5" title="5">     <span class="ex">System.out.println</span>(<span class="st">&quot;Hello World!&quot;</span>);</a>
<a class="sourceLine" id="cb55-6" title="6">  <span class="kw">}</span> </a>
<a class="sourceLine" id="cb55-7" title="7">}</a></code></pre></div>
<p>Then calling:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb56-1" title="1"><span class="ex">java</span> -classpath . TheClassName</a></code></pre></div>
<p>results in <code>Error: Could not find or load main class TheClassName</code>. This is because it must be called with its fully-qualified name:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb57-1" title="1"><span class="ex">java</span> -classpath . thepackagename.TheClassName</a></code></pre></div>
<p>And this <code>thepackagename</code> directory must exist in the classpath. In this example, <code>.</code>, meaning the current directory, is the entirety of classpath. Therefore this particular example must be called from the directory in which <code>thepackagename</code> exists.</p>
<p>To be clear, the name of this class is not <code>TheClassName</code>, It’s <code>thepackagename.TheClassName</code>. Attempting to execute <code>TheClassName</code> does not work, because <em>no class having that name exists</em>. Not on the current classpath anyway.</p>
<p>Finally, note that the compiled (<em>.class) version is executed, not the source code (</em>.java) version. Hence “CLASSPATH.”</p>
</section>
<section id="answer-3-score-59" class="level4">
<h4>Answer 3 (score 59)</h4>
<p>You can try these two when you are getting the error: ‘could not find or load main class’</p>
<p>
If your class file is saved in following directory with <code>HelloWorld</code> program name <code>d:\sample</code>
</p>
<ol>
<li>
<code>java -cp d:\sample HelloWorld</code>
</li>
<li>
<code>java -cp . HelloWorld</code>
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="kill-detached-screen-session-score-1279942-in-2019" class="level3">
<h3>12: Kill detached screen session (score <a href="https://stackoverflow.com/q/1509677.html">1279942</a> in 2019)</h3>
<section id="question-11" class="level4">
<h4>Question</h4>
<p>I learned from somewhere a detached screen can be killed by</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb58-1" title="1"><span class="ex">screen</span> -X -S [session <span class="co"># you want to kill] kill</span></a></code></pre></div>
<p>where [session # you want to kill] can be gotten from</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb59-1" title="1"><span class="ex">screen</span> -ls</a></code></pre></div>
<p>But this doesn’t work. Anything wrong? What’s the correct way?</p>
</section>
<section id="answer-accepted-score-1247" class="level4">
<h4>Answer accepted (score 1247)</h4>
<p>“kill” will only kill one screen window. To “kill” the complete session, use <code>quit</code>.</p>
<h5>
Example
</h3>
<div class="sourceCode" id="cb60"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb60-1" title="1">$ <span class="ex">screen</span> -X -S [session <span class="co"># you want to kill] quit</span></a></code></pre></div>
<p>
For dead sessions use: $ screen -wipe
</p>
</section>
<section id="answer-2-score-496" class="level4">
<h4>Answer 2 (score 496)</h4>
<p>You can kill a detached session which is not responding within the screen session by doing the following.</p>
<ol>
<li>
<p>
Type <code>screen -list</code> to identify the detached screen session.
</p>
<pre>
~$ screen -list  
    There are screens on:  
         20751.Melvin_Peter_V42  (Detached)  
</pre>
Note: <code>20751.Melvin_Peter_V42</code> is your session id.
</li>
<li>
<p>
Get attached to the detached screen session
</p>
<pre>screen -r 20751.Melvin_Peter_V42</pre>
</li>
<li>
<p>
Once connected to the session press <kbd>Ctrl</kbd> + <kbd>A</kbd> then type <code>:quit</code>
</p>
</li>
</ol>
</section>
<section id="answer-3-score-141" class="level4">
<h4>Answer 3 (score 141)</h4>
<p><strong>List screens:</strong></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb61-1" title="1"><span class="ex">screen</span> -list</a></code></pre></div>
<p><strong>Output:</strong></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb62-1" title="1"><span class="ex">There</span> is a screen on:</a>
<a class="sourceLine" id="cb62-2" title="2"><span class="ex">23536.pts-0.wdzee</span>       (10/04/2012 08:40:45 AM)        <span class="kw">(</span><span class="ex">Detached</span><span class="kw">)</span></a>
<a class="sourceLine" id="cb62-3" title="3"><span class="ex">1</span> Socket in /var/run/screen/S-root.</a></code></pre></div>
<p><strong>Kill screen session:</strong></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb63-1" title="1"><span class="ex">screen</span> -S 23536 -X quit</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-get-the-current-date-and-time-in-the-terminal-and-set-a-custom-command-in-terminal-for-it-score-1254767-in-2016" class="level3">
<h3>13: How to get the current date and time in the terminal and set a custom command in terminal for it? (score <a href="https://stackoverflow.com/q/18458839.html">1254767</a> in 2016)</h3>
<section id="question-12" class="level4">
<h4>Question</h4>
<p>
I have to check the time in linux terminal.<br/> What is the command for getting date and time in Linux terminal ?<br/> Is there any way in which we can set custom function ?
</p>
</section>
<section id="answer-accepted-score-1058" class="level4">
<h4>Answer accepted (score 1058)</h4>
<p>The command is <code>date</code></p>
<p>To customise the output there are a myriad of options available, see <code>date --help</code> for a list.</p>
<p>For example, <code>date '+%A %W %Y %X'</code> gives <code>Tuesday 34 2013 08:04:22</code> which is the name of the day of the week, the week number, the year and the time.</p>
</section>
<section id="answer-2-score-72" class="level4">
<h4>Answer 2 (score 72)</h4>
<p>You can use <code>date</code> to get time and date of a day:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb64-1" title="1">[<span class="ex">pengyu@GLaDOS</span> ~]<span class="va">$date</span></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="ex">Tue</span> Aug 27 15:01:27 CST 2013</a></code></pre></div>
<p>Also <code>hwclock</code> would do:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb65-1" title="1">[<span class="ex">pengyu@GLaDOS</span> ~]<span class="va">$hwclock</span></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="ex">Tue</span> 27 Aug 2013 03:01:29 PM CST  -0.516080 seconds</a></code></pre></div>
<p>For customized output, you can either redirect the output of <code>date</code> to something like <code>awk</code>, or write your own program to do that.</p>
<p>Remember to put your own executable scripts/binary into your <code>PATH</code> (e.g. /usr/bin) to make it invokable anywhere.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-count-lines-in-a-document-score-1222035-in-2015" class="level3">
<h3>14: How to count lines in a document? (score <a href="https://stackoverflow.com/q/3137094.html">1222035</a> in 2015)</h3>
<section id="question-13" class="level4">
<h4>Question</h4>
<p>I have lines like these, and I want to know how many lines I actually have…</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb66-1" title="1"><span class="ex">09</span>:16:39 AM  all    2.00    0.00    4.00    0.00    0.00    0.00    0.00    0.00   94.00</a>
<a class="sourceLine" id="cb66-2" title="2"><span class="ex">09</span>:16:40 AM  all    5.00    0.00    0.00    4.00    0.00    0.00    0.00    0.00   91.00</a>
<a class="sourceLine" id="cb66-3" title="3"><span class="ex">09</span>:16:41 AM  all    0.00    0.00    4.00    0.00    0.00    0.00    0.00    0.00   96.00</a>
<a class="sourceLine" id="cb66-4" title="4"><span class="ex">09</span>:16:42 AM  all    3.00    0.00    1.00    0.00    0.00    0.00    0.00    0.00   96.00</a>
<a class="sourceLine" id="cb66-5" title="5"><span class="ex">09</span>:16:43 AM  all    0.00    0.00    1.00    0.00    1.00    0.00    0.00    0.00   98.00</a>
<a class="sourceLine" id="cb66-6" title="6"><span class="ex">09</span>:16:44 AM  all    0.00    0.00    0.00    0.00    0.00    0.00    0.00    0.00  100.00</a>
<a class="sourceLine" id="cb66-7" title="7"><span class="ex">09</span>:16:45 AM  all    2.00    0.00    6.00    0.00    0.00    0.00    0.00    0.00   92.00</a></code></pre></div>
<p>Is there a way to count them all using linux commands?</p>
</section>
<section id="answer-accepted-score-1840" class="level4">
<h4>Answer accepted (score 1840)</h4>
<p>Use <code>wc</code>:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb67-1" title="1"><span class="fu">wc</span> -l <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">filename</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>This will output the number of lines in <code>&amp;lt;filename&amp;gt;</code>:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb68-1" title="1">$ <span class="fu">wc</span> -l /dir/file.txt</a>
<a class="sourceLine" id="cb68-2" title="2"><span class="ex">3272485</span> /dir/file.txt</a></code></pre></div>
<p>Or, to omit the <code>&amp;lt;filename&amp;gt;</code> from the result use <code>wc -l &amp;lt; &amp;lt;filename&amp;gt;</code>:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb69-1" title="1">$ <span class="fu">wc</span> -l <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">/dir/file.txt</span></a>
<a class="sourceLine" id="cb69-2" title="2"><span class="ex">3272485</span></a></code></pre></div>
<p>You can also pipe data to <code>wc</code> as well:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb70-1" title="1">$ <span class="fu">cat</span> /dir/file.txt <span class="kw">|</span> <span class="fu">wc</span> -l</a>
<a class="sourceLine" id="cb70-2" title="2"><span class="ex">3272485</span></a>
<a class="sourceLine" id="cb70-3" title="3">$ <span class="ex">curl</span> yahoo.com --silent <span class="kw">|</span> <span class="fu">wc</span> -l</a>
<a class="sourceLine" id="cb70-4" title="4"><span class="ex">63</span></a></code></pre></div>
</section>
<section id="answer-2-score-133-1" class="level4">
<h4>Answer 2 (score 133)</h4>
<p>To count all lines use:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb71-1" title="1">$ <span class="fu">wc</span> -l file</a></code></pre></div>
<p>To filter and count only lines with pattern use:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb72-1" title="1">$ <span class="fu">grep</span> -w <span class="st">&quot;pattern&quot;</span> -c file  </a></code></pre></div>
<p>Or use -v to invert match:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb73-1" title="1">$ <span class="fu">grep</span> -w <span class="st">&quot;pattern&quot;</span> -c -v file </a></code></pre></div>
<p>See the grep man page to take a look at the -e,-i and -x args…</p>
</section>
<section id="answer-3-score-70" class="level4">
<h4>Answer 3 (score 70)</h4>
<div class="sourceCode" id="cb74"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb74-1" title="1"><span class="fu">wc</span> -l <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">file.txt</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>Or</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb75-1" title="1"><span class="bu">command</span> <span class="kw">|</span> <span class="fu">wc</span> -l</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-download-a-file-from-server-using-ssh-score-1214123-in-2016" class="level3">
<h3>15: How to download a file from server using SSH? (score <a href="https://stackoverflow.com/q/9427553.html">1214123</a> in 2016)</h3>
<section id="question-14" class="level4">
<h4>Question</h4>
<p>I need to download a file from server to my desktop. (UBUNTU 10.04) I don’t have a web access to the server, just ssh.</p>
<p>If it helps, my OS is Mac OS X and iTerm 2 as a terminal.</p>
</section>
<section id="answer-accepted-score-1166" class="level4">
<h4>Answer accepted (score 1166)</h4>
<p>In your terminal, type:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb76-1" title="1"><span class="fu">scp</span> your_username@remotehost.edu:foobar.txt /local/dir</a></code></pre></div>
<p>replacing the username, host, remote filename, and local directory as appropriate.</p>
<p>If you want to access EC2 (or other service that requires authenticating with a private key), use the <code>-i</code> option:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb77-1" title="1"><span class="fu">scp</span> -i key_file.pem your_username@remotehost.edu:/remote/dir/foobar.txt /local/dir</a></code></pre></div>
<p>From: <a href="http://www.hypexr.org/linux_scp_help.php">http://www.hypexr.org/linux_scp_help.php</a></p>
</section>
<section id="answer-2-score-322" class="level4">
<h4>Answer 2 (score 322)</h4>
<p>You can do this with the <code>scp</code> command. <code>scp</code> uses the SSH protocol to copy files across system by extending the syntax of <code>cp</code>.</p>
<p>Copy something from another system to this system:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb78-1" title="1"><span class="fu">scp</span> username@hostname:/path/to/remote/file /path/to/local/file</a></code></pre></div>
<p>Copy something from this system to some other system:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb79-1" title="1"><span class="fu">scp</span> /path/to/local/file username@hostname:/path/to/remote/file          </a></code></pre></div>
<p>Copy something from some system to some other system:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb80-1" title="1"><span class="fu">scp</span> username1@hostname1:/path/to/file username2@hostname2:/path/to/other/file   </a></code></pre></div>
</section>
<section id="answer-3-score-96" class="level4">
<h4>Answer 3 (score 96)</h4>
<p>scp is certainly the way to go, but for completeness you can also do:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb81-1" title="1">$ <span class="fu">ssh</span> host <span class="st">&#39;cat /path/on/remote&#39;</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">/path/on/local</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb82-1" title="1">$ <span class="fu">cat</span> /path/on/local <span class="kw">|</span> <span class="fu">ssh</span> host <span class="st">&#39;cat &amp;gt; /path/on/remote&#39;</span></a></code></pre></div>
<p>Note, this is UUOC, but <code>&amp;lt; /path/on/local ssh host 'cat &amp;gt; /path'</code> could cause unnecessary confusion.</p>
<p>And to proxy between two hosts:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb83-1" title="1">$ <span class="fu">ssh</span> host1 <span class="st">&#39;cat /path/on/host1&#39;</span> <span class="kw">|</span> <span class="fu">ssh</span> host2 <span class="st">&#39;cat &amp;gt; /path/on/host2&#39;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="sleep-for-milliseconds-score-1182180-in-2015" class="level3">
<h3>16: Sleep for milliseconds (score <a href="https://stackoverflow.com/q/4184468.html">1182180</a> in 2015)</h3>
<section id="question-15" class="level4">
<h4>Question</h4>
<p>I know the POSIX <code>sleep(x)</code> function makes the program sleep for x seconds. Is there a function to make the program sleep for x <em>milliseconds</em> in C++?</p>
</section>
<section id="answer-accepted-score-433" class="level4">
<h4>Answer accepted (score 433)</h4>
<p>Note that there is no standard C API for milliseconds, so (on Unix) you will have to settle for <code>usleep</code>, which accepts microseconds:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb84-1" title="1"><span class="co">#include &amp;lt;unistd.h&amp;gt;</span></a>
<a class="sourceLine" id="cb84-2" title="2"></a>
<a class="sourceLine" id="cb84-3" title="3"><span class="ex">unsigned</span> int microseconds<span class="kw">;</span></a>
<a class="sourceLine" id="cb84-4" title="4"><span class="ex">...</span></a>
<a class="sourceLine" id="cb84-5" title="5"><span class="ex">usleep</span>(microseconds);</a></code></pre></div>
</section>
<section id="answer-2-score-1138" class="level4">
<h4>Answer 2 (score 1138)</h4>
<p>In C++11, you can do this with standard library facilities:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb85-1" title="1"><span class="co">#include &amp;lt;chrono&amp;gt;</span></a>
<a class="sourceLine" id="cb85-2" title="2"><span class="co">#include &amp;lt;thread&amp;gt;</span></a></code></pre></div>
<div class="sourceCode" id="cb86"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb86-1" title="1"><span class="ex">std</span>::this_thread::sleep_for(std::chrono::milliseconds(x));</a></code></pre></div>
<p>Clear and readable, no more need to guess at what units the <code>sleep()</code> function takes.</p>
</section>
<section id="answer-3-score-80" class="level4">
<h4>Answer 3 (score 80)</h4>
<p>To stay portable you could use <a href="http://www.boost.org/doc/libs/1_44_0/doc/html/thread.html" rel="noreferrer">Boost::Thread</a> for sleeping:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb87-1" title="1"><span class="co">#include &amp;lt;boost/thread/thread.hpp&amp;gt;</span></a>
<a class="sourceLine" id="cb87-2" title="2"></a>
<a class="sourceLine" id="cb87-3" title="3"><span class="ex">int</span> main()</a>
<a class="sourceLine" id="cb87-4" title="4"><span class="kw">{</span></a>
<a class="sourceLine" id="cb87-5" title="5">    <span class="ex">//waits</span> 2 seconds</a>
<a class="sourceLine" id="cb87-6" title="6">    <span class="ex">boost</span>::this_thread::sleep( boost::posix_time::seconds(1) );</a>
<a class="sourceLine" id="cb87-7" title="7">    <span class="ex">boost</span>::this_thread::sleep( boost::posix_time::milliseconds(1000) );</a>
<a class="sourceLine" id="cb87-8" title="8"></a>
<a class="sourceLine" id="cb87-9" title="9">    <span class="bu">return</span> 0<span class="kw">;</span></a>
<a class="sourceLine" id="cb87-10" title="10"><span class="kw">}</span></a></code></pre></div>
<p><em>This answer is a duplicate and has been posted in <a href="https://stackoverflow.com/questions/4103707/need-a-better-wait-solution/4103842#4103842">this question</a> before. Perhaps you could find some usable answers there too.</em></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-measure-actual-memory-usage-of-an-application-or-process-score-1147677-in-2017" class="level3">
<h3>17: How to measure actual memory usage of an application or process? (score <a href="https://stackoverflow.com/q/131303.html">1147677</a> in 2017)</h3>
<section id="question-16" class="level4">
<h4>Question</h4>
<p><strong>This question is covered <a href="https://stackoverflow.com/q/63166/15161">here</a> in great detail.</strong></p>
<p>How do you measure the memory usage of an application or process in Linux?</p>
<p>From the blog article of <a href="http://virtualthreads.blogspot.com/2006/02/understanding-memory-usage-on-linux.html" rel="noreferrer">Understanding memory usage on Linux</a>, <code>ps</code> is not an accurate tool to use for this intent.</p>
<blockquote>
<p><strong>Why <code>ps</code> is “wrong”</strong></p>
Depending on how you look at it, <code>ps</code> is not reporting the real memory usage of processes. What it is really doing is showing how much real memory each process would take up <strong>if it were the only process running</strong>. Of course, a typical Linux machine has several dozen processes running at any given time, which means that the VSZ and RSS numbers reported by <code>ps</code> are almost definitely <em>wrong</em>.
</blockquote>
</section>
<section id="answer-accepted-score-343" class="level4">
<h4>Answer accepted (score 343)</h4>
<p>With <code>ps</code> or similar tools you will only get the amount of memory pages allocated by that process. This number is correct, but:</p>
<ul>
<li>
<p>
does not reflect the actual amount of memory used by the application, only the amount of memory reserved for it
</p>
</li>
<li>
<p>
can be misleading if pages are shared, for example by several threads or by using dynamically linked libraries
</p>
</li>
</ul>
<p>If you really want to know what amount of memory your application actually uses, you need to run it within a profiler. For example, <code>valgrind</code> can give you insights about the amount of memory used, and, more importantly, about possible memory leaks in your program. The heap profiler tool of valgrind is called ‘massif’:</p>
<blockquote>
Massif is a heap profiler. It performs detailed heap profiling by taking regular snapshots of a program’s heap. It produces a graph showing heap usage over time, including information about which parts of the program are responsible for the most memory allocations. The graph is supplemented by a text or HTML file that includes more information for determining where the most memory is being allocated. Massif runs programs about 20x slower than normal.
</blockquote>
<p>As explained in the <a href="http://valgrind.org/docs/manual/ms-manual.html" rel="noreferrer">valgrind documentation</a>, you need to run the program through valgrind:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb88-1" title="1"><span class="fu">valgrind</span> --tool=massif <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">executable</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">arguments</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>
Massif writes a dump of memory usage snapshots (e.g. <code>massif.out.12345</code>). These provide, (1) a timeline of memory usage, (2) for each snapshot, a record of where in your program memory was allocated. A great graphical tool for analyzing these files is <a href="https://github.com/KDE/massif-visualizer" rel="noreferrer">massif-visualizer</a>. But I found <code>ms_print</code>, a simple text-based tool shipped with valgrind, to be of great help already.
</p>
<p>To find memory leaks, use the (default) <code>memcheck</code> tool of valgrind.</p>
</section>
<section id="answer-2-score-269" class="level4">
<h4>Answer 2 (score 269)</h4>
<p>Try the <a href="http://linux.die.net/man/1/pmap" rel="noreferrer">pmap</a> command:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb89-1" title="1"><span class="fu">sudo</span> pmap -x <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">process</span> pid<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
</section>
<section id="answer-3-score-188" class="level4">
<h4>Answer 3 (score 188)</h4>
<p>Hard to tell for sure, but here are two “close” things that can help.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb90-1" title="1">$ <span class="fu">ps</span> aux </a></code></pre></div>
<p>will give you Virtual Size (VSZ)</p>
<p>You can also get detailed stats from /proc file-system by going to <code>/proc/$pid/status</code></p>
<p>The most important is the VmSize, which should be close to what <code>ps aux</code> gives.</p>
<pre>
/proc/19420$ cat status
Name:   firefox
State:  S (sleeping)
Tgid:   19420
Pid:    19420
PPid:   1
TracerPid:  0
Uid:    1000    1000    1000    1000
Gid:    1000    1000    1000    1000
FDSize: 256
Groups: 4 6 20 24 25 29 30 44 46 107 109 115 124 1000 
VmPeak:   222956 kB
VmSize:   212520 kB
VmLck:         0 kB
VmHWM:    127912 kB
VmRSS:    118768 kB
VmData:   170180 kB
VmStk:       228 kB
VmExe:        28 kB
VmLib:     35424 kB
VmPTE:       184 kB
Threads:    8
SigQ:   0/16382
SigPnd: 0000000000000000
ShdPnd: 0000000000000000
SigBlk: 0000000000000000
SigIgn: 0000000020001000
SigCgt: 000000018000442f
CapInh: 0000000000000000
CapPrm: 0000000000000000
CapEff: 0000000000000000
Cpus_allowed:   03
Mems_allowed:   1
voluntary_ctxt_switches:    63422
nonvoluntary_ctxt_switches: 7171

</pre>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="error-cant-connect-to-local-mysql-server-through-socketvarrunmysqldmysqld.sock-2-missing-varrunmysqldmysqld.sock-score-1145574-in-2018" class="level3">
<h3>18: error: ‘Can’t connect to local MySQL server through socket’/var/run/mysqld/mysqld.sock’ (2)’ – Missing /var/run/mysqld/mysqld.sock (score <a href="https://stackoverflow.com/q/11990708.html">1145574</a> in 2018)</h3>
<section id="question-17" class="level4">
<h4>Question</h4>
<p>My problem started off with me not being able to log in as root any more on my mysql install. I was attempting to run mysql without passwords turned on… but whenever I ran the command</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb91-1" title="1"><span class="co"># mysqld_safe --skip-grant-tables &amp;amp;</span></a></code></pre></div>
<p>I would never get the prompt back. I was trying to follow <a href="http://www.cyberciti.biz/tips/recover-mysql-root-password.html" rel="noreferrer">these instructions to recover the password</a>.</p>
<p>The screen just looks like this:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb92-1" title="1"><span class="ex">root@jj-SFF-PC</span>:/usr/bin# mysqld_safe --skip-grant-tables</a>
<a class="sourceLine" id="cb92-2" title="2"><span class="ex">120816</span> 11:40:53 mysqld_safe Logging to syslog.</a>
<a class="sourceLine" id="cb92-3" title="3"><span class="ex">120816</span> 11:40:53 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql</a></code></pre></div>
<p>and I don’t get a prompt to start typing the SQL commands to reset the password.</p>
<p>When I kill it by pressing <kbd>CTRL</kbd> + <kbd>C</kbd>, I get the following message:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb93-1" title="1"><span class="ex">error</span>: <span class="st">&#39;Can&#39;</span>t connect to local MySQL server through socket <span class="st">&#39;/var/run/mysqld/mysqld.sock&#39;</span> (2)<span class="st">&#39;</span></a>
<a class="sourceLine" id="cb93-2" title="2"></a>
<a class="sourceLine" id="cb93-3" title="3"><span class="st">Check that mysqld is running and that the socket: &#39;</span><span class="ex">/var/run/mysqld/mysqld.sock</span><span class="st">&#39; exists!</span></a></code></pre></div>
<p>If I retry the command and leave it long enough, I do get the following series of messages:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb94-1" title="1"><span class="ex">root@jj-SFF-PC</span>:/run/mysqld# 120816 13:15:02 mysqld_safe Logging to syslog.</a>
<a class="sourceLine" id="cb94-2" title="2"><span class="ex">120816</span> 13:15:02 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql</a>
<a class="sourceLine" id="cb94-3" title="3"><span class="ex">120816</span> 13:16:42 mysqld_safe mysqld from pid file /var/run/mysqld/mysqld.pid ended</a>
<a class="sourceLine" id="cb94-4" title="4"></a>
<a class="sourceLine" id="cb94-5" title="5">[<span class="ex">1</span>]+  Done                    mysqld_safe --skip-grant-tables</a>
<a class="sourceLine" id="cb94-6" title="6"><span class="ex">root@jj-SFF-PC</span>:/run/mysqld#</a></code></pre></div>
<p>But then if I try to log in as root by doing:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb95-1" title="1"><span class="co"># mysql -u root</span></a></code></pre></div>
<p>I get the following error message:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb96-1" title="1"><span class="ex">ERROR</span> 2002 (HY000)<span class="bu">:</span> Can<span class="st">&#39;t connect to local MySQL server through socket &#39;</span>/var/run/mysqld/mysqld.sock<span class="st">&#39; (2)</span></a></code></pre></div>
<p>I checked and <code>/var/run/mysqld/mysqld.sock</code> file doesn’t not exist. The folder does, but not the file.</p>
<p>Also, I dunno if this helps or not, but I ran <code>find / -name mysqld</code> and it came up with:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb97-1" title="1"><span class="ex">/var/run/mysqld</span> - folder</a>
<a class="sourceLine" id="cb97-2" title="2"><span class="ex">/usr/sbin/mysqld</span> - file</a>
<a class="sourceLine" id="cb97-3" title="3"><span class="ex">/run/mysqld</span> - folder</a></code></pre></div>
<p>I’m new to Linux and MySQL, so I don’t know if this is normal or not. But I’m including this info just in case it helps.</p>
<p><strong>I finally decided to uninstall and reinstall mysql.</strong></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb98-1" title="1"><span class="ex">apt-get</span> remove mysql-server</a>
<a class="sourceLine" id="cb98-2" title="2"><span class="ex">apt-get</span> remove mysql-client</a>
<a class="sourceLine" id="cb98-3" title="3"><span class="ex">apt-get</span> remove mysql-common</a>
<a class="sourceLine" id="cb98-4" title="4"><span class="ex">apt-get</span> remove phpmyadmin</a></code></pre></div>
<p>After reinstalling all packages again in the same order as above, during the phpmyadmin install, I got the same error:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb99-1" title="1"><span class="ex">ERROR</span> 2002 (HY000)<span class="bu">:</span> Can<span class="st">&#39;t connect to local MySQL server through socket &#39;</span>/var/run/mysqld/mysqld.sock<span class="st">&#39; (2)</span></a></code></pre></div>
<p>So I tried again to uninstall/reinstall. This time, after I uninstalled the packages, I also manually renamed all mysql files and directories to <code>mysql.bad</code> in their respective locations.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb100-1" title="1"><span class="ex">/var/lib/mysql</span> </a>
<a class="sourceLine" id="cb100-2" title="2"><span class="ex">/var/lib/mysql/mysql</span></a>
<a class="sourceLine" id="cb100-3" title="3"><span class="ex">/var/log/mysql</span></a>
<a class="sourceLine" id="cb100-4" title="4"><span class="ex">/usr/lib/perl5/DBD/mysql</span></a>
<a class="sourceLine" id="cb100-5" title="5"><span class="ex">/usr/lib/perl5/auto/DBD/mysql</span></a>
<a class="sourceLine" id="cb100-6" title="6"><span class="ex">/usr/lib/mysql</span></a>
<a class="sourceLine" id="cb100-7" title="7"><span class="ex">/usr/bin/mysql</span></a>
<a class="sourceLine" id="cb100-8" title="8"><span class="ex">/usr/share/mysql</span></a>
<a class="sourceLine" id="cb100-9" title="9"><span class="ex">/usr/share/dbconfig-common/internal/mysql</span></a>
<a class="sourceLine" id="cb100-10" title="10"><span class="ex">/etc/init.d/mysql</span></a>
<a class="sourceLine" id="cb100-11" title="11"><span class="ex">/etc/apparmor.d/abstractions/mysql</span></a>
<a class="sourceLine" id="cb100-12" title="12"><span class="ex">/etc/mysql</span></a></code></pre></div>
<p>Then I tried to reinstall <code>mysql-server</code> and <code>mysql-client</code> again. But I’ve noticed that it doesn’t prompt me for a password. Isn’t it supposed to ask for an admin password?</p>
</section>
<section id="answer-accepted-score-178" class="level4">
<h4>Answer accepted (score 178)</h4>
<p>To find all socket files on your system run:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb101-1" title="1"><span class="fu">sudo</span> find / -type s</a></code></pre></div>
<p>My Mysql server system had the socket open at <code>/var/lib/mysql/mysql.sock</code></p>
<p>Once you find where the socket is being opened, add or edit the line to your /etc/my.cnf file with the path to the socket file:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb102-1" title="1"><span class="va">socket=</span>/var/lib/mysql/mysql.sock</a></code></pre></div>
<p>Sometimes the system startup script that launched the command line executable specifies a flag <code>--socket=path</code>. This flag could override the my.cnf location, and that would result in a socket not being found where the my.cnf file indicates it should be. Then when you try to run the mysql command line client, it will read my.cnf to find the socket, but it will not find it since it deviates from where the server created one. So, Unless you care where the socket resides, just changing the my.cnf to match should work.</p>
<p>Then, stop the mysqld process. How you do this will vary by system.</p>
<p>If you’re super user in the linux system, try one of the following if you don’t know the specific method your Mysql setup uses:</p>
<ul>
<li>
<code>service mysqld stop</code>
</li>
<li>
<code>/etc/init.d/mysqld stop</code>
</li>
<li>
<code>mysqladmin -u root -p shutdown</code>
</li>
<li>
<p>Some systems aren’t setup to have an elegant way to stop mysql (or for some reason mysql doesn’t respond) and you can force terminate mysql with either:</p>
<ul>
<li>
One step: <code>pkill -9 mysqld</code>
</li>
<li>
<p>Two step (least preferred):</p>
<ul>
<li>
Find the process id of mysql with either <code>pgrep mysql</code> or <code>ps aux | grep mysql | grep -v grep</code>
</li>
<li>
Assuming the process id is <code>4969</code> terminate with <code>kill -9 4969</code>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>After you do this you might want to look for a pid file in <code>/var/run/mysqld/</code> and delete it</p>
<p>Make sure the permissions on your socket is such that whatever user mysqld is running as can read/write to it. An easy test is to open it up to full read/write and see if it still works:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb103-1" title="1"><span class="fu">chmod</span> 777 /var/run/mysqld/mysqld.sock</a></code></pre></div>
<p>If that fixes the issue, you can tailor the permissions and ownership of the socket as needed based on your security settings.</p>
<p>Also, the directory the socket resides in has to be reachable by the user running the mysqld process.</p>
</section>
<section id="answer-2-score-220" class="level4">
<h4>Answer 2 (score 220)</h4>
<p>Try this command,</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb104-1" title="1"><span class="fu">sudo</span> service mysql start</a></code></pre></div>
</section>
<section id="answer-3-score-110" class="level4">
<h4>Answer 3 (score 110)</h4>
<p>
This error occurs due to multiple installations of mysql. Run the command:
</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb105-1" title="1"><span class="fu">ps</span> -A<span class="kw">|</span><span class="fu">grep</span> mysql</a></code></pre></div>
<p>Kill the process by using:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb106-1" title="1"><span class="fu">sudo</span> pkill mysql</a></code></pre></div>
<p>and then run command:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb107-1" title="1"><span class="fu">ps</span> -A<span class="kw">|</span><span class="fu">grep</span> mysqld</a></code></pre></div>
<p>Also Kill this process by running:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb108-1" title="1"><span class="fu">sudo</span> pkill mysqld</a></code></pre></div>
<p>Now you are fully set just run the following commands:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb109-1" title="1"><span class="ex">service</span> mysql restart</a>
<a class="sourceLine" id="cb109-2" title="2"><span class="ex">mysql</span> -u root -p</a></code></pre></div>
<p>Have very well working mysql again</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="is-there-a-command-to-list-all-unix-group-names-score-1057247-in-2017" class="level3">
<h3>19: Is there a command to list all Unix group names? (score <a href="https://stackoverflow.com/q/14059916.html">1057247</a> in 2017)</h3>
<section id="question-18" class="level4">
<h4>Question</h4>
<p>I know there is the <code>/etc/group</code> file that lists all users groups.</p>
<p>I would like to know if there is a simple command to list all user group names in spite of parsing the world readable <code>/etc/group</code> file. I am willing to create an administrator web page that lists Linux accounts’ group names.</p>
</section>
<section id="answer-accepted-score-855" class="level4">
<h4>Answer accepted (score 855)</h4>
<p>To list all local groups which have users assigned to them, use this command:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb110-1" title="1"><span class="fu">cut</span> -d: -f1 /etc/group <span class="kw">|</span> <span class="fu">sort</span></a></code></pre></div>
<p>
For more info- &gt; <a href="http://www.udel.edu/it/help/unix/unixgroups.html" rel="noreferrer">Unix groups</a>, <a href="https://www.geeksforgeeks.org/cut-command-linux-examples/" rel="noreferrer">Cut command</a>, <a href="https://www.geeksforgeeks.org/sort-command-linuxunix-examples/" rel="noreferrer">sort command</a>
</p>
</section>
<section id="answer-2-score-256" class="level4">
<h4>Answer 2 (score 256)</h4>
<p>If you want <em>all groups</em> known to the system, I would recommend using <code>getent</code> instead of parsing <code>/etc/group</code>. On networked systems, groups may not only read from <code>/etc/group</code> file but also obtained through LDAP or Yellow Pages, i.e. the list of known groups comes from the local group file plus groups received via LDAP or YP.</p>
<p><code>getent group</code> will give you a list of <em>all</em> groups in the same format the <code>/etc/group</code> file uses.</p>
<p>If you want just the group names, <code>getent group | cut -d: -f1</code> will do the job (same as above).</p>
</section>
<section id="answer-3-score-47" class="level4">
<h4>Answer 3 (score 47)</h4>
<p>On Linux, macOS and Unix to display the groups to which you belong, use:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb111-1" title="1"><span class="fu">id</span> -Gn</a></code></pre></div>
<p>which is equivalent to <code>groups</code> utility which has been obsoleted on Unix (as per <a href="https://www.unix.com/man-page/FreeBSD/1/groups/" rel="noreferrer">Unix manual</a>).</p>
<p>On macOS and Unix, the command <code>id -p</code> is suggested for normal interactive.</p>
<p>Explanation of the parameters:</p>
<blockquote>
<p><code>-G</code>, <code>--groups</code> - print all group IDs</p>
<p><code>-n</code>, <code>--name</code> - print a name instead of a number, for <code>-ugG</code></p>
<code>-p</code> - Make the output human-readable.
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="lost-httpd.conf-file-located-apache-score-1043824-in-2017" class="level3">
<h3>20: Lost httpd.conf file located apache (score <a href="https://stackoverflow.com/q/12202021.html">1043824</a> in 2017)</h3>
<section id="question-19" class="level4">
<h4>Question</h4>
<p>How can I find where my <code>httpd.conf</code> file is located?</p>
<p>I am running an Ubuntu Linux server from the Amazon Web Services EC2 (Elastic Compute Cloud) and I can’t find my Apache config.</p>
</section>
<section id="answer-accepted-score-641" class="level4">
<h4>Answer accepted (score 641)</h4>
<p>Get the path of running Apache</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb112-1" title="1">$ <span class="fu">ps</span> -ef <span class="kw">|</span> <span class="fu">grep</span> apache</a>
<a class="sourceLine" id="cb112-2" title="2"><span class="ex">apache</span>   12846 14590  0 Oct20 ?        00:00:00 /usr/sbin/apache2</a></code></pre></div>
<p>Append <code>-V</code> argument to the path</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb113-1" title="1">$ <span class="ex">/usr/sbin/apache2</span> -V <span class="kw">|</span> <span class="fu">grep</span> SERVER_CONFIG_FILE</a>
<a class="sourceLine" id="cb113-2" title="2"><span class="ex">-D</span> SERVER_CONFIG_FILE=<span class="st">&quot;/etc/apache2/apache2.conf&quot;</span></a></code></pre></div>
<p>
Reference:<br> <a href="http://commanigy.com/blog/2011/6/8/finding-apache-configuration-file-httpd-conf-location" rel="noreferrer">http://commanigy.com/blog/2011/6/8/finding-apache-configuration-file-httpd-conf-location</a>
</p>
</section>
<section id="answer-2-score-208" class="level4">
<h4>Answer 2 (score 208)</h4>
<p>See <a href="http://wiki.apache.org/httpd/DistrosDefaultLayout">http://wiki.apache.org/httpd/DistrosDefaultLayout</a> for discussion of where you might find Apache httpd configuration files on various platforms, since this can vary from release to release and platform to platform. The most common answer, however, is either /etc/apache/conf or /etc/httpd/conf</p>
<p>Generically, you can determine the answer by running the command:</p>
<blockquote>
httpd -V
</blockquote>
<p>(That’s a capital V). Or, on systems where httpd is renamed, perhaps <code>apache2ctl -V</code></p>
<p>This will return various details about how httpd is built and configured, including the default location of the main configuration file.</p>
<p>One of the lines of output should look like:</p>
<blockquote>
-D SERVER_CONFIG_FILE=“conf/httpd.conf”
</blockquote>
<p>which, combined with the line:</p>
<blockquote>
-D HTTPD_ROOT=“/etc/httpd”
</blockquote>
<p>will give you a full path to the default location of the configuration file</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="linux-error-while-loading-shared-libraries-cannot-open-shared-object-file-no-such-file-or-directory-score-1027980-in-2009" class="level3">
<h3>21: Linux error while loading shared libraries: cannot open shared object file: No such file or directory (score <a href="https://stackoverflow.com/q/480764.html">1027980</a> in 2009)</h3>
<section id="question-20" class="level4">
<h4>Question</h4>
<p>Program is part of the Xenomai test suite, cross-compiled from Linux PC into Linux+Xenomai ARM toolchain.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb114-1" title="1"><span class="co"># echo $LD_LIBRARY_PATH                                                                                                                                          </span></a>
<a class="sourceLine" id="cb114-2" title="2"><span class="ex">/lib</span>                                                                                                                                                             </a>
<a class="sourceLine" id="cb114-3" title="3"><span class="co"># ls /lib                                                                                                                                                        </span></a>
<a class="sourceLine" id="cb114-4" title="4"><span class="ex">ld-2.3.3.so</span>         libdl-2.3.3.so      libpthread-0.10.so                                                                                                       </a>
<a class="sourceLine" id="cb114-5" title="5"><span class="ex">ld-linux.so.2</span>       libdl.so.2          libpthread.so.0                                                                                                          </a>
<a class="sourceLine" id="cb114-6" title="6"><span class="ex">libc-2.3.3.so</span>       libgcc_s.so         libpthread_rt.so                                                                                                         </a>
<a class="sourceLine" id="cb114-7" title="7"><span class="ex">libc.so.6</span>           libgcc_s.so.1       libstdc++.so.6                                                                                                           </a>
<a class="sourceLine" id="cb114-8" title="8"><span class="ex">libcrypt-2.3.3.so</span>   libm-2.3.3.so       libstdc++.so.6.0.9                                                                                                       </a>
<a class="sourceLine" id="cb114-9" title="9"><span class="ex">libcrypt.so.1</span>       libm.so.6                                                                                                                                    </a>
<a class="sourceLine" id="cb114-10" title="10"><span class="co"># ./clocktest                                                                                                                                                    </span></a>
<a class="sourceLine" id="cb114-11" title="11"><span class="ex">.</span>/clocktest: <span class="ex">error</span> while loading shared libraries: libpthread_rt.so.1: cannot open shared object file: No such file or directory                                 </a></code></pre></div>
<p><strong>Edit:</strong> OK I didn’t notice the .1 at the end was part of the filename. What does that mean anyway?</p>
</section>
<section id="answer-accepted-score-129" class="level4">
<h4>Answer accepted (score 129)</h4>
<p>
<strong>Update</strong><br> While what I write below is true as a general answer about shared libraries, I think the most frequent cause of these sorts of message is because you’ve installed a package, but not installed the “-dev” version of that package.
</p>
<hr>
<p>Well, it’s not lying - there is no <code>libpthread_rt.so.1</code> in that listing. You probably need to re-configure and re-build it so that it depends on the library you have, or install whatever provides <code>libpthread_rt.so.1</code>.</p>
<p>Generally, the numbers after the .so are version numbers, and you’ll often find that they are symlinks to each other, so if you have version 1.1 of libfoo.so, you’ll have a real file libfoo.so.1.0, and symlinks foo.so and foo.so.1 pointing to the libfoo.so.1.0. And if you install version 1.1 without removing the other one, you’ll have a libfoo.so.1.1, and libfoo.so.1 and libfoo.so will now point to the new one, but any code that requires that exact version can use the libfoo.so.1.0 file. Code that just relies on the version 1 API, but doesn’t care if it’s 1.0 or 1.1 will specify libfoo.so.1. As <a href="https://stackoverflow.com/users/37020/orip">orip</a> pointed out in the comments, this is explained well at <a href="http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html" rel="noreferrer">http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html</a>.</p>
<p>In your case, you <em>might</em> get away with symlinking <code>libpthread_rt.so.1</code> to <code>libpthread_rt.so</code>. No guarantees that it won’t break your code and eat your TV dinners, though.</p>
</section>
<section id="answer-2-score-288" class="level4">
<h4>Answer 2 (score 288)</h4>
<p>
Your library is a dynamic library. You need to tell the operating system where it can locate it at runtime.
</p>
<p>
To do so, we will need to do those easy steps:
</p>
<p>(1 ) Find where the library is placed if you don’t know it.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb115-1" title="1"><span class="fu">sudo</span> find / -name the_name_of_the_file.so</a></code></pre></div>
<ol start="2" type="1">
<li>Check for the existence of the dynamic library path environment variable(<code>LD_LIBRARY_PATH</code>)</li>
</ol>
<div class="sourceCode" id="cb116"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb116-1" title="1">$ <span class="bu">echo</span> <span class="va">$LD_LIBRARY_PATH</span></a></code></pre></div>
<p>if there is nothing to be displayed, add a default path value (or not if you wish to)</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb117-1" title="1">$ <span class="va">LD_LIBRARY_PATH=</span>/usr/local/lib</a></code></pre></div>
<ol start="3" type="1">
<li>We add the desire path, export it and try the application.</li>
</ol>
<p>
Note that the path should be the directory where the <code>path.so.something</code> is. So if <code>path.so.something</code> is in <code>/my_library/path.so.something</code> it should be :
</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb118-1" title="1">$ <span class="va">LD_LIBRARY_PATH=$LD_LIBRARY_PATH</span>:/my_library/</a>
<a class="sourceLine" id="cb118-2" title="2">$ <span class="bu">export</span> <span class="va">LD_LIBRARY_PATH</span></a>
<a class="sourceLine" id="cb118-3" title="3">$ <span class="ex">./my_app</span></a></code></pre></div>
<p>source : <a href="http://www.gnu.org/software/gsl/manual/html_node/Shared-Libraries.html" rel="noreferrer">http://www.gnu.org/software/gsl/manual/html_node/Shared-Libraries.html</a></p>
</section>
<section id="answer-3-score-139" class="level4">
<h4>Answer 3 (score 139)</h4>
<p>Here are a few solutions you can try:</p>
<h5>
ldconfig
</h2>
<p>As AbiusX pointed out: If you have just now installed the library, you may simply need to run <a href="http://linux.die.net/man/8/ldconfig" rel="noreferrer">ldconfig</a>.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb119-1" title="1"><span class="fu">sudo</span> ldconfig</a></code></pre></div>
<blockquote>
<p>
ldconfig creates the necessary links and cache to the most recent shared libraries found in the directories specified on the command line, in the file /etc/ld.so.conf, and in the trusted directories (/lib and /usr/lib).
</p>
</blockquote>
<p>Usually your package manager will take care of this when you install a new library, but not always, and it won’t hurt to run ldconfig even if that is not your issue.</p>
<h5>
Dev package or wrong version
</h2>
<p>If that doesn’t work, I would also check out <a href="https://stackoverflow.com/a/480786/22781">Paul’s suggestion</a> and look for a “-dev” version of the library. Many libraries are split into dev and non-dev packages. You can use this command to look for it:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb120-1" title="1"><span class="ex">apt-cache</span> search <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">libraryname</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>This can also help if you simply have the wrong version of the library installed. Some libraries are published in different versions simultaneously, for example, Python.</p>
<h5>
Library location
</h2>
<p>If you are sure that the right package is installed, and ldconfig didn’t find it, it may just be in a nonstandard directory. By default, ldconfig looks in <code>/lib</code>, <code>/usr/lib</code>, and directories listed in <code>/etc/ld.so.conf</code> and <code>$LD_LIBRARY_PATH</code>. If your library is somewhere else, you can either add the directory on its own line in <code>/etc/ld.so.conf</code>, append the library’s path to <code>$LD_LIBRARY_PATH</code>, or move the library into <code>/usr/lib</code>. Then run <code>ldconfig</code>.</p>
<p>To find out where the library is, try this:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb121-1" title="1"><span class="fu">sudo</span> find / -iname *libraryname*.so*</a></code></pre></div>
<p>(Replace <code>libraryname</code> with the name of your library)</p>
<p>If you go the <code>$LD_LIBRARY_PATH</code> route, you’ll want to put that into your <code>~/.bashrc</code> file so it will run every time you log in:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb122-1" title="1"><span class="bu">export</span> <span class="va">LD_LIBRARY_PATH=$LD_LIBRARY_PATH</span>:/path/to/library</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="redirect-all-output-to-file-score-1007650-in-2015" class="level3">
<h3>22: Redirect all output to file (score <a href="https://stackoverflow.com/q/6674327.html">1007650</a> in 2015)</h3>
<section id="question-21" class="level4">
<h4>Question</h4>
<p>I know that in Linux, to redirect output from the screen to a file, I can either use the <code>&amp;gt;</code> or <code>tee</code>. However, I’m not sure why part of the output is still output to the screen and not written to the file.</p>
<p>Is there a way to redirect all output to file?</p>
</section>
<section id="answer-accepted-score-1122" class="level4">
<h4>Answer accepted (score 1122)</h4>
<p>That part is written to stderr, use <code>2&amp;gt;</code> to redirect it. For example:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb123-1" title="1"><span class="ex">foo</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">stdout.txt</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">stderr.txt</span></a></code></pre></div>
<p>or if you want in same file:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb124-1" title="1"><span class="ex">foo</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">allout.txt</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span></a></code></pre></div>
<p>Note: this works in (ba)sh, check your shell for proper syntax</p>
</section>
<section id="answer-2-score-141" class="level4">
<h4>Answer 2 (score 141)</h4>
<p>All POSIX operating systems <a href="http://en.wikipedia.org/wiki/Standard_streams" rel="noreferrer">have 3 streams</a>: stdin, stdout, and stderr. stdin is the input, which can accept the stdout or stderr. stdout is the primary output, which is redirected with <code>&amp;gt;</code>, <code>&amp;gt;&amp;gt;</code>, or <code>|</code>. stderr is the error output, which is handled separately so that any exceptions do not get passed to a command or written to a file that it might break; normally, this is sent to a log of some kind, or dumped directly, even when the stdout is redirected. To redirect both to the same place, use:</p>
<p><strike><code>&lt;em&gt;command&lt;/em&gt; &amp;amp;&gt; /some/file</code></strike></p>
<p><strong>EDIT</strong>: thanks to Zack for pointing out that the above solution is not portable–use instead:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb125-1" title="1"><span class="ex">*command*</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="fu">file</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> </a></code></pre></div>
<p>If you want to silence the error, do:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb126-1" title="1"><span class="ex">*command*</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">/dev/null</span></a></code></pre></div>
</section>
<section id="answer-3-score-84" class="level4">
<h4>Answer 3 (score 84)</h4>
<p>To get the output on the console AND in a file <code>file.txt</code> for example.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb127-1" title="1"><span class="fu">make</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">|</span> <span class="fu">tee</span> file.txt</a></code></pre></div>
<p>Note: <code>&amp;amp;</code> (in <code>2&amp;gt;&amp;amp;1</code>) specifies that <code>1</code> is not a file name but a file descriptor.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="c-ide-for-linux-score-967131-in-2017" class="level3">
<h3>23: C++ IDE for Linux? (score <a href="https://stackoverflow.com/q/24109.html">967131</a> in 2017)</h3>
<section id="question-22" class="level4">
<h4>Question</h4>
<p>I want to expand my programming horizons to Linux. A good, dependable basic toolset is important, and what is more basic than an IDE?</p>
<p>I could find these SO topics:</p>
<ul>
<li>
<a href="https://stackoverflow.com/questions/2756/lightweight-ide-for-linux">Lightweight IDE for linux</a> and
</li>
<li>
<a href="https://stackoverflow.com/questions/17228/what-tools-do-you-use-to-develop-c-applications-on-linux">What tools do you use to develop C++ applications on Linux?</a>
</li>
</ul>
<p>I’m not looking for a <em>lightweight</em> IDE. If an IDE is worth the money, then I will pay for it, so it need not be free.</p>
<p>My question, then:</p>
<blockquote>
<em>What good, C++ programming IDE is available for Linux?</em>
</blockquote>
<p>
The minimums are fairly standard: syntax highlighting, code completion (like <a href="http://en.wikipedia.org/wiki/IntelliSense" rel="nofollow noreferrer">intellisense</a> or its Eclipse counterpart) and integrated debugging (e.g., basic breakpoints).
</p>
<p>I have searched for it myself, but there are so many that it is almost impossible to separate the good from the bads by hand, especially for someone like me who has little C++ coding experience in Linux. I know that <a href="http://www.eclipse.org/cdt/" rel="nofollow noreferrer">Eclipse supports C++</a>, and I really like that IDE for Java, but is it any good for C++ and is there something better?</p>
<p>The second post actually has some good suggestions, but what I am missing is what exactly makes the sugested IDE so good for the user, what are its (dis)advantages?</p>
<p>Maybe my question should therefore be:</p>
<blockquote>
<em>What IDE do you propose (given your experiences), and why?</em>
</blockquote>
</section>
<section id="answer-accepted-score-261" class="level4">
<h4>Answer accepted (score 261)</h4>
<h5>
Initially: confusion
</h2>
<p>When originally writing this answer, I had recently made the switch from Visual Studio (with years of experience) to Linux and the first thing I did was try to find a reasonable IDE. At the time this was impossible: no good IDE existed.</p>
<h5>
Epiphany: UNIX is an IDE. <em>All of it.</em><sup>1</sup>
</h2>
<p>And then I realised that the IDE in Linux is the command line with its tools:</p>
<ul>
<li>
<p>First you set up your shell</p>
<ul>
<li>
Bash, in my case, but many people prefer
</li>
<li>
<a href="https://fishshell.com/" rel="noreferrer">fish</a> or
</li>
<li>
<a href="https://github.com/robbyrussell/oh-my-zsh" rel="noreferrer">(Oh My) Zsh</a>;
</li>
</ul>
</li>
<li>
<p>and your editor; pick your poison — both are state of the art:</p>
<ul>
<li>
<a href="https://neovim.io/" rel="noreferrer">Neovim</a><sup>2</sup> or
</li>
<li>
<a href="https://www.gnu.org/software/emacs/" rel="noreferrer">Emacs</a>.
</li>
</ul>
</li>
</ul>
<p>Depending on your needs, you will then have to install and configure several plugins to make the editor work nicely (that’s the one annoying part). For example, most programmers on Vim will benefit from the <a href="https://valloric.github.io/YouCompleteMe/" rel="noreferrer">YouCompleteMe</a> plugin for smart autocompletion.</p>
<p>Once that’s done, the shell is your command interface to interact with the various tools — Debuggers (gdb), Profilers (gprof, valgrind), etc. You set up your project/build environment using <a href="https://www.gnu.org/software/make/" rel="noreferrer">Make</a>, <a href="https://bitbucket.org/snakemake/snakemake/wiki/Home" rel="noreferrer">CMake</a>, <a href="https://bitbucket.org/snakemake/snakemake/wiki/Home" rel="noreferrer">SnakeMake</a> or any of the various alternatives. And you manage your code with a version control system (most people use <a href="https://git-scm.com/" rel="noreferrer">Git</a>). You also use <a href="https://tmux.github.io/" rel="noreferrer">tmux</a> (previously also screen) to multiplex (= think multiple windows/tabs/panels) and persist your terminal session.</p>
<p>The point is that, thanks to the shell and a few tool writing conventions, these all <em>integrate with each other</em>. And that way <strong>the Linux shell is a truly integrated development environment</strong>, completely on par with other modern IDEs. (This doesn’t mean that individual IDEs don’t have features that the command line may be lacking, but the inverse is also true.)</p>
<h5>
To each their own
</h2>
<p>I cannot overstate how well the above workflow functions once you’ve gotten into the habit. But some people simply prefer graphical editors, and in the years since this answer was originally written, Linux has gained a suite of excellent graphical IDEs for several different programming languages (but not, as far as I’m aware, for C++). Do give them a try even if — like me — you end up not using them. Here’s just a small and biased selection:</p>
<ul>
<li>
For Python development, there’s <a href="https://www.jetbrains.com/pycharm/" rel="noreferrer">PyCharm</a>
</li>
<li>
For R, there’s <a href="https://www.rstudio.com/" rel="noreferrer">RStudio</a>
</li>
<li>
For JavaScript and TypeScript, there’s <a href="https://code.visualstudio.com/" rel="noreferrer">Visual Studio Code</a> (which is also a good all-round editor)
</li>
<li>
And finally, many people love the <a href="https://www.sublimetext.com/" rel="noreferrer">Sublime Text editor</a> for general code editing.
</li>
</ul>
<p>Keep in mind that this list is far from complete.</p>
<hr>
<p><sup>1</sup> I stole that title from dsm’s comment.</p>
<p><sup>2</sup> I used to refer to Vim here. And while plain Vim is still more than capable, Neovim is a promising restart, and it’s modernised a few old warts.</p>
</section>
<section id="answer-2-score-86" class="level4">
<h4>Answer 2 (score 86)</h4>
<p>My personal favorite is the <strong>CodeLite 2.x</strong> IDE.</p>
<p>see: <a href="http://www.codelite.org/" rel="noreferrer" title="codelite website">http://www.codelite.org</a></p>
<p>The decision to use CodeLite was based on a research regarding the following C++ IDE for Linux:</p>
<ul>
<li>
Eclipse Galileo with CDT Plugin
</li>
<li>
NetBeans 6.7 (which is also the base for the SunStudio IDE)
</li>
<li>
KDevelop4
</li>
<li>
CodeBlocks 8.02
</li>
<li>
CodeLite 2.x
</li>
</ul>
<p>After all I have decided to use <em>CodeLite 2.x</em>.</p>
<p>Below I have listed some Pros and Cons regarding the mentioned C++ IDEs. Please note, that this reflects my personal opinion only!</p>
<p><strong>EDIT</strong>: what a pity that SOF doesn’t support tables, so I have to write in paragraphs …</p>
<p><strong>Eclipse Galileo with CDT Plugin</strong></p>
<p>Pros:</p>
<ul>
<li>
reasonable fast
</li>
<li>
also supports Java, Perl(with E.P.I.C plugin)
</li>
<li>
commonly used and well maintained
</li>
<li>
also available for other OS flavours (Windows, MacOS, Solaris, AIX(?))
</li>
</ul>
<p>Cons:</p>
<ul>
<li>
GUI is very confusing and somewhat inconsistent - not very intuitive at all
</li>
<li>
heavy weight
</li>
<li>
Only supports CVS (AFAIK)
</li>
</ul>
<p><strong>NetBeans 6.7</strong> (note this is also the base for the SunStudio IDE)</p>
<p>Pros:</p>
<ul>
<li>
one of the most intuitive GUI I have ever seen
</li>
<li>
also supports Java, Python, Ruby
</li>
<li>
integrates CVS, SVN, Mercurial
</li>
<li>
commonly used and well maintained
</li>
<li>
also available for other OS flavours (Windows, MacOS, Solaris)
</li>
</ul>
<p>Cons:</p>
<ul>
<li>
extremly slow
</li>
<li>
heavy weight
</li>
<li>
uses Spaces for indentation, which is not the policy at my work. I’m sure this is configurable, but I couldn’t find out how to to that
</li>
</ul>
<p><strong>KDevelop4</strong> (note: I did not much testing on it)</p>
<p>Pros:</p>
<ul>
<li>
commonly used on Linux
</li>
<li>
integrates CVS, SVN, Mercurial
</li>
</ul>
<p>Cons:</p>
<ul>
<li>
the GUI looks somewhat old fashioned
</li>
<li>
heavy weight
</li>
<li>
very specific to the KDE environment
</li>
</ul>
<p><strong>CodeBlocks 8.02</strong> (note: I did not much testing on it)</p>
<p>Pros:</p>
<ul>
<li>
reasonable fast
</li>
</ul>
<p>Cons:</p>
<ul>
<li>
the GUI looks somewhat old fashioned (although it has a nice startup screen)
</li>
<li>
the fonts in the editor are very small
</li>
<li>
some icons (e.g. the debugger related icons starting/stepping) are very small
</li>
<li>
no source control integration
</li>
</ul>
<p><strong>CodeLite 2.x</strong> (note: this is my personal favorite)</p>
<p>Pros:</p>
<ul>
<li>
the best, modern looking and intuitive GUI I have seen on Linux
</li>
<li>
lightweight
</li>
<li>
reasonable fast
</li>
<li>
integrates SVN
</li>
<li>
also available on other OS flavours(Windows, MacOS, Solaris(?))
</li>
</ul>
<p>Cons:</p>
<ul>
<li>
no CVS integration (that’s important for me because I have to use it at work)
</li>
<li>
no support for Java, Perl, Python (would be nice to have)
</li>
</ul>
</section>
<section id="answer-3-score-75" class="level4">
<h4>Answer 3 (score 75)</h4>
<ol>
<li>
<a href="http://www.codeblocks.org/" rel="noreferrer">Code::Blocks</a>
</li>
<li>
<a href="http://www.eclipse.org/cdt/" rel="noreferrer">Eclipse CDT</a>
</li>
</ol>
<p>Soon you’ll find that IDEs are not enough, and you’ll have to learn the GCC toolchain anyway (which isn’t hard, at least learning the basic functionality). But no harm in reducing the transitional pain with the IDEs, IMO.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-kill-a-process-running-on-particular-port-in-linux-score-954064-in-2017" class="level3">
<h3>24: How to kill a process running on particular port in Linux? (score <a href="https://stackoverflow.com/q/11583562.html">954064</a> in 2017)</h3>
<section id="question-23" class="level4">
<h4>Question</h4>
<p>I tried to close the tomcat using <code>./shutdown.sh</code> from tomcat <code>/bin</code> directory. But found that the server was not closed properly. And thus I was unable to restart<br>My tomcat is running on port <code>8080</code>.</p>
<p>I want to kill the tomcat process running on <code>8080</code>. I first want to have the list of processes running on a specific port (8080) in order to select which process to kill.</p>
</section>
<section id="answer-accepted-score-238" class="level4">
<h4>Answer accepted (score 238)</h4>
<p>Use the command</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb128-1" title="1"> <span class="fu">sudo</span> netstat -plten <span class="kw">|</span><span class="fu">grep</span> java</a></code></pre></div>
<p>used <code>grep java</code> as <code>tomcat</code> uses <code>java</code> as their processes.</p>
<p>It will show the list of processes with port number and process id</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb129-1" title="1"><span class="ex">tcp6</span>       0      0 :::8080                 :::*                    LISTEN      </a>
<a class="sourceLine" id="cb129-2" title="2"><span class="ex">1000</span>       30070621    16085/java</a></code></pre></div>
<p>the number before <code>/java</code> is a process id. Now use <code>kill</code> command to kill the process</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb130-1" title="1"><span class="bu">kill</span> -9 16085</a></code></pre></div>
<p><code>-9</code> implies the process will be killed forcefully.</p>
</section>
<section id="answer-2-score-807" class="level4">
<h4>Answer 2 (score 807)</h4>
<p>This <code>fuser 8080/tcp</code> will print you PID of process bound on that port.</p>
<p>And this <code>fuser -k 8080/tcp</code> will kill that process.</p>
<p>Works on Linux only. More universal is use of <code>lsof -i4</code> (or 6 for IPv6).</p>
</section>
<section id="answer-3-score-571" class="level4">
<h4>Answer 3 (score 571)</h4>
<p>To list any process listening to the port 8080:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb131-1" title="1"><span class="ex">lsof</span> -i:8080</a></code></pre></div>
<p>To kill any process listening to the port 8080:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb132-1" title="1"><span class="bu">kill</span> <span class="va">$(</span><span class="ex">lsof</span> -t -i:8080<span class="va">)</span></a></code></pre></div>
<p>or more violently:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb133-1" title="1"><span class="bu">kill</span> -9 <span class="va">$(</span><span class="ex">lsof</span> -t -i:8080<span class="va">)</span></a></code></pre></div>
<p>(<code>-9</code> corresponds to the <code>SIGKILL - terminate immediately/hard kill</code> signal: see <a href="https://unix.stackexchange.com/q/317492/16704">List of Kill Signals</a> and <a href="https://askubuntu.com/q/184071/44876">What is the purpose of the -9 option in the kill command?</a>. If no signal is specified to <code>kill</code>, the TERM signal a.k.a. <code>-15</code> or <code>soft kill</code> is sent, which sometimes isn’t enough to kill a process.).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-force-cp-to-overwrite-without-confirmation-score-937183-in-2016" class="level3">
<h3>25: How to force cp to overwrite without confirmation (score <a href="https://stackoverflow.com/q/8488253.html">937183</a> in 2016)</h3>
<section id="question-24" class="level4">
<h4>Question</h4>
<p>I’m trying to use the <code>cp</code> command and force an overwrite.</p>
<p>I have tried <code>cp -rf /foo/* /bar</code>, but I am still prompted to confirm each overwrite.</p>
</section>
<section id="answer-accepted-score-1020" class="level4">
<h4>Answer accepted (score 1020)</h4>
<p>You can do <code>yes | cp -rf xxx yyy</code>, but my gutfeeling says that if you do it as root - your <code>.bashrc</code> or <code>.profile</code> has an alias of <code>cp</code> to <code>cp -i</code>, most modern systems (primarily RH-derivatives) do that to root profiles.</p>
<p>You can check existing aliases by running <code>alias</code> at the command prompt, or <code>which cp</code> to check aliases only for <code>cp</code>.</p>
<p>If you do have an alias defined, running <code>unalias cp</code> will abolish that for the current session, otherwise you can just remove it from your shell profile.</p>
<p>You can temporarily bypass an alias and use the non-aliased version of a command by prefixing it with <code>\</code>, e.g. <code>\cp whatever</code></p>
</section>
<section id="answer-2-score-260" class="level4">
<h4>Answer 2 (score 260)</h4>
<p>This is probably caused by <code>cp</code> being already aliased to something like <code>cp -i</code>. Calling <code>cp</code> directly should work:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb134-1" title="1"><span class="ex">/bin/cp</span> -rf /zzz/zzz/* /xxx/xxx</a></code></pre></div>
<p>Another way to get around this is to use the <code>yes</code> command:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb135-1" title="1"><span class="fu">yes</span> <span class="kw">|</span> <span class="fu">cp</span> -rf /zzz/zzz/* /xxx/xxx</a></code></pre></div>
</section>
<section id="answer-3-score-109" class="level4">
<h4>Answer 3 (score 109)</h4>
<p>As some of the other answers have stated, you probably use an alias somewhere which maps <code>cp</code> to <code>cp -i</code> or something similar. You can run a command without any aliases by preceding it with a backslash. In your case, try</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb136-1" title="1">\<span class="fu">cp</span> -r /zzz/zzz/* /xxx/xxx</a></code></pre></div>
<p>The backslash will temporarily disable any aliases you have called <code>cp</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-prompt-for-yesnocancel-input-in-a-linux-shell-script-score-926403-in-2016" class="level3">
<h3>26: How do I prompt for Yes/No/Cancel input in a Linux shell script? (score <a href="https://stackoverflow.com/q/226703.html">926403</a> in 2016)</h3>
<section id="question-25" class="level4">
<h4>Question</h4>
<p>I want to pause input in a shell script, and prompt the user for choices. The standard ‘Yes, No, or Cancel’ type question. How do I accomplish this in a typical bash prompt?</p>
</section>
<section id="answer-accepted-score-1490" class="level4">
<h4>Answer accepted (score 1490)</h4>
<p>The simplest and most widely available method to get user input at a shell prompt is the <a href="http://www.gnu.org/software/bash/manual/bashref.html#index-read" rel="noreferrer"><code>read</code></a> command. The best way to illustrate its use is a simple demonstration:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb137-1" title="1"><span class="kw">while</span> <span class="fu">true</span><span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb137-2" title="2">    <span class="bu">read</span> -p <span class="st">&quot;Do you wish to install this program?&quot;</span> <span class="va">yn</span></a>
<a class="sourceLine" id="cb137-3" title="3">    <span class="kw">case</span> <span class="va">$yn</span><span class="kw"> in</span></a>
<a class="sourceLine" id="cb137-4" title="4">        [Yy]* <span class="kw">)</span> <span class="fu">make</span> install<span class="kw">;</span> <span class="bu">break</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb137-5" title="5">        [<span class="ex">Nn</span>]* ) <span class="bu">exit</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb137-6" title="6">        <span class="ex">*</span> ) <span class="bu">echo</span> <span class="st">&quot;Please answer yes or no.&quot;</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb137-7" title="7">    <span class="kw">esac</span></a>
<a class="sourceLine" id="cb137-8" title="8"><span class="kw">done</span></a></code></pre></div>
<p>Another method, <a href="https://stackoverflow.com/a/226946/9084">pointed out</a> by <a href="https://stackoverflow.com/users/28604/steven-huwig">Steven Huwig</a>, is Bash’s <a href="http://www.gnu.org/software/bash/manual/bashref.html#index-select" rel="noreferrer"><code>select</code></a> command. Here is the same example using <code>select</code>:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb138-1" title="1"><span class="bu">echo</span> <span class="st">&quot;Do you wish to install this program?&quot;</span></a>
<a class="sourceLine" id="cb138-2" title="2"><span class="kw">select</span> <span class="ex">yn</span> in <span class="st">&quot;Yes&quot;</span> <span class="st">&quot;No&quot;</span><span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb138-3" title="3">    <span class="kw">case</span> <span class="va">$yn</span><span class="kw"> in</span></a>
<a class="sourceLine" id="cb138-4" title="4">        Yes <span class="kw">)</span> <span class="fu">make</span> install<span class="kw">;</span> <span class="bu">break</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb138-5" title="5">        <span class="ex">No</span> ) <span class="bu">exit</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb138-6" title="6">    <span class="kw">esac</span></a>
<a class="sourceLine" id="cb138-7" title="7"><span class="kw">done</span></a></code></pre></div>
<p>With <code>select</code> you don’t need to sanitize the input – it displays the available choices, and you type a number corresponding to your choice. It also loops automatically, so there’s no need for a <code>while true</code> loop to retry if they give invalid input.</p>
<p>Also, <a href="https://stackoverflow.com/users/7939871/l%c3%a9a-gris">Léa Gris</a> demonstrated a way to make the request language agnostic in <a href="https://stackoverflow.com/a/57739142/9084">her answer</a>. Adapting my first example to better serve multiple languages might look like this:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb139-1" title="1"><span class="kw">set</span> <span class="ex">--</span> <span class="va">$(</span><span class="ex">locale</span> LC_MESSAGES<span class="va">)</span></a>
<a class="sourceLine" id="cb139-2" title="2"><span class="va">yesptrn=</span><span class="st">&quot;</span><span class="va">$1</span><span class="st">&quot;</span>; <span class="va">noptrn=</span><span class="st">&quot;</span><span class="va">$2</span><span class="st">&quot;</span>; <span class="va">yesword=</span><span class="st">&quot;</span><span class="va">$3</span><span class="st">&quot;</span>; <span class="va">noword=</span><span class="st">&quot;</span><span class="va">$4</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb139-3" title="3"></a>
<a class="sourceLine" id="cb139-4" title="4"><span class="kw">while</span> <span class="fu">true</span><span class="kw">;</span> <span class="kw">do</span></a>
<a class="sourceLine" id="cb139-5" title="5">    <span class="bu">read</span> -p <span class="st">&quot;Install (</span><span class="va">${yesword}</span><span class="st"> / </span><span class="va">${noword}</span><span class="st">)? &quot;</span> <span class="va">yn</span></a>
<a class="sourceLine" id="cb139-6" title="6">    <span class="kw">case</span> <span class="va">$yn</span><span class="kw"> in</span></a>
<a class="sourceLine" id="cb139-7" title="7">        <span class="va">${yesptrn##</span>^<span class="va">}</span> <span class="kw">)</span> <span class="fu">make</span> install<span class="kw">;</span> <span class="bu">break</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb139-8" title="8">        <span class="va">${noptrn##</span>^<span class="va">}</span> ) <span class="bu">exit</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb139-9" title="9">        <span class="ex">*</span> ) <span class="bu">echo</span> <span class="st">&quot;Answer </span><span class="va">${yesword}</span><span class="st"> / </span><span class="va">${noword}</span><span class="st">.&quot;</span><span class="kw">;;</span></a>
<a class="sourceLine" id="cb139-10" title="10">    <span class="kw">esac</span></a>
<a class="sourceLine" id="cb139-11" title="11"><span class="kw">done</span></a></code></pre></div>
<p>Obviously other communication strings remain untranslated here (Install, Answer) which would need to be addressed in a more fully completed translation, but even a partial translation would be helpful in many cases.</p>
<p>Finally, please check out the <a href="https://stackoverflow.com/a/27875395/9084">excellent answer</a> by <a href="https://stackoverflow.com/users/1765658/f-hauri">F. Hauri</a>.</p>
</section>
<section id="answer-2-score-483" class="level4">
<h4>Answer 2 (score 483)</h4>
<h5>
At least five answers for one generic question.
</h1>
<p>Depending on</p>
<ul>
<li>
<a href="/questions/tagged/posix" class="post-tag" title="show questions tagged &#39;posix&#39;" rel="tag">posix</a> compliant: could work on poor systems with generic <a href="/questions/tagged/shell" class="post-tag" title="show questions tagged &#39;shell&#39;" rel="tag">shell</a> environments
</li>
<li>
<a href="/questions/tagged/bash" class="post-tag" title="show questions tagged &#39;bash&#39;" rel="tag">bash</a> specific: using so called <em>bashisms</em>
</li>
</ul>
<p>and if you want</p>
<ul>
<li>
simple ``in line’’ question / answer (generic solutions)
</li>
<li>
pretty formatted interfaces, like <a href="/questions/tagged/ncurses" class="post-tag" title="show questions tagged &#39;ncurses&#39;" rel="tag">ncurses</a> or more graphical using libgtk or libqt…
</li>
<li>
use powerful readline history capability
</li>
</ul>
<h5>
<ol type="1">
<li>POSIX generic solutions
</h2></li>
</ol>
<p>You could use the <code>read</code> command, followed by <code>if ... then ... else</code>:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb140-1" title="1"><span class="bu">echo</span> -n <span class="st">&quot;Is this a good question (y/n)? &quot;</span></a>
<a class="sourceLine" id="cb140-2" title="2"><span class="bu">read</span> <span class="va">answer</span></a></code></pre></div>
<p><s></p>
<div class="sourceCode" id="cb141"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb141-1" title="1"><span class="co"># if echo &quot;$answer&quot; | grep -iq &quot;^y&quot; ;then</span></a></code></pre></div>
<p></s></p>
<div class="sourceCode" id="cb142"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb142-1" title="1"><span class="kw">if</span><span class="bu"> [</span> <span class="st">&quot;</span><span class="va">$answer</span><span class="st">&quot;</span> <span class="ot">!=</span> <span class="st">&quot;</span><span class="va">${answer#</span>[Yy]<span class="va">}</span><span class="st">&quot;</span><span class="bu"> ]</span> ;<span class="kw">then</span></a>
<a class="sourceLine" id="cb142-2" title="2">    <span class="bu">echo</span> Yes</a>
<a class="sourceLine" id="cb142-3" title="3"><span class="kw">else</span></a>
<a class="sourceLine" id="cb142-4" title="4">    <span class="bu">echo</span> No</a>
<a class="sourceLine" id="cb142-5" title="5"><span class="kw">fi</span></a></code></pre></div>
<p>(Thanks to <a href="https://stackoverflow.com/posts/comments/86532780?noredirect=1">Adam Katz’s comment</a>: Replaced the test above with one that is more portable and avoids one fork:)</p>
<h5>
POSIX, but single key feature
</h3>
<p>But if you don’t want the user to have to hit <kbd>Return</kbd>, you could write:</p>
<p>(<strong>Edited:</strong> As <span class="citation" data-cites="JonathanLeffler">@JonathanLeffler</span> rightly suggest, <em>saving</em> stty’s configuration could be better than simply force them to <em>sane</em>.)</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb143-1" title="1"><span class="bu">echo</span> -n <span class="st">&quot;Is this a good question (y/n)? &quot;</span></a>
<a class="sourceLine" id="cb143-2" title="2"><span class="va">old_stty_cfg=$(</span><span class="fu">stty</span> -g<span class="va">)</span></a>
<a class="sourceLine" id="cb143-3" title="3"><span class="fu">stty</span> raw -echo <span class="kw">;</span> <span class="va">answer=$(</span><span class="fu">head</span> -c 1<span class="va">)</span> ; <span class="fu">stty</span> <span class="va">$old_stty_cfg</span> <span class="co"># Careful playing with stty</span></a>
<a class="sourceLine" id="cb143-4" title="4"><span class="kw">if</span> <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$answer</span><span class="st">&quot;</span> <span class="kw">|</span> <span class="fu">grep</span> -iq <span class="st">&quot;^y&quot;</span> <span class="kw">;then</span></a>
<a class="sourceLine" id="cb143-5" title="5">    <span class="bu">echo</span> Yes</a>
<a class="sourceLine" id="cb143-6" title="6"><span class="kw">else</span></a>
<a class="sourceLine" id="cb143-7" title="7">    <span class="bu">echo</span> No</a>
<a class="sourceLine" id="cb143-8" title="8"><span class="kw">fi</span></a></code></pre></div>
<p><strong>Note:</strong> This was tested under <a href="/questions/tagged/sh" class="post-tag" title="show questions tagged &#39;sh&#39;" rel="tag">sh</a>, <a href="/questions/tagged/bash" class="post-tag" title="show questions tagged &#39;bash&#39;" rel="tag">bash</a>, <a href="/questions/tagged/ksh" class="post-tag" title="show questions tagged &#39;ksh&#39;" rel="tag">ksh</a>, <a href="/questions/tagged/dash" class="post-tag" title="show questions tagged &#39;dash&#39;" rel="tag">dash</a> and <a href="/questions/tagged/busybox" class="post-tag" title="show questions tagged &#39;busybox&#39;" rel="tag">busybox</a>!</p>
<p>Same, but waiting explicitly for <kbd>y</kbd> or <kbd>n</kbd>:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb144-1" title="1"><span class="co">#/bin/sh</span></a>
<a class="sourceLine" id="cb144-2" title="2"><span class="bu">echo</span> -n <span class="st">&quot;Is this a good question (y/n)? &quot;</span></a>
<a class="sourceLine" id="cb144-3" title="3"><span class="va">old_stty_cfg=$(</span><span class="fu">stty</span> -g<span class="va">)</span></a>
<a class="sourceLine" id="cb144-4" title="4"><span class="fu">stty</span> raw -echo</a>
<a class="sourceLine" id="cb144-5" title="5"><span class="va">answer=$(</span> <span class="kw">while</span> ! <span class="fu">head</span> -c 1 <span class="kw">|</span> <span class="fu">grep</span> -i <span class="st">&#39;[ny]&#39;</span> <span class="kw">;do</span> <span class="fu">true</span> <span class="kw">;done</span> <span class="va">)</span></a>
<a class="sourceLine" id="cb144-6" title="6"><span class="fu">stty</span> <span class="va">$old_stty_cfg</span></a>
<a class="sourceLine" id="cb144-7" title="7"><span class="kw">if</span> <span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$answer</span><span class="st">&quot;</span> <span class="kw">|</span> <span class="fu">grep</span> -iq <span class="st">&quot;^y&quot;</span> <span class="kw">;then</span></a>
<a class="sourceLine" id="cb144-8" title="8">    <span class="bu">echo</span> Yes</a>
<a class="sourceLine" id="cb144-9" title="9"><span class="kw">else</span></a>
<a class="sourceLine" id="cb144-10" title="10">    <span class="bu">echo</span> No</a>
<a class="sourceLine" id="cb144-11" title="11"><span class="kw">fi</span></a></code></pre></div>
<h5>
Using dedicated tools
</h3>
<p>There are many tools which were built using <code>libncurses</code>, <code>libgtk</code>, <code>libqt</code> or other graphical libraries. For example, using <code>whiptail</code>:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb145-1" title="1"><span class="kw">if</span> <span class="ex">whiptail</span> --yesno <span class="st">&quot;Is this a good question&quot;</span> 20 60 <span class="kw">;then</span></a>
<a class="sourceLine" id="cb145-2" title="2">    <span class="bu">echo</span> Yes</a>
<a class="sourceLine" id="cb145-3" title="3"><span class="kw">else</span></a>
<a class="sourceLine" id="cb145-4" title="4">    <span class="bu">echo</span> No</a>
<a class="sourceLine" id="cb145-5" title="5"><span class="kw">fi</span></a></code></pre></div>
<p>Depending on your system, you may need to replace <code>whiptail</code> with another similiar tool:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb146-1" title="1"><span class="ex">dialog</span> --yesno <span class="st">&quot;Is this a good question&quot;</span> 20 60 <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="bu">echo</span> Yes</a>
<a class="sourceLine" id="cb146-2" title="2"></a>
<a class="sourceLine" id="cb146-3" title="3"><span class="ex">gdialog</span> --yesno <span class="st">&quot;Is this a good question&quot;</span> 20 60 <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="bu">echo</span> Yes</a>
<a class="sourceLine" id="cb146-4" title="4"></a>
<a class="sourceLine" id="cb146-5" title="5"><span class="fu">kdialog</span> --yesno <span class="st">&quot;Is this a good question&quot;</span> 20 60 <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="bu">echo</span> Yes</a></code></pre></div>
<p>where <code>20</code> is height of dialog box in number of lines and <code>60</code> is width of the dialog box. These tools all have <em>near same</em> syntax.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb147-1" title="1"><span class="va">DIALOG=</span>whiptail</a>
<a class="sourceLine" id="cb147-2" title="2"><span class="kw">if</span><span class="bu"> [</span> <span class="ot">-x</span> /usr/bin/gdialog<span class="bu"> ]</span> ;<span class="kw">then</span> <span class="va">DIALOG=</span>gdialog ; <span class="kw">fi</span></a>
<a class="sourceLine" id="cb147-3" title="3"><span class="kw">if</span><span class="bu"> [</span> <span class="ot">-x</span> /usr/bin/xdialog<span class="bu"> ]</span> ;<span class="kw">then</span> <span class="va">DIALOG=</span>xdialog ; <span class="kw">fi</span></a>
<a class="sourceLine" id="cb147-4" title="4"><span class="ex">...</span></a>
<a class="sourceLine" id="cb147-5" title="5"><span class="va">$DIALOG</span> <span class="ex">--yesno</span> ...</a></code></pre></div>
<h5>
<ol start="2" type="1">
<li>Bash specific solutions
</h2></li>
</ol>
<h5>
Basic <em>in line</em> method
</h3>
<div class="sourceCode" id="cb148"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb148-1" title="1"><span class="bu">read</span> -p <span class="st">&quot;Is this a good question (y/n)? &quot;</span> <span class="va">answer</span></a>
<a class="sourceLine" id="cb148-2" title="2"><span class="kw">case</span> <span class="va">${answer:0:1}</span><span class="kw"> in</span></a>
<a class="sourceLine" id="cb148-3" title="3">    y<span class="kw">|</span>Y <span class="kw">)</span></a>
<a class="sourceLine" id="cb148-4" title="4">        <span class="bu">echo</span> Yes</a>
<a class="sourceLine" id="cb148-5" title="5">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb148-6" title="6">    * <span class="kw">)</span></a>
<a class="sourceLine" id="cb148-7" title="7">        <span class="bu">echo</span> No</a>
<a class="sourceLine" id="cb148-8" title="8">    <span class="kw">;;</span></a>
<a class="sourceLine" id="cb148-9" title="9"><span class="kw">esac</span></a></code></pre></div>
<p>I prefer to use <code>case</code> so I could even test for <code>yes | ja | si | oui</code> if needed…</p>
<h5>
<em>in line</em> with <em>single key</em> feature
</h3>
<p>Under bash, we can specify the length of intended input for for the <code>read</code> command:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb149-1" title="1"><span class="bu">read</span> -n 1 -p <span class="st">&quot;Is this a good question (y/n)? &quot;</span> <span class="va">answer</span></a></code></pre></div>
<p>Under bash, <code>read</code> command accepts a <em>timeout</em> parameter, which could be useful.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb150-1" title="1"><span class="bu">read</span> -t 3 -n 1 -p <span class="st">&quot;Is this a good question (y/n)? &quot;</span> <span class="va">answer</span></a>
<a class="sourceLine" id="cb150-2" title="2"><span class="bu">[</span> <span class="ot">-z</span> <span class="st">&quot;</span><span class="va">$answer</span><span class="st">&quot;</span><span class="bu"> ]</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="va">answer=</span><span class="st">&quot;Yes&quot;</span>  <span class="co"># if &#39;yes&#39; have to be default choice</span></a></code></pre></div>
<h5>
Some tricks for <em>dedicated tools</em>
</h3>
<p>More sophisticated dialog boxes, beyond simple <em><code>yes - no</code></em> purposes:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb151-1" title="1"><span class="ex">dialog</span> --menu <span class="st">&quot;Is this a good question&quot;</span> 20 60 12 y Yes n No m Maybe</a></code></pre></div>
<p>Progress bar:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb152-1" title="1"><span class="ex">dialog</span> --gauge <span class="st">&quot;Filling the tank&quot;</span> 20 60 0 <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;(</span></a>
<a class="sourceLine" id="cb152-2" title="2">    <span class="kw">for</span> <span class="ex">i</span> in <span class="dt">{1..100}</span><span class="kw">;do</span></a>
<a class="sourceLine" id="cb152-3" title="3">        <span class="bu">printf</span> <span class="st">&quot;XXX\n%d\n%(%a %b %T)T progress: %d\nXXX\n&quot;</span> <span class="va">$i</span> -1 <span class="va">$i</span></a>
<a class="sourceLine" id="cb152-4" title="4">        <span class="fu">sleep</span> .033</a>
<a class="sourceLine" id="cb152-5" title="5">    <span class="kw">done</span></a>
<a class="sourceLine" id="cb152-6" title="6"><span class="kw">)</span> </a></code></pre></div>
<p>Little demo:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb153-1" title="1"><span class="co">#!/bin/sh</span></a>
<a class="sourceLine" id="cb153-2" title="2"><span class="kw">while</span> <span class="fu">true</span> <span class="kw">;do</span></a>
<a class="sourceLine" id="cb153-3" title="3">    [ <span class="ex">-x</span> <span class="st">&quot;</span><span class="va">$(</span><span class="fu">which</span> <span class="va">${DIALOG%%</span> *<span class="va">})</span><span class="st">&quot;</span> ] <span class="kw">||</span> <span class="va">DIALOG=</span>dialog</a>
<a class="sourceLine" id="cb153-4" title="4">    <span class="va">DIALOG=$($DIALOG</span> <span class="ex">--menu</span> <span class="st">&quot;Which tool for next run?&quot;</span> 20 60 12 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> \</a>
<a class="sourceLine" id="cb153-5" title="5">            whiptail       <span class="st">&quot;dialog boxes from shell scripts&quot;</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/tty</span> \</a>
<a class="sourceLine" id="cb153-6" title="6">            dialog         <span class="st">&quot;dialog boxes from shell with ncurses&quot;</span> \</a>
<a class="sourceLine" id="cb153-7" title="7">            gdialog        <span class="st">&quot;dialog boxes from shell with Gtk&quot;</span> \</a>
<a class="sourceLine" id="cb153-8" title="8">            kdialog        <span class="st">&quot;dialog boxes from shell with Kde&quot;</span> <span class="va">)</span> <span class="kw">||</span> <span class="bu">exit</span></a>
<a class="sourceLine" id="cb153-9" title="9">    <span class="fu">clear</span><span class="kw">;</span><span class="bu">echo</span> <span class="st">&quot;Choosed: </span><span class="va">$DIALOG</span><span class="st">.&quot;</span></a>
<a class="sourceLine" id="cb153-10" title="10">    <span class="kw">for</span> <span class="ex">i</span> in <span class="kw">`</span><span class="fu">seq</span> 1 100<span class="kw">`;do</span></a>
<a class="sourceLine" id="cb153-11" title="11">        <span class="fu">date</span> +<span class="st">&quot;</span><span class="kw">`</span><span class="bu">printf</span> <span class="st">&quot;XXX\n%d\n%%a %%b %%T progress: %d\nXXX\n&quot;</span> <span class="va">$i</span> <span class="va">$i</span><span class="kw">`</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb153-12" title="12">        <span class="fu">sleep</span> .0125</a>
<a class="sourceLine" id="cb153-13" title="13">      <span class="kw">done</span> <span class="kw">|</span> <span class="va">$DIALOG</span> <span class="ex">--gauge</span> <span class="st">&quot;Filling the tank&quot;</span> 20 60 0</a>
<a class="sourceLine" id="cb153-14" title="14">    <span class="va">$DIALOG</span> <span class="ex">--infobox</span> <span class="st">&quot;This is a simple info box\n\nNo action required&quot;</span> 20 60</a>
<a class="sourceLine" id="cb153-15" title="15">    <span class="fu">sleep</span> 3</a>
<a class="sourceLine" id="cb153-16" title="16">    <span class="kw">if</span> <span class="va">$DIALOG</span> <span class="ex">--yesno</span>  <span class="st">&quot;Do you like this demo?&quot;</span> 20 60 <span class="kw">;then</span></a>
<a class="sourceLine" id="cb153-17" title="17">        <span class="va">AnsYesNo=</span>Yes; <span class="kw">else</span> <span class="va">AnsYesNo=</span>No; <span class="kw">fi</span></a>
<a class="sourceLine" id="cb153-18" title="18">    <span class="va">AnsInput=$($DIALOG</span> <span class="ex">--inputbox</span> <span class="st">&quot;A text:&quot;</span> 20 60 <span class="st">&quot;Text here...&quot;</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/tty</span><span class="va">)</span></a>
<a class="sourceLine" id="cb153-19" title="19">    <span class="va">AnsPass=$($DIALOG</span> <span class="ex">--passwordbox</span> <span class="st">&quot;A secret:&quot;</span> 20 60 <span class="st">&quot;First...&quot;</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/tty</span><span class="va">)</span></a>
<a class="sourceLine" id="cb153-20" title="20">    <span class="va">$DIALOG</span> <span class="ex">--textbox</span> /etc/motd 20 60</a>
<a class="sourceLine" id="cb153-21" title="21">    <span class="va">AnsCkLst=$($DIALOG</span> <span class="ex">--checklist</span> <span class="st">&quot;Check some...&quot;</span> 20 60 12 \</a>
<a class="sourceLine" id="cb153-22" title="22">        Correct <span class="st">&quot;This demo is useful&quot;</span>        off \</a>
<a class="sourceLine" id="cb153-23" title="23">        Fun        <span class="st">&quot;This demo is nice&quot;</span>        off \</a>
<a class="sourceLine" id="cb153-24" title="24">        Strong        <span class="st">&quot;This demo is complex&quot;</span>        on 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/tty</span><span class="va">)</span></a>
<a class="sourceLine" id="cb153-25" title="25">    <span class="va">AnsRadio=$($DIALOG</span> <span class="ex">--radiolist</span> <span class="st">&quot;I will:&quot;</span> 20 60 12 \</a>
<a class="sourceLine" id="cb153-26" title="26">        <span class="st">&quot; -1&quot;</span> <span class="st">&quot;Downgrade this answer&quot;</span>        off \</a>
<a class="sourceLine" id="cb153-27" title="27">        <span class="st">&quot;  0&quot;</span> <span class="st">&quot;Not do anything&quot;</span>                on \</a>
<a class="sourceLine" id="cb153-28" title="28">        <span class="st">&quot; +1&quot;</span> <span class="st">&quot;Upgrade this anser&quot;</span>        off 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/tty</span><span class="va">)</span></a>
<a class="sourceLine" id="cb153-29" title="29">    <span class="va">out=</span><span class="st">&quot;Your answers:\nLike: </span><span class="va">$AnsYesNo</span><span class="st">\nInput: </span><span class="va">$AnsInput</span><span class="st">\nSecret: </span><span class="va">$AnsPass</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb153-30" title="30">    <span class="va">$DIALOG</span> <span class="ex">--msgbox</span> <span class="st">&quot;</span><span class="va">$out</span><span class="st">\nAttribs: </span><span class="va">$AnsCkLst</span><span class="st">\nNote: </span><span class="va">$AnsRadio</span><span class="st">&quot;</span> 20 60</a>
<a class="sourceLine" id="cb153-31" title="31">  <span class="kw">done</span></a></code></pre></div>
<p>More sample? Have a look at <a href="https://stackoverflow.com/questions/50560500/linux-shell-get-device-id-from-user-input/50577400#50577400">Using whiptail for choosing USB device</a> and <a href="https://unix.stackexchange.com/questions/119759/removable-usb-stick-listed-as-non-removable-in-sys-block/119816#119816">USB removable storage selector: USBKeyChooser</a></p>
<h5>
<ol start="5" type="1">
<li>Using readline’s history
</h3></li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb154-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb154-2" title="2"></a>
<a class="sourceLine" id="cb154-3" title="3"><span class="kw">set</span> <span class="ex">-i</span></a>
<a class="sourceLine" id="cb154-4" title="4"><span class="va">HISTFILE=</span>~/.myscript.history</a>
<a class="sourceLine" id="cb154-5" title="5"><span class="bu">history</span> -c</a>
<a class="sourceLine" id="cb154-6" title="6"><span class="bu">history</span> -r</a>
<a class="sourceLine" id="cb154-7" title="7"></a>
<a class="sourceLine" id="cb154-8" title="8"><span class="fu">myread()</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb154-9" title="9">    <span class="bu">read</span> -e -p <span class="st">&#39;&amp;gt; &#39;</span> <span class="va">$1</span></a>
<a class="sourceLine" id="cb154-10" title="10">    <span class="bu">history</span> -s $<span class="dt">{!1}</span></a>
<a class="sourceLine" id="cb154-11" title="11"><span class="kw">}</span></a>
<a class="sourceLine" id="cb154-12" title="12"><span class="bu">trap</span> <span class="st">&#39;history -a;exit&#39;</span> 0 1 2 3 6</a>
<a class="sourceLine" id="cb154-13" title="13"></a>
<a class="sourceLine" id="cb154-14" title="14"><span class="kw">while</span> <span class="ex">myread</span> line<span class="kw">;do</span></a>
<a class="sourceLine" id="cb154-15" title="15">    <span class="kw">case</span> <span class="va">${line%%</span> *<span class="va">}</span><span class="kw"> in</span></a>
<a class="sourceLine" id="cb154-16" title="16">        exit <span class="kw">)</span>  <span class="bu">break</span> <span class="kw">;;</span></a>
<a class="sourceLine" id="cb154-17" title="17">        <span class="ex">*</span>    )  <span class="bu">echo</span> <span class="st">&quot;Doing something with &#39;</span><span class="va">$line</span><span class="st">&#39;&quot;</span> <span class="kw">;;</span></a>
<a class="sourceLine" id="cb154-18" title="18">      <span class="kw">esac</span></a>
<a class="sourceLine" id="cb154-19" title="19">  <span class="kw">done</span></a></code></pre></div>
<p>This will create a file <code>.myscript.history</code> in your <code>$HOME</code> directory, than you could use readline’s history commands, like <kbd>Up</kbd>, <kbd>Down</kbd>, <kbd>Ctrl</kbd>+<kbd>r</kbd> and others.</p>
</section>
<section id="answer-3-score-346" class="level4">
<h4>Answer 3 (score 346)</h4>
<div class="sourceCode" id="cb155"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb155-1" title="1"><span class="bu">echo</span> <span class="st">&quot;Please enter some input: &quot;</span></a>
<a class="sourceLine" id="cb155-2" title="2"><span class="bu">read</span> <span class="va">input_variable</span></a>
<a class="sourceLine" id="cb155-3" title="3"><span class="bu">echo</span> <span class="st">&quot;You entered: </span><span class="va">$input_variable</span><span class="st">&quot;</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-generate-a-list-of-files-with-their-absolute-path-in-linux-score-923845-in-2019" class="level3">
<h3>27: How can I generate a list of files with their absolute path in Linux? (score <a href="https://stackoverflow.com/q/246215.html">923845</a> in 2019)</h3>
<section id="question-26" class="level4">
<h4>Question</h4>
<p>I am writing a shell script that takes file paths as input.</p>
<p>For this reason, I need to generate recursive file listings with full paths. For example, the file <code>bar</code> has the path:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb156-1" title="1"><span class="ex">/home/ken/foo/bar</span></a></code></pre></div>
<p>but, as far as I can see, both <code>ls</code> and <code>find</code> only give relative path listings:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb157-1" title="1"><span class="ex">./foo/bar</span>   (from the folder ken)</a></code></pre></div>
<p>It seems like an obvious requirement, but I can’t see anything in the <code>find</code> or <code>ls</code> man pages.</p>
<p>How can I generate a list of files in the shell including their absolute paths?</p>
</section>
<section id="answer-accepted-score-264" class="level4">
<h4>Answer accepted (score 264)</h4>
<p>If you give <code>find</code> an absolute path to start with, it will print absolute paths. For instance, to find all .htaccess files in the current directory:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb158-1" title="1"><span class="fu">find</span> <span class="st">&quot;</span><span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span><span class="st">&quot;</span> -name .htaccess</a></code></pre></div>
<p>or if your shell expands <code>$PWD</code> to the current directory:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb159-1" title="1"><span class="fu">find</span> <span class="st">&quot;</span><span class="va">$PWD</span><span class="st">&quot;</span> -name .htaccess</a></code></pre></div>
<p><code>find</code> simply prepends the path it was given to a relative path to the file from that path.</p>
<p><a href="https://stackoverflow.com/users/893/greg-hewgill">Greg Hewgill</a> also suggested using <code>pwd -P</code> if you want to resolve symlinks in your current directory.</p>
</section>
<section id="answer-2-score-189" class="level4">
<h4>Answer 2 (score 189)</h4>
<div class="sourceCode" id="cb160"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb160-1" title="1"><span class="fu">readlink</span> -f filename </a></code></pre></div>
<p>gives the full absolute path. but if the file is a symlink, u’ll get the final resolved name.</p>
</section>
<section id="answer-3-score-107" class="level4">
<h4>Answer 3 (score 107)</h4>
<p>Use this for dirs (the <code>/</code> after <code>**</code> is needed in bash to limit it to directories):</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb161-1" title="1"><span class="fu">ls</span> -d -1 <span class="st">&quot;</span><span class="va">$PWD</span><span class="st">/&quot;</span>**/</a></code></pre></div>
<p>this for files and directories directly under the current directory, whose names contain a <code>.</code>:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb162-1" title="1"><span class="fu">ls</span> -d -1 <span class="st">&quot;</span><span class="va">$PWD</span><span class="st">/&quot;</span>*.*</a></code></pre></div>
<p>this for everything:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb163-1" title="1"><span class="fu">ls</span> -d -1 <span class="st">&quot;</span><span class="va">$PWD</span><span class="st">/&quot;</span>**/*</a></code></pre></div>
<p>
Taken from here <a href="http://www.zsh.org/mla/users/2002/msg00033.html" rel="noreferrer">http://www.zsh.org/mla/users/2002/msg00033.html</a>
</p>
<p>In bash, <code>**</code> is recursive if you enable <code>shopt -s globstar</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="remove-a-symlink-to-a-directory-score-921379-in-2014" class="level3">
<h3>28: Remove a symlink to a directory (score <a href="https://stackoverflow.com/q/210120.html">921379</a> in 2014)</h3>
<section id="question-27" class="level4">
<h4>Question</h4>
<p>I have a symlink to an important directory. I want to get rid of that symlink, while keeping the directory behind it.</p>
<p>
I tried <code>rm</code> and get back <code>rm: cannot remove 'foo'</code>.<br> I tried <code>rmdir</code> and got back <code>rmdir: failed to remove 'foo': Directory not empty</code><br> I then progressed through <code>rm -f</code>, <code>rm -rf</code> and <code>sudo rm -rf</code>
</p>
<p>Then I went to find my back-ups.</p>
<p>Is there a way to get rid of the symlink with out throwing away the baby with the bathwater?</p>
</section>
<section id="answer-accepted-score-1280" class="level4">
<h4>Answer accepted (score 1280)</h4>
<div class="sourceCode" id="cb164"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb164-1" title="1"><span class="co"># this works</span></a>
<a class="sourceLine" id="cb164-2" title="2"><span class="fu">rm</span> foo</a>
<a class="sourceLine" id="cb164-3" title="3"><span class="co"># versus</span></a>
<a class="sourceLine" id="cb164-4" title="4"><span class="fu">rm</span> foo/</a></code></pre></div>
<p>Basically, you need to tell it to delete a file, not delete a directory. I believe the difference between <code>rm</code> and <code>rmdir</code> exists because of differences in the way the C library treats each.</p>
<p>At any rate, the first should work, while the second should complain about foo being a directory.</p>
<p>If it doesn’t work as above, then check your permissions. You need write permission to the containing directory to remove files.</p>
</section>
<section id="answer-2-score-827" class="level4">
<h4>Answer 2 (score 827)</h4>
<p>use the “unlink” command and make sure <strong>not</strong> to have the / at the end</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb165-1" title="1">$ <span class="fu">unlink</span> mySymLink</a></code></pre></div>
<blockquote>
<p>
unlink() deletes a name from the file system. <strong>If that name was the last link to a file and no processes have the file open the file is deleted and the space it was using is made available for reuse.</strong> If the name was the last link to a file but any processes still have the file open the file will remain in existence until the last file descriptor referring to it is closed.
</p>
</blockquote>
<p>I think this may be problematic if I’m reading it correctly.</p>
<blockquote>
<p><strong>If the name referred to a symbolic link the link is removed.</strong></p>
If the name referred to a socket, fifo or device the name for it is removed but processes which have the object open may continue to use it.
</blockquote>
<p><a href="https://linux.die.net/man/2/unlink" rel="noreferrer">https://linux.die.net/man/2/unlink</a></p>
</section>
<section id="answer-3-score-17" class="level4">
<h4>Answer 3 (score 17)</h4>
<p>rm should remove the symbolic link.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb166-1" title="1"><span class="ex">skrall@skrall-desktop</span>:~$ mkdir bar</a>
<a class="sourceLine" id="cb166-2" title="2"><span class="ex">skrall@skrall-desktop</span>:~$ ln -s bar foo</a>
<a class="sourceLine" id="cb166-3" title="3"><span class="ex">skrall@skrall-desktop</span>:~$ ls -l foo</a>
<a class="sourceLine" id="cb166-4" title="4"><span class="ex">lrwxrwxrwx</span> 1 skrall skrall 3 2008-10-16 16:22 foo -<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">bar</span></a>
<a class="sourceLine" id="cb166-5" title="5"><span class="ex">skrall@skrall-desktop</span>:~$ rm foo</a>
<a class="sourceLine" id="cb166-6" title="6"><span class="ex">skrall@skrall-desktop</span>:~$ ls -l foo</a>
<a class="sourceLine" id="cb166-7" title="7"><span class="ex">ls</span>: cannot access foo: No such file or directory</a>
<a class="sourceLine" id="cb166-8" title="8"><span class="ex">skrall@skrall-desktop</span>:~$ ls -l bar</a>
<a class="sourceLine" id="cb166-9" title="9"><span class="ex">total</span> 0</a>
<a class="sourceLine" id="cb166-10" title="10"><span class="ex">skrall@skrall-desktop</span>:~$ </a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="http-post-and-get-using-curl-in-linux-score-908003-in-2019" class="level3">
<h3>29: HTTP POST and GET using cURL in Linux (score <a href="https://stackoverflow.com/q/14978411.html">908003</a> in 2019)</h3>
<section id="question-28" class="level4">
<h4>Question</h4>
<p>I have a server application written in ASP.NET on Windows that provides a web service.</p>
<p>How can I call the web service in Linux with cURL?</p>
</section>
<section id="answer-2-score-676" class="level4">
<h4>Answer 2 (score 676)</h4>
<p>*nix provides a nice little command which makes our lives a lot easier.</p>
<p><strong>GET:</strong></p>
<p><em>with JSON:</em></p>
<div class="sourceCode" id="cb167"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb167-1" title="1"><span class="ex">curl</span> -i -H <span class="st">&quot;Accept: application/json&quot;</span> -H <span class="st">&quot;Content-Type: application/json&quot;</span> -X GET http://hostname/resource</a></code></pre></div>
<p><em>with XML:</em></p>
<div class="sourceCode" id="cb168"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb168-1" title="1"><span class="ex">curl</span> -H <span class="st">&quot;Accept: application/xml&quot;</span> -H <span class="st">&quot;Content-Type: application/xml&quot;</span> -X GET http://hostname/resource</a></code></pre></div>
<p><strong>POST:</strong></p>
<p><em>For posting data:</em></p>
<div class="sourceCode" id="cb169"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb169-1" title="1"><span class="ex">curl</span> --data <span class="st">&quot;param1=value1&amp;amp;param2=value2&quot;</span> http://hostname/resource</a></code></pre></div>
<p><em>For file upload:</em></p>
<div class="sourceCode" id="cb170"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb170-1" title="1"><span class="ex">curl</span> --form <span class="st">&quot;fileupload=@filename.txt&quot;</span> http://hostname/resource</a></code></pre></div>
<p><em>RESTful HTTP Post:</em></p>
<div class="sourceCode" id="cb171"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb171-1" title="1"><span class="ex">curl</span> -X POST -d @filename http://hostname/resource</a></code></pre></div>
<p><em>For logging into a site (auth):</em></p>
<div class="sourceCode" id="cb172"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb172-1" title="1"><span class="ex">curl</span> -d <span class="st">&quot;username=admin&amp;amp;password=admin&amp;amp;submit=Login&quot;</span> --dump-header headers http://localhost/Login</a>
<a class="sourceLine" id="cb172-2" title="2"><span class="ex">curl</span> -L -b headers http://localhost/</a></code></pre></div>
<p><strong>Pretty-printing the curl results:</strong></p>
<p><em>For JSON:</em></p>
<p>If you use <code>npm</code> and <code>nodejs</code>, you can install <code>json</code> package by running this command:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb173-1" title="1"><span class="ex">npm</span> install -g json</a></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb174-1" title="1"><span class="ex">curl</span> -i -H <span class="st">&quot;Accept: application/json&quot;</span> -H <span class="st">&quot;Content-Type: application/json&quot;</span> -X GET http://hostname/resource <span class="kw">|</span> <span class="ex">json</span></a></code></pre></div>
<p>If you use <code>pip</code> and <code>python</code>, you can install <code>pjson</code> package by running this command:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb175-1" title="1"><span class="ex">pip</span> install pjson</a></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb176-1" title="1"><span class="ex">curl</span> -i -H <span class="st">&quot;Accept: application/json&quot;</span> -H <span class="st">&quot;Content-Type: application/json&quot;</span> -X GET http://hostname/resource <span class="kw">|</span> <span class="ex">pjson</span></a></code></pre></div>
<p>If you use Python 2.6+, json tool is bundled within.</p>
<p>Usage:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb177-1" title="1"><span class="ex">curl</span> -i -H <span class="st">&quot;Accept: application/json&quot;</span> -H <span class="st">&quot;Content-Type: application/json&quot;</span> -X GET http://hostname/resource <span class="kw">|</span> <span class="ex">python</span> -m json.tool</a></code></pre></div>
<p>If you use <code>gem</code> and <code>ruby</code>, you can install <code>colorful_json</code> package by running this command:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb178-1" title="1"><span class="ex">gem</span> install colorful_json</a></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb179-1" title="1"><span class="ex">curl</span> -i -H <span class="st">&quot;Accept: application/json&quot;</span> -H <span class="st">&quot;Content-Type: application/json&quot;</span> -X GET http://hostname/resource <span class="kw">|</span> <span class="ex">cjson</span></a></code></pre></div>
<p>If you use <code>apt-get</code> (aptitude package manager of your Linux distro), you can install <code>yajl-tools</code> package by running this command:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb180-1" title="1"><span class="fu">sudo</span> apt-get install yajl-tools</a></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb181-1" title="1"><span class="ex">curl</span> -i -H <span class="st">&quot;Accept: application/json&quot;</span> -H <span class="st">&quot;Content-Type: application/json&quot;</span> -X GET http://hostname/resource <span class="kw">|</span>  <span class="ex">json_reformat</span></a></code></pre></div>
<p><em>For XML:</em></p>
<p>If you use *nix with Debian/Gnome envrionment, install <code>libxml2-utils</code>:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb182-1" title="1"><span class="fu">sudo</span> apt-get install libxml2-utils</a></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb183-1" title="1"><span class="ex">curl</span> -H <span class="st">&quot;Accept: application/xml&quot;</span> -H <span class="st">&quot;Content-Type: application/xml&quot;</span> -X GET http://hostname/resource <span class="kw">|</span> <span class="ex">xmllint</span> --format -</a></code></pre></div>
<p>or install <code>tidy</code>:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb184-1" title="1"><span class="fu">sudo</span> apt-get install tidy</a></code></pre></div>
<p>Usage:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb185-1" title="1"><span class="ex">curl</span> -H <span class="st">&quot;Accept: application/xml&quot;</span> -H <span class="st">&quot;Content-Type: application/xml&quot;</span> -X GET http://hostname/resource <span class="kw">|</span> <span class="ex">tidy</span> -xml -i -</a></code></pre></div>
<p><strong>Saving the curl response to a file</strong></p>
<div class="sourceCode" id="cb186"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb186-1" title="1"><span class="ex">curl</span> http://hostname/resource <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">/path/to/your/file</span></a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb187-1" title="1"><span class="ex">curl</span> http://hostname/resource -o /path/to/your/file</a></code></pre></div>
<p>For detailed description of the curl command, hit:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb188-1" title="1"><span class="fu">man</span> curl</a></code></pre></div>
<p>For details about options/switches of the curl command, hit:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb189-1" title="1"><span class="ex">curl</span> -h</a></code></pre></div>
</section>
<section id="answer-3-score-50" class="level4">
<h4>Answer 3 (score 50)</h4>
<p>I think Amith Koujalgi is correct but also, in cases where the webservice responses are in JSON then it might be more useful to see the results in a clean JSON format instead of a very long string. Just add | grep }| python -mjson.tool to the end of curl commands here is two examples:</p>
<p><strong>GET approach with JSON result</strong></p>
<div class="sourceCode" id="cb190"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb190-1" title="1"><span class="ex">curl</span> -i -H <span class="st">&quot;Accept: application/json&quot;</span> http://someHostName/someEndpoint <span class="kw">|</span> <span class="fu">grep</span> }<span class="kw">|</span> <span class="ex">python</span> -mjson.tool </a></code></pre></div>
<p><strong>POST approach with JSON result</strong></p>
<div class="sourceCode" id="cb191"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb191-1" title="1"><span class="ex">curl</span> -X POST  -H <span class="st">&quot;Accept: Application/json&quot;</span> -H <span class="st">&quot;Content-Type: application/json&quot;</span> http://someHostName/someEndpoint -d <span class="st">&#39;{&quot;id&quot;:&quot;IDVALUE&quot;,&quot;name&quot;:&quot;Mike&quot;}&#39;</span> <span class="kw">|</span> <span class="fu">grep</span> }<span class="kw">|</span> <span class="ex">python</span> -mjson.tool</a></code></pre></div>
<p><img src="https://i.stack.imgur.com/T2FqW.png" alt="enter image description here"></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-run-a-shell-script-at-startup-score-904087-in-2018" class="level3">
<h3>30: How to run a shell script at startup (score <a href="https://stackoverflow.com/q/12973777.html">904087</a> in 2018)</h3>
<section id="question-29" class="level4">
<h4>Question</h4>
<p>On an amazon linux instance, I have two scripts called <code>start_my_app</code> and <code>stop_my_app</code> which start and stop <em><a href="https://www.npmjs.com/package/forever" rel="noreferrer">forever</a></em> (which in turn runs my node.js app). I use these scripts to manually start and stop my node app. So far so good.</p>
<p>My problem: I also want to set it up such that <code>start_my_app</code> is run whenever the system boots up. I know that I need to add a file inside <code>init.d</code> and I know how to symlink it to the proper directory within <code>rc.d</code>, but can’t figure out what actually needs to go inside the file that I place in <code>init.d</code>. I’m thinking it should be just one line, like, <code>start_my_app</code>, but that hasn’t been working for me.</p>
</section>
<section id="answer-accepted-score-276" class="level4">
<h4>Answer accepted (score 276)</h4>
<p>In the file you put in <code>/etc/init.d/</code> you have to set it executable with:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb192-1" title="1"><span class="fu">chmod</span> +x /etc/init.d/start_my_app</a></code></pre></div>
<p>Thanks to <span class="citation" data-cites="meetamit">@meetamit</span>, if this does not run you have to create a symlink to <code>/etc/rc.d/</code></p>
<div class="sourceCode" id="cb193"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb193-1" title="1"><span class="fu">ln</span> -s /etc/init.d/start_my_app /etc/rc.d/</a></code></pre></div>
<p>
Please note that on latest Debian, this will not work as your script have to be LSB compliant (provide, at least, the following actions: start, stop, restart, force-reload, and status): <a href="https://wiki.debian.org/LSBInitScripts" rel="noreferrer">https://wiki.debian.org/LSBInitScripts</a>
</p>
<p>As a note, you should put the absolute path of your script instead of a relative one, it may solves unexpected issues:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb194-1" title="1"><span class="ex">/var/myscripts/start_my_app</span></a></code></pre></div>
<p>And don’t forget to add on top of that file:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb195-1" title="1"><span class="co">#!/bin/sh</span></a></code></pre></div>
</section>
<section id="answer-2-score-298" class="level4">
<h4>Answer 2 (score 298)</h4>
<p>Set a crontab for this</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb196-1" title="1"><span class="co">#crontab -e</span></a>
<a class="sourceLine" id="cb196-2" title="2"><span class="ex">@reboot</span>  /home/user/test.sh</a></code></pre></div>
<p>after every startup it will run the test script.</p>
</section>
<section id="answer-3-score-121" class="level4">
<h4>Answer 3 (score 121)</h4>
<p>A simple approach is to add a line in <code>/etc/rc.local</code> :</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb197-1" title="1"><span class="ex">/PATH/TO/MY_APP</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span></a></code></pre></div>
<p>or if you want to run the command as a special user :</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb198-1" title="1"><span class="fu">su</span> - USER_FOOBAR -c /PATH/TO/MY_APP <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span></a></code></pre></div>
<p>(the trailing ampersand backgrounds the process and allows the rc.local to continue executing)</p>
<p>If you want a full init script, debian distro have a template file, so :</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb199-1" title="1"><span class="fu">cp</span> /etc/init.d/skeleton /etc/init.d/your_app</a></code></pre></div>
<p>and adapt it a bit.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-exclude-a-directory-in-find-.-command-score-899880-in-2018" class="level3">
<h3>31: How to exclude a directory in find . command (score <a href="https://stackoverflow.com/q/4210042.html">899880</a> in 2018)</h3>
<section id="question-30" class="level4">
<h4>Question</h4>
<p>I’m trying to run a <code>find</code> command for all JavaScript files, but how do I exclude a specific directory?</p>
<p>Here is the <code>find</code> code we’re using.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb200-1" title="1"><span class="kw">for</span> <span class="fu">file</span> in <span class="va">$(</span><span class="fu">find</span> . -name <span class="st">&#39;*.js&#39;</span><span class="va">)</span></a>
<a class="sourceLine" id="cb200-2" title="2"><span class="kw">do</span> </a>
<a class="sourceLine" id="cb200-3" title="3">  <span class="ex">java</span> -jar config/yuicompressor-2.4.2.jar --type js <span class="va">$file</span> -o <span class="va">$file</span></a>
<a class="sourceLine" id="cb200-4" title="4"><span class="kw">done</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-969" class="level4">
<h4>Answer accepted (score 969)</h4>
<p>Use the <code>-prune</code> switch. For example, if you want to exclude the <code>misc</code> directory just add a <code>-path ./misc -prune -o</code> to your find command:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb201-1" title="1"><span class="fu">find</span> . -path ./misc -prune -o -name <span class="st">&#39;*.txt&#39;</span> -print</a></code></pre></div>
<p>Here is an example with multiple directories:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb202-1" title="1"><span class="fu">find</span> . -type d <span class="dt">\(</span> -path dir1 -o -path dir2 -o -path dir3 <span class="dt">\)</span> -prune -o -print</a></code></pre></div>
<p>Here we exclude <em>dir1</em>, <em>dir2</em> and <em>dir3</em>, since in <code>find</code> expressions it is an action that acts on the criteria <code>-path dir1 -o -path dir2 -o -path dir3</code> (if <em>dir1</em> or <em>dir2</em> or <em>dir3</em>), ANDed with <code>type -d</code>.</p>
<p>Further action is <code>-o print</code>, just print.</p>
</section>
<section id="answer-2-score-1810" class="level4">
<h4>Answer 2 (score 1810)</h4>
<p>If <code>-prune</code> doesn’t work for you, this will:</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb203-1" title="1"><span class="fu">find</span> -name <span class="st">&quot;*.js&quot;</span> -not -path <span class="st">&quot;./directory/*&quot;</span></a></code></pre></div>
<p><strong>Caveat:</strong> requires traversing all of the unwanted directories.</p>
</section>
<section id="answer-3-score-429" class="level4">
<h4>Answer 3 (score 429)</h4>
<p>I find the following easier to reason about than other proposed solutions:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb204-1" title="1"><span class="fu">find</span> build -not <span class="dt">\(</span> -path build/external -prune <span class="dt">\)</span> -name <span class="dt">\*</span>.js</a>
<a class="sourceLine" id="cb204-2" title="2"><span class="co"># you can also exclude multiple paths</span></a>
<a class="sourceLine" id="cb204-3" title="3"><span class="fu">find</span> build -not <span class="dt">\(</span> -path build/external -prune <span class="dt">\)</span> -not <span class="dt">\(</span> -path build/blog -prune <span class="dt">\)</span> -name <span class="dt">\*</span>.js</a></code></pre></div>
<p><strong>Important Note:</strong> the paths you type after <code>-path</code> must exactly match what <code>find</code> would print without the exclusion. If this sentence confuses you just make sure to use full paths through out the <em>whole</em> command like this: <code>find &lt;strong&gt;/full/path/&lt;/strong&gt; -not \( -path &lt;strong&gt;/full/path/exclude/this&lt;/strong&gt; -prune \) ...</code>. See note [1] if you’d like a better understanding.</p>
<p>Inside <code>\(</code> and <code>\)</code> is an expression that will match <em>exactly</em> <code>build/external</code> (see important note above), and will, on success, <em>avoid traversing anything below</em>. This is then grouped as a single expression with the escaped parenthesis, and prefixed with <code>-not</code> which will make <code>find</code> skip anything that was matched by that expression.</p>
<p>One might ask if adding <code>-not</code> will not make all other files hidden by <code>-prune</code> reappear, and the answer is no. The way <code>-prune</code> works is that anything that, once it is reached, the files below that directory are permanently ignored.</p>
<p>This comes from an actual use case, where I needed to call yui-compressor on some files generated by wintersmith, but leave out other files that need to be sent as-is.</p>
<hr>
<p><strong>Note [1]</strong>: If you want to exclude <code>/tmp/foo/bar</code> and you run find like this “<code>find /tmp \(...</code>” then you must specify <code>-path /tmp/foo/bar</code>. If on the other hand you run find like this <code>cd /tmp; find . \(...</code> then you must specify <code>-path ./foo/bar</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-change-the-output-color-of-echo-in-linux-score-896232-in-2017" class="level3">
<h3>32: How to change the output color of echo in Linux (score <a href="https://stackoverflow.com/q/5947742.html">896232</a> in 2017)</h3>
<section id="question-31" class="level4">
<h4>Question</h4>
<p>I am trying to print a text in the terminal using echo command.</p>
<p>I want to print the text in a red color. How can I do that?</p>
</section>
<section id="answer-2-score-2055" class="level4">
<h4>Answer 2 (score 2055)</h4>
<p>You can use these <a href="https://en.wikipedia.org/wiki/ANSI_escape_code" rel="noreferrer">ANSI escape codes</a>:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb205-1" title="1"><span class="ex">Black</span>        0<span class="kw">;</span><span class="ex">30</span>     Dark Gray     1<span class="kw">;</span><span class="ex">30</span></a>
<a class="sourceLine" id="cb205-2" title="2"><span class="ex">Red</span>          0<span class="kw">;</span><span class="ex">31</span>     Light Red     1<span class="kw">;</span><span class="ex">31</span></a>
<a class="sourceLine" id="cb205-3" title="3"><span class="ex">Green</span>        0<span class="kw">;</span><span class="ex">32</span>     Light Green   1<span class="kw">;</span><span class="ex">32</span></a>
<a class="sourceLine" id="cb205-4" title="4"><span class="ex">Brown/Orange</span> 0<span class="kw">;</span><span class="ex">33</span>     Yellow        1<span class="kw">;</span><span class="ex">33</span></a>
<a class="sourceLine" id="cb205-5" title="5"><span class="ex">Blue</span>         0<span class="kw">;</span><span class="ex">34</span>     Light Blue    1<span class="kw">;</span><span class="ex">34</span></a>
<a class="sourceLine" id="cb205-6" title="6"><span class="ex">Purple</span>       0<span class="kw">;</span><span class="ex">35</span>     Light Purple  1<span class="kw">;</span><span class="ex">35</span></a>
<a class="sourceLine" id="cb205-7" title="7"><span class="ex">Cyan</span>         0<span class="kw">;</span><span class="ex">36</span>     Light Cyan    1<span class="kw">;</span><span class="ex">36</span></a>
<a class="sourceLine" id="cb205-8" title="8"><span class="ex">Light</span> Gray   0<span class="kw">;</span><span class="ex">37</span>     White         1<span class="kw">;</span><span class="ex">37</span></a></code></pre></div>
<p>And then use them like this in your script:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb206-1" title="1"><span class="co">#    .---------- constant part!</span></a>
<a class="sourceLine" id="cb206-2" title="2"><span class="co">#    vvvv vvvv-- the code from above</span></a>
<a class="sourceLine" id="cb206-3" title="3"><span class="va">RED=</span><span class="st">&#39;\033[0;31m&#39;</span></a>
<a class="sourceLine" id="cb206-4" title="4"><span class="va">NC=</span><span class="st">&#39;\033[0m&#39;</span> <span class="co"># No Color</span></a>
<a class="sourceLine" id="cb206-5" title="5"><span class="bu">printf</span> <span class="st">&quot;I </span><span class="va">${RED}</span><span class="st">love</span><span class="va">${NC}</span><span class="st"> Stack Overflow\n&quot;</span></a></code></pre></div>
<p>which prints <code>love</code> in red.</p>
<p>From <span class="citation" data-cites="james-lim">@james-lim</span>’s comment, <strong>if you are using the <code>echo</code> command, be sure to use the -e flag to allow backslash escapes</strong>.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb207-1" title="1"><span class="co"># Continued from above example</span></a>
<a class="sourceLine" id="cb207-2" title="2"><span class="bu">echo</span> -e <span class="st">&quot;I </span><span class="va">${RED}</span><span class="st">love</span><span class="va">${NC}</span><span class="st"> Stack Overflow&quot;</span></a></code></pre></div>
<p>(don’t add <code>&quot;\n&quot;</code> when using echo unless you want to add additional empty line)</p>
</section>
<section id="answer-3-score-868" class="level4">
<h4>Answer 3 (score 868)</h4>
<p>You can use the awesome <code>tput</code> command (suggested in <a href="https://stackoverflow.com/a/5947788/24874">Ignacio’s answer</a>) to produce terminal control codes for all kinds of things.</p>
<hr>
<h5>
Usage
</h1>
<p>Specific <code>tput</code> sub-commands are discussed later.</p>
<h5>
Direct
</h3>
<p>Call <code>tput</code> as part of a sequence of commands:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb208-1" title="1"><span class="ex">tput</span> setaf 1<span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;this is red text&quot;</span></a></code></pre></div>
<p>Use <code>;</code> instead of <code>&amp;amp;&amp;amp;</code> so if <code>tput</code> errors the text still shows.</p>
<h5>
Shell variables
</h3>
<p>Another option is to use shell variables:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb209-1" title="1"><span class="va">red=</span><span class="kw">`</span><span class="ex">tput</span> setaf 1<span class="kw">`</span></a>
<a class="sourceLine" id="cb209-2" title="2"><span class="va">green=</span><span class="kw">`</span><span class="ex">tput</span> setaf 2<span class="kw">`</span></a>
<a class="sourceLine" id="cb209-3" title="3"><span class="va">reset=</span><span class="kw">`</span><span class="ex">tput</span> sgr0<span class="kw">`</span></a>
<a class="sourceLine" id="cb209-4" title="4"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${red}</span><span class="st">red text </span><span class="va">${green}</span><span class="st">green text</span><span class="va">${reset}</span><span class="st">&quot;</span></a></code></pre></div>
<p><code>tput</code> produces character sequences that are interpreted by the terminal as having a special meaning. They will not be shown themselves. Note that they can still be saved into files or processed as input by programs other than the terminal.</p>
<h5>
Command substitution
</h3>
<p>It may be more convenient to insert <code>tput</code>’s output directly into your <code>echo</code> strings using <a href="http://tldp.org/LDP/abs/html/commandsub.html" rel="noreferrer">command substitution</a>:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb210-1" title="1"><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">$(</span><span class="ex">tput</span> setaf 1<span class="va">)</span><span class="st">Red text </span><span class="va">$(</span><span class="ex">tput</span> setab 7<span class="va">)</span><span class="st">and white background</span><span class="va">$(</span><span class="ex">tput</span> sgr 0<span class="va">)</span><span class="st">&quot;</span></a></code></pre></div>
<hr>
<h5>
Example
</h1>
<p>The above command produces this on Ubuntu:</p>
<p><img src="https://i.stack.imgur.com/6tYnk.png" alt="Screenshot of colour terminal text"></p>
<hr>
<h5>
Foreground &amp; background colour commands
</h1>
<div class="sourceCode" id="cb211"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb211-1" title="1"><span class="ex">tput</span> setab [1-7] <span class="co"># Set the background colour using ANSI escape</span></a>
<a class="sourceLine" id="cb211-2" title="2"><span class="ex">tput</span> setaf [1-7] <span class="co"># Set the foreground colour using ANSI escape</span></a></code></pre></div>
<p>Colours are as follows:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb212-1" title="1"><span class="ex">Num</span>  Colour    <span class="co">#define         R G B</span></a>
<a class="sourceLine" id="cb212-2" title="2"></a>
<a class="sourceLine" id="cb212-3" title="3"><span class="ex">0</span>    black     COLOR_BLACK     0,0,0</a>
<a class="sourceLine" id="cb212-4" title="4"><span class="ex">1</span>    red       COLOR_RED       1,0,0</a>
<a class="sourceLine" id="cb212-5" title="5"><span class="ex">2</span>    green     COLOR_GREEN     0,1,0</a>
<a class="sourceLine" id="cb212-6" title="6"><span class="ex">3</span>    yellow    COLOR_YELLOW    1,1,0</a>
<a class="sourceLine" id="cb212-7" title="7"><span class="ex">4</span>    blue      COLOR_BLUE      0,0,1</a>
<a class="sourceLine" id="cb212-8" title="8"><span class="ex">5</span>    magenta   COLOR_MAGENTA   1,0,1</a>
<a class="sourceLine" id="cb212-9" title="9"><span class="ex">6</span>    cyan      COLOR_CYAN      0,1,1</a>
<a class="sourceLine" id="cb212-10" title="10"><span class="ex">7</span>    white     COLOR_WHITE     1,1,1</a></code></pre></div>
<p>There are also non-ANSI versions of the colour setting functions (<code>setb</code> instead of <code>setab</code>, and <code>setf</code> instead of <code>setaf</code>) which use different numbers, not given here.</p>
<h5>
Text mode commands
</h1>
<div class="sourceCode" id="cb213"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb213-1" title="1"><span class="ex">tput</span> bold    <span class="co"># Select bold mode</span></a>
<a class="sourceLine" id="cb213-2" title="2"><span class="ex">tput</span> dim     <span class="co"># Select dim (half-bright) mode</span></a>
<a class="sourceLine" id="cb213-3" title="3"><span class="ex">tput</span> smul    <span class="co"># Enable underline mode</span></a>
<a class="sourceLine" id="cb213-4" title="4"><span class="ex">tput</span> rmul    <span class="co"># Disable underline mode</span></a>
<a class="sourceLine" id="cb213-5" title="5"><span class="ex">tput</span> rev     <span class="co"># Turn on reverse video mode</span></a>
<a class="sourceLine" id="cb213-6" title="6"><span class="ex">tput</span> smso    <span class="co"># Enter standout (bold) mode</span></a>
<a class="sourceLine" id="cb213-7" title="7"><span class="ex">tput</span> rmso    <span class="co"># Exit standout mode</span></a></code></pre></div>
<h5>
Cursor movement commands
</h1>
<div class="sourceCode" id="cb214"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb214-1" title="1"><span class="ex">tput</span> cup Y X <span class="co"># Move cursor to screen postion X,Y (top left is 0,0)</span></a>
<a class="sourceLine" id="cb214-2" title="2"><span class="ex">tput</span> cuf N   <span class="co"># Move N characters forward (right)</span></a>
<a class="sourceLine" id="cb214-3" title="3"><span class="ex">tput</span> cub N   <span class="co"># Move N characters back (left)</span></a>
<a class="sourceLine" id="cb214-4" title="4"><span class="ex">tput</span> cuu N   <span class="co"># Move N lines up</span></a>
<a class="sourceLine" id="cb214-5" title="5"><span class="ex">tput</span> ll      <span class="co"># Move to last line, first column (if no cup)</span></a>
<a class="sourceLine" id="cb214-6" title="6"><span class="ex">tput</span> sc      <span class="co"># Save the cursor position</span></a>
<a class="sourceLine" id="cb214-7" title="7"><span class="ex">tput</span> rc      <span class="co"># Restore the cursor position</span></a>
<a class="sourceLine" id="cb214-8" title="8"><span class="ex">tput</span> lines   <span class="co"># Output the number of lines of the terminal</span></a>
<a class="sourceLine" id="cb214-9" title="9"><span class="ex">tput</span> cols    <span class="co"># Output the number of columns of the terminal</span></a></code></pre></div>
<h5>
Clear and insert commands
</h1>
<div class="sourceCode" id="cb215"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb215-1" title="1"><span class="ex">tput</span> ech N   <span class="co"># Erase N characters</span></a>
<a class="sourceLine" id="cb215-2" title="2"><span class="ex">tput</span> clear   <span class="co"># Clear screen and move the cursor to 0,0</span></a>
<a class="sourceLine" id="cb215-3" title="3"><span class="ex">tput</span> el 1    <span class="co"># Clear to beginning of line</span></a>
<a class="sourceLine" id="cb215-4" title="4"><span class="ex">tput</span> el      <span class="co"># Clear to end of line</span></a>
<a class="sourceLine" id="cb215-5" title="5"><span class="ex">tput</span> ed      <span class="co"># Clear to end of screen</span></a>
<a class="sourceLine" id="cb215-6" title="6"><span class="ex">tput</span> ich N   <span class="co"># Insert N characters (moves rest of line forward!)</span></a>
<a class="sourceLine" id="cb215-7" title="7"><span class="ex">tput</span> il N    <span class="co"># Insert N lines</span></a></code></pre></div>
<h5>
Other commands
</h1>
<div class="sourceCode" id="cb216"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb216-1" title="1"><span class="ex">tput</span> sgr0    <span class="co"># Reset text format to the terminal&#39;s default</span></a>
<a class="sourceLine" id="cb216-2" title="2"><span class="ex">tput</span> bel     <span class="co"># Play a bell</span></a></code></pre></div>
<p>With <a href="https://extensions.gnome.org/extension/669/wobbly-windows/" rel="noreferrer">compiz wobbly windows</a>, the <code>bel</code> command makes the terminal wobble for a second to draw the user’s attention.</p>
<hr>
<h5>
Scripts
</h1>
<p><code>tput</code> accepts scripts containing one command per line, which are executed in order before <code>tput</code> exits.</p>
<p>Avoid temporary files by echoing a multiline string and piping it:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb217-1" title="1"><span class="bu">echo</span> -e <span class="st">&quot;setf 7\nsetb 1&quot;</span> <span class="kw">|</span> <span class="ex">tput</span> -S  <span class="co"># set fg white and bg red</span></a></code></pre></div>
<hr>
<h5>
See also
</h1>
<ul>
<li>
See <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?tput+1" rel="noreferrer"><code>man 1 tput</code></a>
</li>
<li>
See <a href="http://www.manpagez.com/man/5/terminfo/" rel="noreferrer"><code>man 5 terminfo</code></a> for the complete list of commands and more details on these options. (The corresponding <code>tput</code> command is listed in the <code>Cap-name</code> column of the huge table that starts at line 81.)
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="error-1045-28000-access-denied-for-user-rootlocalhost-using-password-yes-score-860136-in-2019" class="level3">
<h3>33: ERROR 1045 (28000): Access denied for user ‘root’@‘localhost’ (using password: YES) (score <a href="https://stackoverflow.com/q/21944936.html">860136</a> in 2019)</h3>
<section id="question-32" class="level4">
<h4>Question</h4>
<p>I am an electrical engineer who mainly plays around with power systems instead of programming. Recently, I have been following a manual to install a software suite on Ubuntu. I have no knowledge of <code>mySQL</code> at all, actually. I have done the following installations on my Ubuntu.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb218-1" title="1"><span class="fu">sudo</span> apt-get update</a>
<a class="sourceLine" id="cb218-2" title="2"><span class="fu">sudo</span> apt-get install mysql-server-5.5</a>
<a class="sourceLine" id="cb218-3" title="3"><span class="fu">sudo</span> apt-get install mysql-client-5.5</a>
<a class="sourceLine" id="cb218-4" title="4"><span class="fu">sudo</span> apt-get install mysql-common</a>
<a class="sourceLine" id="cb218-5" title="5"><span class="fu">sudo</span> apt-get install glade</a>
<a class="sourceLine" id="cb218-6" title="6"><span class="fu">sudo</span> apt-get install ntp</a></code></pre></div>
<p>Then I do</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb219-1" title="1"><span class="ex">me@ubuntu</span>:~/Desktop/iPDC-v1.3.1/DBServer-1.1$ mysql -uroot -proot <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="st">&quot;Db.sql&quot;</span></a></code></pre></div>
<p>I ended up with the following error message.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb220-1" title="1"><span class="ex">ERROR</span> 1045 (28000)<span class="bu">:</span> Access denied for user <span class="st">&#39;root&#39;</span>@<span class="st">&#39;localhost&#39;</span> (using password: YES)</a></code></pre></div>
<p>How may I fix it and continue?</p>
</section>
<section id="answer-accepted-score-140" class="level4">
<h4>Answer accepted (score 140)</h4>
<p><strong>Note:</strong> For <strong>MySQL 5.7+</strong> please see <a href="/a/42967789">answer from <span class="citation" data-cites="Lahiru">@Lahiru</span></a> to this question. That contains more current information.</p>
<p>For MySQL &lt; 5.7:</p>
<p>The default root password is blank (i.e. empty string) not <code>root</code>. So you can just login as:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb221-1" title="1"><span class="ex">mysql</span> -u root</a></code></pre></div>
<p>You should obviously change your root password after installation</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb222-1" title="1"><span class="ex">mysqladmin</span> -u root password [newpassword]</a></code></pre></div>
<p>In most cases you should also set up individual user accounts before working extensively with the DB as well.</p>
</section>
<section id="answer-2-score-112" class="level4">
<h4>Answer 2 (score 112)</h4>
<p>I was able to solve this problem by executing this statement</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb223-1" title="1"><span class="fu">sudo</span> dpkg-reconfigure mysql-server-5.5</a></code></pre></div>
<p>Which will change the root password.</p>
</section>
<section id="answer-3-score-68" class="level4">
<h4>Answer 3 (score 68)</h4>
<p>You have to reset the password! steps for mac osx(tested and working) and ubuntu</p>
<p>Stop MySQL using</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb224-1" title="1"><span class="fu">sudo</span> service mysql stop</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb225-1" title="1">$ <span class="fu">sudo</span> /usr/local/mysql/support-files/mysql.server stop</a></code></pre></div>
<p>Start it in safe mode:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb226-1" title="1">$ <span class="fu">sudo</span> mysqld_safe --skip-grant-tables --skip-networking</a></code></pre></div>
<p>(above line is the whole command)</p>
<p>This will be an ongoing command until the process is finished so open another shell/terminal window, log in without a password:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb227-1" title="1">$ <span class="ex">mysql</span> -u root</a>
<a class="sourceLine" id="cb227-2" title="2"></a>
<a class="sourceLine" id="cb227-3" title="3"><span class="ex">mysql</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">UPDATE</span> mysql.user SET Password=PASSWORD(<span class="st">&#39;password&#39;</span>) <span class="ex">WHERE</span> User=<span class="st">&#39;root&#39;</span><span class="kw">;</span></a></code></pre></div>
<p>As per <span class="citation" data-cites="IberoMedia">@IberoMedia</span>’s comment, for newer versions of MySQL, the field is called <code>authentication_string</code>:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb228-1" title="1"><span class="ex">mysql</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">UPDATE</span> mysql.user SET authentication_string =PASSWORD(<span class="st">&#39;password&#39;</span>) <span class="ex">WHERE</span> User=<span class="st">&#39;root&#39;</span><span class="kw">;</span></a></code></pre></div>
<p>Start MySQL using:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb229-1" title="1"><span class="fu">sudo</span> service mysql start</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb230-1" title="1"><span class="fu">sudo</span> /usr/local/mysql/support-files/mysql.server start</a></code></pre></div>
<p>your new password is ‘password’.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="usrbinld-cannot-find--l-score-838868-in-2016" class="level3">
<h3>34: usr/bin/ld: cannot find -l<nameOfTheLibrary> (score <a href="https://stackoverflow.com/q/16710047.html">838868</a> in 2016)</h3>
<section id="question-33" class="level4">
<h4>Question</h4>
<p>I’m trying to compile my program and it returns this error :</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb231-1" title="1"><span class="ex">usr/bin</span>/ld: <span class="ex">cannot</span> find -l<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">nameOfTheLibrary</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>in my makefile I use the command <code>g++</code> and link to my library which is a symbolic link to my library located on an other directory.</p>
<p>Is there an option to add to make it work please?</p>
</section>
<section id="answer-accepted-score-172" class="level4">
<h4>Answer accepted (score 172)</h4>
<p>If your library name is say <code>libxyz.so</code> and it is located on path say:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb232-1" title="1"><span class="ex">/home/user/myDir</span></a></code></pre></div>
<p>then to link it to your program:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb233-1" title="1"><span class="ex">g++</span> -L/home/user/myDir -lxyz myprog.cpp -o myprog</a></code></pre></div>
</section>
<section id="answer-2-score-416" class="level4">
<h4>Answer 2 (score 416)</h4>
<p>To figure out what the linker is looking for, run it in verbose mode.</p>
<p>For example, I encountered this issue while trying to compile MySQL with ZLIB support. I was receiving an error like this during compilation:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb234-1" title="1"><span class="ex">/usr/bin</span>/ld: <span class="ex">cannot</span> find -lzlib</a></code></pre></div>
<p>I did some Googl’ing and kept coming across different issues of the same kind where people would say to make sure the .so file actually exists and if it doesn’t, then create a symlink to the versioned file, for example, zlib.so.1.2.8. But, when I checked, zlib.so DID exist. So, I thought, surely that couldn’t be the problem.</p>
<p>I came across another post on the Internets that suggested to run make with LD_DEBUG=all:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb235-1" title="1"><span class="va">LD_DEBUG=</span>all <span class="fu">make</span></a></code></pre></div>
<p>Although I got a TON of debugging output, it wasn’t actually helpful. It added more confusion than anything else. So, I was about to give up.</p>
<p>Then, I had an epiphany. I thought to actually check the help text for the ld command:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb236-1" title="1"><span class="fu">ld</span> --help</a></code></pre></div>
<p>From that, I figured out how to run ld in verbose mode (imagine that):</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb237-1" title="1"><span class="fu">ld</span> -lzlib --verbose</a></code></pre></div>
<p>This is the output I got:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb238-1" title="1">==================================================</a>
<a class="sourceLine" id="cb238-2" title="2"><span class="ex">attempt</span> to open /usr/x86_64-linux-gnu/lib64/libzlib.so failed</a>
<a class="sourceLine" id="cb238-3" title="3"><span class="ex">attempt</span> to open /usr/x86_64-linux-gnu/lib64/libzlib.a failed</a>
<a class="sourceLine" id="cb238-4" title="4"><span class="ex">attempt</span> to open /usr/local/lib64/libzlib.so failed</a>
<a class="sourceLine" id="cb238-5" title="5"><span class="ex">attempt</span> to open /usr/local/lib64/libzlib.a failed</a>
<a class="sourceLine" id="cb238-6" title="6"><span class="ex">attempt</span> to open /lib64/libzlib.so failed</a>
<a class="sourceLine" id="cb238-7" title="7"><span class="ex">attempt</span> to open /lib64/libzlib.a failed</a>
<a class="sourceLine" id="cb238-8" title="8"><span class="ex">attempt</span> to open /usr/lib64/libzlib.so failed</a>
<a class="sourceLine" id="cb238-9" title="9"><span class="ex">attempt</span> to open /usr/lib64/libzlib.a failed</a>
<a class="sourceLine" id="cb238-10" title="10"><span class="ex">attempt</span> to open /usr/x86_64-linux-gnu/lib/libzlib.so failed</a>
<a class="sourceLine" id="cb238-11" title="11"><span class="ex">attempt</span> to open /usr/x86_64-linux-gnu/lib/libzlib.a failed</a>
<a class="sourceLine" id="cb238-12" title="12"><span class="ex">attempt</span> to open /usr/local/lib/libzlib.so failed</a>
<a class="sourceLine" id="cb238-13" title="13"><span class="ex">attempt</span> to open /usr/local/lib/libzlib.a failed</a>
<a class="sourceLine" id="cb238-14" title="14"><span class="ex">attempt</span> to open /lib/libzlib.so failed</a>
<a class="sourceLine" id="cb238-15" title="15"><span class="ex">attempt</span> to open /lib/libzlib.a failed</a>
<a class="sourceLine" id="cb238-16" title="16"><span class="ex">attempt</span> to open /usr/lib/libzlib.so failed</a>
<a class="sourceLine" id="cb238-17" title="17"><span class="ex">attempt</span> to open /usr/lib/libzlib.a failed</a>
<a class="sourceLine" id="cb238-18" title="18"><span class="ex">/usr/bin</span>/ld.bfd.real: <span class="ex">cannot</span> find -lzlib</a></code></pre></div>
<p>Ding, ding, ding…</p>
<p>So, to finally fix it so I could compile MySQL with my own version of ZLIB (rather than the bundled version):</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb239-1" title="1"><span class="fu">sudo</span> ln -s /usr/lib/libz.so.1.2.8 /usr/lib/libzlib.so</a></code></pre></div>
<p>Voila!</p>
</section>
<section id="answer-3-score-38" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>There does not seem to be any answer which addresses the very common beginner problem of failing to install the required library in the first place.</p>
<p>On Debianish platforms, if <code>libfoo</code> is missing, you can frequently install it with something like</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb240-1" title="1"><span class="ex">apt-get</span> install libfoo-dev</a></code></pre></div>
<p>The <code>-dev</code> version of the package is required for development work, even trivial development work such as compiling source code to link to the library.</p>
<p>The package name will sometimes require some decorations (<code>libfoo0-dev</code>? <code>foo-dev</code> without the <code>lib</code> prefix? etc), or you can simply use your distro’s <a href="https://packages.debian.org/search?searchon=contents&amp;keywords=libfoo.so&amp;mode=exactfilename&amp;suite=stable&amp;arch=any" rel="noreferrer">package search</a> to find out precisely which packages provide a particular file.</p>
<p>(If there is more than one, you will need to find out what their differences are. Picking the coolest or the most popular is a common shortcut, but not an acceptable procedure for any serious development work.)</p>
<p>For other architectures (most notably RPM) similar procedures apply, though the details will be different.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-run-a-shell-script-on-a-unix-console-or-mac-terminal-score-838291-in-2017" class="level3">
<h3>35: How to run a shell script on a Unix console or Mac terminal? (score <a href="https://stackoverflow.com/q/733824.html">838291</a> in 2017)</h3>
<section id="question-34" class="level4">
<h4>Question</h4>
<p>I know it, forget it and relearn it again. Time to write it down.</p>
</section>
<section id="answer-accepted-score-918" class="level4">
<h4>Answer accepted (score 918)</h4>
<p>To run a non-executable <code>sh</code> script, use:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb241-1" title="1"><span class="fu">sh</span> myscript</a></code></pre></div>
<p>To run a non-executable <code>bash</code> script, use:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb242-1" title="1"><span class="fu">bash</span> myscript</a></code></pre></div>
<p>To start an executable (which is any file with executable permission); you just specify it by its path:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb243-1" title="1"><span class="ex">/foo/bar</span></a>
<a class="sourceLine" id="cb243-2" title="2"><span class="ex">/bin/bar</span></a>
<a class="sourceLine" id="cb243-3" title="3"><span class="ex">./bar</span></a></code></pre></div>
<p>To make a script executable, give it the necessary permission:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb244-1" title="1"><span class="fu">chmod</span> +x bar</a>
<a class="sourceLine" id="cb244-2" title="2"><span class="ex">./bar</span></a></code></pre></div>
<p>When a file is executable, the <strong>kernel</strong> is responsible for figuring out how to execte it. For non-binaries, this is done by looking at the first line of the file. It should contain a <code>hashbang</code>:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb245-1" title="1"><span class="co">#! /usr/bin/env bash</span></a></code></pre></div>
<p>The hashbang tells the kernel what program to run (in this case the command <code>/usr/bin/env</code> is ran with the argument <code>bash</code>). Then, the script is passed to the program (as second argument) along with all the arguments you gave the script as subsequent arguments.</p>
<p>That means <strong>every script that is executable should have a hashbang</strong>. If it doesn’t, you’re not telling the kernel what it <em>is</em>, and therefore the kernel doesn’t know what program to use to interprete it. It could be <code>bash</code>, <code>perl</code>, <code>python</code>, <code>sh</code>, or something else. (In reality, the kernel will often use the user’s default shell to interprete the file, which is very dangerous because it might not be the right interpreter at all or it might be able to parse some of it but with subtle behavioural differences such as is the case between <code>sh</code> and <code>bash</code>).</p>
<h5>
A note on <code>/usr/bin/env</code>
</h1>
<p>Most commonly, you’ll see hash bangs like so:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb246-1" title="1"><span class="co">#!/bin/bash</span></a></code></pre></div>
<p>The result is that the kernel will run the program <code>/bin/bash</code> to interpret the script. Unfortunately, <code>bash</code> is not always shipped by default, and it is not always available in <code>/bin</code>. While on Linux machines it usually is, there are a range of other POSIX machines where <code>bash</code> ships in various locations, such as <code>/usr/xpg/bin/bash</code> or <code>/usr/local/bin/bash</code>.</p>
<p>To write a portable bash script, we can therefore not rely on hard-coding the location of the <code>bash</code> program. POSIX already has a mechanism for dealing with that: <code>PATH</code>. The idea is that you install your programs in one of the directories that are in <code>PATH</code> and the system should be able to find your program when you want to run it by name.</p>
<p>Sadly, you <strong><em>cannot</em></strong> just do this:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb247-1" title="1"><span class="co">#!bash</span></a></code></pre></div>
<p>The kernel won’t (some might) do a <code>PATH</code> search for you. There is a program that can do a <code>PATH</code> search for you, though, it’s called <code>env</code>. Luckily, nearly all systems have an <code>env</code> program installed in <code>/usr/bin</code>. So we start <code>env</code> using a hardcoded path, which then does a <code>PATH</code> search for <code>bash</code> and runs it so that it can interpret your script:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb248-1" title="1"><span class="co">#!/usr/bin/env bash</span></a></code></pre></div>
<p>This approach has one downside: According to POSIX, the hashbang can have <strong>one argument</strong>. In this case, we use <code>bash</code> as the argument to the <code>env</code> program. That means we have no space left to pass arguments to <code>bash</code>. So there’s no way to convert something like <code>#!/bin/bash -exu</code> to this scheme. You’ll have to put <code>set -exu</code> after the hashbang instead.</p>
<p>This approach also has another advantage: Some systems may ship with a <code>/bin/bash</code>, but the user may not like it, may find it’s buggy or outdated, and may have installed his own <code>bash</code> somewhere else. This is often the case on OS X (Macs) where Apple ships an outdated <code>/bin/bash</code> and users install an up-to-date <code>/usr/local/bin/bash</code> using something like Homebrew. When you use the <code>env</code> approach which does a <code>PATH</code> search, you take the user’s preference into account and use his preferred bash over the one his system shipped with.</p>
</section>
<section id="answer-2-score-80" class="level4">
<h4>Answer 2 (score 80)</h4>
<p>To start the shell-script ‘file.sh’:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb249-1" title="1"><span class="fu">sh</span> file.sh</a>
<a class="sourceLine" id="cb249-2" title="2"></a>
<a class="sourceLine" id="cb249-3" title="3"><span class="fu">bash</span> file.sh</a></code></pre></div>
<p>Another option is set executable permission using chmod command:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb250-1" title="1"><span class="fu">chmod</span> +x file.sh</a></code></pre></div>
<p>Now run .sh file as follows:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb251-1" title="1"><span class="ex">./file.sh</span></a></code></pre></div>
</section>
<section id="answer-3-score-15" class="level4">
<h4>Answer 3 (score 15)</h4>
<p>For the bourne shell:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb252-1" title="1"><span class="fu">sh</span> myscript.sh</a></code></pre></div>
<p>For bash:</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb253-1" title="1"><span class="fu">bash</span> myscript.sh</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-get-full-path-of-a-file-score-837153-in-2014" class="level3">
<h3>36: How to get full path of a file? (score <a href="https://stackoverflow.com/q/5265702.html">837153</a> in 2014)</h3>
<section id="question-35" class="level4">
<h4>Question</h4>
<p>Is there an easy way I can print the full path of <code>file.txt</code> ?</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb254-1" title="1"><span class="ex">file.txt</span> = /nfs/an/disks/jj/home/dir/file.txt</a></code></pre></div>
<p>The <code>&amp;lt;command&amp;gt;</code></p>
<div class="sourceCode" id="cb255"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb255-1" title="1"><span class="fu">dir</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="bu">command</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">file.txt</span>  </a></code></pre></div>
<p>should print</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb256-1" title="1"><span class="ex">/nfs/an/disks/jj/home/dir/file.txt</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-1073" class="level4">
<h4>Answer accepted (score 1073)</h4>
<p>Use <a href="http://man7.org/linux/man-pages/man1/readlink.1.html" rel="noreferrer"><strong>readlink</strong></a>:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb257-1" title="1"><span class="fu">readlink</span> -f file.txt</a></code></pre></div>
</section>
<section id="answer-2-score-183" class="level4">
<h4>Answer 2 (score 183)</h4>
<p>I suppose you are using Linux.</p>
<p>I found a utility called <code>realpath</code> in coreutils 8.15.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb258-1" title="1"><span class="ex">realpath</span> file.txt</a>
<a class="sourceLine" id="cb258-2" title="2"><span class="ex">/data/ail_data/transformed_binaries/coreutils/test_folder_realpath/file.txt</span></a></code></pre></div>
<p>As per <span class="citation" data-cites="styrofoam-fly">@styrofoam-fly</span> and <span class="citation" data-cites="arch-standton">@arch-standton</span> comments, <code>realpath</code> alone doesn’t check for file existence, to solve this add the <code>e</code> argument: <code>realpath -e file</code></p>
</section>
<section id="answer-3-score-75-1" class="level4">
<h4>Answer 3 (score 75)</h4>
<p>The following usually does the trick:</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb259-1" title="1"> <span class="bu">echo</span> <span class="va">$(</span><span class="bu">cd</span> <span class="va">$(</span><span class="fu">dirname</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st">&quot;</span><span class="va">)</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="bu">pwd</span> -P<span class="va">)</span>/<span class="va">$(</span><span class="fu">basename</span> <span class="st">&quot;</span><span class="va">$1</span><span class="st">&quot;</span><span class="va">)</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="performing-http-requests-with-curl-using-proxy-score-833120-in-2017" class="level3">
<h3>37: performing HTTP requests with cURL (using PROXY) (score <a href="https://stackoverflow.com/q/9445489.html">833120</a> in 2017)</h3>
<section id="question-36" class="level4">
<h4>Question</h4>
<p>I have this proxy address: <code>125.119.175.48:8909</code></p>
<p>How can I perform a HTTP request using cURL like <code>curl http://www.example.com</code>, but specifying the proxy address of my network?</p>
</section>
<section id="answer-accepted-score-393" class="level4">
<h4>Answer accepted (score 393)</h4>
<p>General way:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb260-1" title="1"><span class="bu">export</span> <span class="va">http_proxy=</span>http://your.proxy.server:port/</a></code></pre></div>
<p>Then you can connect through proxy from (many) application.</p>
<p>And, as per comment below, for https:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb261-1" title="1"><span class="bu">export</span> <span class="va">https_proxy=</span>https://your.proxy.server:port/</a></code></pre></div>
</section>
<section id="answer-2-score-605" class="level4">
<h4>Answer 2 (score 605)</h4>
<p>From <code>man curl</code>:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb262-1" title="1"><span class="ex">-x</span>, --proxy <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span>[<span class="ex">protocol</span>://][user:password@]proxyhost[:port]<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb262-2" title="2"></a>
<a class="sourceLine" id="cb262-3" title="3">     <span class="ex">Use</span> the specified HTTP proxy. </a>
<a class="sourceLine" id="cb262-4" title="4">     <span class="ex">If</span> the port number is not specified, it is assumed at port 1080.</a></code></pre></div>
</section>
<section id="answer-3-score-114" class="level4">
<h4>Answer 3 (score 114)</h4>
<p>The above solutions might not work with some curl versions I tried them for myself(curl 7.22.0). But what worked for me was:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb263-1" title="1"><span class="ex">curl</span> -x http://proxy_server:proxy_port --proxy-user username:password -L http://url</a></code></pre></div>
<p>Hope it solves the issue better!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="shell-command-to-tar-directory-excluding-certain-filesfolders-score-811337-in-2019" class="level3">
<h3>38: Shell command to tar directory excluding certain files/folders (score <a href="https://stackoverflow.com/q/984204.html">811337</a> in 2019)</h3>
<section id="question-37" class="level4">
<h4>Question</h4>
<p>Is there a simple shell command/script that supports excluding certain files/folders from being archived?</p>
<p>I have a directory that need to be archived with a sub directory that has a number of very large files I do not need to backup.</p>
<p><strong>Not quite solutions:</strong></p>
<p>The <code>tar --exclude=PATTERN</code> command matches the given pattern and excludes those files, but I need specific files &amp; folders to be ignored (full file path), otherwise valid files might be excluded.</p>
<p>I could also use the find command to create a list of files and exclude the ones I don’t want to archive and pass the list to tar, but that only works with for a small amount of files. I have tens of thousands.</p>
<p>I’m beginning to think the only solution is to create a file with a list of files/folders to be excluded, then use rsync with <code>--exclude-from=file</code> to copy all the files to a tmp directory, and then use tar to archive that directory.</p>
<p>Can anybody think of a better/more efficient solution?</p>
<p>EDIT: <strong>Charles Ma</strong>’s solution works well. The big gotcha is that the <code>--exclude='./folder'</code> <strong>MUST</strong> be at the beginning of the tar command. Full command (cd first, so backup is relative to that directory):</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb264-1" title="1"><span class="bu">cd</span> /folder_to_backup</a>
<a class="sourceLine" id="cb264-2" title="2"><span class="fu">tar</span> --exclude=<span class="st">&#39;./folder&#39;</span> --exclude=<span class="st">&#39;./upload/folder2&#39;</span> -zcvf /backup/filename.tgz .</a></code></pre></div>
</section>
<section id="answer-accepted-score-953" class="level4">
<h4>Answer accepted (score 953)</h4>
<p>You can have multiple exclude options for tar so</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb265-1" title="1">$ <span class="fu">tar</span> --exclude=<span class="st">&#39;./folder&#39;</span> --exclude=<span class="st">&#39;./upload/folder2&#39;</span> -zcvf /backup/filename.tgz .</a></code></pre></div>
<p>etc will work. Make <strong>sure</strong> to put <code>--exclude</code> <strong>before</strong> the source and destination items.</p>
</section>
<section id="answer-2-score-129" class="level4">
<h4>Answer 2 (score 129)</h4>
<p>You can exclude directories with <code>--exclude</code> for tar.</p>
<p>If you want to archive everything except <code>/usr</code> you can use:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb266-1" title="1"><span class="fu">tar</span> -zcvf /all.tgz / --exclude=/usr</a></code></pre></div>
<p>In your case perhaps something like</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb267-1" title="1"><span class="fu">tar</span> -zcvf archive.tgz arc_dir --exclude=dir/ignore_this_dir</a></code></pre></div>
</section>
<section id="answer-3-score-60" class="level4">
<h4>Answer 3 (score 60)</h4>
<p>Possible options to exclude files/directories from backup using tar:</p>
<p>Exclude files using multiple patterns</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb268-1" title="1"><span class="fu">tar</span> -czf backup.tar.gz --exclude=PATTERN1 --exclude=PATTERN2 ... /path/to/backup</a></code></pre></div>
<p>Exclude files using an exclude file filled with a list of patterns</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb269-1" title="1"><span class="fu">tar</span> -czf backup.tar.gz -X /path/to/exclude.txt /path/to/backup</a></code></pre></div>
<p>Exclude files using tags by placing a tag file in any directory that should be skipped</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb270-1" title="1"><span class="fu">tar</span> -czf backup.tar.gz --exclude-tag-all=exclude.tag /path/to/backup</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-delete-an-exported-environment-variable-score-805227-in-2017" class="level3">
<h3>39: How do I delete an exported environment variable? (score <a href="https://stackoverflow.com/q/6877727.html">805227</a> in 2017)</h3>
<section id="question-38" class="level4">
<h4>Question</h4>
<p>Before installing gnuplot, I set the environment variable <code>GNUPLOT_DRIVER_DIR = /home/gnuplot/build/src</code>. During the installation, something went wrong.</p>
<p>I want to remove the <code>GNUPLOT_DRIVER_DIR</code> environment variable. How can I achieve it?</p>
</section>
<section id="answer-accepted-score-2247" class="level4">
<h4>Answer accepted (score 2247)</h4>
<p><code>unset</code> is the command you’re looking for.</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb271-1" title="1"><span class="bu">unset</span> <span class="va">GNUPLOT_DRIVER_DIR</span></a></code></pre></div>
</section>
<section id="answer-2-score-160" class="level4">
<h4>Answer 2 (score 160)</h4>
<h5>
<strong>Walkthrough of creating and deleting an environment variable in bash:</strong>
</h2>
<p><strong>Test if the DUALCASE variable exists:</strong></p>
<div class="sourceCode" id="cb272"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb272-1" title="1"><span class="ex">el@apollo</span>:~$ env <span class="kw">|</span> <span class="fu">grep</span> DUALCASE</a>
<a class="sourceLine" id="cb272-2" title="2"><span class="ex">el@apollo</span>:~$ </a></code></pre></div>
<p><strong>It does not, so create the variable and export it:</strong></p>
<div class="sourceCode" id="cb273"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb273-1" title="1"><span class="ex">el@apollo</span>:~$ DUALCASE=1</a>
<a class="sourceLine" id="cb273-2" title="2"><span class="ex">el@apollo</span>:~$ export DUALCASE</a></code></pre></div>
<p><strong>Check if it is there:</strong></p>
<div class="sourceCode" id="cb274"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb274-1" title="1"><span class="ex">el@apollo</span>:~$ env <span class="kw">|</span> <span class="fu">grep</span> DUALCASE</a>
<a class="sourceLine" id="cb274-2" title="2"><span class="va">DUALCASE=</span>1</a></code></pre></div>
<p><strong>It is there. So get rid of it:</strong></p>
<div class="sourceCode" id="cb275"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb275-1" title="1"><span class="ex">el@apollo</span>:~$ unset DUALCASE</a></code></pre></div>
<p><strong>Check if it’s still there:</strong></p>
<div class="sourceCode" id="cb276"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb276-1" title="1"><span class="ex">el@apollo</span>:~$ env <span class="kw">|</span> <span class="fu">grep</span> DUALCASE</a>
<a class="sourceLine" id="cb276-2" title="2"><span class="ex">el@apollo</span>:~$ </a></code></pre></div>
<p>The DUALCASE exported environment variable is deleted.</p>
<h5>
Extra commands to help clear your local and environment variables:
</h2>
<p><strong>Unset all local variables back to default on login:</strong></p>
<div class="sourceCode" id="cb277"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb277-1" title="1"><span class="ex">el@apollo</span>:~$ CAN=<span class="st">&quot;chuck norris&quot;</span></a>
<a class="sourceLine" id="cb277-2" title="2"><span class="ex">el@apollo</span>:~$ set <span class="kw">|</span> <span class="fu">grep</span> CAN</a>
<a class="sourceLine" id="cb277-3" title="3"><span class="va">CAN=</span><span class="st">&#39;chuck norris&#39;</span></a>
<a class="sourceLine" id="cb277-4" title="4"><span class="ex">el@apollo</span>:~$ env <span class="kw">|</span> <span class="fu">grep</span> CAN</a>
<a class="sourceLine" id="cb277-5" title="5"><span class="ex">el@apollo</span>:~$</a>
<a class="sourceLine" id="cb277-6" title="6"><span class="ex">el@apollo</span>:~$ exec bash</a>
<a class="sourceLine" id="cb277-7" title="7"><span class="ex">el@apollo</span>:~$ set <span class="kw">|</span> <span class="fu">grep</span> CAN</a>
<a class="sourceLine" id="cb277-8" title="8"><span class="ex">el@apollo</span>:~$ env <span class="kw">|</span> <span class="fu">grep</span> CAN</a>
<a class="sourceLine" id="cb277-9" title="9"><span class="ex">el@apollo</span>:~$</a></code></pre></div>
<p><code>exec bash</code> command cleared all the local variables but not environment variables.</p>
<p><strong>Unset all environment variables back to default on login:</strong></p>
<div class="sourceCode" id="cb278"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb278-1" title="1"><span class="ex">el@apollo</span>:~$ export DOGE=<span class="st">&quot;so wow&quot;</span></a>
<a class="sourceLine" id="cb278-2" title="2"><span class="ex">el@apollo</span>:~$ env <span class="kw">|</span> <span class="fu">grep</span> DOGE</a>
<a class="sourceLine" id="cb278-3" title="3"><span class="va">DOGE=</span>so <span class="ex">wow</span></a>
<a class="sourceLine" id="cb278-4" title="4"><span class="ex">el@apollo</span>:~$ env -i bash</a>
<a class="sourceLine" id="cb278-5" title="5"><span class="ex">el@apollo</span>:~$ env <span class="kw">|</span> <span class="fu">grep</span> DOGE</a>
<a class="sourceLine" id="cb278-6" title="6"><span class="ex">el@apollo</span>:~$</a></code></pre></div>
<p><code>env -i bash</code> command cleared all the environment variables to default on login.</p>
</section>
<section id="answer-3-score-5" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>
Because the original question doesn’t mention how the variable was set, and because I got to this page looking for this specific answer, I’m adding the following:
</p>
<p><strong>In C shell (csh/tcsh)</strong> there are two ways to set an environment variable:</p>
<ol>
<li>
<code>set x = &quot;something&quot;</code>
</li>
<li>
<code>setenv x &quot;something&quot;</code>
</li>
</ol>
<p>The difference in the behaviour is that variables set with <strong><em>setenv</em></strong> command are automatically exported to subshell while variable set with <strong><em>set</em></strong> aren’t.</p>
<p>To unset a variable set with <strong><em>set</em></strong>, use</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb279-1" title="1"><span class="bu">unset</span> <span class="va">x</span></a></code></pre></div>
<p>To unset a variable set with <strong><em>setenv</em></strong>, use</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb280-1" title="1"><span class="ex">unsetenv</span> x</a></code></pre></div>
<p><em>Note:</em> in all the above, I assume that the variable name is ‘x’.</p>
<p>credits:</p>
<p>
<a href="https://www.cyberciti.biz/faq/unix-linux-difference-between-set-and-setenv-c-shell-variable/" rel="nofollow noreferrer">https://www.cyberciti.biz/faq/unix-linux-difference-between-set-and-setenv-c-shell-variable/</a> <a href="https://www.oreilly.com/library/view/solaristm-7-reference/0130200484/0130200484_ch18lev1sec24.html" rel="nofollow noreferrer">https://www.oreilly.com/library/view/solaristm-7-reference/0130200484/0130200484_ch18lev1sec24.html</a>
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-does-cat-eof-work-in-bash-score-797520-in-2017" class="level3">
<h3>40: How does “cat &lt;&lt; EOF” work in bash? (score <a href="https://stackoverflow.com/q/2500436.html">797520</a> in 2017)</h3>
<section id="question-39" class="level4">
<h4>Question</h4>
<p>I needed to write a script to enter multi-line input to a program (<code>psql</code>).</p>
<p>After a bit of googling, I found the following syntax works:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb281-1" title="1"><span class="fu">cat</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">EOF</span> <span class="kw">|</span> <span class="ex">psql</span> ---params</a>
<a class="sourceLine" id="cb281-2" title="2"><span class="ex">BEGIN</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb281-3" title="3"></a>
<a class="sourceLine" id="cb281-4" title="4"><span class="kw">`</span><span class="ex">pg_dump</span> ----something<span class="kw">`</span></a>
<a class="sourceLine" id="cb281-5" title="5"></a>
<a class="sourceLine" id="cb281-6" title="6"><span class="ex">update</span> table .... statement ...<span class="kw">;</span></a>
<a class="sourceLine" id="cb281-7" title="7"></a>
<a class="sourceLine" id="cb281-8" title="8"><span class="ex">END</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb281-9" title="9"><span class="ex">EOF</span></a></code></pre></div>
<p>This correctly constructs the multi-line string (from <code>BEGIN;</code> to <code>END;</code>, inclusive) and pipes it as an input to <code>psql</code>.</p>
<p>But I have no idea how/why it works, can some one please explain?</p>
<p>I’m referring mainly to <code>cat &amp;lt;&amp;lt; EOF</code>, I know <code>&amp;gt;</code> outputs to a file, <code>&amp;gt;&amp;gt;</code> appends to a file, <code>&amp;lt;</code> reads input from file.</p>
<p>What does <code>&amp;lt;&amp;lt;</code> exactly do?</p>
<p>And is there a man page for it?</p>
</section>
<section id="answer-accepted-score-466" class="level4">
<h4>Answer accepted (score 466)</h4>
<p>This is called <strong><em>heredoc</strong> format</em> to provide a string into stdin. See <a href="https://en.wikipedia.org/wiki/Here_document#Unix_shells" rel="noreferrer">https://en.wikipedia.org/wiki/Here_document#Unix_shells</a> for more details.</p>
<hr>
<p>From <code>man bash</code>:</p>
<blockquote>
<h5>
Here Documents
</h2>
<p>
This type of redirection instructs the shell to read input from the current source until a line containing only word (with no trailing blanks) is seen.
</p>
<p>
All of the lines read up to that point are then used as the standard input for a command.
</p>
<p>The format of here-documents is:</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb282-1" title="1">          <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span>[<span class="ex">-</span>]word</a>
<a class="sourceLine" id="cb282-2" title="2">                  <span class="ex">here-document</span></a>
<a class="sourceLine" id="cb282-3" title="3">          <span class="ex">delimiter</span></a></code></pre></div>
<p>
No parameter expansion, command substitution, arithmetic expansion, or pathname expansion is performed on <strong>word</strong>. If any characters in <strong>word</strong> are quoted, the <strong>delimiter</strong> is the result of quote removal on <strong>word</strong>, and the lines in the <strong>here-document</strong> are not expanded. If <strong>word</strong> is unquoted, all lines of the <strong>here-document</strong> are subjected to parameter expansion, command substitution, and arithmetic expansion. In the latter case, the character sequence <code>\&amp;lt;newline&amp;gt;</code> is ignored, and <code>\</code> must be used to quote the characters <code>\</code>, <code>$</code>, and ```.
</p>
<p>
If the redirection operator is <code>&amp;lt;&amp;lt;-</code>, then all leading tab characters are stripped from input lines and the line containing <strong>delimiter</strong>. This allows here-documents within shell scripts to be indented in a natural fashion.
</p>
</blockquote>
</section>
<section id="answer-2-score-441" class="level4">
<h4>Answer 2 (score 441)</h4>
<p>The <code>cat &amp;lt;&amp;lt;EOF</code> syntax is very useful when working with multi-line text in Bash, eg. when assigning multi-line string to a shell variable, file or a pipe.</p>
<h5>
Examples of <code>cat &amp;lt;&amp;lt;EOF</code> syntax usage in Bash:
</h1>
<h5>
<ol type="1">
<li>Assign multi-line string to a shell variable
</h2></li>
</ol>
<div class="sourceCode" id="cb283"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb283-1" title="1">$ <span class="va">sql=$(</span><span class="fu">cat</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">EOF</span></a>
<a class="sourceLine" id="cb283-2" title="2"><span class="ex">SELECT</span> foo, bar FROM db</a>
<a class="sourceLine" id="cb283-3" title="3"><span class="ex">WHERE</span> foo=<span class="st">&#39;baz&#39;</span></a>
<a class="sourceLine" id="cb283-4" title="4"><span class="ex">EOF</span></a>
<a class="sourceLine" id="cb283-5" title="5"><span class="va">)</span></a></code></pre></div>
<p><em>The <code>$sql</code> variable now holds the new-line characters too. You can verify with <code>echo -e &quot;$sql&quot;</code>.</em></p>
<h5>
<ol start="2" type="1">
<li>Pass multi-line string to a file in Bash
</h2></li>
</ol>
<div class="sourceCode" id="cb284"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb284-1" title="1">$ <span class="fu">cat</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">EOF</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">print.sh</span></a>
<a class="sourceLine" id="cb284-2" title="2"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb284-3" title="3"><span class="bu">echo</span> <span class="dt">\$</span>PWD</a>
<a class="sourceLine" id="cb284-4" title="4"><span class="bu">echo</span> <span class="va">$PWD</span></a>
<a class="sourceLine" id="cb284-5" title="5"><span class="ex">EOF</span></a></code></pre></div>
<p><em>The <code>print.sh</code> file now contains:</em></p>
<div class="sourceCode" id="cb285"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb285-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb285-2" title="2"><span class="bu">echo</span> <span class="va">$PWD</span></a>
<a class="sourceLine" id="cb285-3" title="3"><span class="bu">echo</span> /home/user</a></code></pre></div>
<h5>
<ol start="3" type="1">
<li>Pass multi-line string to a pipe in Bash
</h2></li>
</ol>
<div class="sourceCode" id="cb286"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb286-1" title="1">$ <span class="fu">cat</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">EOF</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&#39;b&#39;</span> <span class="kw">|</span> <span class="fu">tee</span> b.txt</a>
<a class="sourceLine" id="cb286-2" title="2"><span class="ex">foo</span></a>
<a class="sourceLine" id="cb286-3" title="3"><span class="ex">bar</span></a>
<a class="sourceLine" id="cb286-4" title="4"><span class="ex">baz</span></a>
<a class="sourceLine" id="cb286-5" title="5"><span class="ex">EOF</span></a></code></pre></div>
<p><em>The <code>b.txt</code> file contains <code>bar</code> and <code>baz</code> lines. The same output is printed to <code>stdout</code>.</em></p>
</section>
<section id="answer-3-score-215" class="level4">
<h4>Answer 3 (score 215)</h4>
<p>In your case, “EOF” is known as a “Here Tag”. Basically <code>&amp;lt;&amp;lt;Here</code> tells the shell that you are going to enter a multiline string until the “tag” <code>Here</code>. You can name this tag as you want, it’s often <code>EOF</code> or <code>STOP</code>.</p>
<p>Some rules about the Here tags:</p>
<ol>
<li>
The tag can be any string, uppercase or lowercase, though most people use uppercase by convention.
</li>
<li>
The tag will not be considered as a Here tag if there are other words in that line. In this case, it will merely be considered part of the string. The tag should be by itself on a separate line, to be considered a tag.
</li>
<li>
The tag should have no leading or trailing spaces in that line to be considered a tag. Otherwise it will be considered as part of the string.
</li>
</ol>
<p>example:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb287-1" title="1">$ <span class="fu">cat</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="bu">test</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">HERE</span></a>
<a class="sourceLine" id="cb287-2" title="2"><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">Hello</span> world HERE <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">--</span> Not by itself on a separate line -<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">not</span> considered end of string</a>
<a class="sourceLine" id="cb287-3" title="3"><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">This</span> is a test</a>
<a class="sourceLine" id="cb287-4" title="4"><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span>  <span class="ex">HERE</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">--</span> Leading space, so not considered end of string</a>
<a class="sourceLine" id="cb287-5" title="5"><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">and</span> a new line</a>
<a class="sourceLine" id="cb287-6" title="6"><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">HERE</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">--</span> Now we have the end of the string</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="dude-wheres-my-php.ini-score-754046-in-2019" class="level3">
<h3>41: Dude, where’s my php.ini? (score <a href="https://stackoverflow.com/q/8684609.html">754046</a> in 2019)</h3>
<section id="question-40" class="level4">
<h4>Question</h4>
<p>A few years ago I installed Apache 2.2x and PHP 5.3.1 on a Linux server I maintain. I used .tar.gz’s and built them as instructed (instead of rpms and what-have-you). And all was fine.</p>
<p>Today I need to install <a href="http://us2.php.net/ibm_db2" rel="noreferrer">this</a> which seems like a PHP library. I went through all the steps up to make install, and I find ibm_db2.so in <code>$PHP_HOME/lib/extensions/somecomplicatedname/ibm_db2.so</code></p>
<p>The great catch is the last step is to configure php.ini but there is NO php.ini on my system. Horror of horrors. PHP works fine, except of course for this new-fangled ibm_db2 thingamagic that I want to use so somebody can use a GUI to tinker with <code>DB2</code>. (I tried a small php script which fails and indicates that the ibm_db2 functions are not available).</p>
<p>I have to deal with PHP once every few years, so please enlighten me at a very basic level about what I could do to enable web-based GUI access to <code>DB2</code>.</p>
</section>
<section id="answer-accepted-score-439" class="level4">
<h4>Answer accepted (score 439)</h4>
<p>
Best way to find this is: create a php file and add the following code:
</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb288-1" title="1"><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">?php</span> phpinfo(); <span class="ex">?</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>and open it in browser, it will show the file which is actually being read!</p>
<p>Updates by OP:</p>
<ol>
<li>
The previously accepted <a href="https://stackoverflow.com/questions/8684609/dude-wheres-my-php-ini/8684638#8684638">answer</a> is likely to be faster and more convenient for you, but it is not always correct. See comments on that answer.
</li>
<li>
Please also note the more convenient alternative <code>&amp;lt;?php echo php_ini_loaded_file(); ?&amp;gt;</code> mentioned in <a href="https://stackoverflow.com/questions/8684609/dude-wheres-my-php-ini/24342463#24342463">this answer</a>.
</li>
</ol>
</section>
<section id="answer-2-score-795" class="level4">
<h4>Answer 2 (score 795)</h4>
<p>On the command line execute:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb289-1" title="1"><span class="ex">php</span> --ini</a></code></pre></div>
<p>You will get something like:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb290-1" title="1"><span class="ex">Configuration</span> File (php.ini) <span class="ex">Path</span>: /etc/php5/cli</a>
<a class="sourceLine" id="cb290-2" title="2"><span class="ex">Loaded</span> Configuration File:         /etc/php5/cli/php.ini</a>
<a class="sourceLine" id="cb290-3" title="3"><span class="ex">Scan</span> for additional .ini files in: /etc/php5/cli/conf.d</a>
<a class="sourceLine" id="cb290-4" title="4"><span class="ex">Additional</span> .ini files parsed:      /etc/php5/cli/conf.d/curl.ini,</a>
<a class="sourceLine" id="cb290-5" title="5"><span class="ex">/etc/php5/cli/conf.d</span>/<span class="ex">pdo.ini</span>,</a>
<a class="sourceLine" id="cb290-6" title="6"><span class="ex">/etc/php5/cli/conf.d</span>/<span class="ex">pdo_sqlite.ini</span>,</a>
<a class="sourceLine" id="cb290-7" title="7"><span class="ex">/etc/php5/cli/conf.d</span>/<span class="ex">sqlite.ini</span>,</a>
<a class="sourceLine" id="cb290-8" title="8"><span class="ex">/etc/php5/cli/conf.d</span>/<span class="ex">sqlite3.ini</span>,</a>
<a class="sourceLine" id="cb290-9" title="9"><span class="ex">/etc/php5/cli/conf.d</span>/<span class="ex">xdebug.ini</span>,</a>
<a class="sourceLine" id="cb290-10" title="10"><span class="ex">/etc/php5/cli/conf.d/xsl.ini</span></a></code></pre></div>
<p>That’s from my local dev-machine. However, the second line is the interesting one. If there is nothing mentioned, have a look at the first one. That is the path, where PHP looks for the <code>php.ini</code>.</p>
<p>You can grep the same information using <code>phpinfo()</code> in a script and call it with a browser. Its mentioned in the first block of the output. <code>php -i</code> does the same for the command line, but its quite uncomfortable.</p>
</section>
<section id="answer-3-score-124" class="level4">
<h4>Answer 3 (score 124)</h4>
<p>This works for me:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb291-1" title="1"><span class="ex">php</span> -i <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&#39;php.ini&#39;</span></a></code></pre></div>
<p>You should see something like:</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb292-1" title="1"><span class="ex">Loaded</span> Configuration File =<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">/usr/local/lib/php.ini</span></a></code></pre></div>
<p>
p.s. To get only the php.inin path
</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb293-1" title="1"><span class="ex">php</span> -i <span class="kw">|</span> <span class="fu">grep</span> /.+/php.ini -oE</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-find-the-mysql-my.cnf-location-score-752753-in-2018" class="level3">
<h3>42: How do I find the MySQL my.cnf location (score <a href="https://stackoverflow.com/q/2482234.html">752753</a> in 2018)</h3>
<section id="question-41" class="level4">
<h4>Question</h4>
<p>Is there a MySQL command to locate the <code>my.cnf</code> configuration file, similar to how PHP’s <code>phpinfo()</code> locates its <code>php.ini</code>?</p>
</section>
<section id="answer-accepted-score-512" class="level4">
<h4>Answer accepted (score 512)</h4>
<p>There is no internal MySQL command to trace this, it’s a little too abstract. The file might be in 5 (or more?) locations, and they would all be valid because they load cascading.</p>
<ul>
<li>
/etc/my.cnf
</li>
<li>
/etc/mysql/my.cnf
</li>
<li>
$MYSQL_HOME/my.cnf
</li>
<li>
[datadir]/my.cnf
</li>
<li>
~/.my.cnf
</li>
</ul>
<p>Those are the default locations MySQL looks at. If it finds more than one, it will load each of them &amp; values override each other (in the listed order, I think). Also, the <code>--defaults-file</code> parameter can override the whole thing, so… basically, it’s a huge pain in the butt.</p>
<p>But thanks to it being so confusing, there’s a good chance it’s just in /etc/my.cnf.</p>
<p>(if you just want to see the values: <a href="http://dev.mysql.com/doc/refman/5.0/en/show-variables.html" rel="noreferrer"><code>SHOW VARIABLES</code></a>, but you’ll need the permissions to do so.)</p>
</section>
<section id="answer-2-score-179" class="level4">
<h4>Answer 2 (score 179)</h4>
<p>You can actually “request” MySQL for a list of all locations where it searches for my.cnf (or my.ini on Windows). It is not an SQL query though. Rather, execute:</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb294-1" title="1">$ <span class="ex">mysqladmin</span> --help</a></code></pre></div>
<p>or, prior 5.7:</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb295-1" title="1">$ <span class="ex">mysqld</span> --help --verbose</a></code></pre></div>
<p>In the very first lines you will find a message with a list of all my.cnf locations it looks for. On my machine it is:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb296-1" title="1"><span class="ex">Default</span> options are read from the following files in the given order:</a>
<a class="sourceLine" id="cb296-2" title="2"><span class="ex">/etc/my.cnf</span></a>
<a class="sourceLine" id="cb296-3" title="3"><span class="ex">/etc/mysql/my.cnf</span></a>
<a class="sourceLine" id="cb296-4" title="4"><span class="ex">/usr/etc/my.cnf</span></a>
<a class="sourceLine" id="cb296-5" title="5"><span class="ex">~/.my.cnf</span></a></code></pre></div>
<p>Or, on Windows:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb297-1" title="1"><span class="ex">Default</span> options are read from the following files in the given order:</a>
<a class="sourceLine" id="cb297-2" title="2"><span class="ex">C</span>:\Windows\my.ini</a>
<a class="sourceLine" id="cb297-3" title="3"><span class="ex">C</span>:\Windows\my.cnf</a>
<a class="sourceLine" id="cb297-4" title="4"><span class="ex">C</span>:\my.ini</a>
<a class="sourceLine" id="cb297-5" title="5"><span class="ex">C</span>:\my.cnf</a>
<a class="sourceLine" id="cb297-6" title="6"><span class="ex">C</span>:\Program Files\MySQL\MySQL Server 5.5\my.ini</a>
<a class="sourceLine" id="cb297-7" title="7"><span class="ex">C</span>:\Program Files\MySQL\MySQL Server 5.5\my.cnf</a></code></pre></div>
<p>Note however, that <strong>it might be the case that there is no my.cnf file at any of these locations</strong>. So, you can create the file on your own - use one of the sample config files provided with MySQL distribution (on Linux - see <code>/usr/share/mysql/*.cnf</code> files and use whichever is appropriate for you - copy it to <code>/etc/my.cnf</code> and then modify as needed).</p>
<p>Also, note that <strong>there is also a command line option <code>--defaults-file</code></strong> which may define custom path to my.cnf or my.ini file. For example, this is the case for MySQL 5.5 on Windows - it points to a my.ini file in the data directory, which is not normally listed with <code>mysqld --help --verbose</code>. On Windows - see service properties to find out if this is the case for you.</p>
<p>Finally, check the <a href="https://dev.mysql.com/doc/refman/8.0/en/option-files.html" rel="noreferrer">https://dev.mysql.com/doc/refman/8.0/en/option-files.html</a> - it is described there in more details.</p>
</section>
<section id="answer-3-score-57" class="level4">
<h4>Answer 3 (score 57)</h4>
<p>You could always run find in a terminal.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb298-1" title="1"><span class="fu">find</span> / -name my.cnf</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="open-in-python-does-not-create-a-file-if-it-doesnt-exist-score-749514-in-2016" class="level3">
<h3>43: open() in Python does not create a file if it doesn’t exist (score <a href="https://stackoverflow.com/q/2967194.html">749514</a> in 2016)</h3>
<section id="question-42" class="level4">
<h4>Question</h4>
<p>What is the best way to open a file as read/write if it exists, or if it does not, then create it and open it as read/write? From what I read, <code>file = open('myfile.dat', 'rw')</code> should do this, right?</p>
<p>It is not working for me (Python 2.6.2) and I’m wondering if it is a version problem, or not supposed to work like that or what.</p>
<p>The bottom line is, I just need a solution for the problem. I am curious about the other stuff, but all I need is a nice way to do the opening part.</p>
<p>UPDATE: the enclosing directory was writeable by user and group, not other (I’m on a Linux system… so permissions 775 in other words), and the exact error was:</p>
<blockquote>
IOError: no such file or directory.
</blockquote>
</section>
<section id="answer-accepted-score-733" class="level4">
<h4>Answer accepted (score 733)</h4>
<p>You should use <code>open</code> with the <code>w+</code> mode:</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb299-1" title="1"><span class="fu">file</span> = open(<span class="st">&#39;myfile.dat&#39;</span>, <span class="st">&#39;w+&#39;</span>)</a></code></pre></div>
</section>
<section id="answer-2-score-119" class="level4">
<h4>Answer 2 (score 119)</h4>
<p>The advantage of the following approach is that the file is <strong>properly closed</strong> at the block’s end, even if an exception is raised on the way. It’s equivalent to <code>try-finally</code>, but much shorter.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb300-1" title="1"><span class="ex">with</span> open(<span class="st">&quot;file.dat&quot;</span>,<span class="st">&quot;a+&quot;</span>) <span class="fu">as</span> f:</a>
<a class="sourceLine" id="cb300-2" title="2">    <span class="ex">f.write</span>(...)</a>
<a class="sourceLine" id="cb300-3" title="3">    <span class="ex">...</span></a></code></pre></div>
<blockquote>
<p>
<strong>a+</strong> Opens a file for both appending and reading. The file pointer is at the end of the file if the file exists. The file opens in the append mode. If the file does not exist, it creates a new file for reading and writing. -<a href="http://www.tutorialspoint.com/python/python_files_io.htm" rel="noreferrer">Python file modes</a>
</p>
</blockquote>
<p><a href="http://www.tutorialspoint.com/python/file_seek.htm" rel="noreferrer">seek() method</a> sets the file’s current position.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb301-1" title="1"><span class="ex">f.seek</span>(pos [, (0<span class="kw">|</span><span class="ex">1</span><span class="kw">|</span><span class="ex">2</span>)])</a>
<a class="sourceLine" id="cb301-2" title="2"><span class="ex">pos</span> .. position of the r/w pointer</a>
<a class="sourceLine" id="cb301-3" title="3">[] <span class="ex">..</span> optionally</a>
<a class="sourceLine" id="cb301-4" title="4"><span class="kw">()</span> <span class="ex">..</span> one of -<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb301-5" title="5">  <span class="ex">0</span> .. absolute position</a>
<a class="sourceLine" id="cb301-6" title="6">  <span class="ex">1</span> .. relative position to current</a>
<a class="sourceLine" id="cb301-7" title="7">  <span class="ex">2</span> .. relative position from end</a></code></pre></div>
<blockquote>
Only “rwab+” characters are allowed; there must be exactly one of “rwa” - see Stack Overflow question <em><a href="https://stackoverflow.com/a/656289/985454">Python file modes detail</a></em>.
</blockquote>
</section>
<section id="answer-3-score-30" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>Good practice is to use the following:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb302-1" title="1"><span class="ex">import</span> os</a>
<a class="sourceLine" id="cb302-2" title="2"></a>
<a class="sourceLine" id="cb302-3" title="3"><span class="ex">writepath</span> = <span class="st">&#39;some/path/to/file.txt&#39;</span></a>
<a class="sourceLine" id="cb302-4" title="4"></a>
<a class="sourceLine" id="cb302-5" title="5"><span class="ex">mode</span> = <span class="st">&#39;a&#39;</span> if os.path.exists(writepath) <span class="kw">else</span> <span class="st">&#39;w&#39;</span></a>
<a class="sourceLine" id="cb302-6" title="6"><span class="ex">with</span> open(writepath, mode) <span class="fu">as</span> f:</a>
<a class="sourceLine" id="cb302-7" title="7">    <span class="ex">f.write</span>(<span class="st">&#39;Hello, world!\n&#39;</span>)</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-set-the-environmental-variable-ld_library_path-in-linux-score-746566-in-2015" class="level3">
<h3>44: How to set the environmental variable LD_LIBRARY_PATH in linux (score <a href="https://stackoverflow.com/q/13428910.html">746566</a> in 2015)</h3>
<section id="question-43" class="level4">
<h4>Question</h4>
<p>I have first executed the command: <code>export LD_LIBRARY_PATH=/usr/local/lib</code></p>
<p>
Then I have opened <code>.bash_profile</code> file: <code>vi ~/.bash_profile</code>. In this file, I put:
</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb303-1" title="1"><span class="va">LD_LIBRARY_PATH=</span>/usr/local/lib</a>
<a class="sourceLine" id="cb303-2" title="2"><span class="bu">export</span> <span class="va">LD_LIBRARY_PATH</span></a></code></pre></div>
<p>Then if the terminal is closed and restarted, typing <code>echo $LD_LIBRARY_PATH</code> displays no result.</p>
<p>How to set the path permanently?</p>
</section>
<section id="answer-2-score-180" class="level4">
<h4>Answer 2 (score 180)</h4>
<p>You should add more details about your distribution, for example under Ubuntu the right way to do this is to add a custom <code>.conf</code> file to <code>/etc/ld.so.conf.d</code>, for example</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb304-1" title="1"><span class="fu">sudo</span> gedit /etc/ld.so.conf.d/randomLibs.conf</a></code></pre></div>
<p>inside the file you are supposed to write the complete path to the directory that contains all the libraries that you wish to add to the system, for example</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb305-1" title="1"><span class="ex">/home/linux/myLocalLibs</span></a></code></pre></div>
<p>remember to add only the path to the dir, not the full path for the file, all the libs inside that path will be automatically indexed.</p>
<p>Save and run <code>sudo ldconfig</code> to update the system with this libs.</p>
</section>
<section id="answer-3-score-75-2" class="level4">
<h4>Answer 3 (score 75)</h4>
<p>Keep the previous path, don’t overwrite it:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb306-1" title="1"><span class="bu">export</span> <span class="va">LD_LIBRARY_PATH=$LD_LIBRARY_PATH</span>:/your/custom/path/</a></code></pre></div>
<p>You can add it to your ~/.bashrc:</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb307-1" title="1"><span class="bu">echo</span> <span class="st">&#39;export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/your/custom/path/&#39;</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">~/.bashrc</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-run-node.js-as-a-background-process-and-never-die-score-716866-in-2018" class="level3">
<h3>45: How to run Node.js as a background process and never die? (score <a href="https://stackoverflow.com/q/4797050.html">716866</a> in 2018)</h3>
<section id="question-44" class="level4">
<h4>Question</h4>
<p>I connect to the linux server via putty SSH. I tried to run it as a background process like this:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb308-1" title="1">$ <span class="ex">node</span> server.js <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span></a></code></pre></div>
<p>However, after 2.5 hrs the terminal becomes inactive and the process dies. Is there anyway I can keep the process alive even with the terminal disconnected?</p>
<hr>
<p><strong>Edit 1</strong></p>
<p>Actually, I tried <code>nohup</code>, but as soon as I close the Putty SSH terminal or unplug my internet, the server process stops right away.</p>
<p>Is there anything I have to do in Putty?</p>
<hr>
<p><strong>Edit 2 (on Feb, 2012)</strong></p>
<p>There is a <code>node.js</code> module, <a href="https://github.com/nodejitsu/forever" rel="noreferrer">forever</a>. It will run node.js server as daemon service.</p>
</section>
<section id="answer-accepted-score-506" class="level4">
<h4>Answer accepted (score 506)</h4>
<p><strong>Simple solution</strong> (if you are not interested in coming back to the process, just want it to keep running):</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb309-1" title="1"><span class="fu">nohup</span> node server.js <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span></a></code></pre></div>
<p><strong>Powerful solution</strong> (allows you to reconnect to the process if it is interactive):</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb310-1" title="1"><span class="ex">screen</span></a></code></pre></div>
<p>You can then detach by pressing Ctrl+a+d and then attach back by running <code>screen -r</code></p>
<p>Also consider the newer alternative to screen, tmux.</p>
</section>
<section id="answer-2-score-1104" class="level4">
<h4>Answer 2 (score 1104)</h4>
<p><code>nohup node server.js &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 &amp;amp;</code></p>
<ol>
<li>
<code>nohup</code> means: <em>Do not terminate this process even when the stty is cut off.</em>
</li>
<li>
<code>&amp;gt; /dev/null</code> means: <em>stdout goes to /dev/null (which is a dummy device that does not record any output).</em>
</li>
<li>
<code>2&amp;gt;&amp;amp;1</code> means: <em>stderr also goes to the stdout (which is already redirected to <code>/dev/null</code>). You may replace &amp;1 with a file path to keep a log of errors, e.g.: <code>2&amp;gt;/tmp/myLog</code></em>
</li>
<li>
<code>&amp;amp;</code> at the end means: <em>run this command as a background task.</em>
</li>
</ol>
</section>
<section id="answer-3-score-137-1" class="level4">
<h4>Answer 3 (score 137)</h4>
<p>You really should try to use <code>screen</code>. It is a bit more complicated than just doing <code>nohup long_running &amp;amp;</code>, but understanding screen once you never come back again.</p>
<p>Start your screen session at first:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb311-1" title="1"><span class="ex">user@host</span>:~$ screen</a></code></pre></div>
<p>Run anything you want:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb312-1" title="1"><span class="fu">wget</span> http://mirror.yandex.ru/centos/4.6/isos/i386/CentOS-4.6-i386-binDVD.iso</a></code></pre></div>
<p>Press ctrl+A and then d. Done. Your session keeps going on in background.</p>
<p>You can list all sessions by <code>screen -ls</code>, and attach to some by <code>screen -r 20673.pts-0.srv</code> command, where 0673.pts-0.srv is an entry list.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-see-the-size-of-files-and-directories-in-linux-score-707520-in-2019" class="level3">
<h3>46: How can I see the size of files and directories in linux? (score <a href="https://stackoverflow.com/q/11720079.html">707520</a> in 2019)</h3>
<section id="question-45" class="level4">
<h4>Question</h4>
<p>How can I see the size of files and directories in Linux? If use <code>df -m</code>, then it shows the size of all the directory at the top level, but, for the directories and files inside the directory, how do I check the size?</p>
</section>
<section id="answer-accepted-score-409" class="level4">
<h4>Answer accepted (score 409)</h4>
<p>It’s simple. Use <code>ls</code> command for files and <code>du</code> command for directories.</p>
<p><strong>Checking File Sizes</strong></p>
<div class="sourceCode" id="cb313"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb313-1" title="1"><span class="fu">ls</span> -l filename /* Size of the file*/</a>
<a class="sourceLine" id="cb313-2" title="2"><span class="fu">ls</span> -l *        /* Size of All the files in the current directory */</a>
<a class="sourceLine" id="cb313-3" title="3"><span class="fu">ls</span> -al *       /* Size of All the files including hidden files in the current directory */</a>
<a class="sourceLine" id="cb313-4" title="4"><span class="fu">ls</span> -al dir/    /* Size of All the files including hidden files in the <span class="st">&#39;dir&#39;</span> directory */</a></code></pre></div>
<p><code>ls</code> command will not list the actual size of directories(<a href="https://unix.stackexchange.com/questions/55/what-does-size-of-a-directory-mean-in-output-of-ls-l-command">why?</a>). Therefore, we use <code>du</code> for this purpose.</p>
<p><strong>Checking Directory sizes</strong></p>
<div class="sourceCode" id="cb314"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb314-1" title="1"><span class="fu">du</span> -sh directory_name    /* Gives you the summarized(-s) <span class="fu">size</span> of the directory in human readable(-h) <span class="ex">format*/</span></a>
<a class="sourceLine" id="cb314-2" title="2"><span class="fu">du</span> -bsh *                /* Gives you the apparent(-b) <span class="ex">summarized</span>(-s) <span class="fu">size</span> of all the files and directories in the current directory in human readable(-h) <span class="ex">format*/</span></a></code></pre></div>
<p>Including <code>-h</code> option in any of the above commands (for Ex: <code>ls -lh *</code> or <code>du -sh</code>) will give you size in human readable format (<code>kb</code>, <code>mb</code>,<code>gb</code>, …)</p>
<p>For more information see <code>man ls</code> and <code>man du</code></p>
</section>
<section id="answer-2-score-128" class="level4">
<h4>Answer 2 (score 128)</h4>
<p>There is <code>du</code> command.</p>
<p>Size of a directory and/or file:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb315-1" title="1">$ <span class="fu">du</span> -sh .bashrc /tmp</a></code></pre></div>
<hr>
<p><code>--apparent-size</code> command line switch makes it measure apparent sizes (what <code>ls</code> shows) rather than actual disk usage.</p>
</section>
<section id="answer-3-score-64" class="level4">
<h4>Answer 3 (score 64)</h4>
<p>Use <code>ls -s</code> to list file size, or if you prefer <code>ls -sh</code> for human readable sizes.</p>
<p>For directories use <code>du</code>, and again, <code>du -h</code> for human readable sizes.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="using-ls-to-list-directories-and-their-total-sizes-score-698469-in-2009" class="level3">
<h3>47: Using ls to list directories and their total sizes (score <a href="https://stackoverflow.com/q/1019116.html">698469</a> in 2009)</h3>
<section id="question-46" class="level4">
<h4>Question</h4>
<p>Is it possible to use <code>ls</code> in Unix to list the total size of a sub-directory and all its contents as opposed to the usual 4K that (I assume) is just the directory file itself? I.E.</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb316-1" title="1"><span class="ex">total</span> 12K</a>
<a class="sourceLine" id="cb316-2" title="2"><span class="ex">drwxrwxr-x</span>  6 *** *** 4.0K 2009-06-19 10:10 branches</a>
<a class="sourceLine" id="cb316-3" title="3"><span class="ex">drwxrwxr-x</span> 13 *** *** 4.0K 2009-06-19 10:52 tags</a>
<a class="sourceLine" id="cb316-4" title="4"><span class="ex">drwxrwxr-x</span> 16 *** *** 4.0K 2009-06-19 10:02 trunk</a></code></pre></div>
<p>After scouring the man pages I’m coming up empty.</p>
</section>
<section id="answer-accepted-score-1434" class="level4">
<h4>Answer accepted (score 1434)</h4>
<p>Try something like:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb317-1" title="1"><span class="fu">du</span> -sh *</a></code></pre></div>
<p>short version of:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb318-1" title="1"><span class="fu">du</span> --summarize --human-readable *</a></code></pre></div>
<h5>
Explanation:
</h3>
<p><code>du</code>: <strong>D</strong>isk <strong>U</strong>sage</p>
<p><code>-s</code>: Display a summary for each specified file. (Equivalent to <code>-d 0</code>)</p>
<p><code>-h</code>: “Human-readable” output. Use unit suffixes: <strong>B</strong>yte, <strong>K</strong>ibibyte (KiB), <strong>M</strong>ebibyte (MiB), <strong>G</strong>ibibyte (GiB), <strong>T</strong>ebibyte (TiB) and <strong>P</strong>ebibyte (PiB). (BASE2)</p>
</section>
<section id="answer-2-score-302" class="level4">
<h4>Answer 2 (score 302)</h4>
<p><code>du -sk * | sort -n</code> will sort the folders by size. Helpful when looking to clear space..</p>
</section>
<section id="answer-3-score-99" class="level4">
<h4>Answer 3 (score 99)</h4>
<div class="sourceCode" id="cb319"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb319-1" title="1"><span class="fu">du</span> -sh * <span class="kw">|</span> <span class="fu">sort</span> -h</a></code></pre></div>
<p>This will be displayed in human readable format.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-redirect-and-append-both-stdout-and-stderr-to-a-file-with-bash-score-692374-in-2015" class="level3">
<h3>48: How can I redirect and append both stdout and stderr to a file with Bash? (score <a href="https://stackoverflow.com/q/876239.html">692374</a> in 2015)</h3>
<section id="question-47" class="level4">
<h4>Question</h4>
<p>To redirect <em>stdout</em> to a truncated file in Bash, I know to use:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb320-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">file.txt</span></a></code></pre></div>
<p>To redirect <em>stdout</em> in Bash, appending to a file, I know to use:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb321-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">file.txt</span></a></code></pre></div>
<p>To redirect both <em>stdout</em> and <em>stderr</em> to a truncated file, I know to use:</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb322-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">file.txt</span></a></code></pre></div>
<p>How do I redirect both <em>stdout</em> and <em>stderr</em> appending to a file? <code>cmd &amp;amp;&amp;gt;&amp;gt; file.txt</code> did not work for me.</p>
</section>
<section id="answer-accepted-score-1853" class="level4">
<h4>Answer accepted (score 1853)</h4>
<div class="sourceCode" id="cb323"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb323-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">file.txt</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span></a></code></pre></div>
<p>Bash executes the redirects from left to right as follows:</p>
<ol>
<li>
<code>&amp;gt;&amp;gt;file.txt</code>: Open <code>file.txt</code> in append mode and redirect <code>stdout</code> there.
</li>
<li>
<code>2&amp;gt;&amp;amp;1</code>: Redirect <code>stderr</code> to <em>“where <code>stdout</code> is currently going”</em>. In this case, that is a file opened in append mode. In other words, the <code>&amp;amp;1</code> reuses the file descriptor which <code>stdout</code> currently uses.
</li>
</ol>
</section>
<section id="answer-2-score-344" class="level4">
<h4>Answer 2 (score 344)</h4>
<p>There are two ways to do this, depending on your Bash version.</p>
<p>The classic and portable (<strong>Bash pre-4</strong>) way is:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb324-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">outfile</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span></a></code></pre></div>
<p>A nonportable way, starting with <strong>Bash 4</strong> is</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb325-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">outfile</span></a></code></pre></div>
<p>(analog to <code>&amp;amp;&amp;gt; outfile</code>)</p>
<p>For good coding style, you should</p>
<ul>
<li>
decide if portability is a concern (then use classic way)
</li>
<li>
decide if portability even to Bash pre-4 is a concern (then use classic way)
</li>
<li>
no matter which syntax you use, not change it within the same script (confusion!)
</li>
</ul>
<p>If your script already starts with <code>#!/bin/sh</code> (no matter if intended or not), then the Bash 4 solution, and in general any Bash-specific code, is not the way to go.</p>
<p>Also remember that Bash 4 <code>&amp;amp;&amp;gt;&amp;gt;</code> is just shorter syntax — it does not introduce any new functionality or anything like that.</p>
<p>The syntax is (beside other redirection syntax) described here: <a href="http://bash-hackers.org/wiki/doku.php/syntax/redirection#appending_redirected_output_and_error_output" rel="noreferrer">http://bash-hackers.org/wiki/doku.php/syntax/redirection#appending_redirected_output_and_error_output</a></p>
</section>
<section id="answer-3-score-84-1" class="level4">
<h4>Answer 3 (score 84)</h4>
<p>In Bash you can also explicitly specify your redirects to different files:</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb326-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">log.out</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">log_error.out</span></a></code></pre></div>
<p>Appending would be:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb327-1" title="1"><span class="ex">cmd</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">log.out</span> 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">log_error.out</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-set-java_home-in-linux-for-all-users-score-675722-in-2014" class="level3">
<h3>49: How to set JAVA_HOME in Linux for all users (score <a href="https://stackoverflow.com/q/24641536.html">675722</a> in 2014)</h3>
<section id="question-48" class="level4">
<h4>Question</h4>
<p>I am new to Linux system and there seem to be too many Java folders.</p>
<p>java -version gives me:</p>
<ul>
<li>
java version “1.7.0_55”
</li>
<li>
OpenJDK Runtime Environment (rhel-2.4.7.1.el6_5-x86_64 u55-b13)
</li>
<li>
OpenJDK 64-Bit Server VM (build 24.51-b03, mixed mode)
</li>
</ul>
<p>When I am trying to build a Maven project , I am getting error:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb328-1" title="1"><span class="ex">Error</span>: JAVA_HOME is not defined correctly.</a>
<a class="sourceLine" id="cb328-2" title="2"><span class="ex">We</span> cannot execute /usr/java/jdk1.7.0_05/bin/java</a></code></pre></div>
<p>Could you please tell me which files I need to modify for root as well as not-root user and where exactly is java located?</p>
</section>
<section id="answer-accepted-score-289" class="level4">
<h4>Answer accepted (score 289)</h4>
<ol>
<li>
<code>find /usr/lib/jvm/java-1.x.x-openjdk</code>
</li>
<li>
<p>
<code>vim /etc/profile</code>
</p>
Prepend sudo if logged in as not-privileged user, ie. <code>sudo vim</code>
</li>
<li>
Press ‘i’ to get in insert mode
</li>
<li>
<p>
add:
</p>
<p>```sh export JAVA_HOME=“path that you found”</p>
export PATH=<span class="math inline"><em>J</em><em>A</em><em>V</em><em>A</em><sub><em>H</em></sub><em>O</em><em>M</em><em>E</em>/<em>b</em><em>i</em><em>n</em>:</span>PATH ``<code>&lt;/li&gt; &lt;li&gt;logout and login again, reboot, or use</code>source /etc/profile` to apply changes immediately in your current shell
</li>
</ol>
</section>
<section id="answer-2-score-92" class="level4">
<h4>Answer 2 (score 92)</h4>
<p>For all users, I would recommend placing the following line in <code>/etc/profile</code></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb329-1" title="1"><span class="bu">export</span> <span class="va">JAVA_HOME=$(</span><span class="fu">readlink</span> -f /usr/bin/javac <span class="kw">|</span> <span class="fu">sed</span> <span class="st">&quot;s:/bin/javac::&quot;</span><span class="va">)</span></a></code></pre></div>
<p>This will update dynamically and works well with the <em>alternatives</em> system. Do note though that the update will only take place in a new login shell.</p>
</section>
<section id="answer-3-score-34" class="level4">
<h4>Answer 3 (score 34)</h4>
<p>You could use /etc/profile or better a file like /etc/profile.d/jdk_home.sh</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb330-1" title="1"><span class="bu">export</span> <span class="va">JAVA_HOME=</span>/usr/java/jdk1.7.0_05/</a></code></pre></div>
<p>You have to remember that this file is only loaded with new login shells.. So after bash -l or a new gnome-session and that it doesn’t change with new Java versions.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-change-the-root-directory-of-an-apache-server-score-667193-in-2016" class="level3">
<h3>50: How do I change the root directory of an apache server? (score <a href="https://stackoverflow.com/q/5891802.html">667193</a> in 2016)</h3>
<section id="question-49" class="level4">
<h4>Question</h4>
<p>Does anyone know how to change the document root of the Apache server? I basically want <code>localhost</code> to come from <code>/users/spencer/projects</code> directory instead of <code>/var/www</code>.</p>
<h5>
Edit
</h3>
<p>I ended up figuring it out. Some suggested I change the <code>httpd.conf</code> file, but I ended up finding a file in <code>/etc/apache2/sites-available/default</code> and changed the root directory from <code>/var/www</code> to <code>/home/myusername/projects_folder</code> and that worked.</p>
</section>
<section id="answer-accepted-score-202" class="level4">
<h4>Answer accepted (score 202)</h4>
<p>You need to change the <code>DocumentRoot</code> setting in your <code>httpd.conf</code> file. Chances are it will be under something like <code>/etc/apache2/conf/httpd.conf</code></p>
<p>Use your favourite editor (I recommend <a href="http://www.vim.org/" rel="noreferrer">Vim</a>) and look for the <code>DocumentRoot</code> and change it to <code>/users/spencer/projects</code>. Also look a little further down for a setting that looks like this:</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb331-1" title="1"><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">Directory</span> <span class="st">&quot;/var/www&quot;</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>You will also want to change what is in the quotes to your new directory. This gives Apache access to read from that directory when a user makes a request that call on it.</p>
<p>Now restart your apache service (<code>httpd -k restart</code>) and you should be good to go.</p>
<p><strong>Edit</strong>: Apache2 site config files are now typically kept in <code>/etc/apache2/sites-available/</code> (Debian, Ubuntu, etc.).</p>
</section>
<section id="answer-2-score-254" class="level4">
<h4>Answer 2 (score 254)</h4>
<p><strong>Please note, that this only applies for Ubuntu 14.04 LTS and newer releases.</strong></p>
<p>In my Ubuntu 14.04 LTS, the document root was set to <code>/var/www/html</code>. It was configured in the following file:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb332-1" title="1"><span class="ex">/etc/apache2/sites-available/000-default.conf</span></a></code></pre></div>
<p>So just do a</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb333-1" title="1"><span class="fu">sudo</span> nano /etc/apache2/sites-available/000-default.conf</a></code></pre></div>
<p>and change the following line to what you want:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb334-1" title="1"><span class="ex">DocumentRoot</span> /var/www/html</a></code></pre></div>
<p>Also do a</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb335-1" title="1"><span class="fu">sudo</span> nano /etc/apache2/apache2.conf</a></code></pre></div>
<p>and find this</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb336-1" title="1"><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">Directory</span> /var/www/html/<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb336-2" title="2"><span class="ex">Options</span> Indexes FollowSymLinks</a>
<a class="sourceLine" id="cb336-3" title="3"><span class="ex">AllowOverride</span> None</a>
<a class="sourceLine" id="cb336-4" title="4"><span class="ex">Require</span> all granted</a>
<a class="sourceLine" id="cb336-5" title="5"><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span>/<span class="ex">Directory</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>and change <code>/var/www/html</code> to your preferred directory</p>
<p>and save it.</p>
<p>After you saved your changes, just restart the apache2 webserver and you’ll be done :)</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb337-1" title="1"><span class="fu">sudo</span> service apache2 restart</a></code></pre></div>
<p>
<hr>
If you prefer a graphical text editor, you can just replace the <code>sudo nano</code> by a <code>gksu gedit</code>.
</p>
</section>
<section id="answer-3-score-42" class="level4">
<h4>Answer 3 (score 42)</h4>
<p>I had to edit <code>/etc/apache2/sites-available/default</code>. The lines are the same as mentioned by RDL.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-fix-sudo-no-tty-present-and-no-askpass-program-specified-error-score-655921-in-2018" class="level3">
<h3>51: How to fix ‘sudo: no tty present and no askpass program specified’ error? (score <a href="https://stackoverflow.com/q/21659637.html">655921</a> in 2018)</h3>
<section id="question-50" class="level4">
<h4>Question</h4>
<p>I am trying to compile some sources using a makefile. In the makefile there is a bunch of commands that need to be ran as <code>sudo</code>.</p>
<p>When I compile the sources from a terminal all goes fine and the make is paused the first time a <code>sudo</code> command is ran waiting for password. Once I type in the password, make resumes and completes.</p>
<p>But I would like to be able to compile the sources in NetBeans. So, I started a project and showed netbeans where to find the sources, but when I compile the project it gives the error:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb338-1" title="1"><span class="ex">sudo</span>: no tty present and no askpass program specified</a></code></pre></div>
<p>The first time it hits a <code>sudo</code> command.</p>
<p>I have looked up the issue on the internet and all the solutions I found point to one thing: disabling the password for this user. Since the user in question here is root. I do not want to do that.</p>
<p>Is there any other solution?</p>
</section>
<section id="answer-2-score-233" class="level4">
<h4>Answer 2 (score 233)</h4>
<p>Granting the user to use that command without prompting for password should resolve the problem. First open a shell console and type:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb339-1" title="1"><span class="fu">sudo</span> visudo</a></code></pre></div>
<p>Then edit that file to add to the very end:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb340-1" title="1"><span class="ex">username</span> ALL = NOPASSWD: /fullpath/to/command, /fullpath/to/othercommand</a></code></pre></div>
<p>eg</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb341-1" title="1"><span class="ex">john</span> ALL = NOPASSWD: /sbin/poweroff, /sbin/start, /sbin/stop</a></code></pre></div>
<p>will allow user <code>john</code> to sudo <code>poweroff</code>, <code>start</code> and <code>stop</code> without being prompted for password.</p>
<p>Look at the bottom of the screen for the keystrokes you need to use in visudo - this is not vi by the way - and exit without saving at the first sign of any problem. Health warning: corrupting this file will have serious consequences, edit with care!</p>
</section>
<section id="answer-3-score-170" class="level4">
<h4>Answer 3 (score 170)</h4>
<p>Try:</p>
<ol>
<li>
<p>
Use <code>NOPASSWD</code> line for all commands, I mean:
</p>
<code>sh jenkins ALL=(ALL) NOPASSWD: ALL</code>
</li>
<li>
<p>
Put the line after all other lines in the <code>sudoers</code> file.
</p>
</li>
</ol>
<p>That worked for me (Ubuntu 14.04).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="merge-convert-multiple-pdf-files-into-one-pdf-score-649302-in-2017" class="level3">
<h3>52: Merge / convert multiple PDF files into one PDF (score <a href="https://stackoverflow.com/q/2507766.html">649302</a> in 2017)</h3>
<section id="question-51" class="level4">
<h4>Question</h4>
<p>How could I merge / convert multiple PDF files into one large PDF file?</p>
<p>I tried the following, but the content of the target file was not as expected:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb342-1" title="1"><span class="ex">convert</span> file1.pdf file2.pdf merged.pdf</a></code></pre></div>
<p>I need a very simple/basic command line (CLI) solution. Best would be if I could pipe the output of the merge / convert straight into <code>pdf2ps</code> ( as originally attempted in my previously asked question here: <a href="https://stackoverflow.com/questions/2507596/linux-piping-convert-pdf2ps-lp">Linux piping ( convert -&gt; pdf2ps -&gt; lp)</a> ).</p>
</section>
<section id="answer-accepted-score-476" class="level4">
<h4>Answer accepted (score 476)</h4>
<p>I’m sorry, I managed to find the answer myself using google and a bit of luck : )</p>
<p>For those interested;</p>
<p>I installed the pdftk (pdf toolkit) on our debian server, and using the following command I achieved desired output:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb343-1" title="1"><span class="ex">pdftk</span> file1.pdf file2.pdf cat output output.pdf</a></code></pre></div>
<p>OR</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb344-1" title="1"><span class="fu">gs</span> -q -sPAPERSIZE=letter -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=output.pdf file1.pdf file2.pdf file3.pdf ...</a></code></pre></div>
<p>This in turn can be piped directly into pdf2ps.</p>
</section>
<section id="answer-2-score-1277" class="level4">
<h4>Answer 2 (score 1277)</h4>
<p>Considering that <code>pdfunite</code> is part of poppler it has a higher chance to be installed, usage is also simpler than <code>pdftk</code>:</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb345-1" title="1"><span class="ex">pdfunite</span> in-1.pdf in-2.pdf in-n.pdf out.pdf</a></code></pre></div>
</section>
<section id="answer-3-score-480" class="level4">
<h4>Answer 3 (score 480)</h4>
<p>Try the good ghostscript:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb346-1" title="1"><span class="fu">gs</span> -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=merged.pdf mine1.pdf mine2.pdf</a></code></pre></div>
<p>or even this way for an improved version for low resolution PDFs (thanks to Adriano for pointing this out):</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb347-1" title="1"><span class="fu">gs</span> -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -dPDFSETTINGS=/prepress -sOutputFile=merged.pdf mine1.pdf mine2.pdf</a></code></pre></div>
<p>In both cases the ouput resolution is much higher and better than this way using convert:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb348-1" title="1"><span class="ex">convert</span> -density 300x300 -quality 100 mine1.pdf mine2.pdf merged.pdf</a></code></pre></div>
<p>In this way you wouldn’t need to install anything else, just work with what you already have installed in your system (at least both come by default in my rhel).</p>
<p>Hope this helps,</p>
<p><strong>UPDATE:</strong> first of all thanks for all your nice comments!! just a tip that may work for you guys, after googling, I found a superb trick to shrink the size of PDFs, I reduced with it one PDF of 300 MB to just 15 MB with an acceptable resolution! and all of this with the good ghostscript, here it is:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb349-1" title="1"><span class="fu">gs</span> -sDEVICE=pdfwrite -dCompatibilityLevel=1.4 -dPDFSETTINGS=/default -dNOPAUSE -dQUIET -dBATCH -dDetectDuplicateImages -dCompressFonts=true -r150 -sOutputFile=output.pdf input.pdf</a></code></pre></div>
<p>cheers!!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-send-a-file-as-an-email-attachment-using-linux-command-line-score-635793-in-2016" class="level3">
<h3>53: How do I send a file as an email attachment using Linux command line? (score <a href="https://stackoverflow.com/q/17359.html">635793</a> in 2016)</h3>
<section id="question-52" class="level4">
<h4>Question</h4>
<p>I’ve created a script that runs every night on my Linux server that uses <code>mysqldump</code> to back up each of my MySQL databases to .sql files and packages them together as a compressed .tar file. The next step I want to accomplish is to send that tar file through email to a remote email server for safekeeping. I’ve been able to send the raw script in the body an email by piping the backup text file to <code>mailx</code> like so:</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb350-1" title="1">$ <span class="fu">cat</span> mysqldbbackup.sql <span class="kw">|</span> <span class="ex">mailx</span> backup@email.com</a></code></pre></div>
<p><code>cat</code> echoes the backup file’s text which is piped into the <code>mailx</code> program with the recipient’s email address passed as an argument.</p>
<p>While this accomplishes what I need, I think it could be one step better, <strong>Is there any way, using shell scripts or otherwise, to send the compressed .tar file to an outgoing email message as an <em>attachment</em>?</strong> This would beat having to deal with very long email messages which contain header data and often have word-wrapping issues etc.</p>
</section>
<section id="answer-accepted-score-291" class="level4">
<h4>Answer accepted (score 291)</h4>
<p>None of the mutt ones worked for me. It was thinking the email address was part of the attachemnt. Had to do:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb351-1" title="1"><span class="bu">echo</span> <span class="st">&quot;This is the message body&quot;</span> <span class="kw">|</span> <span class="ex">mutt</span> -a <span class="st">&quot;/path/to/file.to.attach&quot;</span> -s <span class="st">&quot;subject of message&quot;</span> -- recipient@domain.com</a></code></pre></div>
</section>
<section id="answer-2-score-79" class="level4">
<h4>Answer 2 (score 79)</h4>
<p>Or, failing mutt:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb352-1" title="1"><span class="fu">gzip</span> -c mysqldbbackup.sql <span class="kw">|</span> <span class="ex">uuencode</span> mysqldbbackup.sql.gz  <span class="kw">|</span> <span class="ex">mail</span> -s <span class="st">&quot;MySQL DB&quot;</span> backup@email.com</a></code></pre></div>
</section>
<section id="answer-3-score-41" class="level4">
<h4>Answer 3 (score 41)</h4>
<p>Depending on your version of linux it may be called mail. To quote <span class="citation" data-cites="David">@David</span> above:</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb353-1" title="1"><span class="ex">mail</span> -s <span class="st">&quot;Backup&quot;</span> -a mysqldbbackup.sql backup@email.com <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">message.txt</span></a></code></pre></div>
<p>or also:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb354-1" title="1"><span class="fu">cat</span> message.txt <span class="kw">|</span> <span class="ex">mail</span> -s <span class="st">&quot;Backup&quot;</span> -a mysqldbbackup.sql backup@email.com </a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="unicodedecodeerror-utf8-codec-cant-decode-byte-0x9c-score-605641-in-2019" class="level3">
<h3>54: UnicodeDecodeError: ‘utf8’ codec can’t decode byte 0x9c (score <a href="https://stackoverflow.com/q/12468179.html">605641</a> in 2019)</h3>
<section id="question-53" class="level4">
<h4>Question</h4>
<p>I have a socket server that is supposed to receive UTF-8 valid characters from clients.</p>
<p>The problem is some clients (mainly hackers) are sending all the wrong kind of data over it.</p>
<p>I can easily distinguish the genuine client, but I am logging to files all the data sent so I can analyze it later.</p>
<p>Sometimes I get characters like this <code>œ</code> that cause the <code>UnicodeDecodeError</code> error.</p>
<p>I need to be able to make the string UTF-8 with or without those characters.</p>
<hr>
<p><strong>Update:</strong></p>
<p>For my particular case the socket service was an MTA and thus I only expect to receive ASCII commands such as:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb355-1" title="1"><span class="ex">EHLO</span> example.com</a>
<a class="sourceLine" id="cb355-2" title="2"><span class="ex">MAIL</span> FROM: <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">john.doe@example.com</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb355-3" title="3"><span class="ex">...</span></a></code></pre></div>
<p>I was logging all of this in JSON.</p>
<p>Then some folks out there without good intentions decided to sell all kind of junk.</p>
<p>That is why for my specific case it is perfectly OK to strip the non ASCII characters.</p>
</section>
<section id="answer-accepted-score-311" class="level4">
<h4>Answer accepted (score 311)</h4>
<p><a href="http://docs.python.org/howto/unicode.html#the-unicode-type" rel="noreferrer">http://docs.python.org/howto/unicode.html#the-unicode-type</a></p>
<div class="sourceCode" id="cb356"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb356-1" title="1"><span class="ex">str</span> = unicode(str, errors=<span class="st">&#39;replace&#39;</span>)</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb357-1" title="1"><span class="ex">str</span> = unicode(str, errors=<span class="st">&#39;ignore&#39;</span>)</a></code></pre></div>
<p><strong>Note:</strong> <em>This will strip out (ignore) the characters in question returning the string without them.</em></p>
<p><em>For me this is ideal case since I’m using it as protection against non-ASCII input which is not allowed by my application.</em></p>
<p><strong>Alternatively:</strong> Use the open method from the <a href="https://docs.python.org/2/library/codecs.html#codecs.open" rel="noreferrer"><code>codecs</code></a> module to read in the file:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb358-1" title="1"><span class="ex">import</span> codecs</a>
<a class="sourceLine" id="cb358-2" title="2"><span class="ex">with</span> codecs.open(file_name, <span class="st">&#39;r&#39;</span>, encoding=<span class="st">&#39;utf-8&#39;</span>,</a>
<a class="sourceLine" id="cb358-3" title="3">                 <span class="va">errors=</span><span class="st">&#39;ignore&#39;</span>) <span class="fu">as</span> fdata:</a></code></pre></div>
</section>
<section id="answer-2-score-60" class="level4">
<h4>Answer 2 (score 60)</h4>
<p>Changing the engine from C to Python did the trick for me.</p>
<p>Engine is C:</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb359-1" title="1"><span class="ex">pd.read_csv</span>(gdp_path, sep=<span class="st">&#39;\t&#39;</span>, engine=<span class="st">&#39;c&#39;</span>)</a></code></pre></div>
<blockquote>
‘utf-8’ codec can’t decode byte 0x92 in position 18: invalid start byte
</blockquote>
<p>Engine is Python:</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb360-1" title="1"><span class="ex">pd.read_csv</span>(gdp_path, sep=<span class="st">&#39;\t&#39;</span>, engine=<span class="st">&#39;python&#39;</span>)</a></code></pre></div>
<p>No errors for me.</p>
</section>
<section id="answer-3-score-54" class="level4">
<h4>Answer 3 (score 54)</h4>
<p>This type of issue crops up for me now that I’ve moved to Python 3. I had no idea Python 2 was simply steam rolling any issues with file encoding.</p>
<p>I found this nice explanation of the differences and how to find a solution after none of the above worked for me.</p>
<p><a href="http://python-notes.curiousefficiency.org/en/latest/python3/text_file_processing.html" rel="noreferrer">http://python-notes.curiousefficiency.org/en/latest/python3/text_file_processing.html</a></p>
<p>In short, to make Python 3 behave as similarly as possible to Python 2 use:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb361-1" title="1"><span class="ex">with</span> open(filename, encoding=<span class="st">&quot;latin-1&quot;</span>) <span class="fu">as</span> datafile:</a>
<a class="sourceLine" id="cb361-2" title="2">    <span class="co"># work on datafile here</span></a></code></pre></div>
<p>However, read the article, there is no one size fits all solution.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-pass-password-to-scp-score-596751-in-2019" class="level3">
<h3>55: How to pass password to scp? (score <a href="https://stackoverflow.com/q/50096.html">596751</a> in 2019)</h3>
<section id="question-54" class="level4">
<h4>Question</h4>
<p>I know it is not recommended, but is it at all possible to pass the user’s password to scp?</p>
<p>I’d like to copy a file via scp as part of a batch job and the receiving server does, of course, need a password and, no, I cannot easily change that to key-based authentication.</p>
</section>
<section id="answer-accepted-score-27" class="level4">
<h4>Answer accepted (score 27)</h4>
<p>You can script it with a tool like <a href="http://expect.sourceforge.net/" rel="noreferrer">expect</a> (there are handy bindings too, like <a href="http://www.noah.org/wiki/Pexpect" rel="noreferrer">Pexpect</a> for Python).</p>
</section>
<section id="answer-2-score-468" class="level4">
<h4>Answer 2 (score 468)</h4>
<p>Use <a href="http://sshpass.sourceforge.net/" rel="noreferrer">sshpass</a>:</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb362-1" title="1"><span class="ex">sshpass</span> -p <span class="st">&quot;password&quot;</span> scp -r user@example.com:/some/remote/path /some/local/path</a></code></pre></div>
<p>or so the password does not show in the bash history</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb363-1" title="1"><span class="ex">sshpass</span> -f <span class="st">&quot;/path/to/passwordfile&quot;</span> scp -r user@example.com:/some/remote/path /some/local/path</a></code></pre></div>
<p>The above copies contents of path from the remote host to your local.</p>
<p><strong>Install :</strong></p>
<ul>
<li>
<p>ubuntu/debian</p>
<ul>
<li>
<code>apt install sshpass</code>
</li>
</ul>
</li>
<li>
<p>centos/fedora</p>
<ul>
<li>
<code>yum install sshpass</code>
</li>
</ul>
</li>
<li>
<p>mac w/ macports</p>
<ul>
<li>
<code>port install sshpass</code>
</li>
</ul>
</li>
<li>
<p>mac w/ brew</p>
<ul>
<li>
<code>brew install https://raw.githubusercontent.com/kadwanev/bigboybrew/master‌​/Library/Formula/ssh‌​pass.rb</code>
</li>
</ul>
</li>
</ul>
</section>
<section id="answer-3-score-42-1" class="level4">
<h4>Answer 3 (score 42)</h4>
<p>just generate a ssh key like:</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb364-1" title="1"><span class="fu">ssh-keygen</span> -t rsa -C <span class="st">&quot;your_email@youremail.com&quot;</span></a></code></pre></div>
<p>
copy the content of <code>~/.ssh/id_rsa.pub</code> and lastly add it to the remote machines <code>~/.ssh/authorized_keys</code>
</p>
<p>make sure remote machine have the permissions <code>0700 for ~./ssh folder</code> and <code>0600 for ~/.ssh/authorized_keys</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-test-if-a-variable-is-a-number-in-bash-score-596633-in-2017" class="level3">
<h3>56: How do I test if a variable is a number in Bash? (score <a href="https://stackoverflow.com/q/806906.html">596633</a> in 2017)</h3>
<section id="question-55" class="level4">
<h4>Question</h4>
<p>I just can’t figure out how do I make sure an argument passed to my script is a number or not.</p>
<p>All I want to do is something like this:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb365-1" title="1"><span class="bu">test</span> *isnumber* <span class="va">$1</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="va">VAR=$1</span> <span class="kw">||</span> <span class="bu">echo</span> <span class="st">&quot;need a number&quot;</span></a></code></pre></div>
<p>Any help?</p>
</section>
<section id="answer-accepted-score-720" class="level4">
<h4>Answer accepted (score 720)</h4>
<p>One approach is to use a regular expression, like so:</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb366-1" title="1"><span class="va">re=</span><span class="st">&#39;^[0-9]+$&#39;</span></a>
<a class="sourceLine" id="cb366-2" title="2"><span class="kw">if</span> !<span class="kw"> [[</span> <span class="va">$yournumber</span> =~ <span class="va">$re</span><span class="kw"> ]]</span> ; <span class="kw">then</span></a>
<a class="sourceLine" id="cb366-3" title="3">   <span class="bu">echo</span> <span class="st">&quot;error: Not a number&quot;</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">2</span><span class="kw">;</span> <span class="bu">exit</span> 1</a>
<a class="sourceLine" id="cb366-4" title="4"><span class="kw">fi</span></a></code></pre></div>
<p>If the value is not necessarily an integer, consider amending the regex appropriately; for instance:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb367-1" title="1">^[<span class="ex">0-9</span>]+([.][0-9]+)<span class="ex">?</span>$</a></code></pre></div>
<p>…or, to handle numbers with a sign:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb368-1" title="1">^[<span class="ex">+-</span>]?[0-9]+([.][0-9]+)<span class="ex">?</span>$</a></code></pre></div>
</section>
<section id="answer-2-score-257" class="level4">
<h4>Answer 2 (score 257)</h4>
<p>Without bashisms (works even in the System V sh),</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb369-1" title="1"><span class="kw">case</span> <span class="va">$string</span><span class="kw"> in</span></a>
<a class="sourceLine" id="cb369-2" title="2">    <span class="st">&#39;&#39;</span><span class="kw">|</span>*[!0-9]*<span class="kw">)</span> <span class="bu">echo</span> bad <span class="kw">;;</span></a>
<a class="sourceLine" id="cb369-3" title="3">    <span class="ex">*</span>) <span class="bu">echo</span> good <span class="kw">;;</span></a>
<a class="sourceLine" id="cb369-4" title="4"><span class="kw">esac</span></a></code></pre></div>
<p>This rejects empty strings and strings containing non-digits, accepting everything else.</p>
<p>Negative or floating-point numbers need some additional work. An idea is to exclude <code>-</code> / <code>.</code> in the first “bad” pattern and add more “bad” patterns containing the inappropriate uses of them (<code>?*-*</code> / <code>*.*.*</code>)</p>
</section>
<section id="answer-3-score-170-1" class="level4">
<h4>Answer 3 (score 170)</h4>
<p>The following solution can also be used in basic shells such as Bourne without the need for regular expressions. Basically any numeric value evaluation operations using non-numbers will result in an error which will be implicitly considered as false in shell:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb370-1" title="1"><span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span> <span class="ex">-eq</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span></a></code></pre></div>
<p>as in:</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb371-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb371-2" title="2"></a>
<a class="sourceLine" id="cb371-3" title="3"><span class="va">var=</span>a</a>
<a class="sourceLine" id="cb371-4" title="4"></a>
<a class="sourceLine" id="cb371-5" title="5"><span class="kw">if</span><span class="bu"> [</span> <span class="ot">-n</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span><span class="bu"> ]</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="bu"> [</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span> <span class="ot">-eq</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span><span class="bu"> ]</span> <span class="ex">2</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/null</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb371-6" title="6">  <span class="bu">echo</span> number</a>
<a class="sourceLine" id="cb371-7" title="7"><span class="kw">else</span></a>
<a class="sourceLine" id="cb371-8" title="8">  <span class="bu">echo</span> not a number</a>
<a class="sourceLine" id="cb371-9" title="9"><span class="kw">fi</span></a></code></pre></div>
<p>You can can also test for $? the return code of the operation which is more explicit:</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb372-1" title="1"><span class="bu">[</span> <span class="ot">-n</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span><span class="bu"> ]</span> <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="bu"> [</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span> <span class="ot">-eq</span> <span class="st">&quot;</span><span class="va">$var</span><span class="st">&quot;</span><span class="bu"> ]</span> <span class="ex">2</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/null</span></a>
<a class="sourceLine" id="cb372-2" title="2"><span class="kw">if</span><span class="bu"> [</span> <span class="va">$?</span> <span class="ot">-ne</span> 0<span class="bu"> ]</span>; <span class="kw">then</span></a>
<a class="sourceLine" id="cb372-3" title="3">   <span class="bu">echo</span> <span class="va">$var</span> is not number</a>
<a class="sourceLine" id="cb372-4" title="4"><span class="kw">fi</span></a></code></pre></div>
<p>Redirection of standard error is there to hide the “integer expression expected” message that bash prints out in case we do not have a number.</p>
<p><strong>CAVEATS</strong> (thanks to the comments below):</p>
<ul>
<li>
Numbers with decimal points are <em>not</em> identified as valid “numbers”
</li>
<li>
Using <code>[[ ]]</code> instead of <code>[ ]</code> will always evaluate to <code>true</code>
</li>
<li>
Most non-Bash shells will always evaluate this expression as <code>true</code>
</li>
<li>
The behavior in Bash is undocumented and may therefore change without warning
</li>
<li>
If the value includes spaces after the number (e.g. “1 a”) produces error, like <code>bash: [[: 1 a: syntax error in expression (error token is &quot;a&quot;)</code>
</li>
<li>
If the value is the same as var-name (e.g. i=“i”), produces error, like <code>bash: [[: i: expression recursion level exceeded (error token is &quot;i&quot;)</code>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="using-openssl-to-get-the-certificate-from-a-server-score-591147-in" class="level3">
<h3>57: Using openssl to get the certificate from a server (score <a href="https://stackoverflow.com/q/7885785.html">591147</a> in )</h3>
<section id="question-56" class="level4">
<h4>Question</h4>
<p>I am trying to get the certificate of a remote server, which I can then use to add to my keystore and use within my java application.</p>
<p>A senior dev (who is on holidays :( ) informed me I can run this:</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb373-1" title="1"><span class="ex">openssl</span> s_client -connect host.host:9999</a></code></pre></div>
<p>To get a raw certificate dumped out, which I can then copy and export. I receive the following output:</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb374-1" title="1"><span class="va">depth=</span>1 /<span class="va">C=</span>NZ/ST=<span class="ex">Test</span> State or Province/O=Organization Name/OU=Organizational Unit Name/CN=Test CA</a>
<a class="sourceLine" id="cb374-2" title="2"><span class="ex">verify</span> error:num=19:self signed certificate in certificate chain</a>
<a class="sourceLine" id="cb374-3" title="3"><span class="ex">verify</span> return:0</a>
<a class="sourceLine" id="cb374-4" title="4"><span class="ex">23177</span>:error:14094410:SSL routines:SSL3_READ_BYTES:sslv3 alert handshake failure:s3_pkt.c:1086:SSL alert number 40</a>
<a class="sourceLine" id="cb374-5" title="5"><span class="ex">23177</span>:error:140790E5:SSL routines:SSL23_WRITE:ssl handshake failure:s23_lib.c:188:</a></code></pre></div>
<p>I have also tried with this option</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb375-1" title="1"><span class="ex">-showcerts</span> </a></code></pre></div>
<p>and this one (running on debian mind you)</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb376-1" title="1"><span class="ex">-CApath</span> /etc/ssl/certs/ </a></code></pre></div>
<p>But get the same error.</p>
<p><a href="http://gagravarr.org/writing/openssl-certs/personal.shtml" rel="noreferrer">This source</a> says I can use that CApath flag but it doesn’t seem to help. I tried multiple paths to no avail.</p>
<p>Please let me know where I’m going wrong.</p>
</section>
<section id="answer-accepted-score-38" class="level4">
<h4>Answer accepted (score 38)</h4>
<p>It turns out there is more complexity here: I needed to provide many more details to get this rolling. I think its something to do with the fact that its a connection that needs client authentication, and the hankshake needed more info to continue to the stage where the certificates were dumped.</p>
<p>Here is my working command:</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb377-1" title="1"><span class="ex">openssl</span> s_client -connect host:port -key our_private_key.pem -showcerts \</a>
<a class="sourceLine" id="cb377-2" title="2">                 -cert our_server-signed_cert.pem</a></code></pre></div>
<p>Hopefully this is a nudge in the right direction for anyone who could do with some more info.</p>
</section>
<section id="answer-2-score-409" class="level4">
<h4>Answer 2 (score 409)</h4>
<h5>
With SNI
</h1>
<p>If the remote server is using SNI (that is, sharing multiple SSL hosts on a single IP address) you will need to send the correct hostname in order to get the right certificate.</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb378-1" title="1"><span class="ex">openssl</span> s_client -showcerts -servername www.example.com -connect www.example.com:443 <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">/dev/null</span></a></code></pre></div>
<h5>
Without SNI
</h1>
<p>If the remote server is not using SNI, then you can skip <code>-servername</code> parameter:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb379-1" title="1"><span class="ex">openssl</span> s_client -showcerts -connect www.example.com:443 <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">/dev/null</span></a></code></pre></div>
<p><br/></p>
<p>To view the full details of a site’s cert you can use this chain of commands as well:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb380-1" title="1">$ <span class="bu">echo</span> <span class="kw">|</span> <span class="kw">\</span></a>
<a class="sourceLine" id="cb380-2" title="2">    <span class="ex">openssl</span> s_client -servername www.example.com -connect www.example.com:443 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span><span class="ex">/dev/null</span> <span class="kw">|</span> <span class="kw">\</span></a>
<a class="sourceLine" id="cb380-3" title="3">    <span class="ex">openssl</span> x509 -text</a></code></pre></div>
</section>
<section id="answer-3-score-66" class="level4">
<h4>Answer 3 (score 66)</h4>
<p>While I agree with Ari’s answer (and upvoted it :), I needed to do an extra step to get it to work with Java on Windows (where it needed to be deployed):</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb381-1" title="1"><span class="ex">openssl</span> s_client -showcerts -connect www.example.com:443 <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">/dev/null</span> <span class="kw">|</span> <span class="ex">openssl</span> x509 -outform DER <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">derp.der</span></a></code></pre></div>
<p>Before adding the <code>openssl x509 -outform DER</code> conversion, I was getting an error from keytool on Windows complaining about the certificate’s format. Importing the .der file worked fine.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="why-doesnt-cd-work-in-a-shell-script-score-584778-in-2018" class="level3">
<h3>58: Why doesn’t “cd” work in a shell script? (score <a href="https://stackoverflow.com/q/255414.html">584778</a> in 2018)</h3>
<section id="question-57" class="level4">
<h4>Question</h4>
<p>I’m trying to write a small script to change the current directory to my project directory:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb382-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb382-2" title="2"><span class="bu">cd</span> /home/tree/projects/java</a></code></pre></div>
<p>
I saved this file as proj, added execute permission with <code>chmod</code>, and copied it to <code>/usr/bin</code>. When I call it by: <code>proj</code>, it does nothing. What am I doing wrong?
</p>
</section>
<section id="answer-accepted-score-607" class="level4">
<h4>Answer accepted (score 607)</h4>
<p>Shell scripts are run inside a subshell, and each subshell has its own concept of what the current directory is. The <code>cd</code> succeeds, but as soon as the subshell exits, you’re back in the interactive shell and nothing ever changed there.</p>
<p>One way to get around this is to use an alias instead:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb383-1" title="1"><span class="bu">alias</span> proj=<span class="st">&quot;cd /home/tree/projects/java&quot;</span></a></code></pre></div>
</section>
<section id="answer-2-score-475" class="level4">
<h4>Answer 2 (score 475)</h4>
<p>You’re doing nothing wrong! You’ve changed the directory, but only within the subshell that runs the script.</p>
<p>You can run the script in your current process with the “dot” command:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb384-1" title="1"><span class="bu">.</span> <span class="ex">proj</span></a></code></pre></div>
<p>But I’d prefer Greg’s suggestion to use an alias in this simple case.</p>
</section>
<section id="answer-3-score-213" class="level4">
<h4>Answer 3 (score 213)</h4>
<p>The <code>cd</code> in your script technically <em>worked</em> as it changed the directory of the shell that ran the script, but that was a separate process forked from your interactive shell.</p>
<p>A Posix-compatible way to solve this problem is to define a <em>shell procedure</em> rather than a shell-invoked <em>command script</em>.</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb385-1" title="1"><span class="fu">jhome ()</span> <span class="kw">{</span></a>
<a class="sourceLine" id="cb385-2" title="2">  <span class="bu">cd</span> /home/tree/projects/java</a>
<a class="sourceLine" id="cb385-3" title="3"><span class="kw">}</span></a></code></pre></div>
<p>You can just type this in or put it in one of the various shell startup files.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="ld-cannot-find-an-existing-library-score-583334-in-2010" class="level3">
<h3>59: ld cannot find an existing library (score <a href="https://stackoverflow.com/q/335928.html">583334</a> in 2010)</h3>
<section id="question-58" class="level4">
<h4>Question</h4>
<p>I am attempting to link an application with g++ on this Debian lenny system. ld is complaining it cannot find specified libraries. The specific example here is ImageMagick, but I am having similar problems with a few other libraries too.</p>
<p>I am calling the linker with:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb386-1" title="1"><span class="ex">g++</span> -w (..lots of .o files/include directories/etc..) <span class="kw">\</span></a>
<a class="sourceLine" id="cb386-2" title="2"><span class="ex">-L/usr/lib</span> -lmagic</a></code></pre></div>
<p>ld complains:</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb387-1" title="1"><span class="ex">/usr/bin</span>/ld: <span class="ex">cannot</span> find -lmagic</a></code></pre></div>
<p>However, libmagic exists:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb388-1" title="1">$ <span class="fu">locate</span> libmagic.so</a>
<a class="sourceLine" id="cb388-2" title="2"><span class="ex">/usr/lib/libmagic.so.1</span></a>
<a class="sourceLine" id="cb388-3" title="3"><span class="ex">/usr/lib/libmagic.so.1.0.0</span></a>
<a class="sourceLine" id="cb388-4" title="4">$ <span class="fu">ls</span> -all /usr/lib/libmagic.so.1*</a>
<a class="sourceLine" id="cb388-5" title="5"><span class="ex">lrwxrwxrwx</span> 1 root root    17 2008-12-01 03:52 /usr/lib/libmagic.so.1 -<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">libmagic.so.1.0.0</span></a>
<a class="sourceLine" id="cb388-6" title="6"><span class="ex">-rwxrwxrwx</span> 1 root root 84664 2008-09-09 00:05 /usr/lib/libmagic.so.1.0.0</a>
<a class="sourceLine" id="cb388-7" title="7">$ <span class="fu">ldd</span> /usr/lib/libmagic.so.1.0.0 </a>
<a class="sourceLine" id="cb388-8" title="8">    <span class="ex">linux-gate.so.1</span> =<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span>  <span class="kw">(</span><span class="ex">0xb7f85000</span><span class="kw">)</span></a>
<a class="sourceLine" id="cb388-9" title="9">    <span class="ex">libz.so.1</span> =<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">/usr/lib/libz.so.1</span> (0xb7f51000)</a>
<a class="sourceLine" id="cb388-10" title="10">    <span class="ex">libc.so.6</span> =<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">/lib/i686/cmov/libc.so.6</span> (0xb7df6000)</a>
<a class="sourceLine" id="cb388-11" title="11">    <span class="ex">/lib/ld-linux.so.2</span> (0xb7f86000)</a>
<a class="sourceLine" id="cb388-12" title="12">$ <span class="fu">sudo</span> ldconfig -v <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&quot;libmagic&quot;</span></a>
<a class="sourceLine" id="cb388-13" title="13">    <span class="ex">libmagic.so.1</span> -<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">libmagic.so.1.0.0</span></a></code></pre></div>
<p>How do I diagnose this problem further, and what could be wrong? Am I doing something completely stupid?</p>
</section>
<section id="answer-accepted-score-153" class="level4">
<h4>Answer accepted (score 153)</h4>
<p>The problem is the linker is looking for <code>libmagic.so</code> but you only have <code>libmagic.so.1</code></p>
<p>A quick hack is to symlink <code>libmagic.so.1</code> to <code>libmagic.so</code></p>
</section>
<section id="answer-2-score-66" class="level4">
<h4>Answer 2 (score 66)</h4>
<p>As just formulated by grepsedawk, the answer lies in the <code>-l</code> option of <code>g++</code>, calling <code>ld</code>. If you look at the man page of this command, you can either do:</p>
<ul>
<li>
<code>g++ -l:libmagic.so.1 [...]</code>
</li>
<li>
or: <code>g++ -lmagic [...]</code> , if you have a symlink named libmagic.so in your libs path
</li>
</ul>
</section>
<section id="answer-3-score-31" class="level4">
<h4>Answer 3 (score 31)</h4>
<p>It is Debian convention to separate shared libraries into their runtime components (<code>libmagic1: /usr/lib/libmagic.so.1 → libmagic.so.1.0.0</code>) and their development components (<code>libmagic-dev: /usr/lib/libmagic.so → …</code>).</p>
<p>Because the library’s soname is <code>libmagic.so.1</code>, that’s the string that gets embedded into the executable so that’s the file that is loaded when the executable is run.</p>
<p>However, because the library is specified as <code>-lmagic</code> to the linker, it looks for <code>libmagic.so</code>, which is why it is needed for development.</p>
<p>See <a href="http://blog.flameeyes.eu/2010/10/08/linkers-and-names">Diego E. Pettenò: Linkers and names</a> for details on how this all works on Linux.</p>
<hr>
<p>In short, you should <code>apt-get install libmagic-dev</code>. This will not only give you <code>libmagic.so</code> but also other files necessary for compiling like <code>/usr/include/magic.h</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="recursively-counting-files-in-a-linux-directory-score-580138-in-2015" class="level3">
<h3>60: Recursively counting files in a Linux directory (score <a href="https://stackoverflow.com/q/9157138.html">580138</a> in 2015)</h3>
<section id="question-59" class="level4">
<h4>Question</h4>
<p>How can I recursively count files in a Linux directory?</p>
<p>I found this:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb389-1" title="1"><span class="fu">find</span> DIR_NAME -type f ¦ wc -l</a></code></pre></div>
<p>But when I run this it returns the following error.</p>
<blockquote>
find: paths must precede expression: ¦
</blockquote>
</section>
<section id="answer-accepted-score-1180" class="level4">
<h4>Answer accepted (score 1180)</h4>
<p>This should work:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb390-1" title="1"><span class="fu">find</span> DIR_NAME -type f <span class="kw">|</span> <span class="fu">wc</span> -l</a></code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<code>-type f</code> to include only files.
</li>
<li>
<code>|</code> (<strong>and not <code>¦</code></strong>) redirects <code>find</code> command’s standard output to <code>wc</code> command’s standard input.
</li>
<li>
<code>wc</code> (short for word count) counts newlines, words and bytes on its input (<a href="http://man7.org/linux/man-pages/man1/wc.1.html" rel="noreferrer">docs</a>).
</li>
<li>
<code>-l</code> to count just newlines.
</li>
</ul>
<p><strong>Notes:</strong></p>
<ul>
<li>
Replace <code>DIR_NAME</code> with <code>.</code> to execute the command in the current folder.
</li>
<li>
You can also remove the <code>-type f</code> to include directories (and symlinks) in the count.
</li>
<li>
It’s possible this command will overcount if filenames can contain newline characters.
</li>
</ul>
<p><strong>Explanation of why your example does not work:</strong></p>
<p>In the command you showed, you do not use the “Pipe” (<code>|</code>) to kind-of connect two commands, but the broken bar (<code>¦</code>) which the shell does not recognize as a command or something similar. That’s why you get that error message.</p>
</section>
<section id="answer-2-score-87" class="level4">
<h4>Answer 2 (score 87)</h4>
<p>For the current directory:</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb391-1" title="1"><span class="fu">find</span> -type f <span class="kw">|</span> <span class="fu">wc</span> -l</a></code></pre></div>
</section>
<section id="answer-3-score-64-1" class="level4">
<h4>Answer 3 (score 64)</h4>
<p>If you want a breakdown of how many files are in each dir under your current dir:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb392-1" title="1"><span class="kw">for</span> <span class="ex">i</span> in */ .*/ <span class="kw">;</span> <span class="kw">do</span> </a>
<a class="sourceLine" id="cb392-2" title="2">    <span class="bu">echo</span> -n <span class="va">$i</span><span class="st">&quot;: &quot;</span> <span class="kw">;</span> </a>
<a class="sourceLine" id="cb392-3" title="3">    <span class="kw">(</span><span class="fu">find</span> <span class="st">&quot;</span><span class="va">$i</span><span class="st">&quot;</span> -type f <span class="kw">|</span> <span class="fu">wc</span> -l<span class="kw">)</span> ; </a>
<a class="sourceLine" id="cb392-4" title="4"><span class="kw">done</span></a></code></pre></div>
<p>That can go all on one line, of course. The parenthesis clarify whose output <code>wc -l</code> is supposed to be watching (<code>find $i -type f</code> in this case).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="why-do-you-need-to-put-binbash-at-the-beginning-of-a-script-file-score-573690-in-2018" class="level3">
<h3>61: Why do you need to put #!/bin/bash at the beginning of a script file? (score <a href="https://stackoverflow.com/q/8967902.html">573690</a> in 2018)</h3>
<section id="question-60" class="level4">
<h4>Question</h4>
<p>I have made <a href="http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29" rel="noreferrer">Bash</a> scripts before and they all ran fine without this at the beginning. What’s the point of putting it in? Would things be any different?</p>
<p>Also, how do you pronounce <code>#</code>? I know that <code>!</code> is pronounced as “bang.”</p>
<p>How is <code>#!</code> pronounced?</p>
</section>
<section id="answer-accepted-score-398" class="level4">
<h4>Answer accepted (score 398)</h4>
<p>It’s a convention so the *nix shell knows what kind of interpreter to run.</p>
<p>For example, older flavors of ATT defaulted to <em>sh</em> (the Bourne shell), while older versions of BSD defaulted to <em>csh</em> (the C shell).</p>
<p>Even today (where most systems run bash, the <em>“Bourne Again Shell”</em>), scripts can be in bash, python, perl, ruby, PHP, etc, etc. For example, you might see <code>#!/bin/perl</code> or <code>#!/bin/perl5</code>.</p>
<p>
PS: The exclamation mark (<code>!</code>) is affectionately called <em>“bang”</em>. The shell comment symbol (<code>#</code>) is sometimes called <em>“hash”</em>.
</p>
<p>
PPS: Remember - under *nix, associating a suffix with a file type is merely a <em>convention</em>, not a <em>“rule”</em>. An <em>executable</em> can be a binary program, any one of a million script types and other things as well. Hence the need for <code>#!/bin/bash</code>.
</p>
</section>
<section id="answer-2-score-124" class="level4">
<h4>Answer 2 (score 124)</h4>
<p>To be more precise the <a href="https://en.wikipedia.org/wiki/Shebang_%28Unix%29" rel="noreferrer">shebang</a> <code>#!</code>, when it is the first two bytes of an <em>executable</em> (<code>x</code> <a href="https://en.wikipedia.org/wiki/Modes_%28Unix%29" rel="noreferrer">mode</a>) file, is interpreted by the <a href="http://linux.die.net/man/2/execve" rel="noreferrer">execve(2)</a> system call (which execute programs). But <a href="http://pubs.opengroup.org/onlinepubs/009695299/functions/execve.html" rel="noreferrer">POSIX specification for <code>execve</code></a> don’t mention the shebang.</p>
<p>It must be followed by a file path of an interpreter executable (which BTW could even be relative, but most often is absolute).</p>
<p>A nice trick (or perhaps <a href="https://unix.stackexchange.com/a/29620/50557">not so nice</a> one) to find an interpreter (e.g. <code>python</code>) in the user’s <code>$PATH</code> is to use the <code>env</code> program (always at <code>/usr/bin/env</code> on all Linux) like e.g.</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb393-1" title="1"> <span class="co">#!/usr/bin/env python</span></a></code></pre></div>
<p>Any ELF executable can be an interpreter. You could even use <code>#!/bin/cat</code> or <code>#!/bin/true</code> if you wanted to! (but that would be often useless)</p>
</section>
<section id="answer-3-score-47-1" class="level4">
<h4>Answer 3 (score 47)</h4>
<p>It’s called a <a href="http://en.wikipedia.org/wiki/Shebang_%28Unix%29">shebang</a>. In unix-speak, # is called sharp (like in music) or hash (like hashtags on twitter), and ! is called bang. (You can actually reference your previous shell command with !!, called bang-bang). So when put together, you get haSH-BANG, or shebang.</p>
<p>The part after the #! tells Unix what program to use to run it. If it isn’t specified, it will try with bash (or sh, or zsh, or whatever your $SHELL variable is) but if it’s there it will use that program. Plus, # is a comment in most languages, so the line gets ignored in the subsequent execution.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-use-grep-to-show-just-filenames-on-linux-score-572766-in-2019" class="level3">
<h3>62: How can I use grep to show just filenames on Linux? (score <a href="https://stackoverflow.com/q/6637882.html">572766</a> in 2019)</h3>
<section id="question-61" class="level4">
<h4>Question</h4>
<p>How can I use <code>grep</code> to show just file-names (no in-line matches) on Linux?</p>
<p>I am usually using something like:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb394-1" title="1"><span class="fu">find</span> . -iname <span class="st">&quot;*php&quot;</span> -exec grep -H myString {} <span class="dt">\;</span></a></code></pre></div>
<p>How can I just get the file-names (with paths), but without the matches? Do I have to use <code>xargs</code>? I didn’t see a way to do this on my <code>grep</code> man page.</p>
</section>
<section id="answer-accepted-score-1448" class="level4">
<h4>Answer accepted (score 1448)</h4>
<p>The standard option <code>grep -l</code> (that is a lowercase L) could do this.</p>
<p>From the <a href="http://pubs.opengroup.org/onlinepubs/007908799/xcu/grep.html" rel="noreferrer">Unix standard</a>:</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb395-1" title="1"><span class="ex">-l</span></a>
<a class="sourceLine" id="cb395-2" title="2">    <span class="kw">(</span><span class="ex">The</span> letter ell.<span class="kw">)</span> <span class="ex">Write</span> only the names of files containing selected</a>
<a class="sourceLine" id="cb395-3" title="3">    <span class="ex">lines</span> to standard output. Pathnames are written once per file searched.</a>
<a class="sourceLine" id="cb395-4" title="4">    <span class="ex">If</span> the standard input is searched, a pathname of (standard input) <span class="ex">will</span></a>
<a class="sourceLine" id="cb395-5" title="5">    <span class="ex">be</span> written, in the POSIX locale. In other locales, standard input may be</a>
<a class="sourceLine" id="cb395-6" title="6">    <span class="ex">replaced</span> by something more appropriate in those locales.</a></code></pre></div>
<p>You also do not need <code>-H</code> in this case.</p>
</section>
<section id="answer-2-score-130" class="level4">
<h4>Answer 2 (score 130)</h4>
<p>From the <code>grep(1)</code> man page:</p>
<blockquote>
<div class="sourceCode" id="cb396"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb396-1" title="1">  <span class="ex">-l</span>, --files-with-matches</a>
<a class="sourceLine" id="cb396-2" title="2">          <span class="ex">Suppress</span>  normal  output<span class="kw">;</span>  <span class="ex">instead</span>  print the name of each input</a>
<a class="sourceLine" id="cb396-3" title="3">          <span class="fu">file</span> from which output would normally have  been  printed.   The</a>
<a class="sourceLine" id="cb396-4" title="4">          <span class="ex">scanning</span>  will  stop  on  the  first match.  (-l is specified by</a>
<a class="sourceLine" id="cb396-5" title="5">          <span class="ex">POSIX.</span>)</a></code></pre></div>
</blockquote>
</section>
<section id="answer-3-score-30-1" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>For a simple file search you could use grep’s <code>-l</code> and <code>-r</code> options:</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb397-1" title="1"><span class="fu">grep</span> -rl <span class="st">&quot;mystring&quot;</span></a></code></pre></div>
<p>All the search is done by grep. Of course, if you need to select files on some other parameter, find is the correct solution:</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb398-1" title="1"><span class="fu">find</span> . -iname <span class="st">&quot;*.php&quot;</span> -execdir grep -l <span class="st">&quot;mystring&quot;</span> {} <span class="ex">+</span></a></code></pre></div>
<p>The <code>execdir</code> option builds each grep command per each directory, and concatenates filenames into only one command (<code>+</code>).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-obtain-the-number-of-cpuscores-in-linux-from-the-command-line-score-571310-in-2015" class="level3">
<h3>63: How to obtain the number of CPUs/cores in Linux from the command line? (score <a href="https://stackoverflow.com/q/6481005.html">571310</a> in 2015)</h3>
<section id="question-62" class="level4">
<h4>Question</h4>
<p>I have this script, but I do not know how to get the last element in the printout:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb399-1" title="1"><span class="fu">cat</span> /proc/cpuinfo <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;/^processor/{print $3}&#39;</span></a></code></pre></div>
<p>The last element should be the number of CPUs, minus 1.</p>
</section>
<section id="answer-accepted-score-595" class="level4">
<h4>Answer accepted (score 595)</h4>
<div class="sourceCode" id="cb400"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb400-1" title="1"><span class="fu">cat</span> /proc/cpuinfo <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;/^processor/{print $3}&#39;</span> <span class="kw">|</span> <span class="fu">wc</span> -l</a></code></pre></div>
<p>or simply</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb401-1" title="1"><span class="fu">grep</span> -c ^processor /proc/cpuinfo     </a></code></pre></div>
<p>which will count the number of lines starting with “processor” in <code>/proc/cpuinfo</code></p>
<p>For systems with hyper-threading, you can use</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb402-1" title="1"><span class="fu">grep</span> ^cpu<span class="dt">\\</span>scores /proc/cpuinfo <span class="kw">|</span> <span class="fu">uniq</span> <span class="kw">|</span>  <span class="fu">awk</span> <span class="st">&#39;{print $4}&#39;</span> </a></code></pre></div>
<p>which should return (for example) <code>8</code> (whereas the command above would return <code>16</code>)</p>
</section>
<section id="answer-2-score-596" class="level4">
<h4>Answer 2 (score 596)</h4>
<p>Processing the contents of <code>/proc/cpuinfo</code> is needlessly baroque. Use <a href="http://www.gnu.org/software/coreutils/manual/html_node/nproc-invocation.html" rel="noreferrer"><strong>nproc</strong></a> which is part of coreutils, so it should be available on most Linux installs.</p>
<p>Command <code>nproc</code> prints the number of processing units available to the current process, which may be less than the number of online processors.</p>
<p>To find the number of all installed cores/processors use <code>nproc --all</code></p>
<p>On my 8-core machine:</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb403-1" title="1">$ <span class="ex">nproc</span> --all</a>
<a class="sourceLine" id="cb403-2" title="2"><span class="ex">8</span></a></code></pre></div>
</section>
<section id="answer-3-score-243" class="level4">
<h4>Answer 3 (score 243)</h4>
<p>The most portable solution I have found is the <code>getconf</code> command:</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb404-1" title="1"><span class="ex">getconf</span> _NPROCESSORS_ONLN</a></code></pre></div>
<p>This works on both Linux and Mac OS X. Another benefit of this over some of the other approaches is that getconf has been around for a long time. Some of the older Linux machines I have to do development on don’t have the <code>nproc</code> or <code>lscpu</code> commands available, but they have <code>getconf</code>.</p>
<p>
<sup>Editor’s note: While <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/getconf.html" rel="noreferrer">the <code>getconf</code> <em>utility</em> is POSIX-mandated</a>, the specific <code>_NPROCESSORS_ONLN</code> and <code>_NPROCESSORS_CONF</code> <em>values</em> are not. That said, as stated, they work on Linux platforms as well as on macOS; on FreeBSD/PC-BSD, you must omit the leading <code>_</code>.</sup>
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-redirect-output-to-a-file-and-stdout-score-560328-in-2014" class="level3">
<h3>64: How to redirect output to a file and stdout (score <a href="https://stackoverflow.com/q/418896.html">560328</a> in 2014)</h3>
<section id="question-63" class="level4">
<h4>Question</h4>
<p>In bash, calling <code>foo</code> would display any output from that command on the stdout.</p>
<p>Calling <code>foo &amp;gt; output</code> would redirect any output from that command to the file specified (in this case ‘output’).</p>
<p>Is there a way to redirect output to a file <em>and</em> have it display on stdout?</p>
</section>
<section id="answer-accepted-score-1200" class="level4">
<h4>Answer accepted (score 1200)</h4>
<p>The command you want is named <strong><a href="http://www.gnu.org/software/coreutils/manual/html_node/tee-invocation.html" rel="noreferrer"><code>tee</code></a></strong>:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb405-1" title="1"><span class="ex">foo</span> <span class="kw">|</span> <span class="fu">tee</span> output.file</a></code></pre></div>
<p>For example, if you only care about stdout:</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb406-1" title="1"><span class="fu">ls</span> -a <span class="kw">|</span> <span class="fu">tee</span> output.file</a></code></pre></div>
<p>If you want to include stderr, do:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb407-1" title="1"><span class="ex">program</span> [arguments...] 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">|</span> <span class="fu">tee</span> outfile</a></code></pre></div>
<p><code>2&amp;gt;&amp;amp;1</code> redirects channel 2 (stderr/standard error) into channel 1 (stdout/standard output), such that both is written as stdout. It is also directed to the given output file as of the <code>tee</code> command.</p>
<p>Furthermore, if you want to <em>append</em> to the log file, use <code>tee -a</code> as:</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb408-1" title="1"><span class="ex">program</span> [arguments...] 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">|</span> <span class="fu">tee</span> -a outfile</a></code></pre></div>
</section>
<section id="answer-2-score-481" class="level4">
<h4>Answer 2 (score 481)</h4>
<div class="sourceCode" id="cb409"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb409-1" title="1">$ <span class="ex">program</span> [arguments...] 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">|</span> <span class="fu">tee</span> outfile</a></code></pre></div>
<p>
<code>2&amp;gt;&amp;amp;1</code> dumps the stderr and stdout streams. <code>tee outfile</code> takes the stream it gets and writes it to the screen and to the file “outfile”.
</p>
<p>This is probably what most people are looking for. The likely situation is some program or script is working hard for a long time and producing a lot of output. The user wants to check it periodically for progress, but also wants the output written to a file.</p>
<p>The problem (especially when mixing stdout and stderr streams) is that there is reliance on the streams being flushed by the program. If, for example, all the writes to stdout are <em>not</em> flushed, but all the writes to stderr <em>are</em> flushed, then they’ll end up out of chronological order in the output file and on the screen.</p>
<p>It’s also bad if the program only outputs 1 or 2 lines every few minutes to report progress. In such a case, if the output was not flushed by the program, the user wouldn’t even see any output on the screen for hours, because none of it would get pushed through the pipe for hours.</p>
<p>Update: The program <code>unbuffer</code>, part of the <code>expect</code> package, will solve the buffering problem. This will cause stdout and stderr to write to the screen and file immediately and keep them in sync when being combined and redirected to <code>tee</code>. E.g.:</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb410-1" title="1">$ <span class="ex">unbuffer</span> program [arguments...] 2<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">1</span> <span class="kw">|</span> <span class="fu">tee</span> outfile</a></code></pre></div>
</section>
<section id="answer-3-score-117" class="level4">
<h4>Answer 3 (score 117)</h4>
<p>Another way that works for me is,</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb411-1" title="1"><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="bu">command</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="kw">|&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="fu">tee</span>  <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">outputFile</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a></code></pre></div>
<p>as shown in <a href="http://www.gnu.org/software/bash/manual/bashref.html#Pipelines" rel="noreferrer">gnu bash manual</a></p>
<p>Example:</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb412-1" title="1"><span class="fu">ls</span> <span class="kw">|&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="fu">tee</span> files.txt</a></code></pre></div>
<blockquote>
<em>If ‘|&amp;’ is used, command1’s <strong>standard error</strong>, in addition to its <strong>standard output</strong>, is connected to command2’s standard input through the pipe; it is <strong>shorthand for 2&gt;&amp;1</strong> |. This implicit redirection of the standard error to the standard output is performed after any redirections specified by the command.</em>
</blockquote>
<p>For more information, refer <a href="http://www.gnu.org/software/bash/manual/bashref.html#Redirections" rel="noreferrer">redirection</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="write-to-.txt-file-score-558915-in-2014" class="level3">
<h3>65: Write to .txt file? (score <a href="https://stackoverflow.com/q/11573974.html">558915</a> in 2014)</h3>
<section id="question-64" class="level4">
<h4>Question</h4>
<p>
How can I write a little piece of text into a <code>.txt</code> file? I’ve been Googling for over 3-4 hours, but can’t find out how to do it.
</p>
<p><code>fwrite();</code> has so many arguments, and I don’t know how to use it.</p>
<p>What’s the easiest function to use when you only want to write a name and a few numbers to a <code>.txt</code> file?</p>
<p>Edit: Added a piece of my code.</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb413-1" title="1">    <span class="ex">char</span> name<span class="kw">;</span></a>
<a class="sourceLine" id="cb413-2" title="2">    <span class="ex">int</span>  number<span class="kw">;</span></a>
<a class="sourceLine" id="cb413-3" title="3">    <span class="ex">FILE</span> *f<span class="kw">;</span></a>
<a class="sourceLine" id="cb413-4" title="4">    <span class="ex">f</span> = fopen(<span class="st">&quot;contacts.pcl&quot;</span>, <span class="st">&quot;a&quot;</span>);</a>
<a class="sourceLine" id="cb413-5" title="5"></a>
<a class="sourceLine" id="cb413-6" title="6">    <span class="bu">printf</span>(<span class="st">&quot;\nNew contact name: &quot;</span>);</a>
<a class="sourceLine" id="cb413-7" title="7">    <span class="ex">scanf</span>(<span class="st">&quot;%s&quot;</span>, <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">name</span>);</a>
<a class="sourceLine" id="cb413-8" title="8">    <span class="bu">printf</span>(<span class="st">&quot;New contact number: &quot;</span>);</a>
<a class="sourceLine" id="cb413-9" title="9">    <span class="ex">scanf</span>(<span class="st">&quot;%i&quot;</span>, <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">number</span>);</a>
<a class="sourceLine" id="cb413-10" title="10"></a>
<a class="sourceLine" id="cb413-11" title="11"></a>
<a class="sourceLine" id="cb413-12" title="12">    <span class="ex">fprintf</span>(f, <span class="st">&quot;%c\n[ %d ]\n\n&quot;</span>, name, number);</a>
<a class="sourceLine" id="cb413-13" title="13">    <span class="ex">fclose</span>(f);</a></code></pre></div>
</section>
<section id="answer-accepted-score-251" class="level4">
<h4>Answer accepted (score 251)</h4>
<div class="sourceCode" id="cb414"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb414-1" title="1"><span class="ex">FILE</span> *f = fopen(<span class="st">&quot;file.txt&quot;</span>, <span class="st">&quot;w&quot;</span>);</a>
<a class="sourceLine" id="cb414-2" title="2"><span class="kw">if</span> <span class="kw">(</span><span class="ex">f</span> == NULL<span class="kw">)</span></a>
<a class="sourceLine" id="cb414-3" title="3"><span class="kw">{</span></a>
<a class="sourceLine" id="cb414-4" title="4">    <span class="bu">printf</span>(<span class="st">&quot;Error opening file!\n&quot;</span>);</a>
<a class="sourceLine" id="cb414-5" title="5">    <span class="bu">exit</span>(1);</a>
<a class="sourceLine" id="cb414-6" title="6"><span class="kw">}</span></a>
<a class="sourceLine" id="cb414-7" title="7"></a>
<a class="sourceLine" id="cb414-8" title="8"><span class="ex">/*</span> print some text */</a>
<a class="sourceLine" id="cb414-9" title="9"><span class="ex">const</span> char *text = <span class="st">&quot;Write this to the file&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb414-10" title="10"><span class="ex">fprintf</span>(f, <span class="st">&quot;Some text: %s\n&quot;</span>, text);</a>
<a class="sourceLine" id="cb414-11" title="11"></a>
<a class="sourceLine" id="cb414-12" title="12"><span class="ex">/*</span> print integers and floats */</a>
<a class="sourceLine" id="cb414-13" title="13"><span class="ex">int</span> i = 1<span class="kw">;</span></a>
<a class="sourceLine" id="cb414-14" title="14"><span class="ex">float</span> py = 3.1415927<span class="kw">;</span></a>
<a class="sourceLine" id="cb414-15" title="15"><span class="ex">fprintf</span>(f, <span class="st">&quot;Integer: %d, float: %f\n&quot;</span>, i, py);</a>
<a class="sourceLine" id="cb414-16" title="16"></a>
<a class="sourceLine" id="cb414-17" title="17"><span class="ex">/*</span> printing single chatacters */</a>
<a class="sourceLine" id="cb414-18" title="18"><span class="ex">char</span> c = <span class="st">&#39;A&#39;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb414-19" title="19"><span class="ex">fprintf</span>(f, <span class="st">&quot;A character: %c\n&quot;</span>, c);</a>
<a class="sourceLine" id="cb414-20" title="20"></a>
<a class="sourceLine" id="cb414-21" title="21"><span class="ex">fclose</span>(f);</a></code></pre></div>
</section>
<section id="answer-2-score-20" class="level4">
<h4>Answer 2 (score 20)</h4>
<div class="sourceCode" id="cb415"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb415-1" title="1"><span class="ex">FILE</span> *fp<span class="kw">;</span></a>
<a class="sourceLine" id="cb415-2" title="2"><span class="ex">char*</span> str = <span class="st">&quot;string&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb415-3" title="3"><span class="ex">int</span> x = 10<span class="kw">;</span></a>
<a class="sourceLine" id="cb415-4" title="4"></a>
<a class="sourceLine" id="cb415-5" title="5"><span class="va">fp=</span>fopen<span class="va">(</span><span class="st">&quot;test.txt&quot;</span>, <span class="st">&quot;w&quot;</span><span class="va">)</span>;</a>
<a class="sourceLine" id="cb415-6" title="6"><span class="ex">if</span>(fp == NULL)</a>
<a class="sourceLine" id="cb415-7" title="7">    <span class="bu">exit</span>(-1);</a>
<a class="sourceLine" id="cb415-8" title="8"><span class="ex">fprintf</span>(fp, <span class="st">&quot;This is a string which is written to a file\n&quot;</span>);</a>
<a class="sourceLine" id="cb415-9" title="9"><span class="ex">fprintf</span>(fp, <span class="st">&quot;The string has %d words and keyword %s\n&quot;</span>, x, str);</a>
<a class="sourceLine" id="cb415-10" title="10"><span class="ex">fclose</span>(fp);</a></code></pre></div>
</section>
<section id="answer-3-score--1" class="level4">
<h4>Answer 3 (score -1)</h4>
<p>Well, you need to first get a good book on C and understand the language.</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb416-1" title="1"><span class="ex">FILE</span> *fp<span class="kw">;</span></a>
<a class="sourceLine" id="cb416-2" title="2"><span class="ex">fp</span> = fopen(<span class="st">&quot;c:</span><span class="dt">\\</span><span class="st">test.txt&quot;</span>, <span class="st">&quot;wb&quot;</span>);</a>
<a class="sourceLine" id="cb416-3" title="3"><span class="ex">if</span>(fp == null)</a>
<a class="sourceLine" id="cb416-4" title="4">   <span class="bu">return</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb416-5" title="5"><span class="ex">char</span> x[10]=<span class="st">&quot;ABCDEFGHIJ&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb416-6" title="6"><span class="ex">fwrite</span>(x, sizeof(x[0]), <span class="ex">sizeof</span>(x)/<span class="ex">sizeof</span>(x[0]), <span class="ex">fp</span>);</a>
<a class="sourceLine" id="cb416-7" title="7"><span class="ex">fclose</span>(fp);</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-grep-a-string-in-a-directory-and-all-its-subdirectories-files-in-linux-score-553700-in" class="level3">
<h3>66: How to grep a string in a directory and all its subdirectories’ files in LINUX? (score <a href="https://stackoverflow.com/q/15622328.html">553700</a> in )</h3>
<section id="question-65" class="level4">
<h4>Question</h4>
<p>How to grep a string or a text in a directory and all its subdirectories’files in LINUX ??</p>
</section>
<section id="answer-accepted-score-398-1" class="level4">
<h4>Answer accepted (score 398)</h4>
<p>If your grep supports <code>-R</code>, do:</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb417-1" title="1"><span class="fu">grep</span> -R <span class="st">&#39;string&#39;</span> dir/</a></code></pre></div>
<p>If not, then use <code>find</code>:</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb418-1" title="1"><span class="fu">find</span> dir/ -type f -exec grep -H <span class="st">&#39;string&#39;</span> {} <span class="ex">+</span></a></code></pre></div>
</section>
<section id="answer-2-score-47" class="level4">
<h4>Answer 2 (score 47)</h4>
<div class="sourceCode" id="cb419"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb419-1" title="1"><span class="fu">grep</span> -r -e string directory</a></code></pre></div>
<p><code>-r</code> is for recursive; <code>-e</code> is optional but its argument specifies the regex to search for. Interestingly, <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/grep.html">POSIX <code>grep</code></a> is not required to support <code>-r</code> (or <code>-R</code>), but <s>I’m practically certain that System V <code>grep</code> did, so</s> in practice they (almost) all do. Some versions of <code>grep</code> support <code>-R</code> as well as (or conceivably instead of) <code>-r</code>; AFAICT, it means the same thing.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="install-tkinter-for-python-score-552246-in-2019" class="level3">
<h3>67: Install tkinter for Python (score <a href="https://stackoverflow.com/q/4783810.html">552246</a> in 2019)</h3>
<section id="question-66" class="level4">
<h4>Question</h4>
<p>I am trying to import Tkinter. However, I get an error stating that Tkinter has not been installed:</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb420-1" title="1"><span class="ex">ImportError</span>: No module named _tkinter, please install the python-tk package</a></code></pre></div>
<p>I could probably install it using synaptic manager (can I?), however, I would have to install it on every machine I program on. Would it be possible to add the Tkinter library into my workspace and reference it from there?</p>
</section>
<section id="answer-accepted-score-365" class="level4">
<h4>Answer accepted (score 365)</h4>
<p>It is not very easy to install Tkinter locally to use with system-provided Python. You may build it from sources, but this is usually not the best idea with a binary package-based distro you’re apparently running.</p>
<p>
It’s safer to <code>apt-get install python-tk</code> on your machine(s). (Works on Debian-derived distributions like for Ubuntu; refer to your package manager and package list on other distributions.)
</p>
</section>
<section id="answer-2-score-72-1" class="level4">
<h4>Answer 2 (score 72)</h4>
<p>Actually, you just need to use the following to install the tkinter for python3:</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb421-1" title="1"><span class="fu">sudo</span> apt-get install python3-tk</a></code></pre></div>
<p>In addition, for Fedora users, use the following command:</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb422-1" title="1"><span class="fu">sudo</span> dnf install python3-tkinter</a></code></pre></div>
</section>
<section id="answer-3-score-62" class="level4">
<h4>Answer 3 (score 62)</h4>
<p>If, like me, you don’t have root privileges on your network because of your wonderful friends in I.S., and you are working in a local install you may have some problems with the above approaches.</p>
<p>I spent ages on Google - but in the end, it’s easy.</p>
<p>Download the tcl and tk from <a href="http://www.tcl.tk/software/tcltk/download.html" rel="noreferrer">http://www.tcl.tk/software/tcltk/download.html</a> and install them locally too.</p>
<p>To install locally on Linux (I did it to my home directory), extract the .tar.gz files for tcl and tk. Then open up the readme files inside the ./unix directory. I ran</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb423-1" title="1"><span class="bu">cd</span> ~/tcl8.5.11/unix</a>
<a class="sourceLine" id="cb423-2" title="2"><span class="ex">./configure</span> --prefix=/home/cnel711 --exec-prefix=/home/cnel711</a>
<a class="sourceLine" id="cb423-3" title="3"><span class="fu">make</span></a>
<a class="sourceLine" id="cb423-4" title="4"><span class="fu">make</span> install</a>
<a class="sourceLine" id="cb423-5" title="5"></a>
<a class="sourceLine" id="cb423-6" title="6"><span class="bu">cd</span> ~/tk8.5.11/unix</a>
<a class="sourceLine" id="cb423-7" title="7"><span class="ex">./configure</span> --prefix=/home/cnel711 --exec-prefix=/home/cnel711 --with-tcl=/home/cnel711/tcl8.5.11/unix</a>
<a class="sourceLine" id="cb423-8" title="8"><span class="fu">make</span></a>
<a class="sourceLine" id="cb423-9" title="9"><span class="fu">make</span> install</a></code></pre></div>
<p>It may seem a pain, but the files are tiny and installation is very fast.</p>
<p>Then re-run <code>python setup.py build</code> and <code>python setup.py install</code> in your python installation directory - and it should work. It worked for me - and I can now import Tkinter etc to my heart’s content - yipidy-yay. An entire afternoon spent on this - hope this note saves others from the pain.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="grep-but-only-certain-file-extensions-score-550776-in-2017" class="level3">
<h3>68: grep, but only certain file extensions (score <a href="https://stackoverflow.com/q/12516937.html">550776</a> in 2017)</h3>
<section id="question-67" class="level4">
<h4>Question</h4>
<p>I am working on writing some scripts to <code>grep</code> certain directories, but these directories contain all sorts of file types.</p>
<p>I want to <code>grep</code> just <code>.h</code> and <code>.cpp</code> for now, but maybe a few others in the future.</p>
<p>So far I have:</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb424-1" title="1"><span class="kw">{</span> <span class="fu">grep</span> -r -i CP_Image ~/path1/<span class="kw">;</span></a>
<a class="sourceLine" id="cb424-2" title="2"></a>
<a class="sourceLine" id="cb424-3" title="3"><span class="fu">grep</span> -r -i CP_Image ~/path2/<span class="kw">;</span></a>
<a class="sourceLine" id="cb424-4" title="4"></a>
<a class="sourceLine" id="cb424-5" title="5"><span class="fu">grep</span> -r -i CP_Image ~/path3/<span class="kw">;</span></a>
<a class="sourceLine" id="cb424-6" title="6"></a>
<a class="sourceLine" id="cb424-7" title="7"><span class="fu">grep</span> -r -i CP_Image ~/path4/<span class="kw">;</span></a>
<a class="sourceLine" id="cb424-8" title="8"></a>
<a class="sourceLine" id="cb424-9" title="9"><span class="fu">grep</span> -r -i CP_Image ~/path5/<span class="kw">;}</span> </a>
<a class="sourceLine" id="cb424-10" title="10"></a>
<a class="sourceLine" id="cb424-11" title="11"><span class="kw">|</span> <span class="ex">mailx</span> -s GREP email@domain.com</a></code></pre></div>
<p>Can anyone show me how I would now add just the specific file extensions?</p>
</section>
<section id="answer-accepted-score-1201" class="level4">
<h4>Answer accepted (score 1201)</h4>
<p>Just use the <code>--include</code> parameter, like this:</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb425-1" title="1"><span class="fu">grep</span> -r -i --include <span class="dt">\*</span>.h --include <span class="dt">\*</span>.cpp CP_Image ~/path[12345] <span class="kw">|</span> <span class="ex">mailx</span> -s GREP email@domain.com</a></code></pre></div>
<p>that should do what you want.</p>
<p>Syntax notes:</p>
<ul>
<li>
<code>-r</code> - search recursively
</li>
<li>
<code>-i</code> - case-<strong>insensitive</strong> search
</li>
<li>
<code>--include=\*.${file_extension}</code> - search files that match the extension(s) or file pattern only
</li>
</ul>
</section>
<section id="answer-2-score-256-1" class="level4">
<h4>Answer 2 (score 256)</h4>
<p>Some of these answers seemed too syntax-heavy, or they produced issues on my Debian Server. This worked perfectly for me:</p>
<p><a href="https://phprevolution.blogspot.com/2018/08/how-to-grep-files-in-linux-but-only.html" rel="noreferrer">PHP Revolution: How to Grep files in Linux, but only certain file extensions?</a></p>
<p>Namely:</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb426-1" title="1"><span class="fu">grep</span> -r --include=<span class="dt">\*</span>.txt <span class="st">&#39;searchterm&#39;</span> ./</a></code></pre></div>
<p>…or case-insensitive version…</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb427-1" title="1"><span class="fu">grep</span> -r -i --include=<span class="dt">\*</span>.txt <span class="st">&#39;searchterm&#39;</span> ./</a></code></pre></div>
<ul>
<li>
<p>
<code>grep</code>: command
</p>
</li>
<li>
<p>
<code>-r</code>: recursively
</p>
</li>
<li>
<p>
<code>-i</code>: ignore-case
</p>
</li>
<li>
<p>
<code>--include</code>: all *.txt: text files (escape with  just in case you have a directory with asterisks in the filenames)
</p>
</li>
<li>
<p>
<code>'searchterm'</code>: What to search
</p>
</li>
<li>
<p>
<code>./</code>: Start at current directory.
</p>
</li>
</ul>
</section>
<section id="answer-3-score-48" class="level4">
<h4>Answer 3 (score 48)</h4>
<p>How about:</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb428-1" title="1"><span class="fu">find</span> . -name <span class="st">&#39;*.h&#39;</span> -o -name <span class="st">&#39;*.cpp&#39;</span> -exec grep <span class="st">&quot;CP_Image&quot;</span> {} <span class="dt">\;</span> <span class="ex">-print</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="undefined-reference-to-pthread_create-in-linux-score-550266-in-2017" class="level3">
<h3>69: Undefined reference to pthread_create in Linux (score <a href="https://stackoverflow.com/q/1662909.html">550266</a> in 2017)</h3>
<section id="question-68" class="level4">
<h4>Question</h4>
<p>I picked up the following demo off the web from <a href="https://computing.llnl.gov/tutorials/pthreads/" rel="noreferrer">https://computing.llnl.gov/tutorials/pthreads/</a></p>
<div class="sourceCode" id="cb429"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb429-1" title="1"><span class="co">#include &amp;lt;pthread.h&amp;gt;</span></a>
<a class="sourceLine" id="cb429-2" title="2"><span class="co">#include &amp;lt;stdio.h&amp;gt;</span></a>
<a class="sourceLine" id="cb429-3" title="3"><span class="co">#define NUM_THREADS     5</span></a>
<a class="sourceLine" id="cb429-4" title="4"></a>
<a class="sourceLine" id="cb429-5" title="5"><span class="ex">void</span> *PrintHello(void *threadid)</a>
<a class="sourceLine" id="cb429-6" title="6"><span class="kw">{</span></a>
<a class="sourceLine" id="cb429-7" title="7">   <span class="ex">long</span> tid<span class="kw">;</span></a>
<a class="sourceLine" id="cb429-8" title="8">   <span class="ex">tid</span> = (long)<span class="ex">threadid</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb429-9" title="9">   <span class="bu">printf</span>(<span class="st">&quot;Hello World! It&#39;s me, thread #%ld!\n&quot;</span>, tid);</a>
<a class="sourceLine" id="cb429-10" title="10">   <span class="ex">pthread_exit</span>(NULL);</a>
<a class="sourceLine" id="cb429-11" title="11"><span class="kw">}</span></a>
<a class="sourceLine" id="cb429-12" title="12"></a>
<a class="sourceLine" id="cb429-13" title="13"><span class="ex">int</span> main (int argc, char *argv[])</a>
<a class="sourceLine" id="cb429-14" title="14"><span class="kw">{</span></a>
<a class="sourceLine" id="cb429-15" title="15">   <span class="ex">pthread_t</span> threads[NUM_THREADS]<span class="kw">;</span></a>
<a class="sourceLine" id="cb429-16" title="16">   <span class="ex">int</span> rc<span class="kw">;</span></a>
<a class="sourceLine" id="cb429-17" title="17">   <span class="ex">long</span> t<span class="kw">;</span></a>
<a class="sourceLine" id="cb429-18" title="18">   <span class="kw">for(</span><span class="va">t=</span>0; <span class="ex">t</span><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">NUM_THREADS</span><span class="kw">;</span> <span class="ex">t++</span><span class="kw">){</span></a>
<a class="sourceLine" id="cb429-19" title="19">      <span class="bu">printf</span>(<span class="st">&quot;In main: creating thread %ld\n&quot;</span>, t);</a>
<a class="sourceLine" id="cb429-20" title="20">      <span class="ex">rc</span> = pthread_create(<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">threads</span>[t], NULL, PrintHello, (void *)<span class="ex">t</span>);</a>
<a class="sourceLine" id="cb429-21" title="21">      <span class="kw">if</span> <span class="kw">(</span><span class="ex">rc</span><span class="kw">){</span></a>
<a class="sourceLine" id="cb429-22" title="22">         <span class="bu">printf</span>(<span class="st">&quot;ERROR; return code from pthread_create() is %d\n&quot;</span>, rc);</a>
<a class="sourceLine" id="cb429-23" title="23">         <span class="bu">exit</span>(-1);</a>
<a class="sourceLine" id="cb429-24" title="24">      <span class="kw">}</span></a>
<a class="sourceLine" id="cb429-25" title="25">   <span class="kw">}</span></a>
<a class="sourceLine" id="cb429-26" title="26">   <span class="ex">pthread_exit</span>(NULL);</a>
<a class="sourceLine" id="cb429-27" title="27"><span class="kw">}</span></a></code></pre></div>
<p>But when I compile it on my machine (running Ubuntu Linux 9.04) I get the following error:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb430-1" title="1"><span class="ex">corey@ubuntu</span>:~/demo$ gcc -o term term.c</a>
<a class="sourceLine" id="cb430-2" title="2"><span class="ex">term.c</span>: In function ‘main’:</a>
<a class="sourceLine" id="cb430-3" title="3"><span class="ex">term.c</span>:23: warning: incompatible implicit declaration of built-in function ‘exit’</a>
<a class="sourceLine" id="cb430-4" title="4"><span class="ex">/tmp</span>/cc8BMzwx.o: <span class="ex">In</span> function <span class="kw">`</span><span class="ex">main</span><span class="st">&#39;:</span></a>
<a class="sourceLine" id="cb430-5" title="5"><span class="st">term.c:(.text+0x82): undefined reference to `pthread_create&#39;</span></a>
<a class="sourceLine" id="cb430-6" title="6"><span class="ex">collect2</span>: ld returned 1 exit status</a></code></pre></div>
<p>This doesn’t make any sense to me, because the header includes <code>pthread.h</code>, which should have the <code>pthread_create</code> function. Any ideas what’s going wrong?</p>
</section>
<section id="answer-2-score-630" class="level4">
<h4>Answer 2 (score 630)</h4>
<p>
Both answers to this question so far are <em>incorrect</em>.<br> For Linux the correct command is:
</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb431-1" title="1"><span class="fu">gcc</span> -pthread -o term term.c</a></code></pre></div>
<p>In general, libraries should follow sources and objects on command line, and <code>-lpthread</code> is not an “option”, it’s a library specification. On a system with only <code>libpthread.a</code> installed,</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb432-1" title="1"><span class="fu">gcc</span> -lpthread ...</a></code></pre></div>
<p>will fail to link.</p>
</section>
<section id="answer-3-score-35" class="level4">
<h4>Answer 3 (score 35)</h4>
<p>in eclipse</p>
<p>properties-&gt;c/c++Build-&gt;setting-&gt;GCC C++ linker-&gt;libraries in top part add “pthread”</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-create-a-link-to-a-directory-score-529086-in-2016" class="level3">
<h3>70: How to create a link to a directory (score <a href="https://stackoverflow.com/q/9587445.html">529086</a> in 2016)</h3>
<section id="question-69" class="level4">
<h4>Question</h4>
<p>How to create a link <code>xxx</code> to <code>/home/jake/doc/test/2000/something/</code>?</p>
<p>Assume the <code>xxx</code> is created under <code>/home/jake</code> and you’re currently in <code>/home/jake</code>. When you do <code>cd xxx</code>, you directly go to <code>/home/jake/doc/test/2000/something/</code>.</p>
</section>
<section id="answer-accepted-score-509" class="level4">
<h4>Answer accepted (score 509)</h4>
<p>Symbolic or soft link (files or directories, more flexible and self documenting)</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb433-1" title="1"><span class="co">#     Source                             Link</span></a>
<a class="sourceLine" id="cb433-2" title="2"><span class="fu">ln</span> -s /home/jake/doc/test/2000/something /home/jake/xxx</a></code></pre></div>
<p>Hard link (files only, less flexible and not self documenting)</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb434-1" title="1"><span class="co">#   Source                             Link</span></a>
<a class="sourceLine" id="cb434-2" title="2"><span class="fu">ln</span> /home/jake/doc/test/2000/something /home/jake/xxx</a></code></pre></div>
<p>More information: <a href="https://www.google.com/search?&amp;q=man%20ln" rel="noreferrer">man ln</a></p>
</section>
<section id="answer-2-score-44" class="level4">
<h4>Answer 2 (score 44)</h4>
<p>you should use :</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb435-1" title="1"><span class="fu">ln</span> -s /home/jake/doc/test/2000/something xxx</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="command-to-change-the-default-home-directory-of-a-user-score-524721-in-2014" class="level3">
<h3>71: Command to change the default home directory of a user (score <a href="https://stackoverflow.com/q/20797819.html">524721</a> in 2014)</h3>
<section id="question-70" class="level4">
<h4>Question</h4>
<p>I would like to know whether there is any simple shell command to change the user home directory in Linux/Unix (one similar to <strong>chsh</strong> which changes the default login shell of an existing valid user) without touching the <code>/etc/passwd</code> file. Thanks</p>
</section>
<section id="answer-2-score-318" class="level4">
<h4>Answer 2 (score 318)</h4>
<p>Ibrahim’s comment on the other answer is the correct way to alter an existing user’s home directory.</p>
<h5>
Change the user’s home directory:
</h3>
<div class="sourceCode" id="cb436"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb436-1" title="1"><span class="ex">usermod</span> -d /newhome/username username</a></code></pre></div>
<p>
<code>usermod</code> is the command to edit an existing user. <br> <code>-d</code> (abbreviation for <code>--home</code>) will change the user’s home directory.<br> <br>
</p>
<h5>
Change the user’s home directory + Move the contents of the user’s current directory:
</h3>
<div class="sourceCode" id="cb437"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb437-1" title="1"><span class="ex">usermod</span> -d -m /newhome/username username</a></code></pre></div>
<p><code>-m</code> (abbreviation for <code>--move-home</code>) will move the content from the user’s current directory to the new directory.</p>
</section>
<section id="answer-3-score-26" class="level4">
<h4>Answer 3 (score 26)</h4>
<p>From <a href="http://www.cyberciti.biz/faq/howto-change-default-home-directory/">Linux Change Default User Home Directory While Adding A New User</a>:</p>
<blockquote>
<p>Simply open this file using a text editor, type:</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb438-1" title="1"><span class="ex">vi</span> /etc/default/useradd</a></code></pre></div>
<p>
The default home directory defined by HOME variable, find line that read as follows:
</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb439-1" title="1"><span class="va">HOME=</span>/home</a></code></pre></div>
<p>Replace with:</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb440-1" title="1"><span class="va">HOME=</span>/iscsi/user</a></code></pre></div>
<p>
Save and close the file. Now you can add user using regular useradd command:
</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb441-1" title="1"><span class="co"># useradd vivek</span></a>
<a class="sourceLine" id="cb441-2" title="2"><span class="co"># passwd vivek</span></a></code></pre></div>
<p>Verify user information:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb442-1" title="1"><span class="co"># finger vivek</span></a></code></pre></div>
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="argument-list-too-long-error-for-rm-cp-mv-commands-score-523283-in-2018" class="level3">
<h3>72: Argument list too long error for rm, cp, mv commands (score <a href="https://stackoverflow.com/q/11289551.html">523283</a> in 2018)</h3>
<section id="question-71" class="level4">
<h4>Question</h4>
<p>I have several hundred PDFs under a directory in UNIX. The names of the PDFs are really long (approx. 60 chars).</p>
<p>When I try to delete all PDFs together using the following command:</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb443-1" title="1"><span class="fu">rm</span> -f *.pdf</a></code></pre></div>
<p>I get the following error:</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb444-1" title="1"><span class="ex">/bin</span>/rm: <span class="ex">cannot</span> execute [Argument list too long]</a></code></pre></div>
<p>
What is the solution to this error? Does this error occur for <code>mv</code> and <code>cp</code> commands as well? If yes, how to solve for these commands?
</p>
</section>
<section id="answer-accepted-score-794" class="level4">
<h4>Answer accepted (score 794)</h4>
<p>The reason this occurs is because bash actually expands the asterisk to every matching file, producing a very long command line.</p>
<p>Try this:</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb445-1" title="1"><span class="fu">find</span> . -name <span class="st">&quot;*.pdf&quot;</span> -print0 <span class="kw">|</span> <span class="fu">xargs</span> -0 rm</a></code></pre></div>
<p><strong>Warning:</strong> this is a recursive search and will find (and delete) files in subdirectories as well. Tack on <code>-f</code> to the rm command only if you are sure you don’t want confirmation.</p>
<p>You can do the following to make the command non-recursive:</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb446-1" title="1"><span class="fu">find</span> . -maxdepth 1 -name <span class="st">&quot;*.pdf&quot;</span> -print0 <span class="kw">|</span> <span class="fu">xargs</span> -0 rm</a></code></pre></div>
<p>Another option is to use find’s <code>-delete</code> flag:</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb447-1" title="1"><span class="fu">find</span> . -name <span class="st">&quot;*.pdf&quot;</span> -delete</a></code></pre></div>
</section>
<section id="answer-2-score-352" class="level4">
<h4>Answer 2 (score 352)</h4>
<h5>
tl;dr
</h2>
<p>It’s a kernel limitation on the size of the command line argument. Use a <code>for</code> loop instead.</p>
<h5>
Origin of problem
</h2>
<p>This is a system issue, related to <code>execve</code> and <code>ARG_MAX</code> constant. There is plenty of documentation about that (see <a href="http://linux.die.net/man/2/execve" rel="noreferrer">man execve</a>, <a href="https://wiki.debian.org/CommonErrorMessages/ArgumentListTooLong" rel="noreferrer">debian’s wiki</a>).</p>
<p>
Basically, the expansion produce a <em>command</em> (with its parameters) that exceeds the <code>ARG_MAX</code> limit. On kernel <code>2.6.23</code>, the limit was set at <code>128 kB</code>. This constant has been increased and you can get its value by executing:
</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb448-1" title="1"><span class="ex">getconf</span> ARG_MAX</a>
<a class="sourceLine" id="cb448-2" title="2"><span class="co"># 2097152 # on 3.5.0-40-generic</span></a></code></pre></div>
<h5>
Solution: Using <code>for</code> Loop
</h2>
<p>Use a <code>for</code> loop as it’s recommended on <a href="http://mywiki.wooledge.org/BashFAQ/095" rel="noreferrer">BashFAQ/095</a> and there is no limit except for RAM/memory space:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb449-1" title="1"><span class="kw">for</span> <span class="ex">f</span> in *.pdf<span class="kw">;</span> <span class="kw">do</span> <span class="fu">rm</span> <span class="st">&quot;</span><span class="va">$f</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span></a></code></pre></div>
<p>Also this is a portable approach as glob have strong and consistant behavior among shells (<a href="http://man7.org/linux/man-pages/man7/glob.7.html" rel="noreferrer">part of POSIX spec</a>).</p>
<p><strong>Note:</strong> As noted by several comments, this is indeed slower but more maintainable as it can adapt more complex scenarios, <em>e.g.</em> where one want to do more than just one action.</p>
<h5>
Solution: Using <code>find</code>
</h2>
<p>If you insist, you can use <code>find</code> but really <strong>don’t use xargs</strong> as it <em>“is dangerous (broken, exploitable, etc.) when reading non-NUL-delimited input”</em>:</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb450-1" title="1"><span class="fu">find</span> . -maxdepth 1 -name <span class="st">&#39;*.pdf&#39;</span> -delete </a></code></pre></div>
<p>Using <code>-maxdepth 1 ... -delete</code> instead of <code>-exec rm {} +</code> allows <code>find</code> to simply execute the required system calls itself without using an external process, hence faster (thanks to <a href="https://stackoverflow.com/questions/11289551/argument-list-too-long-error-for-rm-cp-mv-commands/18647755?noredirect=1#comment69166385_11302033"><span class="citation" data-cites="chepner">@chepner</span> comment</a>).</p>
<h5>
References
</h2>
<ul>
<li>
<a href="http://mywiki.wooledge.org/BashFAQ/095" rel="noreferrer">I’m getting “Argument list too long”. How can I process a large list in chunks?</a> @ wooledge
</li>
<li>
<a href="http://linux.die.net/man/2/execve" rel="noreferrer">execve(2) - Linux man page</a> (search for ARG_MAX) ;
</li>
<li>
<a href="https://wiki.debian.org/CommonErrorMessages/ArgumentListTooLong" rel="noreferrer">Error: Argument list too long</a> @ Debian’s wiki ;
</li>
<li>
<a href="https://superuser.com/questions/240183/how-to-work-around-shell-limitation-of-argument-list-too-long%29">Why do I get “/bin/sh: Argument list too long” when passing quoted arguments?</a> @ SuperUser
</li>
</ul>
</section>
<section id="answer-3-score-176" class="level4">
<h4>Answer 3 (score 176)</h4>
<p><code>find</code> has a <code>-delete</code> action:</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb451-1" title="1"><span class="fu">find</span> . -maxdepth 1 -name <span class="st">&#39;*.pdf&#39;</span> -delete</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-set-proxy-for-wget-score-523259-in-2019" class="level3">
<h3>73: How to set proxy for wget? (score <a href="https://stackoverflow.com/q/11211705.html">523259</a> in 2019)</h3>
<section id="question-72" class="level4">
<h4>Question</h4>
<p>I want to download something with <code>wget</code> using a proxy:</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb452-1" title="1"><span class="ex">HTTP</span> Proxy: 127.0.0.1</a>
<a class="sourceLine" id="cb452-2" title="2"><span class="ex">Port</span>: 8080</a></code></pre></div>
<p>The proxy does not need username and password.</p>
<p>How can I do this?</p>
</section>
<section id="answer-2-score-382" class="level4">
<h4>Answer 2 (score 382)</h4>
<p>For all users of the system via the <code>/etc/wgetrc</code> or for the user only with the <code>~/.wgetrc</code> file:</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb453-1" title="1"><span class="va">use_proxy=</span>yes</a>
<a class="sourceLine" id="cb453-2" title="2"><span class="va">http_proxy=</span>127.0.0.1:8080</a>
<a class="sourceLine" id="cb453-3" title="3"><span class="va">https_proxy=</span>127.0.0.1:8080</a></code></pre></div>
<p>or via <code>-e</code> options placed after the URL:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb454-1" title="1"><span class="fu">wget</span> ... -e use_proxy=yes -e http_proxy=127.0.0.1:8080 ...</a></code></pre></div>
</section>
<section id="answer-3-score-76" class="level4">
<h4>Answer 3 (score 76)</h4>
<p>Type in command line :</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb455-1" title="1">$ <span class="bu">export</span> <span class="va">http_proxy=</span>http://proxy_host:proxy_port</a></code></pre></div>
<p>for authenticated proxy,</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb456-1" title="1">$ <span class="bu">export</span> <span class="va">http_proxy=</span>http://username:password@<span class="va">proxy_host</span>:<span class="va">proxy_port</span></a></code></pre></div>
<p>and then run</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb457-1" title="1">$ <span class="fu">wget</span> fileurl</a></code></pre></div>
<p>for https, just use https_proxy instead of http_proxy. You could also put these lines in your ~/.bashrc file so that you don’t need to execute this everytime.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="convert-dos-line-endings-to-linux-line-endings-in-vim-score-517407-in-2016" class="level3">
<h3>74: Convert DOS line endings to Linux line endings in vim (score <a href="https://stackoverflow.com/q/82726.html">517407</a> in 2016)</h3>
<section id="question-73" class="level4">
<h4>Question</h4>
<p>
If I open files I created in Windows, the lines all end with <code>^M</code>.<br> How do I delete these characters all at once?
</p>
</section>
<section id="answer-accepted-score-1029" class="level4">
<h4>Answer accepted (score 1029)</h4>
<p><a href="https://sourceforge.net/projects/dos2unix" rel="noreferrer">dos2unix</a> is a commandline utility that will do this, or <code>:%s/^M//g</code> will if you use <kbd>Ctrl</kbd>-<kbd>v</kbd> <kbd>Ctrl</kbd>-<kbd>m</kbd> to input the ^M, or you can <code>:set ff=unix</code> and vim will do it for you.</p>
<p>Docs on the ‘fileformat’ setting are <a href="http://www.vim.org/htmldoc/options.html#%27fileformat%27" rel="noreferrer">here</a>, and the vim wiki has a comprehensive <a href="http://vim.wikia.com/wiki/Change_end-of-line_format_for_dos-mac-unix" rel="noreferrer">page on line ending conversions</a>.</p>
<p>Alternately, if you move files back and forth a lot, you might not want to convert them, but rather to do <code>:set ff=dos</code>, so vim will know it’s a DOS file and use DOS conventions for line endings.</p>
</section>
<section id="answer-2-score-261" class="level4">
<h4>Answer 2 (score 261)</h4>
<p>Change the line endings in the view:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb458-1" title="1">:<span class="ex">e</span> ++ff=dos</a>
<a class="sourceLine" id="cb458-2" title="2">:<span class="ex">e</span> ++ff=mac</a>
<a class="sourceLine" id="cb458-3" title="3">:<span class="ex">e</span> ++ff=unix</a></code></pre></div>
<p>This can also be used as saving operation (:w alone will not save using the line endings you see on screen):</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb459-1" title="1">:<span class="ex">w</span> ++ff=dos</a>
<a class="sourceLine" id="cb459-2" title="2">:<span class="ex">w</span> ++ff=mac</a>
<a class="sourceLine" id="cb459-3" title="3">:<span class="ex">w</span> ++ff=unix</a></code></pre></div>
<p>And you can use it from the command-line:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb460-1" title="1"><span class="kw">for</span> <span class="fu">file</span> in *.cpp</a>
<a class="sourceLine" id="cb460-2" title="2"><span class="kw">do</span> </a>
<a class="sourceLine" id="cb460-3" title="3">    <span class="ex">vi</span> +<span class="st">&#39;:w ++ff=unix&#39;</span> +<span class="st">&#39;:q&#39;</span> <span class="st">&quot;</span><span class="va">$file</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb460-4" title="4"><span class="kw">done</span></a></code></pre></div>
</section>
<section id="answer-3-score-155" class="level4">
<h4>Answer 3 (score 155)</h4>
<p>I typically use</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb461-1" title="1">:<span class="ex">%s</span>/\<span class="ex">r</span>/\<span class="ex">r/g</span></a></code></pre></div>
<p>which seems a little odd, but works because of the way that vim matches linefeeds. I also find it easier to remember :)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-log-in-to-mysql-and-query-the-database-from-linux-terminal-score-516111-in-2011" class="level3">
<h3>75: how to log in to mysql and query the database from linux terminal (score <a href="https://stackoverflow.com/q/6200215.html">516111</a> in 2011)</h3>
<section id="question-74" class="level4">
<h4>Question</h4>
<p>
I am using debian linux. I have a linux machine on which mysql is install. I can log in to my linux machine using root user as well as other user. I can connect to mysql database on linux machine from windows machine using sqlyog. Now I want to execute queries on linux machine only using linux terminal
</p>
<p>I tried some following things on terminal</p>
<p>I went to root directory then I went to /var/lib directory</p>
<p>I run following commands on terminal</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb462-1" title="1"><span class="ex">mysqladmin</span> -u root -p</a>
<a class="sourceLine" id="cb462-2" title="2"><span class="ex">mysqladmin</span> -u root -ppassword</a></code></pre></div>
<p>everytime I have get following error message</p>
<blockquote>
<p>
ERROR 1045 (28000) Access denied for user ‘root’@‘localhost’ (Using password NO)
</p>
</blockquote>
<p>please guide me for following</p>
<ol>
<li>
How do I get mysql prompt in linux terminal?
</li>
<li>
How I stop the mysql server from linux terminal?
</li>
<li>
How I start the mysql server from linux terminal?
</li>
<li>
How do I get mysql prompt in linux terminal?
</li>
<li>
How do I login to mysql server from linux terminal?
</li>
<li>
How do I solve following error?
</li>
</ol>
<blockquote>
<p>
ERROR 1045 (28000) Access denied for user ‘root’@‘localhost’ (Using password NO)
</p>
</blockquote>
<p>
Please give me solutions for above question. Thank You
</p>
</section>
<section id="answer-accepted-score-170" class="level4">
<h4>Answer accepted (score 170)</h4>
<p><strong>1.- How do I get mysql prompt in linux terminal?</strong></p>
<div class="sourceCode" id="cb463"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb463-1" title="1"><span class="ex">mysql</span> -u root -p</a></code></pre></div>
<p>At the <code>Enter password:</code> prompt, well, enter root’s password :)</p>
<p>You can find further reference by typing <code>mysql --help</code> or at the <a href="http://dev.mysql.com/doc/refman/5.5/en/programs-client.html" rel="noreferrer">online manual</a>.</p>
<p><strong>2. How I stop the mysql server from linux terminal?</strong></p>
<p>It depends. Red Hat based distros have the <code>service</code> command:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb464-1" title="1"><span class="ex">service</span> mysqld stop</a></code></pre></div>
<p>Other distros require to call the init script directly:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb465-1" title="1"><span class="ex">/etc/init.d/mysqld</span> stop</a></code></pre></div>
<p><strong>3. How I start the mysql server from linux terminal?</strong></p>
<p>Same as #2, but with <code>start</code>.</p>
<p><strong>4. How do I get mysql prompt in linux terminal?</strong></p>
<p>Same as #1.</p>
<p><strong>5. How do I login to mysql server from linux terminal?</strong></p>
<p>Same as #1.</p>
<p><strong>6. How do I solve following error?</strong></p>
<p>Same as #1.</p>
</section>
<section id="answer-2-score-9" class="level4">
<h4>Answer 2 (score 9)</h4>
<p>To your first question:</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb466-1" title="1"><span class="ex">mysql</span> -u root -p</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb467-1" title="1"><span class="ex">mysqladmin</span> -u root -p <span class="st">&quot;your_command&quot;</span></a></code></pre></div>
<p>depending on what you want to do. The password will be asked of you once you hit enter! I’m guessing you really want to use <strong>mysql</strong> and not <strong>mysqladmin</strong>.</p>
<p>For restarting or stopping the MySQL-server on linux, it depends on your installation, but in the common debian derivatives this will work for starting, stopping and restarting the service:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb468-1" title="1"><span class="fu">sudo</span> /etc/init.d/mysql start</a>
<a class="sourceLine" id="cb468-2" title="2"><span class="fu">sudo</span> /etc/init.d/mysql stop</a>
<a class="sourceLine" id="cb468-3" title="3"><span class="fu">sudo</span> /etc/init.d/mysql restart</a>
<a class="sourceLine" id="cb468-4" title="4"><span class="fu">sudo</span> /etc/init.d/mysql status</a></code></pre></div>
<p>In some newer distros this might work as well if MySQL is set up as a deamon/service.</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb469-1" title="1"><span class="fu">sudo</span> service mysql start</a>
<a class="sourceLine" id="cb469-2" title="2"><span class="fu">sudo</span> service mysql stop</a>
<a class="sourceLine" id="cb469-3" title="3"><span class="fu">sudo</span> service mysql restart</a>
<a class="sourceLine" id="cb469-4" title="4"><span class="fu">sudo</span> service mysql status</a></code></pre></div>
<p>But the question is really impossible to answer without knowing your particular setup.</p>
</section>
<section id="answer-3-score-5-1" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>At the command prompt try:</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb470-1" title="1"><span class="ex">mysql</span> -u root -p</a></code></pre></div>
<p>give the password when prompted.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-determine-whether-a-given-linux-is-32-bit-or-64-bit-score-510809-in-2011" class="level3">
<h3>76: How to determine whether a given Linux is 32 bit or 64 bit? (score <a href="https://stackoverflow.com/q/246007.html">510809</a> in 2011)</h3>
<section id="question-75" class="level4">
<h4>Question</h4>
<p>When I type <code>uname -a</code>, it gives the following output.</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb471-1" title="1"><span class="ex">Linux</span> mars 2.6.9-67.0.15.ELsmp <span class="co">#1 SMP Tue Apr 22 13:50:33 EDT 2008 i686 i686 i386 GNU/Linux</span></a></code></pre></div>
<p>How can I know from this that the given OS is 32 or 64 bit?</p>
<p>This is useful when writing <code>configure</code> scripts, for example: what architecture am I building for?</p>
</section>
<section id="answer-accepted-score-732" class="level4">
<h4>Answer accepted (score 732)</h4>
<p>Try <a href="http://linuxmanpages.net/manpages/fedora16/man1/uname.1.html" rel="noreferrer"><code>uname -m</code></a>. Which is short of <code>uname --machine</code> and it outputs:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb472-1" title="1"><span class="ex">x86_64</span> ==<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">64-bit</span> kernel</a>
<a class="sourceLine" id="cb472-2" title="2"><span class="ex">i686</span>   ==<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">32-bit</span> kernel</a></code></pre></div>
<hr>
<p>Otherwise, <strong>not for the Linux kernel, but for the CPU</strong>, you type:</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb473-1" title="1"><span class="fu">cat</span> /proc/cpuinfo</a></code></pre></div>
<p>or:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb474-1" title="1"><span class="fu">grep</span> flags /proc/cpuinfo</a></code></pre></div>
<p>
Under “flags” parameter, you will see various values: see “<a href="https://unix.stackexchange.com/a/43540">What do the flags in /proc/cpuinfo mean?</a>” Among them, one is named <code>lm</code>: <code>Long Mode</code> (<a href="http://en.wikipedia.org/wiki/X86-64" rel="noreferrer">x86-64</a>: amd64, also known as Intel 64, i.e. 64-bit capable)
</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb475-1" title="1"><span class="ex">lm</span> ==<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">64-bit</span> processor</a></code></pre></div>
<p>Or <a href="http://linux.die.net/man/1/lshw" rel="noreferrer">using <code>lshw</code></a> (as mentioned <a href="https://stackoverflow.com/a/32717681/6309">below</a> by <a href="https://stackoverflow.com/users/4637585/rolf-of-saxony">Rolf of Saxony</a>), without <code>sudo</code> (just for grepping the cpu width):</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb476-1" title="1"><span class="ex">lshw</span> -class cpu<span class="kw">|</span><span class="fu">grep</span> <span class="st">&quot;^       width&quot;</span><span class="kw">|</span><span class="fu">uniq</span><span class="kw">|</span><span class="fu">awk</span> <span class="st">&#39;{print $2}&#39;</span></a></code></pre></div>
<p>
<strong>Note: you can have a 64-bit CPU with a 32-bit kernel installed</strong>.<br> (as <a href="https://stackoverflow.com/users/637866/ysdx">ysdx</a> mentions in <a href="https://stackoverflow.com/a/32665383/6309">his/her own answer</a>, “Nowadays, a system can be <strong><a href="https://wiki.debian.org/Multiarch" rel="noreferrer">multiarch</a></strong> so it does not make sense anyway. You might want to find the default target of the compiler”)
</p>
</section>
<section id="answer-2-score-154" class="level4">
<h4>Answer 2 (score 154)</h4>
<p>If you were running a 64 bit platform you would see x86_64 or something very similar in the output from <a href="http://manpages.ubuntu.com/manpages/intrepid/man1/uname.html" rel="noreferrer" title="uname">uname</a> -a</p>
<p>To get your specific machine hardware name run</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb477-1" title="1"><span class="fu">uname</span> -m</a></code></pre></div>
<p>You can also call</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb478-1" title="1"><span class="ex">getconf</span> LONG_BIT</a></code></pre></div>
<p>which returns either 32 or 64</p>
</section>
<section id="answer-3-score-42-2" class="level4">
<h4>Answer 3 (score 42)</h4>
<p><a href="http://linuxmanpages.net/manpages/fedora16/man1/lscpu.1.html" rel="noreferrer"><code>lscpu</code></a> will list out these among other information regarding your CPU:</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb479-1" title="1"><span class="ex">Architecture</span>:          x86_64</a>
<a class="sourceLine" id="cb479-2" title="2"><span class="ex">CPU</span> op-mode(s)<span class="bu">:</span>        32-bit, 64-bit</a>
<a class="sourceLine" id="cb479-3" title="3"><span class="ex">...</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-connect-to-a-terminal-to-a-serial-to-usb-device-on-ubuntu-10.10-maverick-meerkat-score-507010-in-2018" class="level3">
<h3>77: How do I connect to a terminal to a serial-to-USB device on Ubuntu 10.10 (Maverick Meerkat)? (score <a href="https://stackoverflow.com/q/5347962.html">507010</a> in 2018)</h3>
<section id="question-76" class="level4">
<h4>Question</h4>
<p>I am trying to connect minicom to a serial device that is connected via a USB-to-serial adapter. This is a PL2303 and from everything I’ve read no additional drivers are required. The device is recognised as a PL2303.</p>
<p>I’m a beginner at minicom. Is this the correct command to execute? Or do I need to configure something?</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb480-1" title="1">$ <span class="fu">sudo</span> minicom --device /dev/ttyUSB0</a>
<a class="sourceLine" id="cb480-2" title="2"><span class="ex">minicom</span>: cannot open /dev/ttyUSB0: No such file or directory</a>
<a class="sourceLine" id="cb480-3" title="3"></a>
<a class="sourceLine" id="cb480-4" title="4">$ <span class="fu">sudo</span> lsusb -v</a>
<a class="sourceLine" id="cb480-5" title="5"></a>
<a class="sourceLine" id="cb480-6" title="6"><span class="ex">Bus</span> 002 Device 006: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port</a>
<a class="sourceLine" id="cb480-7" title="7"><span class="ex">Device</span> Descriptor:</a>
<a class="sourceLine" id="cb480-8" title="8">  <span class="ex">bLength</span>                18</a>
<a class="sourceLine" id="cb480-9" title="9">  <span class="ex">bDescriptorType</span>         1</a>
<a class="sourceLine" id="cb480-10" title="10"></a>
<a class="sourceLine" id="cb480-11" title="11">$ <span class="fu">tail</span> /var/log/syslog  <span class="co">#then removed and attached the device.</span></a>
<a class="sourceLine" id="cb480-12" title="12"><span class="ex">Mar</span> 13 23:31:49 ubuntu kernel: [807996.786805] usb 2-1: pl2303 converter now attached to ttyUSB0</a>
<a class="sourceLine" id="cb480-13" title="13"><span class="ex">Mar</span> 13 23:34:44 ubuntu kernel: [808172.155129] usb 2-1: USB disconnect, address 7</a>
<a class="sourceLine" id="cb480-14" title="14"><span class="ex">Mar</span> 13 23:34:44 ubuntu kernel: [808172.156321] pl2303 ttyUSB0: pl2303 converter now disconnected from ttyUSB0</a>
<a class="sourceLine" id="cb480-15" title="15"><span class="ex">Mar</span> 13 23:34:44 ubuntu kernel: [808172.156374] pl2303 2-1:1.0: device disconnected</a>
<a class="sourceLine" id="cb480-16" title="16"><span class="ex">Mar</span> 13 23:34:52 ubuntu kernel: [808179.497856] usb 2-1: new full speed USB device using uhci_hcd and address 8</a>
<a class="sourceLine" id="cb480-17" title="17"><span class="ex">Mar</span> 13 23:34:52 ubuntu kernel: [808179.785845] pl2303 2-1:1.0: pl2303 converter detected</a>
<a class="sourceLine" id="cb480-18" title="18"><span class="ex">Mar</span> 13 23:34:52 ubuntu kernel: [808179.872309] usb 2-1: pl2303 converter now attached to ttyUSB0</a></code></pre></div>
</section>
<section id="answer-accepted-score-78" class="level4">
<h4>Answer accepted (score 78)</h4>
<p>
First check with <code>dmesg | grep tty</code> if system recognize your adapter. Then try to run minicom with <code>sudo minicom -s</code>, go to “Serial port setup” and change the first line to <code>/dev/ttyUSB0</code>.
</p>
<p>Don’t forget to save config as default with “Save setup as dfl”. It works for me on Ubuntu 11.04 on VirtualBox.</p>
</section>
<section id="answer-2-score-16" class="level4">
<h4>Answer 2 (score 16)</h4>
<p>
You will need to set the permissions every time you plug the converter in. I use <a href="http://en.wikipedia.org/wiki/PuTTY" rel="nofollow noreferrer">PuTTY</a> to connect. In order to do so, I have created a little Bash script to sort out the permissions and launch PuTTY:
</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb481-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb481-2" title="2"><span class="fu">sudo</span> chmod 666 /dev/ttyUSB0</a>
<a class="sourceLine" id="cb481-3" title="3"></a>
<a class="sourceLine" id="cb481-4" title="4"><span class="ex">putty</span></a></code></pre></div>
<p>P.S. I would never recommend that permissions are set to 777.</p>
</section>
<section id="answer-3-score-6" class="level4">
<h4>Answer 3 (score 6)</h4>
<p>The serial port communication programs <code>moserial</code> or <code>gtkterm</code> provide an easy way to check connectivity and modify <code>/dev/ttyUSB0</code> (or <code>/dev/ttyUSB1</code>!) settings. Even though there maybe only a single USB to RS232 adapter, the <code>n</code> designation <code>/dev/ttyUSBn</code> can and does change periodically! Both <code>moserial</code> and <code>gtkterm</code> will show what port designation is relevant in their respective pull down menus when selecting an appropriate <code>port</code> to use.</p>
<p>Check out <a href="https://help.ubuntu.com/community/Minicom" rel="noreferrer">help.ubuntu.com/community/Minicom</a> for details on <code>minicom</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="changing-default-shell-in-linux-score-504666-in-2019" class="level3">
<h3>78: Changing default shell in Linux (score <a href="https://stackoverflow.com/q/13046192.html">504666</a> in 2019)</h3>
<section id="question-77" class="level4">
<h4>Question</h4>
<p>How is it possible to change the default shell? The <code>env</code> command currently says:</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb482-1" title="1"><span class="va">SHELL=</span>/bin/tcsh</a></code></pre></div>
<p>and I want to change that to Bash.</p>
</section>
<section id="answer-accepted-score-391" class="level4">
<h4>Answer accepted (score 391)</h4>
<p>Try linux command <code>chsh</code>.</p>
<p>
The detailed command is <code>chsh -s /bin/bash</code>. It will prompt you to enter your password. Your default login shell is <code>/bin/bash</code> now. <strong>You must log out and log back in to see this change.</strong>
</p>
<p>The following is quoted from man page:</p>
<blockquote>
<p>
The chsh command changes the user login shell. This determines the name of the users initial login command. A normal user may only change the login shell for her own account, the superuser may change the login shell for any account
</p>
</blockquote>
<p>This command will change the default login shell permanently.</p>
<p>Note: If your user account is remote such as on Kerberos authentication (e.g. Enterprise RHEL) then you will not be able to use <code>chsh</code>.</p>
</section>
<section id="answer-2-score-142" class="level4">
<h4>Answer 2 (score 142)</h4>
<p>You can change the passwd file directly for the particular user or use the below command</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb483-1" title="1"><span class="fu">chsh</span> -s /usr/local/bin/bash username</a></code></pre></div>
<p><strong>Then log out and log in</strong></p>
</section>
<section id="answer-3-score-16" class="level4">
<h4>Answer 3 (score 16)</h4>
<p>You should have a ‘skeleton’ somewhere in <code>/etc</code>, probably <code>/etc/skeleton</code>, or check the default settings, probably <code>/etc/default</code> or something. Those are scripts that define standard environment variables getting set during a login.</p>
<p>If it is just for your own account: check the (hidden) file <code>~/.profile</code> and <code>~/.login</code>. Or generate them, if they don’t exist. These are also evaluated by the login process.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="chmod-recursively-score-502035-in-2017" class="level3">
<h3>79: Chmod recursively (score <a href="https://stackoverflow.com/q/13377606.html">502035</a> in 2017)</h3>
<section id="question-78" class="level4">
<h4>Question</h4>
<p>I have an archive, which is archived by someone else, and I want to automatically, after I download it, to change a branch of the file system within the extracted files to gain read access. (I can’t change how archive is created).</p>
<p>I’ve looked into this thread: <a href="https://stackoverflow.com/questions/6937885/chmod-how-to-recursively-add-execute-permissions-only-to-files-which-already-ha">chmod: How to recursively add execute permissions only to files which already have execute permission</a> as into some others, but no joy.</p>
<p>The directories originally come with multiple but all wrong flags, they may appear as:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb484-1" title="1"><span class="ex">drwx------</span></a>
<a class="sourceLine" id="cb484-2" title="2"><span class="ex">d---r-x---</span></a>
<a class="sourceLine" id="cb484-3" title="3"><span class="ex">drwxrwxr-x</span></a>
<a class="sourceLine" id="cb484-4" title="4"><span class="ex">dr--r-xr--</span></a></code></pre></div>
<p>Those are just the few I’ve discovered so far, but could be more.</p>
<p><code>find</code> errors when tries to look into a directory with no <code>x</code> permission, and so doesn’t pass it to <code>chmod</code>. What I’ve been doing so far, is manually change permissions on the parent directory, then go into the child directories and do the same for them and so on. But this is a lot of hand labour. Isn’t there some way to do this automatically?</p>
<p>I.e. how I am doing it now:</p>
<p>do:</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb485-1" title="1">$ <span class="fu">chmod</span> -R +x</a>
<a class="sourceLine" id="cb485-2" title="2">$ <span class="fu">chmod</span> -R +r</a></code></pre></div>
<p>until I get no errors, then</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb486-1" title="1">$ <span class="fu">find</span> -type f -exec chmod -x {} <span class="ex">+</span></a></code></pre></div>
<p>But there must be a better way.</p>
</section>
<section id="answer-accepted-score-124" class="level4">
<h4>Answer accepted (score 124)</h4>
<p>You need read access, in addition to execute access, to list a directory. If you only have execute access, then you can find out the names of entries in the directory, but no other information (not even types, so you don’t know which of the entries are subdirectories). This works for me:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb487-1" title="1"><span class="fu">find</span> . -type d -exec chmod +rx {} <span class="dt">\;</span></a></code></pre></div>
</section>
<section id="answer-2-score-166" class="level4">
<h4>Answer 2 (score 166)</h4>
<p>You can use chmod with the <code>X</code> mode letter (the capital X) to set the executable flag only for directories.</p>
<p>In the example below the executable flag is cleared and then set for all directories recursively:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb488-1" title="1"><span class="ex">~</span>$ <span class="fu">mkdir</span> foo</a>
<a class="sourceLine" id="cb488-2" title="2"><span class="ex">~</span>$ <span class="fu">mkdir</span> foo/bar</a>
<a class="sourceLine" id="cb488-3" title="3"><span class="ex">~</span>$ <span class="fu">mkdir</span> foo/baz</a>
<a class="sourceLine" id="cb488-4" title="4"><span class="ex">~</span>$ <span class="fu">touch</span> foo/x</a>
<a class="sourceLine" id="cb488-5" title="5"><span class="ex">~</span>$ <span class="fu">touch</span> foo/y</a>
<a class="sourceLine" id="cb488-6" title="6"></a>
<a class="sourceLine" id="cb488-7" title="7"><span class="ex">~</span>$ <span class="fu">chmod</span> -R go-X foo </a>
<a class="sourceLine" id="cb488-8" title="8"><span class="ex">~</span>$ <span class="fu">ls</span> -l foo</a>
<a class="sourceLine" id="cb488-9" title="9"><span class="ex">total</span> 8</a>
<a class="sourceLine" id="cb488-10" title="10"><span class="ex">drwxrw-r--</span> 2 wq wq 4096 Nov 14 15:31 bar</a>
<a class="sourceLine" id="cb488-11" title="11"><span class="ex">drwxrw-r--</span> 2 wq wq 4096 Nov 14 15:31 baz</a>
<a class="sourceLine" id="cb488-12" title="12"><span class="ex">-rw-rw-r--</span> 1 wq wq    0 Nov 14 15:31 x</a>
<a class="sourceLine" id="cb488-13" title="13"><span class="ex">-rw-rw-r--</span> 1 wq wq    0 Nov 14 15:31 y</a>
<a class="sourceLine" id="cb488-14" title="14"></a>
<a class="sourceLine" id="cb488-15" title="15"><span class="ex">~</span>$ <span class="fu">chmod</span> -R go+X foo </a>
<a class="sourceLine" id="cb488-16" title="16"><span class="ex">~</span>$ <span class="fu">ls</span> -l foo</a>
<a class="sourceLine" id="cb488-17" title="17"><span class="ex">total</span> 8</a>
<a class="sourceLine" id="cb488-18" title="18"><span class="ex">drwxrwxr-x</span> 2 wq wq 4096 Nov 14 15:31 bar</a>
<a class="sourceLine" id="cb488-19" title="19"><span class="ex">drwxrwxr-x</span> 2 wq wq 4096 Nov 14 15:31 baz</a>
<a class="sourceLine" id="cb488-20" title="20"><span class="ex">-rw-rw-r--</span> 1 wq wq    0 Nov 14 15:31 x</a>
<a class="sourceLine" id="cb488-21" title="21"><span class="ex">-rw-rw-r--</span> 1 wq wq    0 Nov 14 15:31 y</a></code></pre></div>
<p>A bit of explaination:</p>
<ul>
<li>
<code>chmod -x foo</code> - clear the <em>eXecutable</em> flag for <code>foo</code>
</li>
<li>
<code>chmod +x foo</code> - set the <em>eXecutable</em> flag for <code>foo</code>
</li>
<li>
<code>chmod go+x foo</code> - same as above, but set the flag only for <em>Group</em> and <em>Other</em> users, don’t touch the <em>User</em> (owner) permission
</li>
<li>
<code>chmod go+X foo</code> - same as above, but apply only to directories, don’t touch files
</li>
<li>
<code>chmod -R go+X foo</code> - same as above, but do this <em>Recursively</em> for all subdirectories of <code>foo</code>
</li>
</ul>
</section>
<section id="answer-3-score-78" class="level4">
<h4>Answer 3 (score 78)</h4>
<p>Try to change all the persmissions at the same time:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb489-1" title="1"><span class="fu">chmod</span> -R +xr</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="docker-cant-connect-to-docker-daemon-score-499935-in-2017" class="level3">
<h3>80: Docker can’t connect to docker daemon (score <a href="https://stackoverflow.com/q/21871479.html">499935</a> in 2017)</h3>
<section id="question-79" class="level4">
<h4>Question</h4>
<p>After I update my Docker version to <code>0.8.0</code>, I get an error message while entering <code>sudo docker version</code>:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb490-1" title="1"><span class="ex">Client</span> version: 0.8.0</a>
<a class="sourceLine" id="cb490-2" title="2"><span class="ex">Go</span> version (client)<span class="bu">:</span> go1.2</a>
<a class="sourceLine" id="cb490-3" title="3"><span class="ex">Git</span> commit (client)<span class="bu">:</span> cc3a8c8</a>
<a class="sourceLine" id="cb490-4" title="4"><span class="ex">2014/02/19</span> 12:54:16 Can<span class="st">&#39;t connect to docker daemon. Is &#39;</span>docker -d<span class="st">&#39; running on this host?</span></a></code></pre></div>
<p>And I’ve followed the instructions and entered command <code>sudo docker -d</code>, and I got this:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb491-1" title="1">[<span class="ex">/var/lib</span>/<span class="ex">docker</span><span class="kw">|</span><span class="ex">2462000b</span>] +job initserver()</a>
<a class="sourceLine" id="cb491-2" title="2">[<span class="ex">/var/lib</span>/<span class="ex">docker</span><span class="kw">|</span><span class="ex">2462000b.initserver</span>()] <span class="ex">Creating</span> server</a>
<a class="sourceLine" id="cb491-3" title="3"><span class="ex">open</span> /var/lib/docker/aufs/layers/cf2414da53f9bcfaa48bc3d58360d7f1cfd3784e4fe51fbef95197709dfc285d: no such file or directory[/var/lib/docker<span class="kw">|</span><span class="ex">2462000b</span>] -job initserver() = <span class="ex">ERR</span> (1)</a>
<a class="sourceLine" id="cb491-4" title="4"><span class="ex">2014/02/19</span> 12:55:57 initserver: open /var/lib/docker/aufs/layers/cf2414da53f9bcfaa48bc3d58360d7f1cfd3784e4fe51fbef95197709dfc285d: no such file or directory</a></code></pre></div>
<p>How do I solve the problem?</p>
</section>
<section id="answer-2-score-597" class="level4">
<h4>Answer 2 (score 597)</h4>
<h5>
Linux
</h2>
<p>The <a href="https://docs.docker.com/install/linux/linux-postinstall/" rel="noreferrer">Post-installation steps for Linux</a> documentation reveals the following steps:</p>
<ol>
<li>
Create the <strong>docker</strong> group.
<pre>
sudo groupadd docker</pre>
</li>
<li>
Add the user to the <strong>docker</strong> group.
<pre>
sudo usermod -aG docker $(whoami)</pre>
</li>
<li>
Log out and log back in to ensure docker runs with correct permissions.
</li>
<li>
Start docker.
<pre>
sudo service docker start</pre>
</li>
</ol>
<h5>
Mac OS X
</h2>
<p>As <a href="https://stackoverflow.com/users/1978931/dayel-ostraco">Dayel Ostraco</a> says is necessary to add environments variables:</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb492-1" title="1"><span class="ex">docker-machine</span> start <span class="co"># Start virtual machine for docker</span></a>
<a class="sourceLine" id="cb492-2" title="2"><span class="ex">docker-machine</span> env  <span class="co"># It&#39;s helps to get environment variables</span></a>
<a class="sourceLine" id="cb492-3" title="3"><span class="bu">eval</span> <span class="st">&quot;</span><span class="va">$(</span><span class="ex">docker-machine</span> env default<span class="va">)</span><span class="st">&quot;</span> <span class="co"># Set environment variables</span></a></code></pre></div>
<p>The <code>docker-machine start</code> command outputs the comments to guide the process.</p>
</section>
<section id="answer-3-score-141-1" class="level4">
<h4>Answer 3 (score 141)</h4>
<p>If you are running Docker on OS X, running the following eval has worked for me.</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb493-1" title="1"><span class="bu">eval</span> <span class="st">&quot;</span><span class="va">$(</span><span class="ex">docker-machine</span> env default<span class="va">)</span><span class="st">&quot;</span></a></code></pre></div>
<p>If you’d prefer not to have to run this eval statement on every terminal session, you can add this to your <code>bash_profile</code>:</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb494-1" title="1"><span class="co">#Docker</span></a>
<a class="sourceLine" id="cb494-2" title="2"><span class="bu">eval</span> <span class="st">&quot;</span><span class="va">$(</span><span class="ex">docker-machine</span> env default<span class="va">)</span><span class="st">&quot;</span></a></code></pre></div>
<p>Be sure to restart the terminal session or run source on <code>bash_profile</code> for the changes to take effect.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="command-line-tool-to-find-java-heap-size-and-memory-used-linux-score-494555-in" class="level3">
<h3>81: Command-line Tool to find Java Heap Size and Memory Used (Linux)? (score <a href="https://stackoverflow.com/q/12797560.html">494555</a> in )</h3>
<section id="question-80" class="level4">
<h4>Question</h4>
<p>Is there a Command-line Tool (Linux) to check Heap Size (and Used Memory) of a Java Application?</p>
<p>I have tried jmap. But it gives info. about internal memory areas like Eden/PermGen etc., which is not useful to me.</p>
<p>
I am looking for something like:<br> Max Memory: 1GB <br> Min Memory: 256 MB <br> Heap Memory: 700 MB <br> Used Memory: 460 MB
</p>
<p>Thats all. I know i can see this in JConsole etc., but i need a command-line tool (cannot enable JMX etc.)</p>
<p>Any such tool/command?</p>
</section>
<section id="answer-2-score-135" class="level4">
<h4>Answer 2 (score 135)</h4>
<p>Each Java process has a <code>pid</code>, which you first need to find with the <code>jps</code> command.</p>
<p>Once you have the pid, you can use <code>jstat -gc [insert-pid-here]</code> to find statistics of the behavior of the garbage collected heap.</p>
<ul>
<li>
<p>
<code>jstat -gccapacity [insert-pid-here]</code> will present information about memory pool generation and space capabilities.
</p>
</li>
<li>
<p>
<code>jstat -gcutil [insert-pid-here]</code> will present the utilization of each generation as a percentage of its capacity. Useful to get an at a glance view of usage.
</p>
</li>
</ul>
<p>See <a href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html" rel="noreferrer">jstat docs</a> on Oracle’s site.</p>
</section>
<section id="answer-3-score-61" class="level4">
<h4>Answer 3 (score 61)</h4>
<p><a href="https://github.com/patric-r/jvmtop" rel="noreferrer">jvmtop</a> is a command-line tool which provides a live-view at several metrics, including heap.</p>
<h5>
Example output of the VM overview mode:
</h3>
<div class="sourceCode" id="cb495"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb495-1" title="1"> <span class="ex">JvmTop</span> 0.3 alpha (expect bugs)  <span class="ex">amd64</span>  8 cpus, Linux 2.6.32-27, load avg 0.12</a>
<a class="sourceLine" id="cb495-2" title="2"> <span class="ex">http</span>://code.google.com/p/jvmtop</a>
<a class="sourceLine" id="cb495-3" title="3"></a>
<a class="sourceLine" id="cb495-4" title="4">  <span class="ex">PID</span> MAIN-CLASS      HPCUR HPMAX NHCUR NHMAX    CPU     GC    VM USERNAME   <span class="co">#T DL</span></a>
<a class="sourceLine" id="cb495-5" title="5"> <span class="ex">3370</span> rapperSimpleApp  165m  455m  109m  176m  0.12%  0.00% S6U37 web        21</a>
<a class="sourceLine" id="cb495-6" title="6"><span class="ex">11272</span> ver.resin.Resin [ERROR: Could not attach to VM]</a>
<a class="sourceLine" id="cb495-7" title="7"><span class="ex">27338</span> WatchdogManager   11m   28m   23m  130m  0.00%  0.00% S6U37 web        31</a>
<a class="sourceLine" id="cb495-8" title="8"><span class="ex">19187</span> m.jvmtop.JvmTop   20m 3544m   13m  130m  0.93%  0.47% S6U37 web        20</a>
<a class="sourceLine" id="cb495-9" title="9"><span class="ex">16733</span> artup.Bootstrap  159m  455m  166m  304m  0.12%  0.00% S6U37 web        46</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-see-top-processes-sorted-by-actual-memory-usage-score-492906-in-2018" class="level3">
<h3>82: How to see top processes sorted by actual memory usage? (score <a href="https://stackoverflow.com/q/4802481.html">492906</a> in 2018)</h3>
<section id="question-81" class="level4">
<h4>Question</h4>
<p>I have a server with 12G of memory. A fragment of top is shown below:</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb496-1" title="1"><span class="ex">PID</span> USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                                                                                                                                                                      </a>
<a class="sourceLine" id="cb496-2" title="2"><span class="ex">12979</span> frank  20   0  206m  21m  12m S   11  0.2  26667:24 krfb                                                                                                                                                                                                                                                          </a>
<a class="sourceLine" id="cb496-3" title="3"><span class="ex">13</span> root      15  -5     0    0    0 S    1  0.0  36:25.04 ksoftirqd/3                                                                                                                                                                                                                                                   </a>
<a class="sourceLine" id="cb496-4" title="4"><span class="ex">59</span> root      15  -5     0    0    0 S    0  0.0   4:53.00 ata/2                                                                                                                                                                                                                                                         </a>
<a class="sourceLine" id="cb496-5" title="5"><span class="ex">2155</span> root      20   0  662m  37m 8364 S    0  0.3 338:10.25 Xorg                                                                                                                                                                                                                                                          </a>
<a class="sourceLine" id="cb496-6" title="6"><span class="ex">4560</span> frank  20   0  8672 1300  852 R    0  0.0   0:00.03 top                                                                                                                                                                                                                                                           </a>
<a class="sourceLine" id="cb496-7" title="7"><span class="ex">12981</span> frank  20   0  987m  27m  15m S    0  0.2  45:10.82 amarok                                                                                                                                                                                                                                                        </a>
<a class="sourceLine" id="cb496-8" title="8"><span class="ex">24908</span> frank  20   0 16648  708  548 S    0  0.0   2:08.84 wrapper                                                                                                                                                                                                                                                       </a>
<a class="sourceLine" id="cb496-9" title="9"><span class="ex">1</span> root      20   0  8072  608  572 S    0  0.0   0:47.36 init                                                                                                                                                                                                                                                          </a>
<a class="sourceLine" id="cb496-10" title="10"><span class="ex">2</span> root      15  -5     0    0    0 S    0  0.0   0:00.00 kthreadd</a></code></pre></div>
<p>The <code>free -m</code> shows the following:</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb497-1" title="1">             <span class="ex">total</span>       used       free     shared    buffers     cached</a>
<a class="sourceLine" id="cb497-2" title="2"><span class="ex">Mem</span>:         12038      11676        362          0        599       9745</a>
<a class="sourceLine" id="cb497-3" title="3"><span class="ex">-/+</span> buffers/cache:       1331      10706</a>
<a class="sourceLine" id="cb497-4" title="4"><span class="ex">Swap</span>:         2204        257       1946</a></code></pre></div>
<p>If I understand correctly, the system has only 362 MB of available memory. My question is: How can I find out which process is consuming most of the memory?</p>
<p>Just as background info, the system is running <code>64bit OpenSuse 12</code>.</p>
</section>
<section id="answer-accepted-score-274" class="level4">
<h4>Answer accepted (score 274)</h4>
<p>First, repeat this mantra for a little while: “unused memory is wasted memory”. The Linux kernel keeps around <em>huge</em> amounts of file metadata and files that were requested, until something that looks more important pushes that data out. It’s why you can run:</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb498-1" title="1"><span class="fu">find</span> /home -type f -name <span class="st">&#39;*.mp3&#39;</span></a>
<a class="sourceLine" id="cb498-2" title="2"><span class="fu">find</span> /home -type f -name <span class="st">&#39;*.aac&#39;</span></a></code></pre></div>
<p>and have the second <code>find</code> instance run at ridiculous speed.</p>
<p>Linux only leaves a little bit of memory ‘free’ to handle spikes in memory usage without too much effort.</p>
<p>Second, you want to find the processes that are eating all your memory; in <code>top</code> use the <code>M</code> command to sort by memory use. Feel free to ignore the <code>VIRT</code> column, that just tells you how much virtual memory has been allocated, not how much memory the process is using. <code>RES</code> reports how much memory is <em>resident</em>, or currently in ram (as opposed to swapped to disk or never actually allocated in the first place, despite being requested).</p>
<p>But, since <code>RES</code> will count e.g. <code>/lib/libc.so.6</code> memory once for nearly every process, it isn’t exactly an awesome measure of how much memory a process is using. The <code>SHR</code> column reports how much memory is <em>shared</em> with other processes, but there is no guarantee that another process is actually sharing – it could be sharable, just no one else wants to share.</p>
<p>The <a href="http://www.selenic.com/smem/"><code>smem</code></a> tool is designed to help users better gage just how much memory should <em>really</em> be blamed on each individual process. It does some clever work to figure out what is really unique, what is shared, and proportionally tallies the shared memory to the processes sharing it. <code>smem</code> may help you understand where your memory is going better than <code>top</code> will, but <code>top</code> is an excellent first tool.</p>
</section>
<section id="answer-2-score-310" class="level4">
<h4>Answer 2 (score 310)</h4>
<p>use quick tip using top command in linux/unix</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb499-1" title="1">$ <span class="ex">top</span></a></code></pre></div>
<p>and then hit <kbd>Shift</kbd>+<kbd>m</kbd> (i.e. write a capital <code>M</code>).</p>
<p>From <code>man top</code></p>
<div class="sourceCode" id="cb500"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb500-1" title="1"><span class="ex">SORTING</span> of task window</a>
<a class="sourceLine" id="cb500-2" title="2">  <span class="ex">For</span> compatibility, this top supports most of the former top sort keys.</a>
<a class="sourceLine" id="cb500-3" title="3">  <span class="ex">Since</span> this is primarily a service to former top users, these commands do</a>
<a class="sourceLine" id="cb500-4" title="4">  <span class="ex">not</span> appear on any help screen.</a>
<a class="sourceLine" id="cb500-5" title="5">    <span class="bu">command</span>   sorted-field                  supported</a>
<a class="sourceLine" id="cb500-6" title="6">      <span class="ex">A</span>         start time (non-display)      <span class="ex">No</span></a>
<a class="sourceLine" id="cb500-7" title="7">      <span class="ex">M</span>         %MEM                          Yes</a>
<a class="sourceLine" id="cb500-8" title="8">      <span class="ex">N</span>         PID                           Yes</a>
<a class="sourceLine" id="cb500-9" title="9">      <span class="ex">P</span>         %CPU                          Yes</a>
<a class="sourceLine" id="cb500-10" title="10">      <span class="ex">T</span>         TIME+                         Yes</a></code></pre></div>
<p>Or alternatively: hit <kbd>Shift</kbd> + <kbd>f</kbd> , then choose the display to order by memory usage by hitting key <kbd>n</kbd> then press <kbd>Enter</kbd>. You will see active process ordered by memory usage</p>
</section>
<section id="answer-3-score-37" class="level4">
<h4>Answer 3 (score 37)</h4>
<div class="sourceCode" id="cb501"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb501-1" title="1"><span class="fu">ps</span> aux <span class="kw">|</span> <span class="fu">awk</span> <span class="st">&#39;{print $2, $4, $11}&#39;</span> <span class="kw">|</span> <span class="fu">sort</span> -k2rn <span class="kw">|</span> <span class="fu">head</span> -n 10</a></code></pre></div>
<p>(Adding -n numeric flag to sort command.)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-change-the-number-of-open-files-limit-in-linux-score-491550-in-2012" class="level3">
<h3>83: How do I change the number of open files limit in Linux? (score <a href="https://stackoverflow.com/q/34588.html">491550</a> in 2012)</h3>
<section id="question-82" class="level4">
<h4>Question</h4>
<p>When running my application I sometimes get an error about <code>too many files open</code>.</p>
<p>Running <code>ulimit -a</code> reports that the limit is 1024. How do I increase the limit above 1024?</p>
<p>
<strong>Edit</strong> <code>ulimit -n 2048</code> results in a permission error.
</p>
</section>
<section id="answer-accepted-score-148" class="level4">
<h4>Answer accepted (score 148)</h4>
<p>You could always try doing a <code>ulimit -n 2048</code>. This will only reset the limit for your current shell and the number you specify must not exceed the hard limit</p>
<p>Each operating system has a different hard limit setup in a configuration file. For instance, the hard open file limit on Solaris can be set on boot from /etc/system.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb502-1" title="1"><span class="kw">set</span> <span class="ex">rlim_fd_max</span> = 166384</a>
<a class="sourceLine" id="cb502-2" title="2"><span class="kw">set</span> <span class="ex">rlim_fd_cur</span> = 8192</a></code></pre></div>
<p>On OS X, this same data must be set in /etc/sysctl.conf.</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb503-1" title="1"><span class="ex">kern.maxfilesperproc</span>=166384</a>
<a class="sourceLine" id="cb503-2" title="2"><span class="ex">kern.maxfiles</span>=8192</a></code></pre></div>
<p>Under Linux, these settings are often in /etc/security/limits.conf.</p>
<p>There are two kinds of limits:</p>
<ul>
<li>
<strong>soft</strong> limits are simply the currently enforced limits
</li>
<li>
<strong>hard</strong> limits mark the maximum value which cannot be exceeded by setting a soft limit
</li>
</ul>
<p>
Soft limits could be set by any user while hard limits are changeable only by root. Limits are a property of a process. They are inherited when a child process is created so system-wide limits should be set during the system initialization in init scripts and user limits should be set during user login for example by using pam_limits.
</p>
<p>There are often defaults set when the machine boots. So, even though you may reset your ulimit in an individual shell, you may find that it resets back to the previous value on reboot. You may want to grep your boot scripts for the existence ulimit commands if you want to change the default.</p>
</section>
<section id="answer-2-score-97" class="level4">
<h4>Answer 2 (score 97)</h4>
<p>If you are using Linux and you got the permission error, you will need to raise the allowed limit in the <code>/etc/limits.conf</code> or <code>/etc/security/limits.conf</code> file (where the file is located depends on your specific Linux distribution).</p>
<p>For example to allow anyone on the machine to raise their number of open files up to 10000 add the line to the <code>limits.conf</code> file.</p>
<p><code>* hard nofile 10000</code></p>
<p>Then logout and relogin to your system and you should be able to do:</p>
<p><code>ulimit -n 10000</code></p>
<p>without a permission error.</p>
</section>
<section id="answer-3-score-36" class="level4">
<h4>Answer 3 (score 36)</h4>
<ol type="1">
<li>Add the following line to <code>/etc/security/limits.conf</code></li>
</ol>
<div class="sourceCode" id="cb504"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb504-1" title="1"><span class="ex">webuser</span> hard nofile 64000</a></code></pre></div>
<p>then login as webuser</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb505-1" title="1"><span class="fu">su</span> - webuser</a></code></pre></div>
<ol start="2" type="1">
<li>Edit following two files for webuser</li>
</ol>
<p>append <strong>.bashrc and .bash_profile</strong> file by running</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb506-1" title="1"><span class="bu">echo</span> <span class="st">&quot;ulimit -n 64000&quot;</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">.bashrc</span> <span class="kw">;</span> <span class="bu">echo</span> <span class="st">&quot;ulimit -n 64000&quot;</span> <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">.bash_profile</span></a></code></pre></div>
<ol start="3" type="1">
<li>Log out, then log back in and verify that the changes have been made correctly:</li>
</ol>
<div class="sourceCode" id="cb507"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb507-1" title="1">$ <span class="bu">ulimit</span> -a <span class="kw">|</span> <span class="fu">grep</span> open</a>
<a class="sourceLine" id="cb507-2" title="2"><span class="ex">open</span> files                      (-n) <span class="ex">64000</span></a></code></pre></div>
<p>Thats it and them boom, boom boom.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-if-a-particular-service-is-running-on-ubuntu-score-490966-in-2016" class="level3">
<h3>84: Check If a Particular Service Is Running on Ubuntu (score <a href="https://stackoverflow.com/q/18721149.html">490966</a> in 2016)</h3>
<section id="question-83" class="level4">
<h4>Question</h4>
<p>I do not know the service’s name, but would like to stop the service by checking its status. For example, if I want to check if the <a href="http://en.wikipedia.org/wiki/PostgreSQL">PostgreSQL</a> service is running or not, but I don’t know the service’s name, then how could I check its status?</p>
<p>I know the command to check the status if the service name is known.</p>
</section>
<section id="answer-accepted-score-415" class="level4">
<h4>Answer accepted (score 415)</h4>
<p>I don’t have an Ubuntu box, but on <a href="http://en.wikipedia.org/wiki/Red_Hat_Linux">Red Hat Linux</a> you can see all running services by running the following command:</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb508-1" title="1"><span class="ex">service</span> --status-all</a></code></pre></div>
<p>On the list the <code>+</code> indicates the service is running, <code>-</code> indicates service is not running, <code>?</code> indicates the service state cannot be determined.</p>
</section>
<section id="answer-2-score-71" class="level4">
<h4>Answer 2 (score 71)</h4>
<p>For Ubuntu (checked with 12.04)</p>
<p>You can get list of all services and select by color one of them with ‘grep’:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb509-1" title="1"><span class="fu">sudo</span> service --status-all <span class="kw">|</span> <span class="fu">grep</span> postgres</a></code></pre></div>
<p>Or you may use another way if you know correct name of service:</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb510-1" title="1"><span class="fu">sudo</span> service postgresql status</a></code></pre></div>
</section>
<section id="answer-3-score-38-1" class="level4">
<h4>Answer 3 (score 38)</h4>
<p>Maybe what you want is the ps command;</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb511-1" title="1"><span class="fu">ps</span> -ef</a></code></pre></div>
<p>will show you all processes running. Then if you have an idea of what you’re looking for use grep to filter;</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb512-1" title="1"><span class="fu">ps</span> -ef <span class="kw">|</span> <span class="fu">grep</span> postgres</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="apt-get-command-not-found-score-490087-in" class="level3">
<h3>85: apt-get: command not found (score <a href="https://stackoverflow.com/q/32592956.html">490087</a> in )</h3>
<section id="question-84" class="level4">
<h4>Question</h4>
<p>I’m trying to install an apache server on my AWS instance, however, it seems that it doesn’t have the apt package installed.</p>
<p>I googled and all I found was some broken links to this package. I am using Putty on a windows machine if that information helps.</p>
<p>I currently have low to none experience in linux enviroments.</p>
<p>I am running the following version of Linux</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb513-1" title="1"><span class="ex">Linux</span> ip-172-31-37-96 3.14.48-33.39.amzn1.x86_64 <span class="co">#1 SMP Tue Jul 14 23:43:07 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</span></a></code></pre></div>
<p>Can anyone help with that?</p>
</section>
<section id="answer-accepted-score-212" class="level4">
<h4>Answer accepted (score 212)</h4>
<p>If you’re using Amazon Linux it’s CentOS-based, which is RedHat-based. RH-based installs use <code>yum</code> not <code>apt-get</code>. Something like <code>yum search httpd</code> should show you the available Apache packages - you likely want <code>yum install httpd24</code>.</p>
<blockquote>
Note: Amazon Linux 2 has <a href="https://serverfault.com/questions/798427/what-linux-distribution-is-the-amazon-linux-ami-based-on">diverged from CentOS</a> since the writing of this answer, but still uses <code>yum</code>.
</blockquote>
</section>
<section id="answer-2-score-14" class="level4">
<h4>Answer 2 (score 14)</h4>
<p>
Try to install your application by using <code>yum</code> command <code>yum install application_name</code>
</p>
</section>
<section id="answer-3-score-4" class="level4">
<h4>Answer 3 (score 4)</h4>
<p>I faced the same issue regarding <code>apt-get: command not found</code> here are the steps how I resolved it on ubuntu xenial</p>
<ul>
<li>
<p>
Search the appropriate version of <strong>apt</strong> from <a href="http://security.ubuntu.com/ubuntu/pool/main/a/apt/" rel="nofollow noreferrer">here</a> (<code>apt_1.4_amd64.deb</code> for ubuntu xenial)
</p>
</li>
<li>
<p>
Download the apt.deb
</p>
<code>wget http://security.ubuntu.com/ubuntu/pool/main/a/apt/apt_1.4_amd64.deb</code>
</li>
<li>
<p>
Install the apt.deb package
</p>
<code>sudo dpkg -i apt_1.4_amd64.deb</code>
</li>
</ul>
<p>Now we can easily run</p>
<p><code>sudo apt-get install htop</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-unmount-a-busy-device-score-483674-in-2019" class="level3">
<h3>86: How to unmount a busy device (score <a href="https://stackoverflow.com/q/7878707.html">483674</a> in 2019)</h3>
<section id="question-85" class="level4">
<h4>Question</h4>
<p>I’ve got some samba drives that are being accessed by multiple users daily. I already have code to recognize shared drives (from a SQL table) and mount them in a special directory where all users can access them.</p>
<p>I want to know, if I remove a drive from my SQL table (effectively taking it offline) how, or even is, there a way to unmount a busy device? So far I’ve found that any form of <code>umount</code> does not work.</p>
<p>Ignoring the possibility of destroying data - is it possible to unmount a device that is currently being read?</p>
</section>
<section id="answer-accepted-score-387" class="level4">
<h4>Answer accepted (score 387)</h4>
<p>YES!! There is a way to detach a busy device immediately (even if it is busy and cannot be unmounted forcefully). You may cleanup all later:</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb514-1" title="1"><span class="fu">umount</span> -l /PATH/OF/BUSY-DEVICE</a>
<a class="sourceLine" id="cb514-2" title="2"><span class="fu">umount</span> -f /PATH/OF/BUSY-NFS(NETWORK-FILE-SYSTEM)</a></code></pre></div>
<p><strong>NOTE:</strong></p>
<ol>
<li>
These commands can disrupt a running process, cause data loss OR corrupt open files. Programs accessing target DEVICE/NFS files may throw errors OR could not work properly after force unmount.
</li>
<li>
Try to execute these commands when NOT inside mounted Folder/Drive/Device.
</li>
</ol>
</section>
<section id="answer-2-score-89" class="level4">
<h4>Answer 2 (score 89)</h4>
<p>If possible, let’s locate/identify the busy the process, kill the process and then unmount the samba share to minimize damage.</p>
<ul>
<li>
<p>
<code>lsof | grep '&amp;lt;mountpoint of /dev/sda1&amp;gt;'</code> (or whatever the mounted device is)
</p>
</li>
<li>
<p>
<code>pkill target_process</code> (kills busy proc. by name | <code>kill PID</code> | <code>killall target_process</code>)
</p>
</li>
<li>
<p>
<code>umount /dev/sda1</code> (or whatever the mounted device is)
</p>
</li>
</ul>
</section>
<section id="answer-3-score-58" class="level4">
<h4>Answer 3 (score 58)</h4>
<p>Make sure that you aren’t still in the mounted device when you are trying to umount.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="configure-binshm-bad-interpreter-score-480455-in-2010" class="level3">
<h3>87: ./configure : /bin/sh^M : bad interpreter (score <a href="https://stackoverflow.com/q/2920416.html">480455</a> in 2010)</h3>
<section id="question-86" class="level4">
<h4>Question</h4>
<p>I’ve been trying to install lpng142 on my fed 12 system. Seems like a problem to me. I get this error</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb515-1" title="1">[<span class="ex">root@localhost</span> lpng142]# ./configure</a>
<a class="sourceLine" id="cb515-2" title="2"><span class="ex">bash</span>: ./configure: /bin/sh^M: bad interpreter: No such file or directory</a>
<a class="sourceLine" id="cb515-3" title="3">[<span class="ex">root@localhost</span> lpng142]# </a></code></pre></div>
<p>How do I fix this? The <code>/etc/fstab</code> file:</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb516-1" title="1"><span class="co">#</span></a>
<a class="sourceLine" id="cb516-2" title="2"><span class="co"># /etc/fstab</span></a>
<a class="sourceLine" id="cb516-3" title="3"><span class="co"># Created by anaconda on Wed May 26 18:12:05 2010</span></a>
<a class="sourceLine" id="cb516-4" title="4"><span class="co">#</span></a>
<a class="sourceLine" id="cb516-5" title="5"><span class="co"># Accessible filesystems, by reference, are maintained under &#39;/dev/disk&#39;</span></a>
<a class="sourceLine" id="cb516-6" title="6"><span class="co"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span></a>
<a class="sourceLine" id="cb516-7" title="7"><span class="co">#</span></a>
<a class="sourceLine" id="cb516-8" title="8"><span class="ex">/dev/mapper/VolGroup-lv_root</span> /                       ext4    defaults        1 1</a>
<a class="sourceLine" id="cb516-9" title="9"><span class="va">UUID=</span>ce67cf79-22c3-45d4-8374-bd0075617cc8 <span class="ex">/boot</span>                   ext4    </a>
<a class="sourceLine" id="cb516-10" title="10"><span class="ex">defaults</span>        1 2</a>
<a class="sourceLine" id="cb516-11" title="11"><span class="ex">/dev/mapper/VolGroup-lv_swap</span> swap                    swap    defaults        0 0</a>
<a class="sourceLine" id="cb516-12" title="12"><span class="ex">tmpfs</span>                   /dev/shm                tmpfs   defaults        0 0</a>
<a class="sourceLine" id="cb516-13" title="13"><span class="ex">devpts</span>                  /dev/pts                devpts  gid=5,mode=620  0 0</a>
<a class="sourceLine" id="cb516-14" title="14"><span class="ex">sysfs</span>                   /sys                    sysfs   defaults        0 0</a>
<a class="sourceLine" id="cb516-15" title="15"><span class="ex">proc</span>                    /proc                   proc    defaults        0 0</a></code></pre></div>
</section>
<section id="answer-accepted-score-717" class="level4">
<h4>Answer accepted (score 717)</h4>
<p>To fix, open your script with vi or vim and enter in vi command mode (key <KBD>Esc</KBD>), then type this:</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb517-1" title="1">:<span class="ex">set</span> fileformat=unix</a></code></pre></div>
<p>Finally save it</p>
<p><code>:x!</code> or <code>:wq!</code></p>
</section>
<section id="answer-2-score-360" class="level4">
<h4>Answer 2 (score 360)</h4>
<p>Looks like you have a dos line ending file. The clue is the <code>^M</code>.</p>
<p>You need to re-save the file using Unix line endings.</p>
<p>You might have a <code>dos2unix</code> command line utility that will also do this for you.</p>
</section>
<section id="answer-3-score-94" class="level4">
<h4>Answer 3 (score 94)</h4>
<p>Or if you want to do this with a script:</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb518-1" title="1"><span class="fu">sed</span> -i <span class="st">&#39;s/\r//&#39;</span> filename</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="given-two-directory-trees-how-can-i-find-out-which-files-differ-score-474513-in" class="level3">
<h3>88: Given two directory trees, how can I find out which files differ? (score <a href="https://stackoverflow.com/q/4997693.html">474513</a> in )</h3>
<section id="question-87" class="level4">
<h4>Question</h4>
<p>If I want find the differences between two directory trees, I usually just execute:</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb519-1" title="1"><span class="fu">diff</span> -r dir1/ dir2/</a></code></pre></div>
<p>This outputs exactly what the differences are between corresponding files. I’m interested in just getting a list of corresponding files whose content differs. I assumed that this would simply be a matter of passing a command line option to <code>diff</code>, but I couldn’t find anything on the man page.</p>
<p>Any suggestions?</p>
</section>
<section id="answer-accepted-score-1052" class="level4">
<h4>Answer accepted (score 1052)</h4>
<p>You said Linux, so you luck out (at least it should be available, not sure when it was added):</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb520-1" title="1"><span class="fu">diff</span> --brief --recursive dir1/ dir2/ <span class="co"># GNU long options</span></a>
<a class="sourceLine" id="cb520-2" title="2"><span class="fu">diff</span> -qr dir1/ dir2/ <span class="co"># common short options</span></a></code></pre></div>
<p>Should do what you need.</p>
<p>If you also want to see differences for files that may not exist in either directory:</p>
<div class="sourceCode" id="cb521"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb521-1" title="1"><span class="fu">diff</span> --brief --recursive --new-file dir1/ dir2/ <span class="co"># GNU long options</span></a>
<a class="sourceLine" id="cb521-2" title="2"><span class="fu">diff</span> -qrN dir1/ dir2/ <span class="co"># common short options</span></a></code></pre></div>
</section>
<section id="answer-2-score-284" class="level4">
<h4>Answer 2 (score 284)</h4>
<p>The command I use is:</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb522-1" title="1"><span class="fu">diff</span> -qr dir1/ dir2/</a></code></pre></div>
<p>It is exactly the same as Mark’s :) But his answer bothered me as it uses different <em>types</em> of flags, and it made me look twice. Using Mark’s more verbose flags it would be:</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb523-1" title="1"><span class="fu">diff</span>  --brief --recursive dir1/ dir2/</a></code></pre></div>
<p><sub>I apologise for posting when the other answer is perfectly acceptable. Could not stop myself… working on being less pedantic.</sub></p>
</section>
<section id="answer-3-score-96-1" class="level4">
<h4>Answer 3 (score 96)</h4>
<p>I like to use <code>git diff --no-index dir1/ dir2/</code>, because it can show the differences in color (if you have that option set in your git config) and because it shows all of the differences in a long paged output using “less”.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="execute-combine-multiple-linux-commands-in-one-line-score-471680-in-2019" class="level3">
<h3>89: Execute combine multiple Linux commands in one line (score <a href="https://stackoverflow.com/q/13077241.html">471680</a> in 2019)</h3>
<section id="question-88" class="level4">
<h4>Question</h4>
<p>
I am trying to merge multiple linux commands in one line to perform deployment operation. For example
</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb524-1" title="1"><span class="bu">cd</span> /my_folder</a>
<a class="sourceLine" id="cb524-2" title="2"><span class="fu">rm</span> *.jar</a>
<a class="sourceLine" id="cb524-3" title="3"><span class="fu">svn</span> co path to repo</a>
<a class="sourceLine" id="cb524-4" title="4"><span class="ex">mvn</span> compile package install</a></code></pre></div>
</section>
<section id="answer-accepted-score-690" class="level4">
<h4>Answer accepted (score 690)</h4>
<p>If you want to execute each command only if the previous one succeeded, then combine them using the <code>&amp;amp;&amp;amp;</code> operator:</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb525-1" title="1"><span class="bu">cd</span> /my_folder <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="fu">rm</span> *.jar <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="fu">svn</span> co path to repo <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="ex">mvn</span> compile package install</a></code></pre></div>
<p>If one of the commands fails, then all other commands following it won’t be executed.</p>
<p>If you want to execute all commands regardless of whether the previous ones failed or not, separate them with semicolons:</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb526-1" title="1"><span class="bu">cd</span> /my_folder<span class="kw">;</span> <span class="fu">rm</span> *.jar<span class="kw">;</span> <span class="fu">svn</span> co path to repo<span class="kw">;</span> <span class="ex">mvn</span> compile package install</a></code></pre></div>
<p>In your case, I think you want the first case where execution of the next command depends on the success of the previous one.</p>
<p>You can also put all commands in a script and execute that instead:</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb527-1" title="1"><span class="co">#! /bin/sh</span></a>
<a class="sourceLine" id="cb527-2" title="2"><span class="bu">cd</span> /my_folder \</a>
<a class="sourceLine" id="cb527-3" title="3"><span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="fu">rm</span> *.jar \</a>
<a class="sourceLine" id="cb527-4" title="4"><span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="fu">svn</span> co path to repo \</a>
<a class="sourceLine" id="cb527-5" title="5"><span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="ex">mvn</span> compile package install</a></code></pre></div>
<p>(The backslashes at the end of the line are there to prevent the shell from thinking that the next line is a new command; if you omit the backslashes, you would need to write the whole command in a single line.)</p>
<p>Save that to a file, for example <code>myscript</code>, and make it executable:</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb528-1" title="1"><span class="fu">chmod</span> +x myscript</a></code></pre></div>
<p>You can now execute that script like other programs on the machine. But if you don’t place it inside a directory listed in your <code>PATH</code> environment variable (for example <code>/usr/local/bin</code>, or on some Linux distributions <code>~/bin</code>), then you will need to specify the path to that script. If it’s in the current directory, you execute it with:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb529-1" title="1"><span class="ex">./myscript</span></a></code></pre></div>
<p>The commands in the script work the same way as the commands in the first example; the next command only executes if the previous one succeeded. For unconditional execution of all commands, simply list each command on its own line:</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb530-1" title="1"><span class="co">#! /bin/sh</span></a>
<a class="sourceLine" id="cb530-2" title="2"><span class="bu">cd</span> /my_folder</a>
<a class="sourceLine" id="cb530-3" title="3"><span class="fu">rm</span> *.jar</a>
<a class="sourceLine" id="cb530-4" title="4"><span class="fu">svn</span> co path to repo</a>
<a class="sourceLine" id="cb530-5" title="5"><span class="ex">mvn</span> compile package install</a></code></pre></div>
</section>
<section id="answer-2-score-44-1" class="level4">
<h4>Answer 2 (score 44)</h4>
<p>I’ve found that using ; to separate commands only works in the foreground. eg :</p>
<p>
<code>cmd1; cmd2; cmd3 &amp;amp;</code> - will only execute <code>cmd3</code> in the background, whereas <code>cmd1 &amp;amp;&amp;amp; cmd2 &amp;amp;&amp;amp; cmd3 &amp;amp;</code> - will execute the entire chain in the background IF there are no errors.
</p>
<p>To cater for unconditional execution, using parenthesis solves this :</p>
<p><code>(cmd1; cmd2; cmd3) &amp;amp;</code> - will execute the chain of commands in the background, even if any step fails.</p>
</section>
<section id="answer-3-score-10" class="level4">
<h4>Answer 3 (score 10)</h4>
<p>You can separate your commands using a semi colon:</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb531-1" title="1"><span class="bu">cd</span> /my_folder<span class="kw">;</span><span class="fu">rm</span> *.jar<span class="kw">;</span><span class="fu">svn</span> co path to repo<span class="kw">;</span><span class="ex">mvn</span> compile package install</a></code></pre></div>
<p>Was that what you mean?</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="automatically-enter-ssh-password-with-script-score-471660-in-2017" class="level3">
<h3>90: Automatically enter SSH password with script (score <a href="https://stackoverflow.com/q/12202587.html">471660</a> in 2017)</h3>
<section id="question-89" class="level4">
<h4>Question</h4>
<p>I need to create a script that automatically inputs a password to OpenSSH <code>ssh</code> client.</p>
<p>Let’s say I need to SSH into <code>myname@somehost</code> with the password <code>a1234b</code>.</p>
<p>I’ve already tried…</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb532-1" title="1"><span class="co">#~/bin/myssh.sh</span></a>
<a class="sourceLine" id="cb532-2" title="2"><span class="fu">ssh</span> myname@somehost</a>
<a class="sourceLine" id="cb532-3" title="3"><span class="ex">a1234b</span></a></code></pre></div>
<p>…but this does not work.</p>
<p>How can I get this functionality into a script?</p>
</section>
<section id="answer-2-score-248" class="level4">
<h4>Answer 2 (score 248)</h4>
<p>First you need to install <a href="http://sourceforge.net/projects/sshpass/" rel="noreferrer">sshpass</a>.</p>
<ul>
<li>
Ubuntu/Debian: <code>apt-get install sshpass</code>
</li>
<li>
Fedora/CentOS: <code>yum install sshpass</code>
</li>
<li>
Arch: <code>pacman -S sshpass</code>
</li>
</ul>
<hr>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb533"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb533-1" title="1"><span class="ex">sshpass</span> -p <span class="st">&quot;YOUR_PASSWORD&quot;</span> ssh -o StrictHostKeyChecking=no YOUR_USERNAME@SOME_SITE.COM</a></code></pre></div>
<p><strong>Custom port example:</strong></p>
<div class="sourceCode" id="cb534"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb534-1" title="1"><span class="ex">sshpass</span> -p <span class="st">&quot;YOUR_PASSWORD&quot;</span> ssh -o StrictHostKeyChecking=no YOUR_USERNAME@SOME_SITE.COM:2400</a></code></pre></div>
<p><strong>Notes:</strong></p>
<ul>
<li>
<p><code>sshpass</code> can also read a password from a file when the <code>-f</code> flag is passed.</p>
<ul>
<li>
Using <code>-f</code> prevents the password from being visible if the <code>ps</code> command is executed.
</li>
<li>
The file that the password is stored in should have secure permissions.
</li>
</ul>
</li>
</ul>
</section>
<section id="answer-3-score-81" class="level4">
<h4>Answer 3 (score 81)</h4>
<p>After looking for an answer for the question for months, I finally found a better solution: writing a simple script.</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb535-1" title="1"><span class="co">#!/usr/bin/expect</span></a>
<a class="sourceLine" id="cb535-2" title="2"></a>
<a class="sourceLine" id="cb535-3" title="3"><span class="kw">set</span> <span class="ex">timeout</span> 20</a>
<a class="sourceLine" id="cb535-4" title="4"></a>
<a class="sourceLine" id="cb535-5" title="5"><span class="kw">set</span> <span class="ex">cmd</span> [lrange <span class="va">$argv</span> 1 end]</a>
<a class="sourceLine" id="cb535-6" title="6"><span class="kw">set</span> <span class="ex">password</span> [lindex <span class="va">$argv</span> 0]</a>
<a class="sourceLine" id="cb535-7" title="7"></a>
<a class="sourceLine" id="cb535-8" title="8"><span class="bu">eval</span> spawn <span class="va">$cmd</span></a>
<a class="sourceLine" id="cb535-9" title="9"><span class="ex">expect</span> <span class="st">&quot;assword:&quot;</span></a>
<a class="sourceLine" id="cb535-10" title="10"><span class="ex">send</span> <span class="st">&quot;</span><span class="va">$password</span><span class="st">\r&quot;</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb535-11" title="11"><span class="ex">interact</span></a></code></pre></div>
<p>Put it to <code>/usr/bin/exp</code>, then you can use:</p>
<ul>
<li>
<code>exp &amp;lt;password&amp;gt; ssh &amp;lt;anything&amp;gt;</code>
</li>
<li>
<code>exp &amp;lt;password&amp;gt; scp &amp;lt;anysrc&amp;gt; &amp;lt;anydst&amp;gt;</code>
</li>
</ul>
<p>Done!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="easily-measure-elapsed-time-score-469449-in-2013" class="level3">
<h3>91: Easily measure elapsed time (score <a href="https://stackoverflow.com/q/2808398.html">469449</a> in 2013)</h3>
<section id="question-90" class="level4">
<h4>Question</h4>
<p>I am trying to use <a href="http://en.cppreference.com/w/cpp/chrono/c/time" rel="noreferrer">time()</a> to measure various points of my program.</p>
<p>What I don’t understand is why the values in the before and after are the same? I understand this is not the best way to profile my program, I just want to see how long something take.</p>
<div class="sourceCode" id="cb536"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb536-1" title="1"><span class="bu">printf</span>(<span class="st">&quot;**MyProgram::before time= %ld\n&quot;</span>, time(NULL));</a>
<a class="sourceLine" id="cb536-2" title="2"></a>
<a class="sourceLine" id="cb536-3" title="3"><span class="fu">doSomthing()</span>;</a>
<a class="sourceLine" id="cb536-4" title="4"><span class="fu">doSomthingLong()</span>;</a>
<a class="sourceLine" id="cb536-5" title="5"></a>
<a class="sourceLine" id="cb536-6" title="6"><span class="bu">printf</span>(<span class="st">&quot;**MyProgram::after time= %ld\n&quot;</span>, time(NULL));</a></code></pre></div>
<p>I have tried:</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb537-1" title="1"><span class="ex">struct</span> timeval diff, startTV, endTV<span class="kw">;</span></a>
<a class="sourceLine" id="cb537-2" title="2"></a>
<a class="sourceLine" id="cb537-3" title="3"><span class="ex">gettimeofday</span>(<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">startTV</span>, NULL); </a>
<a class="sourceLine" id="cb537-4" title="4"></a>
<a class="sourceLine" id="cb537-5" title="5"><span class="fu">doSomething()</span>;</a>
<a class="sourceLine" id="cb537-6" title="6"><span class="fu">doSomethingLong()</span>;</a>
<a class="sourceLine" id="cb537-7" title="7"></a>
<a class="sourceLine" id="cb537-8" title="8"><span class="ex">gettimeofday</span>(<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">endTV</span>, NULL); </a>
<a class="sourceLine" id="cb537-9" title="9"></a>
<a class="sourceLine" id="cb537-10" title="10"><span class="ex">timersub</span>(<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">endTV</span>, <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">startTV</span>, <span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="fu">diff</span>);</a>
<a class="sourceLine" id="cb537-11" title="11"></a>
<a class="sourceLine" id="cb537-12" title="12"><span class="bu">printf</span>(<span class="st">&quot;**time taken = %ld %ld\n&quot;</span>, diff.tv_sec, diff.tv_usec);</a></code></pre></div>
<p>How do I read a result of <code>**time taken = 0 26339</code>? Does that mean 26,339 nanoseconds = 26.3 msec?</p>
<p>What about <code>**time taken = 4 45025</code>, does that mean 4 seconds and 25 msec?</p>
</section>
<section id="answer-2-score-263" class="level4">
<h4>Answer 2 (score 263)</h4>
<div class="sourceCode" id="cb538"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb538-1" title="1"><span class="co">#include &amp;lt;ctime&amp;gt;</span></a>
<a class="sourceLine" id="cb538-2" title="2"></a>
<a class="sourceLine" id="cb538-3" title="3"><span class="ex">void</span> f() <span class="kw">{</span></a>
<a class="sourceLine" id="cb538-4" title="4">  <span class="ex">using</span> namespace std<span class="kw">;</span></a>
<a class="sourceLine" id="cb538-5" title="5">  <span class="ex">clock_t</span> begin = clock();</a>
<a class="sourceLine" id="cb538-6" title="6"></a>
<a class="sourceLine" id="cb538-7" title="7">  <span class="fu">code_to_time()</span>;</a>
<a class="sourceLine" id="cb538-8" title="8"></a>
<a class="sourceLine" id="cb538-9" title="9">  <span class="ex">clock_t</span> end = clock();</a>
<a class="sourceLine" id="cb538-10" title="10">  <span class="ex">double</span> elapsed_secs = double(end - begin) <span class="ex">/</span> CLOCKS_PER_SEC<span class="kw">;</span></a>
<a class="sourceLine" id="cb538-11" title="11"><span class="kw">}</span></a></code></pre></div>
<p>The <code>time()</code> function is only accurate to within a second, but there are <a href="http://en.cppreference.com/w/cpp/chrono/c/CLOCKS_PER_SEC" rel="noreferrer"><code>CLOCKS_PER_SEC</code></a> “clocks” within a second. This is an easy, portable measurement, even though it’s over-simplified.</p>
</section>
<section id="answer-3-score-261" class="level4">
<h4>Answer 3 (score 261)</h4>
<p>You can <strong>abstract the time measuring mechanism</strong> and have each callable’s run time measured with <strong>minimal extra code</strong>, just by being called through a timer structure. Plus, at compile time you can <strong>parametrize the timing type</strong> (milliseconds, nanoseconds etc).</p>
<p>
<sup>Thanks to the review by <a href="https://stackoverflow.com/users/14065/loki-astari">Loki Astari</a> and the suggestion to use variadic templates.</sup> <sup><a href="https://stackoverflow.com/q/31253334/2567683">This</a> is why the forwarded function call.</sup>
</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb539-1" title="1"><span class="co">#include &amp;lt;iostream&amp;gt;</span></a>
<a class="sourceLine" id="cb539-2" title="2"><span class="co">#include &amp;lt;chrono&amp;gt;</span></a>
<a class="sourceLine" id="cb539-3" title="3"></a>
<a class="sourceLine" id="cb539-4" title="4"><span class="ex">template</span><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">typename</span> TimeT = std::chrono::milliseconds<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb539-5" title="5"><span class="ex">struct</span> measure</a>
<a class="sourceLine" id="cb539-6" title="6"><span class="kw">{</span></a>
<a class="sourceLine" id="cb539-7" title="7">    <span class="ex">template</span><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">typename</span> F, typename ...Args<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb539-8" title="8">    <span class="ex">static</span> typename TimeT::rep execution(F<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="ex">func</span>, Args<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">...</span> args)</a>
<a class="sourceLine" id="cb539-9" title="9">    <span class="kw">{</span></a>
<a class="sourceLine" id="cb539-10" title="10">        <span class="ex">auto</span> start = std::chrono::steady_clock::now();</a>
<a class="sourceLine" id="cb539-11" title="11">        <span class="ex">std</span>::forward<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">decltype</span>(func)<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;(</span><span class="ex">func</span><span class="kw">)(</span><span class="ex">std</span>::forward<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">Args</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;(</span><span class="ex">args</span><span class="kw">)</span><span class="ex">...</span><span class="kw">)</span>;</a>
<a class="sourceLine" id="cb539-12" title="12">        <span class="ex">auto</span> duration = std::chrono::duration_cast<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">TimeT</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> </a>
<a class="sourceLine" id="cb539-13" title="13">                            <span class="kw">(</span><span class="fu">std::chrono::steady_clock::now()</span> <span class="ex">-</span> start<span class="kw">)</span>;</a>
<a class="sourceLine" id="cb539-14" title="14">        <span class="bu">return</span> duration.count();</a>
<a class="sourceLine" id="cb539-15" title="15">    <span class="kw">}</span></a>
<a class="sourceLine" id="cb539-16" title="16"><span class="kw">}</span>;</a>
<a class="sourceLine" id="cb539-17" title="17"></a>
<a class="sourceLine" id="cb539-18" title="18"><span class="ex">int</span> main() <span class="kw">{</span></a>
<a class="sourceLine" id="cb539-19" title="19">    <span class="ex">std</span>::cout <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">measure</span><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span>::<span class="ex">execution</span>(functor(dummy)) <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">std</span>::endl<span class="kw">;</span></a>
<a class="sourceLine" id="cb539-20" title="20"><span class="kw">}</span></a></code></pre></div>
<p><a href="http://ideone.com/JbUkPq" rel="noreferrer"><kbd><strong>Demo</strong></kbd></a></p>
<p>According to the comment by <a href="https://stackoverflow.com/users/576911/howard-hinnant"><strong>Howard Hinnant</strong></a> it’s best not to escape out of the chrono system until we have to. So the above class could give the user the choice to call <code>count</code> manually by providing an extra static method (shown in C++14)</p>
<div class="sourceCode" id="cb540"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb540-1" title="1"><span class="ex">template</span><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">typename</span> F, typename ...Args<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb540-2" title="2"><span class="ex">static</span> auto duration(F<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span> <span class="ex">func</span>, Args<span class="kw">&amp;</span><span class="ex">amp</span><span class="kw">;&amp;</span><span class="ex">amp</span><span class="kw">;</span><span class="ex">...</span> args)</a>
<a class="sourceLine" id="cb540-3" title="3"><span class="kw">{</span></a>
<a class="sourceLine" id="cb540-4" title="4">    <span class="ex">auto</span> start = std::chrono::steady_clock::now();</a>
<a class="sourceLine" id="cb540-5" title="5">    <span class="ex">std</span>::forward<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">decltype</span>(func)<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;(</span><span class="ex">func</span><span class="kw">)(</span><span class="ex">std</span>::forward<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">Args</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;(</span><span class="ex">args</span><span class="kw">)</span><span class="ex">...</span><span class="kw">)</span>;</a>
<a class="sourceLine" id="cb540-6" title="6">    <span class="bu">return</span> std::chrono::duration_cast<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">TimeT</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;(</span><span class="fu">std::chrono::steady_clock::now()</span><span class="ex">-start</span><span class="kw">)</span>;</a>
<a class="sourceLine" id="cb540-7" title="7"><span class="kw">}</span> </a>
<a class="sourceLine" id="cb540-8" title="8"></a>
<a class="sourceLine" id="cb540-9" title="9"><span class="ex">//</span> call .count() <span class="ex">manually</span> later when needed (eg IO)</a>
<a class="sourceLine" id="cb540-10" title="10"><span class="ex">auto</span> avg = (measure<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span>::<span class="ex">duration</span>(func) <span class="ex">+</span> measure<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;&amp;</span><span class="ex">gt</span><span class="kw">;</span>::<span class="ex">duration</span>(func)) <span class="ex">/</span> 2.0<span class="kw">;</span></a></code></pre></div>
<p>and be most useful for clients that</p>
<blockquote>
“want to post-process a bunch of durations prior to I/O (e.g. average)”
</blockquote>
<hr>
<p>The complete <a href="https://github.com/picanumber/bureaucrat/blob/master/time_lapse.h" rel="noreferrer"><strong>code can be found here</strong></a>. My attempt to build a <strong>benchmarking tool</strong> based on chrono is recorded <a href="https://isocpp.org/blog/2015/04/https-ngathanasiou.wordpress.com-2015-04-01-benchmarking-in-c" rel="noreferrer"><strong>here</strong></a>.</p>
<hr>
<p>If C++17’s <a href="http://en.cppreference.com/w/cpp/utility/functional/invoke" rel="noreferrer"><code>std::invoke</code></a> is available, the invocation of the callable in <code>execution</code> could be done like this :</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb541-1" title="1"><span class="ex">invoke</span>(forward<span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">decltype</span>(func)<span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;(</span><span class="ex">func</span><span class="kw">)</span>, <span class="ex">forward</span><span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">Args</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;(</span><span class="ex">args</span><span class="kw">)</span><span class="ex">...</span>);</a></code></pre></div>
<p>to provide for callables that are pointers to member functions.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="extract-file-basename-without-path-and-extension-in-bash-score-465033-in-2017" class="level3">
<h3>92: Extract file basename without path and extension in bash (score <a href="https://stackoverflow.com/q/2664740.html">465033</a> in 2017)</h3>
<section id="question-91" class="level4">
<h4>Question</h4>
<p>Given file names like these:</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb542-1" title="1"><span class="ex">/the/path/foo.txt</span></a>
<a class="sourceLine" id="cb542-2" title="2"><span class="ex">bar.txt</span></a></code></pre></div>
<p>I hope to get:</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb543-1" title="1"><span class="ex">foo</span></a>
<a class="sourceLine" id="cb543-2" title="2"><span class="ex">bar</span></a></code></pre></div>
<p>Why this doesn’t work?</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb544-1" title="1"><span class="co">#!/bin/bash</span></a>
<a class="sourceLine" id="cb544-2" title="2"></a>
<a class="sourceLine" id="cb544-3" title="3"><span class="va">fullfile=$1</span></a>
<a class="sourceLine" id="cb544-4" title="4"><span class="va">fname=$(</span><span class="fu">basename</span> <span class="va">$fullfile)</span></a>
<a class="sourceLine" id="cb544-5" title="5"><span class="va">fbname=${fname%</span>.*<span class="va">}</span></a>
<a class="sourceLine" id="cb544-6" title="6"><span class="bu">echo</span> <span class="va">$fbname</span></a></code></pre></div>
<p>What’s the right way to do it?</p>
</section>
<section id="answer-accepted-score-587" class="level4">
<h4>Answer accepted (score 587)</h4>
<p>You don’t have to call the external <code>basename</code> command. Instead, you could use the following commands:</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb545-1" title="1">$ <span class="va">s=</span>/the/path/foo.txt</a>
<a class="sourceLine" id="cb545-2" title="2">$ <span class="bu">echo</span> <span class="va">${s##</span>*/<span class="va">}</span></a>
<a class="sourceLine" id="cb545-3" title="3"><span class="ex">foo.txt</span></a>
<a class="sourceLine" id="cb545-4" title="4">$ <span class="va">s=${s##</span>*/<span class="va">}</span></a>
<a class="sourceLine" id="cb545-5" title="5">$ <span class="bu">echo</span> <span class="va">${s%</span>.txt<span class="va">}</span></a>
<a class="sourceLine" id="cb545-6" title="6"><span class="ex">foo</span></a>
<a class="sourceLine" id="cb545-7" title="7">$ <span class="bu">echo</span> <span class="va">${s%</span>.*<span class="va">}</span></a>
<a class="sourceLine" id="cb545-8" title="8"><span class="ex">foo</span></a></code></pre></div>
<p>Note that this solution should work in all recent (<em>post 2004</em>) <em>POSIX</em> compliant shells, (e.g. <code>bash</code>, <code>dash</code>, <code>ksh</code>, etc.).</p>
<p>Source: <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_06_02" rel="noreferrer">Shell Command Language 2.6.2 Parameter Expansion</a></p>
<p>More on bash String Manipulations: <a href="http://tldp.org/LDP/LG/issue18/bash.html" rel="noreferrer">http://tldp.org/LDP/LG/issue18/bash.html</a></p>
</section>
<section id="answer-2-score-267" class="level4">
<h4>Answer 2 (score 267)</h4>
<p>The <a href="http://opengroup.org/onlinepubs/007908799/xcu/basename.html">basename</a> command has two different invocations; in one, you specify just the path, in which case it gives you the last component, while in the other you also give a suffix that it will remove. So, you can simplify your example code by using the second invocation of basename. Also, be careful to correctly quote things:</p>
<pre>
fbname=$(basename "$1" .txt)
echo "$fbname"
</pre>
</section>
<section id="answer-3-score-57-1" class="level4">
<h4>Answer 3 (score 57)</h4>
<p>A combination of basename and cut works fine, even in case of double ending like <code>.tar.gz</code>:</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb546-1" title="1"><span class="va">fbname=$(</span><span class="fu">basename</span> <span class="st">&quot;</span><span class="va">$fullfile</span><span class="st">&quot;</span> <span class="kw">|</span> <span class="fu">cut</span> -d. -f1<span class="va">)</span></a></code></pre></div>
<p>Would be interesting if this solution needs less arithmetic power than Bash Parameter Expansion.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-all-storage-devices-attached-to-a-linux-machine-score-460866-in-2013" class="level3">
<h3>93: Find all storage devices attached to a Linux machine (score <a href="https://stackoverflow.com/q/200960.html">460866</a> in 2013)</h3>
<section id="question-92" class="level4">
<h4>Question</h4>
<p>I have a need to find all of the writable storage devices attached to a given machine, <strong>whether or not</strong> they are mounted.</p>
<p>The dopey way to do this would be to <em>try</em> every entry in <code>/dev</code> that corresponds to a writable devices (<code>hd* and sd*</code>)……</p>
<p>Is there a better solution, or should I stick with this one?</p>
</section>
<section id="answer-accepted-score-78-1" class="level4">
<h4>Answer accepted (score 78)</h4>
<p><code>/proc/partitions</code> will list all the block devices and partitions that the system recognizes. You can then try using <code>file -s &amp;lt;device&amp;gt;</code> to determine what kind of filesystem is present on the partition, if any.</p>
</section>
<section id="answer-2-score-71-1" class="level4">
<h4>Answer 2 (score 71)</h4>
<p>You can always do <code>fdisk -l</code> which seems to work pretty well, even on strange setups such as EC2 xvda devices.</p>
<p>Here is a dump for a m1.large instance:</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb547-1" title="1"><span class="ex">root@ip-10-126-247-82</span>:~# fdisk -l</a>
<a class="sourceLine" id="cb547-2" title="2"></a>
<a class="sourceLine" id="cb547-3" title="3"><span class="ex">Disk</span> /dev/xvda1: 10.7 GB, 10737418240 bytes</a>
<a class="sourceLine" id="cb547-4" title="4"><span class="ex">255</span> heads, 63 sectors/track, 1305 cylinders, total 20971520 sectors</a>
<a class="sourceLine" id="cb547-5" title="5"><span class="ex">Units</span> = sectors of 1 * 512 = 512 bytes</a>
<a class="sourceLine" id="cb547-6" title="6"><span class="ex">Sector</span> size (logical/physical)<span class="bu">:</span> 512 bytes / 512 bytes</a>
<a class="sourceLine" id="cb547-7" title="7"><span class="ex">I/O</span> size (minimum/optimal)<span class="bu">:</span> 512 bytes / 512 bytes</a>
<a class="sourceLine" id="cb547-8" title="8"><span class="ex">Disk</span> identifier: 0x00000000</a>
<a class="sourceLine" id="cb547-9" title="9"></a>
<a class="sourceLine" id="cb547-10" title="10"><span class="ex">Disk</span> /dev/xvda1 doesn<span class="st">&#39;t contain a valid partition table</span></a>
<a class="sourceLine" id="cb547-11" title="11"></a>
<a class="sourceLine" id="cb547-12" title="12"><span class="st">Disk /dev/xvda2: 365.0 GB, 365041287168 bytes</span></a>
<a class="sourceLine" id="cb547-13" title="13"><span class="st">255 heads, 63 sectors/track, 44380 cylinders, total 712971264 sectors</span></a>
<a class="sourceLine" id="cb547-14" title="14"><span class="st">Units = sectors of 1 * 512 = 512 bytes</span></a>
<a class="sourceLine" id="cb547-15" title="15"><span class="st">Sector size (logical/physical): 512 bytes / 512 bytes</span></a>
<a class="sourceLine" id="cb547-16" title="16"><span class="st">I/O size (minimum/optimal): 512 bytes / 512 bytes</span></a>
<a class="sourceLine" id="cb547-17" title="17"><span class="st">Disk identifier: 0x00000000</span></a>
<a class="sourceLine" id="cb547-18" title="18"></a>
<a class="sourceLine" id="cb547-19" title="19"><span class="st">Disk /dev/xvda2 doesn&#39;</span>t contain a valid partition table</a>
<a class="sourceLine" id="cb547-20" title="20"></a>
<a class="sourceLine" id="cb547-21" title="21"><span class="ex">Disk</span> /dev/xvda3: 939 MB, 939524096 bytes</a>
<a class="sourceLine" id="cb547-22" title="22"><span class="ex">255</span> heads, 63 sectors/track, 114 cylinders, total 1835008 sectors</a>
<a class="sourceLine" id="cb547-23" title="23"><span class="ex">Units</span> = sectors of 1 * 512 = 512 bytes</a>
<a class="sourceLine" id="cb547-24" title="24"><span class="ex">Sector</span> size (logical/physical)<span class="bu">:</span> 512 bytes / 512 bytes</a>
<a class="sourceLine" id="cb547-25" title="25"><span class="ex">I/O</span> size (minimum/optimal)<span class="bu">:</span> 512 bytes / 512 bytes</a>
<a class="sourceLine" id="cb547-26" title="26"><span class="ex">Disk</span> identifier: 0x00000000</a>
<a class="sourceLine" id="cb547-27" title="27"></a>
<a class="sourceLine" id="cb547-28" title="28"><span class="ex">Disk</span> /dev/xvda3 doesn<span class="st">&#39;t contain a valid partition table</span></a></code></pre></div>
<p>While <code>mount</code> says:</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb548-1" title="1"><span class="ex">root@ip-10-126-247-82</span>:~# mount</a>
<a class="sourceLine" id="cb548-2" title="2"><span class="ex">/dev/xvda1</span> on / type ext4 (rw)</a>
<a class="sourceLine" id="cb548-3" title="3"><span class="ex">proc</span> on /proc type proc (rw,noexec,nosuid,nodev)</a>
<a class="sourceLine" id="cb548-4" title="4"><span class="ex">sysfs</span> on /sys type sysfs (rw,noexec,nosuid,nodev)</a>
<a class="sourceLine" id="cb548-5" title="5"><span class="ex">fusectl</span> on /sys/fs/fuse/connections type fusectl (rw)</a>
<a class="sourceLine" id="cb548-6" title="6"><span class="ex">none</span> on /sys/kernel/debug type debugfs (rw)</a>
<a class="sourceLine" id="cb548-7" title="7"><span class="ex">none</span> on /sys/kernel/security type securityfs (rw)</a>
<a class="sourceLine" id="cb548-8" title="8"><span class="ex">udev</span> on /dev type devtmpfs (rw,mode=0755)</a>
<a class="sourceLine" id="cb548-9" title="9"><span class="ex">devpts</span> on /dev/pts type devpts (rw,noexec,nosuid,gid=5,mode=0620)</a>
<a class="sourceLine" id="cb548-10" title="10"><span class="ex">tmpfs</span> on /run type tmpfs (rw,noexec,nosuid,size=10%,mode=0755)</a>
<a class="sourceLine" id="cb548-11" title="11"><span class="ex">none</span> on /run/lock type tmpfs (rw,noexec,nosuid,nodev,size=5242880)</a>
<a class="sourceLine" id="cb548-12" title="12"><span class="ex">none</span> on /run/shm type tmpfs (rw,nosuid,nodev)</a>
<a class="sourceLine" id="cb548-13" title="13"><span class="ex">/dev/xvda2</span> on /mnt type ext3 (rw)</a></code></pre></div>
<p>And <code>/proc/partitions</code> says:</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb549-1" title="1"><span class="ex">root@ip-10-126-247-82</span>:~# cat /proc/partitions</a>
<a class="sourceLine" id="cb549-2" title="2"><span class="ex">major</span> minor  <span class="co">#blocks  name</span></a>
<a class="sourceLine" id="cb549-3" title="3"></a>
<a class="sourceLine" id="cb549-4" title="4"> <span class="ex">202</span>        1   10485760 xvda1</a>
<a class="sourceLine" id="cb549-5" title="5"> <span class="ex">202</span>        2  356485632 xvda2</a>
<a class="sourceLine" id="cb549-6" title="6"> <span class="ex">202</span>        3     917504 xvda3</a></code></pre></div>
<h5>
Side Note
</h1>
<p>How <code>fdisk -l</code> works is something I would love to know myself.</p>
</section>
<section id="answer-3-score-35-1" class="level4">
<h4>Answer 3 (score 35)</h4>
<p>you can also try <strong>lsblk</strong> … is in util-linux … but i have a question too</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb550-1" title="1"><span class="ex">fdisk</span> -l /dev/sdl</a></code></pre></div>
<p>no result</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb551-1" title="1"><span class="fu">grep</span> sdl /proc/partitions      </a>
<a class="sourceLine" id="cb551-2" title="2">   <span class="ex">8</span>      176   15632384 sdl</a>
<a class="sourceLine" id="cb551-3" title="3">   <span class="ex">8</span>      177   15628288 sdl1</a>
<a class="sourceLine" id="cb551-4" title="4"></a>
<a class="sourceLine" id="cb551-5" title="5"><span class="ex">lsblk</span> <span class="kw">|</span> <span class="fu">grep</span> sdl</a>
<a class="sourceLine" id="cb551-6" title="6"><span class="ex">sdl</span>       8:176  1  14.9G  0 disk  </a>
<a class="sourceLine" id="cb551-7" title="7"><span class="kw">`</span><span class="ex">-sdl1</span>    8:177  1  14.9G  0 part  </a></code></pre></div>
<p>fdisk is good but not that good … seems like it cannot “see” everything</p>
<p>in my particular example i have a stick that have also a card reader build in it and i can see only the stick using fdisk:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb552-1" title="1"><span class="ex">fdisk</span> -l /dev/sdk</a>
<a class="sourceLine" id="cb552-2" title="2"></a>
<a class="sourceLine" id="cb552-3" title="3"><span class="ex">Disk</span> /dev/sdk: 15.9 GB, 15931539456 bytes</a>
<a class="sourceLine" id="cb552-4" title="4"><span class="ex">255</span> heads, 63 sectors/track, 1936 cylinders, total 31116288 sectors</a>
<a class="sourceLine" id="cb552-5" title="5"><span class="ex">Units</span> = sectors of 1 * 512 = 512 bytes</a>
<a class="sourceLine" id="cb552-6" title="6"><span class="ex">Sector</span> size (logical/physical)<span class="bu">:</span> 512 bytes / 512 bytes</a>
<a class="sourceLine" id="cb552-7" title="7"><span class="ex">I/O</span> size (minimum/optimal)<span class="bu">:</span> 512 bytes / 512 bytes</a>
<a class="sourceLine" id="cb552-8" title="8"><span class="ex">Disk</span> identifier: 0xbe24be24</a>
<a class="sourceLine" id="cb552-9" title="9"></a>
<a class="sourceLine" id="cb552-10" title="10">   <span class="ex">Device</span> Boot      Start         End      Blocks   Id  System</a>
<a class="sourceLine" id="cb552-11" title="11"><span class="ex">/dev/sdk1</span>   *        8192    31116287    15554048    c  W95 FAT32 (LBA)</a></code></pre></div>
<p>but not the card (card being /dev/sdl)</p>
<p>also, file -s is inefficient …</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb553-1" title="1"><span class="fu">file</span> -s /dev/sdl1</a>
<a class="sourceLine" id="cb553-2" title="2"><span class="ex">/dev</span>/sdl1: <span class="ex">sticky</span> x86 boot sector, code offset 0x52, OEM-ID <span class="st">&quot;NTFS    &quot;</span>, sectors/cluster 8, reserved sectors 0, Media descriptor 0xf8, heads 255, hidden sectors 8192, dos <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span> <span class="ex">4.0</span> BootSector (0x0)</a></code></pre></div>
<p>that’s nice … BUT</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb554-1" title="1"><span class="ex">fdisk</span> -l /dev/sdb</a>
<a class="sourceLine" id="cb554-2" title="2"><span class="ex">/dev/sdb1</span>            2048   156301487    78149720   fd  Linux raid autodetect</a>
<a class="sourceLine" id="cb554-3" title="3"><span class="ex">/dev/sdb2</span>       156301488   160086527     1892520   82  Linux swap / Solaris</a>
<a class="sourceLine" id="cb554-4" title="4"></a>
<a class="sourceLine" id="cb554-5" title="5"><span class="fu">file</span> -s /dev/sdb1</a>
<a class="sourceLine" id="cb554-6" title="6"><span class="ex">/dev</span>/sdb1: <span class="ex">sticky</span> \0</a></code></pre></div>
<p>to see information about a disk that cannot be accesed by fdisk, you can use parted:</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb555-1" title="1"><span class="ex">parted</span> /dev/sdl print</a>
<a class="sourceLine" id="cb555-2" title="2"></a>
<a class="sourceLine" id="cb555-3" title="3"><span class="ex">Model</span>: Mass Storage Device (scsi)</a>
<a class="sourceLine" id="cb555-4" title="4"><span class="ex">Disk</span> /dev/sdl: 16.0GB</a>
<a class="sourceLine" id="cb555-5" title="5"><span class="ex">Sector</span> size (logical/physical)<span class="bu">:</span> 512B/512B</a>
<a class="sourceLine" id="cb555-6" title="6"><span class="ex">Partition</span> Table: msdos</a>
<a class="sourceLine" id="cb555-7" title="7"></a>
<a class="sourceLine" id="cb555-8" title="8"><span class="ex">Number</span>  Start   End     Size    Type     File system  Flags</a>
<a class="sourceLine" id="cb555-9" title="9"> <span class="ex">1</span>      4194kB  16.0GB  16.0GB  primary  ntfs</a>
<a class="sourceLine" id="cb555-10" title="10"></a>
<a class="sourceLine" id="cb555-11" title="11"></a>
<a class="sourceLine" id="cb555-12" title="12"></a>
<a class="sourceLine" id="cb555-13" title="13"></a>
<a class="sourceLine" id="cb555-14" title="14"><span class="ex">arted</span> /dev/sdb print </a>
<a class="sourceLine" id="cb555-15" title="15"><span class="ex">Model</span>: ATA Maxtor 6Y080P0 (scsi)</a>
<a class="sourceLine" id="cb555-16" title="16"><span class="ex">Disk</span> /dev/sdb: 82.0GB</a>
<a class="sourceLine" id="cb555-17" title="17"><span class="ex">Sector</span> size (logical/physical)<span class="bu">:</span> 512B/512B</a>
<a class="sourceLine" id="cb555-18" title="18"><span class="ex">Partition</span> Table: msdos</a>
<a class="sourceLine" id="cb555-19" title="19"></a>
<a class="sourceLine" id="cb555-20" title="20"><span class="ex">Number</span>  Start   End     Size    Type     File system     Flags</a>
<a class="sourceLine" id="cb555-21" title="21"> <span class="ex">1</span>      1049kB  80.0GB  80.0GB  primary                  raid</a>
<a class="sourceLine" id="cb555-22" title="22"> <span class="ex">2</span>      80.0GB  82.0GB  1938MB  primary  linux-swap(v1)</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="get-current-time-in-seconds-since-the-epoch-on-linux-bash-score-459374-in-2018" class="level3">
<h3>94: Get current time in seconds since the Epoch on Linux, Bash (score <a href="https://stackoverflow.com/q/1092631.html">459374</a> in 2018)</h3>
<section id="question-93" class="level4">
<h4>Question</h4>
<p>I need something simple like <code>date</code>, but in seconds since 1970 instead of the current date, hours, minutes, and seconds.</p>
<p><code>date</code> doesn’t seem to offer that option. Is there an easy way?</p>
</section>
<section id="answer-accepted-score-1026" class="level4">
<h4>Answer accepted (score 1026)</h4>
<p>This should work:</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb556-1" title="1"><span class="fu">date</span> +%s</a></code></pre></div>
</section>
<section id="answer-2-score-119-1" class="level4">
<h4>Answer 2 (score 119)</h4>
<p>
Just to add.<br><BR> Get the seconds since epoch(Jan 1 1970) for any given date(e.g Oct 21 1973).
</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb557-1" title="1"><span class="fu">date</span> -d <span class="st">&quot;Oct 21 1973&quot;</span> +%s</a></code></pre></div>
<p>
<br> Convert the number of seconds back to date
</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb558-1" title="1"><span class="fu">date</span> --date @120024000</a></code></pre></div>
<p>
<br> The command <code>date</code> is pretty versatile. Another cool thing you can do with date(shamelessly copied from <code>date --help</code>). Show the local time for 9AM next Friday on the west coast of the US
</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb559-1" title="1"><span class="fu">date</span> --date=<span class="st">&#39;TZ=&quot;America/Los_Angeles&quot; 09:00 next Fri&#39;</span></a></code></pre></div>
<p>
Better yet, take some time to read the man page <a href="http://man7.org/linux/man-pages/man1/date.1.html" rel="noreferrer">http://man7.org/linux/man-pages/man1/date.1.html</a>
</p>
</section>
<section id="answer-3-score-36-1" class="level4">
<h4>Answer 3 (score 36)</h4>
<p>So far, all the answers use the external program <code>date</code>.</p>
<p>Since Bash 4.2, <code>printf</code> has a new modifier <code>%(dateformat)T</code> that, when used with argument <code>-1</code> outputs the current date with format given by <code>dateformat</code>, handled by <code>strftime(3)</code> (<code>man 3 strftime</code> for informations about the formats).</p>
<p>So, for a pure Bash solution:</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb560-1" title="1"><span class="bu">printf</span> <span class="st">&#39;%(%s)T\n&#39;</span> -1</a></code></pre></div>
<p>or if you need to store the result in a variable <code>var</code>:</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb561-1" title="1"><span class="bu">printf</span> -v var <span class="st">&#39;%(%s)T&#39;</span> -1</a></code></pre></div>
<p>No external programs and no subshells!</p>
<p>Since Bash 4.3, it’s even possible to not specify the <code>-1</code>:</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb562-1" title="1"><span class="bu">printf</span> -v var <span class="st">&#39;%(%s)T&#39;</span></a></code></pre></div>
<p>(but it might be wiser to always give the argument <code>-1</code> nonetheless).</p>
<p>If you use <code>-2</code> as argument instead of <code>-1</code>, Bash will use the time the shell was started instead of the current date (but why would you want this?).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-add-a-default-include-path-for-gcc-in-linux-score-455167-in-2017" class="level3">
<h3>95: How to add a default include path for GCC in Linux? (score <a href="https://stackoverflow.com/q/558803.html">455167</a> in 2017)</h3>
<section id="question-94" class="level4">
<h4>Question</h4>
<p>I’d like gcc to include files from <code>$HOME/include</code> in addition to the usual include directories, but there doesn’t seem to be an analogue to <code>$LD_LIBRARY_PATH</code>.</p>
<p>I know I can just add the include directory at command line when compiling (or in the makefile), but I’d really like a universal approach here, as in the library case.</p>
</section>
<section id="answer-accepted-score-365-1" class="level4">
<h4>Answer accepted (score 365)</h4>
<p>Try setting <code>C_INCLUDE_PATH</code> (for C header files) or <code>CPLUS_INCLUDE_PATH</code> (for C++ header files).</p>
<p>As Ciro mentioned, <code>CPATH</code> will set the path for both C and C++.</p>
<p>More details <a href="http://www.network-theory.co.uk/docs/gccintro/gccintro_23.html" rel="noreferrer">here</a>.</p>
</section>
<section id="answer-2-score-53" class="level4">
<h4>Answer 2 (score 53)</h4>
<p>Create an alias for gcc with your favorite includes.</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb563-1" title="1"><span class="bu">alias</span> mygcc=<span class="st">&#39;gcc -I /whatever/&#39;</span></a></code></pre></div>
</section>
<section id="answer-3-score-7" class="level4">
<h4>Answer 3 (score 7)</h4>
<p>A gcc spec file can do the job, however all users on the machine will be affected.</p>
<p>See <a href="http://www.mingw.org/node/25" rel="noreferrer">here</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-replace-a-string-in-multiple-files-in-linux-command-line-score-453048-in-2017" class="level3">
<h3>96: How to replace a string in multiple files in linux command line (score <a href="https://stackoverflow.com/q/11392478.html">453048</a> in 2017)</h3>
<section id="question-95" class="level4">
<h4>Question</h4>
<p>I need to replace a string in a lot of files in a folder, with only <code>ssh</code> access to the server. How can I do this?</p>
</section>
<section id="answer-accepted-score-519" class="level4">
<h4>Answer accepted (score 519)</h4>
<div class="sourceCode" id="cb564"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb564-1" title="1"><span class="bu">cd</span> /path/to/your/folder</a>
<a class="sourceLine" id="cb564-2" title="2"><span class="fu">sed</span> -i <span class="st">&#39;s/foo/bar/g&#39;</span> *</a></code></pre></div>
<p>Occurrences of “foo” will be replaced with “bar”.</p>
</section>
<section id="answer-2-score-218" class="level4">
<h4>Answer 2 (score 218)</h4>
<p>Similar to Kaspar’s answer but with the g flag to replace all the occurrences on a line.</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb565-1" title="1"><span class="fu">find</span> ./ -type f -exec sed -i <span class="st">&#39;s/string1/string2/g&#39;</span> {} <span class="dt">\;</span></a></code></pre></div>
<p>For global case insensitive:</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb566-1" title="1"><span class="fu">find</span> ./ -type f -exec sed -i <span class="st">&#39;s/string1/string2/gI&#39;</span> {} <span class="dt">\;</span></a></code></pre></div>
</section>
<section id="answer-3-score-128" class="level4">
<h4>Answer 3 (score 128)</h4>
<p><span class="citation" data-cites="kev">@kev</span>’s answer is good, but only affects files in the immediate directory.The example below uses grep to recursively find files. It works for me everytime.</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb567-1" title="1"><span class="fu">grep</span> -rli <span class="st">&#39;old-word&#39;</span> * <span class="kw">|</span> <span class="fu">xargs</span> -i@ sed -i <span class="st">&#39;s/old-word/new-word/g&#39;</span> @</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="pipe-tofrom-the-clipboard-in-bash-script-score-452594-in-2018" class="level3">
<h3>97: Pipe to/from the clipboard in Bash script (score <a href="https://stackoverflow.com/q/749544.html">452594</a> in 2018)</h3>
<section id="question-96" class="level4">
<h4>Question</h4>
<p>Is it possible to pipe to/from the clipboard in Bash?</p>
<p>Whether it is piping to/from a device handle or using an auxiliary application, I can’t find anything.</p>
<p>For example, if <code>/dev/clip</code> was a device linking to the clipboard we could do:</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb568-1" title="1"><span class="fu">cat</span> /dev/clip        <span class="co"># Dump the contents of the clipboard</span></a>
<a class="sourceLine" id="cb568-2" title="2"><span class="fu">cat</span> foo <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">/dev/clip</span>  <span class="co"># Dump the contents of &quot;foo&quot; into the clipboard</span></a></code></pre></div>
</section>
<section id="answer-accepted-score-793" class="level4">
<h4>Answer accepted (score 793)</h4>
<p>There’s a wealth of clipboards you could be dealing with. I expect you’re probably a Linux user who wants to put stuff in the X Windows primary clipboard. Usually, the clipboard you want to talk to has a utility that lets you talk to it.</p>
<p>In the case of X, there’s <code>xclip</code> (and others). <code>xclip -selection c</code> will send data to the clipboard that works with <kbd>Ctrl + C</kbd>, <kbd>Ctrl + V</kbd> in most applications.</p>
<p>If you’re on Mac OS X, there’s <code>pbcopy</code>.</p>
<p>If you’re in Linux terminal mode (no X) then look into <code>gpm</code> or <a href="http://www.gnu.org/software/screen/" rel="noreferrer">screen</a> which has a clipboard. Try the <code>screen</code> command <code>readreg</code>.</p>
<p>Under Windows 10+ or cygwin, use <code>/dev/clipboard</code> or <code>clip</code>.</p>
</section>
<section id="answer-2-score-257-1" class="level4">
<h4>Answer 2 (score 257)</h4>
<p>
Make sure you are using alias <code>xclip=&quot;xclip -selection c&quot;</code> otherwise you can’t just use to <kbd>Ctrl</kbd>+<kbd>v</kbd> to paste it back in a different place.
</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb569-1" title="1"><span class="bu">echo</span> test <span class="kw">|</span> <span class="ex">xclip</span>    </a></code></pre></div>
<p><kbd>Ctrl</kbd>+<kbd>v</kbd> <code>=== test</code></p>
</section>
<section id="answer-3-score-165" class="level4">
<h4>Answer 3 (score 165)</h4>
<h5>
Install
</h1>
<div class="sourceCode" id="cb570"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb570-1" title="1"><span class="co"># You can install xclip using `apt-get`</span></a>
<a class="sourceLine" id="cb570-2" title="2"><span class="ex">apt-get</span> install xclip</a>
<a class="sourceLine" id="cb570-3" title="3"></a>
<a class="sourceLine" id="cb570-4" title="4"><span class="co"># or `pacman`</span></a>
<a class="sourceLine" id="cb570-5" title="5"><span class="ex">pacman</span> -S xclip</a>
<a class="sourceLine" id="cb570-6" title="6"></a>
<a class="sourceLine" id="cb570-7" title="7"><span class="co"># or `dnf`</span></a>
<a class="sourceLine" id="cb570-8" title="8"><span class="ex">dnf</span> install xclip</a></code></pre></div>
<p>If you do not have access to <code>apt-get</code> nor <code>pacman</code>, nor <code>dnf</code>, the sources are available on <a href="http://sourceforge.net/projects/xclip/" rel="noreferrer">sourceforge</a>.</p>
<h5>
Set-up
</h1>
<h5>
Bash
</h2>
<p>In <code>~/.bash_aliases</code>, add:</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb571-1" title="1"><span class="bu">alias</span> setclip=<span class="st">&quot;xclip -selection c&quot;</span></a>
<a class="sourceLine" id="cb571-2" title="2"><span class="bu">alias</span> getclip=<span class="st">&quot;xclip -selection c -o&quot;</span></a></code></pre></div>
<p><em>Do not forget to load your new configuration using <code>. ~/.bash_aliases</code> or by restarting your profile.</em></p>
<h5>
Fish
</h2>
<p>In <code>~/.config/fish/config.fish</code>, add:</p>
<div class="sourceCode" id="cb572"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb572-1" title="1"><span class="ex">abbr</span> setclip <span class="st">&quot;xclip -selection c&quot;</span></a>
<a class="sourceLine" id="cb572-2" title="2"><span class="ex">abbr</span> getclip <span class="st">&quot;xclip -selection c -o&quot;</span></a></code></pre></div>
<p><em>Do not forget to restart your fish instance by restarting your terminal for changes to apply.</em></p>
<h5>
Usage
</h1>
<p>You can now use <code>setclip</code> and <code>getclip</code>, e.g:</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb573-1" title="1">$ <span class="bu">echo</span> foo <span class="kw">|</span> <span class="ex">setclip</span></a>
<a class="sourceLine" id="cb573-2" title="2">$ <span class="ex">getclip</span></a>
<a class="sourceLine" id="cb573-3" title="3"><span class="ex">foo</span></a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-recursively-download-a-folder-via-ftp-on-linux-score-452057-in-2016" class="level3">
<h3>98: How to recursively download a folder via FTP on Linux (score <a href="https://stackoverflow.com/q/113886.html">452057</a> in 2016)</h3>
<section id="question-97" class="level4">
<h4>Question</h4>
<p>I’m trying to ftp a folder using the command line ftp client, but so far I’ve only been able to use ‘get’ to get individual files.</p>
</section>
<section id="answer-accepted-score-604" class="level4">
<h4>Answer accepted (score 604)</h4>
<p>You could rely on wget which usually handles ftp get properly (at least in my own experience). For example:</p>
<div class="sourceCode" id="cb574"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb574-1" title="1"><span class="fu">wget</span> -r ftp://user:pass@server.com/</a></code></pre></div>
<p>You can also use <code>-m</code> which is suitable for mirroring. It is currently equivalent to <code>-r -N -l inf</code>.</p>
<p>If you’ve some special characters in the credential details, you can specify the <code>--user</code> and <code>--password</code> arguments to get it to work. Example with custom login with specific characters:</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb575-1" title="1"><span class="fu">wget</span> -r --user=<span class="st">&quot;user@login&quot;</span> --password=<span class="st">&quot;Pa</span><span class="va">$$</span><span class="st">wo|^D&quot;</span> ftp://server.com/</a></code></pre></div>
<p>
<strong>EDIT</strong> As pointed out by <span class="citation" data-cites="asmaier">@asmaier</span>, watch out that even if <code>-r</code> is for recursion, it has a default max level of 5:
</p>
<blockquote>
<div class="sourceCode" id="cb576"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb576-1" title="1">       <span class="ex">-r</span></a>
<a class="sourceLine" id="cb576-2" title="2">       <span class="ex">--recursive</span></a>
<a class="sourceLine" id="cb576-3" title="3">           <span class="ex">Turn</span> on recursive retrieving.</a>
<a class="sourceLine" id="cb576-4" title="4"></a>
<a class="sourceLine" id="cb576-5" title="5">       <span class="ex">-l</span> depth</a>
<a class="sourceLine" id="cb576-6" title="6">       <span class="ex">--level</span>=depth</a>
<a class="sourceLine" id="cb576-7" title="7">           <span class="ex">Specify</span> recursion maximum depth level depth.  The default maximum depth is 5.</a></code></pre></div>
</blockquote>
<p>If you don’t want to miss out subdirs, better use the mirroring option, <code>-m</code>:</p>
<blockquote>
<div class="sourceCode" id="cb577"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb577-1" title="1">       <span class="ex">-m</span></a>
<a class="sourceLine" id="cb577-2" title="2">       <span class="ex">--mirror</span></a>
<a class="sourceLine" id="cb577-3" title="3">           <span class="ex">Turn</span> on options suitable for mirroring.  This option turns on recursion and time-stamping, sets infinite</a>
<a class="sourceLine" id="cb577-4" title="4">           <span class="ex">recursion</span> depth and keeps FTP directory listings.  It is currently equivalent to -r -N -l inf</a>
<a class="sourceLine" id="cb577-5" title="5">           <span class="ex">--no-remove-listing.</span></a></code></pre></div>
</blockquote>
</section>
<section id="answer-2-score-159" class="level4">
<h4>Answer 2 (score 159)</h4>
<p>Just to complement the answer given by Thibaut Barrère.</p>
<p>I used</p>
<div class="sourceCode" id="cb578"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb578-1" title="1"><span class="fu">wget</span> -r -nH --cut-dirs=5 -nc ftp://user:pass@server//absolute/path/to/directory</a></code></pre></div>
<p>Note the double slash after the server name. If I don’t put an extra slash the path is relative to the home directory of user.</p>
<ul>
<li>
-nH avoids the creation of a directory named after the server name
</li>
<li>
-nc avoids creating a new file if it already exists on the destination (it is just skipped)
</li>
<li>
–cut-dirs=5 allows me to take the content of /absolute/path/to/directory and to put it in the directory where I launch wget. The number 5 is used to filter out the 5 components of the path. The double slash means an extra component.
</li>
</ul>
</section>
<section id="answer-3-score-25" class="level4">
<h4>Answer 3 (score 25)</h4>
<div class="sourceCode" id="cb579"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb579-1" title="1"><span class="ex">ncftp</span> -u <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">user</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">-p</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">pass</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="kw">&amp;</span><span class="ex">lt</span><span class="kw">;</span><span class="ex">server</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span></a>
<a class="sourceLine" id="cb579-2" title="2"><span class="ex">ncftp</span><span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">mget</span> directory</a></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="count-number-of-files-within-a-directory-in-linux-score-451411-in-2018" class="level3">
<h3>99: Count number of files within a directory in Linux? (score <a href="https://stackoverflow.com/q/20895290.html">451411</a> in 2018)</h3>
<section id="question-98" class="level4">
<h4>Question</h4>
<p>To count the number of files in a directory, I typically use</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb580-1" title="1"><span class="fu">ls</span> directory <span class="kw">|</span> <span class="fu">wc</span> -l</a></code></pre></div>
<p>But is there another command that doesn’t use <code>wc</code> ?</p>
</section>
<section id="answer-accepted-score-430" class="level4">
<h4>Answer accepted (score 430)</h4>
<p>this is one:</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb581-1" title="1"><span class="fu">ls</span> -l . <span class="kw">|</span> <span class="fu">egrep</span> -c <span class="st">&#39;^-&#39;</span></a></code></pre></div>
<p>Note:</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb582-1" title="1"><span class="fu">ls</span> -1 <span class="kw">|</span> <span class="fu">wc</span> -l</a></code></pre></div>
<p>
Which means: <code>ls:</code> list files in dir
</p>
<p><code>-1:</code> (that’s a ONE) only one entry per line. Change it to -1a if you want hidden files too</p>
<p><code>| :</code> pipe output onto…</p>
<p><code>wc:</code> “wordcount”</p>
<p><code>-l:</code> count <code>l</code>ines.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="exploring-docker-containers-file-system-score-448919-in-2017" class="level3">
<h3>100: Exploring Docker container’s file system (score <a href="https://stackoverflow.com/q/20813486.html">448919</a> in 2017)</h3>
<section id="question-99" class="level4">
<h4>Question</h4>
<p>I’ve noticed with docker that I need to understand what’s happening inside a container or what files exist in there. One example is downloading images from the docker index - you don’t have a clue what the image contains so it’s impossible to start the application.</p>
<p>What would be ideal is to be able to ssh into them or equivalent. Is there a tool to do this, or is my conceptualisation of docker wrong in thinking I should be able to do this.</p>
</section>
<section id="answer-accepted-score-634" class="level4">
<h4>Answer accepted (score 634)</h4>
<p><strong>Method 1: snapshoting</strong></p>
<p>You can evaluate container filesystem this way:</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb583-1" title="1"><span class="co"># find ID of your running container:</span></a>
<a class="sourceLine" id="cb583-2" title="2"><span class="ex">docker</span> ps</a>
<a class="sourceLine" id="cb583-3" title="3"></a>
<a class="sourceLine" id="cb583-4" title="4"><span class="co"># create image (snapshot) from container filesystem</span></a>
<a class="sourceLine" id="cb583-5" title="5"><span class="ex">docker</span> commit 12345678904b5 mysnapshot</a>
<a class="sourceLine" id="cb583-6" title="6"></a>
<a class="sourceLine" id="cb583-7" title="7"><span class="co"># explore this filesystem using bash (for example)</span></a>
<a class="sourceLine" id="cb583-8" title="8"><span class="ex">docker</span> run -t -i mysnapshot /bin/bash</a></code></pre></div>
<p>This way, you can evaluate filesystem of the running container in the precise time moment. Container is still running, no future changes are included.</p>
<p>You can later delete snapshot using (filesystem of the running container is not affected!):</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb584-1" title="1"><span class="ex">docker</span> rmi mysnapshot</a></code></pre></div>
<p><strong>Method 2: ssh</strong></p>
<p>If you need continuous access, you can install sshd to your container and run the sshd daemon:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb585-1" title="1"> <span class="ex">docker</span> run -d -p 22 mysnapshot /usr/sbin/sshd -D</a>
<a class="sourceLine" id="cb585-2" title="2"></a>
<a class="sourceLine" id="cb585-3" title="3"> <span class="co"># you need to find out which port to connect:</span></a>
<a class="sourceLine" id="cb585-4" title="4"> <span class="ex">docker</span> ps</a></code></pre></div>
<p>This way, you can run your app using ssh (connect and execute what you want).</p>
<p><strong>UPDATE - Method 3: nsenter</strong></p>
<p>Use <code>nsenter</code>, see <a href="http://blog.docker.com/2014/06/why-you-dont-need-to-run-sshd-in-docker/" rel="nofollow noreferrer">http://blog.docker.com/2014/06/why-you-dont-need-to-run-sshd-in-docker/</a></p>
<blockquote>
<p>
<em>The short version is: with nsenter, you can get a shell into an existing container, even if that container doesn’t run SSH or any kind of special-purpose daemon</em>
</p>
</blockquote>
<p><strong>UPDATE - Method 4: docker exec</strong></p>
<p>Docker version 1.3 or newer supports the command <code>exec</code> that behave similar to <code>nsenter</code>. This command can run new process in already running container (container must have PID 1 process running already). You can run <code>/bin/bash</code> to explore container state:</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb586-1" title="1"><span class="ex">docker</span> exec -t -i mycontainer /bin/bash</a></code></pre></div>
<p>see <a href="https://docs.docker.com/v1.3/reference/commandline/cli/#exec" rel="nofollow noreferrer">Docker command line documentation</a></p>
</section>
<section id="answer-2-score-216" class="level4">
<h4>Answer 2 (score 216)</h4>
<p><strong>UPDATE: EXPLORING!</strong></p>
<p>This command should let you <strong>explore a running docker container</strong>:</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb587-1" title="1"><span class="ex">docker</span> exec -it name-of-container bash</a></code></pre></div>
<p>The equivalent for this in docker-compose would be:</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb588-1" title="1"><span class="ex">docker-compose</span> exec web bash</a></code></pre></div>
<p>(web is the name-of-service in this case and it has tty by default.)</p>
<p>Once you are inside do:</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb589-1" title="1"><span class="fu">ls</span> -lsa</a></code></pre></div>
<p>or any other bash command like:</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb590-1" title="1"><span class="bu">cd</span> ..</a></code></pre></div>
<hr>
<p>This command should let you <strong>explore a docker image</strong>:</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb591-1" title="1"><span class="ex">docker</span> run --rm -it --entrypoint=/bin/bash name-of-image</a></code></pre></div>
<p>once inside do:</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb592-1" title="1"><span class="fu">ls</span> -lsa</a></code></pre></div>
<p>or any other bash command like:</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb593-1" title="1"><span class="bu">cd</span> ..</a></code></pre></div>
<p>The <code>-it</code> stands for interactive… and tty.</p>
<hr>
<p>This command should let you <strong>inspect a running docker container or image</strong>:</p>
<p><code>docker inspect name-of-container-or-image</code></p>
<p>You might want to do this and find out if there is any <code>bash</code> or <code>sh</code> in there. Look for entrypoint or cmd in the json return.</p>
<p>see <a href="https://docs.docker.com/engine/reference/commandline/exec/#usage" rel="noreferrer">docker exec documentation</a></p>
<p>see <a href="https://docs.docker.com/compose/reference/exec/" rel="noreferrer">docker-compose exec documentation</a></p>
<p>see <a href="https://docs.docker.com/engine/reference/commandline/inspect/" rel="noreferrer">docker inspect documentation</a></p>
</section>
<section id="answer-3-score-145" class="level4">
<h4>Answer 3 (score 145)</h4>
<p>You may archive your container’ filesystem into tar file:</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb594-1" title="1"><span class="ex">docker</span> export adoring_kowalevski <span class="kw">&amp;</span><span class="ex">gt</span><span class="kw">;</span> <span class="ex">contents.tar</span></a></code></pre></div>
This way works even if your container is stopped and doesn’t have any shell program like <code>/bin/bash</code>. I mean images like hello-world from <a href="https://docs.docker.com/installation/ubuntulinux/#installing-docker-on-ubuntu" rel="noreferrer">Docker documentation</a>.<br />

</section>
</section>
</section>
</body>
</html>
