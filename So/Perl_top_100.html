<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Perl_top_100.md – Perl &lt;- StackOverflow top 100</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span. { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="../Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="../Css/layout_toc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/javascript" src="../Css/js_masonry_desandro.js"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Perl &lt;- StackOverflow top 100</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#find-size-of-an-array-in-perl-score-559516-in-2015">1: Find size of an array in Perl (score <span>559516</span> in 2015)</a></li>
<li><a href="#how-do-i-break-out-of-a-loop-in-perl-score-547733-in-2014">2: How do I break out of a loop in Perl? (score <span>547733</span> in 2014)</a></li>
<li><a href="#how-to-fix-a-locale-setting-warning-from-perl-score-488557-in-2016">3: How to fix a locale setting warning from Perl? (score <span>488557</span> in 2016)</a></li>
<li><a href="#how-can-i-check-if-a-perl-array-contains-a-particular-value-score-389390-in-2010">4: How can I check if a Perl array contains a particular value? (score <span>389390</span> in 2010)</a></li>
<li><a href="#how-do-i-compare-two-strings-in-perl-score-361902-in-2009">5: How do I compare two strings in Perl? (score <span>361902</span> in 2009)</a></li>
<li><a href="#how-do-you-round-a-floating-point-number-in-perl-score-322891-in-2008">7: How do you round a floating point number in Perl? (score <span>322891</span> in 2008)</a></li>
<li><a href="#how-can-i-print-the-contents-of-a-hash-in-perl-score-306215-in-2016">8: How can I print the contents of a hash in Perl? (score <span>306215</span> in 2016)</a></li>
<li><a href="#check-whether-a-string-contains-a-substring-score-302935-in-2017">9: Check whether a string contains a substring (score <span>302935</span> in 2017)</a></li>
<li><a href="#string-compare-in-perl-with-eq-vs-score-301040-in-2016">10: String compare in Perl with “eq” vs “==” (score <span>301040</span> in 2016)</a></li>
<li><a href="#perl-read-line-by-line-score-273520-in-2012">11: Perl read line by line (score <span>273520</span> in 2012)</a></li>
<li><a href="#how-can-i-check-if-a-file-exists-in-perl-score-269401-in-2013">12: How can I check if a file exists in Perl? (score <span>269401</span> in 2013)</a></li>
<li><a href="#how-can-i-convert-a-string-to-a-number-in-perl-score-264988-in-2012">13: How can I convert a string to a number in Perl? (score <span>264988</span> in 2012)</a></li>
<li><a href="#how-do-i-enter-a-multi-line-comment-in-perl-score-250429-in-2017">14: How do I enter a multi-line comment in Perl? (score <span>250429</span> in 2017)</a></li>
<li><a href="#how-do-i-use-boolean-variables-in-perl-score-243622-in-2009">15: How do I use boolean variables in Perl? (score <span>243622</span> in 2009)</a></li>
<li><a href="#easy-way-to-print-perl-array-with-a-little-formatting-score-242206-in-2017">16: Easy way to print Perl array? (with a little formatting) (score <span>242206</span> in 2017)</a></li>
<li><a href="#whats-the-easiest-way-to-install-a-missing-perl-module-score-241111-in-2015">17: What’s the easiest way to install a missing Perl module? (score <span>241111</span> in 2015)</a></li>
<li><a href="#regex-to-match-any-character-including-new-lines-score-222128-in">18: Regex to match any character including new lines (score <span>222128</span> in )</a></li>
<li><a href="#best-way-to-iterate-through-a-perl-array-score-214532-in-2013">19: Best way to iterate through a Perl array (score <span>214532</span> in 2013)</a></li>
<li><a href="#whats-the-difference-between-perls-backticks-system-and-exec-score-212862-in-2010">20: What’s the difference between Perl’s backticks, system, and exec? (score <span>212862</span> in 2010)</a></li>
<li><a href="#show-a-pdf-files-in-users-browser-via-phpperl-score-211415-in-2012">21: Show a PDF files in users browser via PHP/Perl (score <span>211415</span> in 2012)</a></li>
<li><a href="#how-do-i-get-a-list-of-installed-cpan-modules-score-207546-in">22: How do I get a list of installed CPAN modules? (score <span>207546</span> in )</a></li>
<li><a href="#how-do-i-remove-duplicate-items-from-an-array-in-perl-score-206565-in-2014">23: How do I remove duplicate items from an array in Perl? (score <span>206565</span> in 2014)</a></li>
<li><a href="#perl---if-string-contains-text-score-204940-in-2015">24: Perl - If string contains text? (score <span>204940</span> in 2015)</a></li>
<li><a href="#how-to-extract-string-following-a-pattern-with-grep-regex-or-perl-score-193684-in-2018">25: How to extract string following a pattern with grep, regex or perl (score <span>193684</span> in 2018)</a></li>
<li><a href="#how-can-i-call-a-shell-command-in-my-perl-script-score-190411-in-2019">26: How can I call a shell command in my Perl script? (score <span>190411</span> in 2019)</a></li>
<li><a href="#the-program-cant-start-because-api-ms-win-crt-runtime-l1-1-0.dll-is-missing-while-starting-apache-server-on-my-computer-score-184586-in-2017">27: The program can’t start because api-ms-win-crt-runtime-l1-1-0.dll is missing while starting Apache server on my computer (score <span>184586</span> in 2017)</a></li>
<li><a href="#inappropriate-ioctl-for-device-score-183560-in-2016">28: “inappropriate ioctl for device” (score <span>183560</span> in 2016)</a></li>
<li><a href="#what-is-the-proper-way-to-check-if-a-string-is-empty-in-perl-score-182537-in-2010">29: What is the proper way to check if a string is empty in Perl? (score <span>182537</span> in 2010)</a></li>
<li><a href="#how-do-i-perform-a-perl-substitution-on-a-string-while-keeping-the-original-score-181742-in-2013">30: How do I perform a Perl substitution on a string while keeping the original? (score <span>181742</span> in 2013)</a></li>
<li><a href="#in-perl-how-can-i-concisely-check-if-a-variable-is-defined-and-contains-a-non-zero-length-string-score-177567-in-2009">31: In Perl, how can I concisely check if a $variable is defined and contains a non zero length string? (score <span>177567</span> in 2009)</a></li>
<li><a href="#how-do-i-search-a-perl-array-for-a-matching-string-score-176905-in-2010">32: How do I search a Perl array for a matching string? (score <span>176905</span> in 2010)</a></li>
<li><a href="#how-do-i-get-the-full-path-to-a-perl-script-that-is-executing-score-175554-in-2015">33: How do I get the full path to a Perl script that is executing? (score <span>175554</span> in 2015)</a></li>
<li><a href="#difference-between-and-expression-meta-characters-score-174237-in-2019">34: Difference between and  expression meta characters (score <span>174237</span> in 2019)</a></li>
<li><a href="#in-perl-how-can-i-read-an-entire-file-into-a-string-score-171157-in-2014">35: In Perl, how can I read an entire file into a string? (score <span>171157</span> in 2014)</a></li>
<li><a href="#how-to-match-any-non-white-space-character-except-a-particular-one-score-168481-in-2014">36: How to match any non white space character except a particular one? (score <span>168481</span> in 2014)</a></li>
<li><a href="#no-pg_hba.conf-entry-for-host-score-161302-in-2016">37: no pg_hba.conf entry for host (score <span>161302</span> in 2016)</a></li>
<li><a href="#array-initialization-in-perl-score-161143-in-2015">38: Array initialization in Perl (score <span>161143</span> in 2015)</a></li>
<li><a href="#how-do-i-configure-apache-2-to-run-perl-cgi-scripts-score-157915-in-2016">39: How do I configure Apache 2 to run Perl CGI scripts? (score <span>157915</span> in 2016)</a></li>
<li><a href="#how-can-i-check-if-a-perl-module-is-installed-on-my-system-from-the-command-line-score-157845-in-2009">40: How can I check if a Perl module is installed on my system from the command line? (score <span>157845</span> in 2009)</a></li>
<li><a href="#escaping-a-forward-slash-in-a-regular-expression-score-156283-in-2011">41: Escaping a forward slash in a regular expression (score <span>156283</span> in 2011)</a></li>
<li><a href="#how-to-print-variables-in-perl-score-148908-in-2017">42: How to print variables in Perl (score <span>148908</span> in 2017)</a></li>
<li><a href="#what-is-the-best-way-to-delete-a-value-from-an-array-in-perl-score-144303-in-2014">43: What is the best way to delete a value from an array in Perl? (score <span>144303</span> in 2014)</a></li>
<li><a href="#how-is-perls-inc-constructed-aka-what-are-all-the-ways-of-affecting-where-perl-modules-are-searched-for-score-141297-in-2017">44: How is Perl’s <span class="citation" data-cites="INC">@INC</span> constructed? (aka What are all the ways of affecting where Perl modules are searched for?) (score <span>141297</span> in 2017)</a></li>
<li><a href="#what-is-the-meaning-of-_-in-perl-score-140281-in-2010">45: What is the meaning of <span class="citation" data-cites="_">@_</span> in Perl? (score <span>140281</span> in 2010)</a></li>
<li><a href="#submit-form-and-stay-on-same-page-score-139638-in">46: Submit form and stay on same page? (score <span>139638</span> in )</a></li>
<li><a href="#todays-date-in-perl-in-mmddyyyy-format-score-138594-in-2012">47: Today’s Date in Perl in MM/DD/YYYY format (score <span>138594</span> in 2012)</a></li>
<li><a href="#how-do-i-include-a-perl-module-thats-in-a-different-directory-score-138552-in-2016">48: How do I include a Perl module that’s in a different directory? (score <span>138552</span> in 2016)</a></li>
<li><a href="#find-everything-between-two-xml-tags-with-regex-score-137341-in-2018">49: Find everything between two XML tags with RegEx (score <span>137341</span> in 2018)</a></li>
<li><a href="#programmatically-read-from-stdin-or-input-file-in-perl-score-135677-in">50: Programmatically read from STDIN or input file in Perl (score <span>135677</span> in )</a></li>
<li><a href="#what-does-1-mean-in-perl-score-133432-in-2009">52: What does $1 mean in Perl? (score <span>133432</span> in 2009)</a></li>
<li><a href="#quickly-getting-to-yyyy-mm-dd-hhmmss-in-perl-score-133065-in-2009">53: Quickly getting to YYYY-mm-dd HH:MM:SS in Perl (score <span>133065</span> in 2009)</a></li>
<li><a href="#how-do-i-get-a-files-last-modified-time-in-perl-score-131340-in">54: How do I get a file’s last modified time in Perl? (score <span>131340</span> in )</a></li>
<li><a href="#perl-regular-expression-using-a-variable-as-a-search-string-with-perl-operator-characters-included-score-131154-in-2018">55: Perl regular expression (using a variable as a search string with Perl operator characters included) (score <span>131154</span> in 2018)</a></li>
<li><a href="#turning-multiple-lines-into-one-line-with-comma-separated-perlsedawk-score-126035-in">56: Turning multiple lines into one line with comma separated (Perl/Sed/AWK) (score <span>126035</span> in )</a></li>
<li><a href="#perl-function-to-trim-string-leading-and-trailing-whitespace-score-125433-in-2011">57: Perl: function to trim string leading and trailing whitespace (score <span>125433</span> in 2011)</a></li>
<li><a href="#how-do-i-tell-if-a-variable-has-a-numeric-value-in-perl-score-125334-in-2009">58: How do I tell if a variable has a numeric value in Perl? (score <span>125334</span> in 2009)</a></li>
<li><a href="#match-whitespace-but-not-newlines-score-125061-in-2016">59: Match whitespace but not newlines (score <span>125061</span> in 2016)</a></li>
<li><a href="#how-can-perls-print-add-a-newline-by-default-score-124937-in-2010">60: How can Perl’s print add a newline by default? (score <span>124937</span> in 2010)</a></li>
<li><a href="#negative-regex-for-perl-string-pattern-match-score-124513-in-2017">61: Negative regex for Perl string pattern match (score <span>124513</span> in 2017)</a></li>
<li><a href="#in-perl-how-do-i-create-a-hash-whose-keys-come-from-a-given-array-score-121882-in-2015">62: In Perl, how do I create a hash whose keys come from a given array? (score <span>121882</span> in 2015)</a></li>
<li><a href="#how-can-i-see-if-a-perl-hash-already-has-a-certain-key-score-120275-in-2015">63: How can I see if a Perl hash already has a certain key? (score <span>120275</span> in 2015)</a></li>
<li><a href="#how-do-i-convert-a-datetime-to-epoch-time-unix-timeseconds-since-1970-in-perl-score-119553-in-2018">64: How do I convert a date/time to epoch time (unix time/seconds since 1970) in Perl? (score <span>119553</span> in 2018)</a></li>
<li><a href="#how-can-i-start-an-interactive-console-for-perl-score-117894-in-2015">65: How can I start an interactive console for Perl? (score <span>117894</span> in 2015)</a></li>
<li><a href="#how-can-i-output-utf-8-from-perl-score-115758-in-2013">66: How can I output UTF-8 from Perl? (score <span>115758</span> in 2013)</a></li>
<li><a href="#how-can-i-install-a-cpan-module-into-a-local-directory-score-115048-in-2017">67: How can I install a CPAN module into a local directory? (score <span>115048</span> in 2017)</a></li>
<li><a href="#the-correct-way-to-read-a-data-file-into-an-array-score-114674-in-2014">68: The correct way to read a data file into an array (score <span>114674</span> in 2014)</a></li>
<li><a href="#how-to-see-if-a-directory-exists-or-not-in-perl-score-113090-in">69: How to see if a directory exists or not in Perl? (score <span>113090</span> in )</a></li>
<li><a href="#how-to-efficiently-calculate-a-running-standard-deviation-score-113026-in-2019">70: How to efficiently calculate a running standard deviation? (score <span>113026</span> in 2019)</a></li>
<li><a href="#counting-array-elements-in-perl-score-112206-in-2016">71: Counting array elements in Perl (score <span>112206</span> in 2016)</a></li>
<li><a href="#better-way-to-remove-specific-characters-from-a-perl-string-score-110624-in-2015">72: Better way to remove specific characters from a Perl string (score <span>110624</span> in 2015)</a></li>
<li><a href="#how-to-remove-the-first-two-columns-in-a-file-using-shell-awk-sed-whatever-score-109506-in-2016">73: how to remove the first two columns in a file using shell (awk, sed, whatever) (score <span>109506</span> in 2016)</a></li>
<li><a href="#whats-the-safest-way-to-iterate-through-the-keys-of-a-perl-hash-score-109288-in-2008">74: What’s the safest way to iterate through the keys of a Perl hash? (score <span>109288</span> in 2008)</a></li>
<li><a href="#what-is-the-difference-between-my-and-our-in-perl-score-107621-in-2015">75: What is the difference between my and our in Perl? (score <span>107621</span> in 2015)</a></li>
<li><a href="#how-can-i-list-all-of-the-files-in-a-directory-with-perl-score-107466-in-2014">76: How can I list all of the files in a directory with Perl? (score <span>107466</span> in 2014)</a></li>
<li><a href="#how-do-i-sleep-for-a-millisecond-in-perl-score-107325-in-2012">77: How do I sleep for a millisecond in Perl? (score <span>107325</span> in 2012)</a></li>
<li><a href="#in-perl-how-to-remove-m-from-a-file-score-106742-in-2017">78: In Perl, how to remove ^M from a file? (score <span>106742</span> in 2017)</a></li>
<li><a href="#split-a-string-into-array-in-perl-score-106685-in-2018">79: Split a string into array in Perl (score <span>106685</span> in 2018)</a></li>
<li><a href="#printing-everything-except-the-first-field-with-awk-score-105846-in-2018">80: Printing everything except the first field with awk (score <span>105846</span> in 2018)</a></li>
<li><a href="#end-of-script-output-before-headers-error-in-apache-score-105429-in-2014">81: “End of script output before headers” error in Apache (score <span>105429</span> in 2014)</a></li>
<li><a href="#neatest-way-to-remove-linebreaks-in-perl-score-105050-in-2009">82: Neatest way to remove linebreaks in Perl (score <span>105050</span> in 2009)</a></li>
<li><a href="#grep-to-find-item-in-perl-array-score-105013-in-2017">83: Grep to find item in Perl array (score <span>105013</span> in 2017)</a></li>
<li><a href="#automatically-get-loop-index-in-foreach-loop-in-perl-score-104712-in">84: automatically get loop index in foreach loop in perl (score <span>104712</span> in )</a></li>
<li><a href="#search-and-replace-a-particular-string-in-a-file-using-perl-score-104110-in-2017">85: Search and replace a particular string in a file using Perl (score <span>104110</span> in 2017)</a></li>
<li><a href="#how-do-i-update-all-my-cpan-modules-to-their-latest-versions-score-103764-in-2016">86: How do I update all my CPAN modules to their latest versions? (score <span>103764</span> in 2016)</a></li>
<li><a href="#how-should-i-do-integer-division-in-perl-score-103299-in-2009">87: How should I do integer division in Perl? (score <span>103299</span> in 2009)</a></li>
<li><a href="#rename-files-and-directories-add-prefix-score-101108-in-2011">88: Rename Files and Directories (Add Prefix) (score <span>101108</span> in 2011)</a></li>
<li><a href="#how-can-i-extract-substrings-from-a-string-in-perl-score-98783-in-2009">89: How can I extract substrings from a string in Perl? (score <span>98783</span> in 2009)</a></li>
<li><a href="#why-does-modern-perl-avoid-utf-8-by-default-score-97673-in-2018">90: Why does modern Perl avoid UTF-8 by default? (score <span>97673</span> in 2018)</a></li>
<li><a href="#how-can-i-remove-text-within-parentheses-with-a-regex-score-97531-in-2009">91: How can I remove text within parentheses with a regex? (score <span>97531</span> in 2009)</a></li>
<li><a href="#how-can-i-store-the-result-of-a-system-command-in-a-perl-variable-score-97221-in-2013">92: How can I store the result of a system command in a Perl variable? (score <span>97221</span> in 2013)</a></li>
<li><a href="#how-can-i-compile-my-perl-script-so-it-can-be-executed-on-systems-without-perl-installed-score-96840-in-2009">93: How can I compile my Perl script so it can be executed on systems without perl installed? (score <span>96840</span> in 2009)</a></li>
<li><a href="#how-can-i-delete-a-newline-if-it-is-the-last-character-in-a-file-score-96750-in-2017">94: How can I delete a newline if it is the last character in a file? (score <span>96750</span> in 2017)</a></li>
<li><a href="#how-to-compile-a-perl-script-to-a-windows-executable-with-strawberry-perl-score-96303-in-2016">95: How to compile a Perl script to a Windows executable with Strawberry Perl? (score <span>96303</span> in 2016)</a></li>
<li><a href="#how-to-use-a-variable-in-the-replacement-side-of-the-perl-substitution-operator-score-96218-in-2008">96: How to use a variable in the replacement side of the Perl substitution operator? (score <span>96218</span> in 2008)</a></li>
<li><a href="#what-exactly-does-perls-bless-do-score-96108-in-2008">97: What exactly does Perl’s “bless” do? (score <span>96108</span> in 2008)</a></li>
<li><a href="#how-can-i-ssh-inside-a-perl-script-score-94512-in-2015">98: How can I ssh inside a Perl script? (score <span>94512</span> in 2015)</a></li>
<li><a href="#in-perl-what-is-the-difference-between-a-.pm-perl-module-and-.pl-perl-script-file-score-94271-in-2012">99: In Perl, what is the difference between a .pm (Perl module) and .pl (Perl script) file? (score <span>94271</span> in 2012)</a></li>
<li><a href="#perl---multiple-condition-if-statement-without-duplicating-code-score-94162-in">100: Perl - Multiple condition if statement without duplicating code? (score <span>94162</span> in )</a></li>
</ul>
</nav>
<section class="level2">
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
<section id="find-size-of-an-array-in-perl-score-559516-in-2015" class="level3">
<h3>1: Find size of an array in Perl (score <a href="https://stackoverflow.com/q/7406807.html">559516</a> in 2015)</h3>
<section id="question" class="level4">
<h4>Question</h4>
<p>I seem to have come across several different ways to find the size of an array. What is the difference between these three methods?</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">my</span> <span class="dt">@arr</span> = (<span class="dv">2</span>);</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">print</span> <span class="fu">scalar</span> <span class="dt">@arr</span>; <span class="co"># First way to print array size</span></span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">print</span> <span class="dt">$#arr</span>; <span class="co"># Second way to print array size</span></span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="kw">my</span> <span class="dt">$arrSize</span> = <span class="dt">@arr</span>;</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">print</span> <span class="dt">$arrSize</span>; <span class="co"># Third way to print array size</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-228" class="level4">
<h4>Answer accepted (score 228)</h4>
<p>The first and third ways are the same: they evaluate an array in scalar context. I would consider this to be the standard way to get an array’s size.</p>
<p>The second way actually returns the last index of the array, which is not (usually) the same as the array size.</p>
</section>
<section id="answer-2-score-40" class="level4">
<h4>Answer 2 (score 40)</h4>
<p>First, the second is not equivalent to the other two. <code>$#array</code> returns the last index of the array, which is one less than the size of the array.</p>
<p>The other two are virtually the same. You are simply using two different means to create scalar context. It comes down to a question of readability.</p>
<p>I personally prefer the following:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb2-1"><a href="#cb2-1"></a>say <span class="dv">0</span>+<span class="dt">@array</span>;          <span class="co"># Represent @array as a number</span></span></code></pre></div>
<p>I find it clearer than</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb3-1"><a href="#cb3-1"></a>say <span class="fu">scalar</span>(<span class="dt">@array</span>);    <span class="co"># Represent @array as a scalar</span></span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">my</span> <span class="dt">$size</span> = <span class="dt">@array</span>;</span>
<span id="cb4-2"><a href="#cb4-2"></a>say <span class="dt">$size</span>;</span></code></pre></div>
<p>The latter looks quite clear alone like this, but I find that the extra line takes away from clarity when part of other code. It’s useful for teaching what <code>@array</code> does in scalar context, and maybe if you want to use <code>$size</code> more than once.</p>
</section>
<section id="answer-3-score-27" class="level4">
<h4>Answer 3 (score 27)</h4>
<p>This gets the size by forcing the array into a scalar context, in which it is evaluated as its size:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">print</span> <span class="fu">scalar</span> <span class="dt">@arr</span>;</span></code></pre></div>
<p>This is another way of forcing the array into a scalar context, since it’s being assigned to a scalar variable:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">my</span> <span class="dt">$arrSize</span> = <span class="dt">@arr</span>;</span></code></pre></div>
<p>This gets the index of the last element in the array, so it’s actually the size minus 1 (assuming indexes start at 0, which is adjustable in Perl although doing so is usually a bad idea):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">print</span> <span class="dt">$#arr</span>;</span></code></pre></div>
<p>This last one isn’t really good to use for getting the array size. It would be useful if you just want to get the last element of the array:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">my</span> <span class="dt">$lastElement</span> = <span class="dt">$arr</span>[<span class="dt">$#arr</span>];</span></code></pre></div>
<p>Also, as you can see here on Stack Overflow, this construct isn’t handled correctly by most syntax highlighters…</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-break-out-of-a-loop-in-perl-score-547733-in-2014" class="level3">
<h3>2: How do I break out of a loop in Perl? (score <a href="https://stackoverflow.com/q/303216.html">547733</a> in 2014)</h3>
<section id="question-1" class="level4">
<h4>Question</h4>
<p>I’m trying to use a <code>break</code> statement in a <code>for</code> loop, but since I’m also using strict subs in my Perl code, I’m getting an error saying:</p>
<blockquote>
<p>
Bareword “break” not allowed while “strict subs” in use at ./final.pl line 154.
</p>
</blockquote>
<p>Is there a workaround for this (besides disabling strict subs)?</p>
<p>My code is formatted as follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$entry</span> (<span class="dt">@array</span>){</span>
<span id="cb9-2"><a href="#cb9-2"></a>    <span class="kw">if</span> (<span class="dt">$string</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">text</span><span class="kw">&quot;</span>){</span>
<span id="cb9-3"><a href="#cb9-3"></a>         <span class="kw">break</span>;</span>
<span id="cb9-4"><a href="#cb9-4"></a>    }</span>
<span id="cb9-5"><a href="#cb9-5"></a>}</span></code></pre></div>
</section>
<section id="answer-accepted-score-425" class="level4">
<h4>Answer accepted (score 425)</h4>
<p>Oh, I found it. You use <a href="http://perldoc.perl.org/functions/last.html" rel="noreferrer">last</a> instead of <a href="https://perldoc.perl.org/functions/break.html" rel="noreferrer">break</a></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$entry</span> (<span class="dt">@array</span>){</span>
<span id="cb10-2"><a href="#cb10-2"></a>    <span class="kw">if</span> (<span class="dt">$string</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">text</span><span class="kw">&quot;</span>){</span>
<span id="cb10-3"><a href="#cb10-3"></a>         <span class="kw">last</span>;</span>
<span id="cb10-4"><a href="#cb10-4"></a>    }</span>
<span id="cb10-5"><a href="#cb10-5"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-174" class="level4">
<h4>Answer 2 (score 174)</h4>
<p>Additional data (in case you have more questions):</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb11-1"><a href="#cb11-1"></a>FOO: {</span>
<span id="cb11-2"><a href="#cb11-2"></a>       <span class="kw">for</span> <span class="kw">my</span> <span class="dt">$i</span> ( <span class="dt">@listone</span> ){</span>
<span id="cb11-3"><a href="#cb11-3"></a>          <span class="kw">for</span> <span class="kw">my</span> <span class="dt">$j</span> ( <span class="dt">@listtwo</span> ){</span>
<span id="cb11-4"><a href="#cb11-4"></a>                 <span class="kw">if</span> ( cond( <span class="dt">$i</span>,<span class="dt">$j</span> ) ){</span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a>                    <span class="kw">last</span> FOO;  <span class="co"># ---&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>                                   <span class="co"># |</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>                 }                 <span class="co"># |</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>          }                        <span class="co"># |</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>       }                           <span class="co"># |</span></span>
<span id="cb11-11"><a href="#cb11-11"></a> } <span class="co"># &lt;-------------------------------</span></span></code></pre></div>
</section>
<section id="answer-3-score-17" class="level4">
<h4>Answer 3 (score 17)</h4>
<p>Simply <code>last</code> would work here:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$entry</span> (<span class="dt">@array</span>){</span>
<span id="cb12-2"><a href="#cb12-2"></a>    <span class="kw">if</span> (<span class="dt">$string</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">text</span><span class="kw">&quot;</span>){</span>
<span id="cb12-3"><a href="#cb12-3"></a>         <span class="kw">last</span>;</span>
<span id="cb12-4"><a href="#cb12-4"></a>    }</span>
<span id="cb12-5"><a href="#cb12-5"></a>}</span></code></pre></div>
<p>If you have nested loops, then <code>last</code> will exit from the innermost. Use labels in this case:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb13-1"><a href="#cb13-1"></a>LBL_SCORE: {</span>
<span id="cb13-2"><a href="#cb13-2"></a>       <span class="kw">for</span> <span class="kw">my</span> <span class="dt">$entry1</span> ( <span class="dt">@array1</span> ){</span>
<span id="cb13-3"><a href="#cb13-3"></a>          <span class="kw">for</span> <span class="kw">my</span> <span class="dt">$entry2</span> ( <span class="dt">@array2</span> ){</span>
<span id="cb13-4"><a href="#cb13-4"></a>                 <span class="kw">if</span> ( <span class="dt">$entry1</span> <span class="kw">eq</span> <span class="dt">$entry2</span> ){   <span class="co"># or any condition</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>                    <span class="kw">last</span> LBL_SCORE;</span>
<span id="cb13-6"><a href="#cb13-6"></a>                 }</span>
<span id="cb13-7"><a href="#cb13-7"></a>          }</span>
<span id="cb13-8"><a href="#cb13-8"></a>       }</span>
<span id="cb13-9"><a href="#cb13-9"></a> }</span></code></pre></div>
<p>Given <code>last</code> statement will make compiler to come out from both the loops. Same can be done in any number of loops, and labels can be fixed anywhere.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-fix-a-locale-setting-warning-from-perl-score-488557-in-2016" class="level3">
<h3>3: How to fix a locale setting warning from Perl? (score <a href="https://stackoverflow.com/q/2499794.html">488557</a> in 2016)</h3>
<section id="question-2" class="level4">
<h4>Question</h4>
<p>When I run <code>perl</code>, I get the warning:</p>
<pre>perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LANGUAGE = (unset),
    LC_ALL = (unset),
    LANG = "en_US.UTF-8"
are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").</pre>
<p>How do I fix it?</p>
</section>
<section id="answer-accepted-score-419" class="level4">
<h4>Answer accepted (score 419)</h4>
<p>Your OS doesn’t know about <code>en_US.UTF-8</code>.</p>
<p>You didn’t mention a specific platform, but I can reproduce your problem:</p>
<pre>% uname -a
OSF1 hunter2 V5.1 2650 alpha
% perl -e exit
perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LC_ALL = (unset),
    LANG = "en_US.UTF-8"
    are supported and installed on your system.
perl: warning: Falling back to the standard locale ("C").</pre>
<p>My guess is you used ssh to connect to this older host from a newer desktop machine. It’s common for <code>/etc/ssh/sshd_config</code> to contain</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb14-1"><a href="#cb14-1"></a>AcceptEnv LANG LC_*</span></code></pre></div>
<p>which allows clients to propagate the values of those environment variables into new sessions.</p>
<p>The warning gives you a hint about how to squelch it if you don’t require the full-up locale:</p>
<pre>% env LANG=C perl -e exit
%</pre>
<p>or with bash:</p>
<pre>$ LANG=C perl -e exit
$ </pre>
<p>For a permanent fix, choose one of</p>
<ol>
<li>
On the older host, set the <code>LANG</code> environment variable in your shell’s initialization file.
</li>
<li>
Modify your environment on the client side, <em>e.g.</em>, rather than <code>ssh hunter2</code>, use the command <code>LANG=C ssh hunter2</code>.
</li>
<li>
If you have admin rights, stop ssh from sending the environment variables by commenting out the <code>SendEnv LANG LC_*</code> line in the <em>local</em> <code>/etc/ssh/ssh_config</code> file. (Thanks to <a href="https://askubuntu.com/questions/144235/locale-variables-have-no-effect-in-remote-shell-perl-warning-setting-locale-f/144448#144448">this answer</a>. See <a href="https://bugzilla.mindrot.org/show_bug.cgi?id=1285#c2" rel="noreferrer">Bug 1285</a> for OpenSSH for more.)
</li>
</ol>
</section>
<section id="answer-2-score-454" class="level4">
<h4>Answer 2 (score 454)</h4>
<p>Here is how to solve it on Mac OS Lion (10.7) or Cygwin (Windows 10):</p>
<p>Add the following lines to your bashrc or bash_profile on the host machine:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Setting for the new UTF-8 terminal support in Lion</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>export LC_CTYPE=en_US.UTF<span class="dv">-8</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>export LC_ALL=en_US.UTF<span class="dv">-8</span></span></code></pre></div>
<p>If you are using zsh, edit zshrc:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb16-1"><a href="#cb16-1"></a><span class="co"># Setting for the new UTF-8 terminal support in Lion</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>LC_CTYPE=en_US.UTF<span class="dv">-8</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>LC_ALL=en_US.UTF<span class="dv">-8</span></span></code></pre></div>
</section>
<section id="answer-3-score-194" class="level4">
<h4>Answer 3 (score 194)</h4>
<p>If you are creating a rootfs using debootstrap you will need to generate the locales. You can do this by running:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># (optional) enable missing locales</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>sudo nano /etc/<span class="kw">locale</span>.gen</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co"># then regenerate</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>sudo <span class="kw">locale</span>-gen</span></code></pre></div>
<p>This tip comes from, <a href="https://help.ubuntu.com/community/Xen" rel="noreferrer">https://help.ubuntu.com/community/Xen</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-check-if-a-perl-array-contains-a-particular-value-score-389390-in-2010" class="level3">
<h3>4: How can I check if a Perl array contains a particular value? (score <a href="https://stackoverflow.com/q/2860226.html">389390</a> in 2010)</h3>
<section id="question-3" class="level4">
<h4>Question</h4>
<p>I am trying to figure out a way of checking for the existence of a value in an array without iterating through the array.</p>
<p>I am reading a file for a parameter. I have a long list of parameters I do not want to deal with. I placed these unwanted parameters in an array <code>@badparams</code>.</p>
<p>I want to read a new parameter and if it does not exist in <code>@badparams</code>, process it. If it does exist in <code>@badparams</code>, go to the next read.</p>
</section>
<section id="answer-accepted-score-181" class="level4">
<h4>Answer accepted (score 181)</h4>
<p>Simply turn the array into a hash:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">my</span> <span class="dt">%params</span> = <span class="fu">map</span> { <span class="dt">$_</span> =&gt; <span class="dv">1</span> } <span class="dt">@badparams</span>;</span>
<span id="cb18-2"><a href="#cb18-2"></a></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="kw">if</span>(<span class="fu">exists</span>(<span class="dt">$params</span>{<span class="dt">$someparam</span>})) { ... }</span></code></pre></div>
<p>You can also add more (unique) params to the list:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb19-1"><a href="#cb19-1"></a><span class="dt">$params</span>{<span class="dt">$newparam</span>} = <span class="dv">1</span>;</span></code></pre></div>
<p>And later get a list of (unique) params back:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb20-1"><a href="#cb20-1"></a><span class="dt">@badparams</span> = <span class="fu">keys</span> <span class="dt">%params</span>;</span></code></pre></div>
</section>
<section id="answer-2-score-211" class="level4">
<h4>Answer 2 (score 211)</h4>
<p>Best general purpose - Especially short arrays (1000 items or less) and coders that are unsure of what optimizations best suit their needs.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># $value can be any regex. be safe</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="kw">if</span> ( <span class="fu">grep</span>( <span class="kw">/</span><span class="ch">^</span><span class="dt">$value</span><span class="ch">$</span><span class="kw">/</span>, <span class="dt">@array</span> ) ) {</span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">found it</span><span class="kw">&quot;</span>;</span>
<span id="cb21-4"><a href="#cb21-4"></a>}</span></code></pre></div>
<p>It has been mentioned that grep passes through all values even if the first value in the array matches. This is true, however <b>grep is still extremely fast for most cases</b>. If you’re talking about short arrays (less than 1000 items) then most algorithms are going to be pretty fast anyway. If you’re talking about very long arrays (1,000,000 items) grep is acceptably quick regardless of whether the item is the first or the middle or last in the array.</p>
<p><b>Optimization Cases for longer arrays:</b></p>
<p><b>If your array is sorted</b>, use a “binary search”.</p>
<p>If the <b>same array is repeatedly searched</b> many times, copy it into a hash first and then check the hash. If memory is a concern, then move each item from the array into the hash. More memory efficient but destroys the original array.</p>
<p>If <b>same values are searched repeatedly</b> within the array, lazily build a cache. (as each item is searched, first check if the search result was stored in a persisted hash. if the search result is not found in the hash, then search the array and put the result in the persisted hash so that next time we’ll find it in the hash and skip the search).</p>
<p>Note: these optimizations will only be faster when dealing with long arrays. Don’t over optimize.</p>
</section>
<section id="answer-3-score-117" class="level4">
<h4>Answer 3 (score 117)</h4>
<p>You can use smartmatch feature in <em>Perl 5.10</em> as follows:</p>
<p>For literal value lookup doing below will do the trick.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">if</span> ( <span class="kw">&quot;</span><span class="st">value</span><span class="kw">&quot;</span> ~~ <span class="dt">@array</span> ) </span></code></pre></div>
<p>For scalar lookup, doing below will work as above.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">if</span> (<span class="dt">$val</span> ~~ <span class="dt">@array</span>)</span></code></pre></div>
<p>For inline array doing below, will work as above.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">if</span> ( <span class="dt">$var</span> ~~ [<span class="kw">&#39;</span><span class="st">bar</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">value</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">foo</span><span class="kw">&#39;</span>] ) </span></code></pre></div>
<p>In <em>Perl 5.18</em> smartmatch is flagged as experimental therefore you need to turn off the warnings by turning on <a href="https://metacpan.org/pod/experimental">experimental</a> pragma by adding below to your script/module:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">use</span> experimental <span class="kw">&#39;</span><span class="st">smartmatch</span><span class="kw">&#39;</span>;</span></code></pre></div>
<p>Alternatively if you want to avoid the use of smartmatch - then as Aaron said use:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb26-1"><a href="#cb26-1"></a><span class="kw">if</span> ( <span class="fu">grep</span>( <span class="kw">/</span><span class="ch">^</span><span class="dt">$value</span><span class="ch">$</span><span class="kw">/</span>, <span class="dt">@array</span> ) ) {</span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="co">#TODO:</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-compare-two-strings-in-perl-score-361902-in-2009" class="level3">
<h3>5: How do I compare two strings in Perl? (score <a href="https://stackoverflow.com/q/1175390.html">361902</a> in 2009)</h3>
<section id="question-4" class="level4">
<h4>Question</h4>
<p>How do I compare two strings in Perl?</p>
<p>I am learning Perl, I had this basic question looked it up here on StackOverflow and found no good answer so I thought I would ask.</p>
</section>
<section id="answer-accepted-score-172" class="level4">
<h4>Answer accepted (score 172)</h4>
<p>See <a href="https://metacpan.org/pod/perlop#Equality-Operators" rel="noreferrer">perldoc perlop</a>. Use <code>lt</code>, <code>gt</code>, <code>eq</code>, <code>ne</code>, and <code>cmp</code> as appropriate for string comparisons:</p>
<blockquote>
<p>Binary <code>eq</code> returns true if the left argument is stringwise equal to the right argument.</p>
<p>Binary <code>ne</code> returns true if the left argument is stringwise not equal to the right argument.</p>
<p>Binary <code>cmp</code> returns -1, 0, or 1 depending on whether the left argument is stringwise less than, equal to, or greater than the right argument.</p>
<p>Binary <code>~~</code> does a smartmatch between its arguments. …</p>
<code>lt</code>, <code>le</code>, <code>ge</code>, <code>gt</code> and <code>cmp</code> use the collation (sort) order specified by the current locale if a legacy use locale (but not <code>use locale ':not_characters'</code>) is in effect. See <a href="https://metacpan.org/pod/perllocale" rel="noreferrer">perllocale</a>. Do not mix these with Unicode, only with legacy binary encodings. The standard <a href="https://metacpan.org/pod/Unicode::Collate" rel="noreferrer">Unicode::Collate</a> and <a href="https://metacpan.org/pod/Unicode::Collate::Locale" rel="noreferrer">Unicode::Collate::Locale</a> modules offer much more powerful solutions to collation issues.
</blockquote>
</section>
<section id="answer-2-score-132" class="level4">
<h4>Answer 2 (score 132)</h4>
<ul>
<li>
<p>
<code>cmp</code> Compare
</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">cmp</span> <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="co"># -1</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="kw">cmp</span> <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">cmp</span> <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="st">&lt;li&gt;&lt;p&gt;</span><span class="kw">`</span>eq<span class="kw">`</span><span class="st"> Equal to&lt;/p&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6"></a></span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="kw">```</span>perl</span>
<span id="cb27-8"><a href="#cb27-8"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">eq</span>  <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="kw">eq</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-10"><a href="#cb27-10"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">eq</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-11"><a href="#cb27-11"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb27-12"><a href="#cb27-12"></a><span class="st">&lt;li&gt;&lt;p&gt;</span><span class="kw">`</span>ne<span class="kw">`</span><span class="st"> Not-Equal to&lt;/p&gt;</span></span>
<span id="cb27-13"><a href="#cb27-13"></a></span>
<span id="cb27-14"><a href="#cb27-14"></a><span class="kw">```</span>perl</span>
<span id="cb27-15"><a href="#cb27-15"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">ne</span>  <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-16"><a href="#cb27-16"></a><span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="kw">ne</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-17"><a href="#cb27-17"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">ne</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-18"><a href="#cb27-18"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb27-19"><a href="#cb27-19"></a><span class="st">&lt;li&gt;&lt;p&gt;</span><span class="kw">`</span>lt<span class="kw">`</span><span class="st"> Less than&lt;/p&gt;</span></span>
<span id="cb27-20"><a href="#cb27-20"></a></span>
<span id="cb27-21"><a href="#cb27-21"></a><span class="kw">```</span>perl</span>
<span id="cb27-22"><a href="#cb27-22"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">lt</span>  <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-23"><a href="#cb27-23"></a><span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="kw">lt</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-24"><a href="#cb27-24"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">lt</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-25"><a href="#cb27-25"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb27-26"><a href="#cb27-26"></a><span class="st">&lt;li&gt;&lt;p&gt;</span><span class="kw">`</span>le<span class="kw">`</span><span class="st"> Less than or equal to&lt;/p&gt;</span></span>
<span id="cb27-27"><a href="#cb27-27"></a></span>
<span id="cb27-28"><a href="#cb27-28"></a><span class="kw">```</span>perl</span>
<span id="cb27-29"><a href="#cb27-29"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">le</span>  <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-30"><a href="#cb27-30"></a><span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="kw">le</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-31"><a href="#cb27-31"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">le</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-32"><a href="#cb27-32"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb27-33"><a href="#cb27-33"></a><span class="st">&lt;li&gt;&lt;p&gt;</span><span class="kw">`</span>gt<span class="kw">`</span><span class="st"> Greater than&lt;/p&gt;</span></span>
<span id="cb27-34"><a href="#cb27-34"></a></span>
<span id="cb27-35"><a href="#cb27-35"></a><span class="kw">```</span>perl</span>
<span id="cb27-36"><a href="#cb27-36"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">gt</span>  <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-37"><a href="#cb27-37"></a><span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="kw">gt</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-38"><a href="#cb27-38"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">gt</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-39"><a href="#cb27-39"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb27-40"><a href="#cb27-40"></a><span class="st">&lt;li&gt;&lt;p&gt;</span><span class="kw">`</span>ge<span class="kw">`</span><span class="st"> Greater than or equal to&lt;/p&gt;</span></span>
<span id="cb27-41"><a href="#cb27-41"></a></span>
<span id="cb27-42"><a href="#cb27-42"></a><span class="kw">```</span>perl</span>
<span id="cb27-43"><a href="#cb27-43"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">ge</span>  <span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="co">#  0</span></span>
<span id="cb27-44"><a href="#cb27-44"></a><span class="kw">&#39;</span><span class="st">b</span><span class="kw">&#39;</span> <span class="kw">ge</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-45"><a href="#cb27-45"></a><span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="kw">ge</span>  <span class="kw">&#39;</span><span class="st">a</span><span class="kw">&#39;</span> <span class="co">#  1</span></span>
<span id="cb27-46"><a href="#cb27-46"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb27-47"><a href="#cb27-47"></a><span class="st">&lt;/ul&gt;</span></span>
<span id="cb27-48"><a href="#cb27-48"></a></span>
<span id="cb27-49"><a href="#cb27-49"></a><span class="st">See &lt;a href=&quot;http://perldoc.perl.org/perlop.html#Equality-Operators&quot; rel=&quot;noreferrer&quot;&gt;</span><span class="kw">`</span>perldoc perlop<span class="kw">`</span><span class="st">&lt;/a&gt; for more information.  </span></span>
<span id="cb27-50"><a href="#cb27-50"></a></span>
<span id="cb27-51"><a href="#cb27-51"></a><span class="st">( I&#39;m simplifying this a little bit as all but </span><span class="kw">`</span>cmp<span class="kw">`</span><span class="st"> return a value that is both an empty string, and a numerically zero value instead of </span><span class="kw">`</span><span class="dv">0</span><span class="kw">`</span><span class="st">, and a value that is both the string </span><span class="kw">`&#39;</span><span class="st">1</span><span class="kw">&#39;`</span><span class="st"> and the numeric value </span><span class="kw">`</span><span class="dv">1</span><span class="kw">`</span><span class="st">. These are the same values you will always get from boolean operators in Perl. You should really only be using the return values for boolean or numeric operations, in which case the difference doesn&#39;t really matter. )  </span></span>
<span id="cb27-52"><a href="#cb27-52"></a></span>
<span id="cb27-53"><a href="#cb27-53"></a><span class="st">#### Answer 3 (score 17)</span></span>
<span id="cb27-54"><a href="#cb27-54"></a><span class="st">In addtion to Sinan Ünür comprehensive listing of string comparison operators, Perl 5.10 adds the smart match operator.  </span></span>
<span id="cb27-55"><a href="#cb27-55"></a></span>
<span id="cb27-56"><a href="#cb27-56"></a><span class="st">The smart match operator compares two items based on their type.  See the chart below for the 5.10 behavior (I believe this behavior is changing slightly in 5.10.1):  </span></span>
<span id="cb27-57"><a href="#cb27-57"></a></span>
<span id="cb27-58"><a href="#cb27-58"></a><span class="st">&lt;h5&gt;&lt;a href=&quot;http://perldoc.perl.org/perlsyn.html#Smart-matching-in-detail&quot; rel=&quot;noreferrer&quot;&gt;</span><span class="kw">`</span>perldoc perlsyn<span class="kw">`</span><span class="st"> &quot;Smart matching in detail&quot;&lt;/a&gt;:&lt;/h3&gt;</span></span>
<span id="cb27-59"><a href="#cb27-59"></a></span>
<span id="cb27-60"><a href="#cb27-60"></a><span class="st">&lt;blockquote&gt;&lt;p&gt;</span></span>
<span id="cb27-61"><a href="#cb27-61"></a><span class="st">The behaviour of a smart match depends on what type of thing its arguments are. It is always commutative, i.e. </span><span class="kw">`</span><span class="dt">$a</span> ~~ <span class="dt">$b</span><span class="kw">`</span><span class="st"> behaves the same as </span><span class="kw">`</span><span class="dt">$b</span> ~~ <span class="dt">$a</span><span class="kw">`</span><span class="st"> . The behaviour is determined by the following table: the first row that applies, in either order, determines the match behaviour.</span></span>
<span id="cb27-62"><a href="#cb27-62"></a></span>
<span id="cb27-63"><a href="#cb27-63"></a><span class="st">&lt;pre&gt;</span></span>
<span id="cb27-64"><a href="#cb27-64"></a><span class="st">  </span><span class="dt">$a</span><span class="st">      </span><span class="dt">$b</span><span class="st">        Type of Match Implied    Matching Code</span></span>
<span id="cb27-65"><a href="#cb27-65"></a><span class="st">  ======  =====     =====================    =============</span></span>
<span id="cb27-66"><a href="#cb27-66"></a><span class="st">  (overloading trumps everything)</span></span>
<span id="cb27-67"><a href="#cb27-67"></a></span>
<span id="cb27-68"><a href="#cb27-68"></a><span class="st">  Code[+] Code[+]   referential equality     </span><span class="dt">$a</span><span class="st"> == </span><span class="dt">$b</span><span class="st">   </span></span>
<span id="cb27-69"><a href="#cb27-69"></a><span class="st">  Any     Code[+]   scalar sub truth         </span><span class="dt">$b</span><span class="st">−&gt;(</span><span class="dt">$a</span><span class="st">)   </span></span>
<span id="cb27-70"><a href="#cb27-70"></a></span>
<span id="cb27-71"><a href="#cb27-71"></a><span class="st">  Hash    Hash      hash keys identical      [sort keys %</span><span class="dt">$a</span><span class="st">]~~[sort keys %</span><span class="dt">$b</span><span class="st">]</span></span>
<span id="cb27-72"><a href="#cb27-72"></a><span class="st">  Hash    Array     hash slice existence     grep {exists </span><span class="dt">$a</span><span class="st">−&gt;{</span><span class="dt">$_</span><span class="st">}} </span><span class="dt">@$b</span></span>
<span id="cb27-73"><a href="#cb27-73"></a>  Hash    Regex     hash key <span class="fu">grep</span>            <span class="fu">grep</span> <span class="kw">/</span><span class="dt">$b</span><span class="kw">/</span>, <span class="fu">keys</span> %<span class="dt">$a</span></span>
<span id="cb27-74"><a href="#cb27-74"></a>  Hash    Any       hash entry existence     <span class="fu">exists</span> <span class="dt">$a</span>−&gt;{<span class="dt">$b</span>}</span>
<span id="cb27-75"><a href="#cb27-75"></a></span>
<span id="cb27-76"><a href="#cb27-76"></a>  Array   Array     arrays are identical[<span class="kw">*</span>]</span>
<span id="cb27-77"><a href="#cb27-77"></a>  Array   Regex     array <span class="fu">grep</span>               <span class="fu">grep</span> <span class="kw">/</span><span class="dt">$b</span><span class="kw">/</span>, <span class="dt">@$a</span></span>
<span id="cb27-78"><a href="#cb27-78"></a>  Array   Num       array contains number    <span class="fu">grep</span> <span class="dt">$_</span> == <span class="dt">$b</span>, <span class="dt">@$a</span> </span>
<span id="cb27-79"><a href="#cb27-79"></a>  Array   Any       array contains string    <span class="fu">grep</span> <span class="dt">$_</span> <span class="kw">eq</span> <span class="dt">$b</span>, <span class="dt">@$a</span> </span>
<span id="cb27-80"><a href="#cb27-80"></a></span>
<span id="cb27-81"><a href="#cb27-81"></a>  Any     <span class="fu">undef</span>     undefined                !<span class="fu">defined</span> <span class="dt">$a</span></span>
<span id="cb27-82"><a href="#cb27-82"></a>  Any     Regex     pattern match            <span class="dt">$a</span> =~ <span class="kw">/</span><span class="dt">$b</span><span class="kw">/</span> </span>
<span id="cb27-83"><a href="#cb27-83"></a>  Code()  Code()    results are equal        <span class="dt">$a</span>−&gt;() <span class="kw">eq</span> <span class="dt">$b</span>−&gt;()</span>
<span id="cb27-84"><a href="#cb27-84"></a>  Any     Code()    simple closure truth     <span class="dt">$b</span>−&gt;() <span class="co"># ignoring $a</span></span>
<span id="cb27-85"><a href="#cb27-85"></a>  Num     numish[!] numeric equality         <span class="dt">$a</span> == <span class="dt">$b</span>   </span>
<span id="cb27-86"><a href="#cb27-86"></a>  Any     Str       string equality          <span class="dt">$a</span> <span class="kw">eq</span> <span class="dt">$b</span>   </span>
<span id="cb27-87"><a href="#cb27-87"></a>  Any     Num       numeric equality         <span class="dt">$a</span> == <span class="dt">$b</span>   </span>
<span id="cb27-88"><a href="#cb27-88"></a></span>
<span id="cb27-89"><a href="#cb27-89"></a>  Any     Any       string equality          <span class="dt">$a</span> <span class="kw">eq</span> <span class="dt">$b</span>   </span>
<span id="cb27-90"><a href="#cb27-90"></a></span>
<span id="cb27-91"><a href="#cb27-91"></a>+ − this must be a code reference whose <span class="fu">prototype</span> (<span class="kw">if</span> present) is <span class="kw">not</span> <span class="kw">&quot;&quot;</span></span>
<span id="cb27-92"><a href="#cb27-92"></a>(<span class="kw">subs</span> with a <span class="kw">&quot;&quot;</span> <span class="fu">prototype</span> are dealt with by the <span class="kw">&#39;</span><span class="st">Code()</span><span class="kw">&#39;</span> entry lower down) </span>
<span id="cb27-93"><a href="#cb27-93"></a><span class="kw">*</span> − that is, <span class="kw">each</span> element matches the element of same <span class="fu">index</span> in the other</span>
<span id="cb27-94"><a href="#cb27-94"></a>array. If a circular reference is found, we fall back to referential </span>
<span id="cb27-95"><a href="#cb27-95"></a>equality.   </span>
<span id="cb27-96"><a href="#cb27-96"></a>! − either a real number, <span class="kw">or</span> a string that looks like a number</span>
<span id="cb27-97"><a href="#cb27-97"></a>&lt;/pre&gt;</span>
<span id="cb27-98"><a href="#cb27-98"></a></span>
<span id="cb27-99"><a href="#cb27-99"></a>The <span class="kw">&quot;</span><span class="st">matching code</span><span class="kw">&quot;</span> doesn<span class="kw">&#39;</span><span class="st">t represent the real matching code, of course: it</span><span class="kw">&#39;</span>s just there to explain the intended meaning. Unlike <span class="fu">grep</span>, the smart match operator will short-circuit whenever it can.</span>
<span id="cb27-100"><a href="#cb27-100"></a></span>
<span id="cb27-101"><a href="#cb27-101"></a>Custom matching via overloading</span>
<span id="cb27-102"><a href="#cb27-102"></a>You can change the way that an object is matched by overloading the <span class="kw">`</span><span class="st">~~</span><span class="kw">`</span> operator. This trumps the usual smart match semantics. See &lt;a href=<span class="kw">&quot;</span><span class="st">http://perldoc.perl.org/overload.html</span><span class="kw">&quot;</span> rel=<span class="kw">&quot;</span><span class="st">noreferrer</span><span class="kw">&quot;</span>&gt;<span class="kw">`</span><span class="st">overload</span><span class="kw">`</span>&lt;/a&gt;.</span>
<span id="cb27-103"><a href="#cb27-103"></a></span>
<span id="cb27-104"><a href="#cb27-104"></a>&lt;/blockquote&gt;</span>
<span id="cb27-105"><a href="#cb27-105"></a></span>
<span id="cb27-106"><a href="#cb27-106"></a>&lt;/b&gt; &lt;/em&gt; &lt;/i&gt; &lt;/small&gt; &lt;/strong&gt; &lt;/<span class="kw">sub</span>&gt; &lt;/sup&gt;</span>
<span id="cb27-107"><a href="#cb27-107"></a></span>
<span id="cb27-108"><a href="#cb27-108"></a><span class="co">### 6: How can I pass command-line arguments to a Perl program? (score [338119](https://stackoverflow.com/q/361752.html) in 2012)</span></span>
<span id="cb27-109"><a href="#cb27-109"></a></span>
<span id="cb27-110"><a href="#cb27-110"></a><span class="co">#### Question</span></span>
<span id="cb27-111"><a href="#cb27-111"></a>I<span class="kw">&#39;</span><span class="st">m working on a Perl script. How can I pass command line parameters to it?  </span></span>
<span id="cb27-112"><a href="#cb27-112"></a></span>
<span id="cb27-113"><a href="#cb27-113"></a><span class="st">Example:  </span></span>
<span id="cb27-114"><a href="#cb27-114"></a></span>
<span id="cb27-115"><a href="#cb27-115"></a><span class="st">```perl</span></span>
<span id="cb27-116"><a href="#cb27-116"></a><span class="st">script.pl &quot;string1&quot; &quot;string2&quot;</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-188" class="level4">
<h4>Answer accepted (score 188)</h4>
<p>Depends on what you want to do. If you want to use the two arguments as input files, you can just pass them in and then use <code>&amp;lt;&amp;gt;</code> to read their contents.</p>
<p>If they have a different meaning, you can use <code>GetOpt::Std</code> and <code>GetOpt::Long</code> to process them easily. <code>GetOpt::Std</code> supports only single-character switches and <code>GetOpt::Long</code> is much more flexible. From <a href="http://perldoc.perl.org/Getopt/Long.html" rel="noreferrer"><code>GetOpt::Long</code></a>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">use</span> <span class="fu">Getopt::Long</span>;</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="kw">my</span> <span class="dt">$data</span>   = <span class="kw">&quot;</span><span class="st">file.dat</span><span class="kw">&quot;</span>;</span>
<span id="cb28-3"><a href="#cb28-3"></a><span class="kw">my</span> <span class="dt">$length</span> = <span class="dv">24</span>;</span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="kw">my</span> <span class="dt">$verbose</span>;</span>
<span id="cb28-5"><a href="#cb28-5"></a><span class="dt">$result</span> = GetOptions (<span class="kw">&quot;</span><span class="st">length=i</span><span class="kw">&quot;</span> =&gt; \<span class="dt">$length</span>,    <span class="co"># numeric</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>                    <span class="kw">&quot;</span><span class="st">file=s</span><span class="kw">&quot;</span>   =&gt; \<span class="dt">$data</span>,      <span class="co"># string</span></span>
<span id="cb28-7"><a href="#cb28-7"></a>                    <span class="kw">&quot;</span><span class="st">verbose</span><span class="kw">&quot;</span>  =&gt; \<span class="dt">$verbose</span>);  <span class="co"># flag</span></span></code></pre></div>
<p>Alternatively, <code>@ARGV</code> is a special variable that contains all the command line arguments. <code>$ARGV[0]</code> is the first (ie. <code>"string1"</code> in your case) and <code>$ARGV[1]</code> is the second argument. You don’t need a special module to access <code>@ARGV</code>.</p>
</section>
<section id="answer-2-score-60" class="level4">
<h4>Answer 2 (score 60)</h4>
<p>You pass them in just like you’re thinking, and in your script, you get them from the array <code>@ARGV</code>. Like so:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb29-1"><a href="#cb29-1"></a><span class="kw">my</span> <span class="dt">$numArgs</span> = <span class="dt">$#ARGV</span> + <span class="dv">1</span>;</span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">thanks, you gave me </span><span class="dt">$numArgs</span><span class="st"> command-line arguments.</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb29-3"><a href="#cb29-3"></a></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$argnum</span> (<span class="dv">0</span> .. <span class="dt">$#ARGV</span>) {</span>
<span id="cb29-5"><a href="#cb29-5"></a></span>
<span id="cb29-6"><a href="#cb29-6"></a>   <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$ARGV</span><span class="st">[</span><span class="dt">$argnum</span><span class="st">]</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb29-7"><a href="#cb29-7"></a></span>
<span id="cb29-8"><a href="#cb29-8"></a>}</span></code></pre></div>
<p>From <a href="http://www.devdaily.com/perl/edu/qanda/plqa00001.shtml" rel="noreferrer">here</a>.</p>
</section>
<section id="answer-3-score-29" class="level4">
<h4>Answer 3 (score 29)</h4>
<div class="sourceCode" id="cb30"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$arg</span> (<span class="dt">@ARGV</span>) {</span>
<span id="cb30-2"><a href="#cb30-2"></a>    <span class="fu">print</span> <span class="dt">$arg</span>, <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb30-3"><a href="#cb30-3"></a>}</span></code></pre></div>
<p>will print each argument.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-you-round-a-floating-point-number-in-perl-score-322891-in-2008" class="level3">
<h3>7: How do you round a floating point number in Perl? (score <a href="https://stackoverflow.com/q/178539.html">322891</a> in 2008)</h3>
<section id="question-5" class="level4">
<h4>Question</h4>
<p>How can I round a decimal number (floating point) to the nearest integer?</p>
<p>e.g. </p>
<div class="sourceCode" id="cb31"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb31-1"><a href="#cb31-1"></a><span class="fl">1.2</span> = <span class="dv">1</span></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fl">1.7</span> = <span class="dv">2</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-192" class="level4">
<h4>Answer accepted (score 192)</h4>
<p>Output of <a href="http://perldoc.perl.org/perlfaq4.html#Does-Perl-have-a-round%28)-function%3f--What-about-ceil()-and-floor()%3f--Trig-functions%3f" rel="noreferrer"><code>perldoc -q round</code></a></p>
<blockquote>
<p>Does Perl have a round() function? What about ceil() and floor()? Trig functions?</p>
<p>Remember that <a href="http://perldoc.perl.org/functions/int.html" rel="noreferrer"><code>int()</code></a> merely truncates toward <code>0</code>. For rounding to a certain number of digits, <a href="http://perldoc.perl.org/functions/sprintf.html" rel="noreferrer"><code>sprintf()</code></a> or <a href="http://perldoc.perl.org/functions/printf.html" rel="noreferrer"><code>printf()</code></a> is usually the easiest route.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb32-1"><a href="#cb32-1"></a>    <span class="fu">printf</span>(<span class="kw">&quot;</span><span class="st">%.3f</span><span class="kw">&quot;</span>, <span class="fl">3.1415926535</span>);       <span class="co"># prints 3.142</span></span></code></pre></div>
<p>The <a href="http://perldoc.perl.org/POSIX.html" rel="noreferrer"><code>POSIX</code></a> module (part of the standard Perl distribution) implements <code>ceil()</code>, <code>floor()</code>, and a number of other mathematical and trigonometric functions.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb33-1"><a href="#cb33-1"></a>    <span class="fu">use</span> POSIX;</span>
<span id="cb33-2"><a href="#cb33-2"></a>    <span class="dt">$ceil</span>   = ceil(<span class="fl">3.5</span>);                        <span class="co"># 4</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>    <span class="dt">$floor</span>  = floor(<span class="fl">3.5</span>);                       <span class="co"># 3</span></span></code></pre></div>
<p>In 5.000 to 5.003 perls, trigonometry was done in the <a href="http://perldoc.perl.org/Math/Complex.html" rel="noreferrer"><code>Math::Complex</code></a> module. With 5.004, the <a href="http://perldoc.perl.org/Math/Trig.html" rel="noreferrer"><code>Math::Trig</code></a> module (part of the standard Perl distribution) implements the trigonometric functions. Internally it uses the <a href="http://perldoc.perl.org/Math/Complex.html" rel="noreferrer"><code>Math::Complex</code></a> module and some functions can break out from the real axis into the complex plane, for example the inverse sine of 2.</p>
<p>Rounding in financial applications can have serious implications, and the rounding method used should be specified precisely. In these cases, it probably pays not to trust whichever system rounding is being used by Perl, but to instead implement the rounding function you need yourself.</p>
<p>To see why, notice how you’ll still have an issue on half-way-point alternation:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb34-1"><a href="#cb34-1"></a>    <span class="kw">for</span> (<span class="dt">$i</span> = <span class="dv">0</span>; <span class="dt">$i</span> &lt; <span class="fl">1.01</span>; <span class="dt">$i</span> += <span class="fl">0.05</span>) { <span class="fu">printf</span> <span class="kw">&quot;</span><span class="st">%.1f </span><span class="kw">&quot;</span>,<span class="dt">$i</span>}</span>
<span id="cb34-2"><a href="#cb34-2"></a></span>
<span id="cb34-3"><a href="#cb34-3"></a>    <span class="fl">0.0</span> <span class="fl">0.1</span> <span class="fl">0.1</span> <span class="fl">0.2</span> <span class="fl">0.2</span> <span class="fl">0.2</span> <span class="fl">0.3</span> <span class="fl">0.3</span> <span class="fl">0.4</span> <span class="fl">0.4</span> <span class="fl">0.5</span> <span class="fl">0.5</span> <span class="fl">0.6</span> <span class="fl">0.7</span> <span class="fl">0.7</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>    <span class="fl">0.8</span> <span class="fl">0.8</span> <span class="fl">0.9</span> <span class="fl">0.9</span> <span class="fl">1.0</span> <span class="fl">1.0</span></span></code></pre></div>
<p>Don’t blame Perl. It’s the same as in C. IEEE says we have to do this. Perl numbers whose absolute values are integers under <code>2**31</code> (on 32 bit machines) will work pretty much like mathematical integers. Other numbers are not guaranteed.</p>
</blockquote>
</section>
<section id="answer-2-score-127" class="level4">
<h4>Answer 2 (score 127)</h4>
<p>Whilst not disagreeing with the complex answers about half-way marks and so on, for the more common (and possibly trivial) use-case:</p>
<p><code>my $rounded = int($float + 0.5);</code></p>
<p><strong>UPDATE</strong></p>
<p>If it’s possible for your <code>$float</code> to be negative, the following variation will produce the correct result:</p>
<p><code>my $rounded = int($float + $float/abs($float*2 || 1));</code></p>
<p>With this calculation -1.4 is rounded to -1, and -1.6 to -2, and zero won’t explode.</p>
</section>
<section id="answer-3-score-71" class="level4">
<h4>Answer 3 (score 71)</h4>
<p>You can either use a module like <A href="http://search.cpan.org/dist/Math-Round" rel="noreferrer">Math::Round</a>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">use</span> <span class="fu">Math::Round</span>;</span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="kw">my</span> <span class="dt">$rounded</span> = round( <span class="dt">$float</span> );</span></code></pre></div>
<p>Or you can do it the crude way:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb36-1"><a href="#cb36-1"></a><span class="kw">my</span> <span class="dt">$rounded</span> = <span class="fu">sprintf</span> <span class="kw">&quot;</span><span class="st">%.0f</span><span class="kw">&quot;</span>, <span class="dt">$float</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-print-the-contents-of-a-hash-in-perl-score-306215-in-2016" class="level3">
<h3>8: How can I print the contents of a hash in Perl? (score <a href="https://stackoverflow.com/q/1162245.html">306215</a> in 2016)</h3>
<section id="question-6" class="level4">
<h4>Question</h4>
<p>
I keep printing my hash as # of buckets / # allocated. How do I print the contents of my hash?
</p>
<p>Without using a <code>while</code> loop would be most preferable (for example, a <a href="https://en.wikipedia.org/wiki/One-liner_program" rel="noreferrer">one-liner</a> would be best).</p>
</section>
<section id="answer-2-score-240" class="level4">
<h4>Answer 2 (score 240)</h4>
<p><a href="http://perldoc.perl.org/Data/Dumper.html" rel="noreferrer">Data::Dumper</a> is your friend.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">use</span> <span class="fu">Data::Dumper</span>;</span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="kw">my</span> <span class="dt">%hash</span> = (<span class="kw">&#39;</span><span class="st">abc</span><span class="kw">&#39;</span> =&gt; <span class="dv">123</span>, <span class="kw">&#39;</span><span class="st">def</span><span class="kw">&#39;</span> =&gt; [<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]);</span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="fu">print</span> Dumper(\<span class="dt">%hash</span>);</span></code></pre></div>
<p>will output</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb38-1"><a href="#cb38-1"></a><span class="dt">$VAR1</span> = {</span>
<span id="cb38-2"><a href="#cb38-2"></a>          <span class="kw">&#39;</span><span class="st">def</span><span class="kw">&#39;</span> =&gt; [</span>
<span id="cb38-3"><a href="#cb38-3"></a>                     <span class="dv">4</span>,</span>
<span id="cb38-4"><a href="#cb38-4"></a>                     <span class="dv">5</span>,</span>
<span id="cb38-5"><a href="#cb38-5"></a>                     <span class="dv">6</span></span>
<span id="cb38-6"><a href="#cb38-6"></a>                   ],</span>
<span id="cb38-7"><a href="#cb38-7"></a>          <span class="kw">&#39;</span><span class="st">abc</span><span class="kw">&#39;</span> =&gt; <span class="dv">123</span></span>
<span id="cb38-8"><a href="#cb38-8"></a>        };</span></code></pre></div>
</section>
<section id="answer-3-score-60" class="level4">
<h4>Answer 3 (score 60)</h4>
<p>Easy:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$_</span><span class="st"> </span><span class="dt">$h</span><span class="st">{</span><span class="dt">$_</span><span class="st">}</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">for</span> (<span class="fu">keys</span> <span class="dt">%h</span>);</span></code></pre></div>
<p>Elegant, but actually 30% slower (!):</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb40-1"><a href="#cb40-1"></a><span class="kw">while</span> (<span class="kw">my</span> (<span class="dt">$k</span>,<span class="dt">$v</span>)=<span class="kw">each</span> <span class="dt">%h</span>){<span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$k</span><span class="st"> </span><span class="dt">$v</span><span class="ch">\n</span><span class="kw">&quot;</span>}</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="check-whether-a-string-contains-a-substring-score-302935-in-2017" class="level3">
<h3>9: Check whether a string contains a substring (score <a href="https://stackoverflow.com/q/7283274.html">302935</a> in 2017)</h3>
<section id="question-7" class="level4">
<h4>Question</h4>
<p>How can I check whether a given string contains a certain substring, using Perl?</p>
<p>More specifically, I want to see whether <code>s1.domain.com</code> is present in the given string variable.</p>
</section>
<section id="answer-accepted-score-219" class="level4">
<h4>Answer accepted (score 219)</h4>
<p>To find out if a string contains substring you can use the <a href="http://perldoc.perl.org/functions/index.html" rel="noreferrer"><code>index</code></a> function:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb41-1"><a href="#cb41-1"></a><span class="kw">if</span> (<span class="fu">index</span>(<span class="dt">$str</span>, <span class="dt">$substr</span>) != <span class="dv">-1</span>) {</span>
<span id="cb41-2"><a href="#cb41-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$str</span><span class="st"> contains </span><span class="dt">$substr</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb41-3"><a href="#cb41-3"></a>} </span></code></pre></div>
<p>It will return the position of the first occurrence of <code>$substr</code> in <code>$str</code>, or -1 if the substring is not found.</p>
</section>
<section id="answer-2-score-54" class="level4">
<h4>Answer 2 (score 54)</h4>
<p>Another possibility is to use <a href="http://perldoc.perl.org/perlre.html" rel="noreferrer">regular expressions</a> which is what Perl is famous for:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb42-1"><a href="#cb42-1"></a><span class="kw">if</span> (<span class="dt">$mystring</span> =~ <span class="kw">/</span><span class="ot">s1\.domain\.com</span><span class="kw">/</span>) {</span>
<span id="cb42-2"><a href="#cb42-2"></a>   <span class="fu">print</span> <span class="kw">qq(</span><span class="st">&quot;</span><span class="dt">$mystring</span><span class="st">&quot; contains &quot;s1.domain.com&quot;</span><span class="ch">\n</span><span class="kw">)</span>;</span>
<span id="cb42-3"><a href="#cb42-3"></a>}</span></code></pre></div>
<p>The backslashes are needed because a <code>.</code> can match any character. You can get around this by using the <code>\Q</code> and <code>\E</code> operators.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb43-1"><a href="#cb43-1"></a><span class="kw">my</span> <span class="dt">$substring</span> = <span class="kw">&quot;</span><span class="st">s1.domain.com</span><span class="kw">&quot;</span>;</span>
<span id="cb43-2"><a href="#cb43-2"></a>    <span class="kw">if</span> (<span class="dt">$mystring</span> =~ <span class="kw">/</span><span class="ch">\Q</span><span class="dt">$substring</span><span class="ch">\E</span><span class="kw">/</span>) {</span>
<span id="cb43-3"><a href="#cb43-3"></a>   <span class="fu">print</span> <span class="kw">qq(</span><span class="st">&quot;</span><span class="dt">$mystring</span><span class="st">&quot; contains &quot;</span><span class="dt">$substring</span><span class="st">&quot;</span><span class="ch">\n</span><span class="kw">)</span>;</span>
<span id="cb43-4"><a href="#cb43-4"></a>}</span></code></pre></div>
<p>
Or, you can do as <a href="https://stackoverflow.com/users/244297/eugene-y">eugene y</a> stated and use the <a href="http://perldoc.perl.org/functions/index.html" rel="noreferrer">index</a> function. Just a word of warning: Index returns a <code>-1</code> when it can’t find a match instead of an <code>undef</code> or <code>0</code>.
</p>
<p>Thus, this is an error:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb44-1"><a href="#cb44-1"></a><span class="kw">my</span> <span class="dt">$substring</span> = <span class="kw">&quot;</span><span class="st">s1.domain.com</span><span class="kw">&quot;</span>;</span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="kw">if</span> (<span class="kw">not</span> <span class="fu">index</span>(<span class="dt">$mystring</span>, <span class="dt">$substr</span>)) {</span>
<span id="cb44-3"><a href="#cb44-3"></a>    <span class="fu">print</span> <span class="kw">qq(</span><span class="st">&quot;</span><span class="dt">$mystring</span><span class="st">&quot; doesn&#39;t contains &quot;</span><span class="dt">$substring</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;;</span></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="st">} </span></span></code></pre></div>
<p>This will be wrong if <code>s1.domain.com</code> is at the beginning of your string. I’ve personally been burned on this more than once.</p>
</section>
<section id="answer-3-score-14" class="level4">
<h4>Answer 3 (score 14)</h4>
<p><strong>Case Insensitive Substring Example</strong></p>
<p>This is an extension of Eugene’s answer, which converts the strings to lower case before checking for the substring:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb45-1"><a href="#cb45-1"></a><span class="kw">if</span> (<span class="fu">index</span>(<span class="fu">lc</span>(<span class="dt">$str</span>), <span class="fu">lc</span>(<span class="dt">$substr</span>)) != <span class="dv">-1</span>) {</span>
<span id="cb45-2"><a href="#cb45-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$str</span><span class="st"> contains </span><span class="dt">$substr</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb45-3"><a href="#cb45-3"></a>} </span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="string-compare-in-perl-with-eq-vs-score-301040-in-2016" class="level3">
<h3>10: String compare in Perl with “eq” vs “==” (score <a href="https://stackoverflow.com/q/14046669.html">301040</a> in 2016)</h3>
<section id="question-8" class="level4">
<h4>Question</h4>
<p>I am (a complete Perl newbie) doing string compare in an <code>if</code> statement:</p>
<p>If I do following:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb46-1"><a href="#cb46-1"></a><span class="kw">if</span> (<span class="dt">$str1</span> == <span class="kw">&quot;</span><span class="st">taste</span><span class="kw">&quot;</span> &amp;&amp; <span class="dt">$str2</span> == <span class="kw">&quot;</span><span class="st">waste</span><span class="kw">&quot;</span>) { }</span></code></pre></div>
<p>I see the correct result (i.e. if the condition matches, it evaluates the “then” block). But I see these warnings:</p>
<blockquote>
<p>
Argument “taste” isn’t numeric in numeric eq (==) at line number x. <br/> Argument “waste” isn’t numeric in numeric eq (==) at line number x.
</p>
</blockquote>
<p>But if I do:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb47-1"><a href="#cb47-1"></a><span class="kw">if</span> (<span class="dt">$str1</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">taste</span><span class="kw">&quot;</span> &amp;&amp; <span class="dt">$str2</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">waste</span><span class="kw">&quot;</span>) { }</span></code></pre></div>
<p>Even if the if condition is satisfied, it doesn’t evaluate the “then” block.</p>
<p>Here, <code>$str1</code> is <code>taste</code> and <code>$str2</code> is <code>waste</code>.</p>
<p>How should I fix this?</p>
</section>
<section id="answer-accepted-score-104" class="level4">
<h4>Answer accepted (score 104)</h4>
<p>First, <strong>eq</strong> is for comparing strings; <strong>==</strong> is for comparing numbers.</p>
<blockquote>
Even if the “if” condition is satisfied, it doesn’t evaluate the “then” block.
</blockquote>
<p>I think your problem is that your variables don’t contain what you think they do. I think your <code>$str1</code> or <code>$str2</code> contains something like “taste” or so. Check them by printing before your <strong>if</strong>: <code>print "str1='$str1'\n";</code>.</p>
<p>The trailing newline can be removed with the <code>chomp($str1);</code> function.</p>
</section>
<section id="answer-2-score-28" class="level4">
<h4>Answer 2 (score 28)</h4>
<p><code>==</code> does a numeric comparison: it converts both arguments to a number and then compares them. As long as <code>$str1</code> and <code>$str2</code> both evaluate to 0 as numbers, the condition will be satisfied.</p>
<p><code>eq</code> does a string comparison: the two arguments must match lexically (case-sensitive) for the condition to be satisfied.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb48-1"><a href="#cb48-1"></a><span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span> == <span class="kw">&quot;</span><span class="st">bar</span><span class="kw">&quot;</span>;   <span class="co"># True, both strings evaluate to 0.</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">bar</span><span class="kw">&quot;</span>;   <span class="co"># False, the strings are not equivalent.</span></span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="kw">&quot;</span><span class="st">Foo</span><span class="kw">&quot;</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span>;   <span class="co"># False, the F characters are different cases.</span></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">foo</span><span class="kw">&quot;</span>;   <span class="co"># True, both strings match exactly.</span></span></code></pre></div>
</section>
<section id="answer-3-score-5" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>Did you try to chomp the <code>$str1</code> and <code>$str2</code>?</p>
<p>I found a similar issue with using (another) <code>$str1</code> eq ‘Y’ and it only went away when I first did:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">chomp</span>(<span class="dt">$str1</span>);</span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="kw">if</span> (<span class="dt">$str1</span> <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">Y</span><span class="kw">&#39;</span>) {</span>
<span id="cb49-3"><a href="#cb49-3"></a>....</span>
<span id="cb49-4"><a href="#cb49-4"></a>}</span></code></pre></div>
<p>works after that.</p>
<p>Hope that helps.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="perl-read-line-by-line-score-273520-in-2012" class="level3">
<h3>11: Perl read line by line (score <a href="https://stackoverflow.com/q/4505381.html">273520</a> in 2012)</h3>
<section id="question-9" class="level4">
<h4>Question</h4>
<p>I have a simple Perl script to read a file line by line. Code is below. I want to display two lines and break the loop. But it doesn’t work. Where is the bug?</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb50-1"><a href="#cb50-1"></a><span class="dt">$file</span>=<span class="kw">&#39;</span><span class="st">SnPmaster.txt</span><span class="kw">&#39;</span>;</span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="fu">open</span>(INFO, <span class="dt">$file</span>) <span class="kw">or</span> <span class="fu">die</span>(<span class="kw">&quot;</span><span class="st">Could not open  file.</span><span class="kw">&quot;</span>);</span>
<span id="cb50-3"><a href="#cb50-3"></a></span>
<span id="cb50-4"><a href="#cb50-4"></a><span class="dt">$count</span> = <span class="dv">0</span>; </span>
<span id="cb50-5"><a href="#cb50-5"></a><span class="kw">foreach</span> <span class="dt">$line</span> (<span class="kw">&lt;INFO&gt;</span>)  {   </span>
<span id="cb50-6"><a href="#cb50-6"></a>    <span class="fu">print</span> <span class="dt">$line</span>;    </span>
<span id="cb50-7"><a href="#cb50-7"></a>    <span class="kw">if</span> (<span class="dt">$+</span>+counter == <span class="dv">2</span>){</span>
<span id="cb50-8"><a href="#cb50-8"></a>      <span class="kw">last</span>;</span>
<span id="cb50-9"><a href="#cb50-9"></a>    }</span>
<span id="cb50-10"><a href="#cb50-10"></a>}</span>
<span id="cb50-11"><a href="#cb50-11"></a><span class="fu">close</span>(INFO);</span></code></pre></div>
</section>
<section id="answer-accepted-score-118" class="level4">
<h4>Answer accepted (score 118)</h4>
<p>If you had <code>use strict</code> turned on, you would have found out that <code>$++foo</code> doesn’t make any sense.</p>
<p>Here’s how to do it:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb51-3"><a href="#cb51-3"></a></span>
<span id="cb51-4"><a href="#cb51-4"></a><span class="kw">my</span> <span class="dt">$file</span> = <span class="kw">&#39;</span><span class="st">SnPmaster.txt</span><span class="kw">&#39;</span>;</span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$info</span>, <span class="dt">$file</span> <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">Could not open </span><span class="dt">$file</span><span class="st">: </span><span class="dt">$!</span><span class="kw">&quot;</span>;</span>
<span id="cb51-6"><a href="#cb51-6"></a></span>
<span id="cb51-7"><a href="#cb51-7"></a><span class="kw">while</span>( <span class="kw">my</span> <span class="dt">$line</span> = &lt;<span class="dt">$info</span>&gt;)  {   </span>
<span id="cb51-8"><a href="#cb51-8"></a>    <span class="fu">print</span> <span class="dt">$line</span>;    </span>
<span id="cb51-9"><a href="#cb51-9"></a>    <span class="kw">last</span> <span class="kw">if</span> <span class="dt">$.</span> == <span class="dv">2</span>;</span>
<span id="cb51-10"><a href="#cb51-10"></a>}</span>
<span id="cb51-11"><a href="#cb51-11"></a></span>
<span id="cb51-12"><a href="#cb51-12"></a><span class="fu">close</span> <span class="dt">$info</span>;</span></code></pre></div>
<p>This takes advantage of the special variable <code>$.</code> which keeps track of the line number in the current file. (See <a href="http://perldoc.perl.org/perlvar.html" rel="noreferrer">perlvar</a>)</p>
<p>If you want to use a counter instead, use</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb52-1"><a href="#cb52-1"></a><span class="kw">my</span> <span class="dt">$count</span> = <span class="dv">0</span>;</span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="kw">while</span>( <span class="kw">my</span> <span class="dt">$line</span> = &lt;<span class="dt">$info</span>&gt;)  {   </span>
<span id="cb52-3"><a href="#cb52-3"></a>    <span class="fu">print</span> <span class="dt">$line</span>;    </span>
<span id="cb52-4"><a href="#cb52-4"></a>    <span class="kw">last</span> <span class="kw">if</span> ++<span class="dt">$count</span> == <span class="dv">2</span>;</span>
<span id="cb52-5"><a href="#cb52-5"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-12" class="level4">
<h4>Answer 2 (score 12)</h4>
<p>With these types of complex programs, it’s better to let Perl generate the Perl code for you:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb53-1"><a href="#cb53-1"></a>$ perl -MO=Deparse -pe<span class="kw">&#39;</span><span class="st">exit if $.&gt;2</span><span class="kw">&#39;</span></span></code></pre></div>
<p>Which will gladly tell you the answer,</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb54-1"><a href="#cb54-1"></a>LINE: <span class="kw">while</span> (<span class="fu">defined</span>(<span class="dt">$_</span> = <span class="kw">&lt;ARGV&gt;</span>)) {</span>
<span id="cb54-2"><a href="#cb54-2"></a>    <span class="fu">exit</span> <span class="kw">if</span> <span class="dt">$.</span> &gt; <span class="dv">2</span>;</span>
<span id="cb54-3"><a href="#cb54-3"></a>}</span>
<span id="cb54-4"><a href="#cb54-4"></a><span class="kw">continue</span> {</span>
<span id="cb54-5"><a href="#cb54-5"></a>    <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">-p destination: </span><span class="dt">$!</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">unless</span> <span class="fu">print</span> <span class="dt">$_</span>;</span>
<span id="cb54-6"><a href="#cb54-6"></a>}</span></code></pre></div>
<p>Alternatively, you can simply run it as such from the command line,</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb55-1"><a href="#cb55-1"></a>$ perl -pe<span class="kw">&#39;</span><span class="st">exit if$.&gt;2</span><span class="kw">&#39;</span> file.txt</span></code></pre></div>
</section>
<section id="answer-3-score-5-1" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>you need to use <code>++$counter</code>, <em>not</em> <code>$++counter</code>, hence the reason it isn’t working..</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-check-if-a-file-exists-in-perl-score-269401-in-2013" class="level3">
<h3>12: How can I check if a file exists in Perl? (score <a href="https://stackoverflow.com/q/2601027.html">269401</a> in 2013)</h3>
<section id="question-10" class="level4">
<h4>Question</h4>
<p>I have a relative path</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb56-1"><a href="#cb56-1"></a>   <span class="dt">$base_path</span> = <span class="kw">&quot;</span><span class="st">input/myMock.TGZ</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>
<code>myMock.TGZ</code> is the file name located in input folder. The filename can change. But the path is always stored in <code>$base_path</code>.
</p>
<p>I need to check if the file exists in <code>$base_path</code>.</p>
</section>
<section id="answer-accepted-score-170" class="level4">
<h4>Answer accepted (score 170)</h4>
<p>Test whether <em>something</em> exists at given path using the <code>-e</code> file-test operator.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb57-1"><a href="#cb57-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$base_path</span><span class="st"> exists!</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">if</span> <span class="kw">-e</span> <span class="dt">$base_path</span>;</span></code></pre></div>
<p>However, this test is probably broader than you intend. The code above will generate output if a plain file exists at that path, but it will also fire for a directory, a named pipe, a symlink, or a more exotic possibility. <a href="http://perldoc.perl.org/functions/-X.html" rel="noreferrer">See the documentation</a> for details.</p>
<p>Given the extension of <code>.TGZ</code> in your question, it seems that you expect a <em>plain file</em> rather than the alternatives. The <code>-f</code> file-test operator asks whether a path leads to a plain file.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$base_path</span><span class="st"> is a plain file!</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">if</span> <span class="kw">-f</span> <span class="dt">$base_path</span>;</span></code></pre></div>
<p>The perlfunc documentation covers the long list of <a href="http://perldoc.perl.org/functions/-X.html" rel="noreferrer">Perl’s file-test operators</a> that covers many situations you will encounter in practice.</p>
<blockquote>
<ul>
<li>
<strong><code>-r</code></strong><br> File is readable by effective uid/gid.
</li>
<li>
<strong><code>-w</code></strong><br> File is writable by effective uid/gid.
</li>
<li>
<strong><code>-x</code></strong><br> File is executable by effective uid/gid.
</li>
<li>
<strong><code>-o</code></strong><br> File is owned by effective uid.
</li>
<li>
<strong><code>-R</code></strong><br> File is readable by real uid/gid.
</li>
<li>
<strong><code>-W</code></strong><br> File is writable by real uid/gid.
</li>
<li>
<strong><code>-X</code></strong><br> File is executable by real uid/gid.
</li>
<li>
<strong><code>-O</code></strong><br> File is owned by real uid.
</li>
<li>
<strong><code>-e</code></strong><br> File exists.
</li>
<li>
<strong><code>-z</code></strong><br> File has zero size (is empty).
</li>
<li>
<strong><code>-s</code></strong><br> File has nonzero size (returns size in bytes).
</li>
<li>
<strong><code>-f</code></strong><br> File is a plain file.
</li>
<li>
<strong><code>-d</code></strong><br> File is a directory.
</li>
<li>
<strong><code>-l</code></strong><br> File is a symbolic link (false if symlinks aren’t supported by the file system).
</li>
<li>
<strong><code>-p</code></strong><br> File is a named pipe (FIFO), or Filehandle is a pipe.
</li>
<li>
<strong><code>-S</code></strong><br> File is a socket.
</li>
<li>
<strong><code>-b</code></strong><br> File is a block special file.
</li>
<li>
<strong><code>-c</code></strong><br> File is a character special file.
</li>
<li>
<strong><code>-t</code></strong><br> Filehandle is opened to a tty.
</li>
<li>
<strong><code>-u</code></strong><br> File has setuid bit set.
</li>
<li>
<strong><code>-g</code></strong><br> File has setgid bit set.
</li>
<li>
<strong><code>-k</code></strong><br> File has sticky bit set.
</li>
<li>
<strong><code>-T</code></strong><br> File is an ASCII or UTF-8 text file (heuristic guess).
</li>
<li>
<strong><code>-B</code></strong><br> File is a “binary” file (opposite of <code>-T</code>).
</li>
<li>
<strong><code>-M</code></strong><br> Script start time minus file modification time, in days.
</li>
<li>
<strong><code>-A</code></strong><br> Same for access time.
</li>
<li>
<strong><code>-C</code></strong><br> Same for inode change time (Unix, may differ for other platforms)
</li>
</ul>
</blockquote>
</section>
<section id="answer-2-score-29" class="level4">
<h4>Answer 2 (score 29)</h4>
<p>You might want a variant of exists … perldoc -f “-f”</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb59-1"><a href="#cb59-1"></a>      <span class="kw">-X</span> FILEHANDLE</span>
<span id="cb59-2"><a href="#cb59-2"></a>       <span class="kw">-X</span> EXPR</span>
<span id="cb59-3"><a href="#cb59-3"></a>       <span class="kw">-X</span> DIRHANDLE</span>
<span id="cb59-4"><a href="#cb59-4"></a>       <span class="kw">-X</span>      A file test, where X is one of the letters listed below.  This unary operator takes one argument,</span>
<span id="cb59-5"><a href="#cb59-5"></a>               either a filename, a filehandle, <span class="kw">or</span> a dirhandle, <span class="kw">and</span> tests the associated file to see <span class="kw">if</span> something is</span>
<span id="cb59-6"><a href="#cb59-6"></a>               true about it.  If the argument is omitted, tests <span class="dt">$_</span>, except <span class="kw">for</span> <span class="kw">&quot;</span><span class="st">-t</span><span class="kw">&quot;</span>, which tests STDIN.  Unless</span>
<span id="cb59-7"><a href="#cb59-7"></a>               otherwise documented, it returns <span class="dv">1</span> <span class="kw">for</span> true <span class="kw">and</span> <span class="kw">&#39;&#39;</span> <span class="kw">for</span> false, <span class="kw">or</span> the undefined value <span class="kw">if</span> the file</span>
<span id="cb59-8"><a href="#cb59-8"></a>               doesn’t exist.  Despite the funny names, precedence is the same as any other named unary operator.</span>
<span id="cb59-9"><a href="#cb59-9"></a>               The operator may be any of:</span>
<span id="cb59-10"><a href="#cb59-10"></a></span>
<span id="cb59-11"><a href="#cb59-11"></a>                   <span class="kw">-r</span>  File is readable by effective uid/gid.</span>
<span id="cb59-12"><a href="#cb59-12"></a>                   <span class="kw">-w</span>  File is writable by effective uid/gid.</span>
<span id="cb59-13"><a href="#cb59-13"></a>                   <span class="kw">-x</span>  File is executable by effective uid/gid.</span>
<span id="cb59-14"><a href="#cb59-14"></a>                   <span class="kw">-o</span>  File is owned by effective uid.</span>
<span id="cb59-15"><a href="#cb59-15"></a></span>
<span id="cb59-16"><a href="#cb59-16"></a>                   <span class="kw">-R</span>  File is readable by real uid/gid.</span>
<span id="cb59-17"><a href="#cb59-17"></a>                   <span class="kw">-W</span>  File is writable by real uid/gid.</span>
<span id="cb59-18"><a href="#cb59-18"></a>                   <span class="kw">-X</span>  File is executable by real uid/gid.</span>
<span id="cb59-19"><a href="#cb59-19"></a>                   <span class="kw">-O</span>  File is owned by real uid.</span>
<span id="cb59-20"><a href="#cb59-20"></a></span>
<span id="cb59-21"><a href="#cb59-21"></a>                   <span class="kw">-e</span>  File <span class="fu">exists</span>.</span>
<span id="cb59-22"><a href="#cb59-22"></a>                   <span class="kw">-z</span>  File has zero size (is empty).</span>
<span id="cb59-23"><a href="#cb59-23"></a>                   <span class="kw">-s</span>  File has nonzero size (returns size in <span class="kw">bytes</span>).</span>
<span id="cb59-24"><a href="#cb59-24"></a></span>
<span id="cb59-25"><a href="#cb59-25"></a>                   <span class="kw">-f</span>  File is a plain file.</span>
<span id="cb59-26"><a href="#cb59-26"></a>                   <span class="kw">-d</span>  File is a directory.</span>
<span id="cb59-27"><a href="#cb59-27"></a>                   <span class="kw">-l</span>  File is a symbolic <span class="fu">link</span>.</span>
<span id="cb59-28"><a href="#cb59-28"></a>                   <span class="kw">-p</span>  File is a named <span class="fu">pipe</span> (FIFO), <span class="kw">or</span> Filehandle is a <span class="fu">pipe</span>.</span>
<span id="cb59-29"><a href="#cb59-29"></a>                   <span class="kw">-S</span>  File is a <span class="fu">socket</span>.</span>
<span id="cb59-30"><a href="#cb59-30"></a>                   <span class="kw">-b</span>  File is a block special file.</span>
<span id="cb59-31"><a href="#cb59-31"></a>                   <span class="kw">-c</span>  File is a character special file.</span>
<span id="cb59-32"><a href="#cb59-32"></a>                   <span class="kw">-t</span>  Filehandle is opened to a tty.</span>
<span id="cb59-33"><a href="#cb59-33"></a></span>
<span id="cb59-34"><a href="#cb59-34"></a>                   <span class="kw">-u</span>  File has setuid bit set.</span>
<span id="cb59-35"><a href="#cb59-35"></a>                   <span class="kw">-g</span>  File has setgid bit set.</span>
<span id="cb59-36"><a href="#cb59-36"></a>                   <span class="kw">-k</span>  File has sticky bit set.</span>
<span id="cb59-37"><a href="#cb59-37"></a></span>
<span id="cb59-38"><a href="#cb59-38"></a>                   <span class="kw">-T</span>  File is an ASCII text file (heuristic guess).</span>
<span id="cb59-39"><a href="#cb59-39"></a>                   <span class="kw">-B</span>  File is a <span class="kw">&quot;</span><span class="st">binary</span><span class="kw">&quot;</span> file (opposite of <span class="kw">-T</span>).</span>
<span id="cb59-40"><a href="#cb59-40"></a></span>
<span id="cb59-41"><a href="#cb59-41"></a>                   <span class="kw">-M</span>  Script start <span class="fu">time</span> minus file modification <span class="fu">time</span>, in days.</span></code></pre></div>
</section>
<section id="answer-3-score-15" class="level4">
<h4>Answer 3 (score 15)</h4>
<div class="sourceCode" id="cb60"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb60-1"><a href="#cb60-1"></a><span class="kw">if</span> (<span class="kw">-e</span> <span class="dt">$base_path</span>)</span>
<span id="cb60-2"><a href="#cb60-2"></a>{ </span>
<span id="cb60-3"><a href="#cb60-3"></a> <span class="co"># code</span></span>
<span id="cb60-4"><a href="#cb60-4"></a>}</span></code></pre></div>
<p><code>-e</code> is the ‘existence’ operator in Perl.</p>
<p>You can check permissions and other attributes using the code on <a href="http://www.pageresource.com/cgirec/ptut17.htm" rel="noreferrer">this page</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-convert-a-string-to-a-number-in-perl-score-264988-in-2012" class="level3">
<h3>13: How can I convert a string to a number in Perl? (score <a href="https://stackoverflow.com/q/288900.html">264988</a> in 2012)</h3>
<section id="question-11" class="level4">
<h4>Question</h4>
<p>How would I convert a string holding a number into its numeric value in Perl?</p>
</section>
<section id="answer-accepted-score-89" class="level4">
<h4>Answer accepted (score 89)</h4>
<p>You don’t need to convert it at all:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb61-1"><a href="#cb61-1"></a>% perl <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">print &quot;5.45&quot; + 0.1;</span><span class="kw">&#39;</span></span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="fl">5.55</span></span></code></pre></div>
</section>
<section id="answer-2-score-69" class="level4">
<h4>Answer 2 (score 69)</h4>
<p>This is a simple solution:</p>
<p>Example 1</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb62-1"><a href="#cb62-1"></a><span class="kw">my</span> <span class="dt">$var1</span> = <span class="kw">&quot;</span><span class="st">123abc</span><span class="kw">&quot;</span>;</span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="fu">print</span> <span class="dt">$var1</span> + <span class="dv">0</span>;</span></code></pre></div>
<p>Result</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb63-1"><a href="#cb63-1"></a><span class="dv">123</span></span></code></pre></div>
<p>Example 2</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb64-1"><a href="#cb64-1"></a><span class="kw">my</span> <span class="dt">$var2</span> = <span class="kw">&quot;</span><span class="st">abc123</span><span class="kw">&quot;</span>;</span>
<span id="cb64-2"><a href="#cb64-2"></a><span class="fu">print</span> <span class="dt">$var2</span> + <span class="dv">0</span>;</span></code></pre></div>
<p>Result</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb65-1"><a href="#cb65-1"></a><span class="dv">0</span></span></code></pre></div>
</section>
<section id="answer-3-score-40" class="level4">
<h4>Answer 3 (score 40)</h4>
<p>Perl is a context-based language. It doesn’t do its work according to the data you give it. Instead, it figures out how to treat the data based on the operators you use and the context in which you use them. If you do numbers sorts of things, you get numbers:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb66-1"><a href="#cb66-1"></a><span class="co"># numeric addition with strings:</span></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="kw">my</span> <span class="dt">$sum</span> = <span class="kw">&#39;</span><span class="st">5.45</span><span class="kw">&#39;</span> + <span class="kw">&#39;</span><span class="st">0.01</span><span class="kw">&#39;</span>; <span class="co"># 5.46</span></span></code></pre></div>
<p>If you do strings sorts of things, you get strings:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb67-1"><a href="#cb67-1"></a><span class="co"># string replication with numbers:</span></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="kw">my</span> <span class="dt">$string</span> = ( <span class="dv">45</span>/<span class="dv">2</span> ) x <span class="dv">4</span>; <span class="co"># &quot;22.522.522.522.5&quot;</span></span></code></pre></div>
<p>Perl mostly figures out what to do and it’s mostly right. Another way of saying the same thing is that Perl cares more about the verbs than it does the nouns.</p>
<p>Are you trying to do something and it isn’t working?</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-enter-a-multi-line-comment-in-perl-score-250429-in-2017" class="level3">
<h3>14: How do I enter a multi-line comment in Perl? (score <a href="https://stackoverflow.com/q/3828205.html">250429</a> in 2017)</h3>
<section id="question-12" class="level4">
<h4>Question</h4>
<blockquote>
<p>
<strong>Possible Duplicate:</strong><br> <a href="https://stackoverflow.com/questions/3608957">What are the common workarounds for multi-line comments in Perl?</a>
</p>
</blockquote>
<p>How do I add a multi-line comment to Perl source code?</p>
</section>
<section id="answer-accepted-score-136" class="level4">
<h4>Answer accepted (score 136)</h4>
<div class="sourceCode" id="cb68"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb68-1"><a href="#cb68-1"></a>POD is the official way to <span class="kw">do</span> multi line comments in Perl,</span></code></pre></div>
<ul>
<li>
see <strong><a href="http://www.perlmonks.org/?node_id=560985" rel="noreferrer">Multi-line comments in perl code</a></strong> and
</li>
<li>
<strong><a href="http://www.perlmonks.org/?node_id=100344" rel="noreferrer">Better ways to make multi-line comments in Perl</a></strong> for more detail.
</li>
</ul>
<p>From faq.perl.org[<strong>perlfaq7</strong>]</p>
<ul>
<li>
<a href="http://faq.perl.org/perlfaq7.html" rel="noreferrer">How can I comment out a large block of Perl code?</a>
</li>
</ul>
<blockquote>
<p>
The quick-and-dirty way to comment out more than one line of Perl is to surround those lines with Pod directives. You have to put these directives at the beginning of the line and somewhere where Perl expects a new statement (so not in the middle of statements like the # comments). You end the comment with <code>=cut</code>, ending the Pod section:
</p>
</blockquote>
<div class="sourceCode" id="cb69"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb69-1"><a href="#cb69-1"></a><span class="co">=pod</span></span>
<span id="cb69-2"><a href="#cb69-2"></a></span>
<span id="cb69-3"><a href="#cb69-3"></a><span class="co">my $object = NotGonnaHappen-&gt;new();</span></span>
<span id="cb69-4"><a href="#cb69-4"></a></span>
<span id="cb69-5"><a href="#cb69-5"></a><span class="co">ignored_sub();</span></span>
<span id="cb69-6"><a href="#cb69-6"></a></span>
<span id="cb69-7"><a href="#cb69-7"></a><span class="co">$wont_be_assigned = 37;</span></span>
<span id="cb69-8"><a href="#cb69-8"></a></span>
<span id="cb69-9"><a href="#cb69-9"></a><span class="co">=cut</span></span></code></pre></div>
<blockquote>
<p>
The quick-and-dirty method only works well when you don’t plan to leave the commented code in the source. If a Pod parser comes along, your multiline comment is going to show up in the Pod translation. A better way hides it from Pod parsers as well.
</p>
<p>
The <code>=begin</code> directive can mark a section for a particular purpose. If the Pod parser doesn’t want to handle it, it just ignores it. Label the comments with <code>comment</code>. End the comment using <code>=end</code> with the same label. You still need the <code>=cut</code> to go back to Perl code from the Pod comment:
</p>
</blockquote>
<div class="sourceCode" id="cb70"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb70-1"><a href="#cb70-1"></a><span class="co">=begin comment</span></span>
<span id="cb70-2"><a href="#cb70-2"></a></span>
<span id="cb70-3"><a href="#cb70-3"></a><span class="co">my $object = NotGonnaHappen-&gt;new();</span></span>
<span id="cb70-4"><a href="#cb70-4"></a></span>
<span id="cb70-5"><a href="#cb70-5"></a><span class="co">ignored_sub();</span></span>
<span id="cb70-6"><a href="#cb70-6"></a></span>
<span id="cb70-7"><a href="#cb70-7"></a><span class="co">$wont_be_assigned = 37;</span></span>
<span id="cb70-8"><a href="#cb70-8"></a></span>
<span id="cb70-9"><a href="#cb70-9"></a><span class="co">=end comment</span></span>
<span id="cb70-10"><a href="#cb70-10"></a></span>
<span id="cb70-11"><a href="#cb70-11"></a><span class="co">=cut</span></span></code></pre></div>
</section>
<section id="answer-2-score-24" class="level4">
<h4>Answer 2 (score 24)</h4>
<p>I found it. Perl has multi-line comments:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb71-1"><a href="#cb71-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb71-2"><a href="#cb71-2"></a></span>
<span id="cb71-3"><a href="#cb71-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb71-4"><a href="#cb71-4"></a></span>
<span id="cb71-5"><a href="#cb71-5"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb71-6"><a href="#cb71-6"></a></span>
<span id="cb71-7"><a href="#cb71-7"></a><span class="co">=for comment</span></span>
<span id="cb71-8"><a href="#cb71-8"></a></span>
<span id="cb71-9"><a href="#cb71-9"></a><span class="co">Example of multiline comment.</span></span>
<span id="cb71-10"><a href="#cb71-10"></a></span>
<span id="cb71-11"><a href="#cb71-11"></a><span class="co">Example of multiline comment.</span></span>
<span id="cb71-12"><a href="#cb71-12"></a></span>
<span id="cb71-13"><a href="#cb71-13"></a><span class="co">=cut</span></span>
<span id="cb71-14"><a href="#cb71-14"></a></span>
<span id="cb71-15"><a href="#cb71-15"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Multi Line Comment Example </span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-use-boolean-variables-in-perl-score-243622-in-2009" class="level3">
<h3>15: How do I use boolean variables in Perl? (score <a href="https://stackoverflow.com/q/1036347.html">243622</a> in 2009)</h3>
<section id="question-13" class="level4">
<h4>Question</h4>
<p>I have tried:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb72-1"><a href="#cb72-1"></a><span class="dt">$var</span> = false;</span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="dt">$var</span> = FALSE;</span>
<span id="cb72-3"><a href="#cb72-3"></a><span class="dt">$var</span> = False;</span></code></pre></div>
<p>None of these work. I get the error message</p>
<pre>Bareword "false" not allowed while "strict subs" is in use.</pre>
</section>
<section id="answer-accepted-score-280" class="level4">
<h4>Answer accepted (score 280)</h4>
<p>In Perl, the following evaluate to false in conditionals:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb73-1"><a href="#cb73-1"></a><span class="dv">0</span></span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="kw">&#39;</span><span class="st">0</span><span class="kw">&#39;</span></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="fu">undef</span></span>
<span id="cb73-4"><a href="#cb73-4"></a><span class="kw">&#39;&#39;</span>  <span class="co"># Empty scalar</span></span>
<span id="cb73-5"><a href="#cb73-5"></a>()  <span class="co"># Empty list</span></span>
<span id="cb73-6"><a href="#cb73-6"></a>(<span class="kw">&#39;&#39;</span>)</span></code></pre></div>
<p>The rest are true. There are no barewords for <code>true</code> or <code>false</code>.</p>
</section>
<section id="answer-2-score-69-1" class="level4">
<h4>Answer 2 (score 69)</h4>
<p>The most complete, concise definition of false I’ve come across is:</p>
<blockquote>
Anything that stringifies to the empty string or the string <code>0</code> is false. Everything else is true.
</blockquote>
<p>Therefore, the following values are false:</p>
<ul>
<li>
The empty string
</li>
<li>
Numerical value zero
</li>
<li>
An undefined value
</li>
<li>
An object with an overloaded boolean operator that evaluates one of the above.
</li>
<li>
A magical variable that evaluates to one of the above on fetch.
</li>
</ul>
<p>Keep in mind that an empty list literal evaluates to an undefined value in scalar context, so it evaluates to something false.</p>
<hr>
<p><strong>A note on “true zeroes”</strong></p>
<p>While numbers that stringify to <code>0</code> are false, strings that numify to zero aren’t necessarily. The only false strings are <code>0</code> and the empty string. Any other string, even if it numifies to zero, is true.</p>
<p>The following are strings that are true as a boolean and zero as a number.</p>
<ul>
<li>
Without a warning:
<ul>
<li>
<code>"0.0"</code>
</li>
<li>
<code>"0E0"</code>
</li>
<li>
<code>"00"</code>
</li>
<li>
<code>"+0"</code>
</li>
<li>
<code>"-0"</code>
</li>
<li>
<code>" 0"</code>
</li>
<li>
<code>"0\n"</code>
</li>
<li>
<code>".0"</code>
</li>
<li>
<code>"0."</code>
</li>
<li>
<code>"0 but true"</code>
</li>
<li>
<code>"\t00"</code>
</li>
<li>
<code>"\n0e1"</code>
</li>
<li>
<code>"+0.e-9"</code>
</li>
</ul>
</li>
<li>
With a warning:
<ul>
<li>
Any string for which <code>Scalar::Util::looks_like_number</code> returns false. (e.g. <code>"abc"</code>)
</li>
</ul>
</li>
</ul>
</section>
<section id="answer-3-score-57" class="level4">
<h4>Answer 3 (score 57)</h4>
<p>Perl doesn’t have a native boolean type, but you can use comparison of integers or strings in order to get the same behavior. Alan’s example is a nice way of doing that using comparison of integers. Here’s an example</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb74-1"><a href="#cb74-1"></a><span class="kw">my</span> <span class="dt">$boolean</span> = <span class="dv">0</span>;</span>
<span id="cb74-2"><a href="#cb74-2"></a><span class="kw">if</span> ( <span class="dt">$boolean</span> ) {</span>
<span id="cb74-3"><a href="#cb74-3"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$boolean</span><span class="st"> evaluates to true</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb74-4"><a href="#cb74-4"></a>} <span class="kw">else</span> {</span>
<span id="cb74-5"><a href="#cb74-5"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$boolean</span><span class="st"> evaluates to false</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb74-6"><a href="#cb74-6"></a>}</span></code></pre></div>
<p>One thing that I’ve done in some of my programs is added the same behavior using a constant:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb75-1"><a href="#cb75-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb75-2"><a href="#cb75-2"></a></span>
<span id="cb75-3"><a href="#cb75-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb75-4"><a href="#cb75-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb75-5"><a href="#cb75-5"></a></span>
<span id="cb75-6"><a href="#cb75-6"></a><span class="fu">use</span> <span class="kw">constant</span> false =&gt; <span class="dv">0</span>;</span>
<span id="cb75-7"><a href="#cb75-7"></a><span class="fu">use</span> <span class="kw">constant</span> true  =&gt; <span class="dv">1</span>;</span>
<span id="cb75-8"><a href="#cb75-8"></a></span>
<span id="cb75-9"><a href="#cb75-9"></a><span class="kw">my</span> <span class="dt">$val1</span> = true;</span>
<span id="cb75-10"><a href="#cb75-10"></a><span class="kw">my</span> <span class="dt">$val2</span> = false;</span>
<span id="cb75-11"><a href="#cb75-11"></a></span>
<span id="cb75-12"><a href="#cb75-12"></a><span class="fu">print</span> <span class="dt">$val1</span>, <span class="kw">&quot;</span><span class="st"> &amp;&amp; </span><span class="kw">&quot;</span>, <span class="dt">$val2</span>;</span>
<span id="cb75-13"><a href="#cb75-13"></a><span class="kw">if</span> ( <span class="dt">$val1</span> &amp;&amp; <span class="dt">$val2</span> ) {</span>
<span id="cb75-14"><a href="#cb75-14"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st"> evaluates to true.</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb75-15"><a href="#cb75-15"></a>} <span class="kw">else</span> {</span>
<span id="cb75-16"><a href="#cb75-16"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st"> evaluates to false.</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb75-17"><a href="#cb75-17"></a>}</span>
<span id="cb75-18"><a href="#cb75-18"></a></span>
<span id="cb75-19"><a href="#cb75-19"></a><span class="fu">print</span> <span class="dt">$val1</span>, <span class="kw">&quot;</span><span class="st"> || </span><span class="kw">&quot;</span>, <span class="dt">$val2</span>;</span>
<span id="cb75-20"><a href="#cb75-20"></a><span class="kw">if</span> ( <span class="dt">$val1</span> || <span class="dt">$val2</span> ) {</span>
<span id="cb75-21"><a href="#cb75-21"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st"> evaluates to true.</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb75-22"><a href="#cb75-22"></a>} <span class="kw">else</span> {</span>
<span id="cb75-23"><a href="#cb75-23"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st"> evaluates to false.</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb75-24"><a href="#cb75-24"></a>}</span></code></pre></div>
<p>The lines marked in “use constant” define a constant named true that always evaluates to 1, and a constant named false that always evaluates by 0. Because of the way that constants are defined in Perl, the following lines of code fails as well:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb76-1"><a href="#cb76-1"></a>true = <span class="dv">0</span>;</span>
<span id="cb76-2"><a href="#cb76-2"></a>true = false;</span></code></pre></div>
<p>The error message should say something like “Can’t modify constant in scalar assignment.”</p>
<p>I saw that in one of the comments you asked about comparing strings. You should know that because Perl combines strings and numeric types in scalar variables, you have different syntax for comparing strings and numbers:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb77-1"><a href="#cb77-1"></a><span class="kw">my</span> <span class="dt">$var1</span> = <span class="kw">&quot;</span><span class="st">5.0</span><span class="kw">&quot;</span>;</span>
<span id="cb77-2"><a href="#cb77-2"></a><span class="kw">my</span> <span class="dt">$var2</span> = <span class="kw">&quot;</span><span class="st">5</span><span class="kw">&quot;</span>;</span>
<span id="cb77-3"><a href="#cb77-3"></a></span>
<span id="cb77-4"><a href="#cb77-4"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">using operator eq</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb77-5"><a href="#cb77-5"></a><span class="kw">if</span> ( <span class="dt">$var1</span> <span class="kw">eq</span> <span class="dt">$var2</span> ) {</span>
<span id="cb77-6"><a href="#cb77-6"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$var1</span><span class="st"> and </span><span class="dt">$var2</span><span class="st"> are equal!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb77-7"><a href="#cb77-7"></a>} <span class="kw">else</span> {</span>
<span id="cb77-8"><a href="#cb77-8"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$var1</span><span class="st"> and </span><span class="dt">$var2</span><span class="st"> are not equal!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb77-9"><a href="#cb77-9"></a>}</span>
<span id="cb77-10"><a href="#cb77-10"></a></span>
<span id="cb77-11"><a href="#cb77-11"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">using operator ==</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb77-12"><a href="#cb77-12"></a><span class="kw">if</span> ( <span class="dt">$var1</span> == <span class="dt">$var2</span> ) {</span>
<span id="cb77-13"><a href="#cb77-13"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$var1</span><span class="st"> and </span><span class="dt">$var2</span><span class="st"> are equal!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb77-14"><a href="#cb77-14"></a>} <span class="kw">else</span> {</span>
<span id="cb77-15"><a href="#cb77-15"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$var1</span><span class="st"> and </span><span class="dt">$var2</span><span class="st"> are not equal!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb77-16"><a href="#cb77-16"></a>}</span></code></pre></div>
<p>The difference between these operators is a very common source of confusion in Perl.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="easy-way-to-print-perl-array-with-a-little-formatting-score-242206-in-2017" class="level3">
<h3>16: Easy way to print Perl array? (with a little formatting) (score <a href="https://stackoverflow.com/q/5741101.html">242206</a> in 2017)</h3>
<section id="question-14" class="level4">
<h4>Question</h4>
<p>Is there an <strong>easy</strong> way to print out a Perl array with commas in between each element?</p>
<p>Writing a for loop to do it is pretty easy but not quite elegant….if that makes sense.</p>
</section>
<section id="answer-accepted-score-143" class="level4">
<h4>Answer accepted (score 143)</h4>
<p>Just use <a href="http://perldoc.perl.org/functions/join.html" rel="noreferrer"><code>join()</code></a>:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb78-1"><a href="#cb78-1"></a><span class="co"># assuming @array is your array:</span></span>
<span id="cb78-2"><a href="#cb78-2"></a><span class="fu">print</span> <span class="fu">join</span>(<span class="kw">&quot;</span><span class="st">, </span><span class="kw">&quot;</span>, <span class="dt">@array</span>);</span></code></pre></div>
</section>
<section id="answer-2-score-29-1" class="level4">
<h4>Answer 2 (score 29)</h4>
<p>You can use <a href="http://search.cpan.org/perldoc?Data::Dump" rel="noreferrer"><code>Data::Dump</code></a>:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb79-1"><a href="#cb79-1"></a><span class="fu">use</span> <span class="fu">Data::Dump</span> <span class="kw">qw(</span>dump<span class="kw">)</span>;</span>
<span id="cb79-2"><a href="#cb79-2"></a><span class="kw">my</span> <span class="dt">@a</span> = (<span class="dv">1</span>, [<span class="dv">2</span>, <span class="dv">3</span>], {<span class="dv">4</span> =&gt; <span class="dv">5</span>});</span>
<span id="cb79-3"><a href="#cb79-3"></a><span class="fu">dump</span>(<span class="dt">@a</span>);</span></code></pre></div>
<p>Produces:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb80-1"><a href="#cb80-1"></a><span class="kw">&quot;</span><span class="st">(1, [2, 3], { 4 =&gt; 5 })</span><span class="kw">&quot;</span></span></code></pre></div>
</section>
<section id="answer-3-score-18" class="level4">
<h4>Answer 3 (score 18)</h4>
<p>If you’re coding for the kind of clarity that would be understood by someone who is just starting out with Perl, the traditional this construct says what it means, with a high degree of clarity and legibility:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb81-1"><a href="#cb81-1"></a><span class="dt">$string</span> = <span class="fu">join</span> <span class="kw">&#39;</span><span class="st">, </span><span class="kw">&#39;</span>, <span class="dt">@array</span>;</span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$string</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>This construct is documented in <code>perldoc -f</code><a href="http://perldoc.perl.org/functions/join.html" rel="nofollow noreferrer"><code>join</code></a>.</p>
<p>However, I’ve always liked how simple <code>$,</code> makes it. The special variable <code>$"</code> is for interpolation, and the special variable <code>$,</code> is for lists. Combine either one with dynamic scope-constraining ‘<code>local</code>’ to avoid having ripple effects throughout the script:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb82-1"><a href="#cb82-1"></a><span class="fu">use</span> <span class="fl">5.012_002</span>;</span>
<span id="cb82-2"><a href="#cb82-2"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb82-3"><a href="#cb82-3"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb82-4"><a href="#cb82-4"></a></span>
<span id="cb82-5"><a href="#cb82-5"></a><span class="kw">my</span> <span class="dt">@array</span> = <span class="kw">qw/</span> 1 2 3 4 5 <span class="kw">/</span>;</span>
<span id="cb82-6"><a href="#cb82-6"></a></span>
<span id="cb82-7"><a href="#cb82-7"></a>{</span>
<span id="cb82-8"><a href="#cb82-8"></a>    <span class="kw">local</span> <span class="dt">$&quot;</span> = <span class="kw">&#39;</span><span class="st">, </span><span class="kw">&#39;</span>;</span>
<span id="cb82-9"><a href="#cb82-9"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@array</span><span class="ch">\n</span><span class="kw">&quot;</span>; <span class="co"># Interpolation.</span></span>
<span id="cb82-10"><a href="#cb82-10"></a>}</span></code></pre></div>
<p>OR with $,:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb83-1"><a href="#cb83-1"></a><span class="fu">use</span> feature <span class="kw">q(</span><span class="st">say</span><span class="kw">)</span>;</span>
<span id="cb83-2"><a href="#cb83-2"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb83-3"><a href="#cb83-3"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb83-4"><a href="#cb83-4"></a></span>
<span id="cb83-5"><a href="#cb83-5"></a><span class="kw">my</span> <span class="dt">@array</span> = <span class="kw">qw/</span> 1 2 3 4 5 <span class="kw">/</span>;</span>
<span id="cb83-6"><a href="#cb83-6"></a>{</span>
<span id="cb83-7"><a href="#cb83-7"></a>    <span class="kw">local</span> <span class="dt">$,</span> = <span class="kw">&#39;</span><span class="st">, </span><span class="kw">&#39;</span>;</span>
<span id="cb83-8"><a href="#cb83-8"></a>    say <span class="dt">@array</span>; <span class="co"># List</span></span>
<span id="cb83-9"><a href="#cb83-9"></a>}</span></code></pre></div>
<p>The special variables <code>$,</code> and <code>$"</code> are documented in <a href="http://perldoc.perl.org/perlvar.html" rel="nofollow noreferrer">perlvar</a>. The <code>local</code> keyword, and how it can be used to constrain the effects of altering a global punctuation variable’s value is probably best described in <a href="http://perldoc.perl.org/perlsub.html#Temporary-Values-via-local()" rel="nofollow noreferrer">perlsub</a>.</p>
<p>Enjoy!</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="whats-the-easiest-way-to-install-a-missing-perl-module-score-241111-in-2015" class="level3">
<h3>17: What’s the easiest way to install a missing Perl module? (score <a href="https://stackoverflow.com/q/65865.html">241111</a> in 2015)</h3>
<section id="question-15" class="level4">
<h4>Question</h4>
<p>I get this error:</p>
<p><code>Can't locate Foo.pm in @INC</code></p>
<p>Is there an easier way to install it than downloading, untarring, making, etc?</p>
</section>
<section id="answer-accepted-score-211" class="level4">
<h4>Answer accepted (score 211)</h4>
<p><strong>On Unix</strong>:</p>
<p>usually you start <em>cpan</em> in your shell:</p>
<p><code># cpan</code></p>
<p>and type</p>
<p><code>install Chocolate::Belgian</code></p>
<p>or in short form:</p>
<p><code>cpan Chocolate::Belgian</code></p>
<p><strong>On Windows</strong>:</p>
<blockquote>
If you’re using ActivePerl on Windows, the <a href="http://docs.activestate.com/activeperl/5.10/faq/ActivePerl-faq2.html#pkg_operations" rel="noreferrer">PPM (Perl Package Manager)</a> has much of the same functionality as CPAN.pm.
</blockquote>
<p>Example:</p>
<p>
<code># ppm</code><br/> <code>ppm&amp;gt; search net-smtp</code><br/> <code>ppm&amp;gt; install Net-SMTP-Multipart</code>
</p>
<p><strong>see <a href="http://www.cpan.org/misc/cpan-faq.html#How_install_Perl_modules" rel="noreferrer">How do I install Perl modules?</a> in the CPAN FAQ</strong></p>
<p>Many distributions ship a lot of perl modules as packages.</p>
<ul>
<li>
Debian/Ubuntu: <code>apt-cache search 'perl$'</code>
</li>
<li>
Arch Linux: <code>pacman -Ss '^perl-'</code>
</li>
<li>
Gentoo: category <code>dev-perl</code>
</li>
</ul>
<p>You should <em>always</em> prefer them as you benefit from automatic (security) <strong>updates</strong> and the ease of <strong>removal</strong>. This can be pretty tricky with the <em>cpan</em> tool itself.</p>
<p>For Gentoo there’s a nice tool called <strong><a href="https://wiki.gentoo.org/wiki/Project:Perl/g-cpan" rel="noreferrer">g-cpan</a></strong> which builds/installs the module from CPAN and creates a Gentoo package (<a href="http://en.wikipedia.org/wiki/Ebuild" rel="noreferrer">ebuild</a>) for you.</p>
</section>
<section id="answer-2-score-61" class="level4">
<h4>Answer 2 (score 61)</h4>
<p>Try <a href="http://search.cpan.org/perldoc/App::cpanminus" rel="noreferrer">App::cpanminus</a>:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb84-1"><a href="#cb84-1"></a><span class="co"># cpanm Chocolate::Belgian</span></span></code></pre></div>
<p>It’s great for just getting stuff installed. It provides none of the more complex functionality of CPAN or CPANPLUS, so it’s easy to use, provided you know which module you want to install. If you haven’t already got cpanminus, just type:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb85-1"><a href="#cb85-1"></a><span class="co"># cpan App::cpanminus</span></span></code></pre></div>
<p>to install it.</p>
<p>It is also possible to install it without using cpan at all. The basic bootstrap procedure is,</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb86-1"><a href="#cb86-1"></a>curl -L http://cpanmin.us | perl - --sudo <span class="fu">App::cpanminus</span></span></code></pre></div>
<p>For more information go to the App::cpanminus page and look at the section on installation.</p>
</section>
<section id="answer-3-score-29-1" class="level4">
<h4>Answer 3 (score 29)</h4>
<p>I note some folks suggesting one run cpan under sudo. That used to be necessary to install into the system directory, but modern versions of the CPAN shell allow you to configure it to use sudo <strong>just</strong> for installing. This is much safer, since it means that tests don’t run as root.</p>
<p>If you have an old CPAN shell, simply install the new cpan (“install CPAN”) and when you reload the shell, it should prompt you to configure these new directives.</p>
<p>Nowadays, when I’m on a system with an old CPAN, the first thing I do is update the shell and set it up to do this so I can do most of my cpan work as a normal user.</p>
<p>Also, I’d strongly suggest that Windows users investigate <a href="http://strawberryperl.com" rel="noreferrer">strawberry Perl</a>. This is a version of Perl that comes packaged with a pre-configured CPAN shell as well as a compiler. It also includes some hard-to-compile Perl modules with their external C library dependencies, notably XML::Parser. This means that you can do the same thing as every other Perl user when it comes to installing modules, and things tend to “just work” a lot more often.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="regex-to-match-any-character-including-new-lines-score-222128-in" class="level3">
<h3>18: Regex to match any character including new lines (score <a href="https://stackoverflow.com/q/8303488.html">222128</a> in )</h3>
<section id="question-16" class="level4">
<h4>Question</h4>
<p>Is there a regex to match “all characters including newlines”?</p>
<p>For example, in the regex below, there is no output from <code>$2</code> because <code>(.+?)</code> doesn’t include new lines when matching.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb87-1"><a href="#cb87-1"></a><span class="dt">$string</span> = <span class="kw">&quot;</span><span class="st">START Curabitur mollis, dolor ut rutrum consequat, arcu nisl ultrices diam, adipiscing aliquam ipsum metus id velit. Aenean vestibulum gravida felis, quis bibendum nisl euismod ut. </span></span>
<span id="cb87-2"><a href="#cb87-2"></a></span>
<span id="cb87-3"><a href="#cb87-3"></a><span class="st">Nunc at orci sed quam pharetra congue. Nulla a justo vitae diam eleifend dictum. Maecenas egestas ipsum elementum dui sollicitudin tempus. Donec bibendum cursus nisi, vitae convallis ante ornare a. Curabitur libero lorem, semper sit amet cursus at, cursus id purus. Cras varius metus eu diam vulputate vel elementum mauris tempor. </span></span>
<span id="cb87-4"><a href="#cb87-4"></a></span>
<span id="cb87-5"><a href="#cb87-5"></a><span class="st">Morbi tristique interdum libero, eu pulvinar elit fringilla vel. Curabitur fringilla bibendum urna, ullamcorper placerat quam fermentum id. Nunc aliquam, nunc sit amet bibendum lacinia, magna massa auctor enim, nec dictum sapien eros in arcu. </span></span>
<span id="cb87-6"><a href="#cb87-6"></a></span>
<span id="cb87-7"><a href="#cb87-7"></a><span class="st">Pellentesque viverra ullamcorper lectus, a facilisis ipsum tempus et. Nulla mi enim, interdum at imperdiet eget, bibendum nec END</span><span class="kw">&quot;</span>;</span>
<span id="cb87-8"><a href="#cb87-8"></a></span>
<span id="cb87-9"><a href="#cb87-9"></a><span class="dt">$string</span> =~ <span class="kw">/</span><span class="ch">(</span><span class="ot">START</span><span class="ch">)(</span><span class="ot">.</span><span class="ch">+?)(</span><span class="ot">END</span><span class="ch">)</span><span class="kw">/</span>;</span>
<span id="cb87-10"><a href="#cb87-10"></a></span>
<span id="cb87-11"><a href="#cb87-11"></a><span class="fu">print</span> <span class="dt">$2</span>;</span></code></pre></div>
</section>
<section id="answer-accepted-score-170-1" class="level4">
<h4>Answer accepted (score 170)</h4>
<p>Add the <a href="http://perldoc.perl.org/perlre.html#Modifiers" rel="noreferrer"><code>s</code> modifier</a> to your regex to cause <code>.</code> to match newlines:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb88-1"><a href="#cb88-1"></a><span class="dt">$string</span> =~ <span class="kw">/</span><span class="ch">(</span><span class="ot">START</span><span class="ch">)(</span><span class="ot">.</span><span class="ch">+?)(</span><span class="ot">END</span><span class="ch">)</span><span class="kw">/s</span>;</span></code></pre></div>
</section>
<section id="answer-2-score-287" class="level4">
<h4>Answer 2 (score 287)</h4>
<p>If you don’t want add the <code>/s</code> regex modifier (perhaps you still want <code>.</code> to retain its original meaning elsewhere in the regex), you may also use a character class. One possibility:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb89-1"><a href="#cb89-1"></a>[\S\s]</span></code></pre></div>
<p>a character which is not a space or is a space… in other words, any character.</p>
<p>You can also change modifiers locally in a small part of the regex, like so:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb90-1"><a href="#cb90-1"></a>(?<span class="kw">s:</span><span class="ot">.</span><span class="ch">)</span></span></code></pre></div>
</section>
<section id="answer-3-score-8" class="level4">
<h4>Answer 3 (score 8)</h4>
<p>Yeap, you just need to make <code>.</code> match newline :</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb91-1"><a href="#cb91-1"></a><span class="dt">$string</span> =~ <span class="kw">/</span><span class="ch">(</span><span class="ot">START</span><span class="ch">)(</span><span class="ot">.</span><span class="ch">+?)(</span><span class="ot">END</span><span class="ch">)</span><span class="kw">/s</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="best-way-to-iterate-through-a-perl-array-score-214532-in-2013" class="level3">
<h3>19: Best way to iterate through a Perl array (score <a href="https://stackoverflow.com/q/10487316.html">214532</a> in 2013)</h3>
<section id="question-17" class="level4">
<h4>Question</h4>
<p>Which is the best implementation(in terms of speed and memory usage) for iterating through a Perl array? Is there any better way? (<code>@Array</code> need not be retained).</p>
<h5>
Implementation 1
</h3>
<div class="sourceCode" id="cb92"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb92-1"><a href="#cb92-1"></a><span class="kw">foreach</span> (<span class="dt">@Array</span>)</span>
<span id="cb92-2"><a href="#cb92-2"></a>{</span>
<span id="cb92-3"><a href="#cb92-3"></a>      SubRoutine(<span class="dt">$_</span>);</span>
<span id="cb92-4"><a href="#cb92-4"></a>}</span></code></pre></div>
<h5>
Implementation 2
</h3>
<div class="sourceCode" id="cb93"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb93-1"><a href="#cb93-1"></a><span class="kw">while</span>(<span class="dt">$Element</span>=<span class="fu">shift</span>(<span class="dt">@Array</span>))</span>
<span id="cb93-2"><a href="#cb93-2"></a>{</span>
<span id="cb93-3"><a href="#cb93-3"></a>      SubRoutine(<span class="dt">$Element</span>);</span>
<span id="cb93-4"><a href="#cb93-4"></a>}</span></code></pre></div>
<h5>
Implementation 3
</h3>
<div class="sourceCode" id="cb94"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb94-1"><a href="#cb94-1"></a><span class="kw">while</span>(<span class="fu">scalar</span>(<span class="dt">@Array</span>) !=<span class="dv">0</span>)</span>
<span id="cb94-2"><a href="#cb94-2"></a>{</span>
<span id="cb94-3"><a href="#cb94-3"></a>      <span class="dt">$Element</span>=<span class="fu">shift</span>(<span class="dt">@Array</span>);</span>
<span id="cb94-4"><a href="#cb94-4"></a>      SubRoutine(<span class="dt">$Element</span>);</span>
<span id="cb94-5"><a href="#cb94-5"></a>}</span></code></pre></div>
<h5>
Implementation 4
</h3>
<div class="sourceCode" id="cb95"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb95-1"><a href="#cb95-1"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$i</span> (<span class="dv">0</span> .. <span class="dt">$#Array</span>)</span>
<span id="cb95-2"><a href="#cb95-2"></a>{</span>
<span id="cb95-3"><a href="#cb95-3"></a>      SubRoutine(<span class="dt">$Array</span>[<span class="dt">$i</span>]);</span>
<span id="cb95-4"><a href="#cb95-4"></a>}</span></code></pre></div>
<h5>
Implementation 5
</h3>
<div class="sourceCode" id="cb96"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb96-1"><a href="#cb96-1"></a><span class="fu">map</span> { SubRoutine(<span class="dt">$_</span>) } <span class="dt">@Array</span> ;</span></code></pre></div>
</section>
<section id="answer-accepted-score-75" class="level4">
<h4>Answer accepted (score 75)</h4>
<ul>
<li>
<p>
In terms of speed: #1 and #4, but not by much in most instances.
</p>
<p>You could write a benchmark to confirm, but I suspect you’ll find #1 and #4 to be slightly faster because the iteration work is done in C instead of Perl, and no needless copying of the array elements occurs. (<code>$_</code> is <em>aliased</em> to the element in #1, but #2 and #3 actually <em>copy</em> the scalars from the array.)</p>
#5 might be similar.
</li>
<li>
<p>
In terms memory usage: They’re all the same except for #5.
</p>
<code>for (@a)</code> is special-cased to avoid flattening the array. The loop iterates over the indexes of the array.
</li>
<li>
<p>
In terms of readability: #1.
</p>
</li>
<li>
<p>
In terms of flexibility: #1/#4 and #5.
</p>
#2 does not support elements that are false. #2 and #3 are destructive.
</li>
</ul>
</section>
<section id="answer-2-score-24-1" class="level4">
<h4>Answer 2 (score 24)</h4>
<p>If you only care about the elements of <code>@Array</code>, use:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb97-1"><a href="#cb97-1"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$el</span> (<span class="dt">@Array</span>) {</span>
<span id="cb97-2"><a href="#cb97-2"></a><span class="co"># ...</span></span>
<span id="cb97-3"><a href="#cb97-3"></a>}</span></code></pre></div>
<p>or</p>
<p>If the indices matter, use:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb98-1"><a href="#cb98-1"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$i</span> (<span class="dv">0</span> .. <span class="dt">$#Array</span>) {</span>
<span id="cb98-2"><a href="#cb98-2"></a><span class="co"># ...</span></span>
<span id="cb98-3"><a href="#cb98-3"></a>}</span></code></pre></div>
<p>Or, as of <code>perl</code> 5.12.1, you can use:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb99-1"><a href="#cb99-1"></a><span class="kw">while</span> (<span class="kw">my</span> (<span class="dt">$i</span>, <span class="dt">$el</span>) = <span class="kw">each</span> <span class="dt">@Array</span>) {</span>
<span id="cb99-2"><a href="#cb99-2"></a><span class="co"># ...</span></span>
<span id="cb99-3"><a href="#cb99-3"></a>}</span></code></pre></div>
<p>If you need both the element and its index in the body of the loop, <del>I would expect</del> using <code>each</code> <del>to be the fastest, but then</del> you’ll be giving up compatibility with pre-5.12.1 <code>perl</code>s.</p>
<p>Some other pattern than these might be appropriate under certain circumstances.</p>
</section>
<section id="answer-3-score-3" class="level4">
<h4>Answer 3 (score 3)</h4>
<p>IMO, implementation #1 is typical and being short and idiomatic for Perl trumps the others for that alone. A benchmark of the three choices might offer you insight into speed, at least.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="whats-the-difference-between-perls-backticks-system-and-exec-score-212862-in-2010" class="level3">
<h3>20: What’s the difference between Perl’s backticks, system, and exec? (score <a href="https://stackoverflow.com/q/799968.html">212862</a> in 2010)</h3>
<section id="question-18" class="level4">
<h4>Question</h4>
<p>Can someone please help me? In Perl, what is the difference between:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb100-1"><a href="#cb100-1"></a><span class="fu">exec</span> <span class="kw">&quot;</span><span class="st">command</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb101-1"><a href="#cb101-1"></a><span class="fu">system</span>(<span class="kw">&quot;</span><span class="st">command</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb102-1"><a href="#cb102-1"></a><span class="fu">print</span> <span class="kw">`</span><span class="st">command</span><span class="kw">`</span>;</span></code></pre></div>
<p>Are there other ways to run shell commands too?</p>
</section>
<section id="answer-accepted-score-257" class="level4">
<h4>Answer accepted (score 257)</h4>
<h5>
<strong>exec</strong>
</h2>
<p>
executes a command and <em>never returns</em>. It’s like a <code>return</code> statement in a function.
</p>
<p>
If the command is not found <code>exec</code> returns false. It never returns true, because if the command is found it never returns at all. There is also no point in returning <code>STDOUT</code>, <code>STDERR</code> or exit status of the command. You can find documentation about it in <a href="http://perldoc.perl.org/functions/exec.html" rel="noreferrer"><strong><code>perlfunc</code></strong></a>, because it is a function.
</p>
<h5>
<strong>system</strong>
</h2>
<p>executes a command and your Perl script is continued after the command has finished.</p>
<p>
The return value is the exit status of the command. You can find documentation about it in <a href="http://perldoc.perl.org/functions/system.html" rel="noreferrer"><strong><code>perlfunc</code></strong></a>.
</p>
<h5>
<strong>backticks</strong>
</h2>
<p>like <code>system</code> executes a command and your perl script is continued after the command has finished.</p>
<p>
In contrary to <strong><code>system</code></strong> the return value is <code>STDOUT</code> of the command. <code>qx//</code> is equivalent to backticks. You can find documentation about it in <a href="http://perldoc.perl.org/perlop.html#Quote-Like-Operators" rel="noreferrer"><strong><code>perlop</code></strong></a>, because unlike <code>system</code> and <code>exec</code>it is an operator.
</p>
<hr>
<h5>
<strong>Other ways</strong>
</h2>
<p>
What is missing from the above is a way to execute a command asynchronously. That means your perl script and your command run simultaneously. This can be accomplished with <a href="http://perldoc.perl.org/functions/open.html" rel="noreferrer"><strong><code>open</code></strong></a>. It allows you to read <code>STDOUT</code>/<code>STDERR</code> and write to <code>STDIN</code> of your command. It is platform dependent though.
</p>
<p>
There are also several modules which can ease this tasks. There is <code>IPC::Open2</code> and <code>IPC::Open3</code> and <code>IPC::Run</code>, as well as <code>Win32::Process::Create</code> if you are on windows.
</p>
</section>
<section id="answer-2-score-165" class="level4">
<h4>Answer 2 (score 165)</h4>
<p>In general I use <code>system</code>, <code>open</code>, <code>IPC::Open2</code>, or <code>IPC::Open3</code> depending on what I want to do. The <code>qx//</code> operator, while simple, is too constraining in its functionality to be very useful outside of quick hacks. I find <code>open</code> to much handier.</p>
<h5>
<a href="http://perldoc.perl.org/functions/system.html" rel="noreferrer"><code>system</code></a>: run a command and wait for it to return
</h2>
<p>Use <code>system</code> when you want to run a command, don’t care about its output, and don’t want the Perl script to do anything until the command finishes.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb103-1"><a href="#cb103-1"></a><span class="co">#doesn&#39;t spawn a shell, arguments are passed as they are</span></span>
<span id="cb103-2"><a href="#cb103-2"></a><span class="fu">system</span>(<span class="kw">&quot;</span><span class="st">command</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">arg1</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">arg2</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">arg3</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb104-1"><a href="#cb104-1"></a><span class="co">#spawns a shell, arguments are interpreted by the shell, use only if you</span></span>
<span id="cb104-2"><a href="#cb104-2"></a><span class="co">#want the shell to do globbing (e.g. *.txt) for you or you want to redirect</span></span>
<span id="cb104-3"><a href="#cb104-3"></a><span class="co">#output</span></span>
<span id="cb104-4"><a href="#cb104-4"></a><span class="fu">system</span>(<span class="kw">&quot;</span><span class="st">command arg1 arg2 arg3</span><span class="kw">&quot;</span>);</span></code></pre></div>
<h5>
<a href="http://perldoc.perl.org/perlop.html#qx/STRING/" rel="noreferrer"><code>qx//</code> or ``</a>: run a command and capture its STDOUT
</h2>
<p>Use <code>qx//</code> when you want to run a command, capture what it writes to STDOUT, and don’t want the Perl script to do anything until the command finishes.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb105-1"><a href="#cb105-1"></a><span class="co">#arguments are always processed by the shell</span></span>
<span id="cb105-2"><a href="#cb105-2"></a></span>
<span id="cb105-3"><a href="#cb105-3"></a><span class="co">#in list context it returns the output as a list of lines</span></span>
<span id="cb105-4"><a href="#cb105-4"></a><span class="kw">my</span> <span class="dt">@lines</span> = <span class="kw">qx/</span><span class="st">command arg1 arg2 arg3</span><span class="kw">/</span>;</span>
<span id="cb105-5"><a href="#cb105-5"></a></span>
<span id="cb105-6"><a href="#cb105-6"></a><span class="co">#in scalar context it returns the output as one string</span></span>
<span id="cb105-7"><a href="#cb105-7"></a><span class="kw">my</span> <span class="dt">$output</span> = <span class="kw">qx/</span><span class="st">command arg1 arg2 arg3</span><span class="kw">/</span>;</span></code></pre></div>
<h5>
<a href="http://perldoc.perl.org/functions/exec.html" rel="noreferrer"><code>exec</code></a>: replace the current process with another process.
</h2>
<p>Use <code>exec</code> along with <a href="http://perldoc.perl.org/functions/fork.html" rel="noreferrer"><code>fork</code></a> when you want to run a command, don’t care about its output, and don’t want to wait for it to return. <code>system</code> is really just</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb106-1"><a href="#cb106-1"></a><span class="kw">sub </span><span class="fu">my_system</span> {</span>
<span id="cb106-2"><a href="#cb106-2"></a>    <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not fork</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">unless</span> <span class="fu">defined</span>(<span class="kw">my</span> <span class="dt">$pid</span> = <span class="fu">fork</span>);</span>
<span id="cb106-3"><a href="#cb106-3"></a>    <span class="kw">return</span> <span class="fu">waitpid</span> <span class="dt">$pid</span>, <span class="dv">0</span> <span class="kw">if</span> <span class="dt">$pid</span>; <span class="co">#parent waits for child</span></span>
<span id="cb106-4"><a href="#cb106-4"></a>    <span class="fu">exec</span> <span class="dt">@_</span>; <span class="co">#replace child with new process</span></span>
<span id="cb106-5"><a href="#cb106-5"></a>}</span></code></pre></div>
<p>You may also want to read the <a href="http://perldoc.perl.org/functions/waitpid.html" rel="noreferrer"><code>waitpid</code></a> and <a href="http://perldoc.perl.org/perlipc.html" rel="noreferrer"><code>perlipc</code></a> manuals.</p>
<h5>
<a href="http://perldoc.perl.org/functions/open.html" rel="noreferrer"><code>open</code></a>: run a process and create a pipe to its STDIN or STDERR
</h2>
<p>Use <code>open</code> when you want to write data to a process’s STDIN or read data from a process’s STDOUT (but not both at the same time).</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb107-1"><a href="#cb107-1"></a><span class="co">#read from a gzip file as if it were a normal file</span></span>
<span id="cb107-2"><a href="#cb107-2"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$read_fh</span>, <span class="kw">&quot;</span><span class="st">-|</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">gzip</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">-d</span><span class="kw">&quot;</span>, <span class="dt">$filename</span></span>
<span id="cb107-3"><a href="#cb107-3"></a>    <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not open </span><span class="dt">$filename</span><span class="st">: </span><span class="dt">$!</span><span class="kw">&quot;</span>;</span>
<span id="cb107-4"><a href="#cb107-4"></a></span>
<span id="cb107-5"><a href="#cb107-5"></a><span class="co">#write to a gzip compressed file as if were a normal file</span></span>
<span id="cb107-6"><a href="#cb107-6"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$write_fh</span>, <span class="kw">&quot;</span><span class="st">|-</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">gzip</span><span class="kw">&quot;</span>, <span class="dt">$filename</span></span>
<span id="cb107-7"><a href="#cb107-7"></a>    <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not open </span><span class="dt">$filename</span><span class="st">: </span><span class="dt">$!</span><span class="kw">&quot;</span>;</span></code></pre></div>
<h5>
<a href="http://perldoc.perl.org/IPC/Open2.html" rel="noreferrer">IPC::Open2</a>: run a process and create a pipe to both STDIN and STDOUT
</h2>
<p>Use <code>IPC::Open2</code> when you need to read from and write to a process’s STDIN and STDOUT.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb108-1"><a href="#cb108-1"></a><span class="fu">use</span> <span class="fu">IPC::Open2</span>;</span>
<span id="cb108-2"><a href="#cb108-2"></a></span>
<span id="cb108-3"><a href="#cb108-3"></a>open2 <span class="kw">my</span> <span class="dt">$out</span>, <span class="kw">my</span> <span class="dt">$in</span>, <span class="kw">&quot;</span><span class="st">/usr/bin/bc</span><span class="kw">&quot;</span></span>
<span id="cb108-4"><a href="#cb108-4"></a>    <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not run bc</span><span class="kw">&quot;</span>;</span>
<span id="cb108-5"><a href="#cb108-5"></a></span>
<span id="cb108-6"><a href="#cb108-6"></a><span class="fu">print</span> <span class="dt">$in</span> <span class="kw">&quot;</span><span class="st">5+6</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb108-7"><a href="#cb108-7"></a></span>
<span id="cb108-8"><a href="#cb108-8"></a><span class="kw">my</span> <span class="dt">$answer</span> = &lt;<span class="dt">$out</span>&gt;;</span></code></pre></div>
<h5>
<a href="http://perldoc.perl.org/IPC/Open3.html" rel="noreferrer">IPC::Open3</a>: run a process and create a pipe to STDIN, STDOUT, and STDERR
</h2>
<p>use <code>IPC::Open3</code> when you need to capture all three standard file handles of the process. I would write an example, but it works mostly the same way IPC::Open2 does, but with a slightly different order to the arguments and a third file handle.</p>
</section>
<section id="answer-3-score-17-1" class="level4">
<h4>Answer 3 (score 17)</h4>
<h5>
Let me quote the manuals first:
</h3>
<p><a href="http://perldoc.perl.org/functions/exec.html" rel="noreferrer">perldoc exec()</a>:</p>
<blockquote>
The exec function executes a system command and <strong>never returns</strong>– use <em>system</em> instead of <em>exec</em> if you want it to return
</blockquote>
<p><a href="http://perldoc.perl.org/functions/system.html" rel="noreferrer">perldoc system()</a>:</p>
<blockquote>
Does exactly the same thing as exec LIST , except that <strong>a fork is done</strong> first, and the parent process waits for the child process to complete.
</blockquote>
<p>In contrast to <em>exec</em> and <em>system</em>, backticks don’t give you the return value but the collected STDOUT.</p>
<p><a href="http://perldoc.perl.org/perlop.html#%60STRING%60" rel="noreferrer">perldoc `String`</a>:</p>
<blockquote>
A string which is (possibly) interpolated and then executed as a system command with <em>/bin/sh</em> or its equivalent. Shell wildcards, pipes, and redirections will be honored. The collected <strong>standard output of the command is returned</strong>; standard error is unaffected.
</blockquote>
<hr>
<h5>
Alternatives:
</h2>
<p>In more complex scenarios, where you want to fetch STDOUT, STDERR or the return code, you can use well known standard modules like <a href="http://perldoc.perl.org/IPC/Open2.html" rel="noreferrer">IPC::Open2</a> and <a href="http://perldoc.perl.org/IPC/Open3.html" rel="noreferrer">IPC::Open3</a>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb109-1"><a href="#cb109-1"></a><span class="fu">use</span> <span class="fu">IPC::Open2</span>;</span>
<span id="cb109-2"><a href="#cb109-2"></a><span class="kw">my</span> <span class="dt">$pid</span> = open2(\<span class="dt">*CHLD_OUT</span>, \<span class="dt">*CHLD_IN</span>, <span class="kw">&#39;</span><span class="st">some</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">cmd</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">and</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">args</span><span class="kw">&#39;</span>);</span>
<span id="cb109-3"><a href="#cb109-3"></a><span class="fu">waitpid</span>( <span class="dt">$pid</span>, <span class="dv">0</span> );</span>
<span id="cb109-4"><a href="#cb109-4"></a><span class="kw">my</span> <span class="dt">$child_exit_status</span> = <span class="dt">$?</span> &gt;&gt; <span class="dv">8</span>;</span></code></pre></div>
<p>Finally, <a href="http://search.cpan.org/dist/IPC::Run/" rel="noreferrer">IPC::Run</a> from the CPAN is also worth looking at…</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="show-a-pdf-files-in-users-browser-via-phpperl-score-211415-in-2012" class="level3">
<h3>21: Show a PDF files in users browser via PHP/Perl (score <a href="https://stackoverflow.com/q/4679756.html">211415</a> in 2012)</h3>
<section id="question-19" class="level4">
<h4>Question</h4>
<p>I want to show my users PDF files. The reason why I use cgi to show the pdf is I want to track the clicks for the pdf, and cloak the real location of the saved pdf.</p>
<p>I’ve been searching on the Internet and only found how to show save dialog to the users and creating a pdf, not show the files to the users.</p>
<p>
What I wanted for is <strong>show</strong> the users my pdf files, <strong>not creating or download</strong> the pdf. Here is what I got form the official php documentation:
</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb110-1"><a href="#cb110-1"></a>&lt;?php</span>
<span id="cb110-2"><a href="#cb110-2"></a>header(<span class="kw">&#39;</span><span class="st">Content-type: application/pdf</span><span class="kw">&#39;</span>);</span>
<span id="cb110-3"><a href="#cb110-3"></a>readfile(<span class="kw">&#39;</span><span class="st">the.pdf</span><span class="kw">&#39;</span>);</span>
<span id="cb110-4"><a href="#cb110-4"></a>?&gt;</span></code></pre></div>
<p>Also my google-search-result perl code:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb111-1"><a href="#cb111-1"></a><span class="fu">open</span>(PDF, <span class="kw">&quot;</span><span class="st">the.pdf</span><span class="kw">&quot;</span>) <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not open PDF [</span><span class="dt">$!</span><span class="st">]</span><span class="kw">&quot;</span>;</span>
<span id="cb111-2"><a href="#cb111-2"></a><span class="fu">binmode</span> PDF;</span>
<span id="cb111-3"><a href="#cb111-3"></a><span class="kw">my</span> <span class="dt">$output</span> = <span class="kw">do</span> { <span class="kw">local</span> <span class="dt">$/</span>; <span class="kw">&lt;PDF&gt;</span> };</span>
<span id="cb111-4"><a href="#cb111-4"></a><span class="fu">close</span> (PDF);</span>
<span id="cb111-5"><a href="#cb111-5"></a></span>
<span id="cb111-6"><a href="#cb111-6"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Content-Type: application/pdf</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb111-7"><a href="#cb111-7"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Content-Length: </span><span class="kw">&quot;</span> .<span class="fu">length</span>(<span class="dt">$output</span>) . <span class="kw">&quot;</span><span class="ch">\n\n</span><span class="kw">&quot;</span>;</span>
<span id="cb111-8"><a href="#cb111-8"></a><span class="fu">print</span> <span class="dt">$output</span></span></code></pre></div>
<p>if you do it on ruby, please say it to me. But I’m not sure if my server support rails.</p>
<p>Sorry if my code is too far away from the method to show the pdf, since I don’t know anything about pdf processing and how to implement this problem.</p>
<p>Lets assume that the users have the Adobe Reader plug-in. So, how to fix my problem?</p>
<p><strong>edit</strong> : I want to show plain pdf file. My primary purpose: track my pdf files and use some fancy urls.</p>
<p><strong>edit</strong> : Here’s my main php code:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb112-1"><a href="#cb112-1"></a>&lt;?php</span>
<span id="cb112-2"><a href="#cb112-2"></a><span class="dt">$file</span>=<span class="kw">&#39;</span><span class="st">/files/the.pdf</span><span class="kw">&#39;</span>;</span>
<span id="cb112-3"><a href="#cb112-3"></a>header(<span class="kw">&#39;</span><span class="st">Content-type: application/pdf</span><span class="kw">&#39;</span>);</span>
<span id="cb112-4"><a href="#cb112-4"></a>header(<span class="kw">&#39;</span><span class="st">Content-Disposition: inline; filename=&quot;the.pdf&quot;</span><span class="kw">&#39;</span>);</span>
<span id="cb112-5"><a href="#cb112-5"></a><span class="dt">@readfile</span>(<span class="dt">$file</span>);</span>
<span id="cb112-6"><a href="#cb112-6"></a>?&gt;</span></code></pre></div>
<p><strong>edit</strong> : Now the code is working. But the loading progress bar (on Adobe Reader X plugin) doesn’t shows up. Why? Anyone can help me? Here’s my main code:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb113-1"><a href="#cb113-1"></a>&lt;?php</span>
<span id="cb113-2"><a href="#cb113-2"></a><span class="dt">$file</span>=<span class="kw">&#39;</span><span class="st">./files/the.pdf</span><span class="kw">&#39;</span>;</span>
<span id="cb113-3"><a href="#cb113-3"></a>header(<span class="kw">&#39;</span><span class="st">Content-type: application/pdf</span><span class="kw">&#39;</span>);</span>
<span id="cb113-4"><a href="#cb113-4"></a>header(<span class="kw">&#39;</span><span class="st">Content-Disposition: inline; filename=&quot;the.pdf&quot;</span><span class="kw">&#39;</span>);</span>
<span id="cb113-5"><a href="#cb113-5"></a>header(<span class="kw">&#39;</span><span class="st">Content-Transfer-Encoding: binary</span><span class="kw">&#39;</span>);</span>
<span id="cb113-6"><a href="#cb113-6"></a>header(<span class="kw">&#39;</span><span class="st">Content-Length: </span><span class="kw">&#39;</span> . filesize(<span class="dt">$file</span>));</span>
<span id="cb113-7"><a href="#cb113-7"></a><span class="dt">@readfile</span>(<span class="dt">$file</span>);</span>
<span id="cb113-8"><a href="#cb113-8"></a>?&gt;</span></code></pre></div>
<p><strong>edit</strong> : All my problems solved. Here’s the final code:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb114-1"><a href="#cb114-1"></a>&lt;?php</span>
<span id="cb114-2"><a href="#cb114-2"></a><span class="dt">$file</span> = <span class="kw">&#39;</span><span class="st">./path/to/the.pdf</span><span class="kw">&#39;</span>;</span>
<span id="cb114-3"><a href="#cb114-3"></a><span class="dt">$filename</span> = <span class="kw">&#39;</span><span class="st">Custom file name for the.pdf</span><span class="kw">&#39;</span>; <span class="kw">/</span><span class="ch">*</span><span class="ot"> Note: Always use .pdf at the end. </span><span class="ch">*</span><span class="kw">/</span></span>
<span id="cb114-4"><a href="#cb114-4"></a></span>
<span id="cb114-5"><a href="#cb114-5"></a>header(<span class="kw">&#39;</span><span class="st">Content-type: application/pdf</span><span class="kw">&#39;</span>);</span>
<span id="cb114-6"><a href="#cb114-6"></a>header(<span class="kw">&#39;</span><span class="st">Content-Disposition: inline; filename=&quot;</span><span class="kw">&#39;</span> . <span class="dt">$filename</span> . <span class="kw">&#39;</span><span class="st">&quot;</span><span class="kw">&#39;</span>);</span>
<span id="cb114-7"><a href="#cb114-7"></a>header(<span class="kw">&#39;</span><span class="st">Content-Transfer-Encoding: binary</span><span class="kw">&#39;</span>);</span>
<span id="cb114-8"><a href="#cb114-8"></a>header(<span class="kw">&#39;</span><span class="st">Content-Length: </span><span class="kw">&#39;</span> . filesize(<span class="dt">$file</span>));</span>
<span id="cb114-9"><a href="#cb114-9"></a>header(<span class="kw">&#39;</span><span class="st">Accept-Ranges: bytes</span><span class="kw">&#39;</span>);</span>
<span id="cb114-10"><a href="#cb114-10"></a></span>
<span id="cb114-11"><a href="#cb114-11"></a><span class="dt">@readfile</span>(<span class="dt">$file</span>);</span>
<span id="cb114-12"><a href="#cb114-12"></a>?&gt;</span></code></pre></div>
<p>Thanks! :)</p>
</section>
<section id="answer-2-score-49" class="level4">
<h4>Answer 2 (score 49)</h4>
<p>I assume you want the PDF to display in the browser, rather than forcing a download. If that is the case, try setting the <code>Content-Disposition</code> header with a value of <code>inline</code>.</p>
<p>Also remember that this will also be affected by browser settings - some browsers may be configured to <strong>always</strong> download PDF files or open them in a different application (e.g. Adobe Reader)</p>
</section>
<section id="answer-3-score-14-1" class="level4">
<h4>Answer 3 (score 14)</h4>
<div class="sourceCode" id="cb115"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb115-1"><a href="#cb115-1"></a>    <span class="dt">$url</span> =<span class="kw">&quot;</span><span class="st">https://yourFile.pdf</span><span class="kw">&quot;</span>;</span>
<span id="cb115-2"><a href="#cb115-2"></a>    <span class="dt">$content</span> = file_get_contents(<span class="dt">$url</span>);</span>
<span id="cb115-3"><a href="#cb115-3"></a></span>
<span id="cb115-4"><a href="#cb115-4"></a>    header(<span class="kw">&#39;</span><span class="st">Content-Type: application/pdf</span><span class="kw">&#39;</span>);</span>
<span id="cb115-5"><a href="#cb115-5"></a>    header(<span class="kw">&#39;</span><span class="st">Content-Length: </span><span class="kw">&#39;</span> . strlen(<span class="dt">$content</span>));</span>
<span id="cb115-6"><a href="#cb115-6"></a>    header(<span class="kw">&#39;</span><span class="st">Content-Disposition: inline; filename=&quot;YourFileName.pdf&quot;</span><span class="kw">&#39;</span>);</span>
<span id="cb115-7"><a href="#cb115-7"></a>    header(<span class="kw">&#39;</span><span class="st">Cache-Control: private, max-age=0, must-revalidate</span><span class="kw">&#39;</span>);</span>
<span id="cb115-8"><a href="#cb115-8"></a>    header(<span class="kw">&#39;</span><span class="st">Pragma: public</span><span class="kw">&#39;</span>);</span>
<span id="cb115-9"><a href="#cb115-9"></a>    ini_set(<span class="kw">&#39;</span><span class="st">zlib.output_compression</span><span class="kw">&#39;</span>,<span class="kw">&#39;</span><span class="st">0</span><span class="kw">&#39;</span>);</span>
<span id="cb115-10"><a href="#cb115-10"></a></span>
<span id="cb115-11"><a href="#cb115-11"></a>    <span class="fu">die</span>(<span class="dt">$content</span>);</span></code></pre></div>
<p>Tested and works fine. If you want the file to download instead, replace</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb116-1"><a href="#cb116-1"></a>    Content-Disposition: inline</span></code></pre></div>
<p>with</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb117-1"><a href="#cb117-1"></a>    Content-Disposition: attachment</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-get-a-list-of-installed-cpan-modules-score-207546-in" class="level3">
<h3>22: How do I get a list of installed CPAN modules? (score <a href="https://stackoverflow.com/q/115425.html">207546</a> in )</h3>
<section id="question-20" class="level4">
<h4>Question</h4>
<p>Aside from trying</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb118-1"><a href="#cb118-1"></a>perldoc &lt;module name&gt;</span></code></pre></div>
<p>individually for any CPAN module that takes my fancy or going through the file system and looking at the directories I have no idea what modules we have installed.</p>
<p>What’s the easiest way to just get a big list of every CPAN module installed? From the command line or otherwise.</p>
</section>
<section id="answer-accepted-score-62" class="level4">
<h4>Answer accepted (score 62)</h4>
<p>This is answered in the Perl FAQ, the answer which can be quickly found with <code>perldoc -q installed</code>. In short, it comes down to using <code>ExtUtils::Installed</code> or using <code>File::Find</code>, variants of both of which have been covered previously in this thread.</p>
<p>You can also find the FAQ entry <a href="http://perldoc.perl.org/perlfaq3.html#How-do-I-find-which-modules-are-installed-on-my-system%3f" rel="noreferrer">“How do I find which modules are installed on my system?”</a> in perlfaq3. You can see a list of all FAQ answers by looking in <a href="http://perldoc.perl.org/perlfaq.html" rel="noreferrer">perlfaq</a></p>
</section>
<section id="answer-2-score-34" class="level4">
<h4>Answer 2 (score 34)</h4>
<div class="sourceCode" id="cb119"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb119-1"><a href="#cb119-1"></a>perldoc perllocal</span></code></pre></div>
<p>Edit: There’s a (little) more info about it in the <a href="http://www.cpan.org/misc/cpan-faq.html#How_installed_modules" rel="noreferrer">CPAN FAQ</a></p>
</section>
<section id="answer-3-score-24" class="level4">
<h4>Answer 3 (score 24)</h4>
<p><code>perldoc -q installed</code></p>
<p>claims that <code>cpan -l</code> will do the trick, however it’s not working for me. The other option:</p>
<p><code>cpan -a</code></p>
<p>does spit out a nice list of installed packages and has the nice side effect of writing them to a file.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-remove-duplicate-items-from-an-array-in-perl-score-206565-in-2014" class="level3">
<h3>23: How do I remove duplicate items from an array in Perl? (score <a href="https://stackoverflow.com/q/7651.html">206565</a> in 2014)</h3>
<section id="question-21" class="level4">
<h4>Question</h4>
<p>I have an array in Perl:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb120-1"><a href="#cb120-1"></a><span class="kw">my</span> <span class="dt">@my_array</span> = (<span class="kw">&quot;</span><span class="st">one</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="st">two</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="st">three</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="st">two</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="st">three</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>How do I remove the duplicates from the array?</p>
</section>
<section id="answer-accepted-score-159" class="level4">
<h4>Answer accepted (score 159)</h4>
<p>You can do something like this as demonstrated in <a href="http://perldoc.perl.org/perlfaq4.html#How-can-I-remove-duplicate-elements-from-a-list-or-array%3f" rel="noreferrer">perlfaq4</a>:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb121-1"><a href="#cb121-1"></a><span class="kw">sub </span><span class="fu">uniq</span> {</span>
<span id="cb121-2"><a href="#cb121-2"></a>    <span class="kw">my</span> <span class="dt">%seen</span>;</span>
<span id="cb121-3"><a href="#cb121-3"></a>    <span class="fu">grep</span> !<span class="dt">$seen</span>{<span class="dt">$_</span>}++, <span class="dt">@_</span>;</span>
<span id="cb121-4"><a href="#cb121-4"></a>}</span>
<span id="cb121-5"><a href="#cb121-5"></a></span>
<span id="cb121-6"><a href="#cb121-6"></a><span class="kw">my</span> <span class="dt">@array</span> = <span class="kw">qw(</span>one two three two three<span class="kw">)</span>;</span>
<span id="cb121-7"><a href="#cb121-7"></a><span class="kw">my</span> <span class="dt">@filtered</span> = uniq(<span class="dt">@array</span>);</span>
<span id="cb121-8"><a href="#cb121-8"></a></span>
<span id="cb121-9"><a href="#cb121-9"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@filtered</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Outputs:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb122-1"><a href="#cb122-1"></a>one two three</span></code></pre></div>
<p>If you want to use a module, try the <code>uniq</code> function from <a href="https://metacpan.org/pod/List::MoreUtils" rel="noreferrer"><code>List::MoreUtils</code></a></p>
</section>
<section id="answer-2-score-119" class="level4">
<h4>Answer 2 (score 119)</h4>
<p>The Perl documentation comes with a nice collection of FAQs. Your question is frequently asked:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb123-1"><a href="#cb123-1"></a>% perldoc -q duplicate</span></code></pre></div>
<p>The answer, copy and pasted from the output of the command above, appears below:</p>
<pre>Found in /usr/local/lib/perl5/5.10.0/pods/perlfaq4.pod
 How can I remove duplicate elements from a list or array?
   (contributed by brian d foy)

   Use a hash. When you think the words "unique" or "duplicated", think
   "hash keys".

   If you don't care about the order of the elements, you could just
   create the hash then extract the keys. It's not important how you
   create that hash: just that you use "keys" to get the unique elements.

       my %hash   = map { $_, 1 } @array;
       # or a hash slice: @hash{ @array } = ();
       # or a foreach: $hash{$_} = 1 foreach ( @array );

       my @unique = keys %hash;

   If you want to use a module, try the "uniq" function from
   "List::MoreUtils". In list context it returns the unique elements,
   preserving their order in the list. In scalar context, it returns the
   number of unique elements.

       use List::MoreUtils qw(uniq);

       my @unique = uniq( 1, 2, 3, 4, 4, 5, 6, 5, 7 ); # 1,2,3,4,5,6,7
       my $unique = uniq( 1, 2, 3, 4, 4, 5, 6, 5, 7 ); # 7

   You can also go through each element and skip the ones you've seen
   before. Use a hash to keep track. The first time the loop sees an
   element, that element has no key in %Seen. The "next" statement creates
   the key and immediately uses its value, which is "undef", so the loop
   continues to the "push" and increments the value for that key. The next
   time the loop sees that same element, its key exists in the hash and
   the value for that key is true (since it's not 0 or "undef"), so the
   next skips that iteration and the loop goes to the next element.

       my @unique = ();
       my %seen   = ();

       foreach my $elem ( @array )
       {
         next if $seen{ $elem }++;
         push @unique, $elem;
       }

   You can write this more briefly using a grep, which does the same
   thing.

       my %seen = ();
       my @unique = grep { ! $seen{ $_ }++ } @array;
</pre>
</section>
<section id="answer-3-score-67" class="level4">
<h4>Answer 3 (score 67)</h4>
<p>Install <a href="http://search.cpan.org/dist/List-MoreUtils/" rel="noreferrer">List::MoreUtils</a> from CPAN</p>
<p>Then in your code:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb124-1"><a href="#cb124-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb124-2"><a href="#cb124-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb124-3"><a href="#cb124-3"></a><span class="fu">use</span> <span class="fu">List::MoreUtils</span> <span class="kw">qw(</span>uniq<span class="kw">)</span>;</span>
<span id="cb124-4"><a href="#cb124-4"></a></span>
<span id="cb124-5"><a href="#cb124-5"></a><span class="kw">my</span> <span class="dt">@dup_list</span> = <span class="kw">qw(</span>1 1 1 2 3 4 4<span class="kw">)</span>;</span>
<span id="cb124-6"><a href="#cb124-6"></a></span>
<span id="cb124-7"><a href="#cb124-7"></a><span class="kw">my</span> <span class="dt">@uniq_list</span> = uniq(<span class="dt">@dup_list</span>);</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="perl---if-string-contains-text-score-204940-in-2015" class="level3">
<h3>24: Perl - If string contains text? (score <a href="https://stackoverflow.com/q/7011524.html">204940</a> in 2015)</h3>
<section id="question-22" class="level4">
<h4>Question</h4>
<p>I want to use curl to view the source of a page and if that source contains a word that matches the string then it will execute a print. How would I do a <code>if $string contains</code>?</p>
<p>In VB it would be like.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb125-1"><a href="#cb125-1"></a>dim string1 as string = <span class="kw">&quot;</span><span class="st">1</span><span class="kw">&quot;</span></span>
<span id="cb125-2"><a href="#cb125-2"></a>If string1.contains(<span class="kw">&quot;</span><span class="st">1</span><span class="kw">&quot;</span>) Then</span>
<span id="cb125-3"><a href="#cb125-3"></a>Code here...</span>
<span id="cb125-4"><a href="#cb125-4"></a>End If</span></code></pre></div>
<p>Something similar to that but in Perl.</p>
</section>
<section id="answer-2-score-90" class="level4">
<h4>Answer 2 (score 90)</h4>
<p>If you just need to search for one string within another, use the <a href="http://perldoc.perl.org/functions/index.html" rel="noreferrer"><code>index</code></a> function (or <a href="http://perldoc.perl.org/functions/rindex.html" rel="noreferrer"><code>rindex</code></a> if you want to start scanning from the end of the string):</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb126-1"><a href="#cb126-1"></a><span class="kw">if</span> (<span class="fu">index</span>(<span class="dt">$string</span>, <span class="dt">$substring</span>) != <span class="dv">-1</span>) {</span>
<span id="cb126-2"><a href="#cb126-2"></a>   <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">&#39;</span><span class="dt">$string</span><span class="kw">&#39;</span><span class="st"> contains &#39;</span><span class="dt">$substring</span><span class="kw">&#39;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb126-3"><a href="#cb126-3"></a>}</span></code></pre></div>
<p>To search a string for a <a href="http://perldoc.perl.org/perlre.html" rel="noreferrer">pattern</a> match, use the match operator <a href="http://perldoc.perl.org/functions/m.html" rel="noreferrer"><code>m//</code></a>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb127-1"><a href="#cb127-1"></a><span class="kw">if</span> (<span class="dt">$string</span> =~ <span class="kw">m/</span><span class="ot">pattern</span><span class="kw">/</span>) {</span>
<span id="cb127-2"><a href="#cb127-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">&#39;</span><span class="dt">$string</span><span class="kw">&#39;</span><span class="st"> matches the pattern</span><span class="ch">\n</span><span class="kw">&quot;</span>;       </span>
<span id="cb127-3"><a href="#cb127-3"></a>}</span></code></pre></div>
</section>
<section id="answer-3-score-29-2" class="level4">
<h4>Answer 3 (score 29)</h4>
<div class="sourceCode" id="cb128"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb128-1"><a href="#cb128-1"></a><span class="kw">if</span> (<span class="dt">$string</span> =~ <span class="kw">m/</span><span class="ot">something</span><span class="kw">/</span>) {</span>
<span id="cb128-2"><a href="#cb128-2"></a>   <span class="co"># Do work</span></span>
<span id="cb128-3"><a href="#cb128-3"></a>}</span></code></pre></div>
<p>Where <code>something</code> is a regular expression.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-extract-string-following-a-pattern-with-grep-regex-or-perl-score-193684-in-2018" class="level3">
<h3>25: How to extract string following a pattern with grep, regex or perl (score <a href="https://stackoverflow.com/q/5080988.html">193684</a> in 2018)</h3>
<section id="question-23" class="level4">
<h4>Question</h4>
<p>I have a file that looks something like this:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb129-1"><a href="#cb129-1"></a>&lt;table name=<span class="kw">&quot;</span><span class="st">content_analyzer</span><span class="kw">&quot;</span> primary-key=<span class="kw">&quot;</span><span class="st">id</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb129-2"><a href="#cb129-2"></a>  &lt;type=<span class="kw">&quot;</span><span class="st">global</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb129-3"><a href="#cb129-3"></a><span class="ot">&lt;</span><span class="kw">/</span>table&gt;</span>
<span id="cb129-4"><a href="#cb129-4"></a>&lt;table name=<span class="kw">&quot;</span><span class="st">content_analyzer2</span><span class="kw">&quot;</span> primary-key=<span class="kw">&quot;</span><span class="st">id</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb129-5"><a href="#cb129-5"></a>  &lt;type=<span class="kw">&quot;</span><span class="st">global</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb129-6"><a href="#cb129-6"></a><span class="ot">&lt;</span><span class="kw">/</span>table&gt;</span>
<span id="cb129-7"><a href="#cb129-7"></a>&lt;table name=<span class="kw">&quot;</span><span class="st">content_analyzer_items</span><span class="kw">&quot;</span> primary-key=<span class="kw">&quot;</span><span class="st">id</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb129-8"><a href="#cb129-8"></a>  &lt;type=<span class="kw">&quot;</span><span class="st">global</span><span class="kw">&quot;</span> <span class="kw">/</span><span class="ot">&gt;</span></span>
<span id="cb129-9"><a href="#cb129-9"></a><span class="ot">&lt;</span><span class="kw">/</span>table&gt;</span></code></pre></div>
<p>I need to extract anything within the quotes that follow <code>name=</code>, i.e., <code>content_analyzer</code>, <code>content_analyzer2</code> and <code>content_analyzer_items</code>.</p>
<p>I am doing this on a Linux box, so a solution using sed, perl, grep or bash is fine.</p>
</section>
<section id="answer-accepted-score-143-1" class="level4">
<h4>Answer accepted (score 143)</h4>
<p>
Since you need to match content without including it in the result (must match <code>name="</code> but it’s not part of the desired result) some form of zero-width matching or group capturing is required. This can be done easily with the following tools:
</p>
<h5>
Perl
</h3>
<p>
With Perl you could use the <code>n</code> option to loop line by line and print the content of a capturing group if it matches:
</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb130-1"><a href="#cb130-1"></a>perl -<span class="kw">ne</span> <span class="kw">&#39;</span><span class="st">print &quot;$1\n&quot; if /name=&quot;(.*?)&quot;/</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<h5>
GNU grep
</h3>
<p>
If you have an improved version of grep, such as GNU grep, you may have the <code>-P</code> option available. This option will enable Perl-like regex, allowing you to use <code>\K</code> which is a shorthand lookbehind. It will reset the match position, so anything before it is zero-width.
</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb131-1"><a href="#cb131-1"></a><span class="fu">grep</span> -Po <span class="kw">&#39;</span><span class="st">name=&quot;\K.*?(?=&quot;)</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<p>
The <code>o</code> option makes grep print only the matched text, instead of the whole line.
</p>
<h5>
Vim - Text Editor
</h3>
<p>
Another way is to use a text editor directly. With Vim, one of the various ways of accomplishing this would be to delete lines without <code>name=</code> and then extract the content from the resulting lines:
</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb132-1"><a href="#cb132-1"></a>:v/.<span class="dt">*name</span>=<span class="kw">&quot;</span><span class="ch">\v</span><span class="st">([^</span><span class="kw">&quot;</span>]+).<span class="dt">*/</span>d|<span class="dt">%s</span>//\<span class="dv">1</span></span></code></pre></div>
<hr>
<h5>
Standard grep
</h3>
<p>
If you don’t have access to these tools, for some reason, something similar could be achieved with standard grep. However, without the look around it will require some cleanup later:
</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb133-1"><a href="#cb133-1"></a><span class="fu">grep</span> <span class="kw">-o</span> <span class="kw">&#39;</span><span class="st">name=&quot;[^&quot;]*&quot;</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<hr>
<h5>
A note about saving results
</h3>
<p>
In all of the commands above the results will be sent to <code>stdout</code>. It’s important to remember that you can always save them by piping it to a file by appending:
</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb134-1"><a href="#cb134-1"></a>&gt; result</span></code></pre></div>
<p>to the end of the command.</p>
</section>
<section id="answer-2-score-5" class="level4">
<h4>Answer 2 (score 5)</h4>
<p>If you’re using Perl, download a module to parse the XML: <a href="http://search.cpan.org/~grantm/XML-Simple-2.18/lib/XML/Simple.pm" rel="noreferrer">XML::Simple</a>, <a href="http://search.cpan.org/~mirod/XML-Twig-3.37/Twig_pm.slow" rel="noreferrer">XML::Twig</a>, or <a href="http://search.cpan.org/~pajas/XML-LibXML-1.70/LibXML.pod" rel="noreferrer">XML::LibXML</a>. Don’t re-invent the wheel.</p>
</section>
<section id="answer-3-score-5-2" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>If you’re using Perl, download a module to parse the XML: <a href="http://search.cpan.org/~grantm/XML-Simple-2.18/lib/XML/Simple.pm" rel="noreferrer">XML::Simple</a>, <a href="http://search.cpan.org/~mirod/XML-Twig-3.37/Twig_pm.slow" rel="noreferrer">XML::Twig</a>, or <a href="http://search.cpan.org/~pajas/XML-LibXML-1.70/LibXML.pod" rel="noreferrer">XML::LibXML</a>. Don’t re-invent the wheel.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-call-a-shell-command-in-my-perl-script-score-190411-in-2019" class="level3">
<h3>26: How can I call a shell command in my Perl script? (score <a href="https://stackoverflow.com/q/3200801.html">190411</a> in 2019)</h3>
<section id="question-24" class="level4">
<h4>Question</h4>
<p>What would be an example of how I can call a shell command, say ‘<code>ls -a</code>’ in a Perl script and the way to retrieve the output of the command as well?</p>
</section>
<section id="answer-accepted-score-69" class="level4">
<h4>Answer accepted (score 69)</h4>
<p><a href="http://www.perlmonks.org/?node_id=78523" rel="noreferrer">How to run a shell script from a Perl program</a></p>
<blockquote>
<ol type="1">
<li>Using system system($command, <span class="citation" data-cites="arguments">@arguments</span>);</li>
</ol>
<p>For example:</p>
<p><code>system("sh", "script.sh", "--help" );</code></p>
<p><code>system("sh script.sh --help");</code></p>
<p>
System will execute the $command with <span class="citation" data-cites="arguments">@arguments</span> and return to your script when finished. You may check $! for certain errors passed to the OS by the external application. Read the documentation for system for the nuances of how various invocations are slightly different.
</p>
<ol start="2" type="1">
<li>Using exec</li>
</ol>
<p>
This is very similar to the use of <a href="http://perldoc.perl.org/functions/system.html" rel="noreferrer">system</a>, but it will terminate your script upon execution. Again, read the documentation for <a href="http://perldoc.perl.org/functions/exec.html" rel="noreferrer">exec</a> for more.
</p>
<ol start="3" type="1">
<li>Using backticks or qx//</li>
</ol>
<p><code>my $output =</code>script.sh –option<code>;</code></p>
<p><code>my $output = qx/script.sh --option/;</code></p>
<p>
The backtick operator and it’s equivalent qx// excute the command and options inside the operator and return that commands output to STDOUT when it finishes.
</p>
<p>
There are also ways to run external applications through creative use of <a href="http://perldoc.perl.org/functions/open.html" rel="noreferrer">open</a>, but this is advanced use; read the documentation for more.
</p>
</blockquote>
</section>
<section id="answer-2-score-15" class="level4">
<h4>Answer 2 (score 15)</h4>
<p>From <a href="http://www.perlhowto.com/executing_external_commands" rel="noreferrer">Perl HowTo</a>, the most common ways to execute external commands from Perl are:</p>
<ul>
<li>
<code>my $files =</code>ls -la`<code>— captures the output of the command in</code>$files<code>&lt;/li&gt; &lt;li&gt;</code>system “touch ~/foo”<code>— if you don't want to capture the command's output&lt;/li&gt; &lt;li&gt;</code>exec “vim ~/foo”<code>— if you don't want to return to the script after executing the command&lt;/li&gt; &lt;li&gt;</code>open(my $file, ‘|-’, “grep foo”); print $file “foo”` — if you want to pipe input into the command
</li>
</ul>
</section>
<section id="answer-3-score-12" class="level4">
<h4>Answer 3 (score 12)</h4>
<h5>
Examples
</h2>
<ol>
<li>
`<code>ls -l</code>;<code>&lt;/li&gt; &lt;li&gt;</code>system(“ls -l”);<code>&lt;/li&gt; &lt;li&gt;</code>exec(“ls -l”);`
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="the-program-cant-start-because-api-ms-win-crt-runtime-l1-1-0.dll-is-missing-while-starting-apache-server-on-my-computer-score-184586-in-2017" class="level3">
<h3>27: The program can’t start because api-ms-win-crt-runtime-l1-1-0.dll is missing while starting Apache server on my computer (score <a href="https://stackoverflow.com/q/34740438.html">184586</a> in 2017)</h3>
<section id="question-25" class="level4">
<h4>Question</h4>
<p>In order to quickly set up my PHP/Perl development environment, I installed <a href="https://www.apachefriends.org/index.html" rel="noreferrer">xampp</a>. Specifically, I attempted to install using: <code>xampp-win32-7.0.1-0-VC14-installer</code>.</p>
<p>When I started the program, I ran into an error related to a <code>dll</code> file. I also tried the suggestions in <a href="https://stackoverflow.com/questions/33265663/api-ms-win-crt-runtime-l1-1-0-dll-is-missing-when-open-office-file">this question</a> that sounded like fixes to the same problem.</p>
<p>The problem is still not fixed after trying the above.</p>
<p><img src="https://i.stack.imgur.com/i65rH.png" alt="screenshot of error"></p>
</section>
<section id="answer-accepted-score-10" class="level4">
<h4>Answer accepted (score 10)</h4>
<p>
I was facing the same issue. After many tries below solution worked for me.
</p>
<p>
Before installing VC++ install your windows updates. 1. Go to Start - Control Panel - Windows Update 2. Check for the updates. 3. Install all updates. 4. Restart your system.
</p>
<p>After that you can follow the below steps.</p>
<p><span class="citation" data-cites="ABHI">@ABHI</span> KUMAR</p>
<p>Download the Visual C++ Redistributable 2015</p>
<p>Visual C++ Redistributable for Visual Studio 2015 (64-bit)</p>
<p>Visual C++ Redistributable for Visual Studio 2015 (32-bit)</p>
<p>(Reinstal if already installed) then restart your computer or use windows updates for download auto.</p>
<p>For link download <a href="https://www.microsoft.com/de-de/download/details.aspx?id=48145" rel="nofollow noreferrer">https://www.microsoft.com/de-de/download/details.aspx?id=48145</a>.</p>
</section>
<section id="answer-2-score-9" class="level4">
<h4>Answer 2 (score 9)</h4>
<p>Download the Visual C++ Redistributable 2015</p>
<p>Updated links to VC++ file:</p>
<p><a href="http://download.microsoft.com/download/9/3/F/93FCF1E7-E6A4-478B-96E7-D4B285925B00/vc_redist.x64.exe" rel="noreferrer">For Windows 64-bit</a></p>
<p><a href="http://download.microsoft.com/download/9/3/F/93FCF1E7-E6A4-478B-96E7-D4B285925B00/vc_redist.x86.exe" rel="noreferrer">For Windows 32-bit</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="inappropriate-ioctl-for-device-score-183560-in-2016" class="level3">
<h3>28: “inappropriate ioctl for device” (score <a href="https://stackoverflow.com/q/1605195.html">183560</a> in 2016)</h3>
<section id="question-26" class="level4">
<h4>Question</h4>
<p>I have a Perl script running in an AIX box.</p>
<p>The script tries to open a file from a certain directory and it fails to read the file because file has no read permission, but I get a different error saying <code>inappropriate ioctl for device</code>.</p>
<p>Shouldn’t it say something like <code>no read permissions for file</code> or something similar?</p>
<p>What does this <code>inappropriate ioctl for device</code> message mean?</p>
<p>How can I fix it?</p>
<p>EDIT: This is what I found when I did <code>strace</code>.</p>
<pre>
open("/local/logs/xxx/xxxxServer.log", O_WRONLY|O_CREAT|O_APPEND|O_LARGEFILE, 
    0666) = 4 _llseek(4, 0, [77146], SEEK_END) = 0
ioctl(4, SNDCTL_TMR_TIMEBASE or TCGETS, 0xbffc14f8) = -1 ENOTTY 
    (Inappropriate ioctl for  device)
</pre>
</section>
<section id="answer-accepted-score-37" class="level4">
<h4>Answer accepted (score 37)</h4>
<p>Most likely it means that the open <em>didn’t fail</em>.</p>
<p>When Perl opens a file, it checks whether or not the file is a TTY (so that it can answer the <code>-T $fh</code> filetest operator) by issuing the <code>TCGETS</code> ioctl against it. If the file is a regular file and not a tty, the ioctl fails and sets errno to <code>ENOTTY</code> (string value: “Inappropriate ioctl for device”). As ysth says, the most common reason for seeing an unexpected value in <code>$!</code> is checking it when it’s not valid – that is, anywhere <em>other</em> than immediately after a syscall failed, so testing the result codes of your operations is critically important.</p>
<p>If <code>open</code> actually did return false for you, and you found <code>ENOTTY</code> in <code>$!</code> then I would consider this a small bug (giving a useless value of <code>$!</code>) but I would also be very curious as to how it happened. Code and/or truss output would be nifty.</p>
</section>
<section id="answer-2-score-21" class="level4">
<h4>Answer 2 (score 21)</h4>
<p>Odd errors like “inappropriate ioctl for device” are usually a result of checking $! at some point other than just after a system call failed. If you’d show your code, I bet someone would rapidly point out your error.</p>
</section>
<section id="answer-3-score-5-3" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>“files” in *nix type systems are very much an abstract concept.</p>
<p>They can be areas on disk organized by a file system, but they could equally well be a network connection, a bit of shared memory, the buffer output from another process, a screen or a keyboard.</p>
<p>In order for perl to be really useful it mirrors this model very closely, and does not treat files by emulating a magnetic tape as many 4gls do.</p>
<p>So it tried an “IOCTL” operation ‘open for write’ on a file handle which does not allow write operations which is an inappropriate IOCTL operation for that device/file.</p>
<p>The easiest thing to do is stick an " <code>or die 'Cannot open $myfile'</code> statement at the end of you open and you can choose your own meaningful message.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-proper-way-to-check-if-a-string-is-empty-in-perl-score-182537-in-2010" class="level3">
<h3>29: What is the proper way to check if a string is empty in Perl? (score <a href="https://stackoverflow.com/q/2045644.html">182537</a> in 2010)</h3>
<section id="question-27" class="level4">
<h4>Question</h4>
<p>I’ve just been using this code to check if a string is empty:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb135-1"><a href="#cb135-1"></a><span class="kw">if</span> (<span class="dt">$str</span> == <span class="kw">&quot;&quot;</span>)</span>
<span id="cb135-2"><a href="#cb135-2"></a>{</span>
<span id="cb135-3"><a href="#cb135-3"></a>  // ...</span>
<span id="cb135-4"><a href="#cb135-4"></a>}</span></code></pre></div>
<p>And also the same with the not equals operator…</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb136-1"><a href="#cb136-1"></a><span class="kw">if</span> (<span class="dt">$str</span> != <span class="kw">&quot;&quot;</span>)</span>
<span id="cb136-2"><a href="#cb136-2"></a>{</span>
<span id="cb136-3"><a href="#cb136-3"></a>  // ...</span>
<span id="cb136-4"><a href="#cb136-4"></a>}</span></code></pre></div>
<p>This seems to work (I think), but I’m not sure it’s the correct way, or if there are any unforeseen drawbacks. Something just doesn’t feel right about it.</p>
</section>
<section id="answer-accepted-score-123" class="level4">
<h4>Answer accepted (score 123)</h4>
<p>For string comparisons in Perl, use <code>eq</code> or <code>ne</code>:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb137-1"><a href="#cb137-1"></a><span class="kw">if</span> (<span class="dt">$str</span> <span class="kw">eq</span> <span class="kw">&quot;&quot;</span>)</span>
<span id="cb137-2"><a href="#cb137-2"></a>{</span>
<span id="cb137-3"><a href="#cb137-3"></a>  // ...</span>
<span id="cb137-4"><a href="#cb137-4"></a>}</span></code></pre></div>
<p>The <code>==</code> and <code>!=</code> operators are <em>numeric</em> comparison operators. They will attempt to convert both operands to integers before comparing them.</p>
<p>See the <a href="http://perldoc.perl.org/perlop.html" rel="noreferrer">perlop</a> man page for more information.</p>
</section>
<section id="answer-2-score-88" class="level4">
<h4>Answer 2 (score 88)</h4>
<ol>
<li>
<p>
Due to the way that strings are stored in Perl, getting the length of a string is optimized.<br> <code>if (length $str)</code> is a good way of checking that a string is non-empty.
</p>
</li>
<li>
<p>
If you’re in a situation where you haven’t already guarded against <code>undef</code>, then the catch-all for “non-empty” that won’t warn is <code>if (defined $str and length $str)</code>.
</p>
</li>
</ol>
</section>
<section id="answer-3-score-9" class="level4">
<h4>Answer 3 (score 9)</h4>
<p>As already mentioned by several people, <code>eq</code> is the right operator here.</p>
<p>If you <code>use warnings;</code> in your script, you’ll get warnings about this (and many other useful things); I’d recommend <code>use strict;</code> as well.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-perform-a-perl-substitution-on-a-string-while-keeping-the-original-score-181742-in-2013" class="level3">
<h3>30: How do I perform a Perl substitution on a string while keeping the original? (score <a href="https://stackoverflow.com/q/22836.html">181742</a> in 2013)</h3>
<section id="question-28" class="level4">
<h4>Question</h4>
<p>In Perl, what is a good way to perform a replacement on a string using a regular expression and store the value in a different variable, without changing the original?</p>
<p>I usually just copy the string to a new variable then bind it to the <code>s///</code> regex that does the replacement on the new string, but I was wondering if there is a better way to do this?</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb138-1"><a href="#cb138-1"></a><span class="dt">$newstring</span> = <span class="dt">$oldstring</span>;</span>
<span id="cb138-2"><a href="#cb138-2"></a><span class="dt">$newstring</span> =~ <span class="kw">s/</span><span class="ot">foo</span><span class="kw">/</span><span class="st">bar</span><span class="kw">/g</span>;</span></code></pre></div>
</section>
<section id="answer-accepted-score-239" class="level4">
<h4>Answer accepted (score 239)</h4>
<p>This is the idiom I’ve always used to get a modified copy of a string without changing the original:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb139-1"><a href="#cb139-1"></a>(<span class="kw">my</span> <span class="dt">$newstring</span> = <span class="dt">$oldstring</span>) =~ <span class="kw">s/</span><span class="ot">foo</span><span class="kw">/</span><span class="st">bar</span><span class="kw">/g</span>;</span></code></pre></div>
<p>In perl 5.14.0 or later, you can use the new <code>/r</code> <a href="http://search.cpan.org/~flora/perl-5.14.2/pod/perl5140delta.pod#Non-destructive_substitution" rel="noreferrer">non-destructive substitution modifier:</a></p>
<div class="sourceCode" id="cb140"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb140-1"><a href="#cb140-1"></a><span class="kw">my</span> <span class="dt">$newstring</span> = <span class="dt">$oldstring</span> =~ <span class="kw">s/</span><span class="ot">foo</span><span class="kw">/</span><span class="st">bar</span><span class="kw">/g</span>r; </span></code></pre></div>
<hr>
<p>Note: The above solutions work without <code>g</code> too. They also work with any other modifiers.</p>
</section>
<section id="answer-2-score-42" class="level4">
<h4>Answer 2 (score 42)</h4>
<p>The statement:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb141-1"><a href="#cb141-1"></a>(<span class="kw">my</span> <span class="dt">$newstring</span> = <span class="dt">$oldstring</span>) =~ <span class="kw">s/</span><span class="ot">foo</span><span class="kw">/</span><span class="st">bar</span><span class="kw">/g</span>;</span></code></pre></div>
<p>Which is equivalent to:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb142-1"><a href="#cb142-1"></a><span class="kw">my</span> <span class="dt">$newstring</span> = <span class="dt">$oldstring</span>;</span>
<span id="cb142-2"><a href="#cb142-2"></a><span class="dt">$newstring</span> =~ <span class="kw">s/</span><span class="ot">foo</span><span class="kw">/</span><span class="st">bar</span><span class="kw">/g</span>;</span></code></pre></div>
<p>Alternatively, as of Perl 5.13.2 you can use <code>/r</code> to do a non destructive substitution:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb143-1"><a href="#cb143-1"></a><span class="fu">use</span> <span class="fl">5.013</span>;</span>
<span id="cb143-2"><a href="#cb143-2"></a><span class="co">#...</span></span>
<span id="cb143-3"><a href="#cb143-3"></a><span class="kw">my</span> <span class="dt">$newstring</span> = <span class="dt">$oldstring</span> =~ <span class="kw">s/</span><span class="ot">foo</span><span class="kw">/</span><span class="st">bar</span><span class="kw">/g</span>r;</span></code></pre></div>
</section>
<section id="answer-3-score-21" class="level4">
<h4>Answer 3 (score 21)</h4>
<p>Under <code>use strict</code>, say:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb144-1"><a href="#cb144-1"></a>(<span class="kw">my</span> <span class="dt">$new</span> = <span class="dt">$original</span>) =~ <span class="kw">s/</span><span class="ot">foo</span><span class="kw">/</span><span class="st">bar</span><span class="kw">/</span>;</span></code></pre></div>
<p>instead.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="in-perl-how-can-i-concisely-check-if-a-variable-is-defined-and-contains-a-non-zero-length-string-score-177567-in-2009" class="level3">
<h3>31: In Perl, how can I concisely check if a $variable is defined and contains a non zero length string? (score <a href="https://stackoverflow.com/q/1480066.html">177567</a> in 2009)</h3>
<section id="question-29" class="level4">
<h4>Question</h4>
<p>I currently use the following Perl to check if a variable is defined and contains text. I have to check <code>defined</code> first to avoid an ‘uninitialized value’ warning:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb145-1"><a href="#cb145-1"></a><span class="kw">if</span> (<span class="fu">defined</span> <span class="dt">$name</span> &amp;&amp; <span class="fu">length</span> <span class="dt">$name</span> &gt; <span class="dv">0</span>) {</span>
<span id="cb145-2"><a href="#cb145-2"></a>    <span class="co"># do something with $name</span></span>
<span id="cb145-3"><a href="#cb145-3"></a>}</span></code></pre></div>
<p>Is there a better (presumably more concise) way to write this?</p>
</section>
<section id="answer-accepted-score-72" class="level4">
<h4>Answer accepted (score 72)</h4>
<p>You often see the check for definedness so you don’t have to deal with the warning for using an undef value (and in Perl 5.10 it tells you the offending variable):</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb146-1"><a href="#cb146-1"></a> Use of uninitialized value <span class="dt">$name</span> in ...</span></code></pre></div>
<p>So, to get around this warning, people come up with all sorts of code, and that code starts to look like an important part of the solution rather than the bubble gum and duct tape that it is. Sometimes, it’s better to show what you are doing by explicitly turning off the warning that you are trying to avoid:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb147-1"><a href="#cb147-1"></a> {</span>
<span id="cb147-2"><a href="#cb147-2"></a> <span class="fu">no</span> <span class="kw">warnings</span> <span class="kw">&#39;</span><span class="st">uninitialized</span><span class="kw">&#39;</span>;</span>
<span id="cb147-3"><a href="#cb147-3"></a></span>
<span id="cb147-4"><a href="#cb147-4"></a> <span class="kw">if</span>( <span class="fu">length</span> <span class="dt">$name</span> ) {</span>
<span id="cb147-5"><a href="#cb147-5"></a>      ...</span>
<span id="cb147-6"><a href="#cb147-6"></a>      }</span>
<span id="cb147-7"><a href="#cb147-7"></a> }</span></code></pre></div>
<p>In other cases, use some sort of null value instead of the data. With <a href="http://www.effectiveperlprogramming.com/2010/10/set-default-values-with-the-defined-or-operator/" rel="noreferrer">Perl 5.10’s defined-or operator</a>, you can give <code>length</code> an explicit empty string (defined, and give back zero length) instead of the variable that will trigger the warning:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb148-1"><a href="#cb148-1"></a> <span class="fu">use</span> <span class="fl">5.010</span>;</span>
<span id="cb148-2"><a href="#cb148-2"></a></span>
<span id="cb148-3"><a href="#cb148-3"></a> <span class="kw">if</span>( <span class="fu">length</span>( <span class="dt">$name</span> // <span class="kw">&#39;&#39;</span> ) ) {</span>
<span id="cb148-4"><a href="#cb148-4"></a>      ...</span>
<span id="cb148-5"><a href="#cb148-5"></a>      }</span></code></pre></div>
<p>In Perl 5.12, it’s a bit easier because <a href="http://www.effectiveperlprogramming.com/2010/09/in-perl-v5-12-lengthundef-returns-undef/" rel="noreferrer"><code>length</code> on an undefined value also returns undefined</a>. That might seem like a bit of silliness, but that pleases the mathematician I might have wanted to be. That doesn’t issue a warning, which is the reason this question exists.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb149-1"><a href="#cb149-1"></a><span class="fu">use</span> <span class="fl">5.012</span>;</span>
<span id="cb149-2"><a href="#cb149-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb149-3"><a href="#cb149-3"></a></span>
<span id="cb149-4"><a href="#cb149-4"></a><span class="kw">my</span> <span class="dt">$name</span>;</span>
<span id="cb149-5"><a href="#cb149-5"></a></span>
<span id="cb149-6"><a href="#cb149-6"></a><span class="kw">if</span>( <span class="fu">length</span> <span class="dt">$name</span> ) { <span class="co"># no warning</span></span>
<span id="cb149-7"><a href="#cb149-7"></a>    ...</span>
<span id="cb149-8"><a href="#cb149-8"></a>    }</span></code></pre></div>
</section>
<section id="answer-2-score-23" class="level4">
<h4>Answer 2 (score 23)</h4>
<p>As mobrule indicates, you could use the following instead for a small savings:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb150-1"><a href="#cb150-1"></a><span class="kw">if</span> (<span class="fu">defined</span> <span class="dt">$name</span> &amp;&amp; <span class="dt">$name</span> <span class="kw">ne</span> <span class="kw">&#39;&#39;</span>) {</span>
<span id="cb150-2"><a href="#cb150-2"></a>    <span class="co"># do something with $name</span></span>
<span id="cb150-3"><a href="#cb150-3"></a>}</span></code></pre></div>
<p>You could ditch the defined check and get something even shorter, e.g.:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb151-1"><a href="#cb151-1"></a><span class="kw">if</span> (<span class="dt">$name</span> <span class="kw">ne</span> <span class="kw">&#39;&#39;</span>) {</span>
<span id="cb151-2"><a href="#cb151-2"></a>    <span class="co"># do something with $name</span></span>
<span id="cb151-3"><a href="#cb151-3"></a>}</span></code></pre></div>
<p>But in the case where <code>$name</code> is not defined, although the logic flow will work just as intended, if you are using <code>warnings</code> (and you should be), then you’ll get the following admonishment:</p>
<pre>Use of uninitialized value in string ne</pre>
<p>So, if there’s a chance that <code>$name</code> might not be defined, you really do need to check for definedness first and foremost in order to avoid that warning. As Sinan Ünür points out, you can use <a href="http://search.cpan.org/dist/Scalar-MoreUtils/" rel="noreferrer">Scalar::MoreUtils</a> to get code that does exactly that (checks for definedness, then checks for zero length) out of the box, via the <code>empty()</code> method:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb152-1"><a href="#cb152-1"></a><span class="fu">use</span> <span class="fu">Scalar::MoreUtils</span> <span class="kw">qw(</span>empty<span class="kw">)</span>;</span>
<span id="cb152-2"><a href="#cb152-2"></a><span class="kw">if</span>(<span class="kw">not</span> empty(<span class="dt">$name</span>)) {</span>
<span id="cb152-3"><a href="#cb152-3"></a>    <span class="co"># do something with $name </span></span>
<span id="cb152-4"><a href="#cb152-4"></a>}</span></code></pre></div>
</section>
<section id="answer-3-score-14-2" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>First, since <code>length</code> always returns a non-negative number,</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb153-1"><a href="#cb153-1"></a><span class="kw">if</span> ( <span class="fu">length</span> <span class="dt">$name</span> )</span></code></pre></div>
<p>and</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb154-1"><a href="#cb154-1"></a><span class="kw">if</span> ( <span class="fu">length</span> <span class="dt">$name</span> &gt; <span class="dv">0</span> )</span></code></pre></div>
<p>are equivalent.</p>
<p>If you are OK with replacing an undefined value with an empty string, you can use Perl 5.10’s <code>//=</code> operator which assigns the RHS to the LHS unless the LHS is defined:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb155-1"><a href="#cb155-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb155-2"><a href="#cb155-2"></a></span>
<span id="cb155-3"><a href="#cb155-3"></a><span class="fu">use</span> feature <span class="kw">qw(</span> say <span class="kw">)</span>;</span>
<span id="cb155-4"><a href="#cb155-4"></a><span class="fu">use</span> <span class="kw">strict</span>; <span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb155-5"><a href="#cb155-5"></a></span>
<span id="cb155-6"><a href="#cb155-6"></a><span class="kw">my</span> <span class="dt">$name</span>;</span>
<span id="cb155-7"><a href="#cb155-7"></a></span>
<span id="cb155-8"><a href="#cb155-8"></a>say <span class="kw">&#39;</span><span class="st">nonempty</span><span class="kw">&#39;</span> <span class="kw">if</span> <span class="fu">length</span>(<span class="dt">$name</span> //= <span class="kw">&#39;&#39;</span>);</span>
<span id="cb155-9"><a href="#cb155-9"></a>say <span class="kw">&quot;</span><span class="st">&#39;</span><span class="dt">$name</span><span class="kw">&#39;&quot;</span>;</span></code></pre></div>
<p>Note the absence of warnings about an uninitialized variable as <code>$name</code> is assigned the empty string if it is undefined.</p>
<p>However, if you do not want to depend on 5.10 being installed, use the functions provided by <a href="http://search.cpan.org/perldoc/Scalar::MoreUtils" rel="noreferrer">Scalar::MoreUtils</a>. For example, the above can be written as:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb156-1"><a href="#cb156-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb156-2"><a href="#cb156-2"></a></span>
<span id="cb156-3"><a href="#cb156-3"></a><span class="fu">use</span> <span class="kw">strict</span>; <span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb156-4"><a href="#cb156-4"></a></span>
<span id="cb156-5"><a href="#cb156-5"></a><span class="fu">use</span> <span class="fu">Scalar::MoreUtils</span> <span class="kw">qw(</span> define <span class="kw">)</span>;</span>
<span id="cb156-6"><a href="#cb156-6"></a></span>
<span id="cb156-7"><a href="#cb156-7"></a><span class="kw">my</span> <span class="dt">$name</span>;</span>
<span id="cb156-8"><a href="#cb156-8"></a></span>
<span id="cb156-9"><a href="#cb156-9"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">nonempty</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">if</span> <span class="fu">length</span>(<span class="dt">$name</span> = define <span class="dt">$name</span>);</span>
<span id="cb156-10"><a href="#cb156-10"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">&#39;</span><span class="dt">$name</span><span class="kw">&#39;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>If you don’t want to clobber <code>$name</code>, use <code>default</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-search-a-perl-array-for-a-matching-string-score-176905-in-2010" class="level3">
<h3>32: How do I search a Perl array for a matching string? (score <a href="https://stackoverflow.com/q/2925604.html">176905</a> in 2010)</h3>
<section id="question-30" class="level4">
<h4>Question</h4>
<p>What is the smartest way of searching through an array of strings for a matching string in Perl?</p>
<p>One caveat, I would like the search to be case-insensitive</p>
<p>so <code>"aAa"</code> would be in <code>("aaa","bbb")</code></p>
</section>
<section id="answer-accepted-score-29" class="level4">
<h4>Answer accepted (score 29)</h4>
<p>I guess</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb157-1"><a href="#cb157-1"></a><span class="dt">@foo</span> = (<span class="kw">&quot;</span><span class="st">aAa</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">bbb</span><span class="kw">&quot;</span>);</span>
<span id="cb157-2"><a href="#cb157-2"></a><span class="dt">@bar</span> = <span class="fu">grep</span>(<span class="kw">/</span><span class="ch">^</span><span class="ot">aaa</span><span class="kw">/i</span>, <span class="dt">@foo</span>);</span>
<span id="cb157-3"><a href="#cb157-3"></a><span class="fu">print</span> <span class="fu">join</span> <span class="kw">&quot;</span><span class="st">,</span><span class="kw">&quot;</span>,<span class="dt">@bar</span>;</span></code></pre></div>
<p>would do the trick.</p>
</section>
<section id="answer-2-score-143" class="level4">
<h4>Answer 2 (score 143)</h4>
<p>It depends on what you want the search to do:</p>
<ul>
<li>
<p>
if you want to find <strong>all matches</strong>, use the built-in <a href="http://perldoc.perl.org/functions/grep.html" rel="noreferrer">grep</a>:
</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb158-1"><a href="#cb158-1"></a><span class="kw">my</span> <span class="dt">@matches</span> = <span class="fu">grep</span> { <span class="kw">/</span><span class="ot">pattern</span><span class="kw">/</span> } <span class="dt">@list_of_strings</span>;</span>
<span id="cb158-2"><a href="#cb158-2"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb158-3"><a href="#cb158-3"></a><span class="st">&lt;li&gt;&lt;p&gt;if you want to find the &lt;strong&gt;first match&lt;/strong&gt;, use </span><span class="kw">`</span>first<span class="kw">`</span><span class="st"> in &lt;a href=&quot;http://search.cpan.org/perldoc?List::Util&quot; rel=&quot;noreferrer&quot;&gt;List::Util&lt;/a&gt;:&lt;/p&gt;</span></span>
<span id="cb158-4"><a href="#cb158-4"></a></span>
<span id="cb158-5"><a href="#cb158-5"></a><span class="kw">```</span>perl</span>
<span id="cb158-6"><a href="#cb158-6"></a><span class="fu">use</span> <span class="fu">List::Util</span> <span class="kw">&#39;</span><span class="st">first</span><span class="kw">&#39;</span>;  </span>
<span id="cb158-7"><a href="#cb158-7"></a><span class="kw">my</span> <span class="dt">$match</span> = first { <span class="kw">/</span><span class="ot">pattern</span><span class="kw">/</span> } <span class="dt">@list_of_strings</span>;</span>
<span id="cb158-8"><a href="#cb158-8"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb158-9"><a href="#cb158-9"></a><span class="st">&lt;li&gt;&lt;p&gt;if you want to find the &lt;strong&gt;count of all matches&lt;/strong&gt;, use </span><span class="kw">`</span>true<span class="kw">`</span><span class="st"> in &lt;a href=&quot;http://search.cpan.org/perldoc?List::MoreUtils&quot; rel=&quot;noreferrer&quot;&gt;List::MoreUtils&lt;/a&gt;:&lt;/p&gt;</span></span>
<span id="cb158-10"><a href="#cb158-10"></a></span>
<span id="cb158-11"><a href="#cb158-11"></a><span class="kw">```</span>perl</span>
<span id="cb158-12"><a href="#cb158-12"></a><span class="fu">use</span> <span class="fu">List::MoreUtils</span> <span class="kw">&#39;</span><span class="st">true</span><span class="kw">&#39;</span>;</span>
<span id="cb158-13"><a href="#cb158-13"></a><span class="kw">my</span> <span class="dt">$count</span> = true { <span class="kw">/</span><span class="ot">pattern</span><span class="kw">/</span> } <span class="dt">@list_of_strings</span>;</span>
<span id="cb158-14"><a href="#cb158-14"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb158-15"><a href="#cb158-15"></a><span class="st">&lt;li&gt;&lt;p&gt;if you want to know the &lt;strong&gt;index of the first match&lt;/strong&gt;, use </span><span class="kw">`</span>first_index<span class="kw">`</span><span class="st"> in &lt;a href=&quot;http://search.cpan.org/perldoc?List::MoreUtils&quot; rel=&quot;noreferrer&quot;&gt;List::MoreUtils&lt;/a&gt;:&lt;/p&gt;</span></span>
<span id="cb158-16"><a href="#cb158-16"></a></span>
<span id="cb158-17"><a href="#cb158-17"></a><span class="kw">```</span>perl</span>
<span id="cb158-18"><a href="#cb158-18"></a><span class="fu">use</span> <span class="fu">List::MoreUtils</span> <span class="kw">&#39;</span><span class="st">first_index</span><span class="kw">&#39;</span>; </span>
<span id="cb158-19"><a href="#cb158-19"></a><span class="kw">my</span> <span class="dt">$index</span> = first_index { <span class="kw">/</span><span class="ot">pattern</span><span class="kw">/</span> } <span class="dt">@list_of_strings</span>;</span>
<span id="cb158-20"><a href="#cb158-20"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb158-21"><a href="#cb158-21"></a><span class="st">&lt;li&gt;&lt;p&gt;if you want to simply know &lt;strong&gt;if there was a match&lt;/strong&gt;, but you don&#39;t care which element it was or its value, use </span><span class="kw">`</span>any<span class="kw">`</span><span class="st"> in &lt;a href=&quot;http://search.cpan.org/perldoc?List::MoreUtils&quot; rel=&quot;noreferrer&quot;&gt;List::Util&lt;/a&gt;:&lt;/p&gt;</span></span>
<span id="cb158-22"><a href="#cb158-22"></a></span>
<span id="cb158-23"><a href="#cb158-23"></a><span class="kw">```</span>perl</span>
<span id="cb158-24"><a href="#cb158-24"></a><span class="fu">use</span> <span class="fu">List::Util</span> <span class="fl">1.33</span> <span class="kw">&#39;</span><span class="st">any</span><span class="kw">&#39;</span>;</span>
<span id="cb158-25"><a href="#cb158-25"></a><span class="kw">my</span> <span class="dt">$match_found</span> = any { <span class="kw">/</span><span class="ot">pattern</span><span class="kw">/</span> } <span class="dt">@list_of_strings</span>;</span>
<span id="cb158-26"><a href="#cb158-26"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb158-27"><a href="#cb158-27"></a><span class="st">&lt;/ul&gt;</span></span>
<span id="cb158-28"><a href="#cb158-28"></a></span>
<span id="cb158-29"><a href="#cb158-29"></a><span class="st">All these examples do similar things at their core, but their implementations have been heavily optimized to be fast, and will be faster than any pure-perl implementation that you might write yourself with &lt;a href=&quot;http://perldoc.perl.org/functions/grep.html&quot; rel=&quot;noreferrer&quot;&gt;grep&lt;/a&gt;, &lt;a href=&quot;http://perldoc.perl.org/functions/map.html&quot; rel=&quot;noreferrer&quot;&gt;map&lt;/a&gt; or a &lt;a href=&quot;http://perldoc.perl.org/perlsyn.html#For-Loops&quot; rel=&quot;noreferrer&quot;&gt;for loop&lt;/a&gt;.  </span></span>
<span id="cb158-30"><a href="#cb158-30"></a></span>
<span id="cb158-31"><a href="#cb158-31"></a><span class="st">&lt;hr&gt;</span></span>
<span id="cb158-32"><a href="#cb158-32"></a></span>
<span id="cb158-33"><a href="#cb158-33"></a><span class="st">Note that the algorithm for doing the looping is a separate issue than performing the individual matches.  To match a string case-insensitively, you can simply use the </span><span class="kw">`</span>i<span class="kw">`</span><span class="st"> flag in the pattern:  </span><span class="kw">`/</span><span class="ot">pattern</span><span class="kw">/i`</span><span class="st">.  You should definitely read through &lt;a href=&quot;http://perldoc.perl.org/perlre.html&quot; rel=&quot;noreferrer&quot;&gt;perldoc perlre&lt;/a&gt; if you have not previously done so.  </span></span>
<span id="cb158-34"><a href="#cb158-34"></a></span>
<span id="cb158-35"><a href="#cb158-35"></a><span class="st">#### Answer 3 (score 29)</span></span>
<span id="cb158-36"><a href="#cb158-36"></a><span class="st">Perl 5.10+ contains the &#39;smart-match&#39; operator </span><span class="kw">`</span>~~<span class="kw">`</span><span class="st">, which returns true if a certain element is contained in an array or hash, and false if it doesn&#39;t (see &lt;a href=&quot;http://perldoc.perl.org/perlfaq4.html#How-can-I-tell-whether-a-certain-element-is-contained-in-a-list-or-array</span><span class="dt">%3f</span><span class="st">&quot; rel=&quot;noreferrer&quot;&gt;perlfaq4&lt;/a&gt;):  </span></span>
<span id="cb158-37"><a href="#cb158-37"></a></span>
<span id="cb158-38"><a href="#cb158-38"></a><span class="st">The nice thing is that it also supports regexes, meaning that your case-insensitive requirement can easily be taken care of:  </span></span>
<span id="cb158-39"><a href="#cb158-39"></a></span>
<span id="cb158-40"><a href="#cb158-40"></a><span class="kw">```</span>perl</span>
<span id="cb158-41"><a href="#cb158-41"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb158-42"><a href="#cb158-42"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb158-43"><a href="#cb158-43"></a><span class="fu">use</span> <span class="fl">5.010</span>;</span>
<span id="cb158-44"><a href="#cb158-44"></a></span>
<span id="cb158-45"><a href="#cb158-45"></a><span class="kw">my</span> <span class="dt">@array</span>  = <span class="kw">qw/</span>aaa bbb<span class="kw">/</span>;</span>
<span id="cb158-46"><a href="#cb158-46"></a><span class="kw">my</span> <span class="dt">$wanted</span> = <span class="kw">&#39;</span><span class="st">aAa</span><span class="kw">&#39;</span>;</span>
<span id="cb158-47"><a href="#cb158-47"></a></span>
<span id="cb158-48"><a href="#cb158-48"></a>say <span class="kw">&quot;</span><span class="st">&#39;</span><span class="dt">$wanted</span><span class="kw">&#39;</span><span class="st"> matches!</span><span class="kw">&quot;</span> <span class="kw">if</span> <span class="kw">/</span><span class="dt">$wanted</span><span class="kw">/i</span> ~~ <span class="dt">@array</span>;   <span class="co"># Prints &quot;&#39;aAa&#39; matches!&quot;</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-get-the-full-path-to-a-perl-script-that-is-executing-score-175554-in-2015" class="level3">
<h3>33: How do I get the full path to a Perl script that is executing? (score <a href="https://stackoverflow.com/q/84932.html">175554</a> in 2015)</h3>
<section id="question-31" class="level4">
<h4>Question</h4>
<p>I have Perl script and need to determine the full path and filename of the script during execution. I discovered that depending on how you call the script <code>$0</code> varies and sometimes contains the <code>fullpath+filename</code> and sometimes just <code>filename</code>. Because the working directory can vary as well I can’t think of a way to reliably get the <code>fullpath+filename</code> of the script.</p>
<p>Anyone got a solution?</p>
</section>
<section id="answer-accepted-score-237" class="level4">
<h4>Answer accepted (score 237)</h4>
<p>There are a few ways:</p>
<ul>
<li>
<a href="http://perldoc.perl.org/perlvar.html#$0" rel="noreferrer"><code>$0</code></a> is the currently executing script as provided by POSIX, relative to the current working directory if the script is at or below the CWD
</li>
<li>
Additionally, <code>cwd()</code>, <code>getcwd()</code> and <code>abs_path()</code> are provided by the <a href="http://perldoc.perl.org/Cwd.html" rel="noreferrer"><code>Cwd</code></a> module and tell you where the script is being run from
</li>
<li>
The module <a href="http://perldoc.perl.org/FindBin.html" rel="noreferrer"><code>FindBin</code></a> provides the <code>$Bin</code> &amp; <code>$RealBin</code> variables that <em>usually</em> are the path to the executing script; this module also provides <code>$Script</code> &amp; <code>$RealScript</code> that are the name of the script
</li>
<li>
<a href="http://perldoc.perl.org/perldata.html#Special-Literals" rel="noreferrer"><code>__FILE__</code></a> is the actual file that the Perl interpreter deals with during compilation, including its full path.
</li>
</ul>
<p>I’ve seen the first three (<a href="http://perldoc.perl.org/perlvar.html#$0" rel="noreferrer"><code>$0</code></a>, the <a href="http://perldoc.perl.org/Cwd.html" rel="noreferrer"><code>Cwd</code></a> module and the <a href="http://perldoc.perl.org/FindBin.html" rel="noreferrer"><code>FindBin</code></a> module) fail under <code>mod_perl</code> spectacularly, producing worthless output such as <code>'.'</code> or an empty string. In such environments, I use <a href="http://perldoc.perl.org/perldata.html#Special-Literals" rel="noreferrer"><code>__FILE__</code></a> and get the path from that using the <a href="http://perldoc.perl.org/File/Basename.html" rel="noreferrer"><code>File::Basename</code></a> module:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb159-1"><a href="#cb159-1"></a><span class="fu">use</span> <span class="fu">File::Basename</span>;</span>
<span id="cb159-2"><a href="#cb159-2"></a><span class="kw">my</span> <span class="dt">$dirname</span> = dirname(<span class="kw">__FILE__</span>);</span></code></pre></div>
</section>
<section id="answer-2-score-144" class="level4">
<h4>Answer 2 (score 144)</h4>
<p>$0 is typically the name of your program, so how about this?</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb160-1"><a href="#cb160-1"></a><span class="fu">use</span> Cwd <span class="kw">&#39;</span><span class="st">abs_path</span><span class="kw">&#39;</span>;</span>
<span id="cb160-2"><a href="#cb160-2"></a><span class="fu">print</span> abs_path(<span class="dt">$0</span>);</span></code></pre></div>
<p>Seems to me that this should work as abs_path knows if you are using a relative or absolute path.</p>
<p><strong>Update</strong> For anyone reading this years later, you should read <a href="https://stackoverflow.com/a/90721/2877364">Drew’s answer</a>. It’s much better than mine.</p>
</section>
<section id="answer-3-score-35" class="level4">
<h4>Answer 3 (score 35)</h4>
<div class="sourceCode" id="cb161"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb161-1"><a href="#cb161-1"></a>Use <span class="fu">File::Spec</span>;</span>
<span id="cb161-2"><a href="#cb161-2"></a><span class="fu">File::Spec</span>-&gt;rel2abs( <span class="kw">__FILE__</span> );</span></code></pre></div>
<p><a href="http://perldoc.perl.org/File/Spec/Unix.html" rel="noreferrer">http://perldoc.perl.org/File/Spec/Unix.html</a></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="difference-between-and-expression-meta-characters-score-174237-in-2019" class="level3">
<h3>34: Difference between and  expression meta characters (score <a href="https://stackoverflow.com/q/11874234.html">174237</a> in 2019)</h3>
<section id="question-32" class="level4">
<h4>Question</h4>
<p>Can anyone explain the difference between <code>\b</code> and <code>\w</code> regular expression metacharacters? It is my understanding that both these metacharacters are used for word boundaries. Apart from this, which meta character is efficient for multilingual content?</p>
</section>
<section id="answer-accepted-score-242" class="level4">
<h4>Answer accepted (score 242)</h4>
<p>The metacharacter <code>\b</code> is an anchor like the caret and the dollar sign. It matches at a position that is called a <strong>“word boundary”</strong>. This match is zero-length.</p>
<p>There are three different positions that qualify as word boundaries:</p>
<ul>
<li>
Before the first character in the string, if the first character is a word character.
</li>
<li>
After the last character in the string, if the last character is a word character.
</li>
<li>
Between two characters in the string, where one is a word character and the other is not a word character.
</li>
</ul>
<p>Simply put: <code>\b</code> allows you to perform a <strong>“whole words only”</strong> search using a regular expression in the form of <code>\bword\b</code>. A <strong>“word character”</strong> is a character that can be used to form words. All characters that are not <strong>“word characters”</strong> are <strong>“non-word characters”</strong>.</p>
<p>In all flavors, the characters <code>[a-zA-Z0-9_]</code> are word characters. These are also matched by the short-hand character class <code>\w</code>. Flavors showing <strong>“ascii”</strong> for word boundaries in the flavor comparison recognize only these as word characters.</p>
<p><code>\w</code> stands for <strong>“word character”</strong>, usually <code>[A-Za-z0-9_]</code>. Notice the inclusion of the underscore and digits.</p>
<p><code>\B</code> is the negated version of <code>\b</code>. <code>\B</code> matches at every position where <code>\b</code> does not. Effectively, <code>\B</code> matches at any position between two word characters as well as at any position between two non-word characters.</p>
<p><code>\W</code> is short for <code>[^\w]</code>, the negated version of <code>\w</code>.</p>
</section>
<section id="answer-2-score-20" class="level4">
<h4>Answer 2 (score 20)</h4>
<p><code>\w</code> matches a word character. <code>\b</code> is a zero-width match that matches a position character that has a word character on one side, and something that’s not a word character on the other. (Examples of things that aren’t word characters include whitespace, beginning and end of the string, etc.)</p>
<p>
<code>\w</code> matches <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code>, <code>e</code>, and <code>f</code> in <code>"abc def"</code><br> <code>\b</code> matches the (zero-width) position before <code>a</code>, after <code>c</code>, before <code>d</code>, and after <code>f</code> in <code>"abc def"</code>
</p>
<p>See: <a href="http://www.regular-expressions.info/reference.html/" rel="noreferrer">http://www.regular-expressions.info/reference.html/</a></p>
</section>
<section id="answer-3-score-8-1" class="level4">
<h4>Answer 3 (score 8)</h4>
<p><span class="citation" data-cites="Mahender">@Mahender</span>, you probably meant the difference between <code>\W</code> (instead of <code>\w</code>) and <code>\b</code>. If not, then I would agree with <span class="citation" data-cites="BoltClock">@BoltClock</span> and <span class="citation" data-cites="jwismar">@jwismar</span> above. Otherwise continue reading.</p>
<p><code>\W</code> would match any non-word character and so its easy to try to use it to match word boundaries. The problem is that it will not match the start or end of a line. <code>\b</code> is more suited for matching word boundaries as it will also match the start or end of a line. Roughly speaking (more experienced users can correct me here) <code>\b</code> can be thought of as <code>(\W|^|$)</code>. <span class="citation" data-cites="Ωmega">[Edit: as @Ωmega mentions below, `\b` is a zero-length match so `(\W|^|$)` is not strictly correct, but hopefully helps explain the diff]</span></p>
<p>Quick example: For the string <code>Hello World</code>, <code>.+\W</code> would match <code>Hello_</code> (with the space) but will not match <code>World</code>. <code>.+\b</code> would match both <code>Hello</code> and <code>World</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="in-perl-how-can-i-read-an-entire-file-into-a-string-score-171157-in-2014" class="level3">
<h3>35: In Perl, how can I read an entire file into a string? (score <a href="https://stackoverflow.com/q/953707.html">171157</a> in 2014)</h3>
<section id="question-33" class="level4">
<h4>Question</h4>
<p>I’m trying to open an .html file as one big long string. This is what I’ve got:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb162-1"><a href="#cb162-1"></a><span class="fu">open</span>(FILE, <span class="kw">&#39;</span><span class="st">index.html</span><span class="kw">&#39;</span>) <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">Can&#39;t read file &#39;filename&#39; [</span><span class="dt">$!</span><span class="st">]</span><span class="ch">\n</span><span class="kw">&quot;</span>;  </span>
<span id="cb162-2"><a href="#cb162-2"></a><span class="dt">$document</span> = <span class="kw">&lt;FILE&gt;</span>; </span>
<span id="cb162-3"><a href="#cb162-3"></a><span class="fu">close</span> (FILE);  </span>
<span id="cb162-4"><a href="#cb162-4"></a><span class="fu">print</span> <span class="dt">$document</span>;</span></code></pre></div>
<p>which results in:</p>
<blockquote>
<code>&amp;lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN</code>
</blockquote>
<p>However, I want the result to look like:</p>
<blockquote>
<p>
<code>&lt;!DOCTYPE HTML PUBLIC “-//W3C//DTD HTML 4.01 Transitional//EN”<br> “http://www.w3.org/TR/html4/loose.dtd”&gt;<br> &lt;html&gt;<br> &lt;head&gt;<br> &lt;meta http-equiv=“Content-Type” content=“text/html; charset=iso-8859-1”&gt; </code>
</p>
</blockquote>
<p>This way I can search the entire document more easily.</p>
</section>
<section id="answer-accepted-score-76" class="level4">
<h4>Answer accepted (score 76)</h4>
<p>Add:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb163-1"><a href="#cb163-1"></a> <span class="kw">local</span> <span class="dt">$/</span>;</span></code></pre></div>
<p>before reading from the file handle. See <em><a href="https://metacpan.org/pod/perlfaq5#How-can-I-read-in-an-entire-file-all-at-once" rel="noreferrer">How can I read in an entire file all at once?</a></em>, or</p>
<pre>$ perldoc -q "entire file"</pre>
<p>See <em><a href="https://metacpan.org/pod/perlvar#Variables-related-to-filehandles" rel="noreferrer">Variables related to filehandles</a></em> in <code>perldoc perlvar</code> and <a href="https://metacpan.org/pod/perlfunc#local-EXPR" rel="noreferrer"><code>perldoc -f local</code></a>.</p>
<p>Incidentally, if you can put your script on the server, you can have all the modules you want. See <em><a href="https://metacpan.org/pod/perlfaq8#How-do-I-keep-my-own-module-library-directory" rel="noreferrer">How do I keep my own module/library directory?</a></em>.</p>
<p>In addition, <a href="https://metacpan.org/pod/Path::Class::File" rel="noreferrer">Path::Class::File</a> allows you to <a href="https://metacpan.org/pod/Path::Class::File#file-slurp" rel="noreferrer">slurp</a> and <a href="https://metacpan.org/pod/Path::Class::File#file-spew-content" rel="noreferrer">spew</a>.</p>
<p><a href="https://metacpan.org/pod/Path::Tiny" rel="noreferrer">Path::Tiny</a> gives even more convenience methods such as <a href="https://metacpan.org/pod/Path::Tiny#slurp-slurp_raw-slurp_utf8" rel="noreferrer"><code>slurp</code>, <code>slurp_raw</code>, <code>slurp_utf8</code></a> as well as their <a href="https://metacpan.org/pod/Path::Tiny#spew-spew_raw-spew_utf8" rel="noreferrer"><code>spew</code></a> counterparts.</p>
</section>
<section id="answer-2-score-93" class="level4">
<h4>Answer 2 (score 93)</h4>
<p>I would do it like this:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb164-1"><a href="#cb164-1"></a><span class="kw">my</span> <span class="dt">$file</span> = <span class="kw">&quot;</span><span class="st">index.html</span><span class="kw">&quot;</span>;</span>
<span id="cb164-2"><a href="#cb164-2"></a><span class="kw">my</span> <span class="dt">$document</span> = <span class="kw">do</span> {</span>
<span id="cb164-3"><a href="#cb164-3"></a>    <span class="kw">local</span> <span class="dt">$/</span> = <span class="fu">undef</span>;</span>
<span id="cb164-4"><a href="#cb164-4"></a>    <span class="fu">open</span> <span class="kw">my</span> <span class="dt">$fh</span>, <span class="kw">&quot;</span><span class="st">&lt;</span><span class="kw">&quot;</span>, <span class="dt">$file</span></span>
<span id="cb164-5"><a href="#cb164-5"></a>        <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not open </span><span class="dt">$file</span><span class="st">: </span><span class="dt">$!</span><span class="kw">&quot;</span>;</span>
<span id="cb164-6"><a href="#cb164-6"></a>    &lt;<span class="dt">$fh</span>&gt;;</span>
<span id="cb164-7"><a href="#cb164-7"></a>};</span></code></pre></div>
<p>Note the use of the three-argument version of open. It is much safer than the old two- (or one-) argument versions. Also note the use of a lexical filehandle. Lexical filehandles are nicer than the old bareword variants, for many reasons. We are taking advantage of one of them here: they close when they go out of scope.</p>
</section>
<section id="answer-3-score-75" class="level4">
<h4>Answer 3 (score 75)</h4>
<p>With <a href="https://metacpan.org/module/File::Slurp" rel="noreferrer">File::Slurp</a>:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb165-1"><a href="#cb165-1"></a><span class="fu">use</span> <span class="fu">File::Slurp</span>;</span>
<span id="cb165-2"><a href="#cb165-2"></a><span class="kw">my</span> <span class="dt">$text</span> = read_file(<span class="kw">&#39;</span><span class="st">index.html</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p><a href="http://www.perlmonks.org/?node_id=693828" rel="noreferrer">Yes, even you can use CPAN</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-match-any-non-white-space-character-except-a-particular-one-score-168481-in-2014" class="level3">
<h3>36: How to match any non white space character except a particular one? (score <a href="https://stackoverflow.com/q/6125098.html">168481</a> in 2014)</h3>
<section id="question-34" class="level4">
<h4>Question</h4>
<p>In Perl <code>\S</code> matches any non-whitespace character.</p>
<p>How can I match any non-whitespace character except a backslash <code>\</code>?</p>
</section>
<section id="answer-accepted-score-136-1" class="level4">
<h4>Answer accepted (score 136)</h4>
<p>You can use a <a href="http://www.regular-expressions.info/charclass.html" rel="noreferrer">character class</a>:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb166-1"><a href="#cb166-1"></a><span class="kw">/</span><span class="ch">[^</span><span class="bn">\s\\</span><span class="ch">]</span><span class="kw">/</span></span></code></pre></div>
<p>matches anything that is not a whitespace character nor a <code>\</code>. Here’s another example:</p>
<p><code>[abc]</code> means “match <code>a</code>, <code>b</code> or <code>c</code>”; <code>[^abc]</code> means “match any character except <code>a</code>, <code>b</code> or <code>c</code>”.</p>
</section>
<section id="answer-2-score-12-1" class="level4">
<h4>Answer 2 (score 12)</h4>
<p>You can use a lookahead:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb167-1"><a href="#cb167-1"></a><span class="kw">/</span><span class="ch">(?=</span><span class="bn">\S</span><span class="ch">)[^</span><span class="bn">\\</span><span class="ch">]</span><span class="kw">/</span></span></code></pre></div>
</section>
<section id="answer-3-score-2" class="level4">
<h4>Answer 3 (score 2)</h4>
<p>This worked for me using <strong>sed</strong> [<strong>Edit:</strong> comment below points out sed doesn’t support ]</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb168-1"><a href="#cb168-1"></a>[^ ]</span></code></pre></div>
<p>while</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb169-1"><a href="#cb169-1"></a>[^\s] </span></code></pre></div>
<p>didn’t</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb170-1"><a href="#cb170-1"></a><span class="co"># Delete everything except space and &#39;g&#39;</span></span>
<span id="cb170-2"><a href="#cb170-2"></a>echo <span class="kw">&quot;</span><span class="st">ghai ghai</span><span class="kw">&quot;</span> | sed <span class="kw">&quot;</span><span class="st">s/[^</span><span class="ch">\s</span><span class="st">g]//g</span><span class="kw">&quot;</span></span>
<span id="cb170-3"><a href="#cb170-3"></a>gg</span>
<span id="cb170-4"><a href="#cb170-4"></a></span>
<span id="cb170-5"><a href="#cb170-5"></a>echo <span class="kw">&quot;</span><span class="st">ghai ghai</span><span class="kw">&quot;</span> | sed <span class="kw">&quot;</span><span class="st">s/[^ g]//g</span><span class="kw">&quot;</span></span>
<span id="cb170-6"><a href="#cb170-6"></a>g g</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="no-pg_hba.conf-entry-for-host-score-161302-in-2016" class="level3">
<h3>37: no pg_hba.conf entry for host (score <a href="https://stackoverflow.com/q/1406025.html">161302</a> in 2016)</h3>
<section id="question-35" class="level4">
<h4>Question</h4>
<p>I get following error when I try to connect using DBI</p>
<pre>
DBI connect('database=chaosLRdb;host=192.168.0.1;port=5433','postgres',...) 
failed: FATAL:  no pg_hba.conf entry for host "192.168.0.1", user "postgres", database "chaosLRdb", SSL off
</pre>
<p>Here is my pg_hba.conf file:</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb171-1"><a href="#cb171-1"></a><span class="co"># &quot;local&quot; is for Unix domain socket connections only</span></span>
<span id="cb171-2"><a href="#cb171-2"></a><span class="kw">local</span>   all         all                               md5</span>
<span id="cb171-3"><a href="#cb171-3"></a><span class="co"># IPv4 local connections:</span></span>
<span id="cb171-4"><a href="#cb171-4"></a>host    all         all         <span class="fl">127.0</span>.<span class="fl">0.1</span>/<span class="dv">32</span>          md5</span>
<span id="cb171-5"><a href="#cb171-5"></a><span class="co"># IPv6 local connections:</span></span>
<span id="cb171-6"><a href="#cb171-6"></a>host    all         all         ::<span class="dv">1</span>/<span class="dv">128</span>               md5</span>
<span id="cb171-7"><a href="#cb171-7"></a></span>
<span id="cb171-8"><a href="#cb171-8"></a>host    all         postgres    <span class="fl">127.0</span>.<span class="fl">0.1</span>/<span class="dv">32</span>          trust</span>
<span id="cb171-9"><a href="#cb171-9"></a></span>
<span id="cb171-10"><a href="#cb171-10"></a>host    all        postgres     <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        trust</span>
<span id="cb171-11"><a href="#cb171-11"></a></span>
<span id="cb171-12"><a href="#cb171-12"></a>host    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        trust</span>
<span id="cb171-13"><a href="#cb171-13"></a></span>
<span id="cb171-14"><a href="#cb171-14"></a>host    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">128</span>        trust</span>
<span id="cb171-15"><a href="#cb171-15"></a></span>
<span id="cb171-16"><a href="#cb171-16"></a>host    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        md5</span>
<span id="cb171-17"><a href="#cb171-17"></a></span>
<span id="cb171-18"><a href="#cb171-18"></a>host    chaosLRdb    postgres         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>      md5</span>
<span id="cb171-19"><a href="#cb171-19"></a><span class="kw">local</span>    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        trust</span></code></pre></div>
<p>My perl code is</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb172-1"><a href="#cb172-1"></a><span class="kw">#!/usr/bin/perl-w</span></span>
<span id="cb172-2"><a href="#cb172-2"></a><span class="fu">use</span> DBI;</span>
<span id="cb172-3"><a href="#cb172-3"></a><span class="fu">use</span> FileHandle;</span>
<span id="cb172-4"><a href="#cb172-4"></a></span>
<span id="cb172-5"><a href="#cb172-5"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Start connecting to the DB...</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb172-6"><a href="#cb172-6"></a></span>
<span id="cb172-7"><a href="#cb172-7"></a><span class="dt">@ary</span> = DBI-&gt;available_drivers(true);</span>
<span id="cb172-8"><a href="#cb172-8"></a><span class="dt">%drivers</span> = DBI-&gt;installed_drivers();</span>
<span id="cb172-9"><a href="#cb172-9"></a><span class="kw">my</span> <span class="dt">$dbh</span> = DBI-&gt;<span class="fu">connect</span>(<span class="kw">&quot;</span><span class="st">DBI:PgPP:database=chaosLRdb;host=192.168.0.1;port=5433</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">postgres</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">chaos123</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>May I know what i miss here?</p>
</section>
<section id="answer-2-score-34-1" class="level4">
<h4>Answer 2 (score 34)</h4>
<p>In your pg_hba.conf file, I see some incorrect and confusing lines:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb173-1"><a href="#cb173-1"></a><span class="co"># fine, this allows all dbs, all users, to be trusted from 192.168.0.1/32</span></span>
<span id="cb173-2"><a href="#cb173-2"></a><span class="co"># not recommend because of the lax permissions</span></span>
<span id="cb173-3"><a href="#cb173-3"></a>host    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        trust</span>
<span id="cb173-4"><a href="#cb173-4"></a></span>
<span id="cb173-5"><a href="#cb173-5"></a><span class="co"># wrong, /128 is an invalid netmask for ipv4, this line should be removed</span></span>
<span id="cb173-6"><a href="#cb173-6"></a>host    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">128</span>       trust</span>
<span id="cb173-7"><a href="#cb173-7"></a></span>
<span id="cb173-8"><a href="#cb173-8"></a><span class="co"># this conflicts with the first line</span></span>
<span id="cb173-9"><a href="#cb173-9"></a><span class="co"># it says that that the password should be md5 and not plaintext</span></span>
<span id="cb173-10"><a href="#cb173-10"></a><span class="co"># I think the first line should be removed</span></span>
<span id="cb173-11"><a href="#cb173-11"></a>host    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        md5</span>
<span id="cb173-12"><a href="#cb173-12"></a></span>
<span id="cb173-13"><a href="#cb173-13"></a><span class="co"># this is fine except is it unnecessary because of the previous line</span></span>
<span id="cb173-14"><a href="#cb173-14"></a><span class="co"># which allows any user and any database to connect with md5 password</span></span>
<span id="cb173-15"><a href="#cb173-15"></a>host    chaosLRdb  postgres    <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        md5</span>
<span id="cb173-16"><a href="#cb173-16"></a></span>
<span id="cb173-17"><a href="#cb173-17"></a><span class="co"># wrong, on local lines, an IP cannot be specified</span></span>
<span id="cb173-18"><a href="#cb173-18"></a><span class="co"># remove the 4th column</span></span>
<span id="cb173-19"><a href="#cb173-19"></a><span class="kw">local</span>   all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        trust</span></code></pre></div>
<p>I suspect that if you md5’d the password, this might work if you trim the lines. To get the md5 you can use perl or the following shell script:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb174-1"><a href="#cb174-1"></a> echo -n <span class="kw">&#39;</span><span class="st">chaos123</span><span class="kw">&#39;</span> | md5sum</span>
<span id="cb174-2"><a href="#cb174-2"></a> &gt; d6766c33ba6cf0bb249b37151b068f10  -</span></code></pre></div>
<p>So then your connect line would like something like:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb175-1"><a href="#cb175-1"></a><span class="kw">my</span> <span class="dt">$dbh</span> = DBI-&gt;<span class="fu">connect</span>(<span class="kw">&quot;</span><span class="st">DBI:PgPP:database=chaosLRdb;host=192.168.0.1;port=5433</span><span class="kw">&quot;</span>,</span>
<span id="cb175-2"><a href="#cb175-2"></a>    <span class="kw">&quot;</span><span class="st">chaosuser</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">d6766c33ba6cf0bb249b37151b068f10</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>For more information, here’s the <a href="http://www.postgresql.org/docs/8.0/interactive/client-authentication.html" rel="nofollow noreferrer">documentation of postgres 8.X’s pg_hba.conf file</a>.</p>
</section>
<section id="answer-3-score-18-1" class="level4">
<h4>Answer 3 (score 18)</h4>
<p>If you can change this line:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb176-1"><a href="#cb176-1"></a>host    all        all         <span class="fl">192.168</span>.<span class="fl">0.1</span>/<span class="dv">32</span>        md5</span></code></pre></div>
<p>With this:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb177-1"><a href="#cb177-1"></a>host    all        all         all                   md5</span></code></pre></div>
<p>You can see if this solves the problem.</p>
<p>But another consideration is your postgresql port(5432) is very open to password attacks with hackers (maybe they can brute force the password). You can change your postgresql port 5432 to ‘33333’ or another value, so they can’t know this configuration.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="array-initialization-in-perl-score-161143-in-2015" class="level3">
<h3>38: Array initialization in Perl (score <a href="https://stackoverflow.com/q/3251495.html">161143</a> in 2015)</h3>
<section id="question-36" class="level4">
<h4>Question</h4>
<p>How do I initialize an array to 0?</p>
<p>I have tried this.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb178-1"><a href="#cb178-1"></a><span class="kw">my</span> <span class="dt">@arr</span> = ();</span></code></pre></div>
<p>But it always throws me a warning, <em>“Use of uninitialized value”</em>. I do not know the size of the array beforehand. I fill it dynamically. I thought the above piece of code was supposed to initialize it to 0.</p>
<p>How do I do this?</p>
</section>
<section id="answer-accepted-score-51" class="level4">
<h4>Answer accepted (score 51)</h4>
<p>If I understand you, perhaps you don’t need an array of zeroes; rather, you need a <strong>hash</strong>. The hash keys will be the values in the other array and the hash values will be the number of times the value exists in the other array:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb179-1"><a href="#cb179-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb179-2"><a href="#cb179-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb179-3"><a href="#cb179-3"></a></span>
<span id="cb179-4"><a href="#cb179-4"></a><span class="kw">my</span> <span class="dt">@other_array</span> = (<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>);</span>
<span id="cb179-5"><a href="#cb179-5"></a><span class="kw">my</span> <span class="dt">%tallies</span>;</span>
<span id="cb179-6"><a href="#cb179-6"></a><span class="dt">$tallies</span>{<span class="dt">$_</span>} ++ <span class="kw">for</span> <span class="dt">@other_array</span>;</span>
<span id="cb179-7"><a href="#cb179-7"></a></span>
<span id="cb179-8"><a href="#cb179-8"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$_</span><span class="st"> =&gt; </span><span class="dt">$tallies</span><span class="st">{</span><span class="dt">$_</span><span class="st">}</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">for</span> <span class="fu">sort</span> {<span class="dt">$a</span> &lt;=&gt; <span class="dt">$b</span>} <span class="fu">keys</span> <span class="dt">%tallies</span>;    </span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb180-1"><a href="#cb180-1"></a><span class="dv">0</span> =&gt; <span class="dv">3</span></span>
<span id="cb180-2"><a href="#cb180-2"></a><span class="dv">1</span> =&gt; <span class="dv">1</span></span>
<span id="cb180-3"><a href="#cb180-3"></a><span class="dv">2</span> =&gt; <span class="dv">2</span></span>
<span id="cb180-4"><a href="#cb180-4"></a><span class="dv">3</span> =&gt; <span class="dv">3</span></span>
<span id="cb180-5"><a href="#cb180-5"></a><span class="dv">4</span> =&gt; <span class="dv">1</span></span></code></pre></div>
<p>To answer your specific question more directly, to create an array populated with a bunch of zeroes, you can use the technique in these two examples:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb181-1"><a href="#cb181-1"></a><span class="kw">my</span> <span class="dt">@zeroes</span> = (<span class="dv">0</span>) x <span class="dv">5</span>;            <span class="co"># (0,0,0,0,0)</span></span>
<span id="cb181-2"><a href="#cb181-2"></a></span>
<span id="cb181-3"><a href="#cb181-3"></a><span class="kw">my</span> <span class="dt">@zeroes</span> = (<span class="dv">0</span>) x <span class="dt">@other_array</span>; <span class="co"># A zero for each item in @other_array.</span></span>
<span id="cb181-4"><a href="#cb181-4"></a>                                 <span class="co"># This works because in scalar context</span></span>
<span id="cb181-5"><a href="#cb181-5"></a>                                 <span class="co"># an array evaluates to its size.</span></span></code></pre></div>
</section>
<section id="answer-2-score-18" class="level4">
<h4>Answer 2 (score 18)</h4>
<p>What do you mean by “initialize an array to zero”? Arrays don’t contain “zero” – they can contain “zero elements”, which is the same as “an empty list”. Or, you could have an array with one element, where that element is a zero: <code>my @array = (0);</code></p>
<p><code>my @array = ();</code> should work just fine – it allocates a new array called <code>@array</code>, and then assigns it the empty list, <code>()</code>. Note that this is identical to simply saying <code>my @array;</code>, since the initial value of a new array is the empty list anyway.</p>
<p>Are you sure you are getting an error from this line, and not somewhere else in your code? Ensure you have <code>use strict; use warnings;</code> in your module or script, and check the line number of the error you get. (Posting some contextual code here might help, too.)</p>
</section>
<section id="answer-3-score-3-1" class="level4">
<h4>Answer 3 (score 3)</h4>
<p>To produce the output in your comment to your post, this will do it:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb182-1"><a href="#cb182-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb182-2"><a href="#cb182-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb182-3"><a href="#cb182-3"></a></span>
<span id="cb182-4"><a href="#cb182-4"></a><span class="kw">my</span> <span class="dt">@other_array</span> = (<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>);</span>
<span id="cb182-5"><a href="#cb182-5"></a><span class="kw">my</span> <span class="dt">@array</span>;</span>
<span id="cb182-6"><a href="#cb182-6"></a><span class="kw">my</span> <span class="dt">%uniqs</span>;</span>
<span id="cb182-7"><a href="#cb182-7"></a></span>
<span id="cb182-8"><a href="#cb182-8"></a><span class="dt">$uniqs</span>{<span class="dt">$_</span>}++ <span class="kw">for</span> <span class="dt">@other_array</span>;</span>
<span id="cb182-9"><a href="#cb182-9"></a></span>
<span id="cb182-10"><a href="#cb182-10"></a><span class="kw">foreach</span> (<span class="fu">keys</span> <span class="dt">%uniqs</span>) { <span class="dt">$array</span>[<span class="dt">$_</span>]=<span class="dt">$uniqs</span>{<span class="dt">$_</span>} }</span>
<span id="cb182-11"><a href="#cb182-11"></a></span>
<span id="cb182-12"><a href="#cb182-12"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">array[</span><span class="dt">$_</span><span class="st">] = </span><span class="dt">$array</span><span class="st">[</span><span class="dt">$_</span><span class="st">]</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">for</span> (<span class="dv">0</span>..<span class="dt">$#array</span>);</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb183-1"><a href="#cb183-1"></a>   array[<span class="dv">0</span>] = <span class="dv">3</span></span>
<span id="cb183-2"><a href="#cb183-2"></a>   array[<span class="dv">1</span>] = <span class="dv">1</span></span>
<span id="cb183-3"><a href="#cb183-3"></a>   array[<span class="dv">2</span>] = <span class="dv">2</span></span>
<span id="cb183-4"><a href="#cb183-4"></a>   array[<span class="dv">3</span>] = <span class="dv">3</span></span>
<span id="cb183-5"><a href="#cb183-5"></a>   array[<span class="dv">4</span>] = <span class="dv">1</span></span></code></pre></div>
<p>This is different than your stated algorithm of producing a parallel array with zero values, but it is a more Perly way of doing it…</p>
<p>If you must have a parallel array that is the same size as your first array with the elements initialized to 0, this statement will dynamically do it: <code>@array=(0) x scalar(@other_array);</code> but really, you don’t need to do that.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-configure-apache-2-to-run-perl-cgi-scripts-score-157915-in-2016" class="level3">
<h3>39: How do I configure Apache 2 to run Perl CGI scripts? (score <a href="https://stackoverflow.com/q/560749.html">157915</a> in 2016)</h3>
<section id="question-37" class="level4">
<h4>Question</h4>
<p>I would like to configure Apache 2 running on <code>Kubuntu</code> to execute Perl CGI scripts. I’ve tried some steps that I came across by googling, but nothing seems to work.</p>
<p>What is the right way of achieving this?</p>
</section>
<section id="answer-2-score-24-2" class="level4">
<h4>Answer 2 (score 24)</h4>
<p>This post is intended to rescue the people who are suffering from *not being able to properly setup Apache2 for Perl on Ubuntu. (The system configurations specific to your Linux machine will be mentioned within square brackets, like [this]).</p>
<p>Possible outcome of an improperly setup Apache 2:</p>
<ol>
<li>
Browser trying to download the .pl file instead of executing and giving out the result.
</li>
<li>
Forbidden.
</li>
<li>
Internal server error.
</li>
</ol>
<p>If one follows the steps described below with a reasonable intelligence, he/she can get through the errors mentioned above.</p>
<p>Before starting the steps. Go to <code>/etc/hosts</code> file and add IP address / domain-name` for example:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb184-1"><a href="#cb184-1"></a><span class="fl">127.0</span>.<span class="fl">0.1</span> www.BECK.com</span></code></pre></div>
<p>
Step 1: Install <code>apache2</code> Step 2: Install <code>mod_perl</code> Step 3: Configure <code>apache2</code>
</p>
<p>open <code>sites-available/default</code> and add the following,</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb185-1"><a href="#cb185-1"></a>&lt;Files ~ <span class="kw">&quot;</span><span class="st">\.(pl|cgi)</span><span class="dt">$&quot;</span><span class="st">&gt;</span></span>
<span id="cb185-2"><a href="#cb185-2"></a><span class="st">    SetHandler perl-script</span></span>
<span id="cb185-3"><a href="#cb185-3"></a><span class="st">    PerlResponseHandler ModPerl::PerlRun</span></span>
<span id="cb185-4"><a href="#cb185-4"></a><span class="st">    Options +ExecCGI</span></span>
<span id="cb185-5"><a href="#cb185-5"></a><span class="st">    PerlSendHeader On</span></span>
<span id="cb185-6"><a href="#cb185-6"></a><span class="st">&lt;/Files&gt;</span></span>
<span id="cb185-7"><a href="#cb185-7"></a></span>
<span id="cb185-8"><a href="#cb185-8"></a><span class="st">&lt;Directory /&gt;</span></span>
<span id="cb185-9"><a href="#cb185-9"></a><span class="st">    Options FollowSymLinks</span></span>
<span id="cb185-10"><a href="#cb185-10"></a><span class="st">    AllowOverride None</span></span>
<span id="cb185-11"><a href="#cb185-11"></a><span class="st">&lt;/Directory&gt;</span></span>
<span id="cb185-12"><a href="#cb185-12"></a><span class="st">&lt;Directory [path-to-store-your-website-files-like-.html-(perl-scripts-should-be-stored-in-cgi-bin] &gt;</span></span>
<span id="cb185-13"><a href="#cb185-13"></a><span class="st">####(The Perl/CGI scripts can be stored out of the cgi-bin directory, but that&#39;s a story for another day. Let&#39;s concentrate on washing out the issue at hand)</span></span>
<span id="cb185-14"><a href="#cb185-14"></a><span class="st">####</span></span>
<span id="cb185-15"><a href="#cb185-15"></a><span class="st">    Options Indexes FollowSymLinks MultiViews</span></span>
<span id="cb185-16"><a href="#cb185-16"></a><span class="st">    AllowOverride None</span></span>
<span id="cb185-17"><a href="#cb185-17"></a><span class="st">    Order allow,deny</span></span>
<span id="cb185-18"><a href="#cb185-18"></a><span class="st">    allow from all</span></span>
<span id="cb185-19"><a href="#cb185-19"></a><span class="st">&lt;/Directory&gt;</span></span>
<span id="cb185-20"><a href="#cb185-20"></a></span>
<span id="cb185-21"><a href="#cb185-21"></a><span class="st">ScriptAlias /cgi-bin/ [path-where-you-want-your-.pl-and-.cgi-files]</span></span>
<span id="cb185-22"><a href="#cb185-22"></a></span>
<span id="cb185-23"><a href="#cb185-23"></a><span class="st">&lt;Directory [path-where-you-want-your-.pl-and-.cgi-files]&gt;</span></span>
<span id="cb185-24"><a href="#cb185-24"></a><span class="st">    AllowOverride None</span></span>
<span id="cb185-25"><a href="#cb185-25"></a><span class="st">    Options ExecCGI -MultiViews +SymLinksIfOwnerMatch</span></span>
<span id="cb185-26"><a href="#cb185-26"></a><span class="st">    AddHandler cgi-script .pl</span></span>
<span id="cb185-27"><a href="#cb185-27"></a><span class="st">    Order allow,deny</span></span>
<span id="cb185-28"><a href="#cb185-28"></a><span class="st">    allow from all</span></span>
<span id="cb185-29"><a href="#cb185-29"></a><span class="st">&lt;/Directory&gt;</span></span>
<span id="cb185-30"><a href="#cb185-30"></a><span class="st">&lt;Files ~ </span><span class="kw">&quot;</span>\.(pl|cgi)<span class="dt">$&quot;</span>&gt;</span>
<span id="cb185-31"><a href="#cb185-31"></a>    SetHandler perl-script</span>
<span id="cb185-32"><a href="#cb185-32"></a>    PerlResponseHandler <span class="fu">ModPerl::PerlRun</span></span>
<span id="cb185-33"><a href="#cb185-33"></a>    Options +ExecCGI</span>
<span id="cb185-34"><a href="#cb185-34"></a>    PerlSendHeader On</span>
<span id="cb185-35"><a href="#cb185-35"></a>&lt;/Files&gt;</span>
<span id="cb185-36"><a href="#cb185-36"></a></span>
<span id="cb185-37"><a href="#cb185-37"></a>&lt;Directory /&gt;</span>
<span id="cb185-38"><a href="#cb185-38"></a>    Options FollowSymLinks</span>
<span id="cb185-39"><a href="#cb185-39"></a>    AllowOverride None</span>
<span id="cb185-40"><a href="#cb185-40"></a>&lt;/Directory&gt;</span>
<span id="cb185-41"><a href="#cb185-41"></a>&lt;Directory [path-to-store-your-website-files-like-.html-(perl-scripts-should-be-stored-in-cgi-bin] &gt;</span>
<span id="cb185-42"><a href="#cb185-42"></a><span class="co">####(The Perl/CGI scripts can be stored out of the cgi-bin directory, but that&#39;s a story for another day. Let&#39;s concentrate on washing out the issue at hand)</span></span>
<span id="cb185-43"><a href="#cb185-43"></a><span class="co">####</span></span>
<span id="cb185-44"><a href="#cb185-44"></a>    Options Indexes FollowSymLinks MultiViews</span>
<span id="cb185-45"><a href="#cb185-45"></a>    AllowOverride None</span>
<span id="cb185-46"><a href="#cb185-46"></a>    Order allow,deny</span>
<span id="cb185-47"><a href="#cb185-47"></a>    allow from all</span>
<span id="cb185-48"><a href="#cb185-48"></a>&lt;/Directory&gt;</span>
<span id="cb185-49"><a href="#cb185-49"></a></span>
<span id="cb185-50"><a href="#cb185-50"></a>ScriptAlias /cgi-bin/ [path-where-you-want-your-.pl-<span class="kw">and</span>-.cgi-files]</span>
<span id="cb185-51"><a href="#cb185-51"></a></span>
<span id="cb185-52"><a href="#cb185-52"></a>&lt;Directory [path-where-you-want-your-.pl-<span class="kw">and</span>-.cgi-files]&gt;</span>
<span id="cb185-53"><a href="#cb185-53"></a>    AllowOverride None</span>
<span id="cb185-54"><a href="#cb185-54"></a>    Options ExecCGI -MultiViews +SymLinksIfOwnerMatch</span>
<span id="cb185-55"><a href="#cb185-55"></a>    AddHandler cgi-script .pl</span>
<span id="cb185-56"><a href="#cb185-56"></a>    Order allow,deny</span>
<span id="cb185-57"><a href="#cb185-57"></a>    allow from all</span>
<span id="cb185-58"><a href="#cb185-58"></a>&lt;/Directory&gt;</span></code></pre></div>
<h5>
Step 4:
</h3>
<p>Add the following lines to your <code>/etc/apache2/apache2.conf</code> file.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb186-1"><a href="#cb186-1"></a>AddHandler cgi-script .cgi .pl</span>
<span id="cb186-2"><a href="#cb186-2"></a>&lt;Files ~ <span class="kw">&quot;</span><span class="st">\.pl</span><span class="dt">$&quot;</span><span class="st">&gt;</span></span>
<span id="cb186-3"><a href="#cb186-3"></a><span class="st">Options +ExecCGI</span></span>
<span id="cb186-4"><a href="#cb186-4"></a><span class="st">&lt;/Files&gt;</span></span>
<span id="cb186-5"><a href="#cb186-5"></a><span class="st">&lt;Files ~ </span><span class="kw">&quot;</span>\.cgi<span class="dt">$&quot;</span>&gt;</span>
<span id="cb186-6"><a href="#cb186-6"></a>Options +ExecCGI</span>
<span id="cb186-7"><a href="#cb186-7"></a>&lt;/Files&gt;</span>
<span id="cb186-8"><a href="#cb186-8"></a></span>
<span id="cb186-9"><a href="#cb186-9"></a>&lt;IfModule mod_perl.c&gt;</span>
<span id="cb186-10"><a href="#cb186-10"></a>&lt;IfModule mod_alias.c&gt;</span>
<span id="cb186-11"><a href="#cb186-11"></a>Alias /perl/ <span class="kw">/</span><span class="ot">home</span><span class="kw">/s</span>ly/host/perl/</span>
<span id="cb186-12"><a href="#cb186-12"></a>&lt;/IfModule&gt;</span>
<span id="cb186-13"><a href="#cb186-13"></a>&lt;Location /perl&gt;</span>
<span id="cb186-14"><a href="#cb186-14"></a>SetHandler perl-script</span>
<span id="cb186-15"><a href="#cb186-15"></a>PerlHandler <span class="fu">Apache::Registry</span></span>
<span id="cb186-16"><a href="#cb186-16"></a>Options +ExecCGI</span>
<span id="cb186-17"><a href="#cb186-17"></a>&lt;/Location&gt;</span>
<span id="cb186-18"><a href="#cb186-18"></a>&lt;/IfModule&gt;</span>
<span id="cb186-19"><a href="#cb186-19"></a></span>
<span id="cb186-20"><a href="#cb186-20"></a>&lt;Files ~ <span class="kw">&quot;</span><span class="st">\.pl</span><span class="dt">$&quot;</span><span class="st">&gt;</span></span>
<span id="cb186-21"><a href="#cb186-21"></a><span class="st">Options +ExecCGI</span></span>
<span id="cb186-22"><a href="#cb186-22"></a><span class="st">&lt;/Files&gt;</span></span></code></pre></div>
<h5>
Step 5:
</h3>
<p><strong>Very important</strong>, or at least I guess so, only after doing this step, I got it to work.</p>
<p><code>AddHandler cgi-script .cgi .pl</code></p>
<div class="sourceCode" id="cb187"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb187-1"><a href="#cb187-1"></a>&lt;Files ~ <span class="kw">&quot;</span><span class="st">\.pl</span><span class="dt">$&quot;</span><span class="st">&gt;</span></span>
<span id="cb187-2"><a href="#cb187-2"></a><span class="st">Options +ExecCGI</span></span>
<span id="cb187-3"><a href="#cb187-3"></a><span class="st">&lt;/Files&gt;</span></span>
<span id="cb187-4"><a href="#cb187-4"></a><span class="st">&lt;Files ~ </span><span class="kw">&quot;</span>\.cgi<span class="dt">$&quot;</span>&gt;</span>
<span id="cb187-5"><a href="#cb187-5"></a>Options +ExecCGI</span>
<span id="cb187-6"><a href="#cb187-6"></a>&lt;/Files&gt;</span>
<span id="cb187-7"><a href="#cb187-7"></a></span>
<span id="cb187-8"><a href="#cb187-8"></a>&lt;IfModule mod_perl.c&gt;</span>
<span id="cb187-9"><a href="#cb187-9"></a>&lt;IfModule mod_alias.c&gt;</span>
<span id="cb187-10"><a href="#cb187-10"></a>Alias /perl/ <span class="kw">/</span><span class="ot">home</span><span class="kw">/s</span>ly/host/perl/</span>
<span id="cb187-11"><a href="#cb187-11"></a>&lt;/IfModule&gt;</span>
<span id="cb187-12"><a href="#cb187-12"></a>&lt;Location /perl&gt;</span>
<span id="cb187-13"><a href="#cb187-13"></a>SetHandler perl-script</span>
<span id="cb187-14"><a href="#cb187-14"></a>PerlHandler <span class="fu">Apache::Registry</span></span>
<span id="cb187-15"><a href="#cb187-15"></a>Options +ExecCGI</span>
<span id="cb187-16"><a href="#cb187-16"></a>&lt;/Location&gt;</span>
<span id="cb187-17"><a href="#cb187-17"></a>&lt;/IfModule&gt;</span>
<span id="cb187-18"><a href="#cb187-18"></a></span>
<span id="cb187-19"><a href="#cb187-19"></a>&lt;Files ~ <span class="kw">&quot;</span><span class="st">\.pl</span><span class="dt">$&quot;</span><span class="st">&gt;</span></span>
<span id="cb187-20"><a href="#cb187-20"></a><span class="st">Options +ExecCGI</span></span>
<span id="cb187-21"><a href="#cb187-21"></a><span class="st">&lt;/Files&gt;</span></span></code></pre></div>
<h5>
Step 6
</h3>
<p><strong>Very important</strong>, or at least I guess so, only after doing this step, I got it to work.</p>
<p>Add the following to you <code>/etc/apache2/sites-enabled/000-default</code> file</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb188-1"><a href="#cb188-1"></a>&lt;Files ~ <span class="kw">&quot;</span><span class="st">\.(pl|cgi)</span><span class="dt">$&quot;</span><span class="st">&gt;</span></span>
<span id="cb188-2"><a href="#cb188-2"></a><span class="st">SetHandler perl-script</span></span>
<span id="cb188-3"><a href="#cb188-3"></a><span class="st">PerlResponseHandler ModPerl::PerlRun</span></span>
<span id="cb188-4"><a href="#cb188-4"></a><span class="st">Options +ExecCGI</span></span>
<span id="cb188-5"><a href="#cb188-5"></a><span class="st">PerlSendHeader On</span></span>
<span id="cb188-6"><a href="#cb188-6"></a><span class="st">&lt;/Files&gt;</span></span></code></pre></div>
<h5>
Step 7:
</h3>
<p>Now add, your Perl script as test.pl in the place where you mentioned before in step 3 as [<em>path-where-you-want-your-.pl-and-.cgi-files</em>].</p>
<p>Give permissions to the <code>.pl</code> file using <code>chmod</code> and then, type the <code>webaddress/cgi-bin/test.pl</code> in the address bar of the browser, there you go, you got it.</p>
<p>(Now, many of the things would have been redundant in this post. Kindly ignore it.)</p>
</section>
<section id="answer-3-score-19" class="level4">
<h4>Answer 3 (score 19)</h4>
<p>You’ll need to take a look at your Apache error log to see what the “internal server error” is. The four most likely cases, in my experience would be:</p>
<ol>
<li>
<p>
The CGI program is in a directory which does not have CGI execution enabled. Solution: Add the <code>ExecCGI</code> option to that directory via either httpd.conf or a .htaccess file.
</p>
</li>
<li>
<p>
Apache is only configured to run CGIs from a dedicated <code>cgi-bin</code> directory. Solution: Move the CGI program there or add an <code>AddHandler cgi-script .cgi</code> statement to httpd.conf.
</p>
</li>
<li>
<p>
The CGI program is not set as executable. Solution (assuming a *nix-type operating system): <code>chmod +x my_prog.cgi</code>
</p>
</li>
<li>
<p>
The CGI program is exiting without sending headers. Solution: Run the program from the command line and verify that a) it actually runs rather than dying with a compile-time error and b) it generates the correct output, which should include, at the very minimum, a <code>Content-Type</code> header and a blank line following the last of its headers.
</p>
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-check-if-a-perl-module-is-installed-on-my-system-from-the-command-line-score-157845-in-2009" class="level3">
<h3>40: How can I check if a Perl module is installed on my system from the command line? (score <a href="https://stackoverflow.com/q/1039107.html">157845</a> in 2009)</h3>
<section id="question-38" class="level4">
<h4>Question</h4>
<p>I tried to check if XML::Simple is installed in my system or not.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb189-1"><a href="#cb189-1"></a>perl <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">while (&lt;@INC&gt;) { while (&lt;$_/*.pm&gt;) { print &quot;$_\n&quot;; } }</span><span class="kw">&#39;</span></span></code></pre></div>
<p>The above one-liner was used for listing all modules installed in my system. However, it is not listing XML modules.</p>
<p>However, the following executes fine.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb190-1"><a href="#cb190-1"></a>perl <span class="kw">-e</span> <span class="kw">&quot;</span><span class="st">use XML::Simple </span><span class="kw">&quot;</span></span></code></pre></div>
<p>What might be the issue?</p>
</section>
<section id="answer-accepted-score-93" class="level4">
<h4>Answer accepted (score 93)</h4>
<p>You can check for a module’s installation path by:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb191-1"><a href="#cb191-1"></a>perldoc <span class="kw">-l</span> <span class="fu">XML::Simple</span></span></code></pre></div>
<p>The problem with your one-liner is that, it is not recursively traversing directories/sub-directories. Hence, you get only pragmatic module names as output.</p>
</section>
<section id="answer-2-score-39" class="level4">
<h4>Answer 2 (score 39)</h4>
<p>Quick and dirty:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb192-1"><a href="#cb192-1"></a>$ perl -<span class="fu">MXML::Simple</span> <span class="kw">-e</span> <span class="dv">1</span></span></code></pre></div>
</section>
<section id="answer-3-score-17-2" class="level4">
<h4>Answer 3 (score 17)</h4>
<pre>$ perl -MXML::Simple -le 'print $INC{"XML/Simple.pm"}'</pre>
<p>From the <a href="http://perldoc.perl.org/perlvar.html" rel="noreferrer">perlvar</a> entry on <a href="http://perldoc.perl.org/perlvar.html#%INC" rel="noreferrer"><code>%INC</code></a>:</p>
<blockquote>
<ul>
<li>
<strong>%INC</strong>
</li>
</ul>
<p>The hash <code>%INC</code> contains entries for each filename included via the <code>do</code>, <code>require</code>, or <code>use</code> operators. The key is the filename you specified (with module names converted to pathnames), and the value is the location of the file found. The <code>require</code> operator uses this hash to determine whether a particular file has already been included.</p>
If the file was loaded via a hook (e.g. a subroutine reference, see <a href="http://perldoc.perl.org/functions/require.html" rel="noreferrer">require</a> for a description of these hooks), this hook is by default inserted into <code>%INC</code> in place of a filename. Note, however, that the hook may have set the %INC entry by itself to provide some more specific info.<br />

</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="escaping-a-forward-slash-in-a-regular-expression-score-156283-in-2011" class="level3">
<h3>41: Escaping a forward slash in a regular expression (score <a href="https://stackoverflow.com/q/6076229.html">156283</a> in 2011)</h3>
<section id="question-39" class="level4">
<h4>Question</h4>
<p>My question is a simple one, and it is about regular expression escaping. Do you have to escape a forward slash <code>/</code> in a regular expression? And how would you go about doing it?</p>
</section>
<section id="answer-accepted-score-79" class="level4">
<h4>Answer accepted (score 79)</h4>
<p>What context/language? Some languages use <code>/</code> as the pattern delimiter, so yes, you need to escape it, depending on which language/context. You escape it by putting a backward slash in front of it: <code>\/</code> For some languages (like PHP) you can use other characters as the delimiter and therefore you don’t need to escape it. But AFAIK in all languages, the only special significance the <code>/</code> has is it may be the designated pattern delimiter.</p>
</section>
<section id="answer-2-score-35" class="level4">
<h4>Answer 2 (score 35)</h4>
<p>Here are a few options:</p>
<ul>
<li>
<p>
In Perl, you can choose alternate delimiters. You’re not confined to <code>m//</code>. You could choose another, such as <code>m{}</code>. Then escaping isn’t necessary. As a matter of fact, Damian Conway in “Perl Best Practices” asserts that <code>m{}</code> is the only alternate delimiter that ought to be used, and this is reinforced by Perl::Critic (on CPAN). While you can get away with using a variety of alternate delimiter characters, <code>//</code> and <code>{}</code> seem to be the clearest to decipher later on. However, if either of those choices result in too much escaping, choose whichever one lends itself best to legibility. Common examples are <code>m(...)</code>, <code>m[...]</code>, and <code>m!...!</code>.
</p>
</li>
<li>
<p>
In cases where you either cannot or prefer not to use alternate delimiters, you can escape the forward slashes with a backslash: <code>m/\/[^/]+$/</code> for example (using an alternate delimiter that could become <code>m{/[^/]+$}</code>, which may read more clearly). Escaping the slash with a backslash is common enough to have earned a name and a wikipedia page: <a href="https://en.wikipedia.org/wiki/Leaning_toothpick_syndrome" rel="noreferrer">Leaning Toothpick Syndrome</a>. In regular expressions where there’s just a single instance, escaping a slash might not rise to the level of being considered a hindrance to legibility, but if it starts to get out of hand, and if your language permits alternate delimiters as Perl does, that would be the preferred solution.
</p>
</li>
</ul>
</section>
<section id="answer-3-score-9-1" class="level4">
<h4>Answer 3 (score 9)</h4>
<p>
Use the backslash <code>\</code> or choose a different delimiter, ie <code>m#.\d#</code> instead of <code>/.\d/</code> “In Perl, you can change the / regular expression delimiter to almost any other special character if you preceed it with the letter m (for match);”
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-print-variables-in-perl-score-148908-in-2017" class="level3">
<h3>42: How to print variables in Perl (score <a href="https://stackoverflow.com/q/6181381.html">148908</a> in 2017)</h3>
<section id="question-40" class="level4">
<h4>Question</h4>
<p>I have some code that looks like</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb193-1"><a href="#cb193-1"></a><span class="kw">my</span> (<span class="dt">$ids</span>,<span class="dt">$nIds</span>);</span>
<span id="cb193-2"><a href="#cb193-2"></a><span class="kw">while</span> (&lt;myFile&gt;){</span>
<span id="cb193-3"><a href="#cb193-3"></a>    <span class="fu">chomp</span>;</span>
<span id="cb193-4"><a href="#cb193-4"></a>    <span class="dt">$ids</span>.= <span class="dt">$_</span> . <span class="kw">&quot;</span><span class="st"> </span><span class="kw">&quot;</span>;</span>
<span id="cb193-5"><a href="#cb193-5"></a>    <span class="dt">$nIds</span>++;</span>
<span id="cb193-6"><a href="#cb193-6"></a>}</span></code></pre></div>
<p>This should concatenate every line in my <code>myFile</code>, and <code>nIds</code> should be my number of lines. How do I print out my <code>$ids</code> and <code>$nIds</code>?</p>
<p>I tried simply <code>print $ids</code>, but Perl complains.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb194-1"><a href="#cb194-1"></a><span class="kw">my</span> (<span class="dt">$ids</span>, <span class="dt">$nIds</span>)</span></code></pre></div>
<p>is a list, right? With two elements?</p>
</section>
<section id="answer-accepted-score-33" class="level4">
<h4>Answer accepted (score 33)</h4>
<div class="sourceCode" id="cb195"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb195-1"><a href="#cb195-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Number of lines: </span><span class="dt">$nids</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb195-2"><a href="#cb195-2"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Content: </span><span class="dt">$ids</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>How did Perl complain? <code>print $ids</code> should work, though you probably want a newline at the end, either explicitly with <code>print</code> as above or implicitly by using <code>say</code> or <a href="http://perldoc.perl.org/perlrun.html#*-l*%5B_octnum_%5D" rel="noreferrer">-l</a>/<a href="http://perldoc.perl.org/perlvar.html#$%5C" rel="noreferrer">$&lt;/a&gt;.</p>
<p>If you want to interpolate a variable in a string and have something immediately after it that would looks like part of the variable but isn’t, enclose the variable name in <code>{}</code>:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb196-1"><a href="#cb196-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">foo</span><span class="dt">${ids}bar</span><span class="kw">&quot;</span>;</span></code></pre></div>
</section>
<section id="answer-2-score-11" class="level4">
<h4>Answer 2 (score 11)</h4>
<p>You should always include all relevant code when asking a question. In this case, the print statement that is the center of your question. The print statement is probably the most crucial piece of information. The second most crucial piece of information is the error, which you also did not include. Next time, include both of those.</p>
<p><code>print $ids</code> should be a fairly hard statement to mess up, but it is possible. Possible reasons:</p>
<ol>
<li>
<code>$ids</code> is undefined. Gives the warning <code>undefined value in print</code>
</li>
<li>
<code>$ids</code> is out of scope. With <code>use strict</code>, gives fatal warning <code>Global variable $ids needs explicit package name</code>, and otherwise the undefined warning from above.
</li>
<li>
You forgot a semi-colon at the end of the line.
</li>
<li>
You tried to do <code>print $ids $nIds</code>, in which case perl thinks that <code>$ids</code> is supposed to be a filehandle, and you get an error such as <code>print to unopened filehandle</code>.
</li>
</ol>
<p><strong>Explanations</strong></p>
<p>1: Should not happen. It <em>might</em> happen if you do something like this (assuming you are not using <code>strict</code>):</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb197-1"><a href="#cb197-1"></a><span class="kw">my</span> <span class="dt">$var</span>;</span>
<span id="cb197-2"><a href="#cb197-2"></a><span class="kw">while</span> (&lt;&gt;) {</span>
<span id="cb197-3"><a href="#cb197-3"></a>    <span class="dt">$Var</span> .= <span class="dt">$_</span>;</span>
<span id="cb197-4"><a href="#cb197-4"></a>}</span>
<span id="cb197-5"><a href="#cb197-5"></a><span class="fu">print</span> <span class="dt">$var</span>;</span></code></pre></div>
<p>Gives the warning for undefined value, because <code>$Var</code> and <code>$var</code> are two different variables.</p>
<p>2: Might happen, if you do something like this:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb198-1"><a href="#cb198-1"></a><span class="kw">if</span> (<span class="dt">$something</span>) {</span>
<span id="cb198-2"><a href="#cb198-2"></a>    <span class="kw">my</span> <span class="dt">$var</span> = <span class="kw">&quot;</span><span class="st">something happened!</span><span class="kw">&quot;</span>;</span>
<span id="cb198-3"><a href="#cb198-3"></a>}</span>
<span id="cb198-4"><a href="#cb198-4"></a><span class="fu">print</span> <span class="dt">$var</span>;</span></code></pre></div>
<p><code>my</code> declares the variable inside the current block. Outside the block, it is out of scope.</p>
<p>3: Simple enough, common mistake, easily fixed. Easier to spot with <code>use warnings</code>.</p>
<p>4: Also a common mistake. There are a number of ways to correctly print two variables in the same <code>print</code> statement:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb199-1"><a href="#cb199-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$var1</span><span class="st"> </span><span class="dt">$var2</span><span class="kw">&quot;</span>;  <span class="co"># concatenation inside a double quoted string</span></span>
<span id="cb199-2"><a href="#cb199-2"></a><span class="fu">print</span> <span class="dt">$var1</span> . <span class="dt">$var2</span>;  <span class="co"># concatenation</span></span>
<span id="cb199-3"><a href="#cb199-3"></a><span class="fu">print</span> <span class="dt">$var1</span>, <span class="dt">$var2</span>;   <span class="co"># supplying print with a list of args</span></span></code></pre></div>
<hr>
<p>Lastly, some perl magic tips for you:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb200-1"><a href="#cb200-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb200-2"><a href="#cb200-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb200-3"><a href="#cb200-3"></a></span>
<span id="cb200-4"><a href="#cb200-4"></a><span class="co"># open with explicit direction &#39;&lt;&#39;, check the return value</span></span>
<span id="cb200-5"><a href="#cb200-5"></a><span class="co"># to make sure open succeeded. Using a lexical filehandle.</span></span>
<span id="cb200-6"><a href="#cb200-6"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$fh</span>, <span class="kw">&#39;</span><span class="st">&lt;</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">file.txt</span><span class="kw">&#39;</span> <span class="kw">or</span> <span class="fu">die</span> <span class="dt">$!</span>;</span>
<span id="cb200-7"><a href="#cb200-7"></a></span>
<span id="cb200-8"><a href="#cb200-8"></a><span class="co"># read the whole file into an array and</span></span>
<span id="cb200-9"><a href="#cb200-9"></a><span class="co"># chomp all the lines at once</span></span>
<span id="cb200-10"><a href="#cb200-10"></a><span class="fu">chomp</span>(<span class="kw">my</span> <span class="dt">@file</span> = &lt;<span class="dt">$fh</span>&gt;);</span>
<span id="cb200-11"><a href="#cb200-11"></a><span class="fu">close</span> <span class="dt">$fh</span>;</span>
<span id="cb200-12"><a href="#cb200-12"></a></span>
<span id="cb200-13"><a href="#cb200-13"></a><span class="kw">my</span> <span class="dt">$ids</span>  = <span class="fu">join</span>(<span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="dt">@file</span>);</span>
<span id="cb200-14"><a href="#cb200-14"></a><span class="kw">my</span> <span class="dt">$nIds</span> = <span class="fu">scalar</span> <span class="dt">@file</span>;</span>
<span id="cb200-15"><a href="#cb200-15"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Number of lines: </span><span class="dt">$nIds</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb200-16"><a href="#cb200-16"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Text:</span><span class="ch">\n</span><span class="dt">$ids</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Reading the whole file into an array is suitable for small files only, otherwise it uses a lot of memory. Usually, line-by-line is preferred.</p>
<p>Variations:</p>
<ul>
<li>
<code>print "@file"</code> is equivalent to <code>$ids = join(' ',@file); print $ids;</code>
</li>
<li>
<code>$#file</code> will return the last index in <code>@file</code>. Since arrays usually start at 0, <code>$#file + 1</code> is equivalent to <code>scalar @file</code>.
</li>
</ul>
<p>You can also do:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb201-1"><a href="#cb201-1"></a><span class="kw">my</span> <span class="dt">$ids</span>;</span>
<span id="cb201-2"><a href="#cb201-2"></a><span class="kw">do</span> {</span>
<span id="cb201-3"><a href="#cb201-3"></a>    <span class="kw">local</span> <span class="dt">$/</span>;</span>
<span id="cb201-4"><a href="#cb201-4"></a>    <span class="dt">$ids</span> = &lt;<span class="dt">$fh</span>&gt;;</span>
<span id="cb201-5"><a href="#cb201-5"></a>}</span></code></pre></div>
<p>By temporarily “turning off” <code>$/</code>, the input record separator, i.e. newline, you will make <code>&amp;lt;$fh&amp;gt;</code> return the entire file. What <code>&amp;lt;$fh&amp;gt;</code> really does is read until it finds <code>$/</code>, then return that string. Note that this will preserve the newlines in <code>$ids</code>.</p>
<p>Line-by-line solution:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb202-1"><a href="#cb202-1"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$fh</span>, <span class="kw">&#39;</span><span class="st">&lt;</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">file.txt</span><span class="kw">&#39;</span> <span class="kw">or</span> <span class="fu">die</span> <span class="dt">$!</span>; <span class="co"># btw, $! contains the most recent error</span></span>
<span id="cb202-2"><a href="#cb202-2"></a><span class="kw">my</span> <span class="dt">$ids</span>;</span>
<span id="cb202-3"><a href="#cb202-3"></a><span class="kw">while</span> (&lt;<span class="dt">$fh</span>&gt;) {</span>
<span id="cb202-4"><a href="#cb202-4"></a>    <span class="fu">chomp</span>;</span>
<span id="cb202-5"><a href="#cb202-5"></a>    <span class="dt">$ids</span> .= <span class="kw">&quot;</span><span class="dt">$_</span><span class="st"> </span><span class="kw">&quot;</span>; <span class="co"># concatenate with string</span></span>
<span id="cb202-6"><a href="#cb202-6"></a>}</span>
<span id="cb202-7"><a href="#cb202-7"></a><span class="kw">my</span> <span class="dt">$nIds</span> = <span class="dt">$.</span>; <span class="co"># $. is Current line number for the last filehandle accessed.</span></span></code></pre></div>
</section>
<section id="answer-3-score-9-2" class="level4">
<h4>Answer 3 (score 9)</h4>
<blockquote>
How do I print out my $ids and $nIds?
</blockquote>
<div class="sourceCode" id="cb203"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb203-1"><a href="#cb203-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$ids</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb203-2"><a href="#cb203-2"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$nIds</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<blockquote>
I tried simply <code>print $ids</code>, but Perl complains.
</blockquote>
<p>Complains about what? Uninitialised value? Perhaps your loop was never entered due to an error opening the file. Be sure to check if <code>open</code> returned an error, and make sure you are using <code>use strict; use warnings;</code>.</p>
<blockquote>
<code>my ($ids, $nIds)</code> is a list, right? With two elements?
</blockquote>
<p>It’s a (very special) function call. <code>$ids,$nIds</code> is a list with two elements.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-best-way-to-delete-a-value-from-an-array-in-perl-score-144303-in-2014" class="level3">
<h3>43: What is the best way to delete a value from an array in Perl? (score <a href="https://stackoverflow.com/q/174292.html">144303</a> in 2014)</h3>
<section id="question-41" class="level4">
<h4>Question</h4>
<p>The array has lots of data and I need to delete two elements.</p>
<p>Below is the code snippet I am using,</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb204-1"><a href="#cb204-1"></a><span class="kw">my</span> <span class="dt">@array</span> = (<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">9</span>);</span>
<span id="cb204-2"><a href="#cb204-2"></a><span class="kw">my</span> <span class="dt">$element_omitted</span> = <span class="dv">5</span>;</span>
<span id="cb204-3"><a href="#cb204-3"></a><span class="dt">@array</span> = <span class="fu">grep</span> { <span class="dt">$_</span> != <span class="dt">$element_omitted</span> } <span class="dt">@array</span>;</span></code></pre></div>
</section>
<section id="answer-accepted-score-85" class="level4">
<h4>Answer accepted (score 85)</h4>
<p>Use splice if you already know the index of the element you want to delete.</p>
<p>Grep works if you are searching.</p>
<p>If you need to do a lot of these, you will get much better performance if you keep your array in sorted order, since you can then do binary search to find the necessary index.</p>
<p>If it makes sense in your context, you may want to consider using a “magic value” for deleted records, rather then deleting them, to save on data movement – set deleted elements to undef, for example. Naturally, this has its own issues (if you need to know the number of “live” elements, you need to keep track of it separately, etc), but may be worth the trouble depending on your application.</p>
<p><strong>Edit</strong> Actually now that I take a second look – don’t use the grep code above. It would be more efficient to find the index of the element you want to delete, then use splice to delete it (the code you have accumulates all the non-matching results..)</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb205-1"><a href="#cb205-1"></a><span class="kw">my</span> <span class="dt">$index</span> = <span class="dv">0</span>;</span>
<span id="cb205-2"><a href="#cb205-2"></a><span class="dt">$index</span>++ <span class="kw">until</span> <span class="dt">$arr</span>[<span class="dt">$index</span>] <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">foo</span><span class="kw">&#39;</span>;</span>
<span id="cb205-3"><a href="#cb205-3"></a><span class="fu">splice</span>(<span class="dt">@arr</span>, <span class="dt">$index</span>, <span class="dv">1</span>);</span></code></pre></div>
<p>
That will delete the first occurrence. Deleting all occurrences is very similar, except you will want to get all indexes in one pass:
</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb206-1"><a href="#cb206-1"></a><span class="kw">my</span> <span class="dt">@del_indexes</span> = <span class="fu">grep</span> { <span class="dt">$arr</span>[<span class="dt">$_</span>] <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">foo</span><span class="kw">&#39;</span> } <span class="dv">0</span>..<span class="dt">$#arr</span>;</span></code></pre></div>
<p>The rest is left as an excercise for the reader – remember that the array changes as you splice it!</p>
<p><strong>Edit2</strong> John Siracusa correctly pointed out I had a bug in my example.. fixed, sorry about that.</p>
</section>
<section id="answer-2-score-13" class="level4">
<h4>Answer 2 (score 13)</h4>
<p><a href="http://www.perlmonks.org/?node=perlfunc%3Asplice" rel="noreferrer">splice</a> will remove array element(s) by index. Use grep, as in your example, to search and remove.</p>
</section>
<section id="answer-3-score-8-2" class="level4">
<h4>Answer 3 (score 8)</h4>
<p>Is this something you are going to be doing a lot? If so, you may want to consider a different data structure. Grep is going to search the entire array every time and for a large array could be quite costly. If speed is an issue then you may want to consider using a Hash instead.</p>
<p>In your example, the key would be the number and the value would be the count of elements of that number.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-is-perls-inc-constructed-aka-what-are-all-the-ways-of-affecting-where-perl-modules-are-searched-for-score-141297-in-2017" class="level3">
<h3>44: How is Perl’s <span class="citation" data-cites="INC">@INC</span> constructed? (aka What are all the ways of affecting where Perl modules are searched for?) (score <a href="https://stackoverflow.com/q/2526804.html">141297</a> in 2017)</h3>
<section id="question-42" class="level4">
<h4>Question</h4>
<p>
What are all the ways of affecting where Perl modules are searched for? or, <strong>How is Perl’s <span class="citation" data-cites="INC">@INC</span> constructed</strong>?
</p>
<p>As we know, <a href="https://stackoverflow.com/questions/2526520/how-does-a-perl-program-know-where-to-find-the-file-containing-perl-module-it-use">Perl uses <code>@INC</code> array containing directory names to determine where to search for Perl module files</a>.</p>
<p>There does not seem to be a comprehensive “<span class="citation" data-cites="INC">@INC</span>” FAQ-type post on StackOverflow, so this question is intended as one.</p>
</section>
<section id="answer-accepted-score-252" class="level4">
<h4>Answer accepted (score 252)</h4>
<p>We will look at how the contents of this array are constructed and can be manipulated to affect where the Perl interpreter will find the module files.</p>
<ol>
<li>
<p>
Default <code>@INC</code>
</p>
<p>Perl interpreter is <a href="http://search.cpan.org/perldoc/INSTALL" rel="noreferrer">compiled with a specific <code>@INC</code> default value</a>. To find out this value, run <code>env -i perl -V</code> command (<code>env -i</code> ignores the <code>PERL5LIB</code> environmental variable - see #2) and in the output you will see something like this:</p>
<blockquote>
<div class="sourceCode" id="cb207"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb207-1"><a href="#cb207-1"></a>$ env -i perl -V</span>
<span id="cb207-2"><a href="#cb207-2"></a>...</span>
<span id="cb207-3"><a href="#cb207-3"></a><span class="dt">@INC</span>:</span>
<span id="cb207-4"><a href="#cb207-4"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/site_perl/<span class="fl">5.18</span>.<span class="dv">0</span>/x86_<span class="dv">64</span>-linux-thread-multi-ld</span>
<span id="cb207-5"><a href="#cb207-5"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/site_perl/<span class="fl">5.18</span>.<span class="dv">0</span></span>
<span id="cb207-6"><a href="#cb207-6"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/<span class="fl">5.18</span>.<span class="dv">0</span>/x86_<span class="dv">64</span>-linux-thread-multi-ld</span>
<span id="cb207-7"><a href="#cb207-7"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/<span class="fl">5.18</span>.<span class="dv">0</span></span>
<span id="cb207-8"><a href="#cb207-8"></a> .</span></code></pre></div>
</blockquote>
</li>
</ol>
<p>Note <code>.</code> at the end; this is the current directory (which is not necessarily the same as the script’s directory). It is missing in Perl 5.26+, and when Perl runs with <a href="http://perldoc.perl.org/perlrun.html#*-T*" rel="noreferrer"><code>-T</code> (taint checks enabled)</a>.</p>
<p>To change the default path when configuring Perl binary compilation, set the configuration option <a href="http://search.cpan.org/perldoc?INSTALL#otherlibdirs" rel="noreferrer"><code>otherlibdirs</code></a>:</p>
<blockquote>
<code>Configure -Dotherlibdirs=/usr/lib/perl5/site_perl/5.16.3</code>
</blockquote>
<ol start="2">
<li>
<p>
Environmental variable <code>PERL5LIB</code> (or <code>PERLLIB</code>)
</p>
<p>Perl pre-pends <code>@INC</code> with a list of directories (colon-separated) contained in <code>PERL5LIB</code> (if it is not defined, <code>PERLLIB</code> is used) environment variable of your shell. To see the contents of <code>@INC</code> after <code>PERL5LIB</code> and <code>PERLLIB</code> environment variables have taken effect, run <code>perl -V</code>.</p>
<blockquote>
<div class="sourceCode" id="cb208"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb208-1"><a href="#cb208-1"></a>$ perl -V</span>
<span id="cb208-2"><a href="#cb208-2"></a>...</span>
<span id="cb208-3"><a href="#cb208-3"></a><span class="dt">%ENV</span>:</span>
<span id="cb208-4"><a href="#cb208-4"></a>  PERL5LIB=<span class="kw">&quot;</span><span class="st">/home/myuser/test</span><span class="kw">&quot;</span></span>
<span id="cb208-5"><a href="#cb208-5"></a><span class="dt">@INC</span>:</span>
<span id="cb208-6"><a href="#cb208-6"></a> <span class="kw">/</span><span class="ot">home</span><span class="kw">/m</span>yuser/test</span>
<span id="cb208-7"><a href="#cb208-7"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/site_perl/<span class="fl">5.18</span>.<span class="dv">0</span>/x86_<span class="dv">64</span>-linux-thread-multi-ld</span>
<span id="cb208-8"><a href="#cb208-8"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/site_perl/<span class="fl">5.18</span>.<span class="dv">0</span></span>
<span id="cb208-9"><a href="#cb208-9"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/<span class="fl">5.18</span>.<span class="dv">0</span>/x86_<span class="dv">64</span>-linux-thread-multi-ld</span>
<span id="cb208-10"><a href="#cb208-10"></a> <span class="kw">/</span><span class="ot">usr</span><span class="kw">/</span>lib/perl5/<span class="fl">5.18</span>.<span class="dv">0</span></span>
<span id="cb208-11"><a href="#cb208-11"></a> .</span></code></pre></div>
</blockquote>
</li>
<li>
<p>
<code>-I</code> command-line option
</p>
<p>Perl pre-pends <code>@INC</code> with a list of directories (colon-separated) passed as value of the <code>-I</code> command-line option. This can be done in three ways, as usual with Perl options:</p>
<ul>
<li>
<p>
Pass it on command line:
</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb209-1"><a href="#cb209-1"></a>perl -I /<span class="kw">my/</span><span class="ot">moduledir your_script.pl</span></span>
<span id="cb209-2"><a href="#cb209-2"></a><span class="ot">```&lt;</span><span class="kw">/</span>li&gt;</span>
<span id="cb209-3"><a href="#cb209-3"></a>&lt;li&gt;&lt;p&gt;Pass it via the first line (shebang) of your Perl script:&lt;/p&gt;</span>
<span id="cb209-4"><a href="#cb209-4"></a></span>
<span id="cb209-5"><a href="#cb209-5"></a><span class="kw">```</span><span class="st">perl</span></span>
<span id="cb209-6"><a href="#cb209-6"></a><span class="st">#!/usr/local/bin/perl -w -I /my/moduledir</span></span>
<span id="cb209-7"><a href="#cb209-7"></a><span class="kw">```</span>&lt;/li&gt;</span>
<span id="cb209-8"><a href="#cb209-8"></a>&lt;li&gt;&lt;p&gt;Pass it as part of <span class="kw">`</span><span class="st">PERL5OPT</span><span class="kw">`</span> (<span class="kw">or</span> <span class="kw">`</span><span class="st">PERLOPT</span><span class="kw">`</span>) environment variable (see chapter <span class="fl">19.02</span> in &lt;a href=<span class="kw">&quot;</span><span class="st">http://oreilly.com/catalog/9780596004927</span><span class="kw">&quot;</span> rel=<span class="kw">&quot;</span><span class="st">noreferrer</span><span class="kw">&quot;</span>&gt;Programming Perl&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;</span>
<span id="cb209-9"><a href="#cb209-9"></a>&lt;/ul&gt;&lt;/li&gt;</span>
<span id="cb209-10"><a href="#cb209-10"></a>&lt;li&gt;&lt;p&gt;Pass it via the &lt;a href=<span class="kw">&quot;</span><span class="st">http://perldoc.perl.org/lib.html</span><span class="kw">&quot;</span> rel=<span class="kw">&quot;</span><span class="st">noreferrer</span><span class="kw">&quot;</span>&gt;<span class="kw">`</span><span class="st">lib</span><span class="kw">`</span> pragma&lt;/a&gt;&lt;/p&gt;</span>
<span id="cb209-11"><a href="#cb209-11"></a></span>
<span id="cb209-12"><a href="#cb209-12"></a>Perl pre-pends <span class="kw">`</span><span class="dt">@INC</span><span class="kw">`</span> with a list of directories passed in to it via <span class="kw">`</span><span class="st">use lib</span><span class="kw">`</span>.  </span>
<span id="cb209-13"><a href="#cb209-13"></a></span>
<span id="cb209-14"><a href="#cb209-14"></a>In a program:  </span>
<span id="cb209-15"><a href="#cb209-15"></a></span>
<span id="cb209-16"><a href="#cb209-16"></a><span class="kw">```</span><span class="st">perl</span></span>
<span id="cb209-17"><a href="#cb209-17"></a><span class="st">use lib (&quot;/dir1&quot;, &quot;/dir2&quot;);</span></span></code></pre></div>
<p>On the command line:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb210-1"><a href="#cb210-1"></a>perl -Mlib=<span class="kw">/</span><span class="ot">dir1,</span><span class="kw">/</span>dir2</span></code></pre></div>
You can also <a href="http://perldoc.perl.org/lib.html#Deleting-directories-from-@INC" rel="noreferrer">remove the directories from <code>@INC</code> via <code>no lib</code></a>.
</li>
<li>
<p>
You can directly manipulate <code>@INC</code> as a regular Perl array.
</p>
<p>Note: Since <code>@INC</code> is used during the compilation phase, this must be done inside of a <code>BEGIN {}</code> block, which precedes the <code>use MyModule</code> statement.</p>
<ul>
<li>
<p>
Add directories to the beginning via <code>unshift @INC, $dir</code>.
</p>
</li>
<li>
<p>
Add directories to the end via <code>push @INC, $dir</code>.
</p>
</li>
<li>
<p>
Do anything else you can do with a Perl array.
</p>
</li>
</ul>
</li>
</ol>
<p>Note: The directories are <em>unshifted</em> onto <code>@INC</code> in the order listed in this answer, e.g. default <code>@INC</code> is last in the list, preceded by <code>PERL5LIB</code>, preceded by <code>-I</code>, preceded by <code>use lib</code> and direct <code>@INC</code> manipulation, the latter two mixed in whichever order they are in Perl code.</p>
<h5>
References:
</h3>
<ul>
<li>
<a href="http://perldoc.perl.org/perlmod.html#Perl-Modules" rel="noreferrer">perldoc perlmod</a>
</li>
<li>
<a href="http://perldoc.perl.org/lib.html" rel="noreferrer">perldoc lib</a>
</li>
<li>
<a href="http://world.std.com/~swmcd/steven/perl/module_mechanics.html" rel="noreferrer">Perl Module Mechanics - a great guide containing practical HOW-TOs</a>
</li>
<li>
<a href="https://stackoverflow.com/questions/185114/how-do-i-use-a-perl-module-in-a-directory-not-in-inc">How do I ‘use’ a Perl module in a directory not in <code>@INC</code>?</a>
</li>
<li>
<a href="https://rads.stackoverflow.com/amzn/click/com/0596000278" rel="noreferrer" rel="nofollow noreferrer">Programming Perl</a> - chapter 31 part 13, ch 7.2.41
</li>
<li>
<a href="https://stackoverflow.com/questions/2526520/how-does-a-perl-program-know-where-to-find-the-file-containing-perl-module-it-use">How does a Perl program know where to find the file containing Perl module it uses?</a>
</li>
</ul>
<p>There does not seem to be a comprehensive <code>@INC</code> FAQ-type post on Stack Overflow, so this question is intended as one.</p>
<h5>
When to use each approach?
</h3>
<ul>
<li>
<p>
If the modules in a directory need to be used by many/all scripts on your site, especially run by multiple users, that directory should be included in the default <code>@INC</code> compiled into the Perl binary.
</p>
</li>
<li>
<p>
If the modules in the directory will be used exclusively by a specific user for all the scripts that user runs (or if recompiling Perl is not an option to change default <code>@INC</code> in previous use case), set the users’ <code>PERL5LIB</code>, usually during user login.
</p>
<em>Note: Please be aware of the usual Unix environment variable pitfalls - e.g. in certain cases running the scripts as a particular user does not guarantee running them with that user’s environment set up, e.g. via <code>su</code>.</em>
</li>
<li>
<p>
If the modules in the directory need to be used only in specific circumstances (e.g. when the script(s) is executed in development/debug mode, you can either set <code>PERL5LIB</code> manually, or pass the <code>-I</code> option to perl.
</p>
</li>
<li>
<p>
If the modules need to be used only for specific scripts, by <em>all</em> users using them, use <code>use lib</code>/<code>no lib</code> pragmas in the program itself. It also should be used when the directory to be searched needs to be dynamically determined during runtime - e.g. from the script’s command line parameters or script’s path (see the <a href="http://p3rl.org/FindBin" rel="noreferrer">FindBin</a> module for very nice use case).
</p>
</li>
<li>
<p>
If the directories in <code>@INC</code> need to be manipulated according to some complicated logic, either impossible to too unwieldy to implement by combination of <code>use lib</code>/<code>no lib</code> pragmas, then use direct <code>@INC</code> manipulation inside <code>BEGIN {}</code> block or inside a special purpose library designated for <code>@INC</code> manipulation, which must be used by your script(s) before any other modules are used.
</p>
<p>
An example of this is automatically switching between libraries in prod/uat/dev directories, with waterfall library pickup in prod if it’s missing from dev and/or UAT (the last condition makes the standard “use lib + FindBin” solution fairly complicated. A detailed illustration of this scenario is in <a href="https://stackoverflow.com/questions/2474588/how-do-i-use-beta-perl-modules-from-beta-perl-scripts"><em>How do I use beta Perl modules from beta Perl scripts?</em></a>.
</p>
</li>
<li>
<p>
An additional use case for directly manipulating <code>@INC</code> is to be able to add subroutine references or object references (yes, Virginia, <code>@INC</code> can contain custom Perl code and not just directory names, as explained in <a href="https://stackoverflow.com/questions/2541119/when-is-a-subroutine-reference-in-inc-called"><em>When is a subroutine reference in <span class="citation" data-cites="INC">@INC</span> called?</em></a>).
</p>
</li>
</ul>
</section>
<section id="answer-2-score-17" class="level4">
<h4>Answer 2 (score 17)</h4>
<p>In addition to the locations listed above, the OS X version of Perl also has two more ways:</p>
<ol start="6">
<li>
<p>
The /Library/Perl/x.xx/AppendToPath file. Paths listed in this file are appended to <span class="citation" data-cites="INC">@INC</span> at runtime.
</p>
</li>
<li>
<p>
The /Library/Perl/x.xx/PrependToPath file. Paths listed in this file are prepended to <span class="citation" data-cites="INC">@INC</span> at runtime.
</p>
</li>
</ol>
</section>
<section id="answer-3-score-6" class="level4">
<h4>Answer 3 (score 6)</h4>
<p>As it was said already <span class="citation" data-cites="INC">@INC</span> is an array and you’re free to add anything you want.</p>
<p>My CGI REST script looks like:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb211-1"><a href="#cb211-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb211-2"><a href="#cb211-2"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb211-3"><a href="#cb211-3"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb211-4"><a href="#cb211-4"></a><span class="kw">BEGIN</span> {</span>
<span id="cb211-5"><a href="#cb211-5"></a>    <span class="fu">push</span> <span class="dt">@INC</span>, <span class="kw">&#39;</span><span class="st">fully_qualified_path_to_module_wiht_our_REST.pm</span><span class="kw">&#39;</span>;</span>
<span id="cb211-6"><a href="#cb211-6"></a>}</span>
<span id="cb211-7"><a href="#cb211-7"></a><span class="fu">use</span> <span class="fu">Modules::Rest</span>;</span>
<span id="cb211-8"><a href="#cb211-8"></a>gone(<span class="dt">@_</span>);</span></code></pre></div>
<p>Subroutine gone is exported by Rest.pm.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-meaning-of-_-in-perl-score-140281-in-2010" class="level3">
<h3>45: What is the meaning of <span class="citation" data-cites="_">@_</span> in Perl? (score <a href="https://stackoverflow.com/q/4563485.html">140281</a> in 2010)</h3>
<section id="question-43" class="level4">
<h4>Question</h4>
<p>What is the meaning of <code>@_</code> in Perl?</p>
</section>
<section id="answer-accepted-score-114" class="level4">
<h4>Answer accepted (score 114)</h4>
<p><a href="http://perldoc.perl.org/perlvar.html#@ARG" rel="noreferrer">perldoc perlvar</a> is the first place to check for any special-named Perl variable info.</p>
<p>Quoting:</p>
<blockquote>
<code>@_</code>: Within a subroutine the array <code>@_</code> contains the parameters passed to that subroutine.
</blockquote>
<p>More details can be found in <a href="http://perldoc.perl.org/perlsub.html" rel="noreferrer">perldoc perlsub (Perl subroutines)</a> linked from the perlvar:</p>
<blockquote>
<p>
Any arguments passed in show up in the array <code>@_</code> .
</p>
<p>
Therefore, if you called a function with two arguments, those would be stored in <code>$_[0]</code> and <code>$_[1]</code>.
</p>
<p>
The array <code>@_</code> is a <strong>local array</strong>, but its elements are <strong>aliases for the actual scalar parameters</strong>. In particular, if an element $_[0] is updated, the corresponding argument is updated (or an error occurs if it is not updatable).
</p>
<p>
If an argument is an array or hash element which did not exist when the function was called, that element is created only when (and if) it is modified or a reference to it is taken. (Some earlier versions of Perl created the element whether or not the element was assigned to.) Assigning to the whole array <span class="citation" data-cites="_">@_</span> removes that aliasing, and does not update any arguments.
</p>
</blockquote>
</section>
<section id="answer-2-score-25" class="level4">
<h4>Answer 2 (score 25)</h4>
<p>Usually, you expand the parameters passed to a <em>sub</em> using the <code>@_</code> variable:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb212-1"><a href="#cb212-1"></a><span class="kw">sub </span><span class="fu">test</span>{</span>
<span id="cb212-2"><a href="#cb212-2"></a>  <span class="kw">my</span> (<span class="dt">$a</span>, <span class="dt">$b</span>, <span class="dt">$c</span>) = <span class="dt">@_</span>;</span>
<span id="cb212-3"><a href="#cb212-3"></a>  ...</span>
<span id="cb212-4"><a href="#cb212-4"></a>}</span>
<span id="cb212-5"><a href="#cb212-5"></a></span>
<span id="cb212-6"><a href="#cb212-6"></a><span class="co"># call the test sub with the parameters</span></span>
<span id="cb212-7"><a href="#cb212-7"></a>test(<span class="kw">&#39;</span><span class="st">alice</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">bob</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">charlie</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>That’s the way claimed to be correct by <a href="http://www.perlcritic.org/" rel="noreferrer">perlcritic</a>.</p>
</section>
<section id="answer-3-score-10" class="level4">
<h4>Answer 3 (score 10)</h4>
<p>The question was what <code>@_</code> <em>means</em> in Perl. The answer to that question is that, insofar as <code>$_</code> means <strong>it</strong> in Perl, <code>@_</code> similarly means <strong>they</strong>.</p>
<p>No one seems to have mentioned this critical aspect of <em>its</em> meaning — as well as <em>theirs</em>.</p>
<p>They’re consequently both used as pronouns, or sometimes as topicalizers.</p>
<p>They typically have nominal antecedents, although not always.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="submit-form-and-stay-on-same-page-score-139638-in" class="level3">
<h3>46: Submit form and stay on same page? (score <a href="https://stackoverflow.com/q/5733808.html">139638</a> in )</h3>
<section id="question-44" class="level4">
<h4>Question</h4>
<p>I have a form that looks like this</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb213-1"><a href="#cb213-1"></a>&lt;form action=<span class="kw">&quot;</span><span class="st">receiver.pl</span><span class="kw">&quot;</span> method=<span class="kw">&quot;</span><span class="st">post</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb213-2"><a href="#cb213-2"></a>  &lt;input name=<span class="kw">&quot;</span><span class="st">signed</span><span class="kw">&quot;</span> type=<span class="kw">&quot;</span><span class="st">checkbox</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb213-3"><a href="#cb213-3"></a>  &lt;input value=<span class="kw">&quot;</span><span class="st">Save</span><span class="kw">&quot;</span> type=<span class="kw">&quot;</span><span class="st">submit</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb213-4"><a href="#cb213-4"></a>&lt;/form&gt;</span></code></pre></div>
<p>and I would like to stay on the same page, when Submit is clicked, but still have <code>receiver.pl</code> executed.</p>
<p>How should that be done?</p>
</section>
<section id="answer-accepted-score-63" class="level4">
<h4>Answer accepted (score 63)</h4>
<p>The easiest answer: jQuery. Do something like this:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb214-1"><a href="#cb214-1"></a><span class="dt">$(document</span>).ready(function(){</span>
<span id="cb214-2"><a href="#cb214-2"></a>   var <span class="dt">$form</span> = <span class="dt">$(</span><span class="kw">&#39;</span><span class="dt">form</span><span class="kw">&#39;</span>);</span>
<span id="cb214-3"><a href="#cb214-3"></a>   <span class="dt">$form</span>.submit(function(){</span>
<span id="cb214-4"><a href="#cb214-4"></a>      <span class="dt">$.post</span>(<span class="dt">$(this</span>).attr(<span class="kw">&#39;</span><span class="st">action</span><span class="kw">&#39;</span>), <span class="dt">$(this</span>).serialize(), function(response){</span>
<span id="cb214-5"><a href="#cb214-5"></a>            // <span class="kw">do</span> something here on success</span>
<span id="cb214-6"><a href="#cb214-6"></a>      },<span class="kw">&#39;</span><span class="st">json</span><span class="kw">&#39;</span>);</span>
<span id="cb214-7"><a href="#cb214-7"></a>      <span class="kw">return</span> false;</span>
<span id="cb214-8"><a href="#cb214-8"></a>   });</span>
<span id="cb214-9"><a href="#cb214-9"></a>});</span></code></pre></div>
<p>If you want to add content dynamically and still need it to work, and also with more than one form, you can do this:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb215-1"><a href="#cb215-1"></a>   <span class="dt">$(</span><span class="kw">&#39;</span><span class="dt">form</span><span class="kw">&#39;</span>).live(<span class="kw">&#39;</span><span class="st">submit</span><span class="kw">&#39;</span>, function(){</span>
<span id="cb215-2"><a href="#cb215-2"></a>      <span class="dt">$.post</span>(<span class="dt">$(this</span>).attr(<span class="kw">&#39;</span><span class="st">action</span><span class="kw">&#39;</span>), <span class="dt">$(this</span>).serialize(), function(response){</span>
<span id="cb215-3"><a href="#cb215-3"></a>            // <span class="kw">do</span> something here on success</span>
<span id="cb215-4"><a href="#cb215-4"></a>      },<span class="kw">&#39;</span><span class="st">json</span><span class="kw">&#39;</span>);</span>
<span id="cb215-5"><a href="#cb215-5"></a>      <span class="kw">return</span> false;</span>
<span id="cb215-6"><a href="#cb215-6"></a>   });</span></code></pre></div>
</section>
<section id="answer-2-score-63" class="level4">
<h4>Answer 2 (score 63)</h4>
<p>99% of the time I would use <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest" rel="noreferrer">XMLHttpRequest</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" rel="noreferrer">fetch</a> for something like this. However, there’s an alternative solution which doesn’t require javascript…</p>
<p>You could include a hidden iframe on your page and set the target attribute of your form to point to that iframe.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb216-1"><a href="#cb216-1"></a>&lt;style&gt;</span>
<span id="cb216-2"><a href="#cb216-2"></a>  .hide { position:absolute; top:-1px; left:-1px; width:1px; height:1px; }</span>
<span id="cb216-3"><a href="#cb216-3"></a>&lt;/style&gt;</span>
<span id="cb216-4"><a href="#cb216-4"></a></span>
<span id="cb216-5"><a href="#cb216-5"></a>&lt;iframe name=<span class="kw">&quot;</span><span class="st">hiddenFrame</span><span class="kw">&quot;</span> class=<span class="kw">&quot;</span><span class="st">hide</span><span class="kw">&quot;</span>&gt;&lt;/iframe&gt;</span>
<span id="cb216-6"><a href="#cb216-6"></a></span>
<span id="cb216-7"><a href="#cb216-7"></a>&lt;form action=<span class="kw">&quot;</span><span class="st">receiver.pl</span><span class="kw">&quot;</span> method=<span class="kw">&quot;</span><span class="st">post</span><span class="kw">&quot;</span> target=<span class="kw">&quot;</span><span class="st">hiddenFrame</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb216-8"><a href="#cb216-8"></a>  &lt;input name=<span class="kw">&quot;</span><span class="st">signed</span><span class="kw">&quot;</span> type=<span class="kw">&quot;</span><span class="st">checkbox</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb216-9"><a href="#cb216-9"></a>  &lt;input value=<span class="kw">&quot;</span><span class="st">Save</span><span class="kw">&quot;</span> type=<span class="kw">&quot;</span><span class="st">submit</span><span class="kw">&quot;</span>&gt;</span>
<span id="cb216-10"><a href="#cb216-10"></a>&lt;/form&gt;</span></code></pre></div>
<p>There are very few scenarios where I would choose this route. Generally handling it with javascript is better because, with javascript you can…</p>
<ul>
<li>
gracefully handle errors (e.g. retry)
</li>
<li>
provide UI indicators (e.g. loading, processing, success, failure)
</li>
<li>
run logic before the request is sent, or run logic after the response is received.
</li>
</ul>
</section>
<section id="answer-3-score-35-1" class="level4">
<h4>Answer 3 (score 35)</h4>
<p>The HTTP/CGI way to do this would be for your program to return an HTTP status code of 204 (No Content).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="todays-date-in-perl-in-mmddyyyy-format-score-138594-in-2012" class="level3">
<h3>47: Today’s Date in Perl in MM/DD/YYYY format (score <a href="https://stackoverflow.com/q/11020812.html">138594</a> in 2012)</h3>
<section id="question-45" class="level4">
<h4>Question</h4>
<p>I’m working on a Perl program at work and stuck on (what I think is) a trivial problem. I simply need to build a string in the format ‘06/13/2012’ (always 10 characters, so 0’s for numbers less than 10).</p>
<p>Here’s what I have so far:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb217-1"><a href="#cb217-1"></a><span class="fu">use</span> <span class="fu">Time::localtime</span>;</span>
<span id="cb217-2"><a href="#cb217-2"></a><span class="dt">$tm</span>=<span class="fu">localtime</span>;</span>
<span id="cb217-3"><a href="#cb217-3"></a><span class="kw">my</span> (<span class="dt">$day</span>,<span class="dt">$month</span>,<span class="dt">$year</span>)=(<span class="dt">$tm</span>-&gt;<span class="dt">mday</span>,<span class="dt">$tm</span>-&gt;<span class="dt">month</span>,<span class="dt">$tm</span>-&gt;<span class="dt">year</span>);</span></code></pre></div>
</section>
<section id="answer-accepted-score-56" class="level4">
<h4>Answer accepted (score 56)</h4>
<p>You can do it fast, only using one <a href="http://p3rl.org/POSIX" rel="noreferrer">POSIX</a> function. If you have bunch of tasks with dates, see the module <a href="http://p3rl.org/DateTime" rel="noreferrer">DateTime</a>.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb218-1"><a href="#cb218-1"></a><span class="fu">use</span> POSIX <span class="kw">qw(</span>strftime<span class="kw">)</span>;</span>
<span id="cb218-2"><a href="#cb218-2"></a></span>
<span id="cb218-3"><a href="#cb218-3"></a><span class="kw">my</span> <span class="dt">$date</span> = strftime <span class="kw">&quot;</span><span class="dt">%m</span><span class="st">/</span><span class="dt">%d</span><span class="st">/</span><span class="dt">%Y</span><span class="kw">&quot;</span>, <span class="fu">localtime</span>;</span>
<span id="cb218-4"><a href="#cb218-4"></a><span class="fu">print</span> <span class="dt">$date</span>;</span></code></pre></div>
</section>
<section id="answer-2-score-54-1" class="level4">
<h4>Answer 2 (score 54)</h4>
<p>You can use <a href="https://metacpan.org/module/Time::Piece" rel="noreferrer"><code>Time::Piece</code></a>, which shouldn’t need installing as it is a core module and has been distributed with Perl 5 since version 10.</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb219-1"><a href="#cb219-1"></a><span class="fu">use</span> <span class="fu">Time::Piece</span>;</span>
<span id="cb219-2"><a href="#cb219-2"></a></span>
<span id="cb219-3"><a href="#cb219-3"></a><span class="kw">my</span> <span class="dt">$date</span> = <span class="fu">localtime</span>-&gt;strftime(<span class="kw">&#39;</span><span class="st">%m/%d/%Y</span><span class="kw">&#39;</span>);</span>
<span id="cb219-4"><a href="#cb219-4"></a><span class="fu">print</span> <span class="dt">$date</span>;</span></code></pre></div>
<p><strong>output</strong></p>
<div class="sourceCode" id="cb220"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb220-1"><a href="#cb220-1"></a><span class="bn">06</span>/<span class="dv">13</span>/<span class="dv">2012</span></span></code></pre></div>
<h5>
<br/>
</h2>
<h5>
Update
</h3>
<p>You may prefer to use the <code>dmy</code> method, which takes a single parameter which is the separator to be used between the fields of the result, and avoids having to specify a full date/time format</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb221-1"><a href="#cb221-1"></a><span class="kw">my</span> <span class="dt">$date</span> = <span class="fu">localtime</span>-&gt;dmy(<span class="kw">&#39;</span><span class="st">/</span><span class="kw">&#39;</span>);</span></code></pre></div>
<p>This produces an identical result to that of my original solution</p>
</section>
<section id="answer-3-score-12-1" class="level4">
<h4>Answer 3 (score 12)</h4>
<div class="sourceCode" id="cb222"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb222-1"><a href="#cb222-1"></a><span class="fu">use</span> DateTime <span class="kw">qw()</span>;</span>
<span id="cb222-2"><a href="#cb222-2"></a>DateTime-&gt;now-&gt;strftime(<span class="kw">&#39;</span><span class="st">%m/%d/%Y</span><span class="kw">&#39;</span>)   </span></code></pre></div>
<p>expression returns <code>06/13/2012</code></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-include-a-perl-module-thats-in-a-different-directory-score-138552-in-2016" class="level3">
<h3>48: How do I include a Perl module that’s in a different directory? (score <a href="https://stackoverflow.com/q/841785.html">138552</a> in 2016)</h3>
<section id="question-46" class="level4">
<h4>Question</h4>
<p>How do I include a Perl module that’s in a different directory? It needs to be a relative path from the module that’s including it.</p>
<p>I’ve tried</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb223-1"><a href="#cb223-1"></a><span class="fu">push</span> ( <span class="dt">@INC</span>,<span class="kw">&quot;</span><span class="st">directory_path/more_path</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>also</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb224-1"><a href="#cb224-1"></a><span class="fu">push</span> ( <span class="dt">@INC</span>,<span class="kw">&quot;</span><span class="st">directory_path\\more_path</span><span class="kw">&quot;</span>);</span></code></pre></div>
</section>
<section id="answer-accepted-score-68" class="level4">
<h4>Answer accepted (score 68)</h4>
<p>EDIT: Putting the right solution first, originally from <a href="https://stackoverflow.com/questions/185114/how-do-i-use-a-perl-module-in-a-directory-not-in-inc">this question</a>. It’s the only one that searches relative to the <strong>module</strong> directory:</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb225-1"><a href="#cb225-1"></a><span class="fu">use</span> FindBin;                 <span class="co"># locate this script</span></span>
<span id="cb225-2"><a href="#cb225-2"></a><span class="fu">use</span> lib <span class="kw">&quot;</span><span class="dt">$FindBin</span>::<span class="dt">Bin</span><span class="st">/..</span><span class="kw">&quot;</span>;  <span class="co"># use the parent directory</span></span>
<span id="cb225-3"><a href="#cb225-3"></a><span class="fu">use</span> yourlib;</span></code></pre></div>
<p>There’s many other ways that search for libraries relative to the <strong>current</strong> directory. You can invoke perl with the -I argument, passing the directory of the other module:</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb226-1"><a href="#cb226-1"></a>perl -I.. yourscript.pl</span></code></pre></div>
<p>You can include a line near the top of your perl script:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb227-1"><a href="#cb227-1"></a><span class="fu">use</span> lib <span class="kw">&#39;</span><span class="st">..</span><span class="kw">&#39;</span>;</span></code></pre></div>
<p>You can modify the environment variable PERL5LIB before you run the script:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb228-1"><a href="#cb228-1"></a>export PERL5LIB=<span class="dt">$PERL5LIB</span>:..</span></code></pre></div>
<p>The push(<span class="citation" data-cites="INC">@INC</span>) strategy can also work, but it has to be wrapped in BEGIN{} to make sure that the push is run before the module search:</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb229-1"><a href="#cb229-1"></a><span class="kw">BEGIN</span> {<span class="fu">push</span> <span class="dt">@INC</span>, <span class="kw">&#39;</span><span class="st">..</span><span class="kw">&#39;</span>}</span>
<span id="cb229-2"><a href="#cb229-2"></a><span class="fu">use</span> yourlib;</span></code></pre></div>
</section>
<section id="answer-2-score-14" class="level4">
<h4>Answer 2 (score 14)</h4>
<p>Most likely the reason your push did not work is order of execution.</p>
<p><code>use</code> is a compile time directive. You <code>push</code> is done at execution time:</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb230-1"><a href="#cb230-1"></a><span class="fu">push</span> ( <span class="dt">@INC</span>,<span class="kw">&quot;</span><span class="st">directory_path/more_path</span><span class="kw">&quot;</span>);</span>
<span id="cb230-2"><a href="#cb230-2"></a><span class="fu">use</span> Foo.pm;  <span class="co"># In directory path/more_path</span></span></code></pre></div>
<p>You can use a BEGIN block to get around this problem:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb231-1"><a href="#cb231-1"></a><span class="kw">BEGIN</span> {</span>
<span id="cb231-2"><a href="#cb231-2"></a>    <span class="fu">push</span> ( <span class="dt">@INC</span>,<span class="kw">&quot;</span><span class="st">directory_path/more_path</span><span class="kw">&quot;</span>);</span>
<span id="cb231-3"><a href="#cb231-3"></a>}</span>
<span id="cb231-4"><a href="#cb231-4"></a><span class="fu">use</span> Foo.pm;  <span class="co"># In directory path/more_path</span></span></code></pre></div>
<p>IMO, it’s clearest, and therefore best to <code>use lib</code>:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb232-1"><a href="#cb232-1"></a><span class="fu">use</span> lib <span class="kw">&quot;</span><span class="st">directory_path/more_path</span><span class="kw">&quot;</span>;</span>
<span id="cb232-2"><a href="#cb232-2"></a><span class="fu">use</span> Foo.pm;  <span class="co"># In directory path/more_path</span></span></code></pre></div>
<p>See <a href="http://perldoc.perl.org/perlmod.html#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END" rel="nofollow noreferrer">perlmod</a> for information about BEGIN and other special blocks and when they execute.</p>
<p><strong>Edit</strong></p>
<p>For loading code relative to your script/library, I strongly endorse <a href="https://metacpan.org/pod/File::FindLib" rel="nofollow noreferrer">File::FindLib</a></p>
<p>You can say <code>use File::FindLib 'my/test/libs';</code> to look for a library directory anywhere above your script in the path.</p>
<p>Say your work is structured like this:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb233-1"><a href="#cb233-1"></a>   <span class="kw">/</span><span class="ot">home</span><span class="kw">/m</span>e/projects/</span>
<span id="cb233-2"><a href="#cb233-2"></a>    |- shared/</span>
<span id="cb233-3"><a href="#cb233-3"></a>    |   |- bin/</span>
<span id="cb233-4"><a href="#cb233-4"></a>    |   <span class="kw">`</span><span class="st">- lib/</span></span>
<span id="cb233-5"><a href="#cb233-5"></a><span class="st">    </span><span class="kw">`</span>- ossum-thing/</span>
<span id="cb233-6"><a href="#cb233-6"></a>       <span class="kw">`</span><span class="st">- scripts </span></span>
<span id="cb233-7"><a href="#cb233-7"></a><span class="st">           |- bin/</span></span>
<span id="cb233-8"><a href="#cb233-8"></a><span class="st">           </span><span class="kw">`</span>- lib/</span></code></pre></div>
<p>Inside a script in <code>ossum-thing/scripts/bin</code>:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb234-1"><a href="#cb234-1"></a><span class="fu">use</span> <span class="fu">File::FindLib</span> <span class="kw">&#39;</span><span class="st">lib/</span><span class="kw">&#39;</span>;</span>
<span id="cb234-2"><a href="#cb234-2"></a><span class="fu">use</span> <span class="fu">File::FindLib</span> <span class="kw">&#39;</span><span class="st">shared/lib/</span><span class="kw">&#39;</span>;</span></code></pre></div>
<p>Will find your library directories and add them to your <code>@INC</code>.</p>
<p>It’s also useful to create a module that contains all the environment set-up needed to run your suite of tools and just load it in all the executables in your project.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb235-1"><a href="#cb235-1"></a><span class="fu">use</span> <span class="fu">File::FindLib</span> <span class="kw">&#39;</span><span class="st">lib/MyEnvironment.pm</span><span class="kw">&#39;</span></span></code></pre></div>
</section>
<section id="answer-3-score-10-1" class="level4">
<h4>Answer 3 (score 10)</h4>
<p>‘use lib’ can also take a single string value…</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb236-1"><a href="#cb236-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb236-2"><a href="#cb236-2"></a><span class="fu">use</span> lib <span class="kw">&#39;</span><span class="st">&lt;relative-path&gt;</span><span class="kw">&#39;</span>;</span>
<span id="cb236-3"><a href="#cb236-3"></a><span class="fu">use</span> &lt;your lib&gt;;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="find-everything-between-two-xml-tags-with-regex-score-137341-in-2018" class="level3">
<h3>49: Find everything between two XML tags with RegEx (score <a href="https://stackoverflow.com/q/13241615.html">137341</a> in 2018)</h3>
<section id="question-47" class="level4">
<h4>Question</h4>
<p>In <code>RegEx</code>, I want to find the tag and everything between two <code>XML tags</code>, like the following:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb237-1"><a href="#cb237-1"></a>&lt;primaryAddress&gt;</span>
<span id="cb237-2"><a href="#cb237-2"></a>    &lt;addressLine&gt;<span class="dv">280</span> Flinders Mall&lt;/addressLine&gt;</span>
<span id="cb237-3"><a href="#cb237-3"></a>    &lt;geoCodeGranularity&gt;PROPERTY&lt;/geoCodeGranularity&gt;</span>
<span id="cb237-4"><a href="#cb237-4"></a>    &lt;latitude&gt;-<span class="fl">19.261365</span>&lt;/latitude&gt;</span>
<span id="cb237-5"><a href="#cb237-5"></a>    &lt;longitude&gt;<span class="fl">146.815585</span>&lt;/longitude&gt;</span>
<span id="cb237-6"><a href="#cb237-6"></a>    &lt;postcode&gt;<span class="dv">4810</span>&lt;/postcode&gt;</span>
<span id="cb237-7"><a href="#cb237-7"></a>    &lt;<span class="kw">state</span>&gt;QLD&lt;/<span class="kw">state</span>&gt;</span>
<span id="cb237-8"><a href="#cb237-8"></a>    &lt;suburb&gt;Townsville&lt;/suburb&gt;</span>
<span id="cb237-9"><a href="#cb237-9"></a>    &lt;type&gt;PHYSICAL&lt;/type&gt;</span>
<span id="cb237-10"><a href="#cb237-10"></a>&lt;/primaryAddress&gt;</span></code></pre></div>
<p>I want to find the tag and everything between <code>primaryAddress</code>, and erase that.</p>
<p>Everything between the <code>primaryAddress</code> tag is a variable, but I want to remove the entire tag and sub-tags whenever I get <code>primaryAddress</code>.</p>
<p>Anyone have any idea how to do that?</p>
</section>
<section id="answer-accepted-score-109" class="level4">
<h4>Answer accepted (score 109)</h4>
<h5>
It is not a good idea to use regex for HTML/XML parsing…
</h3>
<p>However, if you want to do it anyway, search for regex pattern</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb238-1"><a href="#cb238-1"></a>&lt;primaryAddress&gt;[\<span class="kw">s\</span><span class="ot">S]</span><span class="ch">*?</span><span class="ot">&lt;</span><span class="kw">\</span><span class="st">/primaryAddress&gt;</span></span></code></pre></div>
<p>and replace it with empty string…</p>
</section>
<section id="answer-2-score-15-1" class="level4">
<h4>Answer 2 (score 15)</h4>
<p>You should be able to match it with: <code>/&amp;lt;primaryAddress&amp;gt;(.+?)&amp;lt;\/primaryAddress&amp;gt;/</code></p>
<p>The content between the tags will be in the matched group.</p>
</section>
<section id="answer-3-score-6-1" class="level4">
<h4>Answer 3 (score 6)</h4>
<p>
<p>It is not good to use this method but if you really want to split it with regex</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb239-1"><a href="#cb239-1"></a>&lt;primaryAddress.<span class="dt">*&gt;</span>((.|\n)<span class="dt">*?</span>)&lt;\<span class="kw">/</span><span class="ot">primaryAddress&gt;</span></span></code></pre></div>
the verified answer returns the tags but this just return the value between tags.
</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="programmatically-read-from-stdin-or-input-file-in-perl-score-135677-in" class="level3">
<h3>50: Programmatically read from STDIN or input file in Perl (score <a href="https://stackoverflow.com/q/3138649.html">135677</a> in )</h3>
<section id="question-48" class="level4">
<h4>Question</h4>
<p>What is the slickest way to programatically read from stdin or an input file (if provided) in Perl?</p>
</section>
<section id="answer-accepted-score-81" class="level4">
<h4>Answer accepted (score 81)</h4>
<div class="sourceCode" id="cb240"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb240-1"><a href="#cb240-1"></a><span class="kw">while</span> (&lt;&gt;) {</span>
<span id="cb240-2"><a href="#cb240-2"></a><span class="fu">print</span>;</span>
<span id="cb240-3"><a href="#cb240-3"></a>}</span></code></pre></div>
<p>will read either from a file specified on the command line or from stdin if no file is given</p>
<p>If you are required this loop construction in command line, then you may use <a href="http://perldoc.perl.org/perlrun.html#*-n*" rel="noreferrer"><code>-n</code></a> option:</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb241-1"><a href="#cb241-1"></a>$ perl -<span class="kw">ne</span> <span class="kw">&#39;</span><span class="st">print;</span><span class="kw">&#39;</span></span></code></pre></div>
<p>Here you just put code between <code>{}</code> from first example into <code>''</code> in second</p>
</section>
<section id="answer-2-score-44" class="level4">
<h4>Answer 2 (score 44)</h4>
<p>This provides a named variable to work with:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb242-1"><a href="#cb242-1"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$line</span> ( <span class="kw">&lt;STDIN&gt;</span> ) {</span>
<span id="cb242-2"><a href="#cb242-2"></a>    <span class="fu">chomp</span>( <span class="dt">$line</span> );</span>
<span id="cb242-3"><a href="#cb242-3"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$line</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb242-4"><a href="#cb242-4"></a>}</span></code></pre></div>
<p>To read a file, pipe it in like this:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb243-1"><a href="#cb243-1"></a>program.pl &lt; inputfile</span></code></pre></div>
</section>
<section id="answer-3-score-14-3" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>The “slickest” way in certain situations is to take advantage of the <a href="http://perldoc.perl.org/perlrun.html#Command-Switches"><code>-n</code> switch</a>. It implicitly wraps your code with a <code>while(&amp;lt;&amp;gt;)</code> loop and handles the input flexibly.</p>
<p>In <code>slickestWay.pl</code>:</p>
<pre>
#!/usr/bin/perl -n

BEGIN: {
  # do something once here
}

# implement logic for a single line of input
print $result;
</pre>
<p>At the command line:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb244-1"><a href="#cb244-1"></a><span class="fu">chmod</span> +x slickestWay.pl</span></code></pre></div>
<p>Now, depending on your input do one of the following:</p>
<ol>
<li>
<p>
Wait for user input
</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb245-1"><a href="#cb245-1"></a>.<span class="kw">/</span><span class="ot">slickestWay.pl</span></span>
<span id="cb245-2"><a href="#cb245-2"></a><span class="ot">```&lt;</span><span class="kw">/</span>li&gt;</span>
<span id="cb245-3"><a href="#cb245-3"></a>&lt;li&gt;&lt;p&gt;Read from file(s) named in arguments (<span class="fu">no</span> redirection required)&lt;/p&gt;</span>
<span id="cb245-4"><a href="#cb245-4"></a></span>
<span id="cb245-5"><a href="#cb245-5"></a><span class="kw">```</span><span class="st">perl</span></span>
<span id="cb245-6"><a href="#cb245-6"></a><span class="st">./slickestWay.pl input.txt</span></span>
<span id="cb245-7"><a href="#cb245-7"></a><span class="st">./slickestWay.pl input.txt moreInput.txt</span></span>
<span id="cb245-8"><a href="#cb245-8"></a><span class="kw">```</span>&lt;/li&gt;</span>
<span id="cb245-9"><a href="#cb245-9"></a>&lt;li&gt;&lt;p&gt;Use a <span class="fu">pipe</span>&lt;/p&gt;</span>
<span id="cb245-10"><a href="#cb245-10"></a></span>
<span id="cb245-11"><a href="#cb245-11"></a><span class="kw">```</span><span class="st">perl</span></span>
<span id="cb245-12"><a href="#cb245-12"></a><span class="st">someOtherScript | ./slickestWay.pl </span></span>
<span id="cb245-13"><a href="#cb245-13"></a><span class="kw">```</span>&lt;/li&gt;</span>
<span id="cb245-14"><a href="#cb245-14"></a>&lt;/ol&gt;</span>
<span id="cb245-15"><a href="#cb245-15"></a></span>
<span id="cb245-16"><a href="#cb245-16"></a>The <span class="kw">`</span><span class="st">BEGIN</span><span class="kw">`</span> block is necessary <span class="kw">if</span> you need to initialize some kind of object-oriented interface, such as <span class="fu">Text::CSV</span> <span class="kw">or</span> some such, which you can add to the shebang with <span class="kw">`</span><span class="st">-M</span><span class="kw">`</span>.  </span>
<span id="cb245-17"><a href="#cb245-17"></a></span>
<span id="cb245-18"><a href="#cb245-18"></a><span class="kw">`</span><span class="st">-l</span><span class="kw">`</span> <span class="kw">and</span> <span class="kw">`</span><span class="st">-p</span><span class="kw">`</span> are also your friends.  </span>
<span id="cb245-19"><a href="#cb245-19"></a></span>
<span id="cb245-20"><a href="#cb245-20"></a>&lt;/b&gt; &lt;/em&gt; &lt;/i&gt; &lt;/small&gt; &lt;/strong&gt; &lt;/<span class="kw">sub</span>&gt; &lt;/sup&gt;</span>
<span id="cb245-21"><a href="#cb245-21"></a></span>
<span id="cb245-22"><a href="#cb245-22"></a><span class="co">### 51: How can I quickly sum all numbers in a file? (score [134412](https://stackoverflow.com/q/2702564.html) in 2010)</span></span>
<span id="cb245-23"><a href="#cb245-23"></a></span>
<span id="cb245-24"><a href="#cb245-24"></a><span class="co">#### Question</span></span>
<span id="cb245-25"><a href="#cb245-25"></a>I have a file which contains several thousand numbers, <span class="kw">each</span> on it<span class="kw">&#39;</span><span class="st">s own line:  </span></span>
<span id="cb245-26"><a href="#cb245-26"></a></span>
<span id="cb245-27"><a href="#cb245-27"></a><span class="st">```perl</span></span>
<span id="cb245-28"><a href="#cb245-28"></a><span class="st">34</span></span>
<span id="cb245-29"><a href="#cb245-29"></a><span class="st">42</span></span>
<span id="cb245-30"><a href="#cb245-30"></a><span class="st">11</span></span>
<span id="cb245-31"><a href="#cb245-31"></a><span class="st">6</span></span>
<span id="cb245-32"><a href="#cb245-32"></a><span class="st">2</span></span>
<span id="cb245-33"><a href="#cb245-33"></a><span class="st">99</span></span>
<span id="cb245-34"><a href="#cb245-34"></a><span class="st">...</span></span></code></pre></div>
<p>I’m looking to write a script which will print the sum of all numbers in the file. I’ve got a solution, but it’s not very efficient. (It takes several minutes to run.) I’m looking for a more efficient solution. Any suggestions?</p>
</section>
<section id="answer-accepted-score-105" class="level4">
<h4>Answer accepted (score 105)</h4>
<p>For a Perl one-liner, it’s basically the same thing as the <code>awk</code> solution in <a href="https://stackoverflow.com/questions/2702564/script-to-sum-all-numbers-in-a-file-linux/2702577#2702577">Ayman Hourieh’s answer</a>:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb246-1"><a href="#cb246-1"></a> % perl -nle <span class="kw">&#39;</span><span class="st">$sum += $_ } END { print $sum</span><span class="kw">&#39;</span></span></code></pre></div>
<p>If you’re curious what Perl one-liners do, you can deparse them:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb247-1"><a href="#cb247-1"></a> %  perl -MO=Deparse -nle <span class="kw">&#39;</span><span class="st">$sum += $_ } END { print $sum</span><span class="kw">&#39;</span></span></code></pre></div>
<p>The result is a more verbose version of the program, in a form that no one would ever write on their own:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb248-1"><a href="#cb248-1"></a><span class="kw">BEGIN</span> { <span class="dt">$/</span> = <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>; <span class="dt">$\</span> = <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>; }</span>
<span id="cb248-2"><a href="#cb248-2"></a>LINE: <span class="kw">while</span> (<span class="fu">defined</span>(<span class="dt">$_</span> = <span class="kw">&lt;ARGV&gt;</span>)) {</span>
<span id="cb248-3"><a href="#cb248-3"></a>    <span class="fu">chomp</span> <span class="dt">$_</span>;</span>
<span id="cb248-4"><a href="#cb248-4"></a>    <span class="dt">$sum</span> += <span class="dt">$_</span>;</span>
<span id="cb248-5"><a href="#cb248-5"></a>}</span>
<span id="cb248-6"><a href="#cb248-6"></a><span class="kw">sub </span><span class="fu">END</span> {</span>
<span id="cb248-7"><a href="#cb248-7"></a>    <span class="fu">print</span> <span class="dt">$sum</span>;</span>
<span id="cb248-8"><a href="#cb248-8"></a>}</span>
<span id="cb248-9"><a href="#cb248-9"></a><span class="kw">-e</span> syntax OK</span></code></pre></div>
<p>Just for giggles, I tried this with a file containing 1,000,000 numbers (in the range 0 - 9,999). On my Mac Pro, it returns virtually instantaneously. That’s too bad, because I was hoping using <code>mmap</code> would be really fast, but it’s just the same time:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb249-1"><a href="#cb249-1"></a><span class="fu">use</span> <span class="fl">5.010</span>;</span>
<span id="cb249-2"><a href="#cb249-2"></a><span class="fu">use</span> <span class="fu">File::Map</span> <span class="kw">qw(</span>map_file<span class="kw">)</span>;</span>
<span id="cb249-3"><a href="#cb249-3"></a></span>
<span id="cb249-4"><a href="#cb249-4"></a>map_file <span class="kw">my</span> <span class="dt">$map</span>, <span class="dt">$ARGV</span>[<span class="dv">0</span>];</span>
<span id="cb249-5"><a href="#cb249-5"></a></span>
<span id="cb249-6"><a href="#cb249-6"></a><span class="dt">$sum</span> += <span class="dt">$1</span> <span class="kw">while</span> <span class="dt">$map</span> =~ <span class="kw">m/</span><span class="ch">(</span><span class="bn">\d</span><span class="ch">+)</span><span class="kw">/g</span>;</span>
<span id="cb249-7"><a href="#cb249-7"></a></span>
<span id="cb249-8"><a href="#cb249-8"></a>say <span class="dt">$sum</span>;</span></code></pre></div>
</section>
<section id="answer-2-score-348" class="level4">
<h4>Answer 2 (score 348)</h4>
<p>You can use awk:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb250-1"><a href="#cb250-1"></a>awk <span class="kw">&#39;</span><span class="st">{ sum += $1 } END { print sum }</span><span class="kw">&#39;</span> file</span></code></pre></div>
</section>
<section id="answer-3-score-91" class="level4">
<h4>Answer 3 (score 91)</h4>
<p>None of the solution thus far use <code>paste</code>. Here’s one:</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb251-1"><a href="#cb251-1"></a>paste -sd+ filename | bc</span></code></pre></div>
<p>As an example, calculate Σn where 1&lt;=n&lt;=100000:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb252-1"><a href="#cb252-1"></a>$ seq <span class="dv">100000</span> | paste -sd+ | bc <span class="kw">-l</span></span>
<span id="cb252-2"><a href="#cb252-2"></a><span class="dv">5000050000</span></span></code></pre></div>
<p>(For the curious, <code>seq n</code> would print a sequence of numbers from <code>1</code> to <code>n</code> given a positive number <code>n</code>.)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-does-1-mean-in-perl-score-133432-in-2009" class="level3">
<h3>52: What does $1 mean in Perl? (score <a href="https://stackoverflow.com/q/1036285.html">133432</a> in 2009)</h3>
<section id="question-49" class="level4">
<h4>Question</h4>
<p>
What does $1 mean in Perl? Further, what does $2 mean? How many $number variables are there?
</p>
</section>
<section id="answer-accepted-score-65" class="level4">
<h4>Answer accepted (score 65)</h4>
<p>The <code>$number</code> variables contain the parts of the string that matched the <em><a href="https://perldoc.perl.org/perlre.html#Capture-groups" rel="noreferrer">capture groups</a></em> <code>( ... )</code> in the pattern for your last regex match if the match was successful.</p>
<p>For example, take the following string:</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb253-1"><a href="#cb253-1"></a><span class="dt">$text</span> = <span class="kw">&quot;</span><span class="st">the quick brown fox jumps over the lazy dog.</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>After the statement</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb254-1"><a href="#cb254-1"></a><span class="dt">$text</span> =~ <span class="kw">m/</span><span class="ot"> </span><span class="ch">(</span><span class="ot">b.</span><span class="ch">+?)</span><span class="ot"> </span><span class="kw">/</span>;</span></code></pre></div>
<p><code>$1</code> equals the text “<code>brown</code>”.</p>
</section>
<section id="answer-2-score-35-1" class="level4">
<h4>Answer 2 (score 35)</h4>
<p>The number variables are the matches from the last <em>successful</em> match or substitution operator you applied:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb255-1"><a href="#cb255-1"></a><span class="kw">my</span> <span class="dt">$string</span> = <span class="kw">&#39;</span><span class="st">abcdefghi</span><span class="kw">&#39;</span>;</span>
<span id="cb255-2"><a href="#cb255-2"></a></span>
<span id="cb255-3"><a href="#cb255-3"></a><span class="kw">if</span>( <span class="dt">$string</span> =~ <span class="kw">/</span><span class="ch">(</span><span class="ot">abc</span><span class="ch">)</span><span class="ot">def</span><span class="ch">(</span><span class="ot">ghi</span><span class="ch">)</span><span class="kw">/</span> ) {</span>
<span id="cb255-4"><a href="#cb255-4"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">I found </span><span class="dt">$1</span><span class="st"> and </span><span class="dt">$2</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb255-5"><a href="#cb255-5"></a>    }</span></code></pre></div>
<p>Always test that the match or substitution was successful before using $1 and so on. Otherwise, you might pick up the leftovers from another operation.</p>
<p>Perl regular expressions are documented in <a href="http://perldoc.perl.org/perlre.html" rel="noreferrer">perlre</a>.</p>
</section>
<section id="answer-3-score-11" class="level4">
<h4>Answer 3 (score 11)</h4>
<p>$1, $2, etc will contain the value of captures from the last <strong>successful</strong> match - it’s important to check whether the match succeeded before accessing them, i.e. </p>
<div class="sourceCode" id="cb256"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb256-1"><a href="#cb256-1"></a> <span class="kw">if</span> ( <span class="dt">$var</span> =~ <span class="kw">m/</span><span class="ch">(</span><span class="ot"> </span><span class="ch">)</span><span class="kw">/</span> ) { <span class="co"># use $1 etc... }</span></span></code></pre></div>
<p>An example of the problem - $1 contains ‘Quick’ in both print statements below:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb257-1"><a href="#cb257-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb257-2"><a href="#cb257-2"></a></span>
<span id="cb257-3"><a href="#cb257-3"></a><span class="kw">&#39;</span><span class="st">Quick brown fox</span><span class="kw">&#39;</span> =~ <span class="kw">m{</span><span class="ot"> </span><span class="ch">(</span><span class="ot"> quick </span><span class="ch">)</span><span class="ot"> </span><span class="kw">}ix</span>;</span>
<span id="cb257-4"><a href="#cb257-4"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Found: </span><span class="dt">$1</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb257-5"><a href="#cb257-5"></a></span>
<span id="cb257-6"><a href="#cb257-6"></a><span class="kw">&#39;</span><span class="st">Lazy dog</span><span class="kw">&#39;</span> =~ <span class="kw">m{</span><span class="ot"> </span><span class="ch">(</span><span class="ot"> quick </span><span class="ch">)</span><span class="ot"> </span><span class="kw">}ix</span>;</span>
<span id="cb257-7"><a href="#cb257-7"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Found: </span><span class="dt">$1</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="quickly-getting-to-yyyy-mm-dd-hhmmss-in-perl-score-133065-in-2009" class="level3">
<h3>53: Quickly getting to YYYY-mm-dd HH:MM:SS in Perl (score <a href="https://stackoverflow.com/q/1814196.html">133065</a> in 2009)</h3>
<section id="question-50" class="level4">
<h4>Question</h4>
<p>When writing Perl scripts I frequently find the need to obtain the current time represented as a string formatted as <code>YYYY-mm-dd HH:MM:SS</code> (say <code>2009-11-29 14:28:29</code>).</p>
<p>In doing this I find myself taking this quite cumbersome path:</p>
<ul>
<li>
<code>man perlfunc</code>
</li>
<li>
<code>/localtime</code> to search for localtime - repeat five times (<code>/</code> + <code>\n</code>) to reach the relevant section of the manpage
</li>
<li>
Copy the string <code>($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime(time);</code> from the manpage to my script.
</li>
<li>
Try with <code>my $now = sprintf("%04d-%02d-%02d %02d:%02d:%02d", $year, $mon, $mday, $hour, $min, $sec);</code>
</li>
<li>
Remember gotcha #1: Must add 1900 to $year to get current year.
</li>
<li>
Try with <code>my $now = sprintf("%04d-%02d-%02d %02d:%02d:%02d", $year+1900, $mon, $mday, $hour, $min, $sec);</code>
</li>
<li>
Remember gotcha #2: Must add 1 to $mon to get current month.
</li>
<li>
Try with <code>my $now = sprintf("%04d-%02d-%02d %02d:%02d:%02d", $year+1900, $mon+1, $mday, $hour, $min, $sec);</code>
</li>
<li>
Seems ok. Done!
</li>
</ul>
<p>While the process outlined above works it is far from optimal. I’m sure there is a smarter way, so my question is simply:</p>
<p><b>What is the easiest way to obtain a <code>YYYY-mm-dd HH:MM:SS</code> of the current date/time in Perl?</b></p>
<p>Where “easy” encompasses both “easy-to-write” and “easy-to-remember”.</p>
</section>
<section id="answer-accepted-score-72-1" class="level4">
<h4>Answer accepted (score 72)</h4>
<p>Use <code>strftime</code> in the standard <a href="http://perldoc.perl.org/POSIX.html" rel="noreferrer"><code>POSIX</code></a> module. The arguments to <a href="https://perldoc.perl.org/POSIX.html#strftime" rel="noreferrer"><code>strftime</code></a> in Perl’s binding were designed to align with the return values from <a href="https://perldoc.perl.org/functions/localtime.html" rel="noreferrer"><code>localtime</code></a> and <a href="https://perldoc.perl.org/functions/gmtime.html" rel="noreferrer"><code>gmtime</code></a>. Compare</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb258-1"><a href="#cb258-1"></a>strftime(fmt, sec, min, hour, mday, mon, year, wday = <span class="dv">-1</span>, yday = <span class="dv">-1</span>, isdst = <span class="dv">-1</span>)</span></code></pre></div>
<p>with</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb259-1"><a href="#cb259-1"></a><span class="kw">my</span>          (<span class="dt">$sec</span>,<span class="dt">$min</span>,<span class="dt">$hour</span>,<span class="dt">$mday</span>,<span class="dt">$mon</span>,<span class="dt">$year</span>,<span class="dt">$wday</span>,     <span class="dt">$yday</span>,     <span class="dt">$isdst</span>) = <span class="fu">gmtime</span>(<span class="fu">time</span>);</span></code></pre></div>
<p>Example command-line use is</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb260-1"><a href="#cb260-1"></a>$ perl -MPOSIX -<span class="kw">le</span> <span class="kw">&#39;</span><span class="st">print strftime &quot;%F %T&quot;, localtime $^T</span><span class="kw">&#39;</span></span></code></pre></div>
<p>or from a source file as in</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb261-1"><a href="#cb261-1"></a><span class="fu">use</span> POSIX;</span>
<span id="cb261-2"><a href="#cb261-2"></a></span>
<span id="cb261-3"><a href="#cb261-3"></a><span class="fu">print</span> strftime <span class="kw">&quot;</span><span class="dt">%F</span><span class="st"> </span><span class="dt">%T</span><span class="kw">&quot;</span>, <span class="fu">localtime</span> <span class="fu">time</span>;</span></code></pre></div>
<p>Some systems do not support the <code>%F</code> and <code>%T</code> shorthands, so you will have to be explicit with</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb262-1"><a href="#cb262-1"></a><span class="fu">print</span> strftime <span class="kw">&quot;</span><span class="dt">%Y</span><span class="st">-</span><span class="dt">%m</span><span class="st">-</span><span class="dt">%d</span><span class="st"> </span><span class="dt">%H</span><span class="st">:</span><span class="dt">%M</span><span class="st">:</span><span class="dt">%S</span><span class="kw">&quot;</span>, <span class="fu">localtime</span> <span class="fu">time</span>;</span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb263-1"><a href="#cb263-1"></a><span class="fu">print</span> strftime <span class="kw">&quot;</span><span class="dt">%Y</span><span class="st">-</span><span class="dt">%m</span><span class="st">-</span><span class="dt">%d</span><span class="st"> </span><span class="dt">%H</span><span class="st">:</span><span class="dt">%M</span><span class="st">:</span><span class="dt">%S</span><span class="kw">&quot;</span>, <span class="fu">gmtime</span> <span class="fu">time</span>;</span></code></pre></div>
<p>Note that <a href="https://perldoc.perl.org/functions/time.html" rel="noreferrer"><code>time</code></a> returns the current time when called whereas <a href="https://perldoc.perl.org/perlvar.html#%24BASETIME" rel="noreferrer"><code>$^T</code></a> is fixed to the time when your program started. With <a href="https://perldoc.perl.org/functions/gmtime.html" rel="noreferrer"><code>gmtime</code></a>, the return value is the current time in GMT. Retrieve time in your local timezone with <a href="https://perldoc.perl.org/functions/localtime.html" rel="noreferrer"><code>localtime</code></a>.</p>
</section>
<section id="answer-2-score-32" class="level4">
<h4>Answer 2 (score 32)</h4>
<p>What not use the <code>DateTime</code> module to do the dirty work for you? It’s easy to write <em>and</em> remember!</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb264-1"><a href="#cb264-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb264-2"><a href="#cb264-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb264-3"><a href="#cb264-3"></a><span class="fu">use</span> DateTime;</span>
<span id="cb264-4"><a href="#cb264-4"></a></span>
<span id="cb264-5"><a href="#cb264-5"></a><span class="kw">my</span> <span class="dt">$dt</span>   = DateTime-&gt;now;   <span class="co"># Stores current date and time as datetime object</span></span>
<span id="cb264-6"><a href="#cb264-6"></a><span class="kw">my</span> <span class="dt">$date</span> = <span class="dt">$dt</span>-&gt;<span class="dt">ymd</span>;   <span class="co"># Retrieves date as a string in &#39;yyyy-mm-dd&#39; format</span></span>
<span id="cb264-7"><a href="#cb264-7"></a><span class="kw">my</span> <span class="dt">$time</span> = <span class="dt">$dt</span>-&gt;<span class="dt">hms</span>;   <span class="co"># Retrieves time as a string in &#39;hh:mm:ss&#39; format</span></span>
<span id="cb264-8"><a href="#cb264-8"></a></span>
<span id="cb264-9"><a href="#cb264-9"></a><span class="kw">my</span> <span class="dt">$wanted</span> = <span class="kw">&quot;</span><span class="dt">$date</span><span class="st"> </span><span class="dt">$time</span><span class="kw">&quot;</span>;   <span class="co"># creates &#39;yyyy-mm-dd hh:mm:ss&#39; string</span></span>
<span id="cb264-10"><a href="#cb264-10"></a><span class="fu">print</span> <span class="dt">$wanted</span>;</span></code></pre></div>
<p>Once you know what’s going on, you can get rid of the temps and save a few lines of code:</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb265-1"><a href="#cb265-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb265-2"><a href="#cb265-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb265-3"><a href="#cb265-3"></a><span class="fu">use</span> DateTime;</span>
<span id="cb265-4"><a href="#cb265-4"></a></span>
<span id="cb265-5"><a href="#cb265-5"></a><span class="kw">my</span> <span class="dt">$dt</span> = DateTime-&gt;now;</span>
<span id="cb265-6"><a href="#cb265-6"></a><span class="fu">print</span> <span class="fu">join</span> <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="dt">$dt</span>-&gt;<span class="dt">ymd</span>, <span class="dt">$dt</span>-&gt;<span class="dt">hms</span>;</span></code></pre></div>
</section>
<section id="answer-3-score-30" class="level4">
<h4>Answer 3 (score 30)</h4>
<p>Try this:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb266-1"><a href="#cb266-1"></a><span class="fu">use</span> POSIX <span class="kw">qw/</span>strftime<span class="kw">/</span>;</span>
<span id="cb266-2"><a href="#cb266-2"></a><span class="fu">print</span> strftime(<span class="kw">&#39;</span><span class="st">%Y-%m-%d</span><span class="kw">&#39;</span>,<span class="fu">localtime</span>);</span></code></pre></div>
<p>the <code>strftime</code> method does the job effectively for me. Very simple and efficient.</p>
<hr>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-get-a-files-last-modified-time-in-perl-score-131340-in" class="level3">
<h3>54: How do I get a file’s last modified time in Perl? (score <a href="https://stackoverflow.com/q/509576.html">131340</a> in )</h3>
<section id="question-51" class="level4">
<h4>Question</h4>
<p>Suppose I have a filehandle <code>$fh</code>. I can check its existence with <code>-e $fh</code> or its file size with <code>-s $fh</code> or <a href="http://perldoc.perl.org/functions/-X.html" rel="noreferrer" title="Perl -X operands">a slew of additional information about the file</a>. How can I get its last modified time stamp?</p>
</section>
<section id="answer-accepted-score-97" class="level4">
<h4>Answer accepted (score 97)</h4>
<p>You can use the built-in module <code>File::stat</code> (included as of Perl 5.004).</p>
<p>Calling <code>stat($fh)</code> returns an array with the following information about the file handle passed in (from the <a href="http://www.perl.com/doc/manual/html/pod/perlfunc/stat.html" rel="nofollow noreferrer">perlfunc man page for <code>stat</code></a>):</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb267-1"><a href="#cb267-1"></a>  <span class="dv">0</span> dev      device number of filesystem</span>
<span id="cb267-2"><a href="#cb267-2"></a>  <span class="dv">1</span> ino      inode number</span>
<span id="cb267-3"><a href="#cb267-3"></a>  <span class="dv">2</span> mode     file mode  (type <span class="kw">and</span> permissions)</span>
<span id="cb267-4"><a href="#cb267-4"></a>  <span class="dv">3</span> nlink    number of (hard) links to the file</span>
<span id="cb267-5"><a href="#cb267-5"></a>  <span class="dv">4</span> uid      numeric user ID of file<span class="kw">&#39;</span><span class="st">s owner</span></span>
<span id="cb267-6"><a href="#cb267-6"></a><span class="st">  5 gid      numeric group ID of file</span><span class="kw">&#39;</span>s owner</span>
<span id="cb267-7"><a href="#cb267-7"></a>  <span class="dv">6</span> rdev     the device identifier (special files only)</span>
<span id="cb267-8"><a href="#cb267-8"></a>  <span class="dv">7</span> size     total size of file, in <span class="kw">bytes</span></span>
<span id="cb267-9"><a href="#cb267-9"></a>  <span class="dv">8</span> atime    <span class="kw">last</span> access <span class="fu">time</span> since the epoch</span>
<span id="cb267-10"><a href="#cb267-10"></a>  <span class="dv">9</span> mtime    <span class="kw">last</span> modify <span class="fu">time</span> since the epoch</span>
<span id="cb267-11"><a href="#cb267-11"></a> <span class="dv">10</span> ctime    inode change <span class="fu">time</span> (NOT creation <span class="fu">time</span>!) since the epoch</span>
<span id="cb267-12"><a href="#cb267-12"></a> <span class="dv">11</span> blksize  preferred block size <span class="kw">for</span> file <span class="fu">system</span> I/O</span>
<span id="cb267-13"><a href="#cb267-13"></a> <span class="dv">12</span> blocks   actual number of blocks allocated</span></code></pre></div>
<p>Element number 9 in this array will give you the last modified time since the epoch (<em>00:00 January 1, 1970 GMT</em>). From that you can determine the local time:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb268-1"><a href="#cb268-1"></a><span class="kw">my</span> <span class="dt">$epoch_timestamp</span> = (<span class="fu">stat</span>(<span class="dt">$fh</span>))[<span class="dv">9</span>];</span>
<span id="cb268-2"><a href="#cb268-2"></a><span class="kw">my</span> <span class="dt">$timestamp</span>       = <span class="fu">localtime</span>(<span class="dt">$epoch_timestamp</span>);</span></code></pre></div>
<p>To avoid the <strong>magic number</strong> 9 needed in the previous example, additionally use <code>Time::localtime</code>, another built-in module (also included as of Perl 5.004). This requires some (arguably) more legible code:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb269-1"><a href="#cb269-1"></a><span class="fu">use</span> <span class="fu">File::stat</span>;</span>
<span id="cb269-2"><a href="#cb269-2"></a><span class="fu">use</span> <span class="fu">Time::localtime</span>;</span>
<span id="cb269-3"><a href="#cb269-3"></a><span class="kw">my</span> <span class="dt">$timestamp</span> = ctime(<span class="fu">stat</span>(<span class="dt">$fh</span>)-&gt;mtime);</span></code></pre></div>
</section>
<section id="answer-2-score-24-3" class="level4">
<h4>Answer 2 (score 24)</h4>
<p>Use the builtin <a href="http://perldoc.perl.org/functions/stat.html" rel="noreferrer">stat</a> function. Or more specifically:</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb270-1"><a href="#cb270-1"></a><span class="kw">my</span> <span class="dt">$modtime</span> = (<span class="fu">stat</span>(<span class="dt">$fh</span>))[<span class="dv">9</span>]</span></code></pre></div>
</section>
<section id="answer-3-score-18-2" class="level4">
<h4>Answer 3 (score 18)</h4>
<div class="sourceCode" id="cb271"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb271-1"><a href="#cb271-1"></a><span class="kw">my</span> <span class="dt">@array</span> = <span class="fu">stat</span>(<span class="dt">$filehandle</span>);</span></code></pre></div>
<p>The modification time is stored in Unix format in $array[9].</p>
<p>Or explicitly:</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb272-1"><a href="#cb272-1"></a><span class="kw">my</span> (<span class="dt">$dev</span>, <span class="dt">$ino</span>, <span class="dt">$mode</span>, <span class="dt">$nlink</span>, <span class="dt">$uid</span>, <span class="dt">$gid</span>, <span class="dt">$rdev</span>, <span class="dt">$size</span>,</span>
<span id="cb272-2"><a href="#cb272-2"></a>    <span class="dt">$atime</span>, <span class="dt">$mtime</span>, <span class="dt">$ctime</span>, <span class="dt">$blksize</span>, <span class="dt">$blocks</span>) = <span class="fu">stat</span>(<span class="dt">$filepath</span>);</span>
<span id="cb272-3"><a href="#cb272-3"></a></span>
<span id="cb272-4"><a href="#cb272-4"></a>  <span class="dv">0</span> dev      Device number of filesystem</span>
<span id="cb272-5"><a href="#cb272-5"></a>  <span class="dv">1</span> ino      inode number</span>
<span id="cb272-6"><a href="#cb272-6"></a>  <span class="dv">2</span> mode     File mode  (type <span class="kw">and</span> permissions)</span>
<span id="cb272-7"><a href="#cb272-7"></a>  <span class="dv">3</span> nlink    Number of (hard) links to the file</span>
<span id="cb272-8"><a href="#cb272-8"></a>  <span class="dv">4</span> uid      Numeric user ID of file<span class="kw">&#39;</span><span class="st">s owner</span></span>
<span id="cb272-9"><a href="#cb272-9"></a><span class="st">  5 gid      Numeric group ID of file</span><span class="kw">&#39;</span>s owner</span>
<span id="cb272-10"><a href="#cb272-10"></a>  <span class="dv">6</span> rdev     The device identifier (special files only)</span>
<span id="cb272-11"><a href="#cb272-11"></a>  <span class="dv">7</span> size     Total size of file, in <span class="kw">bytes</span></span>
<span id="cb272-12"><a href="#cb272-12"></a>  <span class="dv">8</span> atime    Last access <span class="fu">time</span> in seconds since the epoch</span>
<span id="cb272-13"><a href="#cb272-13"></a>  <span class="dv">9</span> mtime    Last modify <span class="fu">time</span> in seconds since the epoch</span>
<span id="cb272-14"><a href="#cb272-14"></a> <span class="dv">10</span> ctime    inode change <span class="fu">time</span> in seconds since the epoch</span>
<span id="cb272-15"><a href="#cb272-15"></a> <span class="dv">11</span> blksize  Preferred block size <span class="kw">for</span> file <span class="fu">system</span> I/O</span>
<span id="cb272-16"><a href="#cb272-16"></a> <span class="dv">12</span> blocks   Actual number of blocks allocated</span></code></pre></div>
<p>The epoch was at 00:00 January 1, 1970 GMT.</p>
<p>More information is in <em><a href="http://perldoc.perl.org/functions/stat.html" rel="nofollow noreferrer">stat</a></em>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="perl-regular-expression-using-a-variable-as-a-search-string-with-perl-operator-characters-included-score-131154-in-2018" class="level3">
<h3>55: Perl regular expression (using a variable as a search string with Perl operator characters included) (score <a href="https://stackoverflow.com/q/4616395.html">131154</a> in 2018)</h3>
<section id="question-52" class="level4">
<h4>Question</h4>
<div class="sourceCode" id="cb273"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb273-1"><a href="#cb273-1"></a><span class="dt">$text_to_search</span> = <span class="kw">&quot;</span><span class="st">example text with [foo] and more</span><span class="kw">&quot;</span>;</span>
<span id="cb273-2"><a href="#cb273-2"></a><span class="dt">$search_string</span> = <span class="kw">&quot;</span><span class="st">[foo]</span><span class="kw">&quot;</span>;</span>
<span id="cb273-3"><a href="#cb273-3"></a></span>
<span id="cb273-4"><a href="#cb273-4"></a><span class="kw">if</span> (<span class="dt">$text_to_search</span> =~ <span class="kw">m/</span><span class="dt">$search_string</span><span class="kw">/</span>)</span>
<span id="cb273-5"><a href="#cb273-5"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">wee</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Please observe the above code. For some reason I would like to find the text “[foo]” in the $text_to_search variable and print “wee” if I find it. To do this I would have to ensure that the [ and ] is substituted with [ and ] to make Perl treat it as characters instead of operators.</p>
<p>How can I do this without having to first replace <code>[</code> and <code>]</code> with <code>\[</code> and <code>\]</code> using a <code>s///</code> expression?</p>
</section>
<section id="answer-2-score-62" class="level4">
<h4>Answer 2 (score 62)</h4>
<p>Use <code>\Q</code> to autoescape any potentially problematic characters in your variable.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb274-1"><a href="#cb274-1"></a><span class="kw">if</span>(<span class="dt">$text_to_search</span> =~ <span class="kw">m/</span><span class="ch">\Q</span><span class="dt">$search_string</span><span class="kw">/</span>) <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">wee</span><span class="kw">&quot;</span>;</span></code></pre></div>
</section>
<section id="answer-3-score-46" class="level4">
<h4>Answer 3 (score 46)</h4>
<p>Use the <a href="http://perldoc.perl.org/functions/quotemeta.html" rel="noreferrer"><code>quotemeta</code></a> function:</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb275-1"><a href="#cb275-1"></a><span class="dt">$text_to_search</span> = <span class="kw">&quot;</span><span class="st">example text with [foo] and more</span><span class="kw">&quot;</span>;</span>
<span id="cb275-2"><a href="#cb275-2"></a><span class="dt">$search_string</span> = <span class="fu">quotemeta</span> <span class="kw">&quot;</span><span class="st">[foo]</span><span class="kw">&quot;</span>;</span>
<span id="cb275-3"><a href="#cb275-3"></a></span>
<span id="cb275-4"><a href="#cb275-4"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">wee</span><span class="kw">&quot;</span> <span class="kw">if</span> (<span class="dt">$text_to_search</span> =~ <span class="kw">/</span><span class="dt">$search_string</span><span class="kw">/</span>);</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="turning-multiple-lines-into-one-line-with-comma-separated-perlsedawk-score-126035-in" class="level3">
<h3>56: Turning multiple lines into one line with comma separated (Perl/Sed/AWK) (score <a href="https://stackoverflow.com/q/15758814.html">126035</a> in )</h3>
<section id="question-53" class="level4">
<h4>Question</h4>
<p>I have the following data in multiple lines:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb276-1"><a href="#cb276-1"></a>foo</span>
<span id="cb276-2"><a href="#cb276-2"></a>bar</span>
<span id="cb276-3"><a href="#cb276-3"></a>qux</span>
<span id="cb276-4"><a href="#cb276-4"></a>zuu</span>
<span id="cb276-5"><a href="#cb276-5"></a>sdf</span>
<span id="cb276-6"><a href="#cb276-6"></a>sdfasdf</span></code></pre></div>
<p>What I want to do is to convert them with one line and comma separated:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb277-1"><a href="#cb277-1"></a>foo,bar,qux,zuu,sdf,sdfasdf</span></code></pre></div>
<p>What’s the best unix one-liner to do that?</p>
</section>
<section id="answer-accepted-score-133" class="level4">
<h4>Answer accepted (score 133)</h4>
<p>Using paste command:</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb278-1"><a href="#cb278-1"></a>paste <span class="kw">-d</span>, <span class="kw">-s</span> file</span></code></pre></div>
</section>
<section id="answer-2-score-65" class="level4">
<h4>Answer 2 (score 65)</h4>
<h5>
file
</h3>
<div class="sourceCode" id="cb279"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb279-1"><a href="#cb279-1"></a>aaa</span>
<span id="cb279-2"><a href="#cb279-2"></a>bbb</span>
<span id="cb279-3"><a href="#cb279-3"></a>ccc</span>
<span id="cb279-4"><a href="#cb279-4"></a>ddd</span></code></pre></div>
<h5>
xargs
</h3>
<div class="sourceCode" id="cb280"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb280-1"><a href="#cb280-1"></a>cat file | xargs</span></code></pre></div>
<h5>
result
</h3>
<div class="sourceCode" id="cb281"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb281-1"><a href="#cb281-1"></a>aaa bbb ccc ddd </span></code></pre></div>
<h5>
xargs improoved
</h3>
<div class="sourceCode" id="cb282"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb282-1"><a href="#cb282-1"></a>cat file | xargs | sed <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">s/ /,/g</span><span class="kw">&#39;</span></span></code></pre></div>
<h5>
result
</h3>
<div class="sourceCode" id="cb283"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb283-1"><a href="#cb283-1"></a>aaa,bbb,ccc,ddd </span></code></pre></div>
</section>
<section id="answer-3-score-10-2" class="level4">
<h4>Answer 3 (score 10)</h4>
<p><code>xargs -a your_file | sed 's/ /,/g'</code></p>
<p>This is a shorter way.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="perl-function-to-trim-string-leading-and-trailing-whitespace-score-125433-in-2011" class="level3">
<h3>57: Perl: function to trim string leading and trailing whitespace (score <a href="https://stackoverflow.com/q/4597937.html">125433</a> in 2011)</h3>
<section id="question-54" class="level4">
<h4>Question</h4>
<p>Is there a built-in function to trim leading and trailing whitespace such that <code>trim(" hello world ") eq "hello world"</code>?</p>
</section>
<section id="answer-2-score-82" class="level4">
<h4>Answer 2 (score 82)</h4>
<p>Here’s one approach using a regular expression:</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb284-1"><a href="#cb284-1"></a><span class="dt">$string</span> =~ <span class="kw">s/</span><span class="ch">^</span><span class="bn">\s</span><span class="ch">+|</span><span class="bn">\s</span><span class="ch">+$</span><span class="kw">//g</span> ;     <span class="co"># remove both leading and trailing whitespace</span></span></code></pre></div>
<p>Perl 6 will include a trim function:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb285-1"><a href="#cb285-1"></a><span class="dt">$string</span> .= trim;</span></code></pre></div>
<p>Source: <a href="http://en.wikipedia.org/wiki/Trim_%28programming%29#Perl" rel="noreferrer">Wikipedia</a></p>
</section>
<section id="answer-3-score-81" class="level4">
<h4>Answer 3 (score 81)</h4>
<p>This is available in <a href="https://metacpan.org/pod/String::Util" rel="noreferrer">String::Util</a> with the <code>trim</code> method:</p>
<p><sup>Editor’s note: <code>String::Util</code> is not a core module, but you can install it from <a href="http://cpan.org" rel="noreferrer">CPAN</a> with <code>[sudo] cpan String::Util</code>.</sup></p>
<div class="sourceCode" id="cb286"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb286-1"><a href="#cb286-1"></a><span class="fu">use</span> <span class="fu">String::Util</span> <span class="kw">&#39;</span><span class="st">trim</span><span class="kw">&#39;</span>;</span>
<span id="cb286-2"><a href="#cb286-2"></a><span class="kw">my</span> <span class="dt">$str</span> = <span class="kw">&quot;</span><span class="st">  hello  </span><span class="kw">&quot;</span>;</span>
<span id="cb286-3"><a href="#cb286-3"></a><span class="dt">$str</span> = trim(<span class="dt">$str</span>);</span>
<span id="cb286-4"><a href="#cb286-4"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">string is now: &#39;</span><span class="dt">$str</span><span class="kw">&#39;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>prints:</p>
<blockquote>
string is now ‘hello’
</blockquote>
<p>However it is easy enough to do yourself:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb287-1"><a href="#cb287-1"></a><span class="dt">$str</span> =~ <span class="kw">s/</span><span class="ch">^</span><span class="bn">\s</span><span class="ch">+</span><span class="kw">//</span>;</span>
<span id="cb287-2"><a href="#cb287-2"></a><span class="dt">$str</span> =~ <span class="kw">s/</span><span class="bn">\s</span><span class="ch">+$</span><span class="kw">//</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-tell-if-a-variable-has-a-numeric-value-in-perl-score-125334-in-2009" class="level3">
<h3>58: How do I tell if a variable has a numeric value in Perl? (score <a href="https://stackoverflow.com/q/12647.html">125334</a> in 2009)</h3>
<section id="question-55" class="level4">
<h4>Question</h4>
<p>Is there a simple way in Perl that will allow me to determine if a given variable is numeric? Something along the lines of:</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb288-1"><a href="#cb288-1"></a><span class="kw">if</span> (is_number(<span class="dt">$x</span>))</span>
<span id="cb288-2"><a href="#cb288-2"></a>{ ... }</span></code></pre></div>
<p>would be ideal. A technique that won’t throw warnings when the <code>-w</code> switch is being used is certainly preferred.</p>
</section>
<section id="answer-accepted-score-122" class="level4">
<h4>Answer accepted (score 122)</h4>
<p>
Use <code>Scalar::Util::looks_like_number()</code> which uses the internal Perl C API’s looks_like_number() function, which is probably the most efficient way to do this. Note that the strings “inf” and “infinity” are treated as numbers.
</p>
<h5>
Example:
</h2>
<div class="sourceCode" id="cb289"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb289-1"><a href="#cb289-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb289-2"><a href="#cb289-2"></a></span>
<span id="cb289-3"><a href="#cb289-3"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb289-4"><a href="#cb289-4"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb289-5"><a href="#cb289-5"></a></span>
<span id="cb289-6"><a href="#cb289-6"></a><span class="fu">use</span> <span class="fu">Scalar::Util</span> <span class="kw">qw(</span>looks_like_number<span class="kw">)</span>;</span>
<span id="cb289-7"><a href="#cb289-7"></a></span>
<span id="cb289-8"><a href="#cb289-8"></a><span class="kw">my</span> <span class="dt">@exprs</span> = <span class="kw">qw(</span>1 5.25 0.001 1.3e8 foo bar 1dd inf infinity<span class="kw">)</span>;</span>
<span id="cb289-9"><a href="#cb289-9"></a></span>
<span id="cb289-10"><a href="#cb289-10"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$expr</span> (<span class="dt">@exprs</span>) {</span>
<span id="cb289-11"><a href="#cb289-11"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$expr</span><span class="st"> is</span><span class="kw">&quot;</span>, looks_like_number(<span class="dt">$expr</span>) ? <span class="kw">&#39;&#39;</span> : <span class="kw">&#39;</span><span class="st"> not</span><span class="kw">&#39;</span>, <span class="kw">&quot;</span><span class="st"> a number</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb289-12"><a href="#cb289-12"></a>}</span></code></pre></div>
<p>Gives this output:</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb290-1"><a href="#cb290-1"></a><span class="dv">1</span> is a number</span>
<span id="cb290-2"><a href="#cb290-2"></a><span class="fl">5.25</span> is a number</span>
<span id="cb290-3"><a href="#cb290-3"></a><span class="fl">0.001</span> is a number</span>
<span id="cb290-4"><a href="#cb290-4"></a><span class="fl">1.3e8</span> is a number</span>
<span id="cb290-5"><a href="#cb290-5"></a>foo is <span class="kw">not</span> a number</span>
<span id="cb290-6"><a href="#cb290-6"></a>bar is <span class="kw">not</span> a number</span>
<span id="cb290-7"><a href="#cb290-7"></a>1dd is <span class="kw">not</span> a number</span>
<span id="cb290-8"><a href="#cb290-8"></a>inf is a number</span>
<span id="cb290-9"><a href="#cb290-9"></a>infinity is a number</span></code></pre></div>
<h5>
See also:
</h2>
<ul>
<li>
<a href="http://perldoc.perl.org/Scalar/Util.html" rel="noreferrer">perldoc Scalar::Util</a>
</li>
<li>
<a href="http://perldoc.perl.org/perlapi.html#SV-Body-Allocation" rel="noreferrer">perldoc perlapi</a> for <code>looks_like_number</code>
</li>
</ul>
</section>
<section id="answer-2-score-23-1" class="level4">
<h4>Answer 2 (score 23)</h4>
<p>Check out the CPAN module <a href="http://search.cpan.org/dist/Regexp-Common" rel="noreferrer">Regexp::Common</a>. I think it does exactly what you need and handles all the edge cases (e.g. real numbers, scientific notation, etc). e.g. </p>
<div class="sourceCode" id="cb291"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb291-1"><a href="#cb291-1"></a><span class="fu">use</span> <span class="fu">Regexp::Common</span>;</span>
<span id="cb291-2"><a href="#cb291-2"></a><span class="kw">if</span> (<span class="dt">$var</span> =~ <span class="kw">/</span><span class="dt">$RE</span><span class="ot">{num}{real}</span><span class="kw">/</span>) { <span class="fu">print</span> <span class="kw">q{</span><span class="st">a number</span><span class="kw">}</span>; }</span></code></pre></div>
</section>
<section id="answer-3-score-22" class="level4">
<h4>Answer 3 (score 22)</h4>
<p>The original question was how to tell if a variable was numeric, not if it “has a numeric value”.</p>
<p>There are a few operators that have separate modes of operation for numeric and string operands, where “numeric” means anything that was originally a number or was ever used in a numeric context (e.g. in <code>$x = "123"; 0+$x</code>, before the addition, <code>$x</code> is a string, afterwards it is considered numeric).</p>
<p>One way to tell is this:</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb292-1"><a href="#cb292-1"></a><span class="kw">if</span> ( <span class="fu">length</span>( <span class="kw">do</span> { <span class="fu">no</span> <span class="kw">warnings</span> <span class="kw">&quot;</span><span class="st">numeric</span><span class="kw">&quot;</span>; <span class="dt">$x</span> &amp; <span class="kw">&quot;&quot;</span> } ) ) {</span>
<span id="cb292-2"><a href="#cb292-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$x</span><span class="st"> is numeric</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb292-3"><a href="#cb292-3"></a>}</span></code></pre></div>
<p>If the bitwise feature is enabled, that makes <code>&amp;amp;</code> only a numeric operator and adds a separate string <code>&amp;amp;.</code> operator, you must disable it:</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb293-1"><a href="#cb293-1"></a><span class="kw">if</span> ( <span class="fu">length</span>( <span class="kw">do</span> { <span class="fu">no</span> <span class="kw">if</span> <span class="dt">$]</span> &gt;= <span class="fl">5.022</span>, <span class="kw">&quot;</span><span class="st">feature</span><span class="kw">&quot;</span>, <span class="kw">&quot;</span><span class="st">bitwise</span><span class="kw">&quot;</span>; <span class="fu">no</span> <span class="kw">warnings</span> <span class="kw">&quot;</span><span class="st">numeric</span><span class="kw">&quot;</span>; <span class="dt">$x</span> &amp; <span class="kw">&quot;&quot;</span> } ) ) {</span>
<span id="cb293-2"><a href="#cb293-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$x</span><span class="st"> is numeric</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb293-3"><a href="#cb293-3"></a>}</span></code></pre></div>
<p>(bitwise is available in perl 5.022 and above, and enabled by default if you <code>use 5.028;</code> or above.)</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="match-whitespace-but-not-newlines-score-125061-in-2016" class="level3">
<h3>59: Match whitespace but not newlines (score <a href="https://stackoverflow.com/q/3469080.html">125061</a> in 2016)</h3>
<section id="question-56" class="level4">
<h4>Question</h4>
<p>I sometimes want to match whitespace but not newline.</p>
<p>So far I’ve been resorting to <code>[ \t]</code>. Is there a less awkward way?</p>
</section>
<section id="answer-accepted-score-162" class="level4">
<h4>Answer accepted (score 162)</h4>
<p>Perl versions 5.10 and later support subsidiary vertical and horizontal character classes, <code>\v</code> and <code>\h</code>, as well as the generic whitespace character class <code>\s</code></p>
<p>The cleanest solution is to use the <em>horizontal whitespace</em> character class <code>\h</code>. This will match tab and space from the ASCII set, non-breaking space from extended ASCII, or any of these Unicode characters</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb294-1"><a href="#cb294-1"></a>U+<span class="dv">0009</span> CHARACTER TABULATION</span>
<span id="cb294-2"><a href="#cb294-2"></a>U+<span class="dv">0020</span> SPACE</span>
<span id="cb294-3"><a href="#cb294-3"></a>U+00A0 NO-BREAK SPACE (<span class="kw">not</span> matched by \s)</span>
<span id="cb294-4"><a href="#cb294-4"></a></span>
<span id="cb294-5"><a href="#cb294-5"></a>U+<span class="dv">1680</span> OGHAM SPACE MARK</span>
<span id="cb294-6"><a href="#cb294-6"></a>U+<span class="dv">2000</span> EN QUAD</span>
<span id="cb294-7"><a href="#cb294-7"></a>U+<span class="dv">2001</span> EM QUAD</span>
<span id="cb294-8"><a href="#cb294-8"></a>U+<span class="dv">2002</span> EN SPACE</span>
<span id="cb294-9"><a href="#cb294-9"></a>U+<span class="dv">2003</span> EM SPACE</span>
<span id="cb294-10"><a href="#cb294-10"></a>U+<span class="dv">2004</span> THREE-PER-EM SPACE</span>
<span id="cb294-11"><a href="#cb294-11"></a>U+<span class="dv">2005</span> FOUR-PER-EM SPACE</span>
<span id="cb294-12"><a href="#cb294-12"></a>U+<span class="dv">2006</span> SIX-PER-EM SPACE</span>
<span id="cb294-13"><a href="#cb294-13"></a>U+<span class="dv">2007</span> FIGURE SPACE</span>
<span id="cb294-14"><a href="#cb294-14"></a>U+<span class="dv">2008</span> PUNCTUATION SPACE</span>
<span id="cb294-15"><a href="#cb294-15"></a>U+<span class="dv">2009</span> THIN SPACE</span>
<span id="cb294-16"><a href="#cb294-16"></a>U+200A HAIR SPACE</span>
<span id="cb294-17"><a href="#cb294-17"></a>U+202F NARROW NO-BREAK SPACE</span>
<span id="cb294-18"><a href="#cb294-18"></a>U+205F MEDIUM MATHEMATICAL SPACE</span>
<span id="cb294-19"><a href="#cb294-19"></a>U+<span class="dv">3000</span> IDEOGRAPHIC SPACE</span></code></pre></div>
<p>The <em>vertical space</em> pattern <code>\v</code> is less useful, but matches these characters</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb295-1"><a href="#cb295-1"></a>U+000A LINE FEED</span>
<span id="cb295-2"><a href="#cb295-2"></a>U+000B LINE TABULATION</span>
<span id="cb295-3"><a href="#cb295-3"></a>U+000C FORM FEED</span>
<span id="cb295-4"><a href="#cb295-4"></a>U+000D CARRIAGE RETURN</span>
<span id="cb295-5"><a href="#cb295-5"></a>U+<span class="dv">0085</span> NEXT LINE (<span class="kw">not</span> matched by \s)</span>
<span id="cb295-6"><a href="#cb295-6"></a></span>
<span id="cb295-7"><a href="#cb295-7"></a>U+<span class="dv">2028</span> LINE SEPARATOR</span>
<span id="cb295-8"><a href="#cb295-8"></a>U+<span class="dv">2029</span> PARAGRAPH SEPARATOR</span></code></pre></div>
<p>There are seven vertical whitespace characters which match <code>\v</code> and eighteen horizontal ones which match <code>\h</code>. <code>\s</code> matches twenty-three characters</p>
<p>All whitespace characters are either <em>vertical</em> or <em>horizontal</em> with no overlap, but they are not proper subsets because <code>\h</code> also matches U+00A0 NO-BREAK SPACE, and <code>\v</code> also matches U+0085 NEXT LINE, neither of which are matched by <code>\s</code></p>
</section>
<section id="answer-2-score-335" class="level4">
<h4>Answer 2 (score 335)</h4>
<p>Use a double-negative:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb296-1"><a href="#cb296-1"></a><span class="kw">/</span><span class="ch">[^</span><span class="bn">\S\r\n</span><span class="ch">]</span><span class="kw">/</span></span></code></pre></div>
<p>That is, not-not-whitespace (the capital S complements) or not-carriage-return or not-newline. Distributing the outer not (<em>i.e.</em>, the complementing <code>^</code> in the character class) with <a href="http://en.wikipedia.org/wiki/De_Morgan&#39;s_laws" rel="noreferrer">De Morgan’s law</a>, this is equivalent to “whitespace but not carriage return or newline.” Including both <code>\r</code> and <code>\n</code> in the pattern correctly handles all of Unix (LF), classic Mac OS (CR), and DOS-ish (CR LF) <a href="https://en.wikipedia.org/wiki/Newline#Representation" rel="noreferrer">newline conventions</a>.</p>
<p>No need to take my word for it:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb297-1"><a href="#cb297-1"></a><span class="co">#! /usr/bin/env perl</span></span>
<span id="cb297-2"><a href="#cb297-2"></a></span>
<span id="cb297-3"><a href="#cb297-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb297-4"><a href="#cb297-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb297-5"><a href="#cb297-5"></a></span>
<span id="cb297-6"><a href="#cb297-6"></a><span class="fu">use</span> <span class="fl">5.005</span>;  <span class="co"># for qr//</span></span>
<span id="cb297-7"><a href="#cb297-7"></a></span>
<span id="cb297-8"><a href="#cb297-8"></a><span class="kw">my</span> <span class="dt">$ws_not_crlf</span> = <span class="kw">qr/</span><span class="ch">[^</span><span class="bn">\S\r\n</span><span class="ch">]</span><span class="kw">/</span>;</span>
<span id="cb297-9"><a href="#cb297-9"></a></span>
<span id="cb297-10"><a href="#cb297-10"></a><span class="kw">for</span> (<span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">\f</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">\t</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">\r</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">\n</span><span class="kw">&#39;</span>) {</span>
<span id="cb297-11"><a href="#cb297-11"></a>  <span class="kw">my</span> <span class="dt">$qq</span> = <span class="kw">qq[</span><span class="st">&quot;</span><span class="dt">$_</span><span class="st">&quot;</span><span class="kw">]</span>;</span>
<span id="cb297-12"><a href="#cb297-12"></a>  <span class="fu">printf</span> <span class="kw">&quot;</span><span class="dt">%-4s</span><span class="st"> =&gt; </span><span class="dt">%s</span><span class="ch">\n</span><span class="kw">&quot;</span>, <span class="dt">$qq</span>,</span>
<span id="cb297-13"><a href="#cb297-13"></a>    (<span class="fu">eval</span> <span class="dt">$qq</span>) =~ <span class="dt">$ws_not_crlf</span> ? <span class="kw">&quot;</span><span class="st">match</span><span class="kw">&quot;</span> : <span class="kw">&quot;</span><span class="st">no match</span><span class="kw">&quot;</span>;</span>
<span id="cb297-14"><a href="#cb297-14"></a>}</span></code></pre></div>
<p>Output:</p>
<pre>" "  => match
"\f" => match
"\t" => match
"\r" => no match
"\n" => no match</pre>
<p>Note the exclusion of vertical tab, but this is <a href="http://search.cpan.org/dist/perl-5.18.0/pod/perldelta.pod#Vertical_tabs_are_now_whitespace" rel="noreferrer">addressed in v5.18</a>.</p>
<p>Before objecting too harshly, the Perl documentation uses the same technique. A footnote in the <a href="https://perldoc.perl.org/perlrecharclass.html#Whitespace" rel="noreferrer">“Whitespace” section of perlrecharclass</a> reads</p>
<blockquote>
Prior to Perl v5.18, <code>\s</code> did not match the vertical tab. <code>[^\S\cK]</code> (obscurely) matches what <code>\s</code> traditionally did.
</blockquote>
<p>The <a href="https://perldoc.perl.org/perlrecharclass.html#Whitespace" rel="noreferrer">same section of perlrecharclass</a> also suggests other approaches that won’t offend language teachers’ opposition to double-negatives.</p>
<p>Outside locale and Unicode rules or when the <code>/a</code> switch is in effect, “<code>\s</code> matches <code>[\t\n\f\r ]</code> and, starting in Perl v5.18, the vertical tab, <code>\cK</code>.” Discard <code>\r</code> and <code>\n</code> to leave <code>/[\t\f\cK ]/</code> for matching whitespace but not newline.</p>
<p>If your text is Unicode, use code similar to the sub below to construct a pattern from the table in <a href="https://perldoc.perl.org/perlrecharclass.html#Whitespace" rel="noreferrer">the aforementioned documentation section</a>.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb298-1"><a href="#cb298-1"></a><span class="kw">sub </span><span class="fu">ws_not_nl</span> {</span>
<span id="cb298-2"><a href="#cb298-2"></a>  <span class="kw">local</span>(<span class="dt">$_</span>) = <span class="kw">&lt;&lt;&#39;EOTable&#39;;</span></span>
<span id="cb298-3"><a href="#cb298-3"></a>0x0009        CHARACTER TABULATION   h s</span>
<span id="cb298-4"><a href="#cb298-4"></a>0x000a              LINE FEED (LF)    vs</span>
<span id="cb298-5"><a href="#cb298-5"></a>0x000b             LINE TABULATION    vs  [1]</span>
<span id="cb298-6"><a href="#cb298-6"></a>0x000c              FORM FEED (FF)    vs</span>
<span id="cb298-7"><a href="#cb298-7"></a>0x000d        CARRIAGE RETURN (CR)    vs</span>
<span id="cb298-8"><a href="#cb298-8"></a>0x0020                       SPACE   h s</span>
<span id="cb298-9"><a href="#cb298-9"></a>0x0085             NEXT LINE (NEL)    vs  [2]</span>
<span id="cb298-10"><a href="#cb298-10"></a>0x00a0              NO-BREAK SPACE   h s  [2]</span>
<span id="cb298-11"><a href="#cb298-11"></a>0x1680            OGHAM SPACE MARK   h s</span>
<span id="cb298-12"><a href="#cb298-12"></a>0x2000                     EN QUAD   h s</span>
<span id="cb298-13"><a href="#cb298-13"></a>0x2001                     EM QUAD   h s</span>
<span id="cb298-14"><a href="#cb298-14"></a>0x2002                    EN SPACE   h s</span>
<span id="cb298-15"><a href="#cb298-15"></a>0x2003                    EM SPACE   h s</span>
<span id="cb298-16"><a href="#cb298-16"></a>0x2004          THREE-PER-EM SPACE   h s</span>
<span id="cb298-17"><a href="#cb298-17"></a>0x2005           FOUR-PER-EM SPACE   h s</span>
<span id="cb298-18"><a href="#cb298-18"></a>0x2006            SIX-PER-EM SPACE   h s</span>
<span id="cb298-19"><a href="#cb298-19"></a>0x2007                FIGURE SPACE   h s</span>
<span id="cb298-20"><a href="#cb298-20"></a>0x2008           PUNCTUATION SPACE   h s</span>
<span id="cb298-21"><a href="#cb298-21"></a>0x2009                  THIN SPACE   h s</span>
<span id="cb298-22"><a href="#cb298-22"></a>0x200a                  HAIR SPACE   h s</span>
<span id="cb298-23"><a href="#cb298-23"></a>0x2028              LINE SEPARATOR    vs</span>
<span id="cb298-24"><a href="#cb298-24"></a>0x2029         PARAGRAPH SEPARATOR    vs</span>
<span id="cb298-25"><a href="#cb298-25"></a>0x202f       NARROW NO-BREAK SPACE   h s</span>
<span id="cb298-26"><a href="#cb298-26"></a>0x205f   MEDIUM MATHEMATICAL SPACE   h s</span>
<span id="cb298-27"><a href="#cb298-27"></a>0x3000           IDEOGRAPHIC SPACE   h s</span>
<span id="cb298-28"><a href="#cb298-28"></a><span class="kw">EOTable</span></span>
<span id="cb298-29"><a href="#cb298-29"></a></span>
<span id="cb298-30"><a href="#cb298-30"></a>  <span class="kw">my</span> <span class="dt">$class</span>;</span>
<span id="cb298-31"><a href="#cb298-31"></a>  <span class="kw">while</span> (<span class="kw">/</span><span class="ch">^</span><span class="ot">0x</span><span class="ch">([</span><span class="bn">0-9a-f</span><span class="ch">]{4})</span><span class="bn">\s</span><span class="ch">+([</span><span class="bn">A-Z\s</span><span class="ch">]+)</span><span class="kw">/mg</span>) {</span>
<span id="cb298-32"><a href="#cb298-32"></a>    <span class="kw">my</span>(<span class="dt">$hex</span>,<span class="dt">$name</span>) = (<span class="dt">$1</span>,<span class="dt">$2</span>);</span>
<span id="cb298-33"><a href="#cb298-33"></a>    <span class="kw">next</span> <span class="kw">if</span> <span class="dt">$name</span> =~ <span class="kw">/</span><span class="ch">\b(?:</span><span class="ot">CR</span><span class="ch">|</span><span class="ot">NL</span><span class="ch">|</span><span class="ot">NEL</span><span class="ch">|</span><span class="ot">SEPARATOR</span><span class="ch">)\b</span><span class="kw">/</span>;</span>
<span id="cb298-34"><a href="#cb298-34"></a>    <span class="dt">$class</span> .= <span class="kw">&quot;</span><span class="st">\\N{U+</span><span class="dt">$hex</span><span class="st">}</span><span class="kw">&quot;</span>;</span>
<span id="cb298-35"><a href="#cb298-35"></a>  }</span>
<span id="cb298-36"><a href="#cb298-36"></a></span>
<span id="cb298-37"><a href="#cb298-37"></a>  <span class="kw">qr/</span><span class="ch">[</span><span class="bn">$class</span><span class="ch">]</span><span class="kw">/</span>u;</span>
<span id="cb298-38"><a href="#cb298-38"></a>}</span></code></pre></div>
<hr>
<h5>
Other Applications
</h2>
<p>The double-negative trick is also handy for matching alphabetic characters too. Remember that <code>\w</code> matches “word characters,” alphabetic characters <em>and</em> digits and underscore. We ugly-Americans sometimes want to write it as, say,</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb299-1"><a href="#cb299-1"></a><span class="kw">if</span> (<span class="kw">/</span><span class="ch">[</span><span class="bn">A-Za-z</span><span class="ch">]+</span><span class="kw">/</span>) { ... }</span></code></pre></div>
<p>but a double-negative character-class can respect the locale:</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb300-1"><a href="#cb300-1"></a><span class="kw">if</span> (<span class="kw">/</span><span class="ch">[^</span><span class="bn">\W\d_</span><span class="ch">]+</span><span class="kw">/</span>) { ... }</span></code></pre></div>
<p>Expressing “a word character but not digit or underscore” this way is a bit opaque. A POSIX character-class communicates the intent more directly</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb301-1"><a href="#cb301-1"></a><span class="kw">if</span> (<span class="kw">/</span><span class="ch">[</span><span class="bn">[:alpha:]</span><span class="ch">]+</span><span class="kw">/</span>) { ... }</span></code></pre></div>
<p>or with a Unicode property as <a href="https://stackoverflow.com/users/415428/szbalint">szbalint</a> suggested</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb302-1"><a href="#cb302-1"></a><span class="kw">if</span> (<span class="kw">/</span><span class="dt">\p{Letter}</span><span class="ch">+</span><span class="kw">/</span>) { ... }</span></code></pre></div>
</section>
<section id="answer-3-score-44" class="level4">
<h4>Answer 3 (score 44)</h4>
<p>A variation on <a href="https://stackoverflow.com/a/3469155/578288">Greg’s answer</a> that includes carriage returns too:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb303-1"><a href="#cb303-1"></a><span class="kw">/</span><span class="ch">[^</span><span class="bn">\S\r\n</span><span class="ch">]</span><span class="kw">/</span></span></code></pre></div>
<p>This regex is safer than <code>/[^\S\n]/</code> with no <code>\r</code>. My reasoning is that Windows uses <code>\r\n</code> for newlines, and Mac OS 9 used <code>\r</code>. You’re unlikely to find <code>\r</code> without <code>\n</code> nowadays, but if you do find it, it couldn’t mean anything but a newline. Thus, since <code>\r</code> can mean a newline, we should exclude it too.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-perls-print-add-a-newline-by-default-score-124937-in-2010" class="level3">
<h3>60: How can Perl’s print add a newline by default? (score <a href="https://stackoverflow.com/q/2899367.html">124937</a> in 2010)</h3>
<section id="question-57" class="level4">
<h4>Question</h4>
<p>In Perl most of my <code>print</code> statements take the form</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb304-1"><a href="#cb304-1"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">hello.</span><span class="kw">&quot;</span> . <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Is there a nice way to avoid keeping all the pesky “”s lying around?</p>
<p>I know I could make a new function such as <code>myprint</code> that automatically appends , but it would be nice if I could override the existing <code>print</code>.</p>
</section>
<section id="answer-accepted-score-95" class="level4">
<h4>Answer accepted (score 95)</h4>
<p>Perl 6 has the <code>say</code> function that automatically appends <code>\n</code>.</p>
<p>You can also use <code>say</code> in Perl 5.10 or 5.12 if you add</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb305-1"><a href="#cb305-1"></a><span class="fu">use</span> feature <span class="kw">qw(</span>say<span class="kw">)</span>;</span></code></pre></div>
<p>to the beginning of your program. Or you can use <a href="http://search.cpan.org/~chromatic/Modern-Perl-1.03/lib/Modern/Perl.pm" rel="noreferrer">Modern::Perl</a> to get this and other features.</p>
<p>See <a href="http://perldoc.perl.org/feature.html#The-%27say%27-feature" rel="noreferrer">perldoc feature</a> for more details.</p>
</section>
<section id="answer-2-score-33" class="level4">
<h4>Answer 2 (score 33)</h4>
<p>You can use the <code>-l</code> option in the she-bang header:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb306-1"><a href="#cb306-1"></a><span class="kw">#!/usr/bin/perl -l</span></span>
<span id="cb306-2"><a href="#cb306-2"></a></span>
<span id="cb306-3"><a href="#cb306-3"></a><span class="dt">$text</span> = <span class="kw">&quot;</span><span class="st">hello</span><span class="kw">&quot;</span>;</span>
<span id="cb306-4"><a href="#cb306-4"></a></span>
<span id="cb306-5"><a href="#cb306-5"></a><span class="fu">print</span> <span class="dt">$text</span>;</span>
<span id="cb306-6"><a href="#cb306-6"></a><span class="fu">print</span> <span class="dt">$text</span>;</span></code></pre></div>
<p><strong>Output:</strong></p>
<div class="sourceCode" id="cb307"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb307-1"><a href="#cb307-1"></a>hello</span>
<span id="cb307-2"><a href="#cb307-2"></a>hello</span></code></pre></div>
</section>
<section id="answer-3-score-24-1" class="level4">
<h4>Answer 3 (score 24)</h4>
<p>If Perl 5.10+ is not an option, here is a quick and dirty approximation. It’s not exactly the same, since say has some magic when its first arg is a handle, but for printing to STDOUT:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb308-1"><a href="#cb308-1"></a><span class="kw">sub </span><span class="fu">say</span> {<span class="fu">print</span> <span class="dt">@_</span>, <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>}</span>
<span id="cb308-2"><a href="#cb308-2"></a></span>
<span id="cb308-3"><a href="#cb308-3"></a>say <span class="kw">&#39;</span><span class="st">hello</span><span class="kw">&#39;</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="negative-regex-for-perl-string-pattern-match-score-124513-in-2017" class="level3">
<h3>61: Negative regex for Perl string pattern match (score <a href="https://stackoverflow.com/q/6361312.html">124513</a> in 2017)</h3>
<section id="question-58" class="level4">
<h4>Question</h4>
<p>I have this regex:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb309-1"><a href="#cb309-1"></a><span class="kw">if</span>(<span class="dt">$string</span> =~ <span class="kw">m/</span><span class="ch">^(</span><span class="ot">Clinton</span><span class="ch">|[^</span><span class="bn">Bush</span><span class="ch">]|</span><span class="ot">Reagan</span><span class="ch">)</span><span class="kw">/i</span>)</span>
<span id="cb309-2"><a href="#cb309-2"></a>  {<span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$string</span><span class="ch">\n</span><span class="kw">&quot;</span>};</span></code></pre></div>
<p>I want to match with Clinton and Reagan, but not Bush.</p>
<p>It’s not working.</p>
</section>
<section id="answer-accepted-score-27" class="level4">
<h4>Answer accepted (score 27)</h4>
<p>Sample text:</p>
<blockquote>
<p>
Clinton said<br> Bush used crayons<bR> Reagan forgot<br>
</p>
</blockquote>
<p>Just omitting a Bush match:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb310-1"><a href="#cb310-1"></a>$ perl -<span class="kw">ne</span> <span class="kw">&#39;</span><span class="st">print if /^(Clinton|Reagan)/</span><span class="kw">&#39;</span> textfile</span>
<span id="cb310-2"><a href="#cb310-2"></a>Clinton said</span>
<span id="cb310-3"><a href="#cb310-3"></a>Reagan forgot</span></code></pre></div>
<p>Or if you really want to specify:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb311-1"><a href="#cb311-1"></a>$ perl -<span class="kw">ne</span> <span class="kw">&#39;</span><span class="st">print if /^(?!Bush)(Clinton|Reagan)/</span><span class="kw">&#39;</span> textfile</span>
<span id="cb311-2"><a href="#cb311-2"></a>Clinton said</span>
<span id="cb311-3"><a href="#cb311-3"></a>Reagan forgot</span></code></pre></div>
</section>
<section id="answer-2-score-132-1" class="level4">
<h4>Answer 2 (score 132)</h4>
<p>Your regex does not work because [] defines a character class, but what you want is a lookahead:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb312-1"><a href="#cb312-1"></a>(?=) - Positive look ahead assertion foo(?=bar) matches foo <span class="kw">when</span> followed by bar</span>
<span id="cb312-2"><a href="#cb312-2"></a>(?!) - Negative look ahead assertion foo(?!bar) matches foo <span class="kw">when</span> <span class="kw">not</span> followed by bar</span>
<span id="cb312-3"><a href="#cb312-3"></a>(?&lt;=) - Positive look behind assertion (?&lt;=foo)bar matches bar <span class="kw">when</span> preceded by foo</span>
<span id="cb312-4"><a href="#cb312-4"></a>(?&lt;!) - Negative look behind assertion (?&lt;!foo)bar matches bar <span class="kw">when</span> NOT preceded by foo</span>
<span id="cb312-5"><a href="#cb312-5"></a>(?&gt;) - Once-only subpatterns (?&gt;\d+)bar Performance enhancing <span class="kw">when</span> bar <span class="kw">not</span> present</span>
<span id="cb312-6"><a href="#cb312-6"></a>(?(x)) - Conditional subpatterns</span>
<span id="cb312-7"><a href="#cb312-7"></a>(?(<span class="dv">3</span>)foo|fu)bar - Matches foo <span class="kw">if</span> 3rd subpattern has matched, fu <span class="kw">if</span> <span class="kw">not</span></span>
<span id="cb312-8"><a href="#cb312-8"></a>(?<span class="co">#) - Comment (?# Pattern does x y or z)</span></span></code></pre></div>
<p>So try: (?!bush)</p>
</section>
<section id="answer-3-score-17-3" class="level4">
<h4>Answer 3 (score 17)</h4>
<p>Your regex says the following:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb313-1"><a href="#cb313-1"></a><span class="kw">/</span><span class="ch">^</span><span class="ot">         - if the line starts with</span></span>
<span id="cb313-2"><a href="#cb313-2"></a><span class="ch">(</span><span class="ot">          - start a capture group</span></span>
<span id="cb313-3"><a href="#cb313-3"></a><span class="ot">Clinton</span><span class="ch">|</span><span class="ot">   - &quot;Clinton&quot; </span></span>
<span id="cb313-4"><a href="#cb313-4"></a><span class="ch">|</span><span class="ot">          - or</span></span>
<span id="cb313-5"><a href="#cb313-5"></a><span class="ch">[^</span><span class="bn">Bush</span><span class="ch">]</span><span class="ot">    - Any single character except &quot;B&quot;, &quot;u&quot;, &quot;s&quot; or &quot;h&quot;</span></span>
<span id="cb313-6"><a href="#cb313-6"></a><span class="ch">|</span><span class="ot">          - or</span></span>
<span id="cb313-7"><a href="#cb313-7"></a><span class="ot">Reagan</span><span class="ch">)</span><span class="ot">   - &quot;Reagan&quot;. End capture group.</span></span>
<span id="cb313-8"><a href="#cb313-8"></a><span class="kw">/i</span>         - Make matches case-insensitive </span></code></pre></div>
<p>So, in other words, your middle part of the regex is screwing you up. As it is a “catch-all” kind of group, it will allow any line that does not begin with any of the upper or lower case letters in “Bush”. For example, these lines would match your regex:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb314-1"><a href="#cb314-1"></a>Our president, George Bush</span>
<span id="cb314-2"><a href="#cb314-2"></a>In the news today, pigs can fly</span>
<span id="cb314-3"><a href="#cb314-3"></a><span class="bn">012</span><span class="dv">-3123</span> <span class="dv">33</span></span></code></pre></div>
<p>You either make a negative look-ahead, as suggested earlier, or you simply make two regexes:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb315-1"><a href="#cb315-1"></a><span class="kw">if</span>( (<span class="dt">$string</span> =~ <span class="kw">m/</span><span class="ch">^(</span><span class="ot">Clinton</span><span class="ch">|</span><span class="ot">Reagan</span><span class="ch">)</span><span class="kw">/i</span>) <span class="kw">and</span></span>
<span id="cb315-2"><a href="#cb315-2"></a>    (<span class="dt">$string</span> !~ <span class="kw">m/</span><span class="ch">^</span><span class="ot">Bush</span><span class="kw">/i</span>) ) {</span>
<span id="cb315-3"><a href="#cb315-3"></a>   <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$string</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb315-4"><a href="#cb315-4"></a>}</span></code></pre></div>
<p>As <a href="https://stackoverflow.com/users/11095/mirod">mirod</a> has pointed out in the comments, the second check is quite unnecessary when using the caret (<code>^</code>) to match only beginning of lines, as lines that begin with “Clinton” or “Reagan” could never begin with “Bush”.</p>
<p>However, it would be valid without the carets.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="in-perl-how-do-i-create-a-hash-whose-keys-come-from-a-given-array-score-121882-in-2015" class="level3">
<h3>62: In Perl, how do I create a hash whose keys come from a given array? (score <a href="https://stackoverflow.com/q/95820.html">121882</a> in 2015)</h3>
<section id="question-59" class="level4">
<h4>Question</h4>
Let’s say I have an array, and I know I’m going to be doing a lot of “Does the array contain X?” checks. The efficient way to do this is to turn that array into a hash, where the keys are the array’s elements, and then you can just say
<pre>if($hash{X}) { ... }</pre>
<p>Is there an easy way to do this array-to-hash conversion? Ideally, it should be versatile enough to take an anonymous array and return an anonymous hash.</p>
</section>
<section id="answer-accepted-score-114-1" class="level4">
<h4>Answer accepted (score 114)</h4>
<div class="sourceCode" id="cb316"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb316-1"><a href="#cb316-1"></a><span class="dt">%hash</span> = <span class="fu">map</span> { <span class="dt">$_</span> =&gt; <span class="dv">1</span> } <span class="dt">@array</span>;</span></code></pre></div>
<p>It’s not as short as the “<span class="citation" data-cites="hash">@hash</span>{<span class="citation" data-cites="array">@array</span>} = …” solutions, but those ones require the hash and array to already be defined somewhere else, whereas this one can take an anonymous array and return an anonymous hash.</p>
<p>What this does is take each element in the array and pair it up with a “1”. When this list of (key, 1, key, 1, key 1) pairs get assigned to a hash, the odd-numbered ones become the hash’s keys, and the even-numbered ones become the respective values.</p>
</section>
<section id="answer-2-score-42-1" class="level4">
<h4>Answer 2 (score 42)</h4>
<div class="sourceCode" id="cb317"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb317-1"><a href="#cb317-1"></a> <span class="dt">@hash</span>{<span class="dt">@array</span>} = (<span class="dv">1</span>) x <span class="dt">@array</span>;</span></code></pre></div>
<p>It’s a hash slice, a list of values from the hash, so it gets the list-y @ in front.</p>
<p>From <a href="http://perldoc.perl.org/perldata.html#Slices" rel="noreferrer">the docs</a>:</p>
<blockquote>
<p>
If you’re confused about why you use an ‘@’ there on a hash slice instead of a ‘%’, think of it like this. The type of bracket (square or curly) governs whether it’s an array or a hash being looked at. On the other hand, the leading symbol (‘$’ or ‘@’) on the array or hash indicates whether you are getting back a singular value (a scalar) or a plural one (a list).
</p>
</blockquote>
</section>
<section id="answer-3-score-37" class="level4">
<h4>Answer 3 (score 37)</h4>
<div class="sourceCode" id="cb318"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb318-1"><a href="#cb318-1"></a><span class="dt">@hash</span>{<span class="dt">@keys</span>} = <span class="fu">undef</span>;</span></code></pre></div>
<p>The syntax here where you are referring to the hash with an <code>@</code> is a hash slice. We’re basically saying <code>$hash{$keys[0]}</code> AND <code>$hash{$keys[1]}</code> AND <code>$hash{$keys[2]}</code> … is a list on the left hand side of the =, an lvalue, and we’re assigning to that list, which actually goes into the hash and sets the values for all the named keys. In this case, I only specified one value, so that value goes into <code>$hash{$keys[0]}</code>, and the other hash entries all auto-vivify (come to life) with undefined values. [My original suggestion here was set the expression = 1, which would’ve set that one key to 1 and the others to <code>undef</code>. I changed it for consistency, but as we’ll see below, the exact values do not matter.]</p>
<p>When you realize that the lvalue, the expression on the left hand side of the =, is a list built out of the hash, then it’ll start to make some sense why we’re using that <code>@</code>. [Except I think this will change in Perl 6.]</p>
<p>The idea here is that you are using the hash as a set. What matters is not the value I am assigning; it’s just the existence of the keys. So what you want to do is not something like:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb319-1"><a href="#cb319-1"></a><span class="kw">if</span> (<span class="dt">$hash</span>{<span class="dt">$key</span>} == <span class="dv">1</span>) <span class="co"># then key is in the hash</span></span></code></pre></div>
<p>instead:</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb320-1"><a href="#cb320-1"></a><span class="kw">if</span> (<span class="fu">exists</span> <span class="dt">$hash</span>{<span class="dt">$key</span>}) <span class="co"># then key is in the set</span></span></code></pre></div>
<p>It’s actually more efficient to just run an <code>exists</code> check than to bother with the value in the hash, although to me the important thing here is just the concept that you are representing a set just with the keys of the hash. Also, somebody pointed out that by using <code>undef</code> as the value here, we will consume less storage space than we would assigning a value. (And also generate less confusion, as the value does not matter, and my solution would assign a value only to the first element in the hash and leave the others <code>undef</code>, and some other solutions are turning cartwheels to build an array of values to go into the hash; completely wasted effort).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-see-if-a-perl-hash-already-has-a-certain-key-score-120275-in-2015" class="level3">
<h3>63: How can I see if a Perl hash already has a certain key? (score <a href="https://stackoverflow.com/q/1003632.html">120275</a> in 2015)</h3>
<section id="question-60" class="level4">
<h4>Question</h4>
<p>I have a Perl script that is counting the number of occurrences of various strings in a text file. I want to be able to check if a certain string is not yet a key in the hash. Is there a better way of doing this altogether?</p>
<p>Here is what I am doing:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb321-1"><a href="#cb321-1"></a><span class="kw">foreach</span> <span class="dt">$line</span> (<span class="dt">@lines</span>){</span>
<span id="cb321-2"><a href="#cb321-2"></a>    <span class="kw">if</span>((<span class="dt">$line</span> =~ <span class="kw">m|m</span>y regex|) )</span>
<span id="cb321-3"><a href="#cb321-3"></a>    {</span>
<span id="cb321-4"><a href="#cb321-4"></a>        <span class="dt">$string</span> = <span class="dt">$1</span>;</span>
<span id="cb321-5"><a href="#cb321-5"></a>        <span class="kw">if</span> (<span class="dt">$string</span> is <span class="kw">not</span> a key in <span class="dt">%strings</span>) <span class="co"># &quot;strings&quot; is an associative array</span></span>
<span id="cb321-6"><a href="#cb321-6"></a>        {</span>
<span id="cb321-7"><a href="#cb321-7"></a>            <span class="dt">$strings</span>{<span class="dt">$string</span>} = <span class="dv">1</span>;</span>
<span id="cb321-8"><a href="#cb321-8"></a>        }</span>
<span id="cb321-9"><a href="#cb321-9"></a>        <span class="kw">else</span></span>
<span id="cb321-10"><a href="#cb321-10"></a>        {</span>
<span id="cb321-11"><a href="#cb321-11"></a>            <span class="dt">$n</span> = (<span class="dt">$strings</span>{<span class="dt">$string</span>});</span>
<span id="cb321-12"><a href="#cb321-12"></a>            <span class="dt">$strings</span>{<span class="dt">$string</span>} = <span class="dt">$n</span> +<span class="dv">1</span>;</span>
<span id="cb321-13"><a href="#cb321-13"></a>        }</span>
<span id="cb321-14"><a href="#cb321-14"></a>    }</span>
<span id="cb321-15"><a href="#cb321-15"></a>}</span></code></pre></div>
</section>
<section id="answer-accepted-score-112" class="level4">
<h4>Answer accepted (score 112)</h4>
<p>I believe to check if a key exists in a hash you just do</p>
<div class="sourceCode" id="cb322"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb322-1"><a href="#cb322-1"></a><span class="kw">if</span> (<span class="fu">exists</span> <span class="dt">$strings</span>{<span class="dt">$string</span>}) {</span>
<span id="cb322-2"><a href="#cb322-2"></a>    ...</span>
<span id="cb322-3"><a href="#cb322-3"></a>} <span class="kw">else</span> {</span>
<span id="cb322-4"><a href="#cb322-4"></a>    ...</span>
<span id="cb322-5"><a href="#cb322-5"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-10" class="level4">
<h4>Answer 2 (score 10)</h4>
<p>I would counsel against using <code>if ($hash{$key})</code> since it will not do what you expect if the key exists but its value is zero or empty.</p>
</section>
<section id="answer-3-score-9-3" class="level4">
<h4>Answer 3 (score 9)</h4>
<p>Well, your whole code can be limited to:</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb323-1"><a href="#cb323-1"></a><span class="kw">foreach</span> <span class="dt">$line</span> (<span class="dt">@lines</span>){</span>
<span id="cb323-2"><a href="#cb323-2"></a>        <span class="dt">$strings</span>{<span class="dt">$1</span>}++ <span class="kw">if</span> <span class="dt">$line</span> =~ <span class="kw">m|m</span>y regex|;</span>
<span id="cb323-3"><a href="#cb323-3"></a>}</span></code></pre></div>
<p>If the value is not there, ++ operator will assume it to be 0 (and then increment to 1). If it is already there - it will simply be incremented.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-convert-a-datetime-to-epoch-time-unix-timeseconds-since-1970-in-perl-score-119553-in-2018" class="level3">
<h3>64: How do I convert a date/time to epoch time (unix time/seconds since 1970) in Perl? (score <a href="https://stackoverflow.com/q/95492.html">119553</a> in 2018)</h3>
<section id="question-61" class="level4">
<h4>Question</h4>
<p>Given a date/time as an array of (year, month, day, hour, minute, second), how would you convert it to epoch time, i.e., the number of seconds since 1970-01-01 00:00:00 GMT?</p>
<p>Bonus question: If given the date/time as a string, how would you first parse it into the (y,m,d,h,m,s) array?</p>
</section>
<section id="answer-accepted-score-20" class="level4">
<h4>Answer accepted (score 20)</h4>
<p>This is the simplest way to get unix time:</p>
<div class="sourceCode" id="cb324"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb324-1"><a href="#cb324-1"></a><span class="fu">use</span> <span class="fu">Time::Local</span>;</span>
<span id="cb324-2"><a href="#cb324-2"></a>timelocal(<span class="dt">$second</span>,<span class="dt">$minute</span>,<span class="dt">$hour</span>,<span class="dt">$day</span>,<span class="dt">$month</span><span class="dv">-1</span>,<span class="dt">$year</span>);</span></code></pre></div>
<p>
Note the reverse order of the arguments and that January is month 0. For many more options, see the <a href="https://metacpan.org/pod/DateTime" rel="noreferrer">DateTime</a> module from CPAN.
</p>
<p>As for parsing, see the <a href="https://metacpan.org/pod/Date::Parse" rel="noreferrer">Date::Parse</a> module from CPAN. If you really need to get fancy with date parsing, the <a href="https://metacpan.org/pod/Date::Manip" rel="noreferrer">Date::Manip</a> may be helpful, though its own documentation warns you away from it since it carries a lot of baggage (it knows things like common business holidays, for example) and other solutions are much faster.</p>
<p>If you happen to know something about the format of the date/times you’ll be parsing then a simple regular expression may suffice but you’re probably better off using an appropriate CPAN module. For example, if you know the dates will always be in YMDHMS order, use the CPAN module <a href="https://metacpan.org/pod/DateTime::Format::ISO8601" rel="noreferrer">DateTime::Format::ISO8601</a>.</p>
<hr>
<p>For my own reference, if nothing else, below is a function I use for an application where I know the dates will always be in YMDHMS order with all or part of the “HMS” part optional. It accepts any delimiters (eg, “2009-02-15” or “2009.02.15”). It returns the corresponding unix time (seconds since 1970-01-01 00:00:00 GMT) or -1 if it couldn’t parse it (which means you better be sure you’ll never legitimately need to parse the date 1969-12-31 23:59:59). It also presumes two-digit years XX up to “69” refer to “20XX”, otherwise “19XX” (eg, “50-02-15” means 2050-02-15 but “75-02-15” means 1975-02-15).</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb325-1"><a href="#cb325-1"></a><span class="fu">use</span> <span class="fu">Time::Local</span>;</span>
<span id="cb325-2"><a href="#cb325-2"></a></span>
<span id="cb325-3"><a href="#cb325-3"></a><span class="kw">sub </span><span class="fu">parsedate</span> { </span>
<span id="cb325-4"><a href="#cb325-4"></a>  <span class="kw">my</span>(<span class="dt">$s</span>) = <span class="dt">@_</span>;</span>
<span id="cb325-5"><a href="#cb325-5"></a>  <span class="kw">my</span>(<span class="dt">$year</span>, <span class="dt">$month</span>, <span class="dt">$day</span>, <span class="dt">$hour</span>, <span class="dt">$minute</span>, <span class="dt">$second</span>);</span>
<span id="cb325-6"><a href="#cb325-6"></a></span>
<span id="cb325-7"><a href="#cb325-7"></a>  <span class="kw">if</span>(<span class="dt">$s</span> =~ <span class="kw">m{</span><span class="ch">^</span><span class="bn">\s</span><span class="ch">*(</span><span class="bn">\d</span><span class="ch">{1,4})</span><span class="bn">\W</span><span class="ch">*</span><span class="ot">0</span><span class="ch">*(</span><span class="bn">\d</span><span class="ch">{1,2})</span><span class="bn">\W</span><span class="ch">*</span><span class="ot">0</span><span class="ch">*(</span><span class="bn">\d</span><span class="ch">{1,2})</span><span class="bn">\W</span><span class="ch">*</span><span class="ot">0</span><span class="ch">*</span></span>
<span id="cb325-8"><a href="#cb325-8"></a><span class="ot">                 </span><span class="ch">(</span><span class="bn">\d</span><span class="ch">{0,2})</span><span class="bn">\W</span><span class="ch">*</span><span class="ot">0</span><span class="ch">*(</span><span class="bn">\d</span><span class="ch">{0,2})</span><span class="bn">\W</span><span class="ch">*</span><span class="ot">0</span><span class="ch">*(</span><span class="bn">\d</span><span class="ch">{0,2})</span><span class="kw">}x</span>) {</span>
<span id="cb325-9"><a href="#cb325-9"></a>    <span class="dt">$year</span> = <span class="dt">$1</span>;  <span class="dt">$month</span> = <span class="dt">$2</span>;   <span class="dt">$day</span> = <span class="dt">$3</span>;</span>
<span id="cb325-10"><a href="#cb325-10"></a>    <span class="dt">$hour</span> = <span class="dt">$4</span>;  <span class="dt">$minute</span> = <span class="dt">$5</span>;  <span class="dt">$second</span> = <span class="dt">$6</span>;</span>
<span id="cb325-11"><a href="#cb325-11"></a>    <span class="dt">$hour</span> |= <span class="dv">0</span>;  <span class="dt">$minute</span> |= <span class="dv">0</span>;  <span class="dt">$second</span> |= <span class="dv">0</span>;  <span class="co"># defaults.</span></span>
<span id="cb325-12"><a href="#cb325-12"></a>    <span class="dt">$year</span> = (<span class="dt">$year</span>&lt;<span class="dv">100</span> ? (<span class="dt">$year</span>&lt;<span class="dv">70</span> ? <span class="dv">2000</span>+<span class="dt">$year</span> : <span class="dv">1900</span>+<span class="dt">$year</span>) : <span class="dt">$year</span>);</span>
<span id="cb325-13"><a href="#cb325-13"></a>    <span class="kw">return</span> timelocal(<span class="dt">$second</span>,<span class="dt">$minute</span>,<span class="dt">$hour</span>,<span class="dt">$day</span>,<span class="dt">$month</span><span class="dv">-1</span>,<span class="dt">$year</span>);  </span>
<span id="cb325-14"><a href="#cb325-14"></a>  }</span>
<span id="cb325-15"><a href="#cb325-15"></a>  <span class="kw">return</span> <span class="dv">-1</span>;</span>
<span id="cb325-16"><a href="#cb325-16"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-34-2" class="level4">
<h4>Answer 2 (score 34)</h4>
<p>If you’re using the <a href="https://metacpan.org/pod/DateTime" rel="nofollow noreferrer">DateTime</a> module, you can call the <a href="https://metacpan.org/pod/DateTime#METHODS" rel="nofollow noreferrer">epoch()</a> method on a DateTime object, since that’s what you think of as unix time.</p>
<p>Using DateTimes allows you to convert fairly easily from epoch, to date objects.</p>
<p>Alternativly, <a href="http://perldoc.perl.org/functions/localtime.html" rel="nofollow noreferrer">localtime</a> and gmtime will convert an epoch into an array containing day month and year, and timelocal and timegm from the <a href="https://metacpan.org/pod/Time::Local" rel="nofollow noreferrer">Time::Local module</a> will do the opposite, converting an array of time elements (seconds, minutes, …, days, months etc.) into an epoch.</p>
</section>
<section id="answer-3-score-17-4" class="level4">
<h4>Answer 3 (score 17)</h4>
<p>To parse a date, look at <a href="https://metacpan.org/pod/Date::Parse" rel="noreferrer">Date::Parse</a> in CPAN.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-start-an-interactive-console-for-perl-score-117894-in-2015" class="level3">
<h3>65: How can I start an interactive console for Perl? (score <a href="https://stackoverflow.com/q/73667.html">117894</a> in 2015)</h3>
<section id="question-62" class="level4">
<h4>Question</h4>
<p>How can I start an interactive console for Perl, similar to the <code>irb</code> command for Ruby or <code>python</code> for Python?</p>
</section>
<section id="answer-accepted-score-285" class="level4">
<h4>Answer accepted (score 285)</h4>
<p>You can use the perl debugger on a trivial program, like so:</p>
<div class="sourceCode" id="cb326"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb326-1"><a href="#cb326-1"></a>perl -de1</span></code></pre></div>
<p>Alternatively there’s <a href="http://search.cpan.org/~sukria/perlconsole-0.4/perlconsole" rel="noreferrer"><em>Alexis Sukrieh</em>’s Perl Console</a> application, but I haven’t used it.</p>
</section>
<section id="answer-2-score-59" class="level4">
<h4>Answer 2 (score 59)</h4>
<p>Not only did Matt Trout write an article about a REPL, he actually wrote one - <a href="http://search.cpan.org/dist/Devel-REPL" rel="noreferrer">Devel::REPL</a></p>
<p>I’ve used it a bit and it works fairly well, and it’s under active development.</p>
<p>BTW, I have no idea why someone modded down the person who mentioned using “perl -e” from the console. This isn’t really a REPL, true, but it’s fantastically useful, and I use it all the time.</p>
</section>
<section id="answer-3-score-35-2" class="level4">
<h4>Answer 3 (score 35)</h4>
<p>I wrote a script I call “psh”:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb327-1"><a href="#cb327-1"></a><span class="co">#! /usr/bin/perl</span></span>
<span id="cb327-2"><a href="#cb327-2"></a></span>
<span id="cb327-3"><a href="#cb327-3"></a><span class="kw">while</span> (&lt;&gt;) {</span>
<span id="cb327-4"><a href="#cb327-4"></a>  <span class="fu">chomp</span>;</span>
<span id="cb327-5"><a href="#cb327-5"></a>  <span class="kw">my</span> <span class="dt">$result</span> = <span class="fu">eval</span>;</span>
<span id="cb327-6"><a href="#cb327-6"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$_</span><span class="st"> = </span><span class="dt">$result</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb327-7"><a href="#cb327-7"></a>}</span></code></pre></div>
<p>Whatever you type in, it evaluates in Perl:</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb328-1"><a href="#cb328-1"></a>&gt; <span class="fu">gmtime</span>(<span class="dv">2</span>**<span class="dv">30</span>)</span>
<span id="cb328-2"><a href="#cb328-2"></a><span class="fu">gmtime</span>(<span class="dv">2</span>**<span class="dv">30</span>) = Sat Jan <span class="dv">10</span> <span class="dv">13</span>:<span class="dv">37</span>:<span class="bn">04</span> <span class="dv">2004</span></span>
<span id="cb328-3"><a href="#cb328-3"></a></span>
<span id="cb328-4"><a href="#cb328-4"></a>&gt; <span class="dt">$x</span> = <span class="kw">&#39;</span><span class="st">foo</span><span class="kw">&#39;</span></span>
<span id="cb328-5"><a href="#cb328-5"></a><span class="dt">$x</span> = <span class="kw">&#39;</span><span class="st">foo</span><span class="kw">&#39;</span> = foo</span>
<span id="cb328-6"><a href="#cb328-6"></a></span>
<span id="cb328-7"><a href="#cb328-7"></a>&gt; <span class="dt">$x</span> =~ <span class="kw">s/</span><span class="ot">o</span><span class="kw">/</span><span class="st">a</span><span class="kw">/g</span></span>
<span id="cb328-8"><a href="#cb328-8"></a><span class="dt">$x</span> =~ <span class="kw">s/</span><span class="ot">o</span><span class="kw">/</span><span class="st">a</span><span class="kw">/g</span> = <span class="dv">2</span></span>
<span id="cb328-9"><a href="#cb328-9"></a></span>
<span id="cb328-10"><a href="#cb328-10"></a>&gt; <span class="dt">$x</span></span>
<span id="cb328-11"><a href="#cb328-11"></a><span class="dt">$x</span> = faa</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-output-utf-8-from-perl-score-115758-in-2013" class="level3">
<h3>66: How can I output UTF-8 from Perl? (score <a href="https://stackoverflow.com/q/627661.html">115758</a> in 2013)</h3>
<section id="question-63" class="level4">
<h4>Question</h4>
<p>I am trying to write a Perl script using the “utf8” pragma, and I’m getting unexpected results. I’m using Mac OS X 10.5 (Leopard), and I’m editing with TextMate. All of my settings for both my editor and operating system are defaulted to writing files in utf-8 format.</p>
<p>However, when I enter the following into a text file, save it as a “.pl”, and execute it, I get the friendly “diamond with a question mark” in place of the non-ASCII characters.</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb329-1"><a href="#cb329-1"></a><span class="kw">#!/usr/bin/env perl -w</span></span>
<span id="cb329-2"><a href="#cb329-2"></a></span>
<span id="cb329-3"><a href="#cb329-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb329-4"><a href="#cb329-4"></a><span class="fu">use</span> <span class="kw">utf8</span>;</span>
<span id="cb329-5"><a href="#cb329-5"></a></span>
<span id="cb329-6"><a href="#cb329-6"></a><span class="kw">my</span> <span class="dt">$str</span> = <span class="kw">&#39;</span><span class="st">Çirçös</span><span class="kw">&#39;</span>;</span>
<span id="cb329-7"><a href="#cb329-7"></a><span class="fu">print</span>( <span class="kw">&quot;</span><span class="dt">$str</span><span class="ch">\n</span><span class="kw">&quot;</span> );</span></code></pre></div>
<p>Any idea what I’m doing wrong? I expect to get ‘Çirçös’ in the output, but I get ‘�ir��s’ instead.</p>
</section>
<section id="answer-accepted-score-154" class="level4">
<h4>Answer accepted (score 154)</h4>
<p><code>use utf8;</code> does not enable Unicode <em>output</em> - it enables you to type Unicode in your program. Add this to the program, before your <code>print()</code> statement:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb330-1"><a href="#cb330-1"></a><span class="fu">binmode</span>(STDOUT, <span class="kw">&quot;</span><span class="st">:utf8</span><span class="kw">&quot;</span>);</span></code></pre></div>
<p>See if that helps. That should make <code>STDOUT</code> output in UTF-8 instead of ordinary ASCII.</p>
</section>
<section id="answer-2-score-82-1" class="level4">
<h4>Answer 2 (score 82)</h4>
<p>You can use the <a href="http://perldoc.perl.org/open.html" rel="noreferrer">open pragma</a>.</p>
<p>For eg. below sets STDOUT, STDIN &amp; STDERR to use UTF-8….</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb331-1"><a href="#cb331-1"></a><span class="fu">use</span> <span class="fu">open</span> <span class="kw">qw/</span>:std :utf8<span class="kw">/</span>;</span></code></pre></div>
</section>
<section id="answer-3-score-64" class="level4">
<h4>Answer 3 (score 64)</h4>
<p><a href="http://www.perlfoundation.org/perl5/index.cgi?tmtowtdi" rel="noreferrer">TMTOWTDI</a>, chose the method that best fits how you work. I use the environment method so I don’t have to think about it.</p>
<p>In the <a href="http://perldoc.perl.org/perlrun.html#PERL_UNICODE" rel="noreferrer">environment</a>:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb332-1"><a href="#cb332-1"></a>export PERL_UNICODE=SDL</span></code></pre></div>
<p>on the <a href="http://perldoc.perl.org/perlrun.html#*-C-[_number/list_]*" rel="noreferrer">command line</a>:</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb333-1"><a href="#cb333-1"></a>perl -CSDL -<span class="kw">le</span> <span class="kw">&#39;</span><span class="st">print &quot;\x{1815}&quot;</span><span class="kw">&#39;</span>;</span></code></pre></div>
<p>or with <a href="http://perldoc.perl.org/functions/binmode.html" rel="noreferrer">binmode</a>:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb334-1"><a href="#cb334-1"></a><span class="fu">binmode</span>(STDOUT, <span class="kw">&quot;</span><span class="st">:utf8</span><span class="kw">&quot;</span>);          <span class="co">#treat as if it is UTF-8</span></span>
<span id="cb334-2"><a href="#cb334-2"></a><span class="fu">binmode</span>(STDIN, <span class="kw">&quot;</span><span class="st">:encoding(utf8)</span><span class="kw">&quot;</span>); <span class="co">#actually check if it is UTF-8</span></span></code></pre></div>
<p>or with <a href="http://perldoc.perl.org/PerlIO.html" rel="noreferrer">PerlIO</a>:</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb335-1"><a href="#cb335-1"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$fh</span>, <span class="kw">&quot;</span><span class="st">&gt;:utf8</span><span class="kw">&quot;</span>, <span class="dt">$filename</span></span>
<span id="cb335-2"><a href="#cb335-2"></a>    <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not open </span><span class="dt">$filename</span><span class="st">: </span><span class="dt">$!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb335-3"><a href="#cb335-3"></a></span>
<span id="cb335-4"><a href="#cb335-4"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$fh</span>, <span class="kw">&quot;</span><span class="st">&lt;:encoding(utf-8)</span><span class="kw">&quot;</span>, <span class="dt">$filename</span></span>
<span id="cb335-5"><a href="#cb335-5"></a>    <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">could not open </span><span class="dt">$filename</span><span class="st">: </span><span class="dt">$!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>or with the <a href="http://perldoc.perl.org/open.html" rel="noreferrer">open pragma</a>:</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb336-1"><a href="#cb336-1"></a><span class="fu">use</span> <span class="fu">open</span> <span class="kw">&quot;</span><span class="st">:encoding(utf8)</span><span class="kw">&quot;</span>;</span>
<span id="cb336-2"><a href="#cb336-2"></a><span class="fu">use</span> <span class="fu">open</span> IN =&gt; <span class="kw">&quot;</span><span class="st">:encoding(utf8)</span><span class="kw">&quot;</span>, OUT =&gt; <span class="kw">&quot;</span><span class="st">:utf8</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-install-a-cpan-module-into-a-local-directory-score-115048-in-2017" class="level3">
<h3>67: How can I install a CPAN module into a local directory? (score <a href="https://stackoverflow.com/q/540640.html">115048</a> in 2017)</h3>
<section id="question-64" class="level4">
<h4>Question</h4>
<p>
I’m using a hosted Linux machine so I don’t have permissions to write into the <code>/usr/lib</code> directory.
</p>
<p>When I try to install a CPAN module by doing the usual:</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb337-1"><a href="#cb337-1"></a>perl Makefile.PL</span>
<span id="cb337-2"><a href="#cb337-2"></a>make test</span>
<span id="cb337-3"><a href="#cb337-3"></a>make install</span></code></pre></div>
<p>
That module is extracted to a <code>blib/lib/</code> folder. I have kept <code>use blib/lib/ModuleName</code> but it still the compiler says module can not be found. I have tried copying the .pm file into local directory and kept <code>require ModuleName</code> but still it gives me some error.
</p>
<p>How can I install a module into some other directory and use it?</p>
</section>
<section id="answer-accepted-score-36" class="level4">
<h4>Answer accepted (score 36)</h4>
<p>I had a similar problem, where I couldn’t even install local::lib</p>
<p>I created an installer that installed the module somewhere relative to the .pl files</p>
<p>The install goes like:</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb338-1"><a href="#cb338-1"></a>perl Makefile.PL PREFIX=.<span class="kw">/</span><span class="ot">modulos</span></span>
<span id="cb338-2"><a href="#cb338-2"></a><span class="ot">make</span></span>
<span id="cb338-3"><a href="#cb338-3"></a><span class="ot">make install</span></span></code></pre></div>
<p>Then, in the .pl file that requires the module, which is in ./</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb339-1"><a href="#cb339-1"></a><span class="fu">use</span> lib <span class="kw">qw(</span>./modulos/share/perl/5.8.8/<span class="kw">)</span>; <span class="co"># You may need to change this path</span></span>
<span id="cb339-2"><a href="#cb339-2"></a><span class="fu">use</span> <span class="fu">module::name</span>;</span></code></pre></div>
<p>The rest of the files (makefile.pl, module.pm, etc) require no changes.</p>
<p>You can call the .pl file with just</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb340-1"><a href="#cb340-1"></a>perl file.pl</span></code></pre></div>
</section>
<section id="answer-2-score-61-1" class="level4">
<h4>Answer 2 (score 61)</h4>
<p>Other answers already on Stackoverflow:</p>
<ul>
<li>
<a href="https://stackoverflow.com/questions/102850/how-can-i-install-cpan-modules-locally-without-root-access-dynaloader-pm-line-22">How do I install modules locally without root access…</a>
</li>
<li>
<a href="https://stackoverflow.com/questions/251705/how-can-i-use-a-new-perl-module-without-install-permissions">How can I use a new Perl module without install permissions?</a>
</li>
</ul>
<p>From perlfaq8:</p>
<p>
<hr>
<a href="http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory" rel="noreferrer">How do I keep my own module/library directory?</a>
</p>
<p>When you build modules, tell Perl where to install the modules.</p>
<p>For Makefile.PL-based distributions, use the INSTALL_BASE option when generating Makefiles:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb341-1"><a href="#cb341-1"></a>perl Makefile.PL INSTALL_BASE=<span class="kw">/</span><span class="ot">mydir</span><span class="kw">/</span>perl</span></code></pre></div>
<p>You can set this in your CPAN.pm configuration so modules automatically install in your private library directory when you use the CPAN.pm shell:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb342-1"><a href="#cb342-1"></a>% cpan</span>
<span id="cb342-2"><a href="#cb342-2"></a>cpan&gt; o conf makepl_arg INSTALL_BASE=<span class="kw">/</span><span class="ot">mydir</span><span class="kw">/</span>perl</span>
<span id="cb342-3"><a href="#cb342-3"></a>cpan&gt; o conf commit</span></code></pre></div>
<p>For Build.PL-based distributions, use the –install_base option:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb343-1"><a href="#cb343-1"></a>perl Build.PL --install_base /mydir/perl</span></code></pre></div>
<p>You can configure CPAN.pm to automatically use this option too:</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb344-1"><a href="#cb344-1"></a>% cpan</span>
<span id="cb344-2"><a href="#cb344-2"></a>cpan&gt; o conf mbuildpl_arg <span class="kw">&#39;</span><span class="st">--install_base /mydir/perl</span><span class="kw">&#39;</span></span>
<span id="cb344-3"><a href="#cb344-3"></a>cpan&gt; o conf commit</span></code></pre></div>
</section>
<section id="answer-3-score-19-1" class="level4">
<h4>Answer 3 (score 19)</h4>
<p><a href="http://search.cpan.org/perldoc?local::lib" rel="noreferrer">local::lib</a> will help you. It will convince “make install” (and “Build install”) to install to a directory you can write to, and it will tell <code>perl</code> how to get at those modules.</p>
<p>In general, if you want to use a module that is in a blib/ directory, you want to say <code>perl -Mblib ...</code> where <code>...</code> is how you would normally invoke your script.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="the-correct-way-to-read-a-data-file-into-an-array-score-114674-in-2014" class="level3">
<h3>68: The correct way to read a data file into an array (score <a href="https://stackoverflow.com/q/8963400.html">114674</a> in 2014)</h3>
<section id="question-65" class="level4">
<h4>Question</h4>
<p>I have a data file, with each line having one number, like</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb345-1"><a href="#cb345-1"></a><span class="dv">10</span></span>
<span id="cb345-2"><a href="#cb345-2"></a><span class="dv">20</span></span>
<span id="cb345-3"><a href="#cb345-3"></a><span class="dv">30</span></span>
<span id="cb345-4"><a href="#cb345-4"></a><span class="dv">40</span></span></code></pre></div>
<p>How do I read this file and store the data into an array?</p>
<p>So that I can conduct some operations on this array.</p>
</section>
<section id="answer-accepted-score-77" class="level4">
<h4>Answer accepted (score 77)</h4>
<p>Just reading the file into an array, one line per element, is trivial:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb346-1"><a href="#cb346-1"></a><span class="fu">open</span> <span class="kw">my</span> <span class="dt">$handle</span>, <span class="kw">&#39;</span><span class="st">&lt;</span><span class="kw">&#39;</span>, <span class="dt">$path_to_file</span>;</span>
<span id="cb346-2"><a href="#cb346-2"></a><span class="fu">chomp</span>(<span class="kw">my</span> <span class="dt">@lines</span> = &lt;<span class="dt">$handle</span>&gt;);</span>
<span id="cb346-3"><a href="#cb346-3"></a><span class="fu">close</span> <span class="dt">$handle</span>;</span></code></pre></div>
<p>Now the lines of the file are in the array <code>@lines</code>.</p>
<p>If you want to make sure there is error handling for <code>open</code> and <code>close</code>, do something like this (in the snipped below, we <a href="https://perldoc.perl.org/Encode.html#Encoding-via-PerlIO" rel="noreferrer">open the file in UTF-8 mode</a>, too):</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb347-1"><a href="#cb347-1"></a><span class="kw">my</span> <span class="dt">$handle</span>;</span>
<span id="cb347-2"><a href="#cb347-2"></a><span class="kw">unless</span> (<span class="fu">open</span> <span class="dt">$handle</span>, <span class="kw">&quot;</span><span class="st">&lt;:encoding(utf8)</span><span class="kw">&quot;</span>, <span class="dt">$path_to_file</span>) {</span>
<span id="cb347-3"><a href="#cb347-3"></a>   <span class="fu">print</span> STDERR <span class="kw">&quot;</span><span class="st">Could not open file &#39;</span><span class="dt">$path_to_file</span><span class="kw">&#39;</span><span class="st">: </span><span class="dt">$!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb347-4"><a href="#cb347-4"></a>   <span class="co"># we return &#39;undefined&#39;, we could also &#39;die&#39; or &#39;croak&#39;</span></span>
<span id="cb347-5"><a href="#cb347-5"></a>   <span class="kw">return</span> <span class="fu">undef</span></span>
<span id="cb347-6"><a href="#cb347-6"></a>}</span>
<span id="cb347-7"><a href="#cb347-7"></a><span class="fu">chomp</span>(<span class="kw">my</span> <span class="dt">@lines</span> = &lt;<span class="dt">$handle</span>&gt;);</span>
<span id="cb347-8"><a href="#cb347-8"></a><span class="kw">unless</span> (<span class="fu">close</span> <span class="dt">$handle</span>) {</span>
<span id="cb347-9"><a href="#cb347-9"></a>   <span class="co"># what does it mean if close yields an error and you are just reading?</span></span>
<span id="cb347-10"><a href="#cb347-10"></a>   <span class="fu">print</span> STDERR <span class="kw">&quot;</span><span class="st">Don&#39;t care error while closing &#39;</span><span class="dt">$path_to_file</span><span class="kw">&#39;</span><span class="st">: </span><span class="dt">$!</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb347-11"><a href="#cb347-11"></a>} </span></code></pre></div>
</section>
<section id="answer-2-score-11-1" class="level4">
<h4>Answer 2 (score 11)</h4>
<p>There is the easiest method, using <code>File::Slurp</code> module:</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb348-1"><a href="#cb348-1"></a><span class="fu">use</span> <span class="fu">File::Slurp</span>;</span>
<span id="cb348-2"><a href="#cb348-2"></a><span class="kw">my</span> <span class="dt">@lines</span> = read_file(<span class="kw">&quot;</span><span class="st">filename</span><span class="kw">&quot;</span>, <span class="fu">chomp</span> =&gt; <span class="dv">1</span>); <span class="co"># will chomp() each line</span></span></code></pre></div>
<p>If you need some validation for each line you can use <code>grep</code> in front of <code>read_file</code>.</p>
<p>For example, filter lines which contain only integers:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb349-1"><a href="#cb349-1"></a><span class="kw">my</span> <span class="dt">@lines</span> = <span class="fu">grep</span> { <span class="kw">/</span><span class="ch">^</span><span class="bn">\d</span><span class="ch">+$</span><span class="kw">/</span> } read_file(<span class="kw">&quot;</span><span class="st">filename</span><span class="kw">&quot;</span>, <span class="fu">chomp</span> =&gt; <span class="dv">1</span>);</span></code></pre></div>
</section>
<section id="answer-3-score-10-3" class="level4">
<h4>Answer 3 (score 10)</h4>
<p>I like…</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb350-1"><a href="#cb350-1"></a><span class="dt">@data</span> = <span class="kw">`</span><span class="st">cat /var/tmp/somefile</span><span class="kw">`</span>;</span></code></pre></div>
<p>It’s not as glamorous as others, but, it works all the same. And…</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb351-1"><a href="#cb351-1"></a><span class="dt">$todays_data</span> = <span class="kw">&#39;</span><span class="st">/var/tmp/somefile</span><span class="kw">&#39;</span> ;</span>
<span id="cb351-2"><a href="#cb351-2"></a><span class="fu">open</span> INFILE, <span class="kw">&quot;</span><span class="dt">$todays_data</span><span class="kw">&quot;</span> ; </span>
<span id="cb351-3"><a href="#cb351-3"></a><span class="dt">@data</span> = <span class="kw">&lt;INFILE&gt;</span> ; </span>
<span id="cb351-4"><a href="#cb351-4"></a><span class="fu">close</span> INFILE ;</span></code></pre></div>
<p>Cheers.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-see-if-a-directory-exists-or-not-in-perl-score-113090-in" class="level3">
<h3>69: How to see if a directory exists or not in Perl? (score <a href="https://stackoverflow.com/q/4486951.html">113090</a> in )</h3>
<section id="question-66" class="level4">
<h4>Question</h4>
<p>To see if a file exists before using it, we can use:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb352-1"><a href="#cb352-1"></a><span class="kw">if</span> (<span class="kw">-e</span> <span class="kw">&quot;</span><span class="st">filename.cgi</span><span class="kw">&quot;</span>)</span>
<span id="cb352-2"><a href="#cb352-2"></a>{</span>
<span id="cb352-3"><a href="#cb352-3"></a> <span class="co">#proceed with your code</span></span>
<span id="cb352-4"><a href="#cb352-4"></a>} </span></code></pre></div>
<p>But how to indentify a directory exists or not?</p>
</section>
<section id="answer-accepted-score-93-1" class="level4">
<h4>Answer accepted (score 93)</h4>
<p>Use <code>-d</code> (<a href="http://perldoc.perl.org/functions/-X.html">full list of file tests</a>)</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb353-1"><a href="#cb353-1"></a><span class="kw">if</span> (<span class="kw">-d</span> <span class="kw">&quot;</span><span class="st">cgi-bin</span><span class="kw">&quot;</span>) {</span>
<span id="cb353-2"><a href="#cb353-2"></a>    <span class="co"># directory called cgi-bin exists</span></span>
<span id="cb353-3"><a href="#cb353-3"></a>}</span>
<span id="cb353-4"><a href="#cb353-4"></a><span class="kw">elsif</span> (<span class="kw">-e</span> <span class="kw">&quot;</span><span class="st">cgi-bin</span><span class="kw">&quot;</span>) {</span>
<span id="cb353-5"><a href="#cb353-5"></a>    <span class="co"># cgi-bin exists but is not a directory</span></span>
<span id="cb353-6"><a href="#cb353-6"></a>}</span>
<span id="cb353-7"><a href="#cb353-7"></a><span class="kw">else</span> {</span>
<span id="cb353-8"><a href="#cb353-8"></a>    <span class="co"># nothing called cgi-bin exists</span></span>
<span id="cb353-9"><a href="#cb353-9"></a>}</span></code></pre></div>
<p>As a note, <code>-e</code> doesn’t distinguish between files and directories. To check if something exists and is a plain file, use <code>-f</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-efficiently-calculate-a-running-standard-deviation-score-113026-in-2019" class="level3">
<h3>70: How to efficiently calculate a running standard deviation? (score <a href="https://stackoverflow.com/q/1174984.html">113026</a> in 2019)</h3>
<section id="question-67" class="level4">
<h4>Question</h4>
<p>I have an array of lists of numbers, e.g.:</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb354-1"><a href="#cb354-1"></a>[<span class="dv">0</span>] (<span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.02</span>, <span class="fl">0.04</span>, <span class="fl">0.03</span>)</span>
<span id="cb354-2"><a href="#cb354-2"></a>[<span class="dv">1</span>] (<span class="fl">0.00</span>, <span class="fl">0.02</span>, <span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>)</span>
<span id="cb354-3"><a href="#cb354-3"></a>[<span class="dv">2</span>] (<span class="fl">0.01</span>, <span class="fl">0.02</span>, <span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>)</span>
<span id="cb354-4"><a href="#cb354-4"></a>     ...</span>
<span id="cb354-5"><a href="#cb354-5"></a>[n] (<span class="fl">0.01</span>, <span class="fl">0.00</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.03</span>)</span></code></pre></div>
<p>What I would like to do is efficiently calculate the mean and standard deviation at each index of a list, across all array elements.</p>
<p>To do the mean, I have been looping through the array and summing the value at a given index of a list. At the end, I divide each value in my “averages list” by <code>n</code> (I am working with a population, not a sample from the population).</p>
<p>To do the standard deviation, I loop through again, now that I have the mean calculated.</p>
<p>I would like to avoid going through the array twice, once for the mean and then once for the SD (after I have a mean).</p>
<p>Is there an efficient method for calculating both values, only going through the array once? Any code in an interpreted language (e.g. Perl or Python) or pseudocode is fine.</p>
</section>
<section id="answer-accepted-score-106" class="level4">
<h4>Answer accepted (score 106)</h4>
<p>The answer is to use Welford’s algorithm, which is very clearly defined after the “naive methods” in:</p>
<ul>
<li>
Wikipedia: <a href="http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance" rel="noreferrer">Algorithms for calculating variance</a>
</ul>
<p>It’s more numerically stable than either the two-pass or online simple sum of squares collectors suggested in other responses. The stability only really matters when you have lots of values that are close to each other as they lead to what is known as “<a href="https://introcs.cs.princeton.edu/java/91float/" rel="noreferrer">catastrophic cancellation</a>” in the floating point literature.</p>
<p>You might also want to brush up on the difference between dividing by the number of samples (N) and N-1 in the variance calculation (squared deviation). Dividing by N-1 leads to an unbiased estimate of variance from the sample, whereas dividing by N on average underestimates variance (because it doesn’t take into account the variance between the sample mean and the true mean).</p>
<p>I wrote two blog entries on the topic which go into more details, including how to delete previous values online:</p>
<ul>
<li>
<a href="http://lingpipe-blog.com/2009/03/19/computing-sample-mean-variance-online-one-pass/" rel="noreferrer">Computing Sample Mean and Variance Online in One Pass</a>
<li>
<a href="http://lingpipe-blog.com/2009/07/07/welford-s-algorithm-delete-online-mean-variance-deviation/" rel="noreferrer">Deleting Values in Welford’s Algorithm for Online Mean and Variance</a>
</ul>
<p>You can also take a look at my Java implement; the javadoc, source, and unit tests are all online:</p>
<ul>
<li>
<a href="http://alias-i.com/lingpipe/docs/api/com/aliasi/stats/OnlineNormalEstimator.html" rel="noreferrer">Javadoc: <code>stats.OnlineNormalEstimator</code></a>
<li>
<a href="http://alias-i.com/lingpipe/src/com/aliasi/stats/OnlineNormalEstimator.java" rel="noreferrer">Source: <code>stats.OnlineNormalEstimator.java</code></a>
<li>
<a href="http://alias-i.com/lingpipe/src/com/aliasi/test/unit/stats/OnlineNormalEstimatorTest.java" rel="noreferrer">JUnit Source: <code>test.unit.stats.OnlineNormalEstimatorTest.java</code></a>
<li>
<a href="http://alias-i.com/lingpipe" rel="noreferrer">LingPipe Home Page</a>
</ul>
</section>
<section id="answer-2-score-70" class="level4">
<h4>Answer 2 (score 70)</h4>
<p>The basic answer is to accumulate the sum of both <em>x</em> (call it ‘sum_x1’) and <em>x</em><sup>2</sup> (call it ‘sum_x2’) as you go. The value of the standard deviation is then:</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb355-1"><a href="#cb355-1"></a>stdev = <span class="fu">sqrt</span>((sum_x2 / n) - (mean <span class="kw">*</span> mean)) </span></code></pre></div>
<p>where</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb356-1"><a href="#cb356-1"></a>mean = sum_x / n</span></code></pre></div>
<p>This is the sample standard deviation; you get the population standard deviation using ‘n’ instead of ‘n - 1’ as the divisor.</p>
<p>You may need to worry about the numerical stability of taking the difference between two large numbers if you are dealing with large samples. Go to the external references in other answers (Wikipedia, etc) for more information.</p>
</section>
<section id="answer-3-score-26" class="level4">
<h4>Answer 3 (score 26)</h4>
<p>Perhaps not what you were asking, but … If you use a numpy array, it will do the work for you, efficiently:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb357-1"><a href="#cb357-1"></a>from numpy <span class="fu">import</span> array</span>
<span id="cb357-2"><a href="#cb357-2"></a></span>
<span id="cb357-3"><a href="#cb357-3"></a>nums = array(((<span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.02</span>, <span class="fl">0.04</span>, <span class="fl">0.03</span>),</span>
<span id="cb357-4"><a href="#cb357-4"></a>              (<span class="fl">0.00</span>, <span class="fl">0.02</span>, <span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>),</span>
<span id="cb357-5"><a href="#cb357-5"></a>              (<span class="fl">0.01</span>, <span class="fl">0.02</span>, <span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.02</span>),</span>
<span id="cb357-6"><a href="#cb357-6"></a>              (<span class="fl">0.01</span>, <span class="fl">0.00</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.03</span>)))</span>
<span id="cb357-7"><a href="#cb357-7"></a></span>
<span id="cb357-8"><a href="#cb357-8"></a><span class="fu">print</span> nums.std(axis=<span class="dv">1</span>)</span>
<span id="cb357-9"><a href="#cb357-9"></a><span class="co"># [ 0.0116619   0.00979796  0.00632456  0.01788854]</span></span>
<span id="cb357-10"><a href="#cb357-10"></a></span>
<span id="cb357-11"><a href="#cb357-11"></a><span class="fu">print</span> nums.mean(axis=<span class="dv">1</span>)</span>
<span id="cb357-12"><a href="#cb357-12"></a><span class="co"># [ 0.022  0.018  0.02   0.02 ]</span></span></code></pre></div>
<p>By the way, there’s some interesting discussion in this blog post and comments on one-pass methods for computing means and variances:</p>
<ul>
<li>
<a href="http://lingpipe-blog.com/2009/03/19/computing-sample-mean-variance-online-one-pass/" rel="noreferrer">http://lingpipe-blog.com/2009/03/19/computing-sample-mean-variance-online-one-pass/</a>
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="counting-array-elements-in-perl-score-112206-in-2016" class="level3">
<h3>71: Counting array elements in Perl (score <a href="https://stackoverflow.com/q/863426.html">112206</a> in 2016)</h3>
<section id="question-68" class="level4">
<h4>Question</h4>
<p>How do I get the total items in an array, NOT the last id?</p>
<p>None of two ways I found to do this works:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb358-1"><a href="#cb358-1"></a><span class="kw">my</span> <span class="dt">@a</span>;</span>
<span id="cb358-2"><a href="#cb358-2"></a><span class="co"># Add some elements (no consecutive ids)</span></span>
<span id="cb358-3"><a href="#cb358-3"></a><span class="dt">$a</span>[<span class="dv">0</span>]= <span class="kw">&#39;</span><span class="st">1</span><span class="kw">&#39;</span>;</span>
<span id="cb358-4"><a href="#cb358-4"></a><span class="dt">$a</span>[<span class="dv">5</span>]= <span class="kw">&#39;</span><span class="st">2</span><span class="kw">&#39;</span>;</span>
<span id="cb358-5"><a href="#cb358-5"></a><span class="dt">$a</span>[<span class="dv">23</span>]= <span class="kw">&#39;</span><span class="st">3</span><span class="kw">&#39;</span>;</span>
<span id="cb358-6"><a href="#cb358-6"></a></span>
<span id="cb358-7"><a href="#cb358-7"></a><span class="fu">print</span> <span class="dt">$#a</span>, <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>; <span class="co"># Prints 23</span></span>
<span id="cb358-8"><a href="#cb358-8"></a><span class="fu">print</span> <span class="fu">scalar</span>(<span class="dt">@a</span>), <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>; <span class="co"># Prints 24</span></span></code></pre></div>
<p>I expected to get 3…</p>
</section>
<section id="answer-accepted-score-39" class="level4">
<h4>Answer accepted (score 39)</h4>
<p><strong>Edit: Hash versus Array</strong></p>
<p>As cincodenada correctly pointed out in the comment, ysth gave a better answer: I should have answered your question with another question: “Do you really want to use a Perl array? A hash may be more appropriate.”</p>
<p>An array allocates memory for all possible indices up to the largest used so-far. In your example, you allocate 24 cells (but use only 3). By contrast, a hash only allocates space for those fields that are actually used.</p>
<p><strong>Array solution: scalar grep</strong></p>
<p>Here are two possible solutions (see below for explanation):</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb359-1"><a href="#cb359-1"></a><span class="fu">print</span> <span class="fu">scalar</span>(<span class="fu">grep</span> {<span class="fu">defined</span> <span class="dt">$_</span>} <span class="dt">@a</span>), <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;  <span class="co"># prints 3</span></span>
<span id="cb359-2"><a href="#cb359-2"></a><span class="fu">print</span> <span class="fu">scalar</span>(<span class="fu">grep</span> <span class="dt">$_</span>, <span class="dt">@a</span>), <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;            <span class="co"># prints 3</span></span></code></pre></div>
<p>Explanation: After adding <code>$a[23]</code>, your array really contains 24 elements — but most of them are undefined (which also evaluates as false). You can count the number of defined elements (as done in the first solution) or the number of true elements (second solution).</p>
<p>What is the difference? If you set <code>$a[10]=0</code>, then the first solution will count it, but the second solution won’t (because 0 is false but defined). If you set <code>$a[3]=undef</code>, none of the solutions will count it.</p>
<p><strong>Hash solution (by yst)</strong></p>
<p>As suggested by another solution, you can work with a hash and avoid all the problems:</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb360-1"><a href="#cb360-1"></a><span class="dt">$a</span>{<span class="dv">0</span>}  = <span class="dv">1</span>;</span>
<span id="cb360-2"><a href="#cb360-2"></a><span class="dt">$a</span>{<span class="dv">5</span>}  = <span class="dv">2</span>;</span>
<span id="cb360-3"><a href="#cb360-3"></a><span class="dt">$a</span>{<span class="dv">23</span>} = <span class="dv">3</span>;</span>
<span id="cb360-4"><a href="#cb360-4"></a><span class="fu">print</span> <span class="fu">scalar</span>(<span class="fu">keys</span> <span class="dt">%a</span>), <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;  <span class="co"># prints 3</span></span></code></pre></div>
<p>This solution counts zeros and undef values.</p>
</section>
<section id="answer-2-score-16" class="level4">
<h4>Answer 2 (score 16)</h4>
<p>It sounds like you want a <a href="http://en.wikipedia.org/wiki/Sparse_array" rel="nofollow noreferrer">sparse array</a>. A normal array would have 24 items in it, but a sparse array would have 3. In Perl we emulate sparse arrays with hashes:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb361-1"><a href="#cb361-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb361-2"><a href="#cb361-2"></a></span>
<span id="cb361-3"><a href="#cb361-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb361-4"><a href="#cb361-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb361-5"><a href="#cb361-5"></a></span>
<span id="cb361-6"><a href="#cb361-6"></a><span class="kw">my</span> <span class="dt">%sparse</span>;</span>
<span id="cb361-7"><a href="#cb361-7"></a></span>
<span id="cb361-8"><a href="#cb361-8"></a><span class="dt">@sparse</span>{<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">23</span>} = (<span class="dv">1</span> .. <span class="dv">3</span>);</span>
<span id="cb361-9"><a href="#cb361-9"></a></span>
<span id="cb361-10"><a href="#cb361-10"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">there are </span><span class="kw">&quot;</span>, <span class="fu">scalar</span> <span class="fu">keys</span> <span class="dt">%sparse</span>, <span class="kw">&quot;</span><span class="st"> items in the sparse array</span><span class="ch">\n</span><span class="kw">&quot;</span>,</span>
<span id="cb361-11"><a href="#cb361-11"></a>    <span class="fu">map</span> { <span class="kw">&quot;</span><span class="ch">\t</span><span class="dt">$sparse</span><span class="st">{</span><span class="dt">$_</span><span class="st">}</span><span class="ch">\n</span><span class="kw">&quot;</span> } <span class="fu">sort</span> { <span class="dt">$a</span> &lt;=&gt; <span class="dt">$b</span> } <span class="fu">keys</span> <span class="dt">%sparse</span>;</span></code></pre></div>
<p>The <code>keys</code> function in scalar context will return the number of items in the sparse array. The only downside to using a hash to emulate a sparse array is that you must sort the keys before iterating over them if their order is important.</p>
<p>You must also remember to use the <a href="http://perldoc.perl.org/functions/delete.html" rel="nofollow noreferrer"><code>delete</code></a> function to remove items from the sparse array (just setting their value to undef is not enough).</p>
</section>
<section id="answer-3-score-14-4" class="level4">
<h4>Answer 3 (score 14)</h4>
<p>Maybe you want a hash instead (or in addition). Arrays are an ordered set of elements; if you create <code>$foo[23]</code>, you implicitly create <code>$foo[0]</code> through <code>$foo[22]</code>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="better-way-to-remove-specific-characters-from-a-perl-string-score-110624-in-2015" class="level3">
<h3>72: Better way to remove specific characters from a Perl string (score <a href="https://stackoverflow.com/q/9847554.html">110624</a> in 2015)</h3>
<section id="question-69" class="level4">
<h4>Question</h4>
<p>I have dynamically generated strings like <code>@#@!efq@!#!</code>, and I want to remove specific characters from the string using Perl.</p>
<p>Currently I am doing something this (replacing the characters with nothing):</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb362-1"><a href="#cb362-1"></a><span class="dt">$varTemp</span> =~ <span class="kw">s/</span><span class="ch">[</span><span class="bn">&#39;\$&#39;,&#39;\#&#39;,&#39;\@&#39;,&#39;\~&#39;,&#39;\!&#39;,&#39;\&amp;&#39;,&#39;\*&#39;,&#39;\(&#39;,&#39;\)&#39;,&#39;\[&#39;,&#39;\]&#39;,&#39;\;&#39;,&#39;\.&#39;,&#39;\,&#39;,&#39;\:&#39;,&#39;\?&#39;,&#39;\</span><span class="ch">^</span><span class="bn">&#39;,&#39; &#39;, &#39;\`&#39;,&#39;\\&#39;,&#39;\/&#39;</span><span class="ch">]</span><span class="kw">//g</span>;</span></code></pre></div>
<p>Is there a better way of doing this? I am fooking for something clean.</p>
</section>
<section id="answer-accepted-score-24" class="level4">
<h4>Answer accepted (score 24)</h4>
<p>You’ve misunderstood how <a href="http://www.regular-expressions.info/charclass.html" rel="noreferrer">character classes</a> are used:</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb363-1"><a href="#cb363-1"></a><span class="dt">$varTemp</span> =~ <span class="kw">s/</span><span class="ch">[</span><span class="bn">\$#@~!&amp;*()\[\];.,:?</span><span class="ch">^</span><span class="bn"> `\\\/</span><span class="ch">]+</span><span class="kw">//g</span>;</span></code></pre></div>
<p>does the same as your regex (assuming you didn’t mean to remove <code>'</code> characters from your strings).</p>
<p>Edit: The <code>+</code> allows several of those “special characters” to match at once, so it should also be faster.</p>
</section>
<section id="answer-2-score-17-1" class="level4">
<h4>Answer 2 (score 17)</h4>
<p>You could use the tr instead:</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb364-1"><a href="#cb364-1"></a>       <span class="dt">$p</span> =~ <span class="kw">tr</span><span class="ot">/fo//</span>d;</span></code></pre></div>
<p>will delete every f and every o from <code>$p</code>. In your case it should be:</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb365-1"><a href="#cb365-1"></a>       <span class="dt">$p</span> =~ <span class="kw">tr</span><span class="ot">/\$#@~!&amp;*()[];.,:?^ `\\\///</span>d</span></code></pre></div>
</section>
<section id="answer-3-score-7" class="level4">
<h4>Answer 3 (score 7)</h4>
<p>With a character class this big it is easier to say what you want to keep. A caret in the first position of a character class inverts its sense, so you can write</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb366-1"><a href="#cb366-1"></a><span class="dt">$varTemp</span> =~ <span class="kw">s/</span><span class="ch">[^</span><span class="bn">&quot;%&#39;+\-0-9&lt;=&gt;a-z_{|}</span><span class="ch">]+</span><span class="kw">//gi</span></span></code></pre></div>
<p>or, using the more efficient <code>tr</code></p>
<div class="sourceCode" id="cb367"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb367-1"><a href="#cb367-1"></a><span class="dt">$varTemp</span> =~ <span class="kw">tr</span><span class="ot">/&quot;%&#39;+\-0-9&lt;=&gt;A-Z_a-z{|}//</span>cd</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-remove-the-first-two-columns-in-a-file-using-shell-awk-sed-whatever-score-109506-in-2016" class="level3">
<h3>73: how to remove the first two columns in a file using shell (awk, sed, whatever) (score <a href="https://stackoverflow.com/q/13446255.html">109506</a> in 2016)</h3>
<section id="question-70" class="level4">
<h4>Question</h4>
<p>
I have a file with many lines in each line there are many columns(fields) separated by blank " " the numbers of columns in each line are different I want to remove the first two columns how to?
</p>
</section>
<section id="answer-2-score-138" class="level4">
<h4>Answer 2 (score 138)</h4>
<p>You can do it with <code>cut</code>:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb368-1"><a href="#cb368-1"></a>cut <span class="kw">-d</span> <span class="kw">&quot;</span><span class="st"> </span><span class="kw">&quot;</span> <span class="kw">-f</span> <span class="dv">3</span>- input_filename &gt; output_filename</span></code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<code>cut</code>: invoke the cut command
</li>
<li>
<code>-d " "</code>: use a single space as the delimiter (<code>cut</code> uses TAB by default)
</li>
<li>
<code>-f</code>: specify fields to keep
</li>
<li>
<code>3-</code>: all the fields starting with field 3
</li>
<li>
<code>input_filename</code>: use this file as the input
</li>
<li>
<code>&amp;gt; output_filename</code>: write the output to this file.
</li>
</ul>
<p>Alternatively, you can do it with <code>awk</code>:</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb369-1"><a href="#cb369-1"></a>awk <span class="kw">&#39;</span><span class="st">{$1=&quot;&quot;; $2=&quot;&quot;; sub(&quot;  &quot;, &quot; &quot;); print}</span><span class="kw">&#39;</span> input_filename &gt; output_filename</span></code></pre></div>
<p><strong>Explanation:</strong></p>
<ul>
<li>
<code>awk</code>: invoke the awk command
</li>
<li>
<code>$1=""; $2="";</code>: set field 1 and 2 to the empty string
</li>
<li>
<code>sub(...);</code>: clean up the output fields because fields 1 &amp; 2 will still be delimited by " "
</li>
<li>
<code>print</code>: print the modified line
</li>
<li>
<code>input_filename &amp;gt; output_filename</code>: same as above.
</li>
</ul>
</section>
<section id="answer-3-score-22-1" class="level4">
<h4>Answer 3 (score 22)</h4>
<p>Here’s one way to do it with Awk that’s relatively easy to understand:</p>
<div class="sourceCode" id="cb370"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb370-1"><a href="#cb370-1"></a>awk <span class="kw">&#39;</span><span class="st">{print substr($0, index($0, $3))}</span><span class="kw">&#39;</span></span></code></pre></div>
<p>This is a simple awk command with no pattern, so action inside <code>{}</code> is run for every input line.</p>
<p>The action is to simply prints the substring starting with the position of the 3rd field.</p>
<ul>
<li>
<code>$0</code>: the whole input line
</li>
<li>
<code>$3</code>: 3rd field
</li>
<li>
<code>index(in, find)</code>: returns the position of <code>find</code> in string <code>in</code>
</li>
<li>
<code>substr(string, start)</code>: return a substring starting at index <code>start</code>
</li>
</ul>
<p>If you want to use a different delimiter, such as comma, you can specify it with the -F option:</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb371-1"><a href="#cb371-1"></a>awk -F<span class="kw">&quot;</span><span class="st">,</span><span class="kw">&quot;</span> <span class="kw">&#39;</span><span class="st">{print substr($0, index($0, $3))}</span><span class="kw">&#39;</span></span></code></pre></div>
<p>You can also operate this on a subset of the input lines by specifying a pattern before the action in <code>{}</code>. Only lines matching the pattern will have the action run.</p>
<div class="sourceCode" id="cb372"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb372-1"><a href="#cb372-1"></a>awk <span class="kw">&#39;</span><span class="st">pattern{print substr($0, index($0, $3))}</span><span class="kw">&#39;</span></span></code></pre></div>
<p>Where pattern can be something such as:</p>
<ul>
<li>
<code>/abcdef/</code>: use regular expression, operates on $0 by default.
</li>
<li>
<code>$1 ~ /abcdef/</code>: operate on a specific field.
</li>
<li>
<code>$1 == blabla</code>: use string comparison
</li>
<li>
<code>NR &amp;gt; 1</code>: use record/line number
</li>
<li>
<code>NF &amp;gt; 0</code>: use field/column number
</li>
</ul>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="whats-the-safest-way-to-iterate-through-the-keys-of-a-perl-hash-score-109288-in-2008" class="level3">
<h3>74: What’s the safest way to iterate through the keys of a Perl hash? (score <a href="https://stackoverflow.com/q/3033.html">109288</a> in 2008)</h3>
<section id="question-71" class="level4">
<h4>Question</h4>
<p>If I have a Perl hash with a bunch of (key, value) pairs, what is the preferred method of iterating through all the keys? I have heard that using <code>each</code> may in some way have unintended side effects. So, is that true, and is one of the two following methods best, or is there a better way?</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb373-1"><a href="#cb373-1"></a><span class="co"># Method 1</span></span>
<span id="cb373-2"><a href="#cb373-2"></a><span class="kw">while</span> (<span class="kw">my</span> (<span class="dt">$key</span>, <span class="dt">$value</span>) = <span class="kw">each</span>(<span class="dt">%hash</span>)) {</span>
<span id="cb373-3"><a href="#cb373-3"></a>    <span class="co"># Something</span></span>
<span id="cb373-4"><a href="#cb373-4"></a>}</span>
<span id="cb373-5"><a href="#cb373-5"></a></span>
<span id="cb373-6"><a href="#cb373-6"></a><span class="co"># Method 2</span></span>
<span id="cb373-7"><a href="#cb373-7"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$key</span> (<span class="fu">keys</span>(<span class="dt">%hash</span>)) {</span>
<span id="cb373-8"><a href="#cb373-8"></a>    <span class="co"># Something</span></span>
<span id="cb373-9"><a href="#cb373-9"></a>}</span></code></pre></div>
</section>
<section id="answer-accepted-score-192-1" class="level4">
<h4>Answer accepted (score 192)</h4>
<p>The rule of thumb is to use the function most suited to your needs.</p>
<p>If you just want the keys and do not plan to ever <em>read</em> any of the values, use keys():</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb374-1"><a href="#cb374-1"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$key</span> (<span class="fu">keys</span> <span class="dt">%hash</span>) { ... }</span></code></pre></div>
<p>If you just want the values, use values():</p>
<div class="sourceCode" id="cb375"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb375-1"><a href="#cb375-1"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$val</span> (<span class="fu">values</span> <span class="dt">%hash</span>) { ... }</span></code></pre></div>
<p>If you need the keys <em>and</em> the values, use each():</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb376-1"><a href="#cb376-1"></a><span class="fu">keys</span> <span class="dt">%hash</span>; <span class="co"># reset the internal iterator so a prior each() doesn&#39;t affect the loop</span></span>
<span id="cb376-2"><a href="#cb376-2"></a><span class="kw">while</span>(<span class="kw">my</span>(<span class="dt">$k</span>, <span class="dt">$v</span>) = <span class="kw">each</span> <span class="dt">%hash</span>) { ... }</span></code></pre></div>
<p>If you plan to change the keys of the hash in any way <em>except</em> for deleting the current key during the iteration, then you must not use each(). For example, this code to create a new set of uppercase keys with doubled values works fine using keys():</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb377-1"><a href="#cb377-1"></a><span class="dt">%h</span> = (a =&gt; <span class="dv">1</span>, b =&gt; <span class="dv">2</span>);</span>
<span id="cb377-2"><a href="#cb377-2"></a></span>
<span id="cb377-3"><a href="#cb377-3"></a><span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$k</span> (<span class="fu">keys</span> <span class="dt">%h</span>)</span>
<span id="cb377-4"><a href="#cb377-4"></a>{</span>
<span id="cb377-5"><a href="#cb377-5"></a>  <span class="dt">$h</span>{<span class="fu">uc</span> <span class="dt">$k</span>} = <span class="dt">$h</span>{<span class="dt">$k</span>} <span class="kw">*</span> <span class="dv">2</span>;</span>
<span id="cb377-6"><a href="#cb377-6"></a>}</span></code></pre></div>
<p>producing the expected resulting hash:</p>
<div class="sourceCode" id="cb378"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb378-1"><a href="#cb378-1"></a>(a =&gt; <span class="dv">1</span>, A =&gt; <span class="dv">2</span>, b =&gt; <span class="dv">2</span>, B =&gt; <span class="dv">4</span>)</span></code></pre></div>
<p>But using each() to do the same thing:</p>
<div class="sourceCode" id="cb379"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb379-1"><a href="#cb379-1"></a><span class="dt">%h</span> = (a =&gt; <span class="dv">1</span>, b =&gt; <span class="dv">2</span>);</span>
<span id="cb379-2"><a href="#cb379-2"></a></span>
<span id="cb379-3"><a href="#cb379-3"></a><span class="fu">keys</span> <span class="dt">%h</span>;</span>
<span id="cb379-4"><a href="#cb379-4"></a><span class="kw">while</span>(<span class="kw">my</span>(<span class="dt">$k</span>, <span class="dt">$v</span>) = <span class="kw">each</span> <span class="dt">%h</span>)</span>
<span id="cb379-5"><a href="#cb379-5"></a>{</span>
<span id="cb379-6"><a href="#cb379-6"></a>  <span class="dt">$h</span>{<span class="fu">uc</span> <span class="dt">$k</span>} = <span class="dt">$h</span>{<span class="dt">$k</span>} <span class="kw">*</span> <span class="dv">2</span>; <span class="co"># BAD IDEA!</span></span>
<span id="cb379-7"><a href="#cb379-7"></a>}</span></code></pre></div>
<p>produces incorrect results in hard-to-predict ways. For example:</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb380-1"><a href="#cb380-1"></a>(a =&gt; <span class="dv">1</span>, A =&gt; <span class="dv">2</span>, b =&gt; <span class="dv">2</span>, B =&gt; <span class="dv">8</span>)</span></code></pre></div>
<p>This, however, is safe:</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb381-1"><a href="#cb381-1"></a><span class="fu">keys</span> <span class="dt">%h</span>;</span>
<span id="cb381-2"><a href="#cb381-2"></a><span class="kw">while</span>(<span class="kw">my</span>(<span class="dt">$k</span>, <span class="dt">$v</span>) = <span class="kw">each</span> <span class="dt">%h</span>)</span>
<span id="cb381-3"><a href="#cb381-3"></a>{</span>
<span id="cb381-4"><a href="#cb381-4"></a>  <span class="kw">if</span>(...)</span>
<span id="cb381-5"><a href="#cb381-5"></a>  {</span>
<span id="cb381-6"><a href="#cb381-6"></a>    <span class="fu">delete</span> <span class="dt">$h</span>{<span class="dt">$k</span>}; <span class="co"># This is safe</span></span>
<span id="cb381-7"><a href="#cb381-7"></a>  }</span>
<span id="cb381-8"><a href="#cb381-8"></a>}</span></code></pre></div>
<p>All of this is described in the perl documentation:</p>
<div class="sourceCode" id="cb382"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb382-1"><a href="#cb382-1"></a>% perldoc <span class="kw">-f</span> <span class="fu">keys</span></span>
<span id="cb382-2"><a href="#cb382-2"></a>% perldoc <span class="kw">-f</span> <span class="kw">each</span></span></code></pre></div>
</section>
<section id="answer-2-score-25-1" class="level4">
<h4>Answer 2 (score 25)</h4>
<p>
One thing you should be aware of when using <strong><code>each</code></strong> is that it has the side effect of adding “state” to your hash (the hash has to remember what the “next” key is). When using code like the snippets posted above, which iterate over the whole hash in one go, this is usually not a problem. However, you will run into hard to track down problems (I speak from experience ;), when using <code>each</code> together with statements like <code>last</code> or <code>return</code> to exit from the <code>while ... each</code> loop before you have processed all keys.
</p>
<p>
In this case, the hash will remember which keys it has already returned, and when you use <code>each</code> on it the next time (maybe in a totaly unrelated piece of code), it will continue at this position.
</p>
<p>Example:</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb383-1"><a href="#cb383-1"></a><span class="kw">my</span> <span class="dt">%hash</span> = ( foo =&gt; <span class="dv">1</span>, bar =&gt; <span class="dv">2</span>, baz =&gt; <span class="dv">3</span>, quux =&gt; <span class="dv">4</span> );</span>
<span id="cb383-2"><a href="#cb383-2"></a></span>
<span id="cb383-3"><a href="#cb383-3"></a><span class="co"># find key &#39;baz&#39;</span></span>
<span id="cb383-4"><a href="#cb383-4"></a><span class="kw">while</span> ( <span class="kw">my</span> (<span class="dt">$k</span>, <span class="dt">$v</span>) = <span class="kw">each</span> <span class="dt">%hash</span> ) {</span>
<span id="cb383-5"><a href="#cb383-5"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">found key </span><span class="dt">$k</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb383-6"><a href="#cb383-6"></a>    <span class="kw">last</span> <span class="kw">if</span> <span class="dt">$k</span> <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">baz</span><span class="kw">&#39;</span>; <span class="co"># found it!</span></span>
<span id="cb383-7"><a href="#cb383-7"></a>}</span>
<span id="cb383-8"><a href="#cb383-8"></a></span>
<span id="cb383-9"><a href="#cb383-9"></a><span class="co"># later ...</span></span>
<span id="cb383-10"><a href="#cb383-10"></a></span>
<span id="cb383-11"><a href="#cb383-11"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">the hash contains:</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb383-12"><a href="#cb383-12"></a></span>
<span id="cb383-13"><a href="#cb383-13"></a><span class="co"># iterate over all keys:</span></span>
<span id="cb383-14"><a href="#cb383-14"></a><span class="kw">while</span> ( <span class="kw">my</span> (<span class="dt">$k</span>, <span class="dt">$v</span>) = <span class="kw">each</span> <span class="dt">%hash</span> ) {</span>
<span id="cb383-15"><a href="#cb383-15"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$k</span><span class="st"> =&gt; </span><span class="dt">$v</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb383-16"><a href="#cb383-16"></a>}</span></code></pre></div>
<p>This prints:</p>
<div class="sourceCode" id="cb384"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb384-1"><a href="#cb384-1"></a>found key bar</span>
<span id="cb384-2"><a href="#cb384-2"></a>found key baz</span>
<span id="cb384-3"><a href="#cb384-3"></a>the hash contains:</span>
<span id="cb384-4"><a href="#cb384-4"></a>quux =&gt; <span class="dv">4</span></span>
<span id="cb384-5"><a href="#cb384-5"></a>foo =&gt; <span class="dv">1</span></span></code></pre></div>
<p>
What happened to keys “bar” and baz"? They’re still there, but the second <code>each</code> starts where the first one left off, and stops when it reaches the end of the hash, so we never see them in the second loop.
</p>
</section>
<section id="answer-3-score-20" class="level4">
<h4>Answer 3 (score 20)</h4>
<p>The place where <code>each</code> can cause you problems is that it’s a true, non-scoped iterator. By way of example:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb385-1"><a href="#cb385-1"></a><span class="kw">while</span> ( <span class="kw">my</span> (<span class="dt">$key</span>,<span class="dt">$val</span>) = <span class="kw">each</span> <span class="dt">%a_hash</span> ) {</span>
<span id="cb385-2"><a href="#cb385-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$key</span><span class="st"> =&gt; </span><span class="dt">$val</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb385-3"><a href="#cb385-3"></a>    <span class="kw">last</span> <span class="kw">if</span> <span class="dt">$val</span>; <span class="co">#exits loop when $val is true</span></span>
<span id="cb385-4"><a href="#cb385-4"></a>}</span>
<span id="cb385-5"><a href="#cb385-5"></a></span>
<span id="cb385-6"><a href="#cb385-6"></a><span class="co"># but &quot;each&quot; hasn&#39;t reset!!</span></span>
<span id="cb385-7"><a href="#cb385-7"></a><span class="kw">while</span> ( <span class="kw">my</span> (<span class="dt">$key</span>,<span class="dt">$val</span>) = <span class="kw">each</span> <span class="dt">%a_hash</span> ) {</span>
<span id="cb385-8"><a href="#cb385-8"></a>    <span class="co"># continues where the last loop left off</span></span>
<span id="cb385-9"><a href="#cb385-9"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$key</span><span class="st"> =&gt; </span><span class="dt">$val</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb385-10"><a href="#cb385-10"></a>}</span></code></pre></div>
<p>If you need to be sure that <code>each</code> gets all the keys and values, you need to make sure you use <code>keys</code> or <code>values</code> first (as that resets the iterator). See the <a href="http://perldoc.perl.org/functions/each.html" rel="noreferrer">documentation for each</a>.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-is-the-difference-between-my-and-our-in-perl-score-107621-in-2015" class="level3">
<h3>75: What is the difference between my and our in Perl? (score <a href="https://stackoverflow.com/q/845060.html">107621</a> in 2015)</h3>
<section id="question-72" class="level4">
<h4>Question</h4>
<p>I know what <code>my</code> is in Perl. It defines a variable that exists only in the scope of the block in which it is defined. What does <code>our</code> do? How does <code>our</code> differ from <code>my</code>?</p>
</section>
<section id="answer-accepted-score-211-1" class="level4">
<h4>Answer accepted (score 211)</h4>
<p>Great question: How does <strong><em><code>our</code></em></strong> differ from <strong><em><code>my</code></em></strong> and what does <em><code>our</code></em> do?</p>
<p>In Summary:</p>
<p>Available since Perl 5, <strong><em><code>my</code></em></strong> is a way to declare:</p>
<ul>
<li>
non-package variables, that are
</li>
<li>
private,
</li>
<li>
<em>new</em>,
</li>
<li>
<em>non-global</em> variables,
</li>
<li>
separate from any package. So that the variable <em>cannot</em> be accessed in the form of <code>$package_name::variable</code>.
</li>
</ul>
<p><br></p>
<p>On the other hand, <strong><em><code>our</code></em></strong> variables are:</p>
<ul>
<li>
package variables, and thus automatically
</li>
<li>
<em>global</em> variables,
</li>
<li>
definitely <em>not private</em>,
</li>
<li>
nor are they necessarily new; and they
</li>
<li>
<em>can</em> be accessed outside the package (or lexical scope) with the qualified namespace, as <code>$package_name::variable</code>.
</li>
</ul>
<p><br></p>
<p>Declaring a variable with <strong><em><code>our</code></em></strong> allows you to predeclare variables in order to use them under <em><code>use strict</code></em> without getting typo warnings or compile-time errors. Since Perl 5.6, it has replaced the obsolete <em><code>use vars</code></em>, which was only file-scoped, and not lexically scoped as is <strong><em><code>our</code></em></strong>.</p>
<p>For example, the formal, qualified name for variable <code>$x</code> inside <code>package main</code> is <code>$main::x</code>. Declaring <strong><em><code>our $x</code></em></strong> allows you to use the bare <code>$x</code> variable without penalty (i.e., without a resulting error), in the scope of the declaration, when the script uses <em><code>use strict</code></em> or <em><code>use strict "vars"</code></em>. The scope might be one, or two, or more packages, or one small block.</p>
</section>
<section id="answer-2-score-59-1" class="level4">
<h4>Answer 2 (score 59)</h4>
<p>The PerlMonks and PerlDoc links from cartman and Olafur are a great reference - below is my crack at a summary:</p>
<p><code>my</code> variables are lexically scoped within a single block defined by <code>{}</code> or within the same file if not in <code>{}</code>s. They are not accessible from packages/subroutines defined outside of the same lexical scope / block.</p>
<p><code>our</code> variables are scoped within a package/file and accessible from any code that <code>use</code> or <code>require</code> that package/file - name conflicts are resolved between packages by prepending the appropriate namespace.</p>
<p>Just to round it out, <code>local</code> variables are “dynamically” scoped, differing from <code>my</code> variables in that they are also accessible from subroutines called within the same block.</p>
</section>
<section id="answer-3-score-48" class="level4">
<h4>Answer 3 (score 48)</h4>
<p>An example:</p>
<div class="sourceCode" id="cb386"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb386-1"><a href="#cb386-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb386-2"><a href="#cb386-2"></a></span>
<span id="cb386-3"><a href="#cb386-3"></a><span class="kw">for</span> (<span class="dv">1</span> .. <span class="dv">2</span>){</span>
<span id="cb386-4"><a href="#cb386-4"></a>    <span class="co"># Both variables are lexically scoped to the block.</span></span>
<span id="cb386-5"><a href="#cb386-5"></a>    <span class="kw">our</span> (<span class="dt">$o</span>);  <span class="co"># Belongs to &#39;main&#39; package.</span></span>
<span id="cb386-6"><a href="#cb386-6"></a>    <span class="kw">my</span>  (<span class="dt">$m</span>);  <span class="co"># Does not belong to a package.</span></span>
<span id="cb386-7"><a href="#cb386-7"></a></span>
<span id="cb386-8"><a href="#cb386-8"></a>    <span class="co"># The variables differ with respect to newness.</span></span>
<span id="cb386-9"><a href="#cb386-9"></a>    <span class="dt">$o</span> ++;</span>
<span id="cb386-10"><a href="#cb386-10"></a>    <span class="dt">$m</span> ++;</span>
<span id="cb386-11"><a href="#cb386-11"></a>    <span class="fu">print</span> <span class="kw">__PACKAGE__</span>, <span class="kw">&quot;</span><span class="st"> &gt;&gt; o=</span><span class="dt">$o</span><span class="st"> m=</span><span class="dt">$m</span><span class="ch">\n</span><span class="kw">&quot;</span>;  <span class="co"># $m is always 1.</span></span>
<span id="cb386-12"><a href="#cb386-12"></a></span>
<span id="cb386-13"><a href="#cb386-13"></a>    <span class="co"># The package has changed, but we still have direct,</span></span>
<span id="cb386-14"><a href="#cb386-14"></a>    <span class="co"># unqualified access to both variables, because the</span></span>
<span id="cb386-15"><a href="#cb386-15"></a>    <span class="co"># lexical scope has not changed.</span></span>
<span id="cb386-16"><a href="#cb386-16"></a>    <span class="kw">package</span> Fubb;</span>
<span id="cb386-17"><a href="#cb386-17"></a>    <span class="fu">print</span> <span class="kw">__PACKAGE__</span>, <span class="kw">&quot;</span><span class="st"> &gt;&gt; o=</span><span class="dt">$o</span><span class="st"> m=</span><span class="dt">$m</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb386-18"><a href="#cb386-18"></a>}</span>
<span id="cb386-19"><a href="#cb386-19"></a></span>
<span id="cb386-20"><a href="#cb386-20"></a><span class="co"># The our() and my() variables differ with respect to privacy.</span></span>
<span id="cb386-21"><a href="#cb386-21"></a><span class="co"># We can still access the variable declared with our(), provided</span></span>
<span id="cb386-22"><a href="#cb386-22"></a><span class="co"># that we fully qualify its name, but the variable declared</span></span>
<span id="cb386-23"><a href="#cb386-23"></a><span class="co"># with my() is unavailable.</span></span>
<span id="cb386-24"><a href="#cb386-24"></a><span class="fu">print</span> <span class="kw">__PACKAGE__</span>, <span class="kw">&quot;</span><span class="st"> &gt;&gt; main::o=</span><span class="dt">$main</span>::<span class="dt">o</span><span class="ch">\n</span><span class="kw">&quot;</span>;  <span class="co"># 2</span></span>
<span id="cb386-25"><a href="#cb386-25"></a><span class="fu">print</span> <span class="kw">__PACKAGE__</span>, <span class="kw">&quot;</span><span class="st"> &gt;&gt; main::m=</span><span class="dt">$main</span>::<span class="dt">m</span><span class="ch">\n</span><span class="kw">&quot;</span>;  <span class="co"># Undefined.</span></span>
<span id="cb386-26"><a href="#cb386-26"></a></span>
<span id="cb386-27"><a href="#cb386-27"></a><span class="co"># Attempts to access the variables directly won&#39;t compile.</span></span>
<span id="cb386-28"><a href="#cb386-28"></a><span class="co"># print __PACKAGE__, &quot; &gt;&gt; o=$o\n&quot;;</span></span>
<span id="cb386-29"><a href="#cb386-29"></a><span class="co"># print __PACKAGE__, &quot; &gt;&gt; m=$m\n&quot;;</span></span>
<span id="cb386-30"><a href="#cb386-30"></a></span>
<span id="cb386-31"><a href="#cb386-31"></a><span class="co"># Variables declared with use vars() are like those declared</span></span>
<span id="cb386-32"><a href="#cb386-32"></a><span class="co"># with our(): belong to a package; not private; and not new.</span></span>
<span id="cb386-33"><a href="#cb386-33"></a><span class="co"># However, their scoping is package-based rather than lexical.</span></span>
<span id="cb386-34"><a href="#cb386-34"></a><span class="kw">for</span> (<span class="dv">1</span> .. <span class="dv">9</span>){</span>
<span id="cb386-35"><a href="#cb386-35"></a>    <span class="fu">use</span> <span class="kw">vars</span> <span class="kw">qw(</span>$uv<span class="kw">)</span>;</span>
<span id="cb386-36"><a href="#cb386-36"></a>    <span class="dt">$uv</span> ++;</span>
<span id="cb386-37"><a href="#cb386-37"></a>}</span>
<span id="cb386-38"><a href="#cb386-38"></a></span>
<span id="cb386-39"><a href="#cb386-39"></a><span class="co"># Even though we are outside the lexical scope where the</span></span>
<span id="cb386-40"><a href="#cb386-40"></a><span class="co"># use vars() variable was declared, we have direct access</span></span>
<span id="cb386-41"><a href="#cb386-41"></a><span class="co"># because the package has not changed.</span></span>
<span id="cb386-42"><a href="#cb386-42"></a><span class="fu">print</span> <span class="kw">__PACKAGE__</span>, <span class="kw">&quot;</span><span class="st"> &gt;&gt; uv=</span><span class="dt">$uv</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb386-43"><a href="#cb386-43"></a></span>
<span id="cb386-44"><a href="#cb386-44"></a><span class="co"># And we can access it from another package.</span></span>
<span id="cb386-45"><a href="#cb386-45"></a><span class="kw">package</span> Bubb;</span>
<span id="cb386-46"><a href="#cb386-46"></a><span class="fu">print</span> <span class="kw">__PACKAGE__</span>, <span class="kw">&quot;</span><span class="st"> &gt;&gt; main::uv=</span><span class="dt">$main</span>::<span class="dt">uv</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-list-all-of-the-files-in-a-directory-with-perl-score-107466-in-2014" class="level3">
<h3>76: How can I list all of the files in a directory with Perl? (score <a href="https://stackoverflow.com/q/1045792.html">107466</a> in 2014)</h3>
<section id="question-73" class="level4">
<h4>Question</h4>
<p>
Is there a function in Perl that lists all the files and directories in a directory? I remember that Java has the <code>File.list()</code> to do this? Is there a comparable method in Perl?
</p>
</section>
<section id="answer-accepted-score-83" class="level4">
<h4>Answer accepted (score 83)</h4>
<p>If you want to get content of given directory, and only it (i.e. no subdirectories), the best way is to use opendir/readdir/closedir:</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb387-1"><a href="#cb387-1"></a><span class="fu">opendir</span> <span class="kw">my</span> <span class="dt">$dir</span>, <span class="kw">&quot;</span><span class="st">/some/path</span><span class="kw">&quot;</span> <span class="kw">or</span> <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">Cannot open directory: </span><span class="dt">$!</span><span class="kw">&quot;</span>;</span>
<span id="cb387-2"><a href="#cb387-2"></a><span class="kw">my</span> <span class="dt">@files</span> = <span class="fu">readdir</span> <span class="dt">$dir</span>;</span>
<span id="cb387-3"><a href="#cb387-3"></a><span class="fu">closedir</span> <span class="dt">$dir</span>;</span></code></pre></div>
<p>You can also use:</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb388-1"><a href="#cb388-1"></a><span class="kw">my</span> <span class="dt">@files</span> = <span class="fu">glob</span>( <span class="dt">$dir</span> . <span class="kw">&#39;</span><span class="st">/*</span><span class="kw">&#39;</span> );</span></code></pre></div>
<p>But in my opinion it is not as good - mostly because glob is quite complex thing (can filter results automatically) and using it to get all elements of directory seems as a too simple task.</p>
<p>On the other hand, if you need to get content from all of the directories and subdirectories, there is basically one standard solution:</p>
<div class="sourceCode" id="cb389"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb389-1"><a href="#cb389-1"></a><span class="fu">use</span> <span class="fu">File::Find</span>;</span>
<span id="cb389-2"><a href="#cb389-2"></a></span>
<span id="cb389-3"><a href="#cb389-3"></a><span class="kw">my</span> <span class="dt">@content</span>;</span>
<span id="cb389-4"><a href="#cb389-4"></a>find( \&amp;wanted, <span class="kw">&#39;</span><span class="st">/some/path</span><span class="kw">&#39;</span>);</span>
<span id="cb389-5"><a href="#cb389-5"></a>do_something_with( <span class="dt">@content</span> );</span>
<span id="cb389-6"><a href="#cb389-6"></a></span>
<span id="cb389-7"><a href="#cb389-7"></a><span class="fu">exit</span>;</span>
<span id="cb389-8"><a href="#cb389-8"></a></span>
<span id="cb389-9"><a href="#cb389-9"></a><span class="kw">sub </span><span class="fu">wanted</span> {</span>
<span id="cb389-10"><a href="#cb389-10"></a>  <span class="fu">push</span> <span class="dt">@content</span>, <span class="dt">$File</span>::<span class="dt">Find</span>::<span class="dt">name</span>;</span>
<span id="cb389-11"><a href="#cb389-11"></a>  <span class="kw">return</span>;</span>
<span id="cb389-12"><a href="#cb389-12"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-12-2" class="level4">
<h4>Answer 2 (score 12)</h4>
<p>readdir() does that.</p>
<p>Check <a href="http://perldoc.perl.org/functions/readdir.html" rel="noreferrer">http://perldoc.perl.org/functions/readdir.html</a></p>
<div class="sourceCode" id="cb390"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb390-1"><a href="#cb390-1"></a><span class="fu">opendir</span>(DIR, <span class="dt">$some_dir</span>) || <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">can&#39;t opendir </span><span class="dt">$some_dir</span><span class="st">: </span><span class="dt">$!</span><span class="kw">&quot;</span>;</span>
<span id="cb390-2"><a href="#cb390-2"></a><span class="dt">@dots</span> = <span class="fu">grep</span> { <span class="kw">/</span><span class="ch">^</span><span class="ot">\.</span><span class="kw">/</span> &amp;&amp; <span class="kw">-f</span> <span class="kw">&quot;</span><span class="dt">$some_dir</span><span class="st">/</span><span class="dt">$_</span><span class="kw">&quot;</span> } <span class="fu">readdir</span>(DIR);</span>
<span id="cb390-3"><a href="#cb390-3"></a><span class="fu">closedir</span> DIR;</span></code></pre></div>
</section>
<section id="answer-3-score-11-1" class="level4">
<h4>Answer 3 (score 11)</h4>
<p>Or <a href="http://search.cpan.org/~nwclark/perl-5.8.9/lib/File/Find.pm" rel="noreferrer">File::Find</a></p>
<div class="sourceCode" id="cb391"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb391-1"><a href="#cb391-1"></a><span class="fu">use</span> <span class="fu">File::Find</span>;</span>
<span id="cb391-2"><a href="#cb391-2"></a>finddepth(\&amp;wanted, <span class="kw">&#39;</span><span class="st">/some/path/to/dir</span><span class="kw">&#39;</span>);</span>
<span id="cb391-3"><a href="#cb391-3"></a><span class="kw">sub </span><span class="fu">wanted</span> { <span class="fu">print</span> };</span></code></pre></div>
<p>It’ll go through subdirectories if they exist.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-sleep-for-a-millisecond-in-perl-score-107325-in-2012" class="level3">
<h3>77: How do I sleep for a millisecond in Perl? (score <a href="https://stackoverflow.com/q/896904.html">107325</a> in 2012)</h3>
<section id="question-74" class="level4">
<h4>Question</h4>
<p>How do I sleep for shorter than a second in Perl?</p>
</section>
<section id="answer-accepted-score-104-1" class="level4">
<h4>Answer accepted (score 104)</h4>
<p>From the Perldoc page on <a href="http://perldoc.perl.org/functions/sleep.html" rel="noreferrer">sleep</a>:</p>
<blockquote>
For delays of finer granularity than one second, the <a href="http://perldoc.perl.org/Time/HiRes.html" rel="noreferrer">Time::HiRes</a> module (from CPAN, and starting from Perl 5.8 part of the standard distribution) provides usleep().
</blockquote>
<p>Actually, it provides <code>usleep()</code> (which sleeps in microseconds) and <code>nanosleep()</code> (which sleeps in nanoseconds). You may want <code>usleep()</code>, which should let you deal with easier numbers. 1 millisecond sleep (using each):</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb392-1"><a href="#cb392-1"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb392-2"><a href="#cb392-2"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb392-3"><a href="#cb392-3"></a></span>
<span id="cb392-4"><a href="#cb392-4"></a><span class="fu">use</span> <span class="fu">Time::HiRes</span> <span class="kw">qw(</span>usleep nanosleep<span class="kw">)</span>;</span>
<span id="cb392-5"><a href="#cb392-5"></a></span>
<span id="cb392-6"><a href="#cb392-6"></a><span class="co"># 1 millisecond == 1000 microseconds</span></span>
<span id="cb392-7"><a href="#cb392-7"></a>usleep(<span class="dv">1000</span>);</span>
<span id="cb392-8"><a href="#cb392-8"></a><span class="co"># 1 microsecond == 1000 nanoseconds</span></span>
<span id="cb392-9"><a href="#cb392-9"></a>nanosleep(<span class="dv">1000000</span>);</span></code></pre></div>
<p>If you don’t want to (or can’t) load a module to do this, you may also be able to use the built-in <a href="http://perldoc.perl.org/functions/select.html" rel="noreferrer"><code>select()</code></a> function:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb393-1"><a href="#cb393-1"></a><span class="co"># Sleep for 250 milliseconds</span></span>
<span id="cb393-2"><a href="#cb393-2"></a><span class="fu">select</span>(<span class="fu">undef</span>, <span class="fu">undef</span>, <span class="fu">undef</span>, <span class="fl">0.25</span>);</span></code></pre></div>
</section>
<section id="answer-2-score-34-3" class="level4">
<h4>Answer 2 (score 34)</h4>
<p>Time::HiRes:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb394-1"><a href="#cb394-1"></a>  <span class="fu">use</span> <span class="fu">Time::HiRes</span>;</span>
<span id="cb394-2"><a href="#cb394-2"></a>  <span class="fu">Time::HiRes</span>::<span class="fu">sleep</span>(<span class="fl">0.1</span>); <span class="co">#.1 seconds</span></span>
<span id="cb394-3"><a href="#cb394-3"></a>  <span class="fu">Time::HiRes</span>::<span class="fu">usleep</span>(<span class="dv">1</span>); <span class="co"># 1 microsecond.</span></span></code></pre></div>
<p><a href="http://perldoc.perl.org/Time/HiRes.html" rel="noreferrer">http://perldoc.perl.org/Time/HiRes.html</a></p>
</section>
<section id="answer-3-score-12-2" class="level4">
<h4>Answer 3 (score 12)</h4>
<p>From <a href="http://faq.perl.org/perlfaq8.html#How_can_I_sleep_or_a" rel="noreferrer">perlfaq8</a>:</p>
<hr>
<p><strong>How can I sleep() or alarm() for under a second?</strong></p>
<p>If you want finer granularity than the 1 second that the sleep() function provides, the easiest way is to use the select() function as documented in select in perlfunc. Try the Time::HiRes and the BSD::Itimer modules (available from CPAN, and starting from Perl 5.8 Time::HiRes is part of the standard distribution).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="in-perl-how-to-remove-m-from-a-file-score-106742-in-2017" class="level3">
<h3>78: In Perl, how to remove ^M from a file? (score <a href="https://stackoverflow.com/q/650743.html">106742</a> in 2017)</h3>
<section id="question-75" class="level4">
<h4>Question</h4>
<p>I have a script that is appending new fields to an existing CSV, however <code>^M</code> characters are appearing at the end of the old lines so the new fields end up on a new row instead of the same one. How do I remove <code>^M</code> characters from a CSV file using Perl?</p>
</section>
<section id="answer-accepted-score-14" class="level4">
<h4>Answer accepted (score 14)</h4>
<p>You found out you can also do this:</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb395-1"><a href="#cb395-1"></a><span class="dt">$line</span>=~ <span class="kw">tr</span><span class="ot">/\015//</span>d;</span></code></pre></div>
</section>
<section id="answer-2-score-46" class="level4">
<h4>Answer 2 (score 46)</h4>
<p>^M is carriage return. You can do this:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb396-1"><a href="#cb396-1"></a><span class="dt">$str</span> =~ <span class="kw">s/</span><span class="ot">\r</span><span class="kw">//g</span></span></code></pre></div>
</section>
<section id="answer-3-score-23" class="level4">
<h4>Answer 3 (score 23)</h4>
<p>Or a 1-liner:</p>
<div class="sourceCode" id="cb397"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb397-1"><a href="#cb397-1"></a>perl <span class="kw">-p</span> -i <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">s/\r\n$/\n/g</span><span class="kw">&#39;</span> file1.txt file2.txt ... filen.txt</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="split-a-string-into-array-in-perl-score-106685-in-2018" class="level3">
<h3>79: Split a string into array in Perl (score <a href="https://stackoverflow.com/q/16872340.html">106685</a> in 2018)</h3>
<section id="question-76" class="level4">
<h4>Question</h4>
<div class="sourceCode" id="cb398"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb398-1"><a href="#cb398-1"></a><span class="kw">my</span> <span class="dt">$line</span> = <span class="kw">&quot;</span><span class="st">file1.gz file2.gz file3.gz</span><span class="kw">&quot;</span>;</span>
<span id="cb398-2"><a href="#cb398-2"></a><span class="kw">my</span> <span class="dt">@abc</span> = <span class="fu">split</span>(<span class="kw">&#39;&#39;</span>, <span class="dt">$line</span>);</span>
<span id="cb398-3"><a href="#cb398-3"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">@abc</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Expected output:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb399-1"><a href="#cb399-1"></a>file1.gz</span>
<span id="cb399-2"><a href="#cb399-2"></a>file2.gz</span>
<span id="cb399-3"><a href="#cb399-3"></a>file3.gz</span></code></pre></div>
<p>I want the output to be <code>file1.gz</code> in <code>$abc[0]</code>, <code>file2.gz</code> in <code>$abc[1]</code>, and <code>file3.gz</code> in <code>$abc[2]</code>. How do I split <code>$line</code>?</p>
</section>
<section id="answer-accepted-score-15" class="level4">
<h4>Answer accepted (score 15)</h4>
<p>Splitting a string by whitespace is very simple:</p>
<div class="sourceCode" id="cb400"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb400-1"><a href="#cb400-1"></a><span class="fu">print</span> <span class="dt">$_</span>, <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">for</span> <span class="fu">split</span> <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">file1.gz file1.gz file3.gz</span><span class="kw">&#39;</span>;</span></code></pre></div>
<p>This is a special form of <code>split</code> actually (as this function usually takes patterns instead of strings):</p>
<blockquote>
<p>
As another special case, <code>split</code> emulates the default behavior of the command line tool <code>awk</code> when the <code>PATTERN</code> is either omitted or a literal string composed of a single space character (such as <code>' '</code> or <code>"\x20"</code>). In this case, any leading whitespace in <code>EXPR</code> is removed before splitting occurs, and the <code>PATTERN</code> is instead treated as if it were <code>/\s+/</code>; in particular, this means that any contiguous whitespace (not just a single space character) is used as a separator.
</p>
</blockquote>
<hr>
<p>Here’s an answer for the original question (with a simple string without any whitespace):</p>
<p>Perhaps you want to split on <code>.gz</code> extension:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb401-1"><a href="#cb401-1"></a><span class="kw">my</span> <span class="dt">$line</span> = <span class="kw">&quot;</span><span class="st">file1.gzfile1.gzfile3.gz</span><span class="kw">&quot;</span>;</span>
<span id="cb401-2"><a href="#cb401-2"></a><span class="kw">my</span> <span class="dt">@abc</span> = <span class="fu">split</span> <span class="kw">/</span><span class="ch">(?&lt;=</span><span class="ot">\.gz</span><span class="ch">)</span><span class="kw">/</span>, <span class="dt">$line</span>;</span>
<span id="cb401-3"><a href="#cb401-3"></a><span class="fu">print</span> <span class="dt">$_</span>, <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">for</span> <span class="dt">@abc</span>;</span></code></pre></div>
<p>Here I used <code>(?&amp;lt;=...)</code> construct, which is <a href="http://perldoc.perl.org/perlre.html#Look-Around-Assertions">look-behind assertion</a>, basically making split at each point in the line preceded by <code>.gz</code> substring.</p>
<p>If you work with the fixed set of extensions, you can extend the pattern to include them all:</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb402-1"><a href="#cb402-1"></a><span class="kw">my</span> <span class="dt">$line</span> = <span class="kw">&quot;</span><span class="st">file1.gzfile2.txtfile2.gzfile3.xls</span><span class="kw">&quot;</span>;</span>
<span id="cb402-2"><a href="#cb402-2"></a><span class="kw">my</span> <span class="dt">@exts</span> = (<span class="kw">&#39;</span><span class="st">txt</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">xls</span><span class="kw">&#39;</span>, <span class="kw">&#39;</span><span class="st">gz</span><span class="kw">&#39;</span>);</span>
<span id="cb402-3"><a href="#cb402-3"></a><span class="kw">my</span> <span class="dt">$patt</span> = <span class="fu">join</span> <span class="kw">&#39;</span><span class="st">|</span><span class="kw">&#39;</span>, <span class="fu">map</span> { <span class="kw">&#39;</span><span class="st">(?&lt;=\.</span><span class="kw">&#39;</span> . <span class="dt">$_</span> . <span class="kw">&#39;</span><span class="st">)</span><span class="kw">&#39;</span> } <span class="dt">@exts</span>;</span>
<span id="cb402-4"><a href="#cb402-4"></a><span class="kw">my</span> <span class="dt">@abc</span> = <span class="fu">split</span> <span class="kw">/</span><span class="dt">$patt</span><span class="kw">/</span>, <span class="dt">$line</span>;</span>
<span id="cb402-5"><a href="#cb402-5"></a><span class="fu">print</span> <span class="dt">$_</span>, <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span> <span class="kw">for</span> <span class="dt">@abc</span>;</span></code></pre></div>
</section>
<section id="answer-2-score-10-1" class="level4">
<h4>Answer 2 (score 10)</h4>
<p>Having <code>$line</code> as it is now, you can simply split the string based on at least one whitespace separator</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb403-1"><a href="#cb403-1"></a><span class="kw">my</span> <span class="dt">@answer</span> = <span class="fu">split</span>(<span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span>, <span class="dt">$line</span>); <span class="co"># creates an @answer array</span></span></code></pre></div>
<p>then</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb404-1"><a href="#cb404-1"></a><span class="fu">print</span>(<span class="kw">&quot;</span><span class="dt">@answer</span><span class="ch">\n</span><span class="kw">&quot;</span>);               <span class="co"># print array on one line</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb405-1"><a href="#cb405-1"></a><span class="fu">print</span>(<span class="kw">&quot;</span><span class="dt">$_</span><span class="ch">\n</span><span class="kw">&quot;</span>) <span class="kw">for</span> (<span class="dt">@answer</span>);      <span class="co"># print each element on one line</span></span></code></pre></div>
<p>I prefer using <code>()</code> for <code>split</code>, <code>print</code> and <code>for</code>.</p>
</section>
<section id="answer-3-score--1" class="level4">
<h4>Answer 3 (score -1)</h4>
<p>I found this one to be very simple!</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb406-1"><a href="#cb406-1"></a><span class="kw">my</span> <span class="dt">$line</span> = <span class="kw">&quot;</span><span class="st">file1.gz file2.gz file3.gz</span><span class="kw">&quot;</span>;</span>
<span id="cb406-2"><a href="#cb406-2"></a></span>
<span id="cb406-3"><a href="#cb406-3"></a><span class="kw">my</span> <span class="dt">@abc</span> =  (<span class="dt">$line</span> =~ <span class="kw">/</span><span class="ch">(</span><span class="bn">\w</span><span class="ch">+[</span><span class="bn">.</span><span class="ch">]</span><span class="bn">\w</span><span class="ch">+)</span><span class="kw">/g</span>);</span>
<span id="cb406-4"><a href="#cb406-4"></a></span>
<span id="cb406-5"><a href="#cb406-5"></a><span class="fu">print</span> <span class="dt">$abc</span>[<span class="dv">0</span>],<span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb406-6"><a href="#cb406-6"></a><span class="fu">print</span> <span class="dt">$abc</span>[<span class="dv">1</span>],<span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb406-7"><a href="#cb406-7"></a><span class="fu">print</span> <span class="dt">$abc</span>[<span class="dv">2</span>],<span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>output:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb407-1"><a href="#cb407-1"></a>file1.gz </span>
<span id="cb407-2"><a href="#cb407-2"></a>file2.gz </span>
<span id="cb407-3"><a href="#cb407-3"></a>file3.gz</span></code></pre></div>
<p>Here take a look at this tutorial to find more on <a href="http://perldoc.perl.org/perlrequick.html" rel="nofollow noreferrer">Perl regular expression</a> and scroll down to <strong>More matching</strong> section.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="printing-everything-except-the-first-field-with-awk-score-105846-in-2018" class="level3">
<h3>80: Printing everything except the first field with awk (score <a href="https://stackoverflow.com/q/4198138.html">105846</a> in 2018)</h3>
<section id="question-77" class="level4">
<h4>Question</h4>
<p>I have a file that looks like this:</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb408-1"><a href="#cb408-1"></a>AE  United Arab Emirates</span>
<span id="cb408-2"><a href="#cb408-2"></a>AG  Antigua &amp; Barbuda</span>
<span id="cb408-3"><a href="#cb408-3"></a>AN  Netherlands Antilles</span>
<span id="cb408-4"><a href="#cb408-4"></a>AS  American Samoa</span>
<span id="cb408-5"><a href="#cb408-5"></a>BA  Bosnia <span class="kw">and</span> Herzegovina</span>
<span id="cb408-6"><a href="#cb408-6"></a>BF  Burkina Faso</span>
<span id="cb408-7"><a href="#cb408-7"></a>BN  Brunei Darussalam</span></code></pre></div>
<p>And I ’d like to invert the order, printing first everything except $1 and then $1:</p>
<div class="sourceCode" id="cb409"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb409-1"><a href="#cb409-1"></a>United Arab Emirates AE</span></code></pre></div>
<p>How can I do the “everything except field 1” trick?</p>
</section>
<section id="answer-accepted-score-81-1" class="level4">
<h4>Answer accepted (score 81)</h4>
<p>Assigning <code>$1</code> works but it will leave a leading space: <code>awk '{first = $1; $1 = ""; print $0, first; }'</code></p>
<p>You can also find the number of columns in <code>NF</code> and use that in a loop.</p>
</section>
<section id="answer-2-score-101" class="level4">
<h4>Answer 2 (score 101)</h4>
<p><code>$1=""</code> leaves a space as Ben Jackson mentioned, so use a <code>for</code> loop:</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb410-1"><a href="#cb410-1"></a>awk <span class="kw">&#39;</span><span class="st">{for (i=2; i&lt;=NF; i++) print $i}</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<p>So if your string was “one two three”, the output will be:</p>
<p>
two <br/> three
</p>
<p>If you want the result in one row, you could do as follows:</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb411-1"><a href="#cb411-1"></a>awk <span class="kw">&#39;</span><span class="st">{for (i=2; i&lt;NF; i++) printf $i &quot; &quot;; print $NF}</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<p>This will give you: “two three”</p>
</section>
<section id="answer-3-score-62" class="level4">
<h4>Answer 3 (score 62)</h4>
<p>Use the <code>cut</code> command with the <code>--complement</code> option:</p>
<div class="sourceCode" id="cb412"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb412-1"><a href="#cb412-1"></a>$ echo a b c | cut <span class="kw">-f</span> <span class="dv">1</span> <span class="kw">-d</span> <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span></span>
<span id="cb412-2"><a href="#cb412-2"></a>a</span>
<span id="cb412-3"><a href="#cb412-3"></a>$ echo a b c | cut <span class="kw">-f</span> <span class="dv">1</span>,<span class="dv">2</span> <span class="kw">-d</span> <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span></span>
<span id="cb412-4"><a href="#cb412-4"></a>a b</span>
<span id="cb412-5"><a href="#cb412-5"></a>$ echo a b c | cut <span class="kw">-f</span> <span class="dv">1</span> <span class="kw">-d</span> <span class="kw">&#39;</span><span class="st"> </span><span class="kw">&#39;</span> --complement</span>
<span id="cb412-6"><a href="#cb412-6"></a>b c</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="end-of-script-output-before-headers-error-in-apache-score-105429-in-2014" class="level3">
<h3>81: “End of script output before headers” error in Apache (score <a href="https://stackoverflow.com/q/22307610.html">105429</a> in 2014)</h3>
<section id="question-78" class="level4">
<h4>Question</h4>
<p>Apache on Windows gives me the following error when I try to access my Perl script:</p>
<div class="sourceCode" id="cb413"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb413-1"><a href="#cb413-1"></a>Server error!</span>
<span id="cb413-2"><a href="#cb413-2"></a></span>
<span id="cb413-3"><a href="#cb413-3"></a>The server encountered an internal error <span class="kw">and</span> was unable to complete your request.</span>
<span id="cb413-4"><a href="#cb413-4"></a></span>
<span id="cb413-5"><a href="#cb413-5"></a>Error message: </span>
<span id="cb413-6"><a href="#cb413-6"></a>End of script output before headers: sample.pl</span>
<span id="cb413-7"><a href="#cb413-7"></a></span>
<span id="cb413-8"><a href="#cb413-8"></a>If you think this is a server error, please contact the webmaster.</span>
<span id="cb413-9"><a href="#cb413-9"></a></span>
<span id="cb413-10"><a href="#cb413-10"></a>Error <span class="dv">500</span></span>
<span id="cb413-11"><a href="#cb413-11"></a></span>
<span id="cb413-12"><a href="#cb413-12"></a>localhost</span>
<span id="cb413-13"><a href="#cb413-13"></a>Apache/<span class="fl">2.4</span>.<span class="dv">4</span> (Win32) OpenSSL/<span class="fl">1.0</span>.1e PHP/<span class="fl">5.5</span>.<span class="dv">3</span></span></code></pre></div>
<p>this is my sample script</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb414-1"><a href="#cb414-1"></a><span class="co">#!&quot;C:\xampp\perl\bin\perl.exe&quot;</span></span>
<span id="cb414-2"><a href="#cb414-2"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Hello World</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>but not working on browser</p>
</section>
<section id="answer-2-score-18-1" class="level4">
<h4>Answer 2 (score 18)</h4>
<p>Check file permissions.</p>
<p>I had exactly the same error on a Linux machine with the wrong permissions set.</p>
<p><code>chmod 755 myfile.pl</code></p>
<p>solved the problem.</p>
</section>
<section id="answer-3-score-15-1" class="level4">
<h4>Answer 3 (score 15)</h4>
<p>If this is a CGI script for the web, then you must output your header:</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb415-1"><a href="#cb415-1"></a><span class="co">#!&quot;C:\xampp\perl\bin\perl.exe&quot;</span></span>
<span id="cb415-2"><a href="#cb415-2"></a></span>
<span id="cb415-3"><a href="#cb415-3"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Content-Type: text/html</span><span class="ch">\n\n</span><span class="kw">&quot;</span>;</span>
<span id="cb415-4"><a href="#cb415-4"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Hello World</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>The following error message tells you this <code>End of script output before headers: sample.pl</code></p>
<p>Or even better, use the <a href="http://search.cpan.org/search?query=CGI&amp;mode=all" rel="nofollow noreferrer">CGI</a> module to output the header:</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb416-1"><a href="#cb416-1"></a><span class="co">#!&quot;C:\xampp\perl\bin\perl.exe&quot;</span></span>
<span id="cb416-2"><a href="#cb416-2"></a></span>
<span id="cb416-3"><a href="#cb416-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb416-4"><a href="#cb416-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb416-5"><a href="#cb416-5"></a></span>
<span id="cb416-6"><a href="#cb416-6"></a><span class="fu">use</span> CGI;</span>
<span id="cb416-7"><a href="#cb416-7"></a></span>
<span id="cb416-8"><a href="#cb416-8"></a><span class="fu">print</span> <span class="fu">CGI::header</span>();</span>
<span id="cb416-9"><a href="#cb416-9"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Hello World</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="neatest-way-to-remove-linebreaks-in-perl-score-105050-in-2009" class="level3">
<h3>82: Neatest way to remove linebreaks in Perl (score <a href="https://stackoverflow.com/q/881779.html">105050</a> in 2009)</h3>
<section id="question-79" class="level4">
<h4>Question</h4>
<p>I’m maintaining a script that can get its input from various sources, and works on it per line. Depending on the actual source used, linebreaks might be Unix-style, Windows-style or even, for some aggregated input, mixed(!).</p>
<p>When reading from a file it goes something like this:</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb417-1"><a href="#cb417-1"></a><span class="dt">@lines</span> = <span class="kw">&lt;IN&gt;</span>;</span>
<span id="cb417-2"><a href="#cb417-2"></a>process(\<span class="dt">@lines</span>);</span>
<span id="cb417-3"><a href="#cb417-3"></a></span>
<span id="cb417-4"><a href="#cb417-4"></a>...</span>
<span id="cb417-5"><a href="#cb417-5"></a></span>
<span id="cb417-6"><a href="#cb417-6"></a><span class="kw">sub </span><span class="fu">process</span> {</span>
<span id="cb417-7"><a href="#cb417-7"></a>    <span class="dt">@lines</span> = <span class="fu">shift</span>;</span>
<span id="cb417-8"><a href="#cb417-8"></a>    <span class="kw">foreach</span> <span class="kw">my</span> <span class="dt">$line</span> (<span class="dt">@</span>{<span class="dt">$lines</span>}) {</span>
<span id="cb417-9"><a href="#cb417-9"></a>        <span class="fu">chomp</span> <span class="dt">$line</span>;</span>
<span id="cb417-10"><a href="#cb417-10"></a>        <span class="co">#Handle line by line</span></span>
<span id="cb417-11"><a href="#cb417-11"></a>    }</span>
<span id="cb417-12"><a href="#cb417-12"></a>}</span></code></pre></div>
<p>
So, what I need to do is replace the chomp with something that removes either Unix-style or Windows-style linebreaks. I’m coming up with way too many ways of solving this, one of the usual drawbacks of Perl :)
</p>
<p>What’s your opinion on the neatest way to chomp off generic linebreaks? What would be the most efficient?</p>
<p>Edit: A small clarification - the method ‘process’ gets a list of lines from somewhere, <em>not nessecarily read from a file</em>. Each line might have</p>
<ul>
<li>
No trailing linebreaks
</li>
<li>
Unix-style linebreaks
</li>
<li>
Windows-style linebreaks
</li>
<li>
Just Carriage-Return (when original data has Windows-style linebreaks and is read with $/ = ‘’)
</li>
<li>
An aggregated set where lines have different styles
</li>
</ul>
</section>
<section id="answer-accepted-score-88" class="level4">
<h4>Answer accepted (score 88)</h4>
<p>After digging a bit through the <a href="http://perldoc.perl.org/perlre.html" rel="noreferrer">perlre</a> docs a bit, I’ll present my best suggestion so far that seems to work pretty good. Perl 5.10 added the character class as a generalized linebreak:</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb418-1"><a href="#cb418-1"></a><span class="dt">$line</span> =~ <span class="kw">s/</span><span class="ot">\R</span><span class="kw">//g</span>;</span></code></pre></div>
<p>It’s the same as:</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb419-1"><a href="#cb419-1"></a>(?&gt;\x0D\x0A?|[\x0A-\x0C\x85\x{<span class="dv">2028</span>}\x{<span class="dv">2029</span>}])</span></code></pre></div>
<p>I’ll keep this question open a while yet, just to see if there’s more nifty ways waiting to be suggested.</p>
</section>
<section id="answer-2-score-12-3" class="level4">
<h4>Answer 2 (score 12)</h4>
<p>Whenever I go through input and want to remove or replace characters I run it through little subroutines like this one.</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb420-1"><a href="#cb420-1"></a><span class="kw">sub </span><span class="fu">clean</span> {</span>
<span id="cb420-2"><a href="#cb420-2"></a></span>
<span id="cb420-3"><a href="#cb420-3"></a>    <span class="kw">my</span> <span class="dt">$text</span> = <span class="fu">shift</span>;</span>
<span id="cb420-4"><a href="#cb420-4"></a></span>
<span id="cb420-5"><a href="#cb420-5"></a>    <span class="dt">$text</span> =~ <span class="kw">s/</span><span class="bn">\n</span><span class="kw">//g</span>;</span>
<span id="cb420-6"><a href="#cb420-6"></a>    <span class="dt">$text</span> =~ <span class="kw">s/</span><span class="ot">\r</span><span class="kw">//g</span>;</span>
<span id="cb420-7"><a href="#cb420-7"></a></span>
<span id="cb420-8"><a href="#cb420-8"></a>    <span class="kw">return</span> <span class="dt">$text</span>;</span>
<span id="cb420-9"><a href="#cb420-9"></a>}</span></code></pre></div>
<p>It may not be fancy but this method has been working flawless for me for years.</p>
</section>
<section id="answer-3-score-7-1" class="level4">
<h4>Answer 3 (score 7)</h4>
<p>Reading <a href="http://perldoc.perl.org/5.8.8/perlport.html#Newlines" rel="noreferrer">perlport</a> I’d suggest something like</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb421-1"><a href="#cb421-1"></a><span class="dt">$line</span> =~ <span class="kw">s/</span><span class="dt">\015</span><span class="ch">?</span><span class="dt">\012</span><span class="ch">?$</span><span class="kw">//</span>;</span></code></pre></div>
<p>to be safe for whatever platform you’re on and whatever linefeed style you may be processing because what’s in  may differ through different Perl flavours.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="grep-to-find-item-in-perl-array-score-105013-in-2017" class="level3">
<h3>83: Grep to find item in Perl array (score <a href="https://stackoverflow.com/q/7898499.html">105013</a> in 2017)</h3>
<section id="question-80" class="level4">
<h4>Question</h4>
<p>Every time I input something the code always tells me that it exists. But I know some of the inputs do not exist. What is wrong?</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb422-1"><a href="#cb422-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb422-2"><a href="#cb422-2"></a></span>
<span id="cb422-3"><a href="#cb422-3"></a><span class="dt">@array</span> = &lt;&gt;;</span>
<span id="cb422-4"><a href="#cb422-4"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Enter the word you what to match</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb422-5"><a href="#cb422-5"></a><span class="fu">chomp</span>(<span class="dt">$match</span> = <span class="kw">&lt;STDIN&gt;</span>);</span>
<span id="cb422-6"><a href="#cb422-6"></a></span>
<span id="cb422-7"><a href="#cb422-7"></a><span class="kw">if</span> (<span class="fu">grep</span>(<span class="dt">$match</span>, <span class="dt">@array</span>)) {</span>
<span id="cb422-8"><a href="#cb422-8"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">found it</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb422-9"><a href="#cb422-9"></a>}</span></code></pre></div>
</section>
<section id="answer-accepted-score-30" class="level4">
<h4>Answer accepted (score 30)</h4>
<p>The first arg that you give to grep needs to evaluate as true or false to indicate whether there was a match. So it should be:</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb423-1"><a href="#cb423-1"></a><span class="co"># note that grep returns a list, so $matched needs to be in brackets to get the </span></span>
<span id="cb423-2"><a href="#cb423-2"></a><span class="co"># actual value, otherwise $matched will just contain the number of matches</span></span>
<span id="cb423-3"><a href="#cb423-3"></a><span class="kw">if</span> (<span class="kw">my</span> (<span class="dt">$matched</span>) = <span class="fu">grep</span> <span class="dt">$_</span> <span class="kw">eq</span> <span class="dt">$match</span>, <span class="dt">@array</span>) {</span>
<span id="cb423-4"><a href="#cb423-4"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">found it: </span><span class="dt">$matched</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb423-5"><a href="#cb423-5"></a>}</span></code></pre></div>
<p>If you need to match on a lot of different values, it might also be worth for you to consider putting the <code>array</code> data into a <code>hash</code>, since hashes allow you to do this efficiently without having to iterate through the list.</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb424-1"><a href="#cb424-1"></a><span class="co"># convert array to a hash with the array elements as the hash keys and the values are simply 1</span></span>
<span id="cb424-2"><a href="#cb424-2"></a><span class="kw">my</span> <span class="dt">%hash</span> = <span class="fu">map</span> {<span class="dt">$_</span> =&gt; <span class="dv">1</span>} <span class="dt">@array</span>;</span>
<span id="cb424-3"><a href="#cb424-3"></a></span>
<span id="cb424-4"><a href="#cb424-4"></a><span class="co"># check if the hash contains $match</span></span>
<span id="cb424-5"><a href="#cb424-5"></a><span class="kw">if</span> (<span class="fu">defined</span> <span class="dt">$hash</span>{<span class="dt">$match</span>}) {</span>
<span id="cb424-6"><a href="#cb424-6"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">found it</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb424-7"><a href="#cb424-7"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-27" class="level4">
<h4>Answer 2 (score 27)</h4>
<p>You seem to be using <code>grep()</code> like the Unix <code>grep</code> utility, which is wrong.</p>
<p>
Perl’s <a href="http://perldoc.perl.org/functions/grep.html" rel="noreferrer"><code>grep()</code></a> in scalar context evaluates the expression for each element of a list and returns the number of times the expression was true. So when <code>$match</code> contains any “true” value, <code>grep($match, @array)</code> in scalar context will always return the number of elements in <code>@array</code>.
</p>
<p>Instead, try using the pattern matching operator:</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb425-1"><a href="#cb425-1"></a><span class="kw">if</span> (<span class="fu">grep</span> <span class="kw">/</span><span class="dt">$match</span><span class="kw">/</span>, <span class="dt">@array</span>) {</span>
<span id="cb425-2"><a href="#cb425-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">found it</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb425-3"><a href="#cb425-3"></a>}</span></code></pre></div>
</section>
<section id="answer-3-score-2-1" class="level4">
<h4>Answer 3 (score 2)</h4>
<p>In addition to what eugene and stevenl posted, you might encounter problems with using both <code>&amp;lt;&amp;gt;</code> and <code>&amp;lt;STDIN&amp;gt;</code> in one script: <code>&amp;lt;&amp;gt;</code> iterates through (=concatenating) all files given as command line arguments.</p>
<p>However, should a user ever forget to specify a file on the command line, it will read from STDIN, and your code will wait forever on input</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="automatically-get-loop-index-in-foreach-loop-in-perl-score-104712-in" class="level3">
<h3>84: automatically get loop index in foreach loop in perl (score <a href="https://stackoverflow.com/q/974656.html">104712</a> in )</h3>
<section id="question-81" class="level4">
<h4>Question</h4>
<p>If I have the following array in Perl:</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb426-1"><a href="#cb426-1"></a><span class="dt">@x</span> = <span class="kw">qw(</span>a b c<span class="kw">)</span>;</span></code></pre></div>
<p>and I iterate over it with <code>foreach</code>, then <code>$_</code> will refer to the current <em>element</em> in the array:</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb427-1"><a href="#cb427-1"></a><span class="kw">foreach</span> (<span class="dt">@x</span>) {</span>
<span id="cb427-2"><a href="#cb427-2"></a>    <span class="fu">print</span>;</span>
<span id="cb427-3"><a href="#cb427-3"></a>}</span></code></pre></div>
<p>will print:</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb428-1"><a href="#cb428-1"></a>abc</span></code></pre></div>
<p>Is there a similar way to get the <em>index</em> of the current element, without manually updating a counter? Something such as:</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb429-1"><a href="#cb429-1"></a><span class="kw">foreach</span> (<span class="dt">@x</span>) {</span>
<span id="cb429-2"><a href="#cb429-2"></a>    <span class="fu">print</span> <span class="dt">$index</span>;</span>
<span id="cb429-3"><a href="#cb429-3"></a>}</span></code></pre></div>
<p>where <code>$index</code> is updated like <code>$_</code> to yield the output:</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb430-1"><a href="#cb430-1"></a><span class="bn">012</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-106-1" class="level4">
<h4>Answer accepted (score 106)</h4>
<p>Like codehead said, you’d have to iterate over the array indices instead of its elements. I prefer this variant over the C-style for loop:</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb431-1"><a href="#cb431-1"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$i</span> (<span class="dv">0</span> .. <span class="dt">$#x</span>) {</span>
<span id="cb431-2"><a href="#cb431-2"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$i</span><span class="st">: </span><span class="dt">$x</span><span class="st">[</span><span class="dt">$i</span><span class="st">]</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb431-3"><a href="#cb431-3"></a>}</span></code></pre></div>
</section>
<section id="answer-2-score-43" class="level4">
<h4>Answer 2 (score 43)</h4>
<p>In Perl prior to 5.10, you can say</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb432-1"><a href="#cb432-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb432-2"><a href="#cb432-2"></a></span>
<span id="cb432-3"><a href="#cb432-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb432-4"><a href="#cb432-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb432-5"><a href="#cb432-5"></a></span>
<span id="cb432-6"><a href="#cb432-6"></a><span class="kw">my</span> <span class="dt">@a</span> = <span class="kw">qw/</span>a b c d e<span class="kw">/</span>;</span>
<span id="cb432-7"><a href="#cb432-7"></a></span>
<span id="cb432-8"><a href="#cb432-8"></a><span class="kw">my</span> <span class="dt">$index</span>;</span>
<span id="cb432-9"><a href="#cb432-9"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$elem</span> (<span class="dt">@a</span>) {</span>
<span id="cb432-10"><a href="#cb432-10"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">At index </span><span class="kw">&quot;</span>, <span class="dt">$index</span>++, <span class="kw">&quot;</span><span class="st">, I saw </span><span class="dt">$elem</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb432-11"><a href="#cb432-11"></a>}</span>
<span id="cb432-12"><a href="#cb432-12"></a></span>
<span id="cb432-13"><a href="#cb432-13"></a><span class="co">#or</span></span>
<span id="cb432-14"><a href="#cb432-14"></a></span>
<span id="cb432-15"><a href="#cb432-15"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$index</span> (<span class="dv">0</span> .. <span class="dt">$#a</span>) {</span>
<span id="cb432-16"><a href="#cb432-16"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">At index </span><span class="dt">$index</span><span class="st"> I saw </span><span class="dt">$a</span><span class="st">[</span><span class="dt">$elem</span><span class="st">]</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb432-17"><a href="#cb432-17"></a>}    </span></code></pre></div>
<p>In Perl 5.10, you use <a href="http://perldoc.perl.org/functions/state.html" rel="noreferrer">state</a> to declare a variable that never gets reinitialized (unlike ones create with <a href="http://perldoc.perl.org/functions/my.html" rel="noreferrer">my</a>). This lets you keep the <code>$index</code> variable in a smaller scope, but can lead to bugs (if you enter the loop a second time it will still have the last value):</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb433-1"><a href="#cb433-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb433-2"><a href="#cb433-2"></a></span>
<span id="cb433-3"><a href="#cb433-3"></a><span class="fu">use</span> <span class="fl">5.010</span>;</span>
<span id="cb433-4"><a href="#cb433-4"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb433-5"><a href="#cb433-5"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb433-6"><a href="#cb433-6"></a></span>
<span id="cb433-7"><a href="#cb433-7"></a><span class="kw">my</span> <span class="dt">@a</span> = <span class="kw">qw/</span>a b c d e<span class="kw">/</span>;</span>
<span id="cb433-8"><a href="#cb433-8"></a></span>
<span id="cb433-9"><a href="#cb433-9"></a><span class="kw">for</span> <span class="kw">my</span> <span class="dt">$elem</span> (<span class="dt">@a</span>) {</span>
<span id="cb433-10"><a href="#cb433-10"></a>    <span class="kw">state</span> <span class="dt">$index</span>;</span>
<span id="cb433-11"><a href="#cb433-11"></a>    say <span class="kw">&quot;</span><span class="st">At index </span><span class="kw">&quot;</span>, <span class="dt">$index</span>++, <span class="kw">&quot;</span><span class="st">, I saw </span><span class="dt">$elem</span><span class="kw">&quot;</span>;</span>
<span id="cb433-12"><a href="#cb433-12"></a>}</span></code></pre></div>
<p>In Perl 5.12 you can say</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb434-1"><a href="#cb434-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb434-2"><a href="#cb434-2"></a></span>
<span id="cb434-3"><a href="#cb434-3"></a><span class="fu">use</span> <span class="fl">5.012</span>; <span class="co">#this enables strict</span></span>
<span id="cb434-4"><a href="#cb434-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb434-5"><a href="#cb434-5"></a></span>
<span id="cb434-6"><a href="#cb434-6"></a><span class="kw">my</span> <span class="dt">@a</span> = <span class="kw">qw/</span>a b c d e<span class="kw">/</span>;</span>
<span id="cb434-7"><a href="#cb434-7"></a></span>
<span id="cb434-8"><a href="#cb434-8"></a><span class="kw">while</span> (<span class="kw">my</span> (<span class="dt">$index</span>, <span class="dt">$elem</span>) = <span class="kw">each</span> <span class="dt">@a</span>) {</span>
<span id="cb434-9"><a href="#cb434-9"></a>    say <span class="kw">&quot;</span><span class="st">At index </span><span class="dt">$index</span><span class="st"> I saw </span><span class="dt">$elem</span><span class="kw">&quot;</span>;</span>
<span id="cb434-10"><a href="#cb434-10"></a>}</span></code></pre></div>
<p>But be warned: you there are <a href="http://perldoc.perl.org/functions/each.html" rel="noreferrer">restrictions</a> to what you are allowed to do with <code>@a</code> while iterating over it with <code>each</code>.</p>
<p>It won’t help you now, but in Perl 6 you will be able to say</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb435-1"><a href="#cb435-1"></a><span class="kw">#!/usr/bin/perl6</span></span>
<span id="cb435-2"><a href="#cb435-2"></a></span>
<span id="cb435-3"><a href="#cb435-3"></a><span class="kw">my</span> <span class="dt">@a</span> = &lt;a b c d e&gt;;</span>
<span id="cb435-4"><a href="#cb435-4"></a><span class="kw">for</span> <span class="dt">@a</span> Z <span class="dv">0</span> .. Inf -&gt; <span class="dt">$elem</span>, <span class="dt">$index</span> {</span>
<span id="cb435-5"><a href="#cb435-5"></a>    say <span class="kw">&quot;</span><span class="st">at index </span><span class="dt">$index</span><span class="st">, I saw </span><span class="dt">$elem</span><span class="kw">&quot;</span></span>
<span id="cb435-6"><a href="#cb435-6"></a>}</span></code></pre></div>
<p>The <code>Z</code> operator zips the two lists together (i.e. it takes one element from the first list, then one element from the second, then one element from the first, and so on). The second list is a <a href="http://en.wikipedia.org/wiki/Lazy_evaluation" rel="noreferrer">lazy</a> list that contains every integer from 0 to infinity (at least theoretically). The <code>-&amp;gt; $elem, $index</code> says that we are taking two values at a time from the result of the zip. The rest should look normal to you (unless you are not familiar with the <a href="http://perldoc.perl.org/functions/say.html" rel="noreferrer"><code>say</code></a> function from 5.10 yet).</p>
</section>
<section id="answer-3-score-22-2" class="level4">
<h4>Answer 3 (score 22)</h4>
<p><code>perldoc perlvar</code> does not seem to suggest any such variable.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="search-and-replace-a-particular-string-in-a-file-using-perl-score-104110-in-2017" class="level3">
<h3>85: Search and replace a particular string in a file using Perl (score <a href="https://stackoverflow.com/q/8224490.html">104110</a> in 2017)</h3>
<section id="question-82" class="level4">
<h4>Question</h4>
<blockquote>
<p>
<strong>Possible Duplicate:</strong><br> <a href="https://stackoverflow.com/questions/6994947/how-to-replace-a-string-in-an-existing-file-in-perl">How to replace a string in an existing file in Perl?</a>
</p>
</blockquote>
<p>I need to create a subroutine that does a search and replace in file.</p>
<p>Here’s the contents of myfiletemplate.txt:</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb436-1"><a href="#cb436-1"></a>CATEGORY1=youknow_<span class="kw">&lt;PREF&gt;</span>  </span>
<span id="cb436-2"><a href="#cb436-2"></a>CATEGORY2=your/<span class="kw">&lt;PREF&gt;/</span><span class="ot">goes</span><span class="kw">/</span>here/</span></code></pre></div>
<p>Here’s my replacement string: <code>ABCD</code></p>
<p>I need to replace all instances of <code>&amp;lt;PREF&amp;gt;</code> to <code>ABCD</code></p>
</section>
<section id="answer-accepted-score-22" class="level4">
<h4>Answer accepted (score 22)</h4>
<p>Quick and dirty:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb437-1"><a href="#cb437-1"></a><span class="kw">#!/usr/bin/perl -w</span></span>
<span id="cb437-2"><a href="#cb437-2"></a></span>
<span id="cb437-3"><a href="#cb437-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb437-4"><a href="#cb437-4"></a></span>
<span id="cb437-5"><a href="#cb437-5"></a><span class="fu">open</span>(FILE, <span class="kw">&quot;</span><span class="st">&lt;/tmp/yourfile.txt</span><span class="kw">&quot;</span>) || <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">File not found</span><span class="kw">&quot;</span>;</span>
<span id="cb437-6"><a href="#cb437-6"></a><span class="kw">my</span> <span class="dt">@lines</span> = <span class="kw">&lt;FILE&gt;</span>;</span>
<span id="cb437-7"><a href="#cb437-7"></a><span class="fu">close</span>(FILE);</span>
<span id="cb437-8"><a href="#cb437-8"></a></span>
<span id="cb437-9"><a href="#cb437-9"></a><span class="kw">foreach</span>(<span class="dt">@lines</span>) {</span>
<span id="cb437-10"><a href="#cb437-10"></a>   <span class="dt">$_</span> =~ <span class="kw">s/</span><span class="ot">&lt;PREF&gt;</span><span class="kw">/</span><span class="st">ABCD</span><span class="kw">/g</span>;</span>
<span id="cb437-11"><a href="#cb437-11"></a>}</span>
<span id="cb437-12"><a href="#cb437-12"></a></span>
<span id="cb437-13"><a href="#cb437-13"></a><span class="fu">open</span>(FILE, <span class="kw">&quot;</span><span class="st">&gt;/tmp/yourfile.txt</span><span class="kw">&quot;</span>) || <span class="fu">die</span> <span class="kw">&quot;</span><span class="st">File not found</span><span class="kw">&quot;</span>;</span>
<span id="cb437-14"><a href="#cb437-14"></a><span class="fu">print</span> FILE <span class="dt">@lines</span>;</span>
<span id="cb437-15"><a href="#cb437-15"></a><span class="fu">close</span>(FILE);</span></code></pre></div>
<p>Perhaps it i a good idea not to write the result back to your original file; instead write it to a copy and check the result first.</p>
</section>
<section id="answer-2-score-41" class="level4">
<h4>Answer 2 (score 41)</h4>
<p>A one liner:</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb438-1"><a href="#cb438-1"></a>perl -pi.back <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">s/&lt;PREF&gt;/ABCD/g;</span><span class="kw">&#39;</span> inputfile</span></code></pre></div>
</section>
<section id="answer-3-score-16" class="level4">
<h4>Answer 3 (score 16)</h4>
<p>You could also do this:</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb439-1"><a href="#cb439-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb439-2"><a href="#cb439-2"></a></span>
<span id="cb439-3"><a href="#cb439-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb439-4"><a href="#cb439-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb439-5"><a href="#cb439-5"></a></span>
<span id="cb439-6"><a href="#cb439-6"></a><span class="dt">$^I</span> = <span class="kw">&#39;</span><span class="st">.bak</span><span class="kw">&#39;</span>; <span class="co"># create a backup copy </span></span>
<span id="cb439-7"><a href="#cb439-7"></a></span>
<span id="cb439-8"><a href="#cb439-8"></a><span class="kw">while</span> (&lt;&gt;) {</span>
<span id="cb439-9"><a href="#cb439-9"></a>   <span class="kw">s/</span><span class="ot">&lt;PREF&gt;</span><span class="kw">/</span><span class="st">ABCD</span><span class="kw">/g</span>; <span class="co"># do the replacement</span></span>
<span id="cb439-10"><a href="#cb439-10"></a>   <span class="fu">print</span>; <span class="co"># print to the modified file</span></span>
<span id="cb439-11"><a href="#cb439-11"></a>}</span></code></pre></div>
<p>Invoke the script with by</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb440-1"><a href="#cb440-1"></a>.<span class="kw">/</span><span class="ot">script.pl input_file</span></span></code></pre></div>
<p>You will get a file named <code>input_file</code>, containing your changes, and a file named <code>input_file.bak</code>, which is simply a copy of the original file.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-do-i-update-all-my-cpan-modules-to-their-latest-versions-score-103764-in-2016" class="level3">
<h3>86: How do I update all my CPAN modules to their latest versions? (score <a href="https://stackoverflow.com/q/3727795.html">103764</a> in 2016)</h3>
<section id="question-83" class="level4">
<h4>Question</h4>
<p>How do I update all my CPAN modules to their latest versions?</p>
</section>
<section id="answer-accepted-score-139" class="level4">
<h4>Answer accepted (score 139)</h4>
<p>An alternative method to using <code>upgrade</code> from the default CPAN shell is to use <a href="https://search.cpan.org/dist/App-cpanminus/lib/App/cpanminus.pm" rel="noreferrer"><code>cpanminus</code></a> and <a href="https://search.cpan.org/dist/App-cpanoutdated/bin/cpan-outdated" rel="noreferrer"><code>cpan-outdated</code></a>.</p>
<p>These are so easy and nimble to use that I hardly ever go back to CPAN shell. To upgrade all of your modules in one go, the command is:</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb441-1"><a href="#cb441-1"></a>cpan-outdated <span class="kw">-p</span> | cpanm</span></code></pre></div>
<p>I recommend you install <code>cpanminus</code> like the docs describe:</p>
<div class="sourceCode" id="cb442"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb442-1"><a href="#cb442-1"></a>curl -L https://cpanmin.us | perl - <span class="fu">App::cpanminus</span></span></code></pre></div>
<p>And then install <code>cpan-outdated</code> along with all other CPAN modules using <code>cpanm</code>:</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb443-1"><a href="#cb443-1"></a>cpanm <span class="fu">App::cpanoutdated</span></span></code></pre></div>
<p>BTW: If you are using <code>perlbrew</code> then you will need to repeat this for every Perl you have installed under it.</p>
<p>You can find out more about <code>cpanminus</code> and <code>cpan-outdated</code> at the Github repos here:</p>
<ul>
<li>
<a href="https://github.com/miyagawa/cpanminus" rel="noreferrer">https://github.com/miyagawa/cpanminus</a>
</li>
<li>
<a href="https://github.com/tokuhirom/cpan-outdated" rel="noreferrer">https://github.com/tokuhirom/cpan-outdated</a>
</li>
</ul>
</section>
<section id="answer-2-score-48" class="level4">
<h4>Answer 2 (score 48)</h4>
<p>An easy way to upgrade all Perl packages (CPAN modules) is the following way:</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb444-1"><a href="#cb444-1"></a>cpan upgrade /(.<span class="kw">*</span>)/</span></code></pre></div>
<p>cpan will recognize the regular expression like this and will update/upgrade all packages installed.</p>
</section>
<section id="answer-3-score-31" class="level4">
<h4>Answer 3 (score 31)</h4>
<p>For Strawberry Perl, try:</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb445-1"><a href="#cb445-1"></a>cpan <span class="kw">-u</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-should-i-do-integer-division-in-perl-score-103299-in-2009" class="level3">
<h3>87: How should I do integer division in Perl? (score <a href="https://stackoverflow.com/q/539797.html">103299</a> in 2009)</h3>
<section id="question-84" class="level4">
<h4>Question</h4>
<p>What is a good way to <strong>always</strong> do integer division in Perl?</p>
<p>For example, I want:</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb446-1"><a href="#cb446-1"></a>real / <span class="fu">int</span> = <span class="fu">int</span></span>
<span id="cb446-2"><a href="#cb446-2"></a></span>
<span id="cb446-3"><a href="#cb446-3"></a><span class="fu">int</span> <span class="kw">/</span><span class="ot"> real = int</span></span>
<span id="cb446-4"><a href="#cb446-4"></a></span>
<span id="cb446-5"><a href="#cb446-5"></a><span class="ot">int </span><span class="kw">/</span> <span class="fu">int</span> = <span class="fu">int</span></span></code></pre></div>
</section>
<section id="answer-accepted-score-44" class="level4">
<h4>Answer accepted (score 44)</h4>
<p>You can cast ints in Perl:</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb447-1"><a href="#cb447-1"></a><span class="fu">int</span>(<span class="dv">5</span>/<span class="fl">1.5</span>) = <span class="dv">3</span>;</span></code></pre></div>
</section>
<section id="answer-2-score-83" class="level4">
<h4>Answer 2 (score 83)</h4>
<p>The lexically scoped <a href="http://perldoc.perl.org/integer.html" rel="noreferrer"><code>integer</code> pragma</a> forces Perl to use integer arithmetic in its scope:</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb448-1"><a href="#cb448-1"></a><span class="fu">print</span> <span class="fl">3.0</span>/<span class="fl">2.1</span> . <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;    <span class="co"># =&gt; 1.42857142857143</span></span>
<span id="cb448-2"><a href="#cb448-2"></a>{</span>
<span id="cb448-3"><a href="#cb448-3"></a>  <span class="fu">use</span> <span class="kw">integer</span>;</span>
<span id="cb448-4"><a href="#cb448-4"></a>  <span class="fu">print</span> <span class="fl">3.0</span>/<span class="fl">2.1</span> . <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;  <span class="co"># =&gt; 1</span></span>
<span id="cb448-5"><a href="#cb448-5"></a>}</span>
<span id="cb448-6"><a href="#cb448-6"></a><span class="fu">print</span> <span class="fl">3.0</span>/<span class="fl">2.1</span> . <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;    <span class="co"># =&gt; 1.42857142857143</span></span></code></pre></div>
</section>
<section id="answer-3-score-5-4" class="level4">
<h4>Answer 3 (score 5)</h4>
<p><code>int(x+.5)</code> will round <em>positive</em> values toward the nearest integer. Rounding up is harder.</p>
<p>To round toward zero:</p>
<p><code>int($x)</code></p>
<p>For the solutions below, include the following statement:</p>
<p><code>use POSIX;</code></p>
<p>To round down: <code>POSIX::floor($x)</code></p>
<p>To round up: <code>POSIX::ceil($x)</code></p>
<p>To round away from zero: <code>POSIX::floor($x) - int($x) + POSIX::ceil($x)</code></p>
<p>To round off to the nearest integer: <code>POSIX::floor($x+.5)</code></p>
<p>Note that <code>int($x+.5)</code> fails badly for negative values. <code>int(-2.1+.5)</code> is <code>int(-1.6)</code>, which is -1.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="rename-files-and-directories-add-prefix-score-101108-in-2011" class="level3">
<h3>88: Rename Files and Directories (Add Prefix) (score <a href="https://stackoverflow.com/q/4787413.html">101108</a> in 2011)</h3>
<section id="question-85" class="level4">
<h4>Question</h4>
<p>I would like to add prefix on all folders and directories.</p>
<p>Example:</p>
<p>I have</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb449-1"><a href="#cb449-1"></a>Hi.jpg</span>
<span id="cb449-2"><a href="#cb449-2"></a><span class="dv">1</span>.txt</span>
<span id="cb449-3"><a href="#cb449-3"></a>folder/</span>
<span id="cb449-4"><a href="#cb449-4"></a>this.file_is.here.png</span>
<span id="cb449-5"><a href="#cb449-5"></a>another_folder.ok/</span></code></pre></div>
<p>I would like to add prefix “PRE_”</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb450-1"><a href="#cb450-1"></a>PRE_Hi.jpg</span>
<span id="cb450-2"><a href="#cb450-2"></a>PRE_<span class="dv">1</span>.txt</span>
<span id="cb450-3"><a href="#cb450-3"></a>PRE_folder/</span>
<span id="cb450-4"><a href="#cb450-4"></a>PRE_this.file_is.here.png</span>
<span id="cb450-5"><a href="#cb450-5"></a>PRE_another_folder.ok/</span></code></pre></div>
<p>Regards,</p>
</section>
<section id="answer-2-score-192" class="level4">
<h4>Answer 2 (score 192)</h4>
<p>Thanks to <a href="https://stackoverflow.com/users/31799/peter-van-der-heijden">Peter van der Heijden</a>, here’s one that’ll work for filenames with spaces in them:</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb451-1"><a href="#cb451-1"></a><span class="kw">for</span> f in <span class="kw">*</span> ; <span class="kw">do</span> mv -- <span class="kw">&quot;</span><span class="dt">$f</span><span class="kw">&quot;</span> <span class="kw">&quot;</span><span class="st">PRE_</span><span class="dt">$f</span><span class="kw">&quot;</span> ; done</span></code></pre></div>
<p><em>(“–” is needed to succeed with files that begin with dashes, whose names would otherwise be interpreted as switches for the mv command)</em></p>
</section>
<section id="answer-3-score-76" class="level4">
<h4>Answer 3 (score 76)</h4>
<p>Use <a href="http://training.perl.com/scripts/rename">the <em>rename</em> script</a> this way:</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb452-1"><a href="#cb452-1"></a>$ <span class="fu">rename</span> <span class="kw">&#39;</span><span class="st">s/^/PRE_/</span><span class="kw">&#39;</span> *</span></code></pre></div>
<p>There are no problems with metacharacters or whitespace in filenames.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-extract-substrings-from-a-string-in-perl-score-98783-in-2009" class="level3">
<h3>89: How can I extract substrings from a string in Perl? (score <a href="https://stackoverflow.com/q/1444009.html">98783</a> in 2009)</h3>
<section id="question-86" class="level4">
<h4>Question</h4>
<p>Consider the following strings:</p>
<ol type="1">
<li><p>Scheme ID: <strong>abc-456-hu5t10</strong> (<strong>High priority</strong>) *****</p></li>
<li><p>Scheme ID: <strong>frt-78f-hj542w</strong> (<strong>Balanced</strong>)</p></li>
<li><p>Scheme ID: <strong>23f-f974-nm54w</strong> (<strong>super formula run</strong>) *****</p></li>
</ol>
<p>and so on in the above format - the parts in bold are changes across the strings.</p>
<p>
==&gt; <em>Imagine I’ve many strings of format Shown above.</em> I want to pick 3 substrings (As shown in BOLD below) from the each of the above strings.
</p>
<ul>
<li>
1st substring containing the alphanumeric value (in eg above it’s “abc-456-hu5t10”)
</li>
<li>
2nd substring containing the word (in eg above it’s “High priority”)
</li>
<li>
3rd substring containing * (<code>IF</code> * is present at the end of the string <code>ELSE</code> leave it )
</li>
</ul>
<p>How do I pick these 3 substrings from each string shown above? I know it can be done using regular expressions in Perl… Can you help with this?</p>
</section>
<section id="answer-accepted-score-32" class="level4">
<h4>Answer accepted (score 32)</h4>
<p>You could do something like this:</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb453-1"><a href="#cb453-1"></a><span class="kw">my</span> <span class="dt">$data</span> = <span class="kw">&lt;&lt;END;</span></span>
<span id="cb453-2"><a href="#cb453-2"></a><span class="st">1) Scheme ID: abc-456-hu5t10 (High priority) *</span></span>
<span id="cb453-3"><a href="#cb453-3"></a><span class="st">2) Scheme ID: frt-78f-hj542w (Balanced)</span></span>
<span id="cb453-4"><a href="#cb453-4"></a><span class="st">3) Scheme ID: 23f-f974-nm54w (super formula run) *</span></span>
<span id="cb453-5"><a href="#cb453-5"></a><span class="kw">END</span></span>
<span id="cb453-6"><a href="#cb453-6"></a></span>
<span id="cb453-7"><a href="#cb453-7"></a><span class="kw">foreach</span> (<span class="fu">split</span>(<span class="kw">/</span><span class="bn">\n</span><span class="kw">/</span>,<span class="dt">$data</span>)) {</span>
<span id="cb453-8"><a href="#cb453-8"></a>  <span class="dt">$_</span> =~ <span class="kw">/</span><span class="ot">Scheme ID: </span><span class="ch">([</span><span class="bn">a-z0-9-</span><span class="ch">]+)</span><span class="bn">\s</span><span class="ch">+</span><span class="ot">\(</span><span class="ch">([^</span><span class="bn">)</span><span class="ch">]+)</span><span class="ot">\)</span><span class="bn">\s</span><span class="ch">*(</span><span class="ot">\*</span><span class="ch">)?</span><span class="kw">/</span> || <span class="kw">next</span>;</span>
<span id="cb453-9"><a href="#cb453-9"></a>  <span class="kw">my</span> (<span class="dt">$id</span>,<span class="dt">$word</span>,<span class="dt">$star</span>) = (<span class="dt">$1</span>,<span class="dt">$2</span>,<span class="dt">$3</span>);</span>
<span id="cb453-10"><a href="#cb453-10"></a>  <span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$id</span><span class="st"> </span><span class="dt">$word</span><span class="st"> </span><span class="dt">$star</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb453-11"><a href="#cb453-11"></a>}</span></code></pre></div>
<p>The key thing is the Regular expression:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb454-1"><a href="#cb454-1"></a>Scheme ID: ([a-z0<span class="dv">-9</span>-]+)\<span class="kw">s+</span><span class="ot">\(</span><span class="ch">([^</span><span class="bn">)</span><span class="ch">]</span><span class="kw">+</span><span class="st">)\)</span><span class="ch">\s</span><span class="st">*(\*)?</span></span></code></pre></div>
<p>Which breaks up as follows.</p>
<p>The fixed String “Scheme ID:”:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb455-1"><a href="#cb455-1"></a>Scheme ID: </span></code></pre></div>
<p>Followed by one or more of the characters a-z, 0-9 or -. We use the brackets to capture it as $1:</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb456-1"><a href="#cb456-1"></a>([a-z0<span class="dv">-9</span>-]+)</span></code></pre></div>
<p>Followed by one or more whitespace characters:</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb457-1"><a href="#cb457-1"></a>\<span class="kw">s+</span></span></code></pre></div>
<p>Followed by an opening bracket (which we escape) followed by any number of characters which aren’t a close bracket, and then a closing bracket (escaped). We use unescaped brackets to capture the words as $2:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb458-1"><a href="#cb458-1"></a>\(([^)]+)\)</span></code></pre></div>
<p>Followed by some spaces any maybe a *, captured as $3:</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb459-1"><a href="#cb459-1"></a>\<span class="kw">s*</span><span class="ch">(</span><span class="ot">\*</span><span class="ch">)?</span></span></code></pre></div>
</section>
<section id="answer-2-score-4" class="level4">
<h4>Answer 2 (score 4)</h4>
<p>You could use a regular expression such as the following:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb460-1"><a href="#cb460-1"></a><span class="kw">/</span><span class="ch">([</span><span class="bn">-a-z0-9</span><span class="ch">]+)</span><span class="bn">\s</span><span class="ch">*</span><span class="ot">\(</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot">\)</span><span class="bn">\s</span><span class="ch">*(</span><span class="ot">\*</span><span class="ch">)?</span><span class="kw">/</span></span></code></pre></div>
<p>So for example:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb461-1"><a href="#cb461-1"></a><span class="dt">$s</span> = <span class="kw">&quot;</span><span class="st">abc-456-hu5t10 (High priority) *</span><span class="kw">&quot;</span>;</span>
<span id="cb461-2"><a href="#cb461-2"></a><span class="dt">$s</span> =~ <span class="kw">/</span><span class="ch">([</span><span class="bn">-a-z0-9</span><span class="ch">]+)</span><span class="bn">\s</span><span class="ch">*</span><span class="ot">\(</span><span class="ch">(</span><span class="ot">.</span><span class="ch">*?)</span><span class="ot">\)</span><span class="bn">\s</span><span class="ch">*(</span><span class="ot">\*</span><span class="ch">)?</span><span class="kw">/</span>;</span>
<span id="cb461-3"><a href="#cb461-3"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="dt">$1</span><span class="ch">\n</span><span class="dt">$2</span><span class="ch">\n</span><span class="dt">$3</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>prints</p>
<pre>abc-456-hu5t10
High priority
*
</pre>
</section>
<section id="answer-3-score-3-2" class="level4">
<h4>Answer 3 (score 3)</h4>
<div class="sourceCode" id="cb462"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb462-1"><a href="#cb462-1"></a>(\S<span class="kw">*</span>)\<span class="kw">s*</span><span class="ot">\(</span><span class="ch">(</span><span class="ot">.</span><span class="kw">*</span><span class="st">?)\)</span><span class="ch">\s</span><span class="kw">*</span>(\<span class="dt">*?</span>)</span>
<span id="cb462-2"><a href="#cb462-2"></a></span>
<span id="cb462-3"><a href="#cb462-3"></a></span>
<span id="cb462-4"><a href="#cb462-4"></a>(\S<span class="kw">*</span>)    picks up anything which is NOT whitespace</span>
<span id="cb462-5"><a href="#cb462-5"></a>\<span class="kw">s*</span><span class="ot">      0 or more whitespace characters</span></span>
<span id="cb462-6"><a href="#cb462-6"></a><span class="ot">\(       a literal open parenthesis</span></span>
<span id="cb462-7"><a href="#cb462-7"></a><span class="ch">(</span><span class="ot">.</span><span class="kw">*</span><span class="st">?)    anything, non-greedy so stops on first occurrence of...</span></span>
<span id="cb462-8"><a href="#cb462-8"></a><span class="st">\)       a literal close parenthesis</span></span>
<span id="cb462-9"><a href="#cb462-9"></a><span class="ch">\s</span><span class="kw">*</span>      <span class="dv">0</span> <span class="kw">or</span> more whitespace characters</span>
<span id="cb462-10"><a href="#cb462-10"></a>(\<span class="dt">*?</span>)    <span class="dv">0</span> <span class="kw">or</span> <span class="dv">1</span> occurances of literal *</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="why-does-modern-perl-avoid-utf-8-by-default-score-97673-in-2018" class="level3">
<h3>90: Why does modern Perl avoid UTF-8 by default? (score <a href="https://stackoverflow.com/q/6162484.html">97673</a> in 2018)</h3>
<section id="question-87" class="level4">
<h4>Question</h4>
<p>I wonder why most modern solutions built using Perl don’t enable <a href="http://en.wikipedia.org/wiki/UTF-8" rel="noreferrer">UTF-8</a> by default.</p>
<p>I understand there are many legacy problems for core Perl scripts, where it may break things. But, from my point of view, in the 21<sup>st</sup> century, big new projects (or projects with a big perspective) should make their software UTF-8 proof from scratch. Still I don’t see it happening. For example, <a href="http://en.wikipedia.org/wiki/Moose_%28Perl%29" rel="noreferrer">Moose</a> enables strict and warnings, but not <a href="http://en.wikipedia.org/wiki/Unicode" rel="noreferrer">Unicode</a>. <a href="http://search.cpan.org/~chromatic/Modern-Perl-1.03/lib/Modern/Perl.pm" rel="noreferrer">Modern::Perl</a> reduces boilerplate too, but no UTF-8 handling.</p>
<p>Why? Are there some reasons to avoid UTF-8 in modern Perl projects in the year 2011?</p>
<hr>
<p>Commenting <span class="citation" data-cites="tchrist">@tchrist</span> got too long, so I’m adding it here.</p>
<p>It seems that I did not make myself clear. Let me try to add some things.</p>
<p><strong>tchrist</strong> and I see situation pretty similarly, but our conclusions are completely in opposite ends. I agree, the situation with Unicode is complicated, but this is why we (Perl users and coders) need some layer (or pragma) which makes UTF-8 handling as easy as it must be nowadays.</p>
<p><strong>tchrist</strong> pointed to many aspects to cover, I will read and think about them for days or even weeks. Still, this is not my point. <strong>tchrist</strong> tries to prove that there is not one single way “to enable UTF-8”. I have not so much knowledge to argue with that. So, I stick to live examples.</p>
<p>I played around with <a href="http://en.wikipedia.org/wiki/Rakudo_Perl" rel="noreferrer">Rakudo</a> and UTF-8 was just there <strong>as I needed</strong>. I didn’t have any problems, it just worked. Maybe there are some limitation somewhere deeper, but at start, all I tested worked as I expected.</p>
<p>Shouldn’t that be a goal in modern Perl 5 too? I stress it more: I’m not suggesting UTF-8 as the default character set for core Perl, I suggest the possibility to trigger it <strong>with a snap</strong> for those who develop <strong>new</strong> projects.</p>
<p>Another example, but with a more negative tone. Frameworks should make development easier. Some years ago, I tried web frameworks, but just threw them away because “enabling UTF-8” was so obscure. I did not find how and where to hook Unicode support. It was so time-consuming that I found it easier to go the old way. Now I saw here there was a bounty to deal with the same problem with <a href="http://en.wikipedia.org/wiki/Mason_%28Perl%29" rel="noreferrer">Mason</a> 2: <em><a href="https://stackoverflow.com/questions/5858596/how-to-make-mason2-utf8-clean">How to make Mason2 UTF-8 clean?</a></em>. So, it is pretty new framework, but using it with UTF-8 needs deep knowledge of its internals. It is like a big red sign: STOP, don’t use me!</p>
<p>I really like Perl. But dealing with Unicode is painful. I still find myself running against walls. Some way <strong>tchrist</strong> is right and answers my questions: new projects don’t attract UTF-8 because it is too complicated in Perl 5.</p>
</section>
<section id="answer-accepted-score-1134" class="level4">
<h4>Answer accepted (score 1134)</h4>
<hr>
<h5>
🌴 🐪🐫🐪🐫🐪 🌞 <em>𝕲𝖔 𝕿𝖍𝖔𝖚 𝖆𝖓𝖉 𝕯𝖔 𝕷𝖎𝖐𝖊𝖜𝖎𝖘𝖊</em> 🌞 🐪🐫🐪 🐁
</h1>
<hr>
<h5>
𝓔𝓭𝓲𝓽 : 𝙎𝙞𝙢𝙥𝙡𝙚𝙨𝙩 <em>℞</em>: 𝟕 𝘿𝙞𝙨𝙘𝙧𝙚𝙩𝙚 𝙍𝙚𝙘𝙤𝙢𝙢𝙚𝙣𝙙𝙖𝙩𝙞𝙤𝙣𝙨
</h2>
<ol>
<li>
<p>
Set your <code>PERL_UNICODE</code> envariable to <code>AS</code>. This makes all Perl scripts decode <code>@ARGV</code> as UTF‑8 strings, and sets the encoding of all three of stdin, stdout, and stderr to UTF‑8. Both these are global effects, not lexical ones.
</p>
</li>
<li>
<p>
At the top of your source file (program, module, library, <code>do</code>hickey), prominently assert that you are running perl version 5.12 or better via:
</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb463-1"><a href="#cb463-1"></a><span class="fu">use</span> v5.<span class="dv">12</span>;  <span class="co"># minimal for unicode string feature</span></span>
<span id="cb463-2"><a href="#cb463-2"></a><span class="fu">use</span> v5.<span class="dv">14</span>;  <span class="co"># optimal for unicode string feature</span></span>
<span id="cb463-3"><a href="#cb463-3"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb463-4"><a href="#cb463-4"></a><span class="st">&lt;li&gt;&lt;p&gt;Enable warnings, since the previous declaration only enables strictures and features, not warnings. I also suggest promoting Unicode warnings into exceptions, so use both these lines, not just one of them.  Note however that under v5.14, the </span><span class="kw">`</span>utf8<span class="kw">`</span><span class="st"> warning class comprises three other subwarnings which can all be separately enabled: </span><span class="kw">`</span>nonchar<span class="kw">`</span><span class="st">, </span><span class="kw">`</span>surrogate<span class="kw">`</span><span class="st">, and </span><span class="kw">`</span>non_unicode<span class="kw">`</span><span class="st">. These you may wish to exert greater control over.&lt;/p&gt;</span></span>
<span id="cb463-5"><a href="#cb463-5"></a></span>
<span id="cb463-6"><a href="#cb463-6"></a><span class="kw">```</span>perl</span>
<span id="cb463-7"><a href="#cb463-7"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb463-8"><a href="#cb463-8"></a><span class="fu">use</span> <span class="kw">warnings</span> <span class="kw">qw(</span> FATAL utf8 <span class="kw">)</span>;</span>
<span id="cb463-9"><a href="#cb463-9"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb463-10"><a href="#cb463-10"></a><span class="st">&lt;li&gt;&lt;p&gt;Declare that this source unit is encoded as UTF‑8. Although once upon a time this pragma did other things, it now serves this one singular purpose alone and no other:&lt;/p&gt;</span></span>
<span id="cb463-11"><a href="#cb463-11"></a></span>
<span id="cb463-12"><a href="#cb463-12"></a><span class="kw">```</span>perl</span>
<span id="cb463-13"><a href="#cb463-13"></a><span class="fu">use</span> <span class="kw">utf8</span>;</span>
<span id="cb463-14"><a href="#cb463-14"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb463-15"><a href="#cb463-15"></a><span class="st">&lt;li&gt;&lt;p&gt;Declare that anything that opens a filehandle &lt;em&gt;within this lexical scope but not elsewhere&lt;/em&gt; is to assume that that stream is encoded in UTF‑8 unless you tell it otherwise. That way you do not affect other module’s or other program’s code.&lt;/p&gt;</span></span>
<span id="cb463-16"><a href="#cb463-16"></a></span>
<span id="cb463-17"><a href="#cb463-17"></a><span class="kw">```</span>perl</span>
<span id="cb463-18"><a href="#cb463-18"></a><span class="fu">use</span> <span class="fu">open</span> <span class="kw">qw(</span> :encoding(UTF-8<span class="kw">)</span> :std );</span>
<span id="cb463-19"><a href="#cb463-19"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb463-20"><a href="#cb463-20"></a><span class="st">&lt;li&gt;&lt;p&gt;Enable named characters via </span><span class="kw">`</span>\N{CHARNAME}<span class="kw">`</span><span class="st">.&lt;/p&gt;</span></span>
<span id="cb463-21"><a href="#cb463-21"></a></span>
<span id="cb463-22"><a href="#cb463-22"></a><span class="kw">```</span>perl</span>
<span id="cb463-23"><a href="#cb463-23"></a><span class="fu">use</span> charnames <span class="kw">qw(</span> :full :short <span class="kw">)</span>;</span>
<span id="cb463-24"><a href="#cb463-24"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb463-25"><a href="#cb463-25"></a><span class="st">&lt;li&gt;&lt;p&gt;If you have a </span><span class="kw">`</span>DATA<span class="kw">`</span><span class="st"> handle, you must explicitly set its encoding. If you want this to be UTF‑8, then say:&lt;/p&gt;</span></span>
<span id="cb463-26"><a href="#cb463-26"></a></span>
<span id="cb463-27"><a href="#cb463-27"></a><span class="kw">```</span>perl</span>
<span id="cb463-28"><a href="#cb463-28"></a><span class="fu">binmode</span>(DATA, <span class="kw">&quot;</span><span class="st">:encoding(UTF-8)</span><span class="kw">&quot;</span>);</span>
<span id="cb463-29"><a href="#cb463-29"></a><span class="kw">```</span><span class="st">&lt;/li&gt;</span></span>
<span id="cb463-30"><a href="#cb463-30"></a><span class="st">&lt;/ol&gt;</span></span>
<span id="cb463-31"><a href="#cb463-31"></a></span>
<span id="cb463-32"><a href="#cb463-32"></a><span class="st">There is of course no end of other matters with which you may eventually find yourself concerned, but these will suffice to approximate the state goal to “make everything just work with UTF‑8”, albeit for a somewhat weakened sense of those terms.   </span></span>
<span id="cb463-33"><a href="#cb463-33"></a></span>
<span id="cb463-34"><a href="#cb463-34"></a><span class="st">One other pragma, although it is not Unicode related, is:  </span></span>
<span id="cb463-35"><a href="#cb463-35"></a></span>
<span id="cb463-36"><a href="#cb463-36"></a><span class="kw">```</span>perl</span>
<span id="cb463-37"><a href="#cb463-37"></a>      <span class="fu">use</span> autodie;</span></code></pre></div>
<p>It is strongly recommended.</p>
<hr>
<h5>
🎅 𝕹 𝖔 𝕸 𝖆 𝖌 𝖎 𝖈 𝕭 𝖚 𝖑 𝖑 𝖊 𝖙 🎅
</h1>
<hr>
<p>Saying that “Perl should [<strong>somehow!</strong>] enable Unicode by default” doesn’t even start to begin to think about getting around to saying enough to be even marginally useful in some sort of rare and isolated case. Unicode is much much more than just a larger character repertoire; it’s also how those characters all interact in many, many ways.</p>
<p>Even the simple-minded minimal measures that (some) people seem to think they want are guaranteed to miserably break millions of lines of code, code that has no chance to “upgrade” to your spiffy new <em>Brave New World</em> modernity.</p>
<p>It is way way way more complicated than people pretend. I’ve thought about this a huge, whole lot over the past few years. I would love to be shown that I am wrong. But I don’t think I am. Unicode is fundamentally more complex than the model that you would like to impose on it, and there is complexity here that you can never sweep under the carpet. If you try, you’ll break either your own code or somebody else’s. At some point, you simply have to break down and learn what Unicode is about. You cannot pretend it is something it is not.</p>
<p>🐪 goes out of its way to make Unicode easy, far more than anything else I’ve ever used. If you think this is bad, try something else for a while. Then come back to 🐪: either you will have returned to a better world, or else you will bring knowledge of the same with you so that we can make use of your new knowledge to make 🐪 better at these things.</p>
<hr>
<h5>
💡 𝕴𝖉𝖊𝖆𝖘 𝖋𝖔𝖗 𝖆 𝖀𝖓𝖎𝖈𝖔𝖉𝖊 ⸗ 𝕬𝖜𝖆𝖗𝖊 🐪 𝕷𝖆𝖚𝖓𝖉𝖗𝖞 𝕷𝖎𝖘𝖙 💡
</h2>
<hr>
<p>At a minimum, here are some things that would appear to be required for 🐪 to “enable Unicode by default”, as you put it:</p>
<ol>
<li>
<p>
All 🐪 source code should be in UTF-8 by default. You can get that with <code>use utf8</code> or <code>export PERL5OPTS=-Mutf8</code>.
</p>
</li>
<li>
<p>
The 🐪 <code>DATA</code> handle should be UTF-8. You will have to do this on a per-package basis, as in <code>binmode(DATA, ":encoding(UTF-8)")</code>.
</p>
</li>
<li>
<p>
Program arguments to 🐪 scripts should be understood to be UTF-8 by default. <code>export PERL_UNICODE=A</code>, or <code>perl -CA</code>, or <code>export PERL5OPTS=-CA</code>.
</p>
</li>
<li>
<p>
The standard input, output, and error streams should default to UTF-8. <code>export PERL_UNICODE=S</code> for all of them, or <code>I</code>, <code>O</code>, and/or <code>E</code> for just some of them. This is like <code>perl -CS</code>.
</p>
</li>
<li>
<p>
Any other handles opened by 🐪 should be considered UTF-8 unless declared otherwise; <code>export PERL_UNICODE=D</code> or with <code>i</code> and <code>o</code> for particular ones of these; <code>export PERL5OPTS=-CD</code> would work. That makes <code>-CSAD</code> for all of them.
</p>
</li>
<li>
<p>
Cover both bases plus all the streams you open with <code>export PERL5OPTS=-Mopen=:utf8,:std</code>. See <a href="http://training.perl.com/scripts/uniquote" rel="noreferrer"><em>uniquote</em></a>.
</p>
</li>
<li>
<p>
You don’t want to miss UTF-8 encoding errors. Try <code>export PERL5OPTS=-Mwarnings=FATAL,utf8</code>. And make sure your input streams are always <code>binmode</code>d to <code>:encoding(UTF-8)</code>, not just to <code>:utf8</code>.
</p>
</li>
<li>
<p>
Code points between 128–255 should be understood by 🐪 to be the corresponding Unicode code points, not just unpropertied binary values. <code>use feature "unicode_strings"</code> or <code>export PERL5OPTS=-Mfeature=unicode_strings</code>. That will make <code>uc("\xDF") eq "SS"</code> and <code>"\xE9" =~ /\w/</code>. A simple <code>export PERL5OPTS=-Mv5.12</code> or better will also get that.
</p>
</li>
<li>
<p>
Named Unicode characters are not by default enabled, so add <code>export PERL5OPTS=-Mcharnames=:full,:short,latin,greek</code> or some such. See <a href="http://training.perl.com/scripts/uninames" rel="noreferrer"><em>uninames</em></a> and <a href="http://training.perl.com/scripts/tcgrep" rel="noreferrer">tcgrep</a>.
</p>
</li>
<li>
<p>
You almost always need access to the functions from <a href="http://search.cpan.org/perldoc?Unicode::Normalize" rel="noreferrer">the standard <code>Unicode::Normalize</code> module</a> various types of decompositions. <code>export PERL5OPTS=-MUnicode::Normalize=NFD,NFKD,NFC,NFKD</code>, and then always run incoming stuff through NFD and outbound stuff from NFC. There’s no I/O layer for these yet that I’m aware of, but see <a href="http://training.perl.com/scripts/nfc" rel="noreferrer"><em>nfc</em></a>, <a href="http://training.perl.com/scripts/nfd" rel="noreferrer"><em>nfd</em></a>, <a href="http://training.perl.com/scripts/nfkd" rel="noreferrer"><em>nfkd</em></a>, and <a href="http://training.perl.com/scripts/nfkc" rel="noreferrer"><em>nfkc</em></a>.
</p>
</li>
<li>
<p>
String comparisons in 🐪 using <code>eq</code>, <code>ne</code>, <code>lc</code>, <code>cmp</code>, <code>sort</code>, &amp;c&amp;cc are always wrong. So instead of <code>@a = sort @b</code>, you need <code>@a = Unicode::Collate-&amp;gt;new-&amp;gt;sort(@b)</code>. Might as well add that to your <code>export PERL5OPTS=-MUnicode::Collate</code>. You can cache the key for binary comparisons.
</p>
</li>
<li>
<p>
🐪 built-ins like <code>printf</code> and <code>write</code> do the wrong thing with Unicode data. You need to use <a href="http://search.cpan.org/perldoc?Unicode::GCString" rel="noreferrer">the <code>Unicode::GCString</code> module</a> for the former, and both that and also <a href="http://search.cpan.org/perldoc?Unicode::LineBreak" rel="noreferrer">the <code>Unicode::LineBreak</code> module</a> as well for the latter. See <a href="http://training.perl.com/scripts/uwc" rel="noreferrer"><em>uwc</em></a> and <a href="http://training.perl.com/scripts/ucsort" rel="noreferrer"><em>unifmt</em></a>.
</p>
</li>
<li>
<p>
If you want them to count as integers, then you are going to have to run your <code>\d+</code> captures through <a href="http://search.cpan.org/~jesse/perl-5.14.0/lib/Unicode/UCD.pm#num" rel="noreferrer">the <code>Unicode::UCD::num</code> function</a> because 🐪’s built-in <em>atoi</em>(3) isn’t currently clever enough.
</p>
</li>
<li>
<p>
You are going to have filesystem issues on 👽 filesystems. Some filesystems silently enforce a conversion to NFC; others silently enforce a conversion to NFD. And others do something else still. Some even ignore the matter altogether, which leads to even greater problems. So you have to do your own NFC/NFD handling to keep sane.
</p>
</li>
<li>
<p>
All your 🐪 code involving <code>a-z</code> or <code>A-Z</code> and such <strong>MUST BE CHANGED</strong>, including <code>m//</code>, <code>s///</code>, and <code>tr///</code>. It’s should stand out as a screaming red flag that your code is broken. But it is not clear how it must change. Getting the right properties, and understanding their casefolds, is harder than you might think. I use <a href="http://training.perl.com/scripts/unichars" rel="noreferrer"><em>unichars</em></a> and <a href="http://training.perl.com/scripts/uniprops" rel="noreferrer"><em>uniprops</em></a> every single day.
</p>
</li>
<li>
<p>
Code that uses <code>\p{Lu}</code> is almost as wrong as code that uses <code>[A-Za-z]</code>. You need to use <code>\p{Upper}</code> instead, and know the reason why. Yes, <code>\p{Lowercase}</code> and <code>\p{Lower}</code> are different from <code>\p{Ll}</code> and <code>\p{Lowercase_Letter}</code>.
</p>
</li>
<li>
<p>
Code that uses <code>[a-zA-Z]</code> is even worse. And it can’t use <code>\pL</code> or <code>\p{Letter}</code>; it needs to use <code>\p{Alphabetic}</code>. Not all alphabetics are letters, you know!
</p>
</li>
<li>
<p>
If you are looking for 🐪 variables with <code>/[\$\@\%]\w+/</code>, then you have a problem. You need to look for <code>/[\$\@\%]\p{IDS}\p{IDC}*/</code>, and even that isn’t thinking about the punctuation variables or package variables.
</p>
</li>
<li>
<p>
If you are checking for whitespace, then you should choose between <code>\h</code> and <code>\v</code>, depending. And you should never use <code>\s</code>, since it <strong>DOES NOT MEAN</strong> <code>[\h\v]</code>, contrary to popular belief.
</p>
</li>
<li>
<p>
If you are using <code>\n</code> for a line boundary, or even <code>\r\n</code>, then you are doing it wrong. You have to use <code>\R</code>, which is not the same!
</p>
</li>
<li>
<p>
If you don’t know when and whether to call <a href="http://search.cpan.org/perldoc?Unicode::Stringprep" rel="noreferrer">Unicode::Stringprep</a>, then you had better learn.
</p>
</li>
<li>
<p>
Case-insensitive comparisons need to check for whether two things are the same letters no matter their diacritics and such. The easiest way to do that is with the <a href="http://search.cpan.org/perldoc?Unicode::Collate" rel="noreferrer">standard Unicode::Collate</a> module. <code>Unicode::Collate-&amp;gt;new(level =&amp;gt; 1)-&amp;gt;cmp($a, $b)</code>. There are also <code>eq</code> methods and such, and you should probably learn about the <code>match</code> and <code>substr</code> methods, too. These are have distinct advantages over the 🐪 built-ins.
</p>
</li>
<li>
<p>
Sometimes that’s still not enough, and you need <a href="http://search.cpan.org/perldoc?Unicode::Collate::Locale" rel="noreferrer">the Unicode::Collate::Locale</a> module instead, as in <code>Unicode::Collate::Locale-&amp;gt;new(locale =&amp;gt; "de__phonebook", level =&amp;gt; 1)-&amp;gt;cmp($a, $b)</code> instead. Consider that <code>Unicode::Collate::-&amp;gt;new(level =&amp;gt; 1)-&amp;gt;eq("d", "ð")</code> is true, but <code>Unicode::Collate::Locale-&amp;gt;new(locale=&amp;gt;"is",level =&amp;gt; 1)-&amp;gt;eq("d", " ð")</code> is false. Similarly, “ae” and “æ” are <code>eq</code> if you don’t use locales, or if you use the English one, but they are different in the Icelandic locale. Now what? It’s tough, I tell you. You can play with <a href="http://training.perl.com/scripts/ucsort" rel="noreferrer"><em>ucsort</em></a> to test some of these things out.
</p>
</li>
<li>
<p>
Consider how to match the pattern CVCV (consonsant, vowel, consonant, vowel) in the string “<em>niño</em>”. Its NFD form — which you had darned well better have remembered to put it in — becomes “nino”. Now what are you going to do? Even pretending that a vowel is <code>[aeiou]</code> (which is wrong, by the way), you won’t be able to do something like <code>(?=[aeiou])\X)</code> either, because even in NFD a code point like ‘ø’ <strong>does not decompose</strong>! However, it will test equal to an ‘o’ using the UCA comparison I just showed you. You can’t rely on NFD, you have to rely on UCA.
</p>
</li>
</ol>
<hr>
<h5>
💩 𝔸 𝕤 𝕤 𝕦 𝕞 𝕖 𝔹 𝕣 𝕠 𝕜 𝕖 𝕟 𝕟 𝕖 𝕤 𝕤 💩
</h2>
<hr>
<p>And that’s not all. There are million broken assumptions that people make about Unicode. Until they understand these things, their 🐪 code will be broken.</p>
<ol>
<li>
<p>
Code that assumes it can open a text file without specifying the encoding is broken.
</p>
</li>
<li>
<p>
Code that assumes the default encoding is some sort of native platform encoding is broken.
</p>
</li>
<li>
<p>
Code that assumes that web pages in Japanese or Chinese take up less space in UTF‑16 than in UTF‑8 is wrong.
</p>
</li>
<li>
<p>
Code that assumes Perl uses UTF‑8 internally is wrong.
</p>
</li>
<li>
<p>
Code that assumes that encoding errors will always raise an exception is wrong.
</p>
</li>
<li>
<p>
Code that assumes Perl code points are limited to 0x10_FFFF is wrong.
</p>
</li>
<li>
<p>
Code that assumes you can set <code>$/</code> to something that will work with any valid line separator is wrong.
</p>
</li>
<li>
<p>
Code that assumes roundtrip equality on casefolding, like <code>lc(uc($s)) eq $s</code> or <code>uc(lc($s)) eq $s</code>, is completely broken and wrong. Consider that the <code>uc("σ")</code> and <code>uc("ς")</code> are both <code>"Σ"</code>, but <code>lc("Σ")</code> cannot possibly return both of those.
</p>
</li>
<li>
<p>
Code that assumes every lowercase code point has a distinct uppercase one, or vice versa, is broken. For example, <code>"ª"</code> is a lowercase letter with no uppercase; whereas both <code>"ᵃ"</code> and <code>"ᴬ"</code> are letters, but they are not lowercase letters; however, they are both lowercase code points without corresponding uppercase versions. Got that? They are <strong>not</strong> <code>\p{Lowercase_Letter}</code>, despite being both <code>\p{Letter}</code> and <code>\p{Lowercase}</code>.
</p>
</li>
<li>
<p>
Code that assumes changing the case doesn’t change the length of the string is broken.
</p>
</li>
<li>
<p>
Code that assumes there are only two cases is broken. There’s also titlecase.
</p>
</li>
<li>
<p>
Code that assumes only letters have case is broken. Beyond just letters, it turns out that numbers, symbols, and even marks have case. In fact, changing the case can even make something change its main general category, like a <code>\p{Mark}</code> turning into a <code>\p{Letter}</code>. It can also make it switch from one script to another.
</p>
</li>
<li>
<p>
Code that assumes that case is never locale-dependent is broken.
</p>
</li>
<li>
<p>
Code that assumes Unicode gives a fig about POSIX locales is broken.
</p>
</li>
<li>
<p>
Code that assumes you can remove diacritics to get at base ASCII letters is evil, still, broken, brain-damaged, wrong, and justification for capital punishment.
</p>
</li>
<li>
<p>
Code that assumes that diacritics <code>\p{Diacritic}</code> and marks <code>\p{Mark}</code> are the same thing is broken.
</p>
</li>
<li>
<p>
Code that assumes <code>\p{GC=Dash_Punctuation}</code> covers as much as <code>\p{Dash}</code> is broken.
</p>
</li>
<li>
<p>
Code that assumes dash, hyphens, and minuses are the same thing as each other, or that there is only one of each, is broken and wrong.
</p>
</li>
<li>
<p>
Code that assumes every code point takes up no more than one print column is broken.
</p>
</li>
<li>
<p>
Code that assumes that all <code>\p{Mark}</code> characters take up zero print columns is broken.
</p>
</li>
<li>
<p>
Code that assumes that characters which look alike <em>are</em> alike is broken.
</p>
</li>
<li>
<p>
Code that assumes that characters which do <em>not</em> look alike are <em>not</em> alike is broken.
</p>
</li>
<li>
<p>
Code that assumes there is a limit to the number of code points in a row that just one <code>\X</code> can match is wrong.
</p>
</li>
<li>
<p>
Code that assumes <code>\X</code> can never start with a <code>\p{Mark}</code> character is wrong.
</p>
</li>
<li>
<p>
Code that assumes that <code>\X</code> can never hold two non-<code>\p{Mark}</code> characters is wrong.
</p>
</li>
<li>
<p>
Code that assumes that it cannot use <code>"\x{FFFF}"</code> is wrong.
</p>
</li>
<li>
<p>
Code that assumes a non-BMP code point that requires two UTF-16 (surrogate) code units will encode to two separate UTF-8 characters, one per code unit, is wrong. It doesn’t: it encodes to single code point.
</p>
</li>
<li>
<p>
Code that transcodes from UTF‐16 or UTF‐32 with leading BOMs into UTF‐8 is broken if it puts a BOM at the start of the resulting UTF-8. This is so stupid the engineer should have their eyelids removed.
</p>
</li>
<li>
<p>
Code that assumes the CESU-8 is a valid UTF encoding is wrong. Likewise, code that thinks encoding U+0000 as <code>"\xC0\x80"</code> is UTF-8 is broken and wrong. These guys also deserve the eyelid treatment.
</p>
</li>
<li>
<p>
Code that assumes characters like <code>&amp;gt;</code> always points to the right and <code>&amp;lt;</code> always points to the left are wrong — because they in fact do not.
</p>
</li>
<li>
<p>
Code that assumes if you first output character <code>X</code> and then character <code>Y</code>, that those will show up as <code>XY</code> is wrong. Sometimes they don’t.
</p>
</li>
<li>
<p>
<strong>Code that assumes that ASCII is good enough for writing English properly is stupid, shortsighted, illiterate, broken, evil, and wrong.</strong> Off with their heads! If that seems too extreme, we can compromise: henceforth they may type only with their big toe from one foot (the rest still be ducktaped).
</p>
</li>
<li>
<p>
Code that assumes that all <code>\p{Math}</code> code points are visible characters is wrong.
</p>
</li>
<li>
<p>
Code that assumes <code>\w</code> contains only letters, digits, and underscores is wrong.
</p>
</li>
<li>
<p>
Code that assumes that <code>^</code> and <code>~</code> are punctuation marks is wrong.
</p>
</li>
<li>
<p>
Code that assumes that <code>ü</code> has an umlaut is wrong.
</p>
</li>
<li>
<p>
Code that believes things like <code>₨</code> contain any letters in them is wrong.
</p>
</li>
<li>
<p>
Code that believes <code>\p{InLatin}</code> is the same as <code>\p{Latin}</code> is heinously broken.
</p>
</li>
<li>
<p>
Code that believe that <code>\p{InLatin}</code> is almost ever useful is almost certainly wrong.
</p>
</li>
<li>
<p>
Code that believes that given <code>$FIRST_LETTER</code> as the first letter in some alphabet and <code>$LAST_LETTER</code> as the last letter in that same alphabet, that <code>[${FIRST_LETTER}-${LAST_LETTER}]</code> has any meaning whatsoever is almost always complete broken and wrong and meaningless.
</p>
</li>
<li>
<p>
Code that believes someone’s name can only contain certain characters is stupid, offensive, and wrong.
</p>
</li>
<li>
<p>
Code that tries to reduce Unicode to ASCII is not merely wrong, its perpetrator should never be allowed to work in programming again. Period. I’m not even positive they should even be allowed to see again, since it obviously hasn’t done them much good so far.
</p>
</li>
<li>
<p>
Code that believes there’s some way to pretend textfile encodings don’t exist is broken and dangerous. Might as well poke the other eye out, too.
</p>
</li>
<li>
<p>
Code that converts unknown characters to <code>?</code> is broken, stupid, braindead, and runs contrary to the standard recommendation, which says <strong>NOT TO DO THAT!</strong> RTFM for why not.
</p>
</li>
<li>
<p>
Code that believes it can reliably guess the encoding of an unmarked textfile is guilty of a fatal mélange of hubris and naïveté that only a lightning bolt from Zeus will fix.
</p>
</li>
<li>
<p>
Code that believes you can use 🐪 <code>printf</code> widths to pad and justify Unicode data is broken and wrong.
</p>
</li>
<li>
<p>
Code that believes once you successfully create a file by a given name, that when you run <code>ls</code> or <code>readdir</code> on its enclosing directory, you’ll actually find that file with the name you created it under is buggy, broken, and wrong. Stop being surprised by this!
</p>
</li>
<li>
<p>
Code that believes UTF-16 is a fixed-width encoding is stupid, broken, and wrong. Revoke their programming licence.
</p>
</li>
<li>
<p>
Code that treats code points from one plane one whit differently than those from any other plane is <em>ipso facto</em> broken and wrong. Go back to school.
</p>
</li>
<li>
<p>
Code that believes that stuff like <code>/s/i</code> can only match <code>"S"</code> or <code>"s"</code> is broken and wrong. You’d be surprised.
</p>
</li>
<li>
<p>
Code that uses <code>\PM\pM*</code> to find grapheme clusters instead of using <code>\X</code> is broken and wrong.
</p>
</li>
<li>
<p>
People who want to go back to the ASCII world should be whole-heartedly encouraged to do so, and in honor of their glorious upgrade they should be provided <em>gratis</em> with a pre-electric manual typewriter for all their data-entry needs. Messages sent to them should be send via an ᴀʟʟᴄᴀᴘs telegraph at 40 characters per line and hand-delivered by a courier. STOP.
</p>
</li>
</ol>
<hr>
<h5>
🎁 🐪 𝕭𝖔𝖎𝖑𝖊𝖗⸗𝖕𝖑𝖆𝖙𝖊 𝖋𝖔𝖗 𝖀𝖓𝖎𝖈𝖔𝖉𝖊⸗𝕬𝖜𝖆𝖗𝖊 𝕮𝖔𝖉𝖊 🐪 🎁
</h2>
<hr>
<p>My own boilerplate these days tends to look like this:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb464-1"><a href="#cb464-1"></a><span class="fu">use</span> <span class="fl">5.014</span>;</span>
<span id="cb464-2"><a href="#cb464-2"></a></span>
<span id="cb464-3"><a href="#cb464-3"></a><span class="fu">use</span> <span class="kw">utf8</span>;</span>
<span id="cb464-4"><a href="#cb464-4"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb464-5"><a href="#cb464-5"></a><span class="fu">use</span> autodie;</span>
<span id="cb464-6"><a href="#cb464-6"></a><span class="fu">use</span> <span class="kw">warnings</span>; </span>
<span id="cb464-7"><a href="#cb464-7"></a><span class="fu">use</span> <span class="kw">warnings</span>    <span class="kw">qw&lt;</span> FATAL  utf8     &gt;;</span>
<span id="cb464-8"><a href="#cb464-8"></a>use open        qw<span class="kw">&lt;</span> :std  :<span class="kw">utf8</span>     &gt;;</span>
<span id="cb464-9"><a href="#cb464-9"></a><span class="fu">use</span> charnames   <span class="kw">qw&lt;</span> :full &gt;;</span>
<span id="cb464-10"><a href="#cb464-10"></a>use feature     qw<span class="kw">&lt;</span> unicode_strings &gt;;</span>
<span id="cb464-11"><a href="#cb464-11"></a></span>
<span id="cb464-12"><a href="#cb464-12"></a><span class="fu">use</span> <span class="fu">File::Basename</span>      <span class="kw">qw&lt;</span> basename &gt;;</span>
<span id="cb464-13"><a href="#cb464-13"></a>use Carp                qw<span class="kw">&lt;</span> carp croak confess cluck &gt;;</span>
<span id="cb464-14"><a href="#cb464-14"></a><span class="fu">use</span> Encode              <span class="kw">qw&lt;</span> encode decode &gt;;</span>
<span id="cb464-15"><a href="#cb464-15"></a>use Unicode::Normalize  qw<span class="kw">&lt;</span> NFD NFC &gt;;</span>
<span id="cb464-16"><a href="#cb464-16"></a></span>
<span id="cb464-17"><a href="#cb464-17"></a><span class="kw">END</span> { <span class="fu">close</span> STDOUT }</span>
<span id="cb464-18"><a href="#cb464-18"></a></span>
<span id="cb464-19"><a href="#cb464-19"></a><span class="kw">if</span> (<span class="fu">grep</span> <span class="kw">/</span><span class="dt">\P{ASCII}</span><span class="kw">/</span> =&gt; <span class="dt">@ARGV</span>) { </span>
<span id="cb464-20"><a href="#cb464-20"></a>   <span class="dt">@ARGV</span> = <span class="fu">map</span> { decode(<span class="kw">&quot;</span><span class="st">UTF-8</span><span class="kw">&quot;</span>, <span class="dt">$_</span>) } <span class="dt">@ARGV</span>;</span>
<span id="cb464-21"><a href="#cb464-21"></a>}</span>
<span id="cb464-22"><a href="#cb464-22"></a></span>
<span id="cb464-23"><a href="#cb464-23"></a><span class="dt">$0</span> = basename(<span class="dt">$0</span>);  <span class="co"># shorter messages</span></span>
<span id="cb464-24"><a href="#cb464-24"></a><span class="dt">$|</span> = <span class="dv">1</span>;</span>
<span id="cb464-25"><a href="#cb464-25"></a></span>
<span id="cb464-26"><a href="#cb464-26"></a><span class="fu">binmode</span>(DATA, <span class="kw">&quot;</span><span class="st">:utf8</span><span class="kw">&quot;</span>);</span>
<span id="cb464-27"><a href="#cb464-27"></a></span>
<span id="cb464-28"><a href="#cb464-28"></a><span class="co"># give a full stack dump on any untrapped exceptions</span></span>
<span id="cb464-29"><a href="#cb464-29"></a><span class="kw">local</span> <span class="dt">$SIG</span>{__DIE__} = <span class="kw">sub </span>{</span>
<span id="cb464-30"><a href="#cb464-30"></a>    confess <span class="kw">&quot;</span><span class="st">Uncaught exception: </span><span class="dt">@_</span><span class="kw">&quot;</span> <span class="kw">unless</span> <span class="dt">$^S</span>;</span>
<span id="cb464-31"><a href="#cb464-31"></a>};</span>
<span id="cb464-32"><a href="#cb464-32"></a></span>
<span id="cb464-33"><a href="#cb464-33"></a><span class="co"># now promote run-time warnings into stackdumped exceptions</span></span>
<span id="cb464-34"><a href="#cb464-34"></a><span class="co">#   *unless* we&#39;re in an try block, in which </span></span>
<span id="cb464-35"><a href="#cb464-35"></a><span class="co">#   case just generate a clucking stackdump instead</span></span>
<span id="cb464-36"><a href="#cb464-36"></a><span class="kw">local</span> <span class="dt">$SIG</span>{__WARN__} = <span class="kw">sub </span>{</span>
<span id="cb464-37"><a href="#cb464-37"></a>    <span class="kw">if</span> (<span class="dt">$^S</span>) { cluck   <span class="kw">&quot;</span><span class="st">Trapped warning: </span><span class="dt">@_</span><span class="kw">&quot;</span> } </span>
<span id="cb464-38"><a href="#cb464-38"></a>    <span class="kw">else</span>     { confess <span class="kw">&quot;</span><span class="st">Deadly warning: </span><span class="dt">@_</span><span class="kw">&quot;</span>  }</span>
<span id="cb464-39"><a href="#cb464-39"></a>};</span>
<span id="cb464-40"><a href="#cb464-40"></a></span>
<span id="cb464-41"><a href="#cb464-41"></a><span class="kw">while</span> (&lt;&gt;)  {</span>
<span id="cb464-42"><a href="#cb464-42"></a>    <span class="fu">chomp</span>;</span>
<span id="cb464-43"><a href="#cb464-43"></a>    <span class="dt">$_</span> = NFD(<span class="dt">$_</span>);</span>
<span id="cb464-44"><a href="#cb464-44"></a>    ...</span>
<span id="cb464-45"><a href="#cb464-45"></a>} <span class="kw">continue</span> {</span>
<span id="cb464-46"><a href="#cb464-46"></a>    say NFC(<span class="dt">$_</span>);</span>
<span id="cb464-47"><a href="#cb464-47"></a>}</span>
<span id="cb464-48"><a href="#cb464-48"></a></span>
<span id="cb464-49"><a href="#cb464-49"></a><span class="kw">__END__</span></span></code></pre></div>
<hr>
<h5>
😱 𝕾 𝖀 𝕸 𝕸 𝕬 𝕽 𝖄 😱
</h1>
<hr>
<p>I don’t know how much more “default Unicode in 🐪” you can get than what I’ve written. Well, yes I do: you should be using <code>Unicode::Collate</code> and <code>Unicode::LineBreak</code>, too. And probably more.</p>
<p>As you see, there are far too many Unicode things that you really <em>do</em> have to worry about for there to <em>ever</em> exist any such thing as “default to Unicode”.</p>
<p>What you’re going to discover, just as we did back in 🐪 5.8, that it is simply impossible to impose all these things on code that hasn’t been designed right from the beginning to account for them. Your well-meaning selfishness just broke the entire world.</p>
<p>And even once you do, there are still critical issues that require a great deal of thought to get right. There is no switch you can flip. Nothing but brain, and I mean <em>real brain</em>, will suffice here. There’s a heck of a lot of stuff you have to learn. Modulo the retreat to the manual typewriter, you simply cannot hope to sneak by in ignorance. This is the 21ˢᵗ century, and you cannot wish Unicode away by willful ignorance.</p>
<p>You have to learn it. Period. It will never be so easy that “everything just works”, because that will guarantee that a lot of things <strong>don’t</strong> work — which invalidates the assumption that there can ever be a way to “make it all work”.</p>
<p>You may be able to get a few reasonable defaults for a very few and very limited operations, but not without thinking about things a whole lot more than I think you have.</p>
<p>As just one example, canonical ordering is going to cause some real headaches. 😭<code>"\x{F5}"</code> <strong>‘õ’</strong>, <code>"o\x{303}"</code> <strong>‘õ’</strong>, <code>"o\x{303}\x{304}"</code> <strong>‘ȭ’</strong>, and <code>"o\x{304}\x{303}"</code> <strong>‘ō̃’</strong> should all match <strong>‘õ’</strong>, but how in the world are you going to do that? This is harder than it looks, but it’s something you need to account for. 💣</p>
<p>If there’s one thing I know about Perl, it is what its Unicode bits do and do not do, and this thing I promise you: <strong>“ ̲ᴛ̲ʜ̲ᴇ̲ʀ̲ᴇ̲ ̲ɪ̲s̲ ̲ɴ̲ᴏ̲ ̲U̲ɴ̲ɪ̲ᴄ̲ᴏ̲ᴅ̲ᴇ̲ ̲ᴍ̲ᴀ̲ɢ̲ɪ̲ᴄ̲ ̲ʙ̲ᴜ̲ʟ̲ʟ̲ᴇ̲ᴛ̲ ̲ ”</strong> 😞</p>
<p>You cannot just change some defaults and get smooth sailing. It’s true that I run 🐪 with <code>PERL_UNICODE</code> set to <code>"SA"</code>, but that’s all, and even that is mostly for command-line stuff. For real work, I go through all the many steps outlined above, and I do it very, ** very** carefully.</p>
<hr>
<h5>
😈 ¡ƨdləɥ ƨᴉɥʇ ədoɥ puɐ ʻλɐp əɔᴉu ɐ əʌɐɥ ʻʞɔnl poo⅁ 😈
</h1>
</section>
<section id="answer-2-score-95" class="level4">
<h4>Answer 2 (score 95)</h4>
<p>There are two stages to processing Unicode text. The first is “how can I input it and output it without losing information”. The second is “how do I treat text according to local language conventions”.</p>
<p>tchrist’s post covers both, but the second part is where 99% of the text in his post comes from. Most programs don’t even handle I/O correctly, so it’s important to understand that before you even begin to worry about normalization and collation.</p>
<p>This post aims to solve that first problem</p>
<p>When you read data into Perl, it doesn’t care what encoding it is. It allocates some memory and stashes the bytes away there. If you say <code>print $str</code>, it just blits those bytes out to your terminal, which is probably set to assume everything that is written to it is UTF-8, and your text shows up.</p>
<p>Marvelous.</p>
<p>Except, it’s not. If you try to treat the data as text, you’ll see that Something Bad is happening. You need go no further than <code>length</code> to see that what Perl thinks about your string and what you think about your string disagree. Write a one-liner like: <code>perl -E 'while(&amp;lt;&amp;gt;){ chomp; say length }'</code> and type in <code>文字化け</code> and you get 12… not the correct answer, 4.</p>
<p>That’s because Perl assumes your string is not text. You have to tell it that it’s text before it will give you the right answer.</p>
<p>That’s easy enough; the Encode module has the functions to do that. The generic entry point is <code>Encode::decode</code> (or <code>use Encode qw(decode)</code>, of course). That function takes some string from the outside world (what we’ll call “octets”, a fancy of way of saying “8-bit bytes”), and turns it into some text that Perl will understand. The first argument is a character encoding name, like “UTF-8” or “ASCII” or “EUC-JP”. The second argument is the string. The return value is the Perl scalar containing the text.</p>
<p>(There is also <code>Encode::decode_utf8</code>, which assumes UTF-8 for the encoding.)</p>
<p>If we rewrite our one-liner:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb465-1"><a href="#cb465-1"></a>perl -MEncode=decode -E <span class="kw">&#39;</span><span class="st">while(&lt;&gt;){ chomp; say length decode(&quot;UTF-8&quot;, $_) }</span><span class="kw">&#39;</span></span></code></pre></div>
<p>We type in 文字化け and get “4” as the result. Success.</p>
<p>That, right there, is the solution to 99% of Unicode problems in Perl.</p>
<p>The key is, whenever any text comes into your program, you must decode it. The Internet cannot transmit characters. Files cannot store characters. There are no characters in your database. There are only octets, and you can’t treat octets as characters in Perl. You must decode the encoded octets into Perl characters with the Encode module.</p>
<p>The other half of the problem is getting data out of your program. That’s easy to; you just say <code>use Encode qw(encode)</code>, decide what the encoding your data will be in (UTF-8 to terminals that understand UTF-8, UTF-16 for files on Windows, etc.), and then output the result of <code>encode($encoding, $data)</code> instead of just outputting <code>$data</code>.</p>
<p>This operation converts Perl’s characters, which is what your program operates on, to octets that can be used by the outside world. It would be a lot easier if we could just send characters over the Internet or to our terminals, but we can’t: octets only. So we have to convert characters to octets, otherwise the results are undefined.</p>
<p>To summarize: encode all outputs and decode all inputs.</p>
<p>Now we’ll talk about three issues that make this a little challenging. The first is libraries. Do they handle text correctly? The answer is… they try. If you download a web page, LWP will give you your result back as text. If you call the right method on the result, that is (and that happens to be <code>decoded_content</code>, not <code>content</code>, which is just the octet stream that it got from the server.) Database drivers can be flaky; if you use DBD::SQLite with just Perl, it will work out, but if some other tool has put text stored as some encoding other than UTF-8 in your database… well… it’s not going to be handled correctly until you write code to handle it correctly.</p>
<p>Outputting data is usually easier, but if you see “wide character in print”, then you know you’re messing up the encoding somewhere. That warning means “hey, you’re trying to leak Perl characters to the outside world and that doesn’t make any sense”. Your program appears to work (because the other end usually handles the raw Perl characters correctly), but it is very broken and could stop working at any moment. Fix it with an explicit <code>Encode::encode</code>!</p>
<p>The second problem is UTF-8 encoded source code. Unless you say <code>use utf8</code> at the top of each file, Perl will not assume that your source code is UTF-8. This means that each time you say something like <code>my $var = 'ほげ'</code>, you’re injecting garbage into your program that will totally break everything horribly. You don’t have to “use utf8”, but if you don’t, you <em>must</em> not use any non-ASCII characters in your program.</p>
<p>The third problem is how Perl handles The Past. A long time ago, there was no such thing as Unicode, and Perl assumed that everything was Latin-1 text or binary. So when data comes into your program and you start treating it as text, Perl treats each octet as a Latin-1 character. That’s why, when we asked for the length of “文字化け”, we got 12. Perl assumed that we were operating on the Latin-1 string “æå­åã” (which is 12 characters, some of which are non-printing).</p>
<p>This is called an “implicit upgrade”, and it’s a perfectly reasonable thing to do, but it’s not what you want if your text is not Latin-1. That’s why it’s critical to explicitly decode input: if you don’t do it, Perl will, and it might do it wrong.</p>
<p>People run into trouble where half their data is a proper character string, and some is still binary. Perl will interpret the part that’s still binary as though it’s Latin-1 text and then combine it with the correct character data. This will make it look like handling your characters correctly broke your program, but in reality, you just haven’t fixed it enough.</p>
<p>Here’s an example: you have a program that reads a UTF-8-encoded text file, you tack on a Unicode <code>PILE OF POO</code> to each line, and you print it out. You write it like:</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb466-1"><a href="#cb466-1"></a><span class="kw">while</span>(&lt;&gt;){</span>
<span id="cb466-2"><a href="#cb466-2"></a>    <span class="fu">chomp</span>;</span>
<span id="cb466-3"><a href="#cb466-3"></a>    say <span class="kw">&quot;</span><span class="dt">$_</span><span class="st"> 💩</span><span class="kw">&quot;</span>;</span>
<span id="cb466-4"><a href="#cb466-4"></a>}</span></code></pre></div>
<p>And then run on some UTF-8 encoded data, like:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb467-1"><a href="#cb467-1"></a>perl poo.pl input-data.txt</span></code></pre></div>
<p>It prints the UTF-8 data with a poo at the end of each line. Perfect, my program works!</p>
<p>But nope, you’re just doing binary concatenation. You’re reading octets from the file, removing a <code>\n</code> with chomp, and then tacking on the bytes in the UTF-8 representation of the <code>PILE OF POO</code> character. When you revise your program to decode the data from the file and encode the output, you’ll notice that you get garbage (“ð©”) instead of the poo. This will lead you to believe that decoding the input file is the wrong thing to do. It’s not.</p>
<p>The problem is that the poo is being implicitly upgraded as latin-1. If you <code>use utf8</code> to make the literal text instead of binary, then it will work again!</p>
<p>(That’s the number one problem I see when helping people with Unicode. They did part right and that broke their program. That’s what’s sad about undefined results: you can have a working program for a long time, but when you start to repair it, it breaks. Don’t worry; if you are adding encode/decode statements to your program and it breaks, it just means you have more work to do. Next time, when you design with Unicode in mind from the beginning, it will be much easier!)</p>
<p>That’s really all you need to know about Perl and Unicode. If you tell Perl what your data is, it has the best Unicode support among all popular programming languages. If you assume it will magically know what sort of text you are feeding it, though, then you’re going to trash your data irrevocably. Just because your program works today on your UTF-8 terminal doesn’t mean it will work tomorrow on a UTF-16 encoded file. So make it safe now, and save yourself the headache of trashing your users’ data!</p>
<p>The easy part of handling Unicode is encoding output and decoding input. The hard part is finding all your input and output, and determining which encoding it is. But that’s why you get the big bucks :)</p>
</section>
<section id="answer-3-score-48-1" class="level4">
<h4>Answer 3 (score 48)</h4>
<p>
We’re all in agreement that it is a difficult problem for many reasons, but that’s precisely the reason to try to make it easier on everybody.
</p>
<p>There is a recent module on CPAN, <a href="http://search.cpan.org/perldoc?utf8::all" rel="noreferrer">utf8::all</a>, that attempts to “turn on Unicode. All of it”.</p>
<p>As has been pointed out, you can’t magically make the entire system (outside programs, external web requests, etc.) use Unicode as well, but we can work together to make sensible tools that make doing common problems easier. That’s the reason that we’re programmers.</p>
<p>If utf8::all doesn’t do something you think it should, let’s improve it to make it better. Or let’s make additional tools that together can suit people’s varying needs as well as possible.</p>
<p>`</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-remove-text-within-parentheses-with-a-regex-score-97531-in-2009" class="level3">
<h3>91: How can I remove text within parentheses with a regex? (score <a href="https://stackoverflow.com/q/640001.html">97531</a> in 2009)</h3>
<section id="question-88" class="level4">
<h4>Question</h4>
<p>I’m trying to handle a bunch of files, and I need to alter then to remove extraneous information in the filenames; notably, I’m trying to remove text inside parentheses. For example:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb468-1"><a href="#cb468-1"></a>filename = <span class="kw">&quot;</span><span class="st">Example_file_(extra_descriptor).ext</span><span class="kw">&quot;</span></span></code></pre></div>
<p>and I want to regex a whole bunch of files where the parenthetical expression might be in the middle or at the end, and of variable length.</p>
<p>What would the regex look like? Perl or Python syntax would be preferred.</p>
</section>
<section id="answer-accepted-score-103" class="level4">
<h4>Answer accepted (score 103)</h4>
<div class="sourceCode" id="cb469"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb469-1"><a href="#cb469-1"></a><span class="kw">s/</span><span class="ot">\(</span><span class="ch">[^</span><span class="bn">)</span><span class="ch">]*</span><span class="ot">\)</span><span class="kw">//</span></span></code></pre></div>
<p>So in Python, you’d do:</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb470-1"><a href="#cb470-1"></a>re.<span class="kw">sub</span>(r<span class="kw">&#39;</span><span class="st">\([^)]*\)</span><span class="kw">&#39;</span>, <span class="kw">&#39;&#39;</span>, filename)</span></code></pre></div>
</section>
<section id="answer-2-score-36" class="level4">
<h4>Answer 2 (score 36)</h4>
<p>The pattern that matches substrings in parentheses <em>having no other <code>(</code> and <code>)</code> characters in between</em> (like <code>(xyz 123)</code> in <code>Text (abc(xyz 123)</code>) is</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb471-1"><a href="#cb471-1"></a>\([^()]<span class="dt">*\</span>)</span></code></pre></div>
<p><strong>Details</strong>:</p>
<ul>
<li>
<code>\(</code> - an opening round bracket (note that in POSIX BRE, <code>(</code> should be used, see <code>sed</code> example below)
</li>
<li>
<code>[^()]*</code> - zero or more (due to the <code>*</code> <a href="http://www.regular-expressions.info/repeat.html" rel="noreferrer">Kleene star quantifier</a>) characters <em>other than</em> those defined in the <a href="http://www.regular-expressions.info/charclass.html#negated" rel="noreferrer"><em>negated character class</em>/<em>POSIX bracket expression</em></a>, that is, any chars other than <code>(</code> and <code>)</code>
</li>
<li>
<code>\)</code> - a closing round bracket (no escaping in POSIX BRE allowed)
</li>
</ul>
<p>Removing code snippets:</p>
<ul>
<li>
<strong>JavaScript</strong>: <code>string.replace(/\([^()]*\)/g, '')</code>
</li>
<li>
<strong>PHP</strong>: <code>preg_replace('~\([^()]*\)~', '', $string)</code>
</li>
<li>
<strong>Perl</strong>: <code>$s =~ s/\([^()]*\)//g</code>
</li>
<li>
<strong>Python</strong>: <code>re.sub(r'\([^()]*\)', '', s)</code>
</li>
<li>
<strong>C#</strong>: <code>Regex.Replace(str, @"\([^()]*\)", string.Empty)</code>
</li>
<li>
<strong>VB.NET</strong>: <code>Regex.Replace(str, "\([^()]*\)", "")</code>
</li>
<li>
<strong>Java</strong>: <code>s.replaceAll("\\([^()]*\\)", "")</code>
</li>
<li>
<strong>Ruby</strong>: <code>s.gsub(/\([^()]*\)/, '')</code>
</li>
<li>
<strong>R</strong>: <code>gsub("\\([^()]*\\)", "", x)</code>
</li>
<li>
<strong>Lua</strong>: <code>string.gsub(s, "%([^()]*%)", "")</code>
</li>
<li>
<strong>Bash/sed</strong>: <code>sed 's/([^()]*)//g'</code>
</li>
<li>
<strong>Tcl</strong>: <code>regsub -all {\([^()]*\)} $s "" result</code>
</li>
<li>
<strong>C++ <code>std::regex</code></strong>: <code>std::regex_replace(s, std::regex(R"(\([^()]*\))"), "")</code>
</li>
<li>
<strong>Objective-C</strong>: <br/><code>NSRegularExpression <em>regex = [NSRegularExpression regularExpressionWithPattern:@"\([^()]*\)" options:NSRegularExpressionCaseInsensitive error:&amp;error]; NSString </em>modifiedString = [regex stringByReplacingMatchesInString:string options:0 range:NSMakeRange(0, [string length]) withTemplate:@""];</code>
</li>
<li>
<strong>Swift</strong>: <code>s.replacingOccurrences(of: "\\([^()]*\\)", with: "", options: [.regularExpression])</code>
</li>
</ul>
</section>
<section id="answer-3-score-21-1" class="level4">
<h4>Answer 3 (score 21)</h4>
<p>I would use:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb472-1"><a href="#cb472-1"></a>\([^)]<span class="dt">*\</span>)</span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-store-the-result-of-a-system-command-in-a-perl-variable-score-97221-in-2013" class="level3">
<h3>92: How can I store the result of a system command in a Perl variable? (score <a href="https://stackoverflow.com/q/3854651.html">97221</a> in 2013)</h3>
<section id="question-89" class="level4">
<h4>Question</h4>
<div class="sourceCode" id="cb473"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb473-1"><a href="#cb473-1"></a>$ cat test.pl</span>
<span id="cb473-2"><a href="#cb473-2"></a><span class="kw">my</span> <span class="dt">$pid</span> = <span class="dv">5892</span>;</span>
<span id="cb473-3"><a href="#cb473-3"></a><span class="kw">my</span> <span class="dt">$not</span> = <span class="fu">system</span>(<span class="kw">&quot;</span><span class="st">top -H -p </span><span class="dt">$pid</span><span class="st"> -n 1 | grep myprocess | wc -l</span><span class="kw">&quot;</span>);</span>
<span id="cb473-4"><a href="#cb473-4"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">not = </span><span class="dt">$not</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb473-5"><a href="#cb473-5"></a>$ perl test.pl</span>
<span id="cb473-6"><a href="#cb473-6"></a><span class="dv">11</span></span>
<span id="cb473-7"><a href="#cb473-7"></a><span class="kw">not</span> = <span class="dv">0</span></span>
<span id="cb473-8"><a href="#cb473-8"></a>$</span></code></pre></div>
<p>I want to capture the result i.e. <code>11</code> into a variable. How can I do that?</p>
</section>
<section id="answer-accepted-score-50" class="level4">
<h4>Answer accepted (score 50)</h4>
<p>From <a href="http://perldoc.perl.org/perlfaq8.html#Why-can&#39;t-I-get-the-output-of-a-command-with-system()%3f" rel="noreferrer">Perlfaq8</a>:</p>
<p>You’re confusing the purpose of <a href="http://p3rl.org/system" rel="noreferrer">system()</a> and <a href="http://p3rl.org/op#qx%2fSTRING%2f" rel="noreferrer">backticks</a> (<code>). system() runs a command and returns exit status information (as a 16 bit value: the low 7 bits are the signal the process died from, if any, and the high 8 bits are the actual exit value). Backticks (</code>) run a command and return what it sent to STDOUT.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb474-1"><a href="#cb474-1"></a><span class="dt">$exit_status</span>   = <span class="fu">system</span>(<span class="kw">&quot;</span><span class="st">mail-users</span><span class="kw">&quot;</span>);</span>
<span id="cb474-2"><a href="#cb474-2"></a>    <span class="dt">$output_string</span> = <span class="kw">`</span><span class="st">ls</span><span class="kw">`</span>;</span></code></pre></div>
<p>There are many ways to execute external commands from Perl. The most commons with their meanings are:</p>
<ul>
<li>
<strong><a href="http://perldoc.perl.org/functions/system.html" rel="noreferrer">system()</a></strong> : you want to execute a command and don’t want to capture its output
</li>
<li>
<strong><a href="http://perldoc.perl.org/functions/exec.html" rel="noreferrer">exec</a></strong>: you don’t want to return to the calling perl script
</li>
<li>
<strong><a href="http://perldoc.perl.org/perlop.html#qx%2fSTRING%2f" rel="noreferrer">backticks</a></strong> : you want to capture the output of the command
</li>
<li>
<strong><a href="http://perldoc.perl.org/functions/open.html" rel="noreferrer">open</a>:</strong> you want to pipe the command (as input or output) to your script
</li>
</ul>
<p>Also see <a href="http://perldoc.perl.org/perlfaq8.html#How-can-I-capture-STDERR-from-an-external-command%3f" rel="noreferrer">How can I capture STDERR from an external command?</a></p>
</section>
<section id="answer-2-score-11-2" class="level4">
<h4>Answer 2 (score 11)</h4>
<p>The easiest way is to use the ```` feature in Perl. This will execute what is inside and return what was printed to stdout:</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb475-1"><a href="#cb475-1"></a> <span class="kw">my</span> <span class="dt">$pid</span> = <span class="dv">5892</span>;</span>
<span id="cb475-2"><a href="#cb475-2"></a> <span class="kw">my</span> <span class="dt">$var</span> = <span class="kw">`</span><span class="st">top -H -p </span><span class="dt">$pid</span><span class="st"> -n 1 | grep myprocess | wc -l</span><span class="kw">`</span>;</span>
<span id="cb475-3"><a href="#cb475-3"></a> <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">not = </span><span class="dt">$var</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>This should do it.</p>
</section>
<section id="answer-3-score-7-2" class="level4">
<h4>Answer 3 (score 7)</h4>
<p>Try using <code>qx{command}</code> rather than backticks. To me, it’s a bit better because: you can do SQL with it and not worry about escaping quotes and such. Depending on the editor and screen, my old eyes tend to miss the tiny back ticks, and it shouldn’t ever have an issue with being overloaded like using angle brackets versus glob.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-compile-my-perl-script-so-it-can-be-executed-on-systems-without-perl-installed-score-96840-in-2009" class="level3">
<h3>93: How can I compile my Perl script so it can be executed on systems without perl installed? (score <a href="https://stackoverflow.com/q/1237286.html">96840</a> in 2009)</h3>
<section id="question-90" class="level4">
<h4>Question</h4>
<p>I have a <code>.pl</code> file and I want to execute that file in any system even though <code>perl</code> is not installed. How can i achieve it?</p>
<p>Can any one let me know with some good examples to do that?</p>
</section>
<section id="answer-2-score-43-1" class="level4">
<h4>Answer 2 (score 43)</h4>
<p><a href="http://search.cpan.org/perldoc/pp" rel="noreferrer">pp</a> can create an executable that includes perl and your script (and any module dependencies), but it will be specific to your architecture, so you couldn’t run it on both Windows and linux for instance.</p>
<p>From its doc:</p>
<blockquote>
<p>To make a stand-alone executable, suitable for running on a machine that doesn’t have perl installed:</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb476-1"><a href="#cb476-1"></a>   % pp <span class="kw">-o</span> packed.exe source.pl        <span class="co"># makes packed.exe</span></span>
<span id="cb476-2"><a href="#cb476-2"></a>   <span class="co"># Now, deploy &#39;packed.exe&#39; to target machine...</span></span>
<span id="cb476-3"><a href="#cb476-3"></a>   $ packed.exe                        <span class="co"># run it</span></span></code></pre></div>
</blockquote>
<p>(% and $ there are command prompts on different machines).</p>
</section>
<section id="answer-3-score-29-3" class="level4">
<h4>Answer 3 (score 29)</h4>
<ol>
<li>
<p>
Install <a href="http://search.cpan.org/perldoc?PAR::Packer" rel="noreferrer"><code>PAR::Packer</code></a>. Example for *nix:
</p>
<pre>sudo cpan -i PAR::Packer</pre>
<p>For Strawberry Perl for Windows or for ActivePerl and MSVC installed:</p>
<pre>cpan -i PAR::Packer</pre>
</li>
<li>
<p>
Pack it with <a href="http://search.cpan.org/perldoc?pp" rel="noreferrer"><code>pp</code></a>. It will create an executable named “example” or “example.exe” on Windows.
</p>
<pre>pp -o example example.pl</pre>
</li>
</ol>
<p>This would work only on the OS where it was built.</p>
<p><em>P.S. It is really hard to find a Unix clone without Perl. Did you mean Windows?</em></p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-delete-a-newline-if-it-is-the-last-character-in-a-file-score-96750-in-2017" class="level3">
<h3>94: How can I delete a newline if it is the last character in a file? (score <a href="https://stackoverflow.com/q/1654021.html">96750</a> in 2017)</h3>
<section id="question-91" class="level4">
<h4>Question</h4>
<p>I have some files that I’d like to delete the last newline if it is the last character in a file. <code>od -c</code> shows me that the command I run does write the file with a trailing new line:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb477-1"><a href="#cb477-1"></a><span class="dv">0013600</span>   n   t  &gt;  \n</span></code></pre></div>
<p>I’ve tried a few tricks with sed but the best I could think of isn’t doing the trick:</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb478-1"><a href="#cb478-1"></a>sed <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">$s/\(.*\)\n$/\1/</span><span class="kw">&#39;</span> abc</span></code></pre></div>
<p>Any ideas how to do this?</p>
</section>
<section id="answer-accepted-score-212" class="level4">
<h4>Answer accepted (score 212)</h4>
<div class="sourceCode" id="cb479"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb479-1"><a href="#cb479-1"></a>perl -pe <span class="kw">&#39;</span><span class="st">chomp if eof</span><span class="kw">&#39;</span> filename &gt;filename2</span></code></pre></div>
<p>or, to edit the file in place:</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb480-1"><a href="#cb480-1"></a>perl -pi <span class="kw">-e</span> <span class="kw">&#39;</span><span class="st">chomp if eof</span><span class="kw">&#39;</span> filename</span></code></pre></div>
<p><sup><span class="citation" data-cites="hvd">[Editor's note: `-pi -e` was originally `-pie`, but, as noted by several commenters and explained by @hvd, the latter doesn't work.]</span></sup></p>
<p>This was described as a ‘perl blasphemy’ on the awk website I saw.</p>
<p>But, in a test, it worked.</p>
</section>
<section id="answer-2-score-54-2" class="level4">
<h4>Answer 2 (score 54)</h4>
<p>You can take advantage of the fact that <strong>shell <a href="http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_06_03" rel="noreferrer">command substitutions</a> remove trailing newline characters</strong>:</p>
<p>Simple form that works in bash, ksh, zsh:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb481-1"><a href="#cb481-1"></a><span class="fu">printf</span> <span class="dt">%s</span> <span class="kw">&quot;</span><span class="dt">$(</span><span class="st">&lt; in.txt)</span><span class="kw">&quot;</span> &gt; out.txt</span></code></pre></div>
<p>Portable (POSIX-compliant) alternative (slightly less efficient):</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb482-1"><a href="#cb482-1"></a><span class="fu">printf</span> <span class="dt">%s</span> <span class="kw">&quot;</span><span class="dt">$(</span><span class="st">cat in.txt)</span><span class="kw">&quot;</span> &gt; out.txt</span></code></pre></div>
<p>Note:</p>
<ul>
<li>
<strong>If <code>in.txt</code> ends with <em>multiple</em> newline characters, the command substitution removes <em>all</em> of them</strong> - thanks, <span class="citation" data-cites="Sparhawk">@Sparhawk</span>. (It doesn’t remove whitespace characters other than trailing newlines.)
</li>
<li>
Since this approach <strong>reads the entire input file into memory</strong>, it is only advisable for smaller files.
</li>
<li>
<code>printf %s</code> ensures that no newline is appended to the output (it is the POSIX-compliant alternative to the nonstandard <code>echo -n</code>; see <a href="http://pubs.opengroup.org/onlinepubs/009696799/utilities/echo.html" rel="noreferrer">http://pubs.opengroup.org/onlinepubs/009696799/utilities/echo.html</a> and <a href="https://unix.stackexchange.com/a/65819">https://unix.stackexchange.com/a/65819</a>)
</li>
</ul>
<hr>
<p>A <strong>guide to the other answers</strong>:</p>
<ul>
<li>
<p>
If <strong>Perl</strong> is available, go for the <a href="https://stackoverflow.com/a/1654042/45375">accepted answer</a> - it is <strong>simple and memory-efficient</strong> (doesn’t read the whole input file at once).
</p>
</li>
<li>
<p>
Otherwise, consider <a href="https://stackoverflow.com/a/1654115/45375">ghostdog74’s <strong>Awk</strong> answer</a> - it’s <strong>obscure, but also memory-efficient</strong>; a <strong>more readable equivalent</strong> (POSIX-compliant) is:
</p>
<ul>
<li>
<code>awk 'NR &amp;gt; 1 { print prev } { prev=$0 } END { ORS=""; print }' in.txt</code>
</li>
<li>
Printing is delayed by one line so that the final line can be handled in the <code>END</code> block, where it is printed without a trailing <code>\n</code> due to setting the output-record separator (<code>OFS</code>) to an empty string.
</li>
</ul>
</li>
<li>
<p>
If you want a <strong>verbose, but fast and robust solution that <em>truly edits in-place</em></strong> (as opposed to creating a temp. file that then replaces the original), consider <a href="https://stackoverflow.com/a/1658873/45375">jrockway’s <strong>Perl script</strong></a>.
</p>
</li>
</ul>
</section>
<section id="answer-3-score-45" class="level4">
<h4>Answer 3 (score 45)</h4>
<p>You can do this with <code>head</code> from GNU coreutils, it supports arguments that are relative to the end of the file. So to leave off the last byte use:</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb483-1"><a href="#cb483-1"></a>head <span class="kw">-c</span> <span class="dv">-1</span></span></code></pre></div>
<p>To test for an ending newline you can use <code>tail</code> and <code>wc</code>. The following example saves the result to a temporary file and subsequently overwrites the original:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb484-1"><a href="#cb484-1"></a><span class="kw">if</span> [[ <span class="dt">$(tail</span> -c1 file | wc <span class="kw">-l</span>) == <span class="dv">1</span> ]]; then</span>
<span id="cb484-2"><a href="#cb484-2"></a>  head <span class="kw">-c</span> <span class="dv">-1</span> file &gt; file.tmp</span>
<span id="cb484-3"><a href="#cb484-3"></a>  mv file.tmp file</span>
<span id="cb484-4"><a href="#cb484-4"></a>fi</span></code></pre></div>
<p>You could also use <code>sponge</code> from <code>moreutils</code> to do “in-place” editing:</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb485-1"><a href="#cb485-1"></a>[[ <span class="dt">$(tail</span> -c1 file | wc <span class="kw">-l</span>) == <span class="dv">1</span> ]] &amp;&amp; head <span class="kw">-c</span> <span class="dv">-1</span> file | sponge file</span></code></pre></div>
<hr>
<p>You can also make a general reusable function by stuffing this in your <code>.bashrc</code> file:</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb486-1"><a href="#cb486-1"></a><span class="co"># Example:  remove-last-newline &lt; multiline.txt</span></span>
<span id="cb486-2"><a href="#cb486-2"></a>function remove-<span class="kw">last</span>-newline(){</span>
<span id="cb486-3"><a href="#cb486-3"></a>    <span class="kw">local</span> file=<span class="dt">$(mktemp</span>)</span>
<span id="cb486-4"><a href="#cb486-4"></a>    cat &gt; <span class="dt">$file</span></span>
<span id="cb486-5"><a href="#cb486-5"></a>    <span class="kw">if</span> [[ <span class="dt">$(tail</span> -c1 <span class="dt">$file</span> | wc <span class="kw">-l</span>) == <span class="dv">1</span> ]]; then</span>
<span id="cb486-6"><a href="#cb486-6"></a>        head <span class="kw">-c</span> <span class="dv">-1</span> <span class="dt">$file</span> &gt; <span class="dt">$file</span>.tmp</span>
<span id="cb486-7"><a href="#cb486-7"></a>        mv <span class="dt">$file</span>.tmp <span class="dt">$file</span></span>
<span id="cb486-8"><a href="#cb486-8"></a>    fi</span>
<span id="cb486-9"><a href="#cb486-9"></a>    cat <span class="dt">$file</span></span>
<span id="cb486-10"><a href="#cb486-10"></a>}</span></code></pre></div>
<h5>
Update
</h3>
<p>As noted by <em>KarlWilbur</em> in the comments and used in <a href="https://stackoverflow.com/a/40569742/1331399"><em>Sorentar’s</em> answer</a>, <code>truncate --size=-1</code> can replace <code>head -c-1</code> and supports in-place editing.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-compile-a-perl-script-to-a-windows-executable-with-strawberry-perl-score-96303-in-2016" class="level3">
<h3>95: How to compile a Perl script to a Windows executable with Strawberry Perl? (score <a href="https://stackoverflow.com/q/2948405.html">96303</a> in 2016)</h3>
<section id="question-92" class="level4">
<h4>Question</h4>
<p>What would be the easiest way to compile a simple Perl script to an executable under Windows with Strawberry Perl (as I understand it’s possible and free)?</p>
<p>In the past I’ve used ActiveState compiler and perl2exe and was simple enough. However, now after a few computer changes and OS updates I’ve lost the licenses and I’d like to find a better/permanent solution.</p>
</section>
<section id="answer-accepted-score-27-1" class="level4">
<h4>Answer accepted (score 27)</h4>
<p>Install <a href="https://metacpan.org/pod/PAR::Packer" rel="noreferrer">PAR::Packer from CPAN (it is free)</a> and use pp utility.</p>
</section>
<section id="answer-2-score-16-1" class="level4">
<h4>Answer 2 (score 16)</h4>
<div class="sourceCode" id="cb487"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb487-1"><a href="#cb487-1"></a>  :: short answer :</span>
<span id="cb487-2"><a href="#cb487-2"></a>  :: perl -MCPAN <span class="kw">-e</span> <span class="kw">&quot;</span><span class="st">install PAR::Packer</span><span class="kw">&quot;</span> </span>
<span id="cb487-3"><a href="#cb487-3"></a>  pp <span class="kw">-o</span> <span class="kw">&lt;&lt;DesiredExeName</span><span class="st">&gt;&gt;.exe &lt;&lt;MyFancyPerlScript&gt;&gt; </span></span>
<span id="cb487-4"><a href="#cb487-4"></a></span>
<span id="cb487-5"><a href="#cb487-5"></a><span class="st">  :: long answer - create the following cmd , adjust vars to your taste ...</span></span>
<span id="cb487-6"><a href="#cb487-6"></a><span class="st">  :: next_line_is_templatized</span></span>
<span id="cb487-7"><a href="#cb487-7"></a><span class="st">  :: file:compile-morphus.1.2.3.dev.ysg.cmd v1.0.0</span></span>
<span id="cb487-8"><a href="#cb487-8"></a><span class="st">  :: disable the echo</span></span>
<span id="cb487-9"><a href="#cb487-9"></a><span class="st">  </span><span class="dt">@echo</span><span class="st"> off</span></span>
<span id="cb487-10"><a href="#cb487-10"></a></span>
<span id="cb487-11"><a href="#cb487-11"></a><span class="st">  :: this is part of the name of the file - not used</span></span>
<span id="cb487-12"><a href="#cb487-12"></a><span class="st">  set _Action=run</span></span>
<span id="cb487-13"><a href="#cb487-13"></a></span>
<span id="cb487-14"><a href="#cb487-14"></a><span class="st">  :: the name of the Product next_line_is_templatized</span></span>
<span id="cb487-15"><a href="#cb487-15"></a><span class="st">  set _ProductName=morphus</span></span>
<span id="cb487-16"><a href="#cb487-16"></a></span>
<span id="cb487-17"><a href="#cb487-17"></a><span class="st">  :: the version of the current Product next_line_is_templatized</span></span>
<span id="cb487-18"><a href="#cb487-18"></a><span class="st">  set _ProductVersion=1.2.3</span></span>
<span id="cb487-19"><a href="#cb487-19"></a></span>
<span id="cb487-20"><a href="#cb487-20"></a><span class="st">  :: could be dev , test , dev , prod next_line_is_templatized</span></span>
<span id="cb487-21"><a href="#cb487-21"></a><span class="st">  set _ProductType=dev</span></span>
<span id="cb487-22"><a href="#cb487-22"></a></span>
<span id="cb487-23"><a href="#cb487-23"></a><span class="st">  :: who owns this Product / environment next_line_is_templatized</span></span>
<span id="cb487-24"><a href="#cb487-24"></a><span class="st">  set _ProductOwner=ysg</span></span>
<span id="cb487-25"><a href="#cb487-25"></a></span>
<span id="cb487-26"><a href="#cb487-26"></a><span class="st">  :: identifies an instance of the tool ( new instance for this version could be created by simply changing the owner )   </span></span>
<span id="cb487-27"><a href="#cb487-27"></a><span class="st">  set _EnvironmentName=</span><span class="dt">%_ProductName</span><span class="st">%.</span><span class="dt">%_ProductVersion</span><span class="st">%.</span><span class="dt">%_ProductType</span><span class="st">%.</span><span class="dt">%_ProductOwner</span><span class="st">%</span></span>
<span id="cb487-28"><a href="#cb487-28"></a></span>
<span id="cb487-29"><a href="#cb487-29"></a><span class="st">  :: go the run dir</span></span>
<span id="cb487-30"><a href="#cb487-30"></a><span class="st">  cd %~dp0</span></span>
<span id="cb487-31"><a href="#cb487-31"></a></span>
<span id="cb487-32"><a href="#cb487-32"></a><span class="st">  :: do 4 times going up</span></span>
<span id="cb487-33"><a href="#cb487-33"></a><span class="st">  for /L %</span><span class="dt">%i</span><span class="st"> in (1,1,5) do pushd ..</span></span>
<span id="cb487-34"><a href="#cb487-34"></a></span>
<span id="cb487-35"><a href="#cb487-35"></a><span class="st">  :: The BaseDir is 4 dirs up than the run dir</span></span>
<span id="cb487-36"><a href="#cb487-36"></a><span class="st">  set _ProductBaseDir=</span><span class="dt">%CD</span><span class="st">%</span></span>
<span id="cb487-37"><a href="#cb487-37"></a><span class="st">  :: debug echo BEFORE _ProductBaseDir is </span><span class="dt">%_ProductBaseDir</span><span class="st">%</span></span>
<span id="cb487-38"><a href="#cb487-38"></a><span class="st">  :: remove the trailing \</span></span>
<span id="cb487-39"><a href="#cb487-39"></a></span>
<span id="cb487-40"><a href="#cb487-40"></a><span class="st">  IF </span><span class="dt">%_ProductBaseDir</span><span class="st">:~-1%==\ SET _ProductBaseDir=</span><span class="dt">%_ProductBaseDir</span><span class="st">:~0,-1%</span></span>
<span id="cb487-41"><a href="#cb487-41"></a><span class="st">  :: debug echo AFTER _ProductBaseDir is </span><span class="dt">%_ProductBaseDir</span><span class="st">%</span></span>
<span id="cb487-42"><a href="#cb487-42"></a><span class="st">  :: debug pause</span></span>
<span id="cb487-43"><a href="#cb487-43"></a></span>
<span id="cb487-44"><a href="#cb487-44"></a></span>
<span id="cb487-45"><a href="#cb487-45"></a><span class="st">  :: The version directory of the Product </span></span>
<span id="cb487-46"><a href="#cb487-46"></a><span class="st">  set _ProductVersionDir=</span><span class="dt">%_ProductBaseDir</span><span class="st">%\%_ProductName%\%_EnvironmentName%</span></span>
<span id="cb487-47"><a href="#cb487-47"></a></span>
<span id="cb487-48"><a href="#cb487-48"></a><span class="st">  :: the dir under which all the perl scripts are placed</span></span>
<span id="cb487-49"><a href="#cb487-49"></a><span class="st">  set _ProductVersionPerlDir=</span><span class="dt">%_ProductVersionDir</span><span class="st">%</span><span class="ch">\s</span><span class="st">fw\perl</span></span>
<span id="cb487-50"><a href="#cb487-50"></a></span>
<span id="cb487-51"><a href="#cb487-51"></a><span class="st">  :: The Perl script performing all the tasks</span></span>
<span id="cb487-52"><a href="#cb487-52"></a><span class="st">  set _PerlScript=</span><span class="dt">%_ProductVersionPerlDir</span><span class="st">%\%_Action</span><span class="dt">%_%_ProductName</span><span class="st">%.pl</span></span>
<span id="cb487-53"><a href="#cb487-53"></a></span>
<span id="cb487-54"><a href="#cb487-54"></a><span class="st">  :: where the log events are stored </span></span>
<span id="cb487-55"><a href="#cb487-55"></a><span class="st">  set _RunLog=</span><span class="dt">%_ProductVersionDir</span><span class="st">%</span><span class="ch">\d</span><span class="st">ata</span><span class="ch">\l</span><span class="st">og</span><span class="ch">\co</span><span class="st">mpile-</span><span class="dt">%_ProductName</span><span class="st">%.cmd.log</span></span>
<span id="cb487-56"><a href="#cb487-56"></a></span>
<span id="cb487-57"><a href="#cb487-57"></a><span class="st">  :: define a favorite editor </span></span>
<span id="cb487-58"><a href="#cb487-58"></a><span class="st">  set _MyEditor=textpad</span></span>
<span id="cb487-59"><a href="#cb487-59"></a></span>
<span id="cb487-60"><a href="#cb487-60"></a><span class="st">  ECHO Check the variables </span></span>
<span id="cb487-61"><a href="#cb487-61"></a><span class="st">  set _</span></span>
<span id="cb487-62"><a href="#cb487-62"></a><span class="st">  :: debug PAUSE</span></span>
<span id="cb487-63"><a href="#cb487-63"></a><span class="st">  :: truncate the run log</span></span>
<span id="cb487-64"><a href="#cb487-64"></a><span class="st">  echo date is </span><span class="dt">%date</span><span class="st">% time is </span><span class="dt">%time</span><span class="st">% &gt; </span><span class="dt">%_RunLog</span><span class="st">%</span></span>
<span id="cb487-65"><a href="#cb487-65"></a></span>
<span id="cb487-66"><a href="#cb487-66"></a></span>
<span id="cb487-67"><a href="#cb487-67"></a><span class="st">  :: uncomment this to debug all the vars </span></span>
<span id="cb487-68"><a href="#cb487-68"></a><span class="st">  :: debug set  &gt;&gt; </span><span class="dt">%_RunLog</span><span class="st">%</span></span>
<span id="cb487-69"><a href="#cb487-69"></a></span>
<span id="cb487-70"><a href="#cb487-70"></a><span class="st">  :: for each perl pm and or pl file to check syntax and with output to logs</span></span>
<span id="cb487-71"><a href="#cb487-71"></a><span class="st">  for /f %</span><span class="dt">%i</span><span class="st"> in (&#39;dir </span><span class="dt">%_ProductVersionPerlDir</span><span class="st">%\*.pl /s /b /a-d&#39; ) do echo %</span><span class="dt">%i</span><span class="st"> &gt;&gt; </span><span class="dt">%_RunLog</span><span class="st">%&amp;perl -wc %</span><span class="dt">%i</span><span class="st"> | tee -a  </span><span class="dt">%_RunLog</span><span class="st">% 2&gt;&amp;1</span></span>
<span id="cb487-72"><a href="#cb487-72"></a></span>
<span id="cb487-73"><a href="#cb487-73"></a></span>
<span id="cb487-74"><a href="#cb487-74"></a><span class="st">  :: for each perl pm and or pl file to check syntax and with output to logs</span></span>
<span id="cb487-75"><a href="#cb487-75"></a><span class="st">  for /f %</span><span class="dt">%i</span><span class="st"> in (&#39;dir </span><span class="dt">%_ProductVersionPerlDir</span><span class="st">%\*.pm /s /b /a-d&#39; ) do echo %</span><span class="dt">%i</span><span class="st"> &gt;&gt; </span><span class="dt">%_RunLog</span><span class="st">%&amp;perl -wc %</span><span class="dt">%i</span><span class="st"> | tee -a  </span><span class="dt">%_RunLog</span><span class="st">% 2&gt;&amp;1</span></span>
<span id="cb487-76"><a href="#cb487-76"></a></span>
<span id="cb487-77"><a href="#cb487-77"></a><span class="st">  :: now open the run log</span></span>
<span id="cb487-78"><a href="#cb487-78"></a><span class="st">  cmd /c start /max </span><span class="dt">%_MyEditor</span><span class="st">% </span><span class="dt">%_RunLog</span><span class="st">%</span></span>
<span id="cb487-79"><a href="#cb487-79"></a></span>
<span id="cb487-80"><a href="#cb487-80"></a></span>
<span id="cb487-81"><a href="#cb487-81"></a><span class="st">  :: this is the call without debugging</span></span>
<span id="cb487-82"><a href="#cb487-82"></a><span class="st">  :: old </span></span>
<span id="cb487-83"><a href="#cb487-83"></a><span class="st">  echo CFPoint1  OK The run cmd script </span><span class="dt">%0</span><span class="st"> is executed &gt;&gt; </span><span class="dt">%_RunLog</span><span class="st">%</span></span>
<span id="cb487-84"><a href="#cb487-84"></a><span class="st">  echo CFPoint2  OK  compile the exe file  STDOUT and STDERR  to a single _RunLog file &gt;&gt; </span><span class="dt">%_RunLog</span><span class="st">%</span></span>
<span id="cb487-85"><a href="#cb487-85"></a><span class="st">  cd </span><span class="dt">%_ProductVersionPerlDir</span><span class="st">%</span></span>
<span id="cb487-86"><a href="#cb487-86"></a></span>
<span id="cb487-87"><a href="#cb487-87"></a><span class="st">  pp -o </span><span class="dt">%_Action%_%_ProductName</span><span class="st">%.exe </span><span class="dt">%_PerlScript</span><span class="st">% | tee -a </span><span class="dt">%_RunLog</span><span class="st">% 2&gt;&amp;1 </span></span>
<span id="cb487-88"><a href="#cb487-88"></a></span>
<span id="cb487-89"><a href="#cb487-89"></a><span class="st">  :: open the run log</span></span>
<span id="cb487-90"><a href="#cb487-90"></a><span class="st">  cmd /c start /max </span><span class="dt">%_MyEditor</span><span class="st">% </span><span class="dt">%_RunLog</span><span class="st">%</span></span>
<span id="cb487-91"><a href="#cb487-91"></a></span>
<span id="cb487-92"><a href="#cb487-92"></a><span class="st">  :: uncomment this line to wait for 5 seconds</span></span>
<span id="cb487-93"><a href="#cb487-93"></a><span class="st">  :: ping localhost -n 5</span></span>
<span id="cb487-94"><a href="#cb487-94"></a></span>
<span id="cb487-95"><a href="#cb487-95"></a><span class="st">  :: uncomment this line to see what is happening </span></span>
<span id="cb487-96"><a href="#cb487-96"></a><span class="st">  :: PAUSE</span></span>
<span id="cb487-97"><a href="#cb487-97"></a></span>
<span id="cb487-98"><a href="#cb487-98"></a><span class="st">  ::</span></span>
<span id="cb487-99"><a href="#cb487-99"></a><span class="st">  :::::::</span></span>
<span id="cb487-100"><a href="#cb487-100"></a><span class="st">  :: Purpose: </span></span>
<span id="cb487-101"><a href="#cb487-101"></a><span class="st">  :: To compile every *.pl file into *.exe file under a folder </span></span>
<span id="cb487-102"><a href="#cb487-102"></a><span class="st">  :::::::</span></span>
<span id="cb487-103"><a href="#cb487-103"></a><span class="st">  :: Requirements : </span></span>
<span id="cb487-104"><a href="#cb487-104"></a><span class="st">  :: perl , pp , win gnu utils tee </span></span>
<span id="cb487-105"><a href="#cb487-105"></a><span class="st">  :: perl -MCPAN -e &quot;install PAR::Packer&quot; </span></span>
<span id="cb487-106"><a href="#cb487-106"></a><span class="st">  :: text editor supporting &lt;&lt;textEditor&gt;&gt; &lt;&lt;FileNameToOpen&gt;&gt; cmd call syntax</span></span>
<span id="cb487-107"><a href="#cb487-107"></a><span class="st">  :::::::</span></span>
<span id="cb487-108"><a href="#cb487-108"></a><span class="st">  :: VersionHistory</span></span>
<span id="cb487-109"><a href="#cb487-109"></a><span class="st">  :: 1.0.0 --- 2012-06-23 12:05:45 --- ysg --- Initial creation from run_morphus.cmd</span></span>
<span id="cb487-110"><a href="#cb487-110"></a><span class="st">  :::::::</span></span>
<span id="cb487-111"><a href="#cb487-111"></a><span class="st">  :: eof file:compile-morphus.1.2.3.dev.ysg.cmd v1.0.0</span></span></code></pre></div>
</section>
<section id="answer-3-score-5-5" class="level4">
<h4>Answer 3 (score 5)</h4>
<p>There are three packagers, and two compilers:</p>
<p>
free packager: PAR<br> commercial packagers: perl2exe, perlapp<br> compilers: B::C, B::CC
</p>
<p><a href="http://search.cpan.org/dist/B-C/perlcompile.pod" rel="nofollow">http://search.cpan.org/dist/B-C/perlcompile.pod</a></p>
<p><em>(Note: perlfaq3 is still wrong)</em></p>
<p>For strawberry you need perl-5.16 and B-C from git master (1.43), as B-C-1.42 does not support 5.16.</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-to-use-a-variable-in-the-replacement-side-of-the-perl-substitution-operator-score-96218-in-2008" class="level3">
<h3>96: How to use a variable in the replacement side of the Perl substitution operator? (score <a href="https://stackoverflow.com/q/392643.html">96218</a> in 2008)</h3>
<section id="question-93" class="level4">
<h4>Question</h4>
<p>I would like to do the following:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb488-1"><a href="#cb488-1"></a><span class="dt">$find</span>=<span class="kw">&quot;</span><span class="st">start (.*) end</span><span class="kw">&quot;</span>;</span>
<span id="cb488-2"><a href="#cb488-2"></a><span class="dt">$replace</span>=<span class="kw">&quot;</span><span class="st">foo </span><span class="ch">\1</span><span class="st"> bar</span><span class="kw">&quot;</span>;</span>
<span id="cb488-3"><a href="#cb488-3"></a></span>
<span id="cb488-4"><a href="#cb488-4"></a><span class="dt">$var</span> = <span class="kw">&quot;</span><span class="st">start middle end</span><span class="kw">&quot;</span>;</span>
<span id="cb488-5"><a href="#cb488-5"></a><span class="dt">$var</span> =~ <span class="kw">s/</span><span class="dt">$find</span><span class="kw">/</span><span class="dt">$replace</span><span class="st">/;</span></span></code></pre></div>
<p>I would expect $var to contain “foo middle bar”, but it does not work. Neither does:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb489-1"><a href="#cb489-1"></a><span class="dt">$replace</span>=<span class="kw">&#39;</span><span class="st">foo \1 bar</span><span class="kw">&#39;</span>;</span></code></pre></div>
<p>Somehow I am missing something regarding the escaping.</p>
<hr>
<p>I fixed the missing ‘s’</p>
</section>
<section id="answer-accepted-score-76-1" class="level4">
<h4>Answer accepted (score 76)</h4>
<p>On the replacement side, you must use $1, not \1.</p>
<p>And you can only do what you want by making replace an evalable expression that gives the result you want and telling s/// to eval it with the /ee modifier like so:</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb490-1"><a href="#cb490-1"></a><span class="dt">$find</span>=<span class="kw">&quot;</span><span class="st">start (.*) end</span><span class="kw">&quot;</span>;</span>
<span id="cb490-2"><a href="#cb490-2"></a><span class="dt">$replace</span>=<span class="kw">&#39;</span><span class="st">&quot;foo $1 bar&quot;</span><span class="kw">&#39;</span>;</span>
<span id="cb490-3"><a href="#cb490-3"></a></span>
<span id="cb490-4"><a href="#cb490-4"></a><span class="dt">$var</span> = <span class="kw">&quot;</span><span class="st">start middle end</span><span class="kw">&quot;</span>;</span>
<span id="cb490-5"><a href="#cb490-5"></a><span class="dt">$var</span> =~ <span class="kw">s/</span><span class="dt">$find</span><span class="kw">/</span><span class="dt">$replace</span><span class="st">/</span><span class="kw">ee</span>;</span>
<span id="cb490-6"><a href="#cb490-6"></a></span>
<span id="cb490-7"><a href="#cb490-7"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">var: </span><span class="dt">$var</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>To see why the "" and double /e are needed, see the effect of the double eval here:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb491-1"><a href="#cb491-1"></a>$ perl</span>
<span id="cb491-2"><a href="#cb491-2"></a><span class="dt">$foo</span> = <span class="kw">&quot;</span><span class="st">middle</span><span class="kw">&quot;</span>;</span>
<span id="cb491-3"><a href="#cb491-3"></a><span class="dt">$replace</span>=<span class="kw">&#39;</span><span class="st">&quot;foo $foo bar&quot;</span><span class="kw">&#39;</span>;</span>
<span id="cb491-4"><a href="#cb491-4"></a><span class="fu">print</span> <span class="fu">eval</span>(<span class="kw">&#39;</span><span class="st">$replace</span><span class="kw">&#39;</span>), <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb491-5"><a href="#cb491-5"></a><span class="fu">print</span> <span class="fu">eval</span>(<span class="fu">eval</span>(<span class="kw">&#39;</span><span class="st">$replace</span><span class="kw">&#39;</span>)), <span class="kw">&quot;</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span>
<span id="cb491-6"><a href="#cb491-6"></a><span class="kw">__END__</span></span>
<span id="cb491-7"><a href="#cb491-7"></a><span class="kw">&quot;</span><span class="st">foo </span><span class="dt">$foo</span><span class="st"> bar</span><span class="kw">&quot;</span></span>
<span id="cb491-8"><a href="#cb491-8"></a>foo middle bar</span></code></pre></div>
<p>(Though as ikegami notes, a single /e or the first /e of a double e isn’t really an <code>eval()</code>; rather, it tells the compiler that the substitution is code to compile, not a string. Nonetheless, <code>eval(eval(...))</code> still demonstrates why you need to do what you need to do to get /ee to work as desired.)</p>
</section>
<section id="answer-2-score-12-4" class="level4">
<h4>Answer 2 (score 12)</h4>
<p>Deparse tells us this is what is being executed:</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb492-1"><a href="#cb492-1"></a><span class="dt">$find</span> = <span class="kw">&#39;</span><span class="st">start (.*) end</span><span class="kw">&#39;</span>;</span>
<span id="cb492-2"><a href="#cb492-2"></a><span class="dt">$replace</span> = <span class="kw">&quot;</span><span class="st">foo </span><span class="ch">\cA</span><span class="st"> bar</span><span class="kw">&quot;</span>;</span>
<span id="cb492-3"><a href="#cb492-3"></a><span class="dt">$var</span> = <span class="kw">&#39;</span><span class="st">start middle end</span><span class="kw">&#39;</span>;</span>
<span id="cb492-4"><a href="#cb492-4"></a><span class="dt">$var</span> =~ <span class="kw">s/</span><span class="dt">$find</span><span class="kw">/</span><span class="dt">$replace</span><span class="st">/;</span></span></code></pre></div>
<p>However,</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb493-1"><a href="#cb493-1"></a> <span class="kw">/</span><span class="dt">$find</span><span class="kw">/</span>foo \<span class="dv">1</span> bar/</span></code></pre></div>
<p>Is interpreted as :</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb494-1"><a href="#cb494-1"></a><span class="dt">$var</span> =~ <span class="kw">s/</span><span class="dt">$find</span><span class="kw">/</span><span class="st">foo </span><span class="dt">$1</span><span class="st"> bar/;</span></span></code></pre></div>
<p>Unfortunately it appears there is no easy way to do this.</p>
<p>You can do it with a string eval, but thats dangerous.</p>
<p>The most sane solution that works for me was this:</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb495-1"><a href="#cb495-1"></a><span class="dt">$find</span> = <span class="kw">&quot;</span><span class="st">start (.*) end</span><span class="kw">&quot;</span>; </span>
<span id="cb495-2"><a href="#cb495-2"></a><span class="dt">$replace</span> = <span class="kw">&#39;</span><span class="st">foo \1 bar</span><span class="kw">&#39;</span>;</span>
<span id="cb495-3"><a href="#cb495-3"></a></span>
<span id="cb495-4"><a href="#cb495-4"></a><span class="dt">$var</span> = <span class="kw">&quot;</span><span class="st">start middle end</span><span class="kw">&quot;</span>; </span>
<span id="cb495-5"><a href="#cb495-5"></a></span>
<span id="cb495-6"><a href="#cb495-6"></a><span class="kw">sub </span><span class="fu">repl</span> { </span>
<span id="cb495-7"><a href="#cb495-7"></a>    <span class="kw">my</span> <span class="dt">$find</span> = <span class="fu">shift</span>; </span>
<span id="cb495-8"><a href="#cb495-8"></a>    <span class="kw">my</span> <span class="dt">$replace</span> = <span class="fu">shift</span>; </span>
<span id="cb495-9"><a href="#cb495-9"></a>    <span class="kw">my</span> <span class="dt">$var</span> = <span class="fu">shift</span>;</span>
<span id="cb495-10"><a href="#cb495-10"></a></span>
<span id="cb495-11"><a href="#cb495-11"></a>    <span class="co"># Capture first </span></span>
<span id="cb495-12"><a href="#cb495-12"></a>    <span class="kw">my</span> <span class="dt">@items</span> = ( <span class="dt">$var</span> =~ <span class="dt">$find</span> ); </span>
<span id="cb495-13"><a href="#cb495-13"></a>    <span class="dt">$var</span> =~ <span class="kw">s/</span><span class="dt">$find</span><span class="kw">/</span><span class="dt">$replace</span><span class="st">/; </span></span>
<span id="cb495-14"><a href="#cb495-14"></a><span class="st">    for( reverse 0 .. </span><span class="dt">$#items</span><span class="st"> ){ </span></span>
<span id="cb495-15"><a href="#cb495-15"></a><span class="st">        </span><span class="kw">m</span>y <span class="dt">$n</span> = <span class="dt">$_</span> + <span class="dv">1</span>; </span>
<span id="cb495-16"><a href="#cb495-16"></a>        <span class="co">#  Many More Rules can go here, ie: \g matchers  and \{ } </span></span>
<span id="cb495-17"><a href="#cb495-17"></a>        <span class="dt">$var</span> =~ <span class="kw">s/</span><span class="ot">\\</span><span class="dt">$n</span><span class="kw">/</span><span class="dt">$</span><span class="st">{</span><span class="kw">i</span>tems[<span class="dt">$_</span>]}/g ;</span>
<span id="cb495-18"><a href="#cb495-18"></a>        <span class="dt">$var</span> =~ <span class="kw">s/</span><span class="ot">\$</span><span class="dt">$n</span><span class="kw">/</span><span class="dt">$</span><span class="st">{</span><span class="kw">i</span>tems[<span class="dt">$_</span>]}/g ;</span>
<span id="cb495-19"><a href="#cb495-19"></a>    }</span>
<span id="cb495-20"><a href="#cb495-20"></a>    <span class="kw">return</span> <span class="dt">$var</span>; </span>
<span id="cb495-21"><a href="#cb495-21"></a>}</span>
<span id="cb495-22"><a href="#cb495-22"></a></span>
<span id="cb495-23"><a href="#cb495-23"></a><span class="fu">print</span> repl <span class="dt">$find</span>, <span class="dt">$replace</span>, <span class="dt">$var</span>; </span></code></pre></div>
<h5>
A rebuttal against the ee technique:
</h3>
<p>As I said in my answer, I avoid evals for a reason.</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb496-1"><a href="#cb496-1"></a><span class="dt">$find</span>=<span class="kw">&quot;</span><span class="st">start (.*) end</span><span class="kw">&quot;</span>;</span>
<span id="cb496-2"><a href="#cb496-2"></a><span class="dt">$replace</span>=<span class="kw">&#39;</span><span class="st">do{ print &quot;I am a dirty little hacker&quot; while 1; &quot;foo $1 bar&quot; }</span><span class="kw">&#39;</span>;</span>
<span id="cb496-3"><a href="#cb496-3"></a></span>
<span id="cb496-4"><a href="#cb496-4"></a><span class="dt">$var</span> = <span class="kw">&quot;</span><span class="st">start middle end</span><span class="kw">&quot;</span>;</span>
<span id="cb496-5"><a href="#cb496-5"></a><span class="dt">$var</span> =~ <span class="kw">s/</span><span class="dt">$find</span><span class="kw">/</span><span class="dt">$replace</span><span class="st">/</span><span class="kw">ee</span>;</span>
<span id="cb496-6"><a href="#cb496-6"></a></span>
<span id="cb496-7"><a href="#cb496-7"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">var: </span><span class="dt">$var</span><span class="ch">\n</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>this code does exactly what you think it does.</p>
<p>If your substitution string is in a web application, you just opened the door to arbitrary code execution.</p>
<p>Good Job.</p>
<p>Also, it <strong>WON’T</strong> work with taints turned on for this very reason.</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb497-1"><a href="#cb497-1"></a><span class="dt">$find</span>=<span class="kw">&quot;</span><span class="st">start (.*) end</span><span class="kw">&quot;</span>;</span>
<span id="cb497-2"><a href="#cb497-2"></a><span class="dt">$replace</span>=<span class="kw">&#39;</span><span class="st">&quot;</span><span class="kw">&#39;</span> . <span class="dt">$ARGV</span>[<span class="dv">0</span>] . <span class="kw">&#39;</span><span class="st">&quot;</span><span class="kw">&#39;</span>;</span>
<span id="cb497-3"><a href="#cb497-3"></a></span>
<span id="cb497-4"><a href="#cb497-4"></a><span class="dt">$var</span> = <span class="kw">&quot;</span><span class="st">start middle end</span><span class="kw">&quot;</span>;</span>
<span id="cb497-5"><a href="#cb497-5"></a><span class="dt">$var</span> =~ <span class="kw">s/</span><span class="dt">$find</span><span class="kw">/</span><span class="dt">$replace</span><span class="st">/</span><span class="kw">ee</span>;</span>
<span id="cb497-6"><a href="#cb497-6"></a></span>
<span id="cb497-7"><a href="#cb497-7"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">var: </span><span class="dt">$var</span><span class="ch">\n</span><span class="kw">&quot;</span></span>
<span id="cb497-8"><a href="#cb497-8"></a></span>
<span id="cb497-9"><a href="#cb497-9"></a></span>
<span id="cb497-10"><a href="#cb497-10"></a>$ perl /tmp/re.pl  <span class="kw">&#39;</span><span class="st">foo $1 bar</span><span class="kw">&#39;</span></span>
<span id="cb497-11"><a href="#cb497-11"></a>var: foo middle bar</span>
<span id="cb497-12"><a href="#cb497-12"></a>$ perl <span class="kw">-T</span> <span class="kw">/</span><span class="ot">tmp</span><span class="kw">/</span>re.pl <span class="kw">&#39;</span><span class="st">foo $1 bar</span><span class="kw">&#39;</span> </span>
<span id="cb497-13"><a href="#cb497-13"></a>Insecure dependency in <span class="fu">eval</span> <span class="kw">while</span> running with <span class="kw">-T</span> switch at /tmp/re.pl line <span class="dv">10</span>.</span></code></pre></div>
<p>However, the more careful technique is sane, safe, secure, <em>and</em> doesn’t fail taint. ( Be assured tho, the string it emits is still tainted, so you don’t lose any security. )</p>
</section>
<section id="answer-3-score-7-3" class="level4">
<h4>Answer 3 (score 7)</h4>
<div class="sourceCode" id="cb498"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb498-1"><a href="#cb498-1"></a><span class="co"># perl -de 0</span></span>
<span id="cb498-2"><a href="#cb498-2"></a><span class="dt">$match</span>=<span class="kw">&quot;</span><span class="st">hi(.*)</span><span class="kw">&quot;</span></span>
<span id="cb498-3"><a href="#cb498-3"></a><span class="dt">$sub</span>=<span class="kw">&#39;</span><span class="st">$1</span><span class="kw">&#39;</span></span>
<span id="cb498-4"><a href="#cb498-4"></a><span class="dt">$res</span>=<span class="kw">&quot;</span><span class="st">hi1234</span><span class="kw">&quot;</span></span>
<span id="cb498-5"><a href="#cb498-5"></a><span class="dt">$res</span> =~ <span class="kw">s/</span><span class="dt">$match</span><span class="kw">/</span><span class="dt">$sub</span><span class="st">/</span><span class="kw">gee</span></span>
<span id="cb498-6"><a href="#cb498-6"></a>p <span class="dt">$res</span></span>
<span id="cb498-7"><a href="#cb498-7"></a>  <span class="dv">1234</span></span></code></pre></div>
<p>Be careful, though. This causes two layers of <code>eval</code> to occur, one for each <code>e</code> at the end of the regex:</p>
<ol>
<li>
$sub –&gt; $1
</li>
<li>
$1 –&gt; final value, in the example, 1234
</li>
</ol>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="what-exactly-does-perls-bless-do-score-96108-in-2008" class="level3">
<h3>97: What exactly does Perl’s “bless” do? (score <a href="https://stackoverflow.com/q/392135.html">96108</a> in 2008)</h3>
<section id="question-94" class="level4">
<h4>Question</h4>
<p>I understand one uses the “bless” keyword in Perl inside a class’s “new” method:</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb499-1"><a href="#cb499-1"></a><span class="kw">sub </span><span class="fu">new</span> {</span>
<span id="cb499-2"><a href="#cb499-2"></a>    <span class="kw">my</span> <span class="dt">$self</span> = <span class="fu">bless</span> { };</span>
<span id="cb499-3"><a href="#cb499-3"></a>    <span class="kw">return</span> <span class="dt">$self</span>;</span>
<span id="cb499-4"><a href="#cb499-4"></a>}    </span></code></pre></div>
<p>But what exactly is “bless” doing to that hash reference ?</p>
</section>
<section id="answer-accepted-score-138" class="level4">
<h4>Answer accepted (score 138)</h4>
<p>In general, <code>bless</code> associates an object with a class.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb500-1"><a href="#cb500-1"></a><span class="kw">package</span> MyClass;</span>
<span id="cb500-2"><a href="#cb500-2"></a><span class="kw">my</span> <span class="dt">$object</span> = { };</span>
<span id="cb500-3"><a href="#cb500-3"></a><span class="fu">bless</span> <span class="dt">$object</span>, <span class="kw">&quot;</span><span class="st">MyClass</span><span class="kw">&quot;</span>;</span></code></pre></div>
<p>Now when you invoke a method on <code>$object</code>, Perl know which package to search for the method.</p>
<p>If the second argument is omitted, as in your example, the current package/class is used.</p>
<p>For the sake of clarity, your example might be written as follows:</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb501-1"><a href="#cb501-1"></a><span class="kw">sub </span><span class="fu">new</span> { </span>
<span id="cb501-2"><a href="#cb501-2"></a>  <span class="kw">my</span> <span class="dt">$class</span> = <span class="fu">shift</span>; </span>
<span id="cb501-3"><a href="#cb501-3"></a>  <span class="kw">my</span> <span class="dt">$self</span> = { }; </span>
<span id="cb501-4"><a href="#cb501-4"></a>  <span class="fu">bless</span> <span class="dt">$self</span>, <span class="dt">$class</span>; </span>
<span id="cb501-5"><a href="#cb501-5"></a>} </span></code></pre></div>
<p>EDIT: See <a href="https://stackoverflow.com/users/11260/kixx">kixx</a>’s good <a href="https://stackoverflow.com/questions/392135/what-exactly-does-perls-bless-do#392194">answer</a> for a little more detail.</p>
</section>
<section id="answer-2-score-77" class="level4">
<h4>Answer 2 (score 77)</h4>
<p><code>bless</code> associates a reference with a package.</p>
<p>It doesn’t matter what the reference is to, it can be to a hash (most common case), to an array (not so common), to a scalar (usually this indicates an <a href="https://web.archive.org/web/20071024192241/http://www.perlfoundation.org/perl5/index.cgi?inside_out_object" rel="noreferrer">inside-out object</a>), to a regular expression, subroutine or TYPEGLOB (see the book <a href="https://www.goodreads.com/book/show/86378.Object_Oriented_Perl" rel="noreferrer">Object Oriented Perl: A Comprehensive Guide to Concepts and Programming Techniques by Damian Conway</a> for useful examples) or even a reference to a file or directory handle (least common case).</p>
<p>The effect <code>bless</code>-ing has is that it allows you to apply special syntax to the blessed reference.</p>
<p>For example, if a blessed reference is stored in <code>$obj</code> (associated by <code>bless</code> with package “Class”), then <code>$obj-&amp;gt;foo(@args)</code> will call a subroutine <code>foo</code> and pass as first argument the reference <code>$obj</code> followed by the rest of the arguments (<code>@args</code>). The subroutine should be defined in package “Class”. If there is no subroutine <code>foo</code> in package “Class”, a list of other packages (taken form the array <code>@ISA</code> in the package “Class”) will be searched and the first subroutine <code>foo</code> found will be called.</p>
</section>
<section id="answer-3-score-9-4" class="level4">
<h4>Answer 3 (score 9)</h4>
<p>Short version: it’s marking that hash as attached to the current package namespace (so that that package provides its class implementation).</p>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="how-can-i-ssh-inside-a-perl-script-score-94512-in-2015" class="level3">
<h3>98: How can I ssh inside a Perl script? (score <a href="https://stackoverflow.com/q/2848725.html">94512</a> in 2015)</h3>
<section id="question-95" class="level4">
<h4>Question</h4>
<p>I want to SSH to a server and execute a simple command like “id” and get the output of it and store it to a file on my primary server. I do not have privileges to install <a href="http://search.cpan.org/dist/Net-SSH" rel="nofollow noreferrer">Net::SSH</a> which would make my task very easy. Please provide me a solution for this. I tried using <em>back-ticks</em> but I am not able to store the output on the machine from which my script runs.</p>
</section>
<section id="answer-2-score-14-1" class="level4">
<h4>Answer 2 (score 14)</h4>
<p>The best way to run commands remotely using SSH is</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb502-1"><a href="#cb502-1"></a>$ ssh user<span class="dt">@host</span> <span class="kw">&quot;</span><span class="st">command</span><span class="kw">&quot;</span> &gt; output.file</span></code></pre></div>
<p>You can use this either in bash or in perl. However, If you want to use perl you can install the perl modules in your local directory path as suggested by brian in his comment or from Perl FAQ at “<a href="http://perldoc.perl.org/perlfaq8.html#How-do-I-keep-my-own-module/library-directory?" rel="nofollow noreferrer">How do I keep my own module/library directory?</a>”. Instead of using Net::SSH I would suggest to use Net::SSH::Perl with the below example.</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb503-1"><a href="#cb503-1"></a><span class="kw">#!/usr/bin/perl -w</span></span>
<span id="cb503-2"><a href="#cb503-2"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb503-3"><a href="#cb503-3"></a><span class="fu">use</span> lib <span class="kw">qw(</span>&quot;/path/to/module/&quot;<span class="kw">)</span>;</span>
<span id="cb503-4"><a href="#cb503-4"></a></span>
<span id="cb503-5"><a href="#cb503-5"></a><span class="fu">use</span> <span class="fu">Net::SSH</span>::<span class="fu">Perl</span>;</span>
<span id="cb503-6"><a href="#cb503-6"></a></span>
<span id="cb503-7"><a href="#cb503-7"></a><span class="kw">my</span> <span class="dt">$hostname</span> = <span class="kw">&quot;</span><span class="st">hostname</span><span class="kw">&quot;</span>;</span>
<span id="cb503-8"><a href="#cb503-8"></a><span class="kw">my</span> <span class="dt">$username</span> = <span class="kw">&quot;</span><span class="st">username</span><span class="kw">&quot;</span>;</span>
<span id="cb503-9"><a href="#cb503-9"></a><span class="kw">my</span> <span class="dt">$password</span> = <span class="kw">&quot;</span><span class="st">password</span><span class="kw">&quot;</span>;</span>
<span id="cb503-10"><a href="#cb503-10"></a></span>
<span id="cb503-11"><a href="#cb503-11"></a><span class="kw">my</span> <span class="dt">$cmd</span> = <span class="fu">shift</span>;</span>
<span id="cb503-12"><a href="#cb503-12"></a></span>
<span id="cb503-13"><a href="#cb503-13"></a><span class="kw">my</span> <span class="dt">$ssh</span> = <span class="fu">Net::SSH</span>::<span class="fu">Perl</span>-&gt;new(<span class="kw">&quot;</span><span class="dt">$hostname</span><span class="kw">&quot;</span>, debug=&gt;<span class="dv">0</span>);</span>
<span id="cb503-14"><a href="#cb503-14"></a><span class="dt">$ssh</span>-&gt;<span class="dt">login</span>(<span class="kw">&quot;</span><span class="dt">$username</span><span class="kw">&quot;</span>,<span class="kw">&quot;</span><span class="dt">$password</span><span class="kw">&quot;</span>);</span>
<span id="cb503-15"><a href="#cb503-15"></a><span class="kw">my</span> (<span class="dt">$stdout</span>,<span class="dt">$stderr</span>,<span class="dt">$exit</span>) = <span class="dt">$ssh</span>-&gt;<span class="dt">cmd</span>(<span class="kw">&quot;</span><span class="dt">$cmd</span><span class="kw">&quot;</span>);</span>
<span id="cb503-16"><a href="#cb503-16"></a><span class="fu">print</span> <span class="dt">$stdout</span>;</span></code></pre></div>
</section>
<section id="answer-3-score-8-3" class="level4">
<h4>Answer 3 (score 8)</h4>
<p>You can always install modules locally, and that is the method you should look into; however, you should be able to get away with</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb504-1"><a href="#cb504-1"></a><span class="kw">#!/usr/bin/perl</span></span>
<span id="cb504-2"><a href="#cb504-2"></a></span>
<span id="cb504-3"><a href="#cb504-3"></a><span class="fu">use</span> <span class="kw">strict</span>;</span>
<span id="cb504-4"><a href="#cb504-4"></a><span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb504-5"><a href="#cb504-5"></a></span>
<span id="cb504-6"><a href="#cb504-6"></a><span class="kw">my</span> <span class="dt">$id</span> = <span class="kw">qx/</span><span class="st">ssh remotehost id 2&gt;&amp;1</span><span class="kw">/</span>;</span>
<span id="cb504-7"><a href="#cb504-7"></a></span>
<span id="cb504-8"><a href="#cb504-8"></a><span class="fu">chomp</span> <span class="dt">$id</span>;</span>
<span id="cb504-9"><a href="#cb504-9"></a></span>
<span id="cb504-10"><a href="#cb504-10"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">id is [</span><span class="dt">$id</span><span class="st">]</span><span class="ch">\n</span><span class="kw">&quot;</span></span></code></pre></div>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="in-perl-what-is-the-difference-between-a-.pm-perl-module-and-.pl-perl-script-file-score-94271-in-2012" class="level3">
<h3>99: In Perl, what is the difference between a .pm (Perl module) and .pl (Perl script) file? (score <a href="https://stackoverflow.com/q/3402821.html">94271</a> in 2012)</h3>
<section id="question-96" class="level4">
<h4>Question</h4>
<p>What is the Difference between <code>.pm</code> (Perl module) and <code>.pl</code> (Perl script) file?</p>
<p>Please also tell me why we return <code>1</code> from file. If return 2 or anything else, it’s not generating any error, so why do we return <code>1</code> from Perl module?</p>
</section>
<section id="answer-2-score-74" class="level4">
<h4>Answer 2 (score 74)</h4>
<p>At the very core, the file extension you use makes no difference as to how <code>perl</code> interprets those files.</p>
<p>However, putting modules in <code>.pm</code> files following a certain directory structure that follows the package name provides a convenience. So, if you have a module <code>Example::Plot::FourD</code> and you put it in a directory <code>Example/Plot/FourD.pm</code> in a path in your <a href="http://perldoc.perl.org/perlvar.html#%40INC" rel="noreferrer"><code>@INC</code></a>, then <a href="http://perldoc.perl.org/functions/use.html" rel="noreferrer"><code>use</code></a> and <a href="http://perldoc.perl.org/functions/require.html" rel="noreferrer"><code>require</code></a> will do the right thing when given the package name as in <code>use Example::Plot::FourD</code>.</p>
<blockquote>
<p>The file must return true as the last statement to indicate successful execution of any initialization code, so it’s customary to end such a file with <code>1;</code> unless you’re sure it’ll return true otherwise. But it’s better just to put the <code>1;</code>, in case you add more statements.</p>
If <code>EXPR</code> is a bareword, the <code>require</code> assumes a “.pm” extension and replaces “::” with “/” in the filename for you, to make it easy to load standard modules. This form of loading of modules does not risk altering your namespace.
</blockquote>
<p>All <code>use</code> does is to figure out the filename from the package name provided, <code>require</code> it in a <code>BEGIN</code> block and invoke <code>import</code> on the package. There is nothing preventing you from not using <code>use</code> but taking those steps manually.</p>
<p>For example, below I put the <code>Example::Plot::FourD</code> package in a file called <code>t.pl</code>, loaded it in a script in file <code>s.pl</code>.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb505-1"><a href="#cb505-1"></a>C:\Temp&gt; cat t.pl</span>
<span id="cb505-2"><a href="#cb505-2"></a><span class="kw">package</span> <span class="fu">Example::Plot</span>::<span class="fu">FourD</span>;</span>
<span id="cb505-3"><a href="#cb505-3"></a></span>
<span id="cb505-4"><a href="#cb505-4"></a><span class="fu">use</span> <span class="kw">strict</span>; <span class="fu">use</span> <span class="kw">warnings</span>;</span>
<span id="cb505-5"><a href="#cb505-5"></a></span>
<span id="cb505-6"><a href="#cb505-6"></a><span class="kw">sub </span><span class="fu">new</span> { <span class="fu">bless</span> {} =&gt; <span class="fu">shift</span> }</span>
<span id="cb505-7"><a href="#cb505-7"></a></span>
<span id="cb505-8"><a href="#cb505-8"></a><span class="kw">sub </span><span class="fu">something</span> { <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">something</span><span class="ch">\n</span><span class="kw">&quot;</span> }</span>
<span id="cb505-9"><a href="#cb505-9"></a></span>
<span id="cb505-10"><a href="#cb505-10"></a><span class="kw">&quot;</span><span class="st">Example::Plot::FourD</span><span class="kw">&quot;</span></span>
<span id="cb505-11"><a href="#cb505-11"></a></span>
<span id="cb505-12"><a href="#cb505-12"></a>C:\Temp&gt; cat <span class="kw">s.</span><span class="ot">pl</span></span>
<span id="cb505-13"><a href="#cb505-13"></a><span class="co">#!/usr/bin/perl</span></span>
<span id="cb505-14"><a href="#cb505-14"></a><span class="ot">use strict; use warnings;</span></span>
<span id="cb505-15"><a href="#cb505-15"></a></span>
<span id="cb505-16"><a href="#cb505-16"></a><span class="ot">BEGIN {</span></span>
<span id="cb505-17"><a href="#cb505-17"></a><span class="ot">    require &#39;t</span><span class="kw">.</span><span class="st">pl&#39;;</span></span>
<span id="cb505-18"><a href="#cb505-18"></a><span class="st">}</span></span>
<span id="cb505-19"><a href="#cb505-19"></a></span>
<span id="cb505-20"><a href="#cb505-20"></a><span class="st">my </span><span class="dt">$p</span><span class="st"> = Example::Plot::FourD-&gt;new;</span></span>
<span id="cb505-21"><a href="#cb505-21"></a><span class="dt">$p</span>-&gt;<span class="dt">something</span><span class="st">;</span></span>
<span id="cb505-22"><a href="#cb505-22"></a></span>
<span id="cb505-23"><a href="#cb505-23"></a></span>
<span id="cb505-24"><a href="#cb505-24"></a><span class="st">C:\T</span><span class="kw">em</span>p&gt; s</span>
<span id="cb505-25"><a href="#cb505-25"></a>something</span></code></pre></div>
<p>This example shows that module files do not have to end in <code>1</code>, any true value will do.</p>
</section>
<section id="answer-3-score--2" class="level4">
<h4>Answer 3 (score -2)</h4>
<p>A .pl is a single script.</p>
<p>In .pm (<a href="http://world.std.com/~swmcd/steven/perl/module_mechanics.html" rel="nofollow noreferrer">Perl Module</a>) you have functions that you can use from other Perl scripts:</p>
<blockquote>
A Perl module is a self-contained piece of Perl code that can be used by a Perl program or by other Perl modules. It is conceptually similar to a C link library, or a C++ class.
</blockquote>
<p></b> </em> </i> </small> </strong> </sub> </sup></p>
</section>
</section>
<section id="perl---multiple-condition-if-statement-without-duplicating-code-score-94162-in" class="level3">
<h3>100: Perl - Multiple condition if statement without duplicating code? (score <a href="https://stackoverflow.com/q/21759169.html">94162</a> in )</h3>
<section id="question-97" class="level4">
<h4>Question</h4>
<p>This is a Perl program, run using a terminal (Windows Command Line). I am trying to create an “if this and this is true, or this and this is true” if statement using the same block of code for both conditions without having to repeat the code.</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb506-1"><a href="#cb506-1"></a><span class="kw">if</span> (<span class="dt">$name</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">tom</span><span class="kw">&quot;</span> <span class="kw">and</span> <span class="dt">$password</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">123!</span><span class="kw">&quot;</span>) <span class="kw">elsif</span> (<span class="dt">$name</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">frank</span><span class="kw">&quot;</span> <span class="kw">and</span> <span class="dt">$password</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">321!</span><span class="kw">&quot;</span>) {</span>
<span id="cb506-2"><a href="#cb506-2"></a></span>
<span id="cb506-3"><a href="#cb506-3"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">You have gained access.</span><span class="kw">&quot;</span>;</span>
<span id="cb506-4"><a href="#cb506-4"></a></span>
<span id="cb506-5"><a href="#cb506-5"></a>} <span class="kw">else</span> {</span>
<span id="cb506-6"><a href="#cb506-6"></a></span>
<span id="cb506-7"><a href="#cb506-7"></a><span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Access denied!</span><span class="kw">&quot;</span>;</span>
<span id="cb506-8"><a href="#cb506-8"></a></span>
<span id="cb506-9"><a href="#cb506-9"></a>}</span></code></pre></div>
</section>
<section id="answer-accepted-score-20-1" class="level4">
<h4>Answer accepted (score 20)</h4>
<p>Simple:</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb507-1"><a href="#cb507-1"></a><span class="kw">if</span> ( <span class="dt">$name</span> <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">tom</span><span class="kw">&#39;</span> &amp;&amp; <span class="dt">$password</span> <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">123!</span><span class="kw">&#39;</span></span>
<span id="cb507-2"><a href="#cb507-2"></a>    || <span class="dt">$name</span> <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">frank</span><span class="kw">&#39;</span> &amp;&amp; <span class="dt">$password</span> <span class="kw">eq</span> <span class="kw">&#39;</span><span class="st">321!</span><span class="kw">&#39;</span></span>
<span id="cb507-3"><a href="#cb507-3"></a>) {</span></code></pre></div>
<p>(use the high-precedence <code>&amp;amp;&amp;amp;</code> and <code>||</code> in expressions, reserving <code>and</code> and <code>or</code> for flow control, to avoid common precedence errors)</p>
<p>Better:</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb508-1"><a href="#cb508-1"></a><span class="kw">my</span> <span class="dt">%password</span> = (</span>
<span id="cb508-2"><a href="#cb508-2"></a>    <span class="kw">&#39;</span><span class="st">tom</span><span class="kw">&#39;</span> =&gt; <span class="kw">&#39;</span><span class="st">123!</span><span class="kw">&#39;</span>,</span>
<span id="cb508-3"><a href="#cb508-3"></a>    <span class="kw">&#39;</span><span class="st">frank</span><span class="kw">&#39;</span> =&gt; <span class="kw">&#39;</span><span class="st">321!</span><span class="kw">&#39;</span>,</span>
<span id="cb508-4"><a href="#cb508-4"></a>);</span>
<span id="cb508-5"><a href="#cb508-5"></a></span>
<span id="cb508-6"><a href="#cb508-6"></a><span class="kw">if</span> ( <span class="fu">exists</span> <span class="dt">$password</span>{<span class="dt">$name</span>} &amp;&amp; <span class="dt">$password</span> <span class="kw">eq</span> <span class="dt">$password</span>{<span class="dt">$name</span>} ) {</span></code></pre></div>
</section>
<section id="answer-2-score-3" class="level4">
<h4>Answer 2 (score 3)</h4>
<p>I don’t recommend storing passwords in a script, but this is a way to what you indicate:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb509-1"><a href="#cb509-1"></a><span class="fu">use</span> <span class="fl">5.010</span>;</span>
<span id="cb509-2"><a href="#cb509-2"></a><span class="kw">my</span> <span class="dt">%user_table</span> = ( tom =&gt; <span class="kw">&#39;</span><span class="st">123!</span><span class="kw">&#39;</span>, frank =&gt; <span class="kw">&#39;</span><span class="st">321!</span><span class="kw">&#39;</span> );</span>
<span id="cb509-3"><a href="#cb509-3"></a></span>
<span id="cb509-4"><a href="#cb509-4"></a>say ( <span class="dt">$user_table</span>{ <span class="dt">$name</span> } <span class="kw">eq</span> <span class="dt">$password</span> ? <span class="kw">&#39;</span><span class="st">You have gained access.</span><span class="kw">&#39;</span></span>
<span id="cb509-5"><a href="#cb509-5"></a>    :                                     <span class="kw">&#39;</span><span class="st">Access denied!</span><span class="kw">&#39;</span></span>
<span id="cb509-6"><a href="#cb509-6"></a>    );</span></code></pre></div>
<p>Any time you want to enforce an association like this, it’s a good idea to think of a <em>table</em>, and the most common form of table in perl is the hash.</p>
</section>
<section id="answer-3-score-1" class="level4">
<h4>Answer 3 (score 1)</h4>
<div class="sourceCode" id="cb510"><pre class="sourceCode perl"><code class="sourceCode perl"><span id="cb510-1"><a href="#cb510-1"></a><span class="kw">if</span> (   (<span class="dt">$name</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">tom</span><span class="kw">&quot;</span> <span class="kw">and</span> <span class="dt">$password</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">123!</span><span class="kw">&quot;</span>)</span>
<span id="cb510-2"><a href="#cb510-2"></a>    <span class="kw">or</span> (<span class="dt">$name</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">frank</span><span class="kw">&quot;</span> <span class="kw">and</span> <span class="dt">$password</span> <span class="kw">eq</span> <span class="kw">&quot;</span><span class="st">321!</span><span class="kw">&quot;</span>)) {</span>
<span id="cb510-3"><a href="#cb510-3"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">You have gained access.</span><span class="kw">&quot;</span>;</span>
<span id="cb510-4"><a href="#cb510-4"></a>}</span>
<span id="cb510-5"><a href="#cb510-5"></a><span class="kw">else</span> {</span>
<span id="cb510-6"><a href="#cb510-6"></a>    <span class="fu">print</span> <span class="kw">&quot;</span><span class="st">Access denied!</span><span class="kw">&quot;</span>;</span>
<span id="cb510-7"><a href="#cb510-7"></a>}</span></code></pre></div>
(Other people: I’m pretty sure John Doe here isn’t actually hardcoding passwords; he’s just using it as an example.)<br />

</section>
</section>
</section>
</body>
</html>
