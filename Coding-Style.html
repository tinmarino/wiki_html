<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Coding-Style.md – Coding style</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span. { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="Css/color_dark_solarized.css" />
  <link rel="stylesheet" href="Css/layout_toc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <script type="text/javascript" src="Css/js_masonry_desandro.js"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Coding style</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#from-so">From So</a>
<ul>
<li><a href="#how-do-you-tell-someone-theyre-writing-bad-code">How do you tell someone they’re writing bad code</a></li>
<li><a href="#function-complexity">Function complexity</a></li>
<li><a href="#constructor-should-have-maximum-3-arguments">Constructor should have maximum 3 arguments</a></li>
<li><a href="#null-a-freed-pointer-and-uninitialised">Null a freed pointer (and uninitialised)</a></li>
<li><a href="#replace-nested-conditional-with-guard-clauses">Replace Nested Conditional with Guard Clauses</a></li>
</ul></li>
<li><a href="#refactoring-catalog">Refactoring Catalog</a>
<ul>
<li><a href="#combine-function-into-class">Combine function into class</a></li>
<li><a href="#consolidate-conditional-expression">Consolidate Conditional Expression</a></li>
<li><a href="#decompose-conditional">Decompose Conditional</a></li>
<li><a href="#encapsulate-record---data-class">Encapsulate Record -&gt; Data class</a></li>
<li><a href="#extract-class">Extract Class</a></li>
<li><a href="#extract-function">Extract Function</a></li>
<li><a href="#extract-superclass">Extract Superclass</a></li>
<li><a href="#extract-variable">Extract Variable</a></li>
<li><a href="#hide-delegate">Hide Delegate</a></li>
<li><a href="#inline">Inline</a></li>
<li><a href="#introduction-assertion">Introduction Assertion</a></li>
<li><a href="#introduce-parameter-object">Introduce Parameter Object</a></li>
<li><a href="#introduce-special-case">Introduce Special Case</a></li>
<li><a href="#move-statements-into-function">Move Statements into Function</a></li>
<li><a href="#parametrize-function">Parametrize Function</a></li>
<li><a href="#preserve-whole-object">Preserve Whole Object</a></li>
<li><a href="#pull-up-constructor-body">Pull Up Constructor Body</a></li>
<li><a href="#change-value-to-reference">Change Value to Reference</a></li>
<li><a href="#remove-flag-argument">Remove Flag Argument</a></li>
<li><a href="#remove-middle-man">Remove Middle Man</a></li>
<li><a href="#replace-conditional-with-polymorphism">Replace Conditional with Polymorphism</a></li>
<li><a href="#replace-constructor-with-factory-function">Replace Constructor with Factory Function</a></li>
<li><a href="#replace-control-flag-with-break">Replace Control Flag with Break</a></li>
<li><a href="#replace-exception-with-precheck">Replace Exception with Precheck</a></li>
<li><a href="#replace-inline-code-with-function-call">Replace Inline Code with Function Call</a></li>
<li><a href="#replace-loop-with-pipeline">Replace Loop with Pipeline</a></li>
<li><a href="#replace-magic-literal">Replace Magic Literal</a></li>
<li><a href="#replace-parameter-with-query">Replace Parameter with Query</a></li>
<li><a href="#replace-temp-with-query">Replace Temp with Query</a></li>
<li><a href="#replace-type-code-with-subclasses">Replace Type Code with Subclasses</a></li>
<li><a href="#return-modified-value">Return Modified Value</a></li>
<li><a href="#separate-query-from-modifier">Separate Query from Modifier</a></li>
<li><a href="#slide-statement">Slide statement</a></li>
<li><a href="#split-loop">Split Loop</a></li>
<li><a href="#split-phase">Split Phase</a></li>
<li><a href="#split-variable">Split Variable</a></li>
<li><a href="#substitute-algorithm">Substitute Algorithm</a></li>
</ul></li>
</ul>
</nav>
<section id="from-so" class="level2">
<h2>From So</h2>
<section class="level2">
<section id="how-do-you-tell-someone-theyre-writing-bad-code" class="level3">
<h3>How do you tell someone they’re writing bad code</h3>
<p>Introduce questions to make them realise that what they are doing is wrong. For example, ask these sort of questions:</p>
<ol type="1">
<li><p>Why did you decide to make that a global variable?</p></li>
<li><p>Why did you give it that name?</p></li>
<li><p>That’s interesting. I usually do mine this way because [Insert reason why you are better]</p></li>
<li><p>Does that way work? I usually [Insert how you would make them look silly]</p></li>
</ol>
<p>I think the ideal way of going about this is subtly asking them why they code a certain way. You may find that they believe that there are benefits to other methods. Unless I knew the reason for their coding style was due to misinformation I would never judge my way as better without good reason. The best way to go about this is to just ask them why they chose that way; be sure to sound interested in their reasoning, because that is what you need to attack, not their ability.</p>
<p>A coding standard will definitely help, but if it were the answer to every software project then we’d all be sipping cocktails on our private islands in paradise. In reality, we’re all prone to problems and software projects still have a low success rate. I think the problem would mostly stem from individual ability rather than a problem with convention, which is why I’d suggest working through the problems as a group when a problem rears its ugly head.</p>
<p>Most importantly, <strong>do NOT immediately assume that your way is better</strong>. In reality, it probably is, but we’re dealing with another person’s opinion and to them there is only one solution. Never say that your way is the better way of doing it unless you want them to see you as a smug loser.</p>
<p>The goal is not for you to teach your team how to code better. It’s to establish a culture of learning in your team. Where each person looks to the others for help in becoming a better programmer.</p>
<p><strong>Globals:</strong> Do you think we’ll ever want to have more than one of these? Do you think we will want to control access to this?</p>
<p><strong>Mutable state:</strong> Do you think we’ll want to manipulate this from another thread?</p>
<p><strong>long functions:</strong> My brain isn’t big enough to hold all of this at once. How can we make smaller pieces that I can handle?</p>
<p><strong>bad names:</strong> I get confused easily enough when reading clear code; when names are misleading, there’s no hope for me.</p>
<p><strong>If the coder feel attacked -&gt; Game Over: You (both) Lose</strong></p>
</section>
<section id="function-complexity" class="level3">
<h3>Function complexity</h3>
<ol type="1">
<li>Deeply nested control structures: e.g. for-loops 3 levels deep or even just 2 levels deep with nested if-statements that have complex conditions.</li>
<li>Too many state-defining parameters: By state-defining parameter, I mean a function parameter that guarantees a particular execution path through the function. Get too many of these type of parameters and you have a combinatorial explosion of execution paths (this usually happens in tandem with #1).</li>
<li>Logic that is duplicated in other methods: poor code re-use is a huge contributor to monolithic procedural code. A lot of such logic duplication can be very subtle, but once re-factored, the end result can be a far more elegant design.</li>
<li>Excessive inter-class coupling: this lack of proper encapsulation results in functions being concerned with intimate characteristics of other classes, hence lengthening them.</li>
<li>Unnecessary overhead: Comments that point out the obvious, deeply nested classes, superfluous getters and setters for private nested class variables, and unusually long function/variable names can all create syntactic noise within related functions that will ultimately increase their length.</li>
<li>Your massive developer-grade display isn’t big enough to display it: Actually, displays of today are big enough that a function that is anywhere close to its height is probably way too long. But, if it is larger, this is a smoking gun that something is wrong.</li>
<li>You can’t immediately determine the function’s purpose: Furthermore, once you actually do determine its purpose, if you can’t summarize this purpose in a single sentence or happen to have a tremendous headache, this should be a clue.</li>
</ol>
<p>In conclusion, monolithic functions can have far-reaching consequences and are often a symptom of major design deficiencies. Whenever I encounter code that is an absolute joy to read, it’s elegance is immediately apparent. And guess what: the functions are often very short in length.</p>
</section>
<section id="constructor-should-have-maximum-3-arguments" class="level3">
<h3>Constructor should have maximum 3 arguments</h3>
<ul>
<li>Single responsability principle</li>
</ul>
<p>The ideal number of arguments for a function is zero (niladic). Next comes one (monadic) followed closely by two (dyadic). Three arguments (triadic) should be avoided where possible. More than three (polyadic) requires very special justification—and then shouldn’t be used anyway.</p>
<p>Imagine the difficulty of writing all the test cases to ensure that all various combinations of arguments work properly.</p>
<p>If more, consider creating a factory</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">public</span> <span class="kw">class</span> Customer {</span>
<span id="cb1-2"><a href="#cb1-2"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> firstName;</span>
<span id="cb1-3"><a href="#cb1-3"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> surname;</span>
<span id="cb1-4"><a href="#cb1-4"></a>    <span class="kw">private</span> <span class="dt">final</span> <span class="bu">String</span> ssn;</span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a>    <span class="fu">Customer</span>(CustomerBuilder builder) {</span>
<span id="cb1-7"><a href="#cb1-7"></a>        <span class="kw">if</span> (builder.<span class="fu">firstName</span> == <span class="kw">null</span>) <span class="kw">throw</span> <span class="kw">new</span> <span class="bu">NullPointerException</span>(<span class="st">&quot;firstName&quot;</span>);</span>
<span id="cb1-8"><a href="#cb1-8"></a>        <span class="kw">if</span> (builder.<span class="fu">surname</span> == <span class="kw">null</span>) <span class="kw">throw</span> <span class="kw">new</span> <span class="bu">NullPointerException</span>(<span class="st">&quot;surname&quot;</span>);</span>
<span id="cb1-9"><a href="#cb1-9"></a>        <span class="kw">if</span> (builder.<span class="fu">ssn</span> == <span class="kw">null</span>) <span class="kw">throw</span> <span class="kw">new</span> <span class="bu">NullPointerException</span>(<span class="st">&quot;ssn&quot;</span>);</span>
<span id="cb1-10"><a href="#cb1-10"></a>        <span class="kw">this</span>.<span class="fu">firstName</span> = builder.<span class="fu">firstName</span>;</span>
<span id="cb1-11"><a href="#cb1-11"></a>        <span class="kw">this</span>.<span class="fu">surname</span> = builder.<span class="fu">surname</span>;</span>
<span id="cb1-12"><a href="#cb1-12"></a>        <span class="kw">this</span>.<span class="fu">ssn</span> = builder.<span class="fu">ssn</span>;</span>
<span id="cb1-13"><a href="#cb1-13"></a>    }</span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getFirstName</span>() { <span class="kw">return</span> firstName;  }</span>
<span id="cb1-16"><a href="#cb1-16"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getSurname</span>() { <span class="kw">return</span> surname; }</span>
<span id="cb1-17"><a href="#cb1-17"></a>    <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getSsn</span>() { <span class="kw">return</span> ssn; }    </span>
<span id="cb1-18"><a href="#cb1-18"></a>}</span>
<span id="cb1-19"><a href="#cb1-19"></a></span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="kw">public</span> <span class="kw">class</span> Client {</span>
<span id="cb1-22"><a href="#cb1-22"></a>    <span class="kw">public</span> <span class="dt">void</span> <span class="fu">doSomething</span>() {</span>
<span id="cb1-23"><a href="#cb1-23"></a>        Customer customer = <span class="fu">customer</span>()</span>
<span id="cb1-24"><a href="#cb1-24"></a>            .<span class="fu">withSurname</span>(<span class="st">&quot;Smith&quot;</span>)</span>
<span id="cb1-25"><a href="#cb1-25"></a>            .<span class="fu">withFirstName</span>(<span class="st">&quot;Fred&quot;</span>)</span>
<span id="cb1-26"><a href="#cb1-26"></a>            .<span class="fu">withSsn</span>(<span class="st">&quot;123XS1&quot;</span>)</span>
<span id="cb1-27"><a href="#cb1-27"></a>            .<span class="fu">build</span>();</span>
<span id="cb1-28"><a href="#cb1-28"></a>    }</span>
<span id="cb1-29"><a href="#cb1-29"></a>}</span></code></pre></div>
</section>
<section id="null-a-freed-pointer-and-uninitialised" class="level3">
<h3>Null a freed pointer (and uninitialised)</h3>
<p>Setting unused pointers to NULL is a defensive style, protecting against dangling pointer bugs. If a dangling pointer is accessed after it is freed, you may read or overwrite random memory. If a null pointer is accessed, you get an immediate crash on most systems, telling you right away what the error is.</p>
<p>For local variables, it may be a little bit pointless if it is “obvious” that the pointer isn’t accessed anymore after being freed, so this style is more appropriate for member data and global variables. Even for local variables, it may be a good approach if the function continues after the memory is released.</p>
<p>To complete the style, you should also initialize pointers to NULL before they get assigned a true pointer value.</p>
</section>
<section id="replace-nested-conditional-with-guard-clauses" class="level3">
<h3>Replace Nested Conditional with Guard Clauses</h3>
<ul>
<li>Exiting early allows you to pop stuff off your limited mental stack</li>
<li>The same way, <code>break</code> is allowed only at top of loop (clause)</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">public</span> <span class="dt">void</span> <span class="fu">SomeFunction</span>(bool someCondition)</span>
<span id="cb2-2"><a href="#cb2-2"></a>{</span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="kw">if</span> (someCondition)</span>
<span id="cb2-4"><a href="#cb2-4"></a>    {</span>
<span id="cb2-5"><a href="#cb2-5"></a>        <span class="co">// Do Something</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>    }</span>
<span id="cb2-7"><a href="#cb2-7"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb3-1"><a href="#cb3-1"></a></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw">public</span> <span class="kw">void</span> <span class="at">SomeFunction</span>(bool someCondition)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="op">{</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="cf">if</span> (<span class="op">!</span>someCondition)</span>
<span id="cb3-5"><a href="#cb3-5"></a>        <span class="cf">return</span><span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="co">// Do Something</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="op">}</span></span></code></pre></div>
</section>
</section>
</section>
<section id="refactoring-catalog" class="level2">
<h2>Refactoring Catalog</h2>
<section class="level2">
<section id="combine-function-into-class" class="level3">
<h3>Combine function into class</h3>
<p><strong>Problem:</strong> Functions are always taking the same parameters</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">function</span> <span class="at">base</span>(aReading) <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">function</span> <span class="at">taxableCharge</span>(aReading) <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="kw">function</span> <span class="at">calculateBaseCharge</span>(aReading) <span class="op">{</span>...<span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1"></a></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="kw">class</span> Reading <span class="op">{</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="at">base</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="at">taxableCharge</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="at">calculateBaseCharge</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="consolidate-conditional-expression" class="level3">
<h3>Consolidate Conditional Expression</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb6-1"><a href="#cb6-1"></a><span class="cf">if</span> (<span class="va">anEmployee</span>.<span class="at">seniority</span> <span class="op">&lt;</span> <span class="dv">2</span>) <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="cf">if</span> (<span class="va">anEmployee</span>.<span class="at">monthsDisabled</span> <span class="op">&gt;</span> <span class="dv">12</span>) <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="cf">if</span> (<span class="va">anEmployee</span>.<span class="at">isPartTime</span>) <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1"></a></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="cf">if</span> (<span class="at">isNotEligableForDisability</span>()) <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="kw">function</span> <span class="at">isNotEligableForDisability</span>() <span class="op">{</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="cf">return</span> ((<span class="va">anEmployee</span>.<span class="at">seniority</span> <span class="op">&lt;</span> <span class="dv">2</span>)</span>
<span id="cb7-6"><a href="#cb7-6"></a>          <span class="op">||</span> (<span class="va">anEmployee</span>.<span class="at">monthsDisabled</span> <span class="op">&gt;</span> <span class="dv">12</span>)</span>
<span id="cb7-7"><a href="#cb7-7"></a>          <span class="op">||</span> (<span class="va">anEmployee</span>.<span class="at">isPartTime</span>))<span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="decompose-conditional" class="level3">
<h3>Decompose Conditional</h3>
<p><strong>Problem:</strong> tired of seen deeply nested long statements</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="va">aDate</span>.<span class="at">isBefore</span>(<span class="va">plan</span>.<span class="at">summerStart</span>) <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">aDate</span>.<span class="at">isAfter</span>(<span class="va">plan</span>.<span class="at">summerEnd</span>))</span>
<span id="cb8-2"><a href="#cb8-2"></a>  charge <span class="op">=</span> quantity <span class="op">*</span> <span class="va">plan</span>.<span class="at">summerRate</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="cf">else</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>  charge <span class="op">=</span> quantity <span class="op">*</span> <span class="va">plan</span>.<span class="at">regularRate</span> <span class="op">+</span> <span class="va">plan</span>.<span class="at">regularServiceCharge</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1"></a></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="cf">if</span> (<span class="at">summer</span>())</span>
<span id="cb9-3"><a href="#cb9-3"></a>  charge <span class="op">=</span> <span class="at">summerCharge</span>()<span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="cf">else</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  charge <span class="op">=</span> <span class="at">regularCharge</span>()<span class="op">;</span></span></code></pre></div>
</section>
<section id="encapsulate-record---data-class" class="level3">
<h3>Encapsulate Record -&gt; Data class</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1"></a>organization <span class="op">=</span> <span class="op">{</span><span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Acme Gooseberries&quot;</span><span class="op">,</span> <span class="dt">country</span><span class="op">:</span> <span class="st">&quot;GB&quot;</span><span class="op">};</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1"></a></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="kw">class</span> Organization <span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="at">constructor</span>(data) <span class="op">{</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span class="kw">this</span>.<span class="at">_name</span> <span class="op">=</span> <span class="va">data</span>.<span class="at">name</span><span class="op">;</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>    <span class="kw">this</span>.<span class="at">_country</span> <span class="op">=</span> <span class="va">data</span>.<span class="at">country</span><span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="op">}</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>  get <span class="at">name</span>()    <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="at">_name</span><span class="op">;}</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  set <span class="at">name</span>(arg) <span class="op">{</span><span class="kw">this</span>.<span class="at">_name</span> <span class="op">=</span> arg<span class="op">;}</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>  get <span class="at">country</span>()    <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="at">_country</span><span class="op">;}</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>  set <span class="at">country</span>(arg) <span class="op">{</span><span class="kw">this</span>.<span class="at">_country</span> <span class="op">=</span> arg<span class="op">;}</span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="op">}</span></span></code></pre></div>
<p>The caller is happyer</p>
</section>
<section id="extract-class" class="level3">
<h3>Extract Class</h3>
<p>When can you divide on class in two ? Here:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">class</span> Person <span class="op">{</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  get <span class="at">officeAreaCode</span>() <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="at">_officeAreaCode</span><span class="op">;}</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>  get <span class="at">officeNumber</span>()   <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="at">_officeNumber</span><span class="op">;}</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1"></a></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw">class</span> Person <span class="op">{</span></span>
<span id="cb13-3"><a href="#cb13-3"></a>  get <span class="at">officeAreaCode</span>() <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="va">_telephoneNumber</span>.<span class="at">areaCode</span><span class="op">;}</span></span>
<span id="cb13-4"><a href="#cb13-4"></a>  get <span class="at">officeNumber</span>()   <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="va">_telephoneNumber</span>.<span class="at">number</span><span class="op">;}</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="op">}</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="kw">class</span> TelephoneNumber <span class="op">{</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  get <span class="at">areaCode</span>() <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="at">_areaCode</span><span class="op">;}</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>  get <span class="at">number</span>()   <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="at">_number</span><span class="op">;}</span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="extract-function" class="level3">
<h3>Extract Function</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">function</span> <span class="at">printOwing</span>(invoice) <span class="op">{</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="at">printBanner</span>()<span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="kw">let</span> outstanding  <span class="op">=</span> <span class="at">calculateOutstanding</span>()<span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4"></a></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="co">//print details</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`name: </span><span class="sc">${</span><span class="va">invoice</span>.<span class="at">customer</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`amount: </span><span class="sc">${</span>outstanding<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span>  </span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb15-1"><a href="#cb15-1"></a></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw">function</span> <span class="at">printOwing</span>(invoice) <span class="op">{</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="at">printBanner</span>()<span class="op">;</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="kw">let</span> outstanding  <span class="op">=</span> <span class="at">calculateOutstanding</span>()<span class="op">;</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>  <span class="at">printDetails</span>(outstanding)<span class="op">;</span></span>
<span id="cb15-6"><a href="#cb15-6"></a></span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="kw">function</span> <span class="at">printDetails</span>(outstanding) <span class="op">{</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>    <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`name: </span><span class="sc">${</span><span class="va">invoice</span>.<span class="at">customer</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb15-9"><a href="#cb15-9"></a>    <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`amount: </span><span class="sc">${</span>outstanding<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb15-10"><a href="#cb15-10"></a>  <span class="op">}</span></span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="extract-superclass" class="level3">
<h3>Extract Superclass</h3>
<p>Heritance is made to mutualize varaibles / functions</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">class</span> Department <span class="op">{</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>  get <span class="at">totalAnnualCost</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  get <span class="at">name</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  get <span class="at">headCount</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="op">}</span></span>
<span id="cb16-6"><a href="#cb16-6"></a></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="kw">class</span> Employee <span class="op">{</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>  get <span class="at">annualCost</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb16-9"><a href="#cb16-9"></a>  get <span class="at">name</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb16-10"><a href="#cb16-10"></a>  get <span class="at">id</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb17-1"><a href="#cb17-1"></a></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="kw">class</span> Party <span class="op">{</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  get <span class="at">name</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  get <span class="at">annualCost</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="op">}</span></span>
<span id="cb17-6"><a href="#cb17-6"></a></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="kw">class</span> Department <span class="kw">extends</span> Party <span class="op">{</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>  get <span class="at">annualCost</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>  get <span class="at">headCount</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="op">}</span></span>
<span id="cb17-11"><a href="#cb17-11"></a></span>
<span id="cb17-12"><a href="#cb17-12"></a><span class="kw">class</span> Employee <span class="kw">extends</span> Party <span class="op">{</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>  get <span class="at">annualCost</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>  get <span class="at">id</span>() <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb17-15"><a href="#cb17-15"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="extract-variable" class="level3">
<h3>Extract Variable</h3>
<p><strong>Problem:</strong> Long declaration line</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb18-1"><a href="#cb18-1"></a><span class="cf">return</span> <span class="va">order</span>.<span class="at">quantity</span> <span class="op">*</span> <span class="va">order</span>.<span class="at">itemPrice</span> <span class="op">-</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="va">Math</span>.<span class="at">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="va">order</span>.<span class="at">quantity</span> <span class="op">-</span> <span class="dv">500</span>) <span class="op">*</span> <span class="va">order</span>.<span class="at">itemPrice</span> <span class="op">*</span> <span class="fl">0.05</span> <span class="op">+</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="va">Math</span>.<span class="at">min</span>(<span class="va">order</span>.<span class="at">quantity</span> <span class="op">*</span> <span class="va">order</span>.<span class="at">itemPrice</span> <span class="op">*</span> <span class="fl">0.1</span><span class="op">,</span> <span class="dv">100</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb19-1"><a href="#cb19-1"></a></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="kw">const</span> basePrice <span class="op">=</span> <span class="va">order</span>.<span class="at">quantity</span> <span class="op">*</span> <span class="va">order</span>.<span class="at">itemPrice</span><span class="op">;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="kw">const</span> quantityDiscount <span class="op">=</span> <span class="va">Math</span>.<span class="at">max</span>(<span class="dv">0</span><span class="op">,</span> <span class="va">order</span>.<span class="at">quantity</span> <span class="op">-</span> <span class="dv">500</span>) <span class="op">*</span> <span class="va">order</span>.<span class="at">itemPrice</span> <span class="op">*</span> <span class="fl">0.05</span><span class="op">;</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="kw">const</span> shipping <span class="op">=</span> <span class="va">Math</span>.<span class="at">min</span>(basePrice <span class="op">*</span> <span class="fl">0.1</span><span class="op">,</span> <span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="cf">return</span> basePrice <span class="op">-</span> quantityDiscount <span class="op">+</span> shipping<span class="op">;</span></span></code></pre></div>
</section>
<section id="hide-delegate" class="level3">
<h3>Hide Delegate</h3>
<p>inverse of Remove Middle Man</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb20-1"><a href="#cb20-1"></a>manager <span class="op">=</span> <span class="va">aPerson</span>.<span class="va">department</span>.<span class="at">manager</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb21-1"><a href="#cb21-1"></a></span>
<span id="cb21-2"><a href="#cb21-2"></a>manager <span class="op">=</span> <span class="va">aPerson</span>.<span class="at">manager</span><span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3"></a></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="kw">class</span> Person <span class="op">{</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>  get <span class="at">manager</span>() <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="va">department</span>.<span class="at">manager</span><span class="op">;}</span></span></code></pre></div>
</section>
<section id="inline" class="level3">
<h3>Inline</h3>
<p>Inverse of extract</p>
</section>
<section id="introduction-assertion" class="level3">
<h3>Introduction Assertion</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb22-1"><a href="#cb22-1"></a><span class="cf">if</span> (<span class="kw">this</span>.<span class="at">discountRate</span>)</span>
<span id="cb22-2"><a href="#cb22-2"></a>  base <span class="op">=</span> base <span class="op">-</span> (<span class="kw">this</span>.<span class="at">discountRate</span> <span class="op">*</span> base)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb23-1"><a href="#cb23-1"></a></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="at">assert</span>(<span class="kw">this</span>.<span class="at">discountRate</span> <span class="op">&gt;=</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="cf">if</span> (<span class="kw">this</span>.<span class="at">discountRate</span>)</span>
<span id="cb23-4"><a href="#cb23-4"></a>  base <span class="op">=</span> base <span class="op">-</span> (<span class="kw">this</span>.<span class="at">discountRate</span> <span class="op">*</span> base)<span class="op">;</span></span></code></pre></div>
</section>
<section id="introduce-parameter-object" class="level3">
<h3>Introduce Parameter Object</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb24-1"><a href="#cb24-1"></a><span class="kw">function</span> <span class="at">amountInvoiced</span>(startDate<span class="op">,</span> endDate) <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="kw">function</span> <span class="at">amountReceived</span>(startDate<span class="op">,</span> endDate) <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="kw">function</span> <span class="at">amountOverdue</span>(startDate<span class="op">,</span> endDate) <span class="op">{</span>...<span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb25-1"><a href="#cb25-1"></a></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="kw">function</span> <span class="at">amountInvoiced</span>(aDateRange) <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="kw">function</span> <span class="at">amountReceived</span>(aDateRange) <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb25-4"><a href="#cb25-4"></a><span class="kw">function</span> <span class="at">amountOverdue</span>(aDateRange) <span class="op">{</span>...<span class="op">}</span></span></code></pre></div>
</section>
<section id="introduce-special-case" class="level3">
<h3>Introduce Special Case</h3>
<p>As class</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb26-1"><a href="#cb26-1"></a><span class="cf">if</span> (aCustomer <span class="op">===</span> <span class="st">&quot;unknown&quot;</span>) customerName <span class="op">=</span> <span class="st">&quot;occupant&quot;</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb27-1"><a href="#cb27-1"></a></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="kw">class</span> UnknownCustomer <span class="op">{</span></span>
<span id="cb27-3"><a href="#cb27-3"></a>    get <span class="at">name</span>() <span class="op">{</span><span class="cf">return</span> <span class="st">&quot;occupant&quot;</span><span class="op">;}</span></span></code></pre></div>
</section>
<section id="move-statements-into-function" class="level3">
<h3>Move Statements into Function</h3>
<p><strong>Problem:</strong> Caller always sanitize/concat in/out of function call</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb28-1"><a href="#cb28-1"></a><span class="va">result</span>.<span class="at">push</span>(<span class="vs">`&lt;p&gt;title: </span><span class="sc">${</span><span class="va">person</span>.<span class="va">photo</span>.<span class="at">title</span><span class="sc">}</span><span class="vs">&lt;/p&gt;`</span>)<span class="op">;</span></span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="va">result</span>.<span class="at">concat</span>(<span class="at">photoData</span>(<span class="va">person</span>.<span class="at">photo</span>))<span class="op">;</span></span>
<span id="cb28-3"><a href="#cb28-3"></a></span>
<span id="cb28-4"><a href="#cb28-4"></a><span class="kw">function</span> <span class="at">photoData</span>(aPhoto) <span class="op">{</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>  <span class="cf">return</span> [</span>
<span id="cb28-6"><a href="#cb28-6"></a>    <span class="vs">`&lt;p&gt;location: </span><span class="sc">${</span><span class="va">aPhoto</span>.<span class="at">location</span><span class="sc">}</span><span class="vs">&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb28-7"><a href="#cb28-7"></a>    <span class="vs">`&lt;p&gt;date: </span><span class="sc">${</span><span class="va">aPhoto</span>.<span class="va">date</span>.<span class="at">toDateString</span>()<span class="sc">}</span><span class="vs">&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb28-8"><a href="#cb28-8"></a>  ]<span class="op">;</span></span>
<span id="cb28-9"><a href="#cb28-9"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb29-1"><a href="#cb29-1"></a></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="va">result</span>.<span class="at">concat</span>(<span class="at">photoData</span>(<span class="va">person</span>.<span class="at">photo</span>))<span class="op">;</span></span>
<span id="cb29-3"><a href="#cb29-3"></a></span>
<span id="cb29-4"><a href="#cb29-4"></a><span class="kw">function</span> <span class="at">photoData</span>(aPhoto) <span class="op">{</span></span>
<span id="cb29-5"><a href="#cb29-5"></a>  <span class="cf">return</span> [</span>
<span id="cb29-6"><a href="#cb29-6"></a>    <span class="vs">`&lt;p&gt;title: </span><span class="sc">${</span><span class="va">aPhoto</span>.<span class="at">title</span><span class="sc">}</span><span class="vs">&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb29-7"><a href="#cb29-7"></a>    <span class="vs">`&lt;p&gt;location: </span><span class="sc">${</span><span class="va">aPhoto</span>.<span class="at">location</span><span class="sc">}</span><span class="vs">&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>    <span class="vs">`&lt;p&gt;date: </span><span class="sc">${</span><span class="va">aPhoto</span>.<span class="va">date</span>.<span class="at">toDateString</span>()<span class="sc">}</span><span class="vs">&lt;/p&gt;`</span><span class="op">,</span></span>
<span id="cb29-9"><a href="#cb29-9"></a>  ]<span class="op">;</span></span>
<span id="cb29-10"><a href="#cb29-10"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="parametrize-function" class="level3">
<h3>Parametrize Function</h3>
<p>Opposite of something (remove parameters)</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb30-1"><a href="#cb30-1"></a><span class="kw">function</span> <span class="at">tenPercentRaise</span>(aPerson) <span class="op">{</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="va">aPerson</span>.<span class="at">salary</span> <span class="op">=</span> <span class="va">aPerson</span>.<span class="va">salary</span>.<span class="at">multiply</span>(<span class="fl">1.1</span>)<span class="op">;</span></span>
<span id="cb30-3"><a href="#cb30-3"></a><span class="op">}</span></span>
<span id="cb30-4"><a href="#cb30-4"></a><span class="kw">function</span> <span class="at">fivePercentRaise</span>(aPerson) <span class="op">{</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>  <span class="va">aPerson</span>.<span class="at">salary</span> <span class="op">=</span> <span class="va">aPerson</span>.<span class="va">salary</span>.<span class="at">multiply</span>(<span class="fl">1.05</span>)<span class="op">;</span></span>
<span id="cb30-6"><a href="#cb30-6"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb31-1"><a href="#cb31-1"></a></span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="kw">function</span> <span class="at">raise</span>(aPerson<span class="op">,</span> factor) <span class="op">{</span></span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="va">aPerson</span>.<span class="at">salary</span> <span class="op">=</span> <span class="va">aPerson</span>.<span class="va">salary</span>.<span class="at">multiply</span>(<span class="dv">1</span> <span class="op">+</span> factor)<span class="op">;</span></span>
<span id="cb31-4"><a href="#cb31-4"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="preserve-whole-object" class="level3">
<h3>Preserve Whole Object</h3>
<p>In function call</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb32-1"><a href="#cb32-1"></a><span class="kw">const</span> low <span class="op">=</span> <span class="va">aRoom</span>.<span class="va">daysTempRange</span>.<span class="at">low</span><span class="op">;</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="kw">const</span> high <span class="op">=</span> <span class="va">aRoom</span>.<span class="va">daysTempRange</span>.<span class="at">high</span><span class="op">;</span></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="cf">if</span> (<span class="va">aPlan</span>.<span class="at">withinRange</span>(low<span class="op">,</span> high))</span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb33-1"><a href="#cb33-1"></a></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="cf">if</span> (<span class="va">aPlan</span>.<span class="at">withinRange</span>(<span class="va">aRoom</span>.<span class="at">daysTempRange</span>))</span></code></pre></div>
</section>
<section id="pull-up-constructor-body" class="level3">
<h3>Pull Up Constructor Body</h3>
<p>Works with fields / methods</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb34-1"><a href="#cb34-1"></a><span class="kw">class</span> Party <span class="op">{</span>...<span class="op">}</span></span>
<span id="cb34-2"><a href="#cb34-2"></a></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="kw">class</span> Employee <span class="kw">extends</span> Party <span class="op">{</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>  <span class="at">constructor</span>(name<span class="op">,</span> id<span class="op">,</span> monthlyCost) <span class="op">{</span></span>
<span id="cb34-5"><a href="#cb34-5"></a>    <span class="kw">super</span>()<span class="op">;</span></span>
<span id="cb34-6"><a href="#cb34-6"></a>    <span class="kw">this</span>.<span class="at">_id</span> <span class="op">=</span> id<span class="op">;</span></span>
<span id="cb34-7"><a href="#cb34-7"></a>    <span class="kw">this</span>.<span class="at">_name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb34-8"><a href="#cb34-8"></a>    <span class="kw">this</span>.<span class="at">_monthlyCost</span> <span class="op">=</span> monthlyCost<span class="op">;</span></span>
<span id="cb34-9"><a href="#cb34-9"></a>  <span class="op">}</span></span>
<span id="cb34-10"><a href="#cb34-10"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb35-1"><a href="#cb35-1"></a></span>
<span id="cb35-2"><a href="#cb35-2"></a><span class="kw">class</span> Party <span class="op">{</span></span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="at">constructor</span>(name)<span class="op">{</span></span>
<span id="cb35-4"><a href="#cb35-4"></a>    <span class="kw">this</span>.<span class="at">_name</span> <span class="op">=</span> name<span class="op">;</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>  <span class="op">}</span></span>
<span id="cb35-6"><a href="#cb35-6"></a><span class="op">}</span></span>
<span id="cb35-7"><a href="#cb35-7"></a></span>
<span id="cb35-8"><a href="#cb35-8"></a><span class="kw">class</span> Employee <span class="kw">extends</span> Party <span class="op">{</span></span>
<span id="cb35-9"><a href="#cb35-9"></a>  <span class="at">constructor</span>(name<span class="op">,</span> id<span class="op">,</span> monthlyCost) <span class="op">{</span></span>
<span id="cb35-10"><a href="#cb35-10"></a>    <span class="kw">super</span>(name)<span class="op">;</span></span>
<span id="cb35-11"><a href="#cb35-11"></a>    <span class="kw">this</span>.<span class="at">_id</span> <span class="op">=</span> id<span class="op">;</span></span>
<span id="cb35-12"><a href="#cb35-12"></a>    <span class="kw">this</span>.<span class="at">_monthlyCost</span> <span class="op">=</span> monthlyCost<span class="op">;</span></span>
<span id="cb35-13"><a href="#cb35-13"></a>  <span class="op">}</span></span>
<span id="cb35-14"><a href="#cb35-14"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="change-value-to-reference" class="level3">
<h3>Change Value to Reference</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb36-1"><a href="#cb36-1"></a><span class="kw">let</span> customer <span class="op">=</span> <span class="kw">new</span> <span class="at">Customer</span>(customerData)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb37-1"><a href="#cb37-1"></a></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="kw">let</span> customer <span class="op">=</span> <span class="va">customerRepository</span>.<span class="at">get</span>(<span class="va">customerData</span>.<span class="at">id</span>)<span class="op">;</span></span></code></pre></div>
</section>
<section id="remove-flag-argument" class="level3">
<h3>Remove Flag Argument</h3>
<div class="sourceCode" id="cb38"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb38-1"><a href="#cb38-1"></a><span class="kw">function</span> <span class="at">setDimension</span>(name<span class="op">,</span> value) <span class="op">{</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>  <span class="cf">if</span> (name <span class="op">===</span> <span class="st">&quot;height&quot;</span>) <span class="op">{</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>    <span class="kw">this</span>.<span class="at">_height</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb38-4"><a href="#cb38-4"></a>    <span class="cf">return</span><span class="op">;</span></span>
<span id="cb38-5"><a href="#cb38-5"></a>  <span class="op">}</span></span>
<span id="cb38-6"><a href="#cb38-6"></a>  <span class="cf">if</span> (name <span class="op">===</span> <span class="st">&quot;width&quot;</span>) <span class="op">{</span></span>
<span id="cb38-7"><a href="#cb38-7"></a>    <span class="kw">this</span>.<span class="at">_width</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb38-8"><a href="#cb38-8"></a>    <span class="cf">return</span><span class="op">;</span></span>
<span id="cb38-9"><a href="#cb38-9"></a>  <span class="op">}</span></span>
<span id="cb38-10"><a href="#cb38-10"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb39-1"><a href="#cb39-1"></a></span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="kw">function</span> <span class="at">setHeight</span>(value) <span class="op">{</span><span class="kw">this</span>.<span class="at">_height</span> <span class="op">=</span> value<span class="op">;}</span></span>
<span id="cb39-3"><a href="#cb39-3"></a><span class="kw">function</span> <span class="at">setWidth</span> (value) <span class="op">{</span><span class="kw">this</span>.<span class="at">_width</span> <span class="op">=</span> value<span class="op">;}</span></span></code></pre></div>
</section>
<section id="remove-middle-man" class="level3">
<h3>Remove Middle Man</h3>
<div class="sourceCode" id="cb40"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb40-1"><a href="#cb40-1"></a>manager <span class="op">=</span> <span class="va">aPerson</span>.<span class="at">manager</span><span class="op">;</span></span>
<span id="cb40-2"><a href="#cb40-2"></a></span>
<span id="cb40-3"><a href="#cb40-3"></a><span class="kw">class</span> Person <span class="op">{</span></span>
<span id="cb40-4"><a href="#cb40-4"></a>  get <span class="at">manager</span>() <span class="op">{</span><span class="cf">return</span> <span class="kw">this</span>.<span class="va">department</span>.<span class="at">manager</span><span class="op">;}</span></span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb41-1"><a href="#cb41-1"></a></span>
<span id="cb41-2"><a href="#cb41-2"></a>manager <span class="op">=</span> <span class="va">aPerson</span>.<span class="va">department</span>.<span class="at">manager</span><span class="op">;</span></span></code></pre></div>
</section>
<section id="replace-conditional-with-polymorphism" class="level3">
<h3>Replace Conditional with Polymorphism</h3>
<div class="sourceCode" id="cb42"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb42-1"><a href="#cb42-1"></a><span class="cf">switch</span> (<span class="va">bird</span>.<span class="at">type</span>) <span class="op">{</span></span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="cf">case</span> <span class="st">&#39;EuropeanSwallow&#39;</span><span class="op">:</span></span>
<span id="cb42-3"><a href="#cb42-3"></a>    <span class="cf">return</span> <span class="st">&quot;average&quot;</span><span class="op">;</span></span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="cf">case</span> <span class="st">&#39;AfricanSwallow&#39;</span><span class="op">:</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>    <span class="cf">return</span> (<span class="va">bird</span>.<span class="at">numberOfCoconuts</span> <span class="op">&gt;</span> <span class="dv">2</span>) <span class="op">?</span> <span class="st">&quot;tired&quot;</span> : <span class="st">&quot;average&quot;</span><span class="op">;</span></span>
<span id="cb42-6"><a href="#cb42-6"></a>  <span class="cf">case</span> <span class="st">&#39;NorwegianBlueParrot&#39;</span><span class="op">:</span></span>
<span id="cb42-7"><a href="#cb42-7"></a>    <span class="cf">return</span> (<span class="va">bird</span>.<span class="at">voltage</span> <span class="op">&gt;</span> <span class="dv">100</span>) <span class="op">?</span> <span class="st">&quot;scorched&quot;</span> : <span class="st">&quot;beautiful&quot;</span><span class="op">;</span></span>
<span id="cb42-8"><a href="#cb42-8"></a>  <span class="cf">default</span><span class="op">:</span></span>
<span id="cb42-9"><a href="#cb42-9"></a>    <span class="cf">return</span> <span class="st">&quot;unknown&quot;</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb43-1"><a href="#cb43-1"></a></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="kw">class</span> EuropeanSwallow <span class="op">{</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  get <span class="at">plumage</span>() <span class="op">{</span></span>
<span id="cb43-4"><a href="#cb43-4"></a>    <span class="cf">return</span> <span class="st">&quot;average&quot;</span><span class="op">;</span></span>
<span id="cb43-5"><a href="#cb43-5"></a>  <span class="op">}</span></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="kw">class</span> AfricanSwallow <span class="op">{</span></span>
<span id="cb43-7"><a href="#cb43-7"></a>  get <span class="at">plumage</span>() <span class="op">{</span></span>
<span id="cb43-8"><a href="#cb43-8"></a>     <span class="cf">return</span> (<span class="kw">this</span>.<span class="at">numberOfCoconuts</span> <span class="op">&gt;</span> <span class="dv">2</span>) <span class="op">?</span> <span class="st">&quot;tired&quot;</span> : <span class="st">&quot;average&quot;</span><span class="op">;</span></span>
<span id="cb43-9"><a href="#cb43-9"></a>  <span class="op">}</span></span>
<span id="cb43-10"><a href="#cb43-10"></a><span class="kw">class</span> NorwegianBlueParrot <span class="op">{</span></span>
<span id="cb43-11"><a href="#cb43-11"></a>  get <span class="at">plumage</span>() <span class="op">{</span></span>
<span id="cb43-12"><a href="#cb43-12"></a>     <span class="cf">return</span> (<span class="kw">this</span>.<span class="at">voltage</span> <span class="op">&gt;</span> <span class="dv">100</span>) <span class="op">?</span> <span class="st">&quot;scorched&quot;</span> : <span class="st">&quot;beautiful&quot;</span><span class="op">;</span></span>
<span id="cb43-13"><a href="#cb43-13"></a>  <span class="op">}</span></span></code></pre></div>
</section>
<section id="replace-constructor-with-factory-function" class="level3">
<h3>Replace Constructor with Factory Function</h3>
<div class="sourceCode" id="cb44"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb44-1"><a href="#cb44-1"></a>leadEngineer <span class="op">=</span> <span class="kw">new</span> <span class="at">Employee</span>(<span class="va">document</span>.<span class="at">leadEngineer</span><span class="op">,</span> <span class="st">&#39;E&#39;</span>)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb45-1"><a href="#cb45-1"></a></span>
<span id="cb45-2"><a href="#cb45-2"></a>leadEngineer <span class="op">=</span> <span class="at">createEngineer</span>(<span class="va">document</span>.<span class="at">leadEngineer</span>)<span class="op">;</span></span></code></pre></div>
</section>
<section id="replace-control-flag-with-break" class="level3">
<h3>Replace Control Flag with Break</h3>
<div class="sourceCode" id="cb46"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb46-1"><a href="#cb46-1"></a><span class="cf">for</span> (<span class="kw">const</span> p <span class="kw">of</span> people) <span class="op">{</span></span>
<span id="cb46-2"><a href="#cb46-2"></a>  <span class="cf">if</span> (<span class="op">!</span> found) <span class="op">{</span></span>
<span id="cb46-3"><a href="#cb46-3"></a>    <span class="cf">if</span> ( p <span class="op">===</span> <span class="st">&quot;Don&quot;</span>) <span class="op">{</span></span>
<span id="cb46-4"><a href="#cb46-4"></a>      <span class="at">sendAlert</span>()<span class="op">;</span></span>
<span id="cb46-5"><a href="#cb46-5"></a>      found <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb46-6"><a href="#cb46-6"></a>    <span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb47-1"><a href="#cb47-1"></a></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="cf">for</span> (<span class="kw">const</span> p <span class="kw">of</span> people) <span class="op">{</span></span>
<span id="cb47-3"><a href="#cb47-3"></a>  <span class="cf">if</span> ( p <span class="op">===</span> <span class="st">&quot;Don&quot;</span>) <span class="op">{</span></span>
<span id="cb47-4"><a href="#cb47-4"></a>    <span class="at">sendAlert</span>()<span class="op">;</span></span>
<span id="cb47-5"><a href="#cb47-5"></a>    <span class="cf">break</span><span class="op">;</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>  <span class="op">}</span></span></code></pre></div>
</section>
<section id="replace-exception-with-precheck" class="level3">
<h3>Replace Exception with Precheck</h3>
<p>Also called <code>Clause</code></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb48-1"><a href="#cb48-1"></a>double <span class="at">getValueForPeriod</span> (int periodNumber) <span class="op">{</span></span>
<span id="cb48-2"><a href="#cb48-2"></a>  <span class="cf">try</span> <span class="op">{</span></span>
<span id="cb48-3"><a href="#cb48-3"></a>    <span class="cf">return</span> values[periodNumber]<span class="op">;</span></span>
<span id="cb48-4"><a href="#cb48-4"></a>  <span class="op">}</span> <span class="cf">catch</span> (ArrayIndexOutOfBoundsException e) <span class="op">{</span></span>
<span id="cb48-5"><a href="#cb48-5"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb48-6"><a href="#cb48-6"></a>  <span class="op">}</span></span>
<span id="cb48-7"><a href="#cb48-7"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb49"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb49-1"><a href="#cb49-1"></a></span>
<span id="cb49-2"><a href="#cb49-2"></a>double <span class="at">getValueForPeriod</span> (int periodNumber) <span class="op">{</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>  <span class="cf">return</span> (periodNumber <span class="op">&gt;=</span> <span class="va">values</span>.<span class="at">length</span>) <span class="op">?</span> <span class="dv">0</span> : values[periodNumber]<span class="op">;</span></span>
<span id="cb49-4"><a href="#cb49-4"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="replace-inline-code-with-function-call" class="level3">
<h3>Replace Inline Code with Function Call</h3>
<div class="sourceCode" id="cb50"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb50-1"><a href="#cb50-1"></a><span class="kw">let</span> appliesToMass <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="cf">for</span>(<span class="kw">const</span> s <span class="kw">of</span> states) <span class="op">{</span></span>
<span id="cb50-3"><a href="#cb50-3"></a>  <span class="cf">if</span> (s <span class="op">===</span> <span class="st">&quot;MA&quot;</span>) appliesToMass <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb50-4"><a href="#cb50-4"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb51"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb51-1"><a href="#cb51-1"></a></span>
<span id="cb51-2"><a href="#cb51-2"></a>appliesToMass <span class="op">=</span> <span class="va">states</span>.<span class="at">includes</span>(<span class="st">&quot;MA&quot;</span>)<span class="op">;</span></span></code></pre></div>
</section>
<section id="replace-loop-with-pipeline" class="level3">
<h3>Replace Loop with Pipeline</h3>
<p><strong>Keywords:</strong> Streams, Functional progamming</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb52-1"><a href="#cb52-1"></a><span class="kw">const</span> names <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="cf">for</span> (<span class="kw">const</span> i <span class="kw">of</span> input) <span class="op">{</span></span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="cf">if</span> (<span class="va">i</span>.<span class="at">job</span> <span class="op">===</span> <span class="st">&quot;programmer&quot;</span>)</span>
<span id="cb52-4"><a href="#cb52-4"></a>    <span class="va">names</span>.<span class="at">push</span>(<span class="va">i</span>.<span class="at">name</span>)<span class="op">;</span></span>
<span id="cb52-5"><a href="#cb52-5"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb53-1"><a href="#cb53-1"></a></span>
<span id="cb53-2"><a href="#cb53-2"></a>  <span class="kw">const</span> names <span class="op">=</span> input</span>
<span id="cb53-3"><a href="#cb53-3"></a>    .<span class="at">filter</span>(i <span class="kw">=&gt;</span> <span class="va">i</span>.<span class="at">job</span> <span class="op">===</span> <span class="st">&quot;programmer&quot;</span>)</span>
<span id="cb53-4"><a href="#cb53-4"></a>    .<span class="at">map</span>(i <span class="kw">=&gt;</span> <span class="va">i</span>.<span class="at">name</span>)</span>
<span id="cb53-5"><a href="#cb53-5"></a>  <span class="op">;</span></span></code></pre></div>
</section>
<section id="replace-magic-literal" class="level3">
<h3>Replace Magic Literal</h3>
<p>With constants</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb54-1"><a href="#cb54-1"></a><span class="kw">function</span> <span class="at">potentialEnergy</span>(mass<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="cf">return</span> mass <span class="op">*</span> <span class="fl">9.81</span> <span class="op">*</span> height<span class="op">;</span></span>
<span id="cb54-3"><a href="#cb54-3"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb55"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb55-1"><a href="#cb55-1"></a></span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="kw">const</span> STANDARD_GRAVITY <span class="op">=</span> <span class="fl">9.81</span><span class="op">;</span></span>
<span id="cb55-3"><a href="#cb55-3"></a><span class="kw">function</span> <span class="at">potentialEnergy</span>(mass<span class="op">,</span> height) <span class="op">{</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>  <span class="cf">return</span> mass <span class="op">*</span> STANDARD_GRAVITY <span class="op">*</span> height<span class="op">;</span></span>
<span id="cb55-5"><a href="#cb55-5"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="replace-parameter-with-query" class="level3">
<h3>Replace Parameter with Query</h3>
<p>That is why it is better to pass the full object</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb56-1"><a href="#cb56-1"></a><span class="at">availableVacation</span>(anEmployee<span class="op">,</span> <span class="va">anEmployee</span>.<span class="at">grade</span>)<span class="op">;</span></span>
<span id="cb56-2"><a href="#cb56-2"></a></span>
<span id="cb56-3"><a href="#cb56-3"></a><span class="kw">function</span> <span class="at">availableVacation</span>(anEmployee<span class="op">,</span> grade) <span class="op">{</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>  <span class="co">// calculate vacation...</span></span></code></pre></div>
<div class="sourceCode" id="cb57"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb57-1"><a href="#cb57-1"></a></span>
<span id="cb57-2"><a href="#cb57-2"></a><span class="at">availableVacation</span>(anEmployee)</span>
<span id="cb57-3"><a href="#cb57-3"></a></span>
<span id="cb57-4"><a href="#cb57-4"></a><span class="kw">function</span> <span class="at">availableVacation</span>(anEmployee) <span class="op">{</span></span>
<span id="cb57-5"><a href="#cb57-5"></a>  <span class="kw">const</span> grade <span class="op">=</span> <span class="va">anEmployee</span>.<span class="at">grade</span><span class="op">;</span></span>
<span id="cb57-6"><a href="#cb57-6"></a>  <span class="co">// calculate vacation...</span></span></code></pre></div>
</section>
<section id="replace-temp-with-query" class="level3">
<h3>Replace Temp with Query</h3>
<div class="sourceCode" id="cb58"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb58-1"><a href="#cb58-1"></a><span class="kw">const</span> basePrice <span class="op">=</span> <span class="kw">this</span>.<span class="at">_quantity</span> <span class="op">*</span> <span class="kw">this</span>.<span class="at">_itemPrice</span><span class="op">;</span></span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="cf">if</span> (basePrice <span class="op">&gt;</span> <span class="dv">1000</span>)</span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="cf">return</span> basePrice <span class="op">*</span> <span class="fl">0.95</span><span class="op">;</span></span>
<span id="cb58-4"><a href="#cb58-4"></a><span class="cf">else</span></span>
<span id="cb58-5"><a href="#cb58-5"></a>  <span class="cf">return</span> basePrice <span class="op">*</span> <span class="fl">0.98</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb59"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb59-1"><a href="#cb59-1"></a></span>
<span id="cb59-2"><a href="#cb59-2"></a>get <span class="at">basePrice</span>() <span class="op">{</span><span class="kw">this</span>.<span class="at">_quantity</span> <span class="op">*</span> <span class="kw">this</span>.<span class="at">_itemPrice</span><span class="op">;}</span></span>
<span id="cb59-3"><a href="#cb59-3"></a></span>
<span id="cb59-4"><a href="#cb59-4"></a>...</span>
<span id="cb59-5"><a href="#cb59-5"></a></span>
<span id="cb59-6"><a href="#cb59-6"></a><span class="cf">if</span> (<span class="kw">this</span>.<span class="at">basePrice</span> <span class="op">&gt;</span> <span class="dv">1000</span>)</span>
<span id="cb59-7"><a href="#cb59-7"></a>  <span class="cf">return</span> <span class="kw">this</span>.<span class="at">basePrice</span> <span class="op">*</span> <span class="fl">0.95</span><span class="op">;</span></span>
<span id="cb59-8"><a href="#cb59-8"></a><span class="cf">else</span></span>
<span id="cb59-9"><a href="#cb59-9"></a>  <span class="cf">return</span> <span class="kw">this</span>.<span class="at">basePrice</span> <span class="op">*</span> <span class="fl">0.98</span><span class="op">;</span></span></code></pre></div>
</section>
<section id="replace-type-code-with-subclasses" class="level3">
<h3>Replace Type Code with Subclasses</h3>
<div class="sourceCode" id="cb60"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb60-1"><a href="#cb60-1"></a><span class="kw">function</span> <span class="at">createEmployee</span>(name<span class="op">,</span> type) <span class="op">{</span></span>
<span id="cb60-2"><a href="#cb60-2"></a>  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Employee</span>(name<span class="op">,</span> type)<span class="op">;</span></span>
<span id="cb60-3"><a href="#cb60-3"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb61"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb61-1"><a href="#cb61-1"></a></span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="kw">function</span> <span class="at">createEmployee</span>(name<span class="op">,</span> type) <span class="op">{</span></span>
<span id="cb61-3"><a href="#cb61-3"></a>  <span class="cf">switch</span> (type) <span class="op">{</span></span>
<span id="cb61-4"><a href="#cb61-4"></a>    <span class="cf">case</span> <span class="st">&quot;engineer&quot;</span><span class="op">:</span> <span class="cf">return</span> <span class="kw">new</span> <span class="at">Engineer</span>(name)<span class="op">;</span></span>
<span id="cb61-5"><a href="#cb61-5"></a>    <span class="cf">case</span> <span class="st">&quot;salesman&quot;</span><span class="op">:</span> <span class="cf">return</span> <span class="kw">new</span> <span class="at">Salesman</span>(name)<span class="op">;</span></span>
<span id="cb61-6"><a href="#cb61-6"></a>    <span class="cf">case</span> <span class="st">&quot;manager&quot;</span><span class="op">:</span>  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Manager</span> (name)<span class="op">;</span></span>
<span id="cb61-7"><a href="#cb61-7"></a>  <span class="op">}</span></span></code></pre></div>
</section>
<section id="return-modified-value" class="level3">
<h3>Return Modified Value</h3>
<p>Of input</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb62-1"><a href="#cb62-1"></a><span class="kw">let</span> totalAscent <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="at">calculateAscent</span>()<span class="op">;</span></span>
<span id="cb62-3"><a href="#cb62-3"></a></span>
<span id="cb62-4"><a href="#cb62-4"></a><span class="kw">function</span> <span class="at">calculateAscent</span>() <span class="op">{</span></span>
<span id="cb62-5"><a href="#cb62-5"></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">points</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>    <span class="kw">const</span> verticalChange <span class="op">=</span> points[i].<span class="at">elevation</span> <span class="op">-</span> points[i<span class="dv">-1</span>].<span class="at">elevation</span><span class="op">;</span></span>
<span id="cb62-7"><a href="#cb62-7"></a>    totalAscent <span class="op">+=</span> (verticalChange <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">?</span> verticalChange : <span class="dv">0</span><span class="op">;</span></span>
<span id="cb62-8"><a href="#cb62-8"></a>  <span class="op">}</span></span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb63-1"><a href="#cb63-1"></a></span>
<span id="cb63-2"><a href="#cb63-2"></a><span class="kw">const</span> totalAscent <span class="op">=</span> <span class="at">calculateAscent</span>()<span class="op">;</span></span>
<span id="cb63-3"><a href="#cb63-3"></a></span>
<span id="cb63-4"><a href="#cb63-4"></a><span class="kw">function</span> <span class="at">calculateAscent</span>() <span class="op">{</span></span>
<span id="cb63-5"><a href="#cb63-5"></a>  <span class="kw">let</span> result <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb63-6"><a href="#cb63-6"></a>  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">points</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb63-7"><a href="#cb63-7"></a>    <span class="kw">const</span> verticalChange <span class="op">=</span> points[i].<span class="at">elevation</span> <span class="op">-</span> points[i<span class="dv">-1</span>].<span class="at">elevation</span><span class="op">;</span></span>
<span id="cb63-8"><a href="#cb63-8"></a>    result <span class="op">+=</span> (verticalChange <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">?</span> verticalChange : <span class="dv">0</span><span class="op">;</span></span>
<span id="cb63-9"><a href="#cb63-9"></a>  <span class="op">}</span></span>
<span id="cb63-10"><a href="#cb63-10"></a>  <span class="cf">return</span> result<span class="op">;</span></span>
<span id="cb63-11"><a href="#cb63-11"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="separate-query-from-modifier" class="level3">
<h3>Separate Query from Modifier</h3>
<div class="sourceCode" id="cb64"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb64-1"><a href="#cb64-1"></a><span class="kw">function</span> <span class="at">getTotalOutstandingAndSendBill</span>() <span class="op">{</span></span>
<span id="cb64-2"><a href="#cb64-2"></a>  <span class="kw">const</span> result <span class="op">=</span> <span class="va">customer</span>.<span class="va">invoices</span>.<span class="at">reduce</span>((total<span class="op">,</span> each) <span class="kw">=&gt;</span> <span class="va">each</span>.<span class="at">amount</span> <span class="op">+</span> total<span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb64-3"><a href="#cb64-3"></a>  <span class="at">sendBill</span>()<span class="op">;</span></span>
<span id="cb64-4"><a href="#cb64-4"></a>  <span class="cf">return</span> result<span class="op">;</span></span>
<span id="cb64-5"><a href="#cb64-5"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb65"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb65-1"><a href="#cb65-1"></a></span>
<span id="cb65-2"><a href="#cb65-2"></a><span class="kw">function</span> <span class="at">totalOutstanding</span>() <span class="op">{</span></span>
<span id="cb65-3"><a href="#cb65-3"></a>  <span class="cf">return</span> <span class="va">customer</span>.<span class="va">invoices</span>.<span class="at">reduce</span>((total<span class="op">,</span> each) <span class="kw">=&gt;</span> <span class="va">each</span>.<span class="at">amount</span> <span class="op">+</span> total<span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span>  </span>
<span id="cb65-4"><a href="#cb65-4"></a><span class="op">}</span></span>
<span id="cb65-5"><a href="#cb65-5"></a><span class="kw">function</span> <span class="at">sendBill</span>() <span class="op">{</span></span>
<span id="cb65-6"><a href="#cb65-6"></a>  <span class="va">emailGateway</span>.<span class="at">send</span>(<span class="at">formatBill</span>(customer))<span class="op">;</span></span>
<span id="cb65-7"><a href="#cb65-7"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="slide-statement" class="level3">
<h3>Slide statement</h3>
<p>Together, far from call</p>
<p>aliases Consolidate Duplicate Conditional Fragments</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb66-1"><a href="#cb66-1"></a><span class="kw">const</span> pricingPlan <span class="op">=</span> <span class="at">retrievePricingPlan</span>()<span class="op">;</span></span>
<span id="cb66-2"><a href="#cb66-2"></a><span class="kw">const</span> order <span class="op">=</span> <span class="at">retreiveOrder</span>()<span class="op">;</span></span>
<span id="cb66-3"><a href="#cb66-3"></a><span class="kw">let</span> charge<span class="op">;</span></span>
<span id="cb66-4"><a href="#cb66-4"></a><span class="kw">const</span> chargePerUnit <span class="op">=</span> <span class="va">pricingPlan</span>.<span class="at">unit</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb67"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb67-1"><a href="#cb67-1"></a></span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="kw">const</span> pricingPlan <span class="op">=</span> <span class="at">retrievePricingPlan</span>()<span class="op">;</span></span>
<span id="cb67-3"><a href="#cb67-3"></a><span class="kw">const</span> chargePerUnit <span class="op">=</span> <span class="va">pricingPlan</span>.<span class="at">unit</span><span class="op">;</span></span>
<span id="cb67-4"><a href="#cb67-4"></a><span class="kw">const</span> order <span class="op">=</span> <span class="at">retreiveOrder</span>()<span class="op">;</span></span>
<span id="cb67-5"><a href="#cb67-5"></a><span class="kw">let</span> charge<span class="op">;</span></span></code></pre></div>
</section>
<section id="split-loop" class="level3">
<h3>Split Loop</h3>
<p>Work with the ass little nesting level as possible -&gt; return from loop early</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb68-1"><a href="#cb68-1"></a><span class="kw">let</span> averageAge <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="kw">let</span> totalSalary <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb68-3"><a href="#cb68-3"></a><span class="cf">for</span> (<span class="kw">const</span> p <span class="kw">of</span> people) <span class="op">{</span></span>
<span id="cb68-4"><a href="#cb68-4"></a>  averageAge <span class="op">+=</span> <span class="va">p</span>.<span class="at">age</span><span class="op">;</span></span>
<span id="cb68-5"><a href="#cb68-5"></a>  totalSalary <span class="op">+=</span> <span class="va">p</span>.<span class="at">salary</span><span class="op">;</span></span>
<span id="cb68-6"><a href="#cb68-6"></a><span class="op">}</span></span>
<span id="cb68-7"><a href="#cb68-7"></a>averageAge <span class="op">=</span> averageAge <span class="op">/</span> <span class="va">people</span>.<span class="at">length</span><span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb69"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb69-1"><a href="#cb69-1"></a></span>
<span id="cb69-2"><a href="#cb69-2"></a><span class="kw">let</span> totalSalary <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb69-3"><a href="#cb69-3"></a><span class="cf">for</span> (<span class="kw">const</span> p <span class="kw">of</span> people) <span class="op">{</span></span>
<span id="cb69-4"><a href="#cb69-4"></a>  totalSalary <span class="op">+=</span> <span class="va">p</span>.<span class="at">salary</span><span class="op">;</span></span>
<span id="cb69-5"><a href="#cb69-5"></a><span class="op">}</span></span>
<span id="cb69-6"><a href="#cb69-6"></a></span>
<span id="cb69-7"><a href="#cb69-7"></a><span class="kw">let</span> averageAge <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb69-8"><a href="#cb69-8"></a><span class="cf">for</span> (<span class="kw">const</span> p <span class="kw">of</span> people) <span class="op">{</span></span>
<span id="cb69-9"><a href="#cb69-9"></a>  averageAge <span class="op">+=</span> <span class="va">p</span>.<span class="at">age</span><span class="op">;</span></span>
<span id="cb69-10"><a href="#cb69-10"></a><span class="op">}</span></span>
<span id="cb69-11"><a href="#cb69-11"></a>averageAge <span class="op">=</span> averageAge <span class="op">/</span> <span class="va">people</span>.<span class="at">length</span><span class="op">;</span></span></code></pre></div>
</section>
<section id="split-phase" class="level3">
<h3>Split Phase</h3>
<div class="sourceCode" id="cb70"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb70-1"><a href="#cb70-1"></a><span class="kw">const</span> orderData <span class="op">=</span> <span class="va">orderString</span>.<span class="at">split</span>(<span class="ss">/</span><span class="sc">\s+</span><span class="ss">/</span>)<span class="op">;</span></span>
<span id="cb70-2"><a href="#cb70-2"></a><span class="kw">const</span> productPrice <span class="op">=</span> priceList[orderData[<span class="dv">0</span>].<span class="at">split</span>(<span class="st">&quot;-&quot;</span>)[<span class="dv">1</span>]]<span class="op">;</span></span>
<span id="cb70-3"><a href="#cb70-3"></a><span class="kw">const</span> orderPrice <span class="op">=</span> <span class="at">parseInt</span>(orderData[<span class="dv">1</span>]) <span class="op">*</span> productPrice<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb71-1"><a href="#cb71-1"></a></span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="kw">const</span> orderRecord <span class="op">=</span> <span class="at">parseOrder</span>(order)<span class="op">;</span></span>
<span id="cb71-3"><a href="#cb71-3"></a><span class="kw">const</span> orderPrice <span class="op">=</span> <span class="at">price</span>(orderRecord<span class="op">,</span> priceList)<span class="op">;</span></span>
<span id="cb71-4"><a href="#cb71-4"></a></span>
<span id="cb71-5"><a href="#cb71-5"></a><span class="kw">function</span> <span class="at">parseOrder</span>(aString) <span class="op">{</span></span>
<span id="cb71-6"><a href="#cb71-6"></a>  <span class="kw">const</span> values <span class="op">=</span>  <span class="va">aString</span>.<span class="at">split</span>(<span class="ss">/</span><span class="sc">\s+</span><span class="ss">/</span>)<span class="op">;</span></span>
<span id="cb71-7"><a href="#cb71-7"></a>  <span class="cf">return</span> (<span class="op">{</span></span>
<span id="cb71-8"><a href="#cb71-8"></a>    <span class="dt">productID</span><span class="op">:</span> values[<span class="dv">0</span>].<span class="at">split</span>(<span class="st">&quot;-&quot;</span>)[<span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb71-9"><a href="#cb71-9"></a>    <span class="dt">quantity</span><span class="op">:</span> <span class="at">parseInt</span>(values[<span class="dv">1</span>])<span class="op">,</span></span>
<span id="cb71-10"><a href="#cb71-10"></a>  <span class="op">}</span>)<span class="op">;</span></span>
<span id="cb71-11"><a href="#cb71-11"></a><span class="op">}</span></span>
<span id="cb71-12"><a href="#cb71-12"></a><span class="kw">function</span> <span class="at">price</span>(order<span class="op">,</span> priceList) <span class="op">{</span></span>
<span id="cb71-13"><a href="#cb71-13"></a>  <span class="cf">return</span> <span class="va">order</span>.<span class="at">quantity</span> <span class="op">*</span> priceList[<span class="va">order</span>.<span class="at">productID</span>]<span class="op">;</span></span>
<span id="cb71-14"><a href="#cb71-14"></a><span class="op">}</span></span></code></pre></div>
</section>
<section id="split-variable" class="level3">
<h3>Split Variable</h3>
<div class="sourceCode" id="cb72"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb72-1"><a href="#cb72-1"></a><span class="kw">let</span> temp <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> (height <span class="op">+</span> width)<span class="op">;</span></span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="va">console</span>.<span class="at">log</span>(temp)<span class="op">;</span></span>
<span id="cb72-3"><a href="#cb72-3"></a>temp <span class="op">=</span> height <span class="op">*</span> width<span class="op">;</span></span>
<span id="cb72-4"><a href="#cb72-4"></a><span class="va">console</span>.<span class="at">log</span>(temp)<span class="op">;</span></span></code></pre></div>
<div class="sourceCode" id="cb73"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb73-1"><a href="#cb73-1"></a></span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="kw">const</span> perimeter <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> (height <span class="op">+</span> width)<span class="op">;</span></span>
<span id="cb73-3"><a href="#cb73-3"></a><span class="va">console</span>.<span class="at">log</span>(perimeter)<span class="op">;</span></span>
<span id="cb73-4"><a href="#cb73-4"></a><span class="kw">const</span> area <span class="op">=</span> height <span class="op">*</span> width<span class="op">;</span></span>
<span id="cb73-5"><a href="#cb73-5"></a><span class="va">console</span>.<span class="at">log</span>(area)<span class="op">;</span></span></code></pre></div>
</section>
<section id="substitute-algorithm" class="level3">
<h3>Substitute Algorithm</h3>
<div class="sourceCode" id="cb74"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb74-1"><a href="#cb74-1"></a><span class="kw">function</span> <span class="at">foundPerson</span>(people) <span class="op">{</span></span>
<span id="cb74-2"><a href="#cb74-2"></a>  <span class="cf">for</span>(<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="va">people</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></span>
<span id="cb74-3"><a href="#cb74-3"></a>    <span class="cf">if</span> (people[i] <span class="op">===</span> <span class="st">&quot;Don&quot;</span>) <span class="op">{</span></span>
<span id="cb74-4"><a href="#cb74-4"></a>      <span class="cf">return</span> <span class="st">&quot;Don&quot;</span><span class="op">;</span></span>
<span id="cb74-5"><a href="#cb74-5"></a>    <span class="op">}</span></span>
<span id="cb74-6"><a href="#cb74-6"></a>    <span class="cf">if</span> (people[i] <span class="op">===</span> <span class="st">&quot;John&quot;</span>) <span class="op">{</span></span>
<span id="cb74-7"><a href="#cb74-7"></a>      <span class="cf">return</span> <span class="st">&quot;John&quot;</span><span class="op">;</span></span>
<span id="cb74-8"><a href="#cb74-8"></a>    <span class="op">}</span></span>
<span id="cb74-9"><a href="#cb74-9"></a>    <span class="cf">if</span> (people[i] <span class="op">===</span> <span class="st">&quot;Kent&quot;</span>) <span class="op">{</span></span>
<span id="cb74-10"><a href="#cb74-10"></a>      <span class="cf">return</span> <span class="st">&quot;Kent&quot;</span><span class="op">;</span></span>
<span id="cb74-11"><a href="#cb74-11"></a>    <span class="op">}</span></span>
<span id="cb74-12"><a href="#cb74-12"></a>  <span class="op">}</span></span>
<span id="cb74-13"><a href="#cb74-13"></a>  <span class="cf">return</span> <span class="st">&quot;&quot;</span><span class="op">;</span></span>
<span id="cb74-14"><a href="#cb74-14"></a><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb75"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb75-1"><a href="#cb75-1"></a></span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="kw">function</span> <span class="at">foundPerson</span>(people) <span class="op">{</span></span>
<span id="cb75-3"><a href="#cb75-3"></a>  <span class="kw">const</span> candidates <span class="op">=</span> [<span class="st">&quot;Don&quot;</span><span class="op">,</span> <span class="st">&quot;John&quot;</span><span class="op">,</span> <span class="st">&quot;Kent&quot;</span>]<span class="op">;</span></span>
<span id="cb75-4"><a href="#cb75-4"></a>  <span class="cf">return</span> <span class="va">people</span>.<span class="at">find</span>(p <span class="kw">=&gt;</span> <span class="va">candidates</span>.<span class="at">includes</span>(p)) <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="op">;</span></span>
<span id="cb75-5"><a href="#cb75-5"></a><span class="op">}</span></span></code></pre></div>
</section>
</section>
</section>
</body>
</html>
